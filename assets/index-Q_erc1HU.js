(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(c){if(c.ep)return;c.ep=!0;const l=t(c);fetch(c.href,l)}})();var ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sv(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var tp={exports:{}},Yl={};var pb;function g3(){if(pb)return Yl;pb=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,c,l){var s=null;if(l!==void 0&&(s=""+l),c.key!==void 0&&(s=""+c.key),"key"in c){l={};for(var h in c)h!=="key"&&(l[h]=c[h])}else l=c;return c=l.ref,{$$typeof:m,type:i,key:s,ref:c!==void 0?c:null,props:l}}return Yl.Fragment=e,Yl.jsx=t,Yl.jsxs=t,Yl}var mb;function b3(){return mb||(mb=1,tp.exports=g3()),tp.exports}var Y=b3(),ep={exports:{}},Ye={};var gb;function y3(){if(gb)return Ye;gb=1;var m=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;function d(I){return I===null||typeof I!="object"?null:(I=f&&I[f]||I["@@iterator"],typeof I=="function"?I:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function w(I,B,K){this.props=I,this.context=B,this.refs=g,this.updater=K||y}w.prototype.isReactComponent={},w.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function _(){}_.prototype=w.prototype;function k(I,B,K){this.props=I,this.context=B,this.refs=g,this.updater=K||y}var M=k.prototype=new _;M.constructor=k,v(M,w.prototype),M.isPureReactComponent=!0;var L=Array.isArray;function G(){}var F={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function U(I,B,K){var Z=K.ref;return{$$typeof:m,type:I,key:B,ref:Z!==void 0?Z:null,props:K}}function q(I,B){return U(I.type,B,I.props)}function X(I){return typeof I=="object"&&I!==null&&I.$$typeof===m}function $(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(K){return B[K]})}var R=/\/+/g;function P(I,B){return typeof I=="object"&&I!==null&&I.key!=null?$(""+I.key):B.toString(36)}function C(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(G,G):(I.status="pending",I.then(function(B){I.status==="pending"&&(I.status="fulfilled",I.value=B)},function(B){I.status==="pending"&&(I.status="rejected",I.reason=B)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function x(I,B,K,Z,nt){var H=typeof I;(H==="undefined"||H==="boolean")&&(I=null);var tt=!1;if(I===null)tt=!0;else switch(H){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(I.$$typeof){case m:case e:tt=!0;break;case u:return tt=I._init,x(tt(I._payload),B,K,Z,nt)}}if(tt)return nt=nt(I),tt=Z===""?"."+P(I,0):Z,L(nt)?(K="",tt!=null&&(K=tt.replace(R,"$&/")+"/"),x(nt,B,K,"",function(Q){return Q})):nt!=null&&(X(nt)&&(nt=q(nt,K+(nt.key==null||I&&I.key===nt.key?"":(""+nt.key).replace(R,"$&/")+"/")+tt)),B.push(nt)),1;tt=0;var V=Z===""?".":Z+":";if(L(I))for(var D=0;D<I.length;D++)Z=I[D],H=V+P(Z,D),tt+=x(Z,B,K,H,nt);else if(D=d(I),typeof D=="function")for(I=D.call(I),D=0;!(Z=I.next()).done;)Z=Z.value,H=V+P(Z,D++),tt+=x(Z,B,K,H,nt);else if(H==="object"){if(typeof I.then=="function")return x(C(I),B,K,Z,nt);throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return tt}function S(I,B,K){if(I==null)return I;var Z=[],nt=0;return x(I,Z,"","",function(H){return B.call(K,H,nt++)}),Z}function T(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(K){(I._status===0||I._status===-1)&&(I._status=1,I._result=K)},function(K){(I._status===0||I._status===-1)&&(I._status=2,I._result=K)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var E=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},N={map:S,forEach:function(I,B,K){S(I,function(){B.apply(this,arguments)},K)},count:function(I){var B=0;return S(I,function(){B++}),B},toArray:function(I){return S(I,function(B){return B})||[]},only:function(I){if(!X(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ye.Activity=p,Ye.Children=N,Ye.Component=w,Ye.Fragment=t,Ye.Profiler=c,Ye.PureComponent=k,Ye.StrictMode=i,Ye.Suspense=a,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(I){return F.H.useMemoCache(I)}},Ye.cache=function(I){return function(){return I.apply(null,arguments)}},Ye.cacheSignal=function(){return null},Ye.cloneElement=function(I,B,K){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Z=v({},I.props),nt=I.key;if(B!=null)for(H in B.key!==void 0&&(nt=""+B.key),B)!j.call(B,H)||H==="key"||H==="__self"||H==="__source"||H==="ref"&&B.ref===void 0||(Z[H]=B[H]);var H=arguments.length-2;if(H===1)Z.children=K;else if(1<H){for(var tt=Array(H),V=0;V<H;V++)tt[V]=arguments[V+2];Z.children=tt}return U(I.type,nt,Z)},Ye.createContext=function(I){return I={$$typeof:s,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Ye.createElement=function(I,B,K){var Z,nt={},H=null;if(B!=null)for(Z in B.key!==void 0&&(H=""+B.key),B)j.call(B,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(nt[Z]=B[Z]);var tt=arguments.length-2;if(tt===1)nt.children=K;else if(1<tt){for(var V=Array(tt),D=0;D<tt;D++)V[D]=arguments[D+2];nt.children=V}if(I&&I.defaultProps)for(Z in tt=I.defaultProps,tt)nt[Z]===void 0&&(nt[Z]=tt[Z]);return U(I,H,nt)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(I){return{$$typeof:h,render:I}},Ye.isValidElement=X,Ye.lazy=function(I){return{$$typeof:u,_payload:{_status:-1,_result:I},_init:T}},Ye.memo=function(I,B){return{$$typeof:n,type:I,compare:B===void 0?null:B}},Ye.startTransition=function(I){var B=F.T,K={};F.T=K;try{var Z=I(),nt=F.S;nt!==null&&nt(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(G,E)}catch(H){E(H)}finally{B!==null&&K.types!==null&&(B.types=K.types),F.T=B}},Ye.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ye.use=function(I){return F.H.use(I)},Ye.useActionState=function(I,B,K){return F.H.useActionState(I,B,K)},Ye.useCallback=function(I,B){return F.H.useCallback(I,B)},Ye.useContext=function(I){return F.H.useContext(I)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(I,B){return F.H.useDeferredValue(I,B)},Ye.useEffect=function(I,B){return F.H.useEffect(I,B)},Ye.useEffectEvent=function(I){return F.H.useEffectEvent(I)},Ye.useId=function(){return F.H.useId()},Ye.useImperativeHandle=function(I,B,K){return F.H.useImperativeHandle(I,B,K)},Ye.useInsertionEffect=function(I,B){return F.H.useInsertionEffect(I,B)},Ye.useLayoutEffect=function(I,B){return F.H.useLayoutEffect(I,B)},Ye.useMemo=function(I,B){return F.H.useMemo(I,B)},Ye.useOptimistic=function(I,B){return F.H.useOptimistic(I,B)},Ye.useReducer=function(I,B,K){return F.H.useReducer(I,B,K)},Ye.useRef=function(I){return F.H.useRef(I)},Ye.useState=function(I){return F.H.useState(I)},Ye.useSyncExternalStore=function(I,B,K){return F.H.useSyncExternalStore(I,B,K)},Ye.useTransition=function(){return F.H.useTransition()},Ye.version="19.2.4",Ye}var bb;function Yp(){return bb||(bb=1,ep.exports=y3()),ep.exports}var Mt=Yp();const v3=sv(Mt);var rp={exports:{}},Kl={},np={exports:{}},ip={};var yb;function w3(){return yb||(yb=1,(function(m){function e(x,S){var T=x.length;x.push(S);t:for(;0<T;){var E=T-1>>>1,N=x[E];if(0<c(N,S))x[E]=S,x[T]=N,T=E;else break t}}function t(x){return x.length===0?null:x[0]}function i(x){if(x.length===0)return null;var S=x[0],T=x.pop();if(T!==S){x[0]=T;t:for(var E=0,N=x.length,I=N>>>1;E<I;){var B=2*(E+1)-1,K=x[B],Z=B+1,nt=x[Z];if(0>c(K,T))Z<N&&0>c(nt,K)?(x[E]=nt,x[Z]=T,E=Z):(x[E]=K,x[B]=T,E=B);else if(Z<N&&0>c(nt,T))x[E]=nt,x[Z]=T,E=Z;else break t}}return S}function c(x,S){var T=x.sortIndex-S.sortIndex;return T!==0?T:x.id-S.id}if(m.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;m.unstable_now=function(){return l.now()}}else{var s=Date,h=s.now();m.unstable_now=function(){return s.now()-h}}var a=[],n=[],u=1,p=null,f=3,d=!1,y=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(x){for(var S=t(n);S!==null;){if(S.callback===null)i(n);else if(S.startTime<=x)i(n),S.sortIndex=S.expirationTime,e(a,S);else break;S=t(n)}}function L(x){if(v=!1,M(x),!y)if(t(a)!==null)y=!0,G||(G=!0,$());else{var S=t(n);S!==null&&C(L,S.startTime-x)}}var G=!1,F=-1,j=5,U=-1;function q(){return g?!0:!(m.unstable_now()-U<j)}function X(){if(g=!1,G){var x=m.unstable_now();U=x;var S=!0;try{t:{y=!1,v&&(v=!1,_(F),F=-1),d=!0;var T=f;try{e:{for(M(x),p=t(a);p!==null&&!(p.expirationTime>x&&q());){var E=p.callback;if(typeof E=="function"){p.callback=null,f=p.priorityLevel;var N=E(p.expirationTime<=x);if(x=m.unstable_now(),typeof N=="function"){p.callback=N,M(x),S=!0;break e}p===t(a)&&i(a),M(x)}else i(a);p=t(a)}if(p!==null)S=!0;else{var I=t(n);I!==null&&C(L,I.startTime-x),S=!1}}break t}finally{p=null,f=T,d=!1}S=void 0}}finally{S?$():G=!1}}}var $;if(typeof k=="function")$=function(){k(X)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,P=R.port2;R.port1.onmessage=X,$=function(){P.postMessage(null)}}else $=function(){w(X,0)};function C(x,S){F=w(function(){x(m.unstable_now())},S)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(x){x.callback=null},m.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<x?Math.floor(1e3/x):5},m.unstable_getCurrentPriorityLevel=function(){return f},m.unstable_next=function(x){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var T=f;f=S;try{return x()}finally{f=T}},m.unstable_requestPaint=function(){g=!0},m.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var T=f;f=x;try{return S()}finally{f=T}},m.unstable_scheduleCallback=function(x,S,T){var E=m.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?E+T:E):T=E,x){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=T+N,x={id:u++,callback:S,priorityLevel:x,startTime:T,expirationTime:N,sortIndex:-1},T>E?(x.sortIndex=T,e(n,x),t(a)===null&&x===t(n)&&(v?(_(F),F=-1):v=!0,C(L,T-E))):(x.sortIndex=N,e(a,x),y||d||(y=!0,G||(G=!0,$()))),x},m.unstable_shouldYield=q,m.unstable_wrapCallback=function(x){var S=f;return function(){var T=f;f=S;try{return x.apply(this,arguments)}finally{f=T}}}})(ip)),ip}var vb;function _3(){return vb||(vb=1,np.exports=w3()),np.exports}var sp={exports:{}},wn={};var wb;function x3(){if(wb)return wn;wb=1;var m=Yp();function e(a){var n="https://react.dev/errors/"+a;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)n+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},c=Symbol.for("react.portal");function l(a,n,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:p==null?null:""+p,children:a,containerInfo:n,implementation:u}}var s=m.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(a,n){if(a==="font")return"";if(typeof n=="string")return n==="use-credentials"?n:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wn.createPortal=function(a,n){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)throw Error(e(299));return l(a,n,null,u)},wn.flushSync=function(a){var n=s.T,u=i.p;try{if(s.T=null,i.p=2,a)return a()}finally{s.T=n,i.p=u,i.d.f()}},wn.preconnect=function(a,n){typeof a=="string"&&(n?(n=n.crossOrigin,n=typeof n=="string"?n==="use-credentials"?n:"":void 0):n=null,i.d.C(a,n))},wn.prefetchDNS=function(a){typeof a=="string"&&i.d.D(a)},wn.preinit=function(a,n){if(typeof a=="string"&&n&&typeof n.as=="string"){var u=n.as,p=h(u,n.crossOrigin),f=typeof n.integrity=="string"?n.integrity:void 0,d=typeof n.fetchPriority=="string"?n.fetchPriority:void 0;u==="style"?i.d.S(a,typeof n.precedence=="string"?n.precedence:void 0,{crossOrigin:p,integrity:f,fetchPriority:d}):u==="script"&&i.d.X(a,{crossOrigin:p,integrity:f,fetchPriority:d,nonce:typeof n.nonce=="string"?n.nonce:void 0})}},wn.preinitModule=function(a,n){if(typeof a=="string")if(typeof n=="object"&&n!==null){if(n.as==null||n.as==="script"){var u=h(n.as,n.crossOrigin);i.d.M(a,{crossOrigin:u,integrity:typeof n.integrity=="string"?n.integrity:void 0,nonce:typeof n.nonce=="string"?n.nonce:void 0})}}else n==null&&i.d.M(a)},wn.preload=function(a,n){if(typeof a=="string"&&typeof n=="object"&&n!==null&&typeof n.as=="string"){var u=n.as,p=h(u,n.crossOrigin);i.d.L(a,u,{crossOrigin:p,integrity:typeof n.integrity=="string"?n.integrity:void 0,nonce:typeof n.nonce=="string"?n.nonce:void 0,type:typeof n.type=="string"?n.type:void 0,fetchPriority:typeof n.fetchPriority=="string"?n.fetchPriority:void 0,referrerPolicy:typeof n.referrerPolicy=="string"?n.referrerPolicy:void 0,imageSrcSet:typeof n.imageSrcSet=="string"?n.imageSrcSet:void 0,imageSizes:typeof n.imageSizes=="string"?n.imageSizes:void 0,media:typeof n.media=="string"?n.media:void 0})}},wn.preloadModule=function(a,n){if(typeof a=="string")if(n){var u=h(n.as,n.crossOrigin);i.d.m(a,{as:typeof n.as=="string"&&n.as!=="script"?n.as:void 0,crossOrigin:u,integrity:typeof n.integrity=="string"?n.integrity:void 0})}else i.d.m(a)},wn.requestFormReset=function(a){i.d.r(a)},wn.unstable_batchedUpdates=function(a,n){return a(n)},wn.useFormState=function(a,n,u){return s.H.useFormState(a,n,u)},wn.useFormStatus=function(){return s.H.useHostTransitionStatus()},wn.version="19.2.4",wn}var _b;function S3(){if(_b)return sp.exports;_b=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),sp.exports=x3(),sp.exports}var xb;function T3(){if(xb)return Kl;xb=1;var m=_3(),e=Yp(),t=S3();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)o+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var o=r,b=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(b=o.return),r=o.return;while(r)}return o.tag===3?b:null}function s(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function h(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function a(r){if(l(r)!==r)throw Error(i(188))}function n(r){var o=r.alternate;if(!o){if(o=l(r),o===null)throw Error(i(188));return o!==r?null:r}for(var b=r,A=o;;){var z=b.return;if(z===null)break;var W=z.alternate;if(W===null){if(A=z.return,A!==null){b=A;continue}break}if(z.child===W.child){for(W=z.child;W;){if(W===b)return a(z),r;if(W===A)return a(z),o;W=W.sibling}throw Error(i(188))}if(b.return!==A.return)b=z,A=W;else{for(var et=!1,lt=z.child;lt;){if(lt===b){et=!0,b=z,A=W;break}if(lt===A){et=!0,A=z,b=W;break}lt=lt.sibling}if(!et){for(lt=W.child;lt;){if(lt===b){et=!0,b=W,A=z;break}if(lt===A){et=!0,A=W,b=z;break}lt=lt.sibling}if(!et)throw Error(i(189))}}if(b.alternate!==A)throw Error(i(190))}if(b.tag!==3)throw Error(i(188));return b.stateNode.current===b?r:o}function u(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=u(r),o!==null)return o;r=r.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function $(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function P(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case v:return"Fragment";case w:return"Profiler";case g:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList";case U:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case k:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case M:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return o=r.displayName||null,o!==null?o:P(r.type)||"Memo";case j:o=r._payload,r=r._init;try{return P(r(o))}catch{}}return null}var C=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},E=[],N=-1;function I(r){return{current:r}}function B(r){0>N||(r.current=E[N],E[N]=null,N--)}function K(r,o){N++,E[N]=r.current,r.current=o}var Z=I(null),nt=I(null),H=I(null),tt=I(null);function V(r,o){switch(K(H,o),K(nt,r),K(Z,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?L1(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=L1(o),r=B1(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}B(Z),K(Z,r)}function D(){B(Z),B(nt),B(H)}function Q(r){r.memoizedState!==null&&K(tt,r);var o=Z.current,b=B1(o,r.type);o!==b&&(K(nt,r),K(Z,b))}function it(r){nt.current===r&&(B(Z),B(nt)),tt.current===r&&(B(tt),$l._currentValue=T)}var ht,st;function ut(r){if(ht===void 0)try{throw Error()}catch(b){var o=b.stack.trim().match(/\n( *(at )?)/);ht=o&&o[1]||"",st=-1<b.stack.indexOf(`
    at`)?" (<anonymous>)":-1<b.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+r+st}var yt=!1;function bt(r,o){if(!r||yt)return"";yt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(o){var Wt=function(){throw Error()};if(Object.defineProperty(Wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Wt,[])}catch(Bt){var Ot=Bt}Reflect.construct(r,[],Wt)}else{try{Wt.call()}catch(Bt){Ot=Bt}r.call(Wt.prototype)}}else{try{throw Error()}catch(Bt){Ot=Bt}(Wt=r())&&typeof Wt.catch=="function"&&Wt.catch(function(){})}}catch(Bt){if(Bt&&Ot&&typeof Bt.stack=="string")return[Bt.stack,Ot.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var W=A.DetermineComponentFrameRoot(),et=W[0],lt=W[1];if(et&&lt){var mt=et.split(`
`),Rt=lt.split(`
`);for(z=A=0;A<mt.length&&!mt[A].includes("DetermineComponentFrameRoot");)A++;for(;z<Rt.length&&!Rt[z].includes("DetermineComponentFrameRoot");)z++;if(A===mt.length||z===Rt.length)for(A=mt.length-1,z=Rt.length-1;1<=A&&0<=z&&mt[A]!==Rt[z];)z--;for(;1<=A&&0<=z;A--,z--)if(mt[A]!==Rt[z]){if(A!==1||z!==1)do if(A--,z--,0>z||mt[A]!==Rt[z]){var Vt=`
`+mt[A].replace(" at new "," at ");return r.displayName&&Vt.includes("<anonymous>")&&(Vt=Vt.replace("<anonymous>",r.displayName)),Vt}while(1<=A&&0<=z);break}}}finally{yt=!1,Error.prepareStackTrace=b}return(b=r?r.displayName||r.name:"")?ut(b):""}function at(r,o){switch(r.tag){case 26:case 27:case 5:return ut(r.type);case 16:return ut("Lazy");case 13:return r.child!==o&&o!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return bt(r.type,!1);case 11:return bt(r.type.render,!1);case 1:return bt(r.type,!0);case 31:return ut("Activity");default:return""}}function pt(r){try{var o="",b=null;do o+=at(r,b),b=r,r=r.return;while(r);return o}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}var dt=Object.prototype.hasOwnProperty,vt=m.unstable_scheduleCallback,xt=m.unstable_cancelCallback,Et=m.unstable_shouldYield,It=m.unstable_requestPaint,Nt=m.unstable_now,$t=m.unstable_getCurrentPriorityLevel,se=m.unstable_ImmediatePriority,re=m.unstable_UserBlockingPriority,Zt=m.unstable_NormalPriority,te=m.unstable_LowPriority,we=m.unstable_IdlePriority,_e=m.log,Se=m.unstable_setDisableYieldValue,ee=null,Ft=null;function ie(r){if(typeof _e=="function"&&Se(r),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(ee,r)}catch{}}var ae=Math.clz32?Math.clz32:Fe,he=Math.log,Le=Math.LN2;function Fe(r){return r>>>=0,r===0?32:31-(he(r)/Le|0)|0}var ge=256,Ge=262144,Ee=4194304;function Ae(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Qe(r,o,b){var A=r.pendingLanes;if(A===0)return 0;var z=0,W=r.suspendedLanes,et=r.pingedLanes;r=r.warmLanes;var lt=A&134217727;return lt!==0?(A=lt&~W,A!==0?z=Ae(A):(et&=lt,et!==0?z=Ae(et):b||(b=lt&~r,b!==0&&(z=Ae(b))))):(lt=A&~W,lt!==0?z=Ae(lt):et!==0?z=Ae(et):b||(b=A&~r,b!==0&&(z=Ae(b)))),z===0?0:o!==0&&o!==z&&(o&W)===0&&(W=z&-z,b=o&-o,W>=b||W===32&&(b&4194048)!==0)?o:z}function Be(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function ke(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qe(){var r=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),r}function He(r){for(var o=[],b=0;31>b;b++)o.push(r);return o}function xe(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Xe(r,o,b,A,z,W){var et=r.pendingLanes;r.pendingLanes=b,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=b,r.entangledLanes&=b,r.errorRecoveryDisabledLanes&=b,r.shellSuspendCounter=0;var lt=r.entanglements,mt=r.expirationTimes,Rt=r.hiddenUpdates;for(b=et&~b;0<b;){var Vt=31-ae(b),Wt=1<<Vt;lt[Vt]=0,mt[Vt]=-1;var Ot=Rt[Vt];if(Ot!==null)for(Rt[Vt]=null,Vt=0;Vt<Ot.length;Vt++){var Bt=Ot[Vt];Bt!==null&&(Bt.lane&=-536870913)}b&=~Wt}A!==0&&Je(r,A,0),W!==0&&z===0&&r.tag!==0&&(r.suspendedLanes|=W&~(et&~o))}function Je(r,o,b){r.pendingLanes|=o,r.suspendedLanes&=~o;var A=31-ae(o);r.entangledLanes|=o,r.entanglements[A]=r.entanglements[A]|1073741824|b&261930}function Oe(r,o){var b=r.entangledLanes|=o;for(r=r.entanglements;b;){var A=31-ae(b),z=1<<A;z&o|r[A]&o&&(r[A]|=o),b&=~z}}function gt(r,o){var b=o&-o;return b=(b&42)!==0?1:Tt(b),(b&(r.suspendedLanes|o))!==0?0:b}function Tt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Pt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ne(){var r=S.p;return r!==0?r:(r=window.event,r===void 0?32:ob(r.type))}function ye(r,o){var b=S.p;try{return S.p=r,o()}finally{S.p=b}}var Jt=Math.random().toString(36).slice(2),fe="__reactFiber$"+Jt,oe="__reactProps$"+Jt,ce="__reactContainer$"+Jt,Me="__reactEvents$"+Jt,Ie="__reactListeners$"+Jt,Ve="__reactHandles$"+Jt,yr="__reactResources$"+Jt,Ze="__reactMarker$"+Jt;function zt(r){delete r[fe],delete r[oe],delete r[Me],delete r[Ie],delete r[Ve]}function de(r){var o=r[fe];if(o)return o;for(var b=r.parentNode;b;){if(o=b[ce]||b[fe]){if(b=o.alternate,o.child!==null||b!==null&&b.child!==null)for(r=$1(r);r!==null;){if(b=r[fe])return b;r=$1(r)}return o}r=b,b=r.parentNode}return null}function Re(r){if(r=r[fe]||r[ce]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function ct(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function St(r){var o=r[yr];return o||(o=r[yr]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Lt(r){r[Ze]=!0}var Kt=new Set,pe={};function ot(r,o){wt(r,o),wt(r+"Capture",o)}function wt(r,o){for(pe[r]=o,r=0;r<o.length;r++)Kt.add(o[r])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xt={},Ut={};function Gt(r){return dt.call(Ut,r)?!0:dt.call(Xt,r)?!1:jt.test(r)?Ut[r]=!0:(Xt[r]=!0,!1)}function le(r,o,b){if(Gt(o))if(b===null)r.removeAttribute(o);else{switch(typeof b){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var A=o.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+b)}}function Qt(r,o,b){if(b===null)r.removeAttribute(o);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+b)}}function be(r,o,b,A){if(A===null)r.removeAttribute(b);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(b);return}r.setAttributeNS(o,b,""+A)}}function Ne(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xr(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Br(r,o,b){var A=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var z=A.get,W=A.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return z.call(this)},set:function(et){b=""+et,W.call(this,et)}}),Object.defineProperty(r,o,{enumerable:A.enumerable}),{getValue:function(){return b},setValue:function(et){b=""+et},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function $e(r){if(!r._valueTracker){var o=xr(r)?"checked":"value";r._valueTracker=Br(r,o,""+r[o])}}function an(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var b=o.getValue(),A="";return r&&(A=xr(r)?r.checked?"true":"false":r.value),r=A,r!==b?(o.setValue(r),!0):!1}function un(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Mn=/[\n"\\]/g;function qr(r){return r.replace(Mn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function ar(r,o,b,A,z,W,et,lt){r.name="",et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?r.type=et:r.removeAttribute("type"),o!=null?et==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Ne(o)):r.value!==""+Ne(o)&&(r.value=""+Ne(o)):et!=="submit"&&et!=="reset"||r.removeAttribute("value"),o!=null?Nn(r,et,Ne(o)):b!=null?Nn(r,et,Ne(b)):A!=null&&r.removeAttribute("value"),z==null&&W!=null&&(r.defaultChecked=!!W),z!=null&&(r.checked=z&&typeof z!="function"&&typeof z!="symbol"),lt!=null&&typeof lt!="function"&&typeof lt!="symbol"&&typeof lt!="boolean"?r.name=""+Ne(lt):r.removeAttribute("name")}function sr(r,o,b,A,z,W,et,lt){if(W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"&&(r.type=W),o!=null||b!=null){if(!(W!=="submit"&&W!=="reset"||o!=null)){$e(r);return}b=b!=null?""+Ne(b):"",o=o!=null?""+Ne(o):b,lt||o===r.value||(r.value=o),r.defaultValue=o}A=A??z,A=typeof A!="function"&&typeof A!="symbol"&&!!A,r.checked=lt?r.checked:!!A,r.defaultChecked=!!A,et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"&&(r.name=et),$e(r)}function Nn(r,o,b){o==="number"&&un(r.ownerDocument)===r||r.defaultValue===""+b||(r.defaultValue=""+b)}function vn(r,o,b,A){if(r=r.options,o){o={};for(var z=0;z<b.length;z++)o["$"+b[z]]=!0;for(b=0;b<r.length;b++)z=o.hasOwnProperty("$"+r[b].value),r[b].selected!==z&&(r[b].selected=z),z&&A&&(r[b].defaultSelected=!0)}else{for(b=""+Ne(b),o=null,z=0;z<r.length;z++){if(r[z].value===b){r[z].selected=!0,A&&(r[z].defaultSelected=!0);return}o!==null||r[z].disabled||(o=r[z])}o!==null&&(o.selected=!0)}}function Wi(r,o,b){if(o!=null&&(o=""+Ne(o),o!==r.value&&(r.value=o),b==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=b!=null?""+Ne(b):""}function zr(r,o,b,A){if(o==null){if(A!=null){if(b!=null)throw Error(i(92));if(C(A)){if(1<A.length)throw Error(i(93));A=A[0]}b=A}b==null&&(b=""),o=b}b=Ne(o),r.defaultValue=b,A=r.textContent,A===b&&A!==""&&A!==null&&(r.value=A),$e(r)}function Dr(r,o){if(o){var b=r.firstChild;if(b&&b===r.lastChild&&b.nodeType===3){b.nodeValue=o;return}}r.textContent=o}var zn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function di(r,o,b){var A=o.indexOf("--")===0;b==null||typeof b=="boolean"||b===""?A?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":A?r.setProperty(o,b):typeof b!="number"||b===0||zn.has(o)?o==="float"?r.cssFloat=b:r[o]=(""+b).trim():r[o]=b+"px"}function Ri(r,o,b){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,b!=null){for(var A in b)!b.hasOwnProperty(A)||o!=null&&o.hasOwnProperty(A)||(A.indexOf("--")===0?r.setProperty(A,""):A==="float"?r.cssFloat="":r[A]="");for(var z in o)A=o[z],o.hasOwnProperty(z)&&b[z]!==A&&di(r,z,A)}else for(var W in o)o.hasOwnProperty(W)&&di(r,W,o[W])}function Un(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(r){return pi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function An(){}var Mi=null;function cn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gi=null,kn=null;function Zn(r){var o=Re(r);if(o&&(r=o.stateNode)){var b=r[oe]||null;t:switch(r=o.stateNode,o.type){case"input":if(ar(r,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name),o=b.name,b.type==="radio"&&o!=null){for(b=r;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll('input[name="'+qr(""+o)+'"][type="radio"]'),o=0;o<b.length;o++){var A=b[o];if(A!==r&&A.form===r.form){var z=A[oe]||null;if(!z)throw Error(i(90));ar(A,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(o=0;o<b.length;o++)A=b[o],A.form===r.form&&an(A)}break t;case"textarea":Wi(r,b.value,b.defaultValue);break t;case"select":o=b.value,o!=null&&vn(r,!!b.multiple,o,!1)}}}var ro=!1;function Ts(r,o,b){if(ro)return r(o,b);ro=!0;try{var A=r(o);return A}finally{if(ro=!1,(gi!==null||kn!==null)&&(Rc(),gi&&(o=gi,r=kn,kn=gi=null,Zn(o),r)))for(o=0;o<r.length;o++)Zn(r[o])}}function bi(r,o){var b=r.stateNode;if(b===null)return null;var A=b[oe]||null;if(A===null)return null;b=A[o];t:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(r=r.type,A=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!A;break t;default:r=!1}if(r)return null;if(b&&typeof b!="function")throw Error(i(231,o,typeof b));return b}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=!1;if(Jn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){va=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{va=!1}var Ni=null,ll=null,wa=null;function ul(){if(wa)return wa;var r,o=ll,b=o.length,A,z="value"in Ni?Ni.value:Ni.textContent,W=z.length;for(r=0;r<b&&o[r]===z[r];r++);var et=b-r;for(A=1;A<=et&&o[b-A]===z[W-A];A++);return wa=z.slice(r,1<A?1-A:void 0)}function _a(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Xi(){return!0}function yi(){return!1}function hn(r){function o(b,A,z,W,et){this._reactName=b,this._targetInst=z,this.type=A,this.nativeEvent=W,this.target=et,this.currentTarget=null;for(var lt in r)r.hasOwnProperty(lt)&&(b=r[lt],this[lt]=b?b(W):W[lt]);return this.isDefaultPrevented=(W.defaultPrevented!=null?W.defaultPrevented:W.returnValue===!1)?Xi:yi,this.isPropagationStopped=yi,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),o}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=hn(Yi),Es=p({},Yi,{view:0,detail:0}),cl=hn(Es),As,no,Oi,io=p({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Oi&&(Oi&&r.type==="mousemove"?(As=r.screenX-Oi.screenX,no=r.screenY-Oi.screenY):no=As=0,Oi=r),As)},movementY:function(r){return"movementY"in r?r.movementY:no}}),hl=hn(io),xa=p({},io,{dataTransfer:0}),Lu=hn(xa),Bu=p({},Es,{relatedTarget:0}),Sa=hn(Bu),fl=p({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),Vu=hn(fl),so=p({},Yi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),zu=hn(so),Uu=p({},Yi,{data:0}),ji=hn(Uu),Fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=qu[r])?!!o[r]:!1}function ks(){return $u}var Cn=p({},Es,{key:function(r){if(r.key){var o=Fu[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=_a(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(r){return r.type==="keypress"?_a(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_a(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Gu=hn(Cn),Wu=p({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=hn(Wu),O=p({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),J=hn(O),rt=p({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ft=hn(rt),kt=p({},io,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Dt=hn(kt),ue=p({},Yi,{newState:0,oldState:0}),tr=hn(ue),$r=[9,13,27,32],vr=Jn&&"CompositionEvent"in window,Pr=null;Jn&&"documentMode"in document&&(Pr=document.documentMode);var ti=Jn&&"TextEvent"in window&&!Pr,Di=Jn&&(!vr||Pr&&8<Pr&&11>=Pr),vi=" ",wi=!1;function Ta(r,o){switch(r){case"keyup":return $r.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ao(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var oo=!1;function zw(r,o){switch(r){case"compositionend":return ao(o);case"keypress":return o.which!==32?null:(wi=!0,vi);case"textInput":return r=o.data,r===vi&&wi?null:r;default:return null}}function Uw(r,o){if(oo)return r==="compositionend"||!vr&&Ta(r,o)?(r=ul(),wa=ll=Ni=null,oo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Di&&o.locale!=="ko"?null:o.data;default:return null}}var Fw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xm(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Fw[r.type]:o==="textarea"}function Ym(r,o,b,A){gi?kn?kn.push(A):kn=[A]:gi=A,o=Pc(o,"onChange"),0<o.length&&(b=new Ii("onChange","change",null,b,A),r.push({event:b,listeners:o}))}var dl=null,pl=null;function Hw(r){N1(r,0)}function Xu(r){var o=ct(r);if(an(o))return r}function Km(r,o){if(r==="change")return o}var Qm=!1;if(Jn){var of;if(Jn){var lf="oninput"in document;if(!lf){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),lf=typeof Zm.oninput=="function"}of=lf}else of=!1;Qm=of&&(!document.documentMode||9<document.documentMode)}function Jm(){dl&&(dl.detachEvent("onpropertychange",t0),pl=dl=null)}function t0(r){if(r.propertyName==="value"&&Xu(pl)){var o=[];Ym(o,pl,r,cn(r)),Ts(Hw,o)}}function qw(r,o,b){r==="focusin"?(Jm(),dl=o,pl=b,dl.attachEvent("onpropertychange",t0)):r==="focusout"&&Jm()}function $w(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xu(pl)}function Gw(r,o){if(r==="click")return Xu(o)}function Ww(r,o){if(r==="input"||r==="change")return Xu(o)}function Xw(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Hn=typeof Object.is=="function"?Object.is:Xw;function ml(r,o){if(Hn(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var b=Object.keys(r),A=Object.keys(o);if(b.length!==A.length)return!1;for(A=0;A<b.length;A++){var z=b[A];if(!dt.call(o,z)||!Hn(r[z],o[z]))return!1}return!0}function e0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function r0(r,o){var b=e0(r);r=0;for(var A;b;){if(b.nodeType===3){if(A=r+b.textContent.length,r<=o&&A>=o)return{node:b,offset:o-r};r=A}t:{for(;b;){if(b.nextSibling){b=b.nextSibling;break t}b=b.parentNode}b=void 0}b=e0(b)}}function n0(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?n0(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function i0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=un(r.document);o instanceof r.HTMLIFrameElement;){try{var b=typeof o.contentWindow.location.href=="string"}catch{b=!1}if(b)r=o.contentWindow;else break;o=un(r.document)}return o}function uf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var Yw=Jn&&"documentMode"in document&&11>=document.documentMode,lo=null,cf=null,gl=null,hf=!1;function s0(r,o,b){var A=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;hf||lo==null||lo!==un(A)||(A=lo,"selectionStart"in A&&uf(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),gl&&ml(gl,A)||(gl=A,A=Pc(cf,"onSelect"),0<A.length&&(o=new Ii("onSelect","select",null,o,b),r.push({event:o,listeners:A}),o.target=lo)))}function Ea(r,o){var b={};return b[r.toLowerCase()]=o.toLowerCase(),b["Webkit"+r]="webkit"+o,b["Moz"+r]="moz"+o,b}var uo={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},ff={},a0={};Jn&&(a0=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Aa(r){if(ff[r])return ff[r];if(!uo[r])return r;var o=uo[r],b;for(b in o)if(o.hasOwnProperty(b)&&b in a0)return ff[r]=o[b];return r}var o0=Aa("animationend"),l0=Aa("animationiteration"),u0=Aa("animationstart"),Kw=Aa("transitionrun"),Qw=Aa("transitionstart"),Zw=Aa("transitioncancel"),c0=Aa("transitionend"),h0=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function _i(r,o){h0.set(r,o),ot(o,[r])}var Yu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ei=[],co=0,pf=0;function Ku(){for(var r=co,o=pf=co=0;o<r;){var b=ei[o];ei[o++]=null;var A=ei[o];ei[o++]=null;var z=ei[o];ei[o++]=null;var W=ei[o];if(ei[o++]=null,A!==null&&z!==null){var et=A.pending;et===null?z.next=z:(z.next=et.next,et.next=z),A.pending=z}W!==0&&f0(b,z,W)}}function Qu(r,o,b,A){ei[co++]=r,ei[co++]=o,ei[co++]=b,ei[co++]=A,pf|=A,r.lanes|=A,r=r.alternate,r!==null&&(r.lanes|=A)}function mf(r,o,b,A){return Qu(r,o,b,A),Zu(r)}function ka(r,o){return Qu(r,null,null,o),Zu(r)}function f0(r,o,b){r.lanes|=b;var A=r.alternate;A!==null&&(A.lanes|=b);for(var z=!1,W=r.return;W!==null;)W.childLanes|=b,A=W.alternate,A!==null&&(A.childLanes|=b),W.tag===22&&(r=W.stateNode,r===null||r._visibility&1||(z=!0)),r=W,W=W.return;return r.tag===3?(W=r.stateNode,z&&o!==null&&(z=31-ae(b),r=W.hiddenUpdates,A=r[z],A===null?r[z]=[o]:A.push(o),o.lane=b|536870912),W):null}function Zu(r){if(50<Bl)throw Bl=0,Td=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var ho={};function Jw(r,o,b,A){this.tag=r,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(r,o,b,A){return new Jw(r,o,b,A)}function gf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Qi(r,o){var b=r.alternate;return b===null?(b=qn(r.tag,o,r.key,r.mode),b.elementType=r.elementType,b.type=r.type,b.stateNode=r.stateNode,b.alternate=r,r.alternate=b):(b.pendingProps=o,b.type=r.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=r.flags&65011712,b.childLanes=r.childLanes,b.lanes=r.lanes,b.child=r.child,b.memoizedProps=r.memoizedProps,b.memoizedState=r.memoizedState,b.updateQueue=r.updateQueue,o=r.dependencies,b.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},b.sibling=r.sibling,b.index=r.index,b.ref=r.ref,b.refCleanup=r.refCleanup,b}function d0(r,o){r.flags&=65011714;var b=r.alternate;return b===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=b.childLanes,r.lanes=b.lanes,r.child=b.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=b.memoizedProps,r.memoizedState=b.memoizedState,r.updateQueue=b.updateQueue,r.type=b.type,o=b.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Ju(r,o,b,A,z,W){var et=0;if(A=r,typeof r=="function")gf(r)&&(et=1);else if(typeof r=="string")et=i3(r,b,Z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case U:return r=qn(31,b,o,z),r.elementType=U,r.lanes=W,r;case v:return Ca(b.children,z,W,o);case g:et=8,z|=24;break;case w:return r=qn(12,b,o,z|2),r.elementType=w,r.lanes=W,r;case L:return r=qn(13,b,o,z),r.elementType=L,r.lanes=W,r;case G:return r=qn(19,b,o,z),r.elementType=G,r.lanes=W,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:et=10;break t;case _:et=9;break t;case M:et=11;break t;case F:et=14;break t;case j:et=16,A=null;break t}et=29,b=Error(i(130,r===null?"null":typeof r,"")),A=null}return o=qn(et,b,o,z),o.elementType=r,o.type=A,o.lanes=W,o}function Ca(r,o,b,A){return r=qn(7,r,A,o),r.lanes=b,r}function bf(r,o,b){return r=qn(6,r,null,o),r.lanes=b,r}function p0(r){var o=qn(18,null,null,0);return o.stateNode=r,o}function yf(r,o,b){return o=qn(4,r.children!==null?r.children:[],r.key,o),o.lanes=b,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var m0=new WeakMap;function ri(r,o){if(typeof r=="object"&&r!==null){var b=m0.get(r);return b!==void 0?b:(o={value:r,source:o,stack:pt(o)},m0.set(r,o),o)}return{value:r,source:o,stack:pt(o)}}var fo=[],po=0,tc=null,bl=0,ni=[],ii=0,Cs=null,Pi=1,Li="";function Zi(r,o){fo[po++]=bl,fo[po++]=tc,tc=r,bl=o}function g0(r,o,b){ni[ii++]=Pi,ni[ii++]=Li,ni[ii++]=Cs,Cs=r;var A=Pi;r=Li;var z=32-ae(A)-1;A&=~(1<<z),b+=1;var W=32-ae(o)+z;if(30<W){var et=z-z%5;W=(A&(1<<et)-1).toString(32),A>>=et,z-=et,Pi=1<<32-ae(o)+z|b<<z|A,Li=W+r}else Pi=1<<W|b<<z|A,Li=r}function vf(r){r.return!==null&&(Zi(r,1),g0(r,1,0))}function wf(r){for(;r===tc;)tc=fo[--po],fo[po]=null,bl=fo[--po],fo[po]=null;for(;r===Cs;)Cs=ni[--ii],ni[ii]=null,Li=ni[--ii],ni[ii]=null,Pi=ni[--ii],ni[ii]=null}function b0(r,o){ni[ii++]=Pi,ni[ii++]=Li,ni[ii++]=Cs,Pi=o.id,Li=o.overflow,Cs=r}var fn=null,Ir=null,pr=!1,Rs=null,si=!1,_f=Error(i(519));function Ms(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(ri(o,r)),_f}function y0(r){var o=r.stateNode,b=r.type,A=r.memoizedProps;switch(o[fe]=r,o[oe]=A,b){case"dialog":lr("cancel",o),lr("close",o);break;case"iframe":case"object":case"embed":lr("load",o);break;case"video":case"audio":for(b=0;b<zl.length;b++)lr(zl[b],o);break;case"source":lr("error",o);break;case"img":case"image":case"link":lr("error",o),lr("load",o);break;case"details":lr("toggle",o);break;case"input":lr("invalid",o),sr(o,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0);break;case"select":lr("invalid",o);break;case"textarea":lr("invalid",o),zr(o,A.value,A.defaultValue,A.children)}b=A.children,typeof b!="string"&&typeof b!="number"&&typeof b!="bigint"||o.textContent===""+b||A.suppressHydrationWarning===!0||D1(o.textContent,b)?(A.popover!=null&&(lr("beforetoggle",o),lr("toggle",o)),A.onScroll!=null&&lr("scroll",o),A.onScrollEnd!=null&&lr("scrollend",o),A.onClick!=null&&(o.onclick=An),o=!0):o=!1,o||Ms(r,!0)}function v0(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:fn=fn.return}}function mo(r){if(r!==fn)return!1;if(!pr)return v0(r),pr=!0,!1;var o=r.tag,b;if((b=o!==3&&o!==27)&&((b=o===5)&&(b=r.type,b=!(b!=="form"&&b!=="button")||Vd(r.type,r.memoizedProps)),b=!b),b&&Ir&&Ms(r),v0(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ir=q1(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ir=q1(r)}else o===27?(o=Ir,qs(r.type)?(r=qd,qd=null,Ir=r):Ir=o):Ir=fn?oi(r.stateNode.nextSibling):null;return!0}function Ra(){Ir=fn=null,pr=!1}function xf(){var r=Rs;return r!==null&&(Dn===null?Dn=r:Dn.push.apply(Dn,r),Rs=null),r}function yl(r){Rs===null?Rs=[r]:Rs.push(r)}var Sf=I(null),Ma=null,Ji=null;function Ns(r,o,b){K(Sf,o._currentValue),o._currentValue=b}function ts(r){r._currentValue=Sf.current,B(Sf)}function Tf(r,o,b){for(;r!==null;){var A=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,A!==null&&(A.childLanes|=o)):A!==null&&(A.childLanes&o)!==o&&(A.childLanes|=o),r===b)break;r=r.return}}function Ef(r,o,b,A){var z=r.child;for(z!==null&&(z.return=r);z!==null;){var W=z.dependencies;if(W!==null){var et=z.child;W=W.firstContext;t:for(;W!==null;){var lt=W;W=z;for(var mt=0;mt<o.length;mt++)if(lt.context===o[mt]){W.lanes|=b,lt=W.alternate,lt!==null&&(lt.lanes|=b),Tf(W.return,b,r),A||(et=null);break t}W=lt.next}}else if(z.tag===18){if(et=z.return,et===null)throw Error(i(341));et.lanes|=b,W=et.alternate,W!==null&&(W.lanes|=b),Tf(et,b,r),et=null}else et=z.child;if(et!==null)et.return=z;else for(et=z;et!==null;){if(et===r){et=null;break}if(z=et.sibling,z!==null){z.return=et.return,et=z;break}et=et.return}z=et}}function go(r,o,b,A){r=null;for(var z=o,W=!1;z!==null;){if(!W){if((z.flags&524288)!==0)W=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var et=z.alternate;if(et===null)throw Error(i(387));if(et=et.memoizedProps,et!==null){var lt=z.type;Hn(z.pendingProps.value,et.value)||(r!==null?r.push(lt):r=[lt])}}else if(z===tt.current){if(et=z.alternate,et===null)throw Error(i(387));et.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(r!==null?r.push($l):r=[$l])}z=z.return}r!==null&&Ef(o,r,b,A),o.flags|=262144}function ec(r){for(r=r.firstContext;r!==null;){if(!Hn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Na(r){Ma=r,Ji=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return w0(Ma,r)}function rc(r,o){return Ma===null&&Na(r),w0(r,o)}function w0(r,o){var b=o._currentValue;if(o={context:o,memoizedValue:b,next:null},Ji===null){if(r===null)throw Error(i(308));Ji=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Ji=Ji.next=o;return b}var t_=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(b,A){r.push(A)}};this.abort=function(){o.aborted=!0,r.forEach(function(b){return b()})}},e_=m.unstable_scheduleCallback,r_=m.unstable_NormalPriority,Yr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new t_,data:new Map,refCount:0}}function vl(r){r.refCount--,r.refCount===0&&e_(r_,function(){r.controller.abort()})}var wl=null,kf=0,bo=0,yo=null;function n_(r,o){if(wl===null){var b=wl=[];kf=0,bo=Md(),yo={status:"pending",value:void 0,then:function(A){b.push(A)}}}return kf++,o.then(_0,_0),o}function _0(){if(--kf===0&&wl!==null){yo!==null&&(yo.status="fulfilled");var r=wl;wl=null,bo=0,yo=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function i_(r,o){var b=[],A={status:"pending",value:null,reason:null,then:function(z){b.push(z)}};return r.then(function(){A.status="fulfilled",A.value=o;for(var z=0;z<b.length;z++)(0,b[z])(o)},function(z){for(A.status="rejected",A.reason=z,z=0;z<b.length;z++)(0,b[z])(void 0)}),A}var x0=x.S;x.S=function(r,o){s1=Nt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&n_(r,o),x0!==null&&x0(r,o)};var Ia=I(null);function Cf(){var r=Ia.current;return r!==null?r:Rr.pooledCache}function nc(r,o){o===null?K(Ia,Ia.current):K(Ia,o.pool)}function S0(){var r=Cf();return r===null?null:{parent:Yr._currentValue,pool:r}}var vo=Error(i(460)),Rf=Error(i(474)),ic=Error(i(542)),sc={then:function(){}};function T0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function E0(r,o,b){switch(b=r[b],b===void 0?r.push(o):b!==o&&(o.then(An,An),o=b),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,k0(r),r;default:if(typeof o.status=="string")o.then(An,An);else{if(r=Rr,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(A){if(o.status==="pending"){var z=o;z.status="fulfilled",z.value=A}},function(A){if(o.status==="pending"){var z=o;z.status="rejected",z.reason=A}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,k0(r),r}throw ja=o,vo}}function Oa(r){try{var o=r._init;return o(r._payload)}catch(b){throw b!==null&&typeof b=="object"&&typeof b.then=="function"?(ja=b,vo):b}}var ja=null;function A0(){if(ja===null)throw Error(i(459));var r=ja;return ja=null,r}function k0(r){if(r===vo||r===ic)throw Error(i(483))}var wo=null,_l=0;function ac(r){var o=_l;return _l+=1,wo===null&&(wo=[]),E0(wo,r,o)}function xl(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function oc(r,o){throw o.$$typeof===f?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function C0(r){function o(At,_t){if(r){var Ct=At.deletions;Ct===null?(At.deletions=[_t],At.flags|=16):Ct.push(_t)}}function b(At,_t){if(!r)return null;for(;_t!==null;)o(At,_t),_t=_t.sibling;return null}function A(At){for(var _t=new Map;At!==null;)At.key!==null?_t.set(At.key,At):_t.set(At.index,At),At=At.sibling;return _t}function z(At,_t){return At=Qi(At,_t),At.index=0,At.sibling=null,At}function W(At,_t,Ct){return At.index=Ct,r?(Ct=At.alternate,Ct!==null?(Ct=Ct.index,Ct<_t?(At.flags|=67108866,_t):Ct):(At.flags|=67108866,_t)):(At.flags|=1048576,_t)}function et(At){return r&&At.alternate===null&&(At.flags|=67108866),At}function lt(At,_t,Ct,Ht){return _t===null||_t.tag!==6?(_t=bf(Ct,At.mode,Ht),_t.return=At,_t):(_t=z(_t,Ct),_t.return=At,_t)}function mt(At,_t,Ct,Ht){var je=Ct.type;return je===v?Vt(At,_t,Ct.props.children,Ht,Ct.key):_t!==null&&(_t.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===j&&Oa(je)===_t.type)?(_t=z(_t,Ct.props),xl(_t,Ct),_t.return=At,_t):(_t=Ju(Ct.type,Ct.key,Ct.props,null,At.mode,Ht),xl(_t,Ct),_t.return=At,_t)}function Rt(At,_t,Ct,Ht){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==Ct.containerInfo||_t.stateNode.implementation!==Ct.implementation?(_t=yf(Ct,At.mode,Ht),_t.return=At,_t):(_t=z(_t,Ct.children||[]),_t.return=At,_t)}function Vt(At,_t,Ct,Ht,je){return _t===null||_t.tag!==7?(_t=Ca(Ct,At.mode,Ht,je),_t.return=At,_t):(_t=z(_t,Ct),_t.return=At,_t)}function Wt(At,_t,Ct){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return _t=bf(""+_t,At.mode,Ct),_t.return=At,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case d:return Ct=Ju(_t.type,_t.key,_t.props,null,At.mode,Ct),xl(Ct,_t),Ct.return=At,Ct;case y:return _t=yf(_t,At.mode,Ct),_t.return=At,_t;case j:return _t=Oa(_t),Wt(At,_t,Ct)}if(C(_t)||$(_t))return _t=Ca(_t,At.mode,Ct,null),_t.return=At,_t;if(typeof _t.then=="function")return Wt(At,ac(_t),Ct);if(_t.$$typeof===k)return Wt(At,rc(At,_t),Ct);oc(At,_t)}return null}function Ot(At,_t,Ct,Ht){var je=_t!==null?_t.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return je!==null?null:lt(At,_t,""+Ct,Ht);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case d:return Ct.key===je?mt(At,_t,Ct,Ht):null;case y:return Ct.key===je?Rt(At,_t,Ct,Ht):null;case j:return Ct=Oa(Ct),Ot(At,_t,Ct,Ht)}if(C(Ct)||$(Ct))return je!==null?null:Vt(At,_t,Ct,Ht,null);if(typeof Ct.then=="function")return Ot(At,_t,ac(Ct),Ht);if(Ct.$$typeof===k)return Ot(At,_t,rc(At,Ct),Ht);oc(At,Ct)}return null}function Bt(At,_t,Ct,Ht,je){if(typeof Ht=="string"&&Ht!==""||typeof Ht=="number"||typeof Ht=="bigint")return At=At.get(Ct)||null,lt(_t,At,""+Ht,je);if(typeof Ht=="object"&&Ht!==null){switch(Ht.$$typeof){case d:return At=At.get(Ht.key===null?Ct:Ht.key)||null,mt(_t,At,Ht,je);case y:return At=At.get(Ht.key===null?Ct:Ht.key)||null,Rt(_t,At,Ht,je);case j:return Ht=Oa(Ht),Bt(At,_t,Ct,Ht,je)}if(C(Ht)||$(Ht))return At=At.get(Ct)||null,Vt(_t,At,Ht,je,null);if(typeof Ht.then=="function")return Bt(At,_t,Ct,ac(Ht),je);if(Ht.$$typeof===k)return Bt(At,_t,Ct,rc(_t,Ht),je);oc(_t,Ht)}return null}function Te(At,_t,Ct,Ht){for(var je=null,gr=null,Ce=_t,rr=_t=0,cr=null;Ce!==null&&rr<Ct.length;rr++){Ce.index>rr?(cr=Ce,Ce=null):cr=Ce.sibling;var br=Ot(At,Ce,Ct[rr],Ht);if(br===null){Ce===null&&(Ce=cr);break}r&&Ce&&br.alternate===null&&o(At,Ce),_t=W(br,_t,rr),gr===null?je=br:gr.sibling=br,gr=br,Ce=cr}if(rr===Ct.length)return b(At,Ce),pr&&Zi(At,rr),je;if(Ce===null){for(;rr<Ct.length;rr++)Ce=Wt(At,Ct[rr],Ht),Ce!==null&&(_t=W(Ce,_t,rr),gr===null?je=Ce:gr.sibling=Ce,gr=Ce);return pr&&Zi(At,rr),je}for(Ce=A(Ce);rr<Ct.length;rr++)cr=Bt(Ce,At,rr,Ct[rr],Ht),cr!==null&&(r&&cr.alternate!==null&&Ce.delete(cr.key===null?rr:cr.key),_t=W(cr,_t,rr),gr===null?je=cr:gr.sibling=cr,gr=cr);return r&&Ce.forEach(function(Ys){return o(At,Ys)}),pr&&Zi(At,rr),je}function Pe(At,_t,Ct,Ht){if(Ct==null)throw Error(i(151));for(var je=null,gr=null,Ce=_t,rr=_t=0,cr=null,br=Ct.next();Ce!==null&&!br.done;rr++,br=Ct.next()){Ce.index>rr?(cr=Ce,Ce=null):cr=Ce.sibling;var Ys=Ot(At,Ce,br.value,Ht);if(Ys===null){Ce===null&&(Ce=cr);break}r&&Ce&&Ys.alternate===null&&o(At,Ce),_t=W(Ys,_t,rr),gr===null?je=Ys:gr.sibling=Ys,gr=Ys,Ce=cr}if(br.done)return b(At,Ce),pr&&Zi(At,rr),je;if(Ce===null){for(;!br.done;rr++,br=Ct.next())br=Wt(At,br.value,Ht),br!==null&&(_t=W(br,_t,rr),gr===null?je=br:gr.sibling=br,gr=br);return pr&&Zi(At,rr),je}for(Ce=A(Ce);!br.done;rr++,br=Ct.next())br=Bt(Ce,At,rr,br.value,Ht),br!==null&&(r&&br.alternate!==null&&Ce.delete(br.key===null?rr:br.key),_t=W(br,_t,rr),gr===null?je=br:gr.sibling=br,gr=br);return r&&Ce.forEach(function(m3){return o(At,m3)}),pr&&Zi(At,rr),je}function Cr(At,_t,Ct,Ht){if(typeof Ct=="object"&&Ct!==null&&Ct.type===v&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case d:t:{for(var je=Ct.key;_t!==null;){if(_t.key===je){if(je=Ct.type,je===v){if(_t.tag===7){b(At,_t.sibling),Ht=z(_t,Ct.props.children),Ht.return=At,At=Ht;break t}}else if(_t.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===j&&Oa(je)===_t.type){b(At,_t.sibling),Ht=z(_t,Ct.props),xl(Ht,Ct),Ht.return=At,At=Ht;break t}b(At,_t);break}else o(At,_t);_t=_t.sibling}Ct.type===v?(Ht=Ca(Ct.props.children,At.mode,Ht,Ct.key),Ht.return=At,At=Ht):(Ht=Ju(Ct.type,Ct.key,Ct.props,null,At.mode,Ht),xl(Ht,Ct),Ht.return=At,At=Ht)}return et(At);case y:t:{for(je=Ct.key;_t!==null;){if(_t.key===je)if(_t.tag===4&&_t.stateNode.containerInfo===Ct.containerInfo&&_t.stateNode.implementation===Ct.implementation){b(At,_t.sibling),Ht=z(_t,Ct.children||[]),Ht.return=At,At=Ht;break t}else{b(At,_t);break}else o(At,_t);_t=_t.sibling}Ht=yf(Ct,At.mode,Ht),Ht.return=At,At=Ht}return et(At);case j:return Ct=Oa(Ct),Cr(At,_t,Ct,Ht)}if(C(Ct))return Te(At,_t,Ct,Ht);if($(Ct)){if(je=$(Ct),typeof je!="function")throw Error(i(150));return Ct=je.call(Ct),Pe(At,_t,Ct,Ht)}if(typeof Ct.then=="function")return Cr(At,_t,ac(Ct),Ht);if(Ct.$$typeof===k)return Cr(At,_t,rc(At,Ct),Ht);oc(At,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,_t!==null&&_t.tag===6?(b(At,_t.sibling),Ht=z(_t,Ct),Ht.return=At,At=Ht):(b(At,_t),Ht=bf(Ct,At.mode,Ht),Ht.return=At,At=Ht),et(At)):b(At,_t)}return function(At,_t,Ct,Ht){try{_l=0;var je=Cr(At,_t,Ct,Ht);return wo=null,je}catch(Ce){if(Ce===vo||Ce===ic)throw Ce;var gr=qn(29,Ce,null,At.mode);return gr.lanes=Ht,gr.return=At,gr}}}var Da=C0(!0),R0=C0(!1),Is=!1;function Mf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Os(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function js(r,o,b){var A=r.updateQueue;if(A===null)return null;if(A=A.shared,(wr&2)!==0){var z=A.pending;return z===null?o.next=o:(o.next=z.next,z.next=o),A.pending=o,o=Zu(r),f0(r,null,b),o}return Qu(r,A,o,b),Zu(r)}function Sl(r,o,b){if(o=o.updateQueue,o!==null&&(o=o.shared,(b&4194048)!==0)){var A=o.lanes;A&=r.pendingLanes,b|=A,o.lanes=b,Oe(r,b)}}function If(r,o){var b=r.updateQueue,A=r.alternate;if(A!==null&&(A=A.updateQueue,b===A)){var z=null,W=null;if(b=b.firstBaseUpdate,b!==null){do{var et={lane:b.lane,tag:b.tag,payload:b.payload,callback:null,next:null};W===null?z=W=et:W=W.next=et,b=b.next}while(b!==null);W===null?z=W=o:W=W.next=o}else z=W=o;b={baseState:A.baseState,firstBaseUpdate:z,lastBaseUpdate:W,shared:A.shared,callbacks:A.callbacks},r.updateQueue=b;return}r=b.lastBaseUpdate,r===null?b.firstBaseUpdate=o:r.next=o,b.lastBaseUpdate=o}var Of=!1;function Tl(){if(Of){var r=yo;if(r!==null)throw r}}function El(r,o,b,A){Of=!1;var z=r.updateQueue;Is=!1;var W=z.firstBaseUpdate,et=z.lastBaseUpdate,lt=z.shared.pending;if(lt!==null){z.shared.pending=null;var mt=lt,Rt=mt.next;mt.next=null,et===null?W=Rt:et.next=Rt,et=mt;var Vt=r.alternate;Vt!==null&&(Vt=Vt.updateQueue,lt=Vt.lastBaseUpdate,lt!==et&&(lt===null?Vt.firstBaseUpdate=Rt:lt.next=Rt,Vt.lastBaseUpdate=mt))}if(W!==null){var Wt=z.baseState;et=0,Vt=Rt=mt=null,lt=W;do{var Ot=lt.lane&-536870913,Bt=Ot!==lt.lane;if(Bt?(ur&Ot)===Ot:(A&Ot)===Ot){Ot!==0&&Ot===bo&&(Of=!0),Vt!==null&&(Vt=Vt.next={lane:0,tag:lt.tag,payload:lt.payload,callback:null,next:null});t:{var Te=r,Pe=lt;Ot=o;var Cr=b;switch(Pe.tag){case 1:if(Te=Pe.payload,typeof Te=="function"){Wt=Te.call(Cr,Wt,Ot);break t}Wt=Te;break t;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Pe.payload,Ot=typeof Te=="function"?Te.call(Cr,Wt,Ot):Te,Ot==null)break t;Wt=p({},Wt,Ot);break t;case 2:Is=!0}}Ot=lt.callback,Ot!==null&&(r.flags|=64,Bt&&(r.flags|=8192),Bt=z.callbacks,Bt===null?z.callbacks=[Ot]:Bt.push(Ot))}else Bt={lane:Ot,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},Vt===null?(Rt=Vt=Bt,mt=Wt):Vt=Vt.next=Bt,et|=Ot;if(lt=lt.next,lt===null){if(lt=z.shared.pending,lt===null)break;Bt=lt,lt=Bt.next,Bt.next=null,z.lastBaseUpdate=Bt,z.shared.pending=null}}while(!0);Vt===null&&(mt=Wt),z.baseState=mt,z.firstBaseUpdate=Rt,z.lastBaseUpdate=Vt,W===null&&(z.shared.lanes=0),Vs|=et,r.lanes=et,r.memoizedState=Wt}}function M0(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function N0(r,o){var b=r.callbacks;if(b!==null)for(r.callbacks=null,r=0;r<b.length;r++)M0(b[r],o)}var _o=I(null),lc=I(0);function I0(r,o){r=us,K(lc,r),K(_o,o),us=r|o.baseLanes}function jf(){K(lc,us),K(_o,_o.current)}function Df(){us=lc.current,B(_o),B(lc)}var $n=I(null),ai=null;function Ds(r){var o=r.alternate;K(Gr,Gr.current&1),K($n,r),ai===null&&(o===null||_o.current!==null||o.memoizedState!==null)&&(ai=r)}function Pf(r){K(Gr,Gr.current),K($n,r),ai===null&&(ai=r)}function O0(r){r.tag===22?(K(Gr,Gr.current),K($n,r),ai===null&&(ai=r)):Ps()}function Ps(){K(Gr,Gr.current),K($n,$n.current)}function Gn(r){B($n),ai===r&&(ai=null),B(Gr)}var Gr=I(0);function uc(r){for(var o=r;o!==null;){if(o.tag===13){var b=o.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Fd(b)||Hd(b)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var es=0,er=null,Ar=null,Kr=null,cc=!1,xo=!1,Pa=!1,hc=0,Al=0,So=null,s_=0;function Ur(){throw Error(i(321))}function Lf(r,o){if(o===null)return!1;for(var b=0;b<o.length&&b<r.length;b++)if(!Hn(r[b],o[b]))return!1;return!0}function Bf(r,o,b,A,z,W){return es=W,er=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,x.H=r===null||r.memoizedState===null?gg:Jf,Pa=!1,W=b(A,z),Pa=!1,xo&&(W=D0(o,b,A,z)),j0(r),W}function j0(r){x.H=Rl;var o=Ar!==null&&Ar.next!==null;if(es=0,Kr=Ar=er=null,cc=!1,Al=0,So=null,o)throw Error(i(300));r===null||Qr||(r=r.dependencies,r!==null&&ec(r)&&(Qr=!0))}function D0(r,o,b,A){er=r;var z=0;do{if(xo&&(So=null),Al=0,xo=!1,25<=z)throw Error(i(301));if(z+=1,Kr=Ar=null,r.updateQueue!=null){var W=r.updateQueue;W.lastEffect=null,W.events=null,W.stores=null,W.memoCache!=null&&(W.memoCache.index=0)}x.H=bg,W=o(b,A)}while(xo);return W}function a_(){var r=x.H,o=r.useState()[0];return o=typeof o.then=="function"?kl(o):o,r=r.useState()[0],(Ar!==null?Ar.memoizedState:null)!==r&&(er.flags|=1024),o}function Vf(){var r=hc!==0;return hc=0,r}function zf(r,o,b){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~b}function Uf(r){if(cc){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}cc=!1}es=0,Kr=Ar=er=null,xo=!1,Al=hc=0,So=null}function Rn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?er.memoizedState=Kr=r:Kr=Kr.next=r,Kr}function Wr(){if(Ar===null){var r=er.alternate;r=r!==null?r.memoizedState:null}else r=Ar.next;var o=Kr===null?er.memoizedState:Kr.next;if(o!==null)Kr=o,Ar=r;else{if(r===null)throw er.alternate===null?Error(i(467)):Error(i(310));Ar=r,r={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Kr===null?er.memoizedState=Kr=r:Kr=Kr.next=r}return Kr}function fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(r){var o=Al;return Al+=1,So===null&&(So=[]),r=E0(So,r,o),o=er,(Kr===null?o.memoizedState:Kr.next)===null&&(o=o.alternate,x.H=o===null||o.memoizedState===null?gg:Jf),r}function dc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return kl(r);if(r.$$typeof===k)return dn(r)}throw Error(i(438,String(r)))}function Ff(r){var o=null,b=er.updateQueue;if(b!==null&&(o=b.memoCache),o==null){var A=er.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(o={data:A.data.map(function(z){return z.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),b===null&&(b=fc(),er.updateQueue=b),b.memoCache=o,b=o.data[o.index],b===void 0)for(b=o.data[o.index]=Array(r),A=0;A<r;A++)b[A]=q;return o.index++,b}function rs(r,o){return typeof o=="function"?o(r):o}function pc(r){var o=Wr();return Hf(o,Ar,r)}function Hf(r,o,b){var A=r.queue;if(A===null)throw Error(i(311));A.lastRenderedReducer=b;var z=r.baseQueue,W=A.pending;if(W!==null){if(z!==null){var et=z.next;z.next=W.next,W.next=et}o.baseQueue=z=W,A.pending=null}if(W=r.baseState,z===null)r.memoizedState=W;else{o=z.next;var lt=et=null,mt=null,Rt=o,Vt=!1;do{var Wt=Rt.lane&-536870913;if(Wt!==Rt.lane?(ur&Wt)===Wt:(es&Wt)===Wt){var Ot=Rt.revertLane;if(Ot===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Wt===bo&&(Vt=!0);else if((es&Ot)===Ot){Rt=Rt.next,Ot===bo&&(Vt=!0);continue}else Wt={lane:0,revertLane:Rt.revertLane,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},mt===null?(lt=mt=Wt,et=W):mt=mt.next=Wt,er.lanes|=Ot,Vs|=Ot;Wt=Rt.action,Pa&&b(W,Wt),W=Rt.hasEagerState?Rt.eagerState:b(W,Wt)}else Ot={lane:Wt,revertLane:Rt.revertLane,gesture:Rt.gesture,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},mt===null?(lt=mt=Ot,et=W):mt=mt.next=Ot,er.lanes|=Wt,Vs|=Wt;Rt=Rt.next}while(Rt!==null&&Rt!==o);if(mt===null?et=W:mt.next=lt,!Hn(W,r.memoizedState)&&(Qr=!0,Vt&&(b=yo,b!==null)))throw b;r.memoizedState=W,r.baseState=et,r.baseQueue=mt,A.lastRenderedState=W}return z===null&&(A.lanes=0),[r.memoizedState,A.dispatch]}function qf(r){var o=Wr(),b=o.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=r;var A=b.dispatch,z=b.pending,W=o.memoizedState;if(z!==null){b.pending=null;var et=z=z.next;do W=r(W,et.action),et=et.next;while(et!==z);Hn(W,o.memoizedState)||(Qr=!0),o.memoizedState=W,o.baseQueue===null&&(o.baseState=W),b.lastRenderedState=W}return[W,A]}function P0(r,o,b){var A=er,z=Wr(),W=pr;if(W){if(b===void 0)throw Error(i(407));b=b()}else b=o();var et=!Hn((Ar||z).memoizedState,b);if(et&&(z.memoizedState=b,Qr=!0),z=z.queue,Wf(V0.bind(null,A,z,r),[r]),z.getSnapshot!==o||et||Kr!==null&&Kr.memoizedState.tag&1){if(A.flags|=2048,To(9,{destroy:void 0},B0.bind(null,A,z,b,o),null),Rr===null)throw Error(i(349));W||(es&127)!==0||L0(A,o,b)}return b}function L0(r,o,b){r.flags|=16384,r={getSnapshot:o,value:b},o=er.updateQueue,o===null?(o=fc(),er.updateQueue=o,o.stores=[r]):(b=o.stores,b===null?o.stores=[r]:b.push(r))}function B0(r,o,b,A){o.value=b,o.getSnapshot=A,z0(o)&&U0(r)}function V0(r,o,b){return b(function(){z0(o)&&U0(r)})}function z0(r){var o=r.getSnapshot;r=r.value;try{var b=o();return!Hn(r,b)}catch{return!0}}function U0(r){var o=ka(r,2);o!==null&&Pn(o,r,2)}function $f(r){var o=Rn();if(typeof r=="function"){var b=r;if(r=b(),Pa){ie(!0);try{b()}finally{ie(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:r},o}function F0(r,o,b,A){return r.baseState=b,Hf(r,Ar,typeof A=="function"?A:rs)}function o_(r,o,b,A,z){if(bc(r))throw Error(i(485));if(r=o.action,r!==null){var W={payload:z,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(et){W.listeners.push(et)}};x.T!==null?b(!0):W.isTransition=!1,A(W),b=o.pending,b===null?(W.next=o.pending=W,H0(o,W)):(W.next=b.next,o.pending=b.next=W)}}function H0(r,o){var b=o.action,A=o.payload,z=r.state;if(o.isTransition){var W=x.T,et={};x.T=et;try{var lt=b(z,A),mt=x.S;mt!==null&&mt(et,lt),q0(r,o,lt)}catch(Rt){Gf(r,o,Rt)}finally{W!==null&&et.types!==null&&(W.types=et.types),x.T=W}}else try{W=b(z,A),q0(r,o,W)}catch(Rt){Gf(r,o,Rt)}}function q0(r,o,b){b!==null&&typeof b=="object"&&typeof b.then=="function"?b.then(function(A){$0(r,o,A)},function(A){return Gf(r,o,A)}):$0(r,o,b)}function $0(r,o,b){o.status="fulfilled",o.value=b,G0(o),r.state=b,o=r.pending,o!==null&&(b=o.next,b===o?r.pending=null:(b=b.next,o.next=b,H0(r,b)))}function Gf(r,o,b){var A=r.pending;if(r.pending=null,A!==null){A=A.next;do o.status="rejected",o.reason=b,G0(o),o=o.next;while(o!==A)}r.action=null}function G0(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function W0(r,o){return o}function X0(r,o){if(pr){var b=Rr.formState;if(b!==null){t:{var A=er;if(pr){if(Ir){e:{for(var z=Ir,W=si;z.nodeType!==8;){if(!W){z=null;break e}if(z=oi(z.nextSibling),z===null){z=null;break e}}W=z.data,z=W==="F!"||W==="F"?z:null}if(z){Ir=oi(z.nextSibling),A=z.data==="F!";break t}}Ms(A)}A=!1}A&&(o=b[0])}}return b=Rn(),b.memoizedState=b.baseState=o,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:o},b.queue=A,b=dg.bind(null,er,A),A.dispatch=b,A=$f(!1),W=Zf.bind(null,er,!1,A.queue),A=Rn(),z={state:o,dispatch:null,action:r,pending:null},A.queue=z,b=o_.bind(null,er,z,W,b),z.dispatch=b,A.memoizedState=r,[o,b,!1]}function Y0(r){var o=Wr();return K0(o,Ar,r)}function K0(r,o,b){if(o=Hf(r,o,W0)[0],r=pc(rs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var A=kl(o)}catch(et){throw et===vo?ic:et}else A=o;o=Wr();var z=o.queue,W=z.dispatch;return b!==o.memoizedState&&(er.flags|=2048,To(9,{destroy:void 0},l_.bind(null,z,b),null)),[A,W,r]}function l_(r,o){r.action=o}function Q0(r){var o=Wr(),b=Ar;if(b!==null)return K0(o,b,r);Wr(),o=o.memoizedState,b=Wr();var A=b.queue.dispatch;return b.memoizedState=r,[o,A,!1]}function To(r,o,b,A){return r={tag:r,create:b,deps:A,inst:o,next:null},o=er.updateQueue,o===null&&(o=fc(),er.updateQueue=o),b=o.lastEffect,b===null?o.lastEffect=r.next=r:(A=b.next,b.next=r,r.next=A,o.lastEffect=r),r}function Z0(){return Wr().memoizedState}function mc(r,o,b,A){var z=Rn();er.flags|=r,z.memoizedState=To(1|o,{destroy:void 0},b,A===void 0?null:A)}function gc(r,o,b,A){var z=Wr();A=A===void 0?null:A;var W=z.memoizedState.inst;Ar!==null&&A!==null&&Lf(A,Ar.memoizedState.deps)?z.memoizedState=To(o,W,b,A):(er.flags|=r,z.memoizedState=To(1|o,W,b,A))}function J0(r,o){mc(8390656,8,r,o)}function Wf(r,o){gc(2048,8,r,o)}function u_(r){er.flags|=4;var o=er.updateQueue;if(o===null)o=fc(),er.updateQueue=o,o.events=[r];else{var b=o.events;b===null?o.events=[r]:b.push(r)}}function tg(r){var o=Wr().memoizedState;return u_({ref:o,nextImpl:r}),function(){if((wr&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function eg(r,o){return gc(4,2,r,o)}function rg(r,o){return gc(4,4,r,o)}function ng(r,o){if(typeof o=="function"){r=r();var b=o(r);return function(){typeof b=="function"?b():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ig(r,o,b){b=b!=null?b.concat([r]):null,gc(4,4,ng.bind(null,o,r),b)}function Xf(){}function sg(r,o){var b=Wr();o=o===void 0?null:o;var A=b.memoizedState;return o!==null&&Lf(o,A[1])?A[0]:(b.memoizedState=[r,o],r)}function ag(r,o){var b=Wr();o=o===void 0?null:o;var A=b.memoizedState;if(o!==null&&Lf(o,A[1]))return A[0];if(A=r(),Pa){ie(!0);try{r()}finally{ie(!1)}}return b.memoizedState=[A,o],A}function Yf(r,o,b){return b===void 0||(es&1073741824)!==0&&(ur&261930)===0?r.memoizedState=o:(r.memoizedState=b,r=o1(),er.lanes|=r,Vs|=r,b)}function og(r,o,b,A){return Hn(b,o)?b:_o.current!==null?(r=Yf(r,b,A),Hn(r,o)||(Qr=!0),r):(es&42)===0||(es&1073741824)!==0&&(ur&261930)===0?(Qr=!0,r.memoizedState=b):(r=o1(),er.lanes|=r,Vs|=r,o)}function lg(r,o,b,A,z){var W=S.p;S.p=W!==0&&8>W?W:8;var et=x.T,lt={};x.T=lt,Zf(r,!1,o,b);try{var mt=z(),Rt=x.S;if(Rt!==null&&Rt(lt,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var Vt=i_(mt,A);Cl(r,o,Vt,Yn(r))}else Cl(r,o,A,Yn(r))}catch(Wt){Cl(r,o,{then:function(){},status:"rejected",reason:Wt},Yn())}finally{S.p=W,et!==null&&lt.types!==null&&(et.types=lt.types),x.T=et}}function c_(){}function Kf(r,o,b,A){if(r.tag!==5)throw Error(i(476));var z=ug(r).queue;lg(r,z,o,T,b===null?c_:function(){return cg(r),b(A)})}function ug(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:T},next:null};var b={};return o.next={memoizedState:b,baseState:b,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:b},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function cg(r){var o=ug(r);o.next===null&&(o=r.alternate.memoizedState),Cl(r,o.next.queue,{},Yn())}function Qf(){return dn($l)}function hg(){return Wr().memoizedState}function fg(){return Wr().memoizedState}function h_(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var b=Yn();r=Os(b);var A=js(o,r,b);A!==null&&(Pn(A,o,b),Sl(A,o,b)),o={cache:Af()},r.payload=o;return}o=o.return}}function f_(r,o,b){var A=Yn();b={lane:A,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},bc(r)?pg(o,b):(b=mf(r,o,b,A),b!==null&&(Pn(b,r,A),mg(b,o,A)))}function dg(r,o,b){var A=Yn();Cl(r,o,b,A)}function Cl(r,o,b,A){var z={lane:A,revertLane:0,gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null};if(bc(r))pg(o,z);else{var W=r.alternate;if(r.lanes===0&&(W===null||W.lanes===0)&&(W=o.lastRenderedReducer,W!==null))try{var et=o.lastRenderedState,lt=W(et,b);if(z.hasEagerState=!0,z.eagerState=lt,Hn(lt,et))return Qu(r,o,z,0),Rr===null&&Ku(),!1}catch{}if(b=mf(r,o,z,A),b!==null)return Pn(b,r,A),mg(b,o,A),!0}return!1}function Zf(r,o,b,A){if(A={lane:2,revertLane:Md(),gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},bc(r)){if(o)throw Error(i(479))}else o=mf(r,b,A,2),o!==null&&Pn(o,r,2)}function bc(r){var o=r.alternate;return r===er||o!==null&&o===er}function pg(r,o){xo=cc=!0;var b=r.pending;b===null?o.next=o:(o.next=b.next,b.next=o),r.pending=o}function mg(r,o,b){if((b&4194048)!==0){var A=o.lanes;A&=r.pendingLanes,b|=A,o.lanes=b,Oe(r,b)}}var Rl={readContext:dn,use:dc,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useLayoutEffect:Ur,useInsertionEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useSyncExternalStore:Ur,useId:Ur,useHostTransitionStatus:Ur,useFormState:Ur,useActionState:Ur,useOptimistic:Ur,useMemoCache:Ur,useCacheRefresh:Ur};Rl.useEffectEvent=Ur;var gg={readContext:dn,use:dc,useCallback:function(r,o){return Rn().memoizedState=[r,o===void 0?null:o],r},useContext:dn,useEffect:J0,useImperativeHandle:function(r,o,b){b=b!=null?b.concat([r]):null,mc(4194308,4,ng.bind(null,o,r),b)},useLayoutEffect:function(r,o){return mc(4194308,4,r,o)},useInsertionEffect:function(r,o){mc(4,2,r,o)},useMemo:function(r,o){var b=Rn();o=o===void 0?null:o;var A=r();if(Pa){ie(!0);try{r()}finally{ie(!1)}}return b.memoizedState=[A,o],A},useReducer:function(r,o,b){var A=Rn();if(b!==void 0){var z=b(o);if(Pa){ie(!0);try{b(o)}finally{ie(!1)}}}else z=o;return A.memoizedState=A.baseState=z,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:z},A.queue=r,r=r.dispatch=f_.bind(null,er,r),[A.memoizedState,r]},useRef:function(r){var o=Rn();return r={current:r},o.memoizedState=r},useState:function(r){r=$f(r);var o=r.queue,b=dg.bind(null,er,o);return o.dispatch=b,[r.memoizedState,b]},useDebugValue:Xf,useDeferredValue:function(r,o){var b=Rn();return Yf(b,r,o)},useTransition:function(){var r=$f(!1);return r=lg.bind(null,er,r.queue,!0,!1),Rn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,b){var A=er,z=Rn();if(pr){if(b===void 0)throw Error(i(407));b=b()}else{if(b=o(),Rr===null)throw Error(i(349));(ur&127)!==0||L0(A,o,b)}z.memoizedState=b;var W={value:b,getSnapshot:o};return z.queue=W,J0(V0.bind(null,A,W,r),[r]),A.flags|=2048,To(9,{destroy:void 0},B0.bind(null,A,W,b,o),null),b},useId:function(){var r=Rn(),o=Rr.identifierPrefix;if(pr){var b=Li,A=Pi;b=(A&~(1<<32-ae(A)-1)).toString(32)+b,o="_"+o+"R_"+b,b=hc++,0<b&&(o+="H"+b.toString(32)),o+="_"}else b=s_++,o="_"+o+"r_"+b.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:Qf,useFormState:X0,useActionState:X0,useOptimistic:function(r){var o=Rn();o.memoizedState=o.baseState=r;var b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=b,o=Zf.bind(null,er,!0,b),b.dispatch=o,[r,o]},useMemoCache:Ff,useCacheRefresh:function(){return Rn().memoizedState=h_.bind(null,er)},useEffectEvent:function(r){var o=Rn(),b={impl:r};return o.memoizedState=b,function(){if((wr&2)!==0)throw Error(i(440));return b.impl.apply(void 0,arguments)}}},Jf={readContext:dn,use:dc,useCallback:sg,useContext:dn,useEffect:Wf,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:rg,useMemo:ag,useReducer:pc,useRef:Z0,useState:function(){return pc(rs)},useDebugValue:Xf,useDeferredValue:function(r,o){var b=Wr();return og(b,Ar.memoizedState,r,o)},useTransition:function(){var r=pc(rs)[0],o=Wr().memoizedState;return[typeof r=="boolean"?r:kl(r),o]},useSyncExternalStore:P0,useId:hg,useHostTransitionStatus:Qf,useFormState:Y0,useActionState:Y0,useOptimistic:function(r,o){var b=Wr();return F0(b,Ar,r,o)},useMemoCache:Ff,useCacheRefresh:fg};Jf.useEffectEvent=tg;var bg={readContext:dn,use:dc,useCallback:sg,useContext:dn,useEffect:Wf,useImperativeHandle:ig,useInsertionEffect:eg,useLayoutEffect:rg,useMemo:ag,useReducer:qf,useRef:Z0,useState:function(){return qf(rs)},useDebugValue:Xf,useDeferredValue:function(r,o){var b=Wr();return Ar===null?Yf(b,r,o):og(b,Ar.memoizedState,r,o)},useTransition:function(){var r=qf(rs)[0],o=Wr().memoizedState;return[typeof r=="boolean"?r:kl(r),o]},useSyncExternalStore:P0,useId:hg,useHostTransitionStatus:Qf,useFormState:Q0,useActionState:Q0,useOptimistic:function(r,o){var b=Wr();return Ar!==null?F0(b,Ar,r,o):(b.baseState=r,[r,b.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:fg};bg.useEffectEvent=tg;function td(r,o,b,A){o=r.memoizedState,b=b(A,o),b=b==null?o:p({},o,b),r.memoizedState=b,r.lanes===0&&(r.updateQueue.baseState=b)}var ed={enqueueSetState:function(r,o,b){r=r._reactInternals;var A=Yn(),z=Os(A);z.payload=o,b!=null&&(z.callback=b),o=js(r,z,A),o!==null&&(Pn(o,r,A),Sl(o,r,A))},enqueueReplaceState:function(r,o,b){r=r._reactInternals;var A=Yn(),z=Os(A);z.tag=1,z.payload=o,b!=null&&(z.callback=b),o=js(r,z,A),o!==null&&(Pn(o,r,A),Sl(o,r,A))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var b=Yn(),A=Os(b);A.tag=2,o!=null&&(A.callback=o),o=js(r,A,b),o!==null&&(Pn(o,r,b),Sl(o,r,b))}};function yg(r,o,b,A,z,W,et){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(A,W,et):o.prototype&&o.prototype.isPureReactComponent?!ml(b,A)||!ml(z,W):!0}function vg(r,o,b,A){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(b,A),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(b,A),o.state!==r&&ed.enqueueReplaceState(o,o.state,null)}function La(r,o){var b=o;if("ref"in o){b={};for(var A in o)A!=="ref"&&(b[A]=o[A])}if(r=r.defaultProps){b===o&&(b=p({},b));for(var z in r)b[z]===void 0&&(b[z]=r[z])}return b}function wg(r){Yu(r)}function _g(r){console.error(r)}function xg(r){Yu(r)}function yc(r,o){try{var b=r.onUncaughtError;b(o.value,{componentStack:o.stack})}catch(A){setTimeout(function(){throw A})}}function Sg(r,o,b){try{var A=r.onCaughtError;A(b.value,{componentStack:b.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function rd(r,o,b){return b=Os(b),b.tag=3,b.payload={element:null},b.callback=function(){yc(r,o)},b}function Tg(r){return r=Os(r),r.tag=3,r}function Eg(r,o,b,A){var z=b.type.getDerivedStateFromError;if(typeof z=="function"){var W=A.value;r.payload=function(){return z(W)},r.callback=function(){Sg(o,b,A)}}var et=b.stateNode;et!==null&&typeof et.componentDidCatch=="function"&&(r.callback=function(){Sg(o,b,A),typeof z!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var lt=A.stack;this.componentDidCatch(A.value,{componentStack:lt!==null?lt:""})})}function d_(r,o,b,A,z){if(b.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(o=b.alternate,o!==null&&go(o,b,z,!0),b=$n.current,b!==null){switch(b.tag){case 31:case 13:return ai===null?Mc():b.alternate===null&&Fr===0&&(Fr=3),b.flags&=-257,b.flags|=65536,b.lanes=z,A===sc?b.flags|=16384:(o=b.updateQueue,o===null?b.updateQueue=new Set([A]):o.add(A),kd(r,A,z)),!1;case 22:return b.flags|=65536,A===sc?b.flags|=16384:(o=b.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([A])},b.updateQueue=o):(b=o.retryQueue,b===null?o.retryQueue=new Set([A]):b.add(A)),kd(r,A,z)),!1}throw Error(i(435,b.tag))}return kd(r,A,z),Mc(),!1}if(pr)return o=$n.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=z,A!==_f&&(r=Error(i(422),{cause:A}),yl(ri(r,b)))):(A!==_f&&(o=Error(i(423),{cause:A}),yl(ri(o,b))),r=r.current.alternate,r.flags|=65536,z&=-z,r.lanes|=z,A=ri(A,b),z=rd(r.stateNode,A,z),If(r,z),Fr!==4&&(Fr=2)),!1;var W=Error(i(520),{cause:A});if(W=ri(W,b),Ll===null?Ll=[W]:Ll.push(W),Fr!==4&&(Fr=2),o===null)return!0;A=ri(A,b),b=o;do{switch(b.tag){case 3:return b.flags|=65536,r=z&-z,b.lanes|=r,r=rd(b.stateNode,A,r),If(b,r),!1;case 1:if(o=b.type,W=b.stateNode,(b.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(zs===null||!zs.has(W))))return b.flags|=65536,z&=-z,b.lanes|=z,z=Tg(z),Eg(z,r,b,A),If(b,z),!1}b=b.return}while(b!==null);return!1}var nd=Error(i(461)),Qr=!1;function pn(r,o,b,A){o.child=r===null?R0(o,null,b,A):Da(o,r.child,b,A)}function Ag(r,o,b,A,z){b=b.render;var W=o.ref;if("ref"in A){var et={};for(var lt in A)lt!=="ref"&&(et[lt]=A[lt])}else et=A;return Na(o),A=Bf(r,o,b,et,W,z),lt=Vf(),r!==null&&!Qr?(zf(r,o,z),ns(r,o,z)):(pr&&lt&&vf(o),o.flags|=1,pn(r,o,A,z),o.child)}function kg(r,o,b,A,z){if(r===null){var W=b.type;return typeof W=="function"&&!gf(W)&&W.defaultProps===void 0&&b.compare===null?(o.tag=15,o.type=W,Cg(r,o,W,A,z)):(r=Ju(b.type,null,A,o,o.mode,z),r.ref=o.ref,r.return=o,o.child=r)}if(W=r.child,!hd(r,z)){var et=W.memoizedProps;if(b=b.compare,b=b!==null?b:ml,b(et,A)&&r.ref===o.ref)return ns(r,o,z)}return o.flags|=1,r=Qi(W,A),r.ref=o.ref,r.return=o,o.child=r}function Cg(r,o,b,A,z){if(r!==null){var W=r.memoizedProps;if(ml(W,A)&&r.ref===o.ref)if(Qr=!1,o.pendingProps=A=W,hd(r,z))(r.flags&131072)!==0&&(Qr=!0);else return o.lanes=r.lanes,ns(r,o,z)}return id(r,o,b,A,z)}function Rg(r,o,b,A){var z=A.children,W=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.mode==="hidden"){if((o.flags&128)!==0){if(W=W!==null?W.baseLanes|b:b,r!==null){for(A=o.child=r.child,z=0;A!==null;)z=z|A.lanes|A.childLanes,A=A.sibling;A=z&~W}else A=0,o.child=null;return Mg(r,o,W,b,A)}if((b&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&nc(o,W!==null?W.cachePool:null),W!==null?I0(o,W):jf(),O0(o);else return A=o.lanes=536870912,Mg(r,o,W!==null?W.baseLanes|b:b,b,A)}else W!==null?(nc(o,W.cachePool),I0(o,W),Ps(),o.memoizedState=null):(r!==null&&nc(o,null),jf(),Ps());return pn(r,o,z,b),o.child}function Ml(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Mg(r,o,b,A,z){var W=Cf();return W=W===null?null:{parent:Yr._currentValue,pool:W},o.memoizedState={baseLanes:b,cachePool:W},r!==null&&nc(o,null),jf(),O0(o),r!==null&&go(r,o,A,!0),o.childLanes=z,null}function vc(r,o){return o=_c({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function Ng(r,o,b){return Da(o,r.child,null,b),r=vc(o,o.pendingProps),r.flags|=2,Gn(o),o.memoizedState=null,r}function p_(r,o,b){var A=o.pendingProps,z=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(pr){if(A.mode==="hidden")return r=vc(o,A),o.lanes=536870912,Ml(null,r);if(Pf(o),(r=Ir)?(r=H1(r,si),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Cs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},b=p0(r),b.return=o,o.child=b,fn=o,Ir=null)):r=null,r===null)throw Ms(o);return o.lanes=536870912,null}return vc(o,A)}var W=r.memoizedState;if(W!==null){var et=W.dehydrated;if(Pf(o),z)if(o.flags&256)o.flags&=-257,o=Ng(r,o,b);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Qr||go(r,o,b,!1),z=(b&r.childLanes)!==0,Qr||z){if(A=Rr,A!==null&&(et=gt(A,b),et!==0&&et!==W.retryLane))throw W.retryLane=et,ka(r,et),Pn(A,r,et),nd;Mc(),o=Ng(r,o,b)}else r=W.treeContext,Ir=oi(et.nextSibling),fn=o,pr=!0,Rs=null,si=!1,r!==null&&b0(o,r),o=vc(o,A),o.flags|=4096;return o}return r=Qi(r.child,{mode:A.mode,children:A.children}),r.ref=o.ref,o.child=r,r.return=o,r}function wc(r,o){var b=o.ref;if(b===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof b!="function"&&typeof b!="object")throw Error(i(284));(r===null||r.ref!==b)&&(o.flags|=4194816)}}function id(r,o,b,A,z){return Na(o),b=Bf(r,o,b,A,void 0,z),A=Vf(),r!==null&&!Qr?(zf(r,o,z),ns(r,o,z)):(pr&&A&&vf(o),o.flags|=1,pn(r,o,b,z),o.child)}function Ig(r,o,b,A,z,W){return Na(o),o.updateQueue=null,b=D0(o,A,b,z),j0(r),A=Vf(),r!==null&&!Qr?(zf(r,o,W),ns(r,o,W)):(pr&&A&&vf(o),o.flags|=1,pn(r,o,b,W),o.child)}function Og(r,o,b,A,z){if(Na(o),o.stateNode===null){var W=ho,et=b.contextType;typeof et=="object"&&et!==null&&(W=dn(et)),W=new b(A,W),o.memoizedState=W.state!==null&&W.state!==void 0?W.state:null,W.updater=ed,o.stateNode=W,W._reactInternals=o,W=o.stateNode,W.props=A,W.state=o.memoizedState,W.refs={},Mf(o),et=b.contextType,W.context=typeof et=="object"&&et!==null?dn(et):ho,W.state=o.memoizedState,et=b.getDerivedStateFromProps,typeof et=="function"&&(td(o,b,et,A),W.state=o.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof W.getSnapshotBeforeUpdate=="function"||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(et=W.state,typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount(),et!==W.state&&ed.enqueueReplaceState(W,W.state,null),El(o,A,W,z),Tl(),W.state=o.memoizedState),typeof W.componentDidMount=="function"&&(o.flags|=4194308),A=!0}else if(r===null){W=o.stateNode;var lt=o.memoizedProps,mt=La(b,lt);W.props=mt;var Rt=W.context,Vt=b.contextType;et=ho,typeof Vt=="object"&&Vt!==null&&(et=dn(Vt));var Wt=b.getDerivedStateFromProps;Vt=typeof Wt=="function"||typeof W.getSnapshotBeforeUpdate=="function",lt=o.pendingProps!==lt,Vt||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(lt||Rt!==et)&&vg(o,W,A,et),Is=!1;var Ot=o.memoizedState;W.state=Ot,El(o,A,W,z),Tl(),Rt=o.memoizedState,lt||Ot!==Rt||Is?(typeof Wt=="function"&&(td(o,b,Wt,A),Rt=o.memoizedState),(mt=Is||yg(o,b,mt,A,Ot,Rt,et))?(Vt||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(o.flags|=4194308)):(typeof W.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=A,o.memoizedState=Rt),W.props=A,W.state=Rt,W.context=et,A=mt):(typeof W.componentDidMount=="function"&&(o.flags|=4194308),A=!1)}else{W=o.stateNode,Nf(r,o),et=o.memoizedProps,Vt=La(b,et),W.props=Vt,Wt=o.pendingProps,Ot=W.context,Rt=b.contextType,mt=ho,typeof Rt=="object"&&Rt!==null&&(mt=dn(Rt)),lt=b.getDerivedStateFromProps,(Rt=typeof lt=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(et!==Wt||Ot!==mt)&&vg(o,W,A,mt),Is=!1,Ot=o.memoizedState,W.state=Ot,El(o,A,W,z),Tl();var Bt=o.memoizedState;et!==Wt||Ot!==Bt||Is||r!==null&&r.dependencies!==null&&ec(r.dependencies)?(typeof lt=="function"&&(td(o,b,lt,A),Bt=o.memoizedState),(Vt=Is||yg(o,b,Vt,A,Ot,Bt,mt)||r!==null&&r.dependencies!==null&&ec(r.dependencies))?(Rt||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(A,Bt,mt),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(A,Bt,mt)),typeof W.componentDidUpdate=="function"&&(o.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof W.componentDidUpdate!="function"||et===r.memoizedProps&&Ot===r.memoizedState||(o.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||et===r.memoizedProps&&Ot===r.memoizedState||(o.flags|=1024),o.memoizedProps=A,o.memoizedState=Bt),W.props=A,W.state=Bt,W.context=mt,A=Vt):(typeof W.componentDidUpdate!="function"||et===r.memoizedProps&&Ot===r.memoizedState||(o.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||et===r.memoizedProps&&Ot===r.memoizedState||(o.flags|=1024),A=!1)}return W=A,wc(r,o),A=(o.flags&128)!==0,W||A?(W=o.stateNode,b=A&&typeof b.getDerivedStateFromError!="function"?null:W.render(),o.flags|=1,r!==null&&A?(o.child=Da(o,r.child,null,z),o.child=Da(o,null,b,z)):pn(r,o,b,z),o.memoizedState=W.state,r=o.child):r=ns(r,o,z),r}function jg(r,o,b,A){return Ra(),o.flags|=256,pn(r,o,b,A),o.child}var sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(r){return{baseLanes:r,cachePool:S0()}}function od(r,o,b){return r=r!==null?r.childLanes&~b:0,o&&(r|=Xn),r}function Dg(r,o,b){var A=o.pendingProps,z=!1,W=(o.flags&128)!==0,et;if((et=W)||(et=r!==null&&r.memoizedState===null?!1:(Gr.current&2)!==0),et&&(z=!0,o.flags&=-129),et=(o.flags&32)!==0,o.flags&=-33,r===null){if(pr){if(z?Ds(o):Ps(),(r=Ir)?(r=H1(r,si),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:Cs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},b=p0(r),b.return=o,o.child=b,fn=o,Ir=null)):r=null,r===null)throw Ms(o);return Hd(r)?o.lanes=32:o.lanes=536870912,null}var lt=A.children;return A=A.fallback,z?(Ps(),z=o.mode,lt=_c({mode:"hidden",children:lt},z),A=Ca(A,z,b,null),lt.return=o,A.return=o,lt.sibling=A,o.child=lt,A=o.child,A.memoizedState=ad(b),A.childLanes=od(r,et,b),o.memoizedState=sd,Ml(null,A)):(Ds(o),ld(o,lt))}var mt=r.memoizedState;if(mt!==null&&(lt=mt.dehydrated,lt!==null)){if(W)o.flags&256?(Ds(o),o.flags&=-257,o=ud(r,o,b)):o.memoizedState!==null?(Ps(),o.child=r.child,o.flags|=128,o=null):(Ps(),lt=A.fallback,z=o.mode,A=_c({mode:"visible",children:A.children},z),lt=Ca(lt,z,b,null),lt.flags|=2,A.return=o,lt.return=o,A.sibling=lt,o.child=A,Da(o,r.child,null,b),A=o.child,A.memoizedState=ad(b),A.childLanes=od(r,et,b),o.memoizedState=sd,o=Ml(null,A));else if(Ds(o),Hd(lt)){if(et=lt.nextSibling&&lt.nextSibling.dataset,et)var Rt=et.dgst;et=Rt,A=Error(i(419)),A.stack="",A.digest=et,yl({value:A,source:null,stack:null}),o=ud(r,o,b)}else if(Qr||go(r,o,b,!1),et=(b&r.childLanes)!==0,Qr||et){if(et=Rr,et!==null&&(A=gt(et,b),A!==0&&A!==mt.retryLane))throw mt.retryLane=A,ka(r,A),Pn(et,r,A),nd;Fd(lt)||Mc(),o=ud(r,o,b)}else Fd(lt)?(o.flags|=192,o.child=r.child,o=null):(r=mt.treeContext,Ir=oi(lt.nextSibling),fn=o,pr=!0,Rs=null,si=!1,r!==null&&b0(o,r),o=ld(o,A.children),o.flags|=4096);return o}return z?(Ps(),lt=A.fallback,z=o.mode,mt=r.child,Rt=mt.sibling,A=Qi(mt,{mode:"hidden",children:A.children}),A.subtreeFlags=mt.subtreeFlags&65011712,Rt!==null?lt=Qi(Rt,lt):(lt=Ca(lt,z,b,null),lt.flags|=2),lt.return=o,A.return=o,A.sibling=lt,o.child=A,Ml(null,A),A=o.child,lt=r.child.memoizedState,lt===null?lt=ad(b):(z=lt.cachePool,z!==null?(mt=Yr._currentValue,z=z.parent!==mt?{parent:mt,pool:mt}:z):z=S0(),lt={baseLanes:lt.baseLanes|b,cachePool:z}),A.memoizedState=lt,A.childLanes=od(r,et,b),o.memoizedState=sd,Ml(r.child,A)):(Ds(o),b=r.child,r=b.sibling,b=Qi(b,{mode:"visible",children:A.children}),b.return=o,b.sibling=null,r!==null&&(et=o.deletions,et===null?(o.deletions=[r],o.flags|=16):et.push(r)),o.child=b,o.memoizedState=null,b)}function ld(r,o){return o=_c({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function _c(r,o){return r=qn(22,r,null,o),r.lanes=0,r}function ud(r,o,b){return Da(o,r.child,null,b),r=ld(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function Pg(r,o,b){r.lanes|=o;var A=r.alternate;A!==null&&(A.lanes|=o),Tf(r.return,o,b)}function cd(r,o,b,A,z,W){var et=r.memoizedState;et===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:A,tail:b,tailMode:z,treeForkCount:W}:(et.isBackwards=o,et.rendering=null,et.renderingStartTime=0,et.last=A,et.tail=b,et.tailMode=z,et.treeForkCount=W)}function Lg(r,o,b){var A=o.pendingProps,z=A.revealOrder,W=A.tail;A=A.children;var et=Gr.current,lt=(et&2)!==0;if(lt?(et=et&1|2,o.flags|=128):et&=1,K(Gr,et),pn(r,o,A,b),A=pr?bl:0,!lt&&r!==null&&(r.flags&128)!==0)t:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Pg(r,b,o);else if(r.tag===19)Pg(r,b,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break t;for(;r.sibling===null;){if(r.return===null||r.return===o)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(z){case"forwards":for(b=o.child,z=null;b!==null;)r=b.alternate,r!==null&&uc(r)===null&&(z=b),b=b.sibling;b=z,b===null?(z=o.child,o.child=null):(z=b.sibling,b.sibling=null),cd(o,!1,z,b,W,A);break;case"backwards":case"unstable_legacy-backwards":for(b=null,z=o.child,o.child=null;z!==null;){if(r=z.alternate,r!==null&&uc(r)===null){o.child=z;break}r=z.sibling,z.sibling=b,b=z,z=r}cd(o,!0,b,null,W,A);break;case"together":cd(o,!1,null,null,void 0,A);break;default:o.memoizedState=null}return o.child}function ns(r,o,b){if(r!==null&&(o.dependencies=r.dependencies),Vs|=o.lanes,(b&o.childLanes)===0)if(r!==null){if(go(r,o,b,!1),(b&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,b=Qi(r,r.pendingProps),o.child=b,b.return=o;r.sibling!==null;)r=r.sibling,b=b.sibling=Qi(r,r.pendingProps),b.return=o;b.sibling=null}return o.child}function hd(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&ec(r)))}function m_(r,o,b){switch(o.tag){case 3:V(o,o.stateNode.containerInfo),Ns(o,Yr,r.memoizedState.cache),Ra();break;case 27:case 5:Q(o);break;case 4:V(o,o.stateNode.containerInfo);break;case 10:Ns(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Pf(o),null;break;case 13:var A=o.memoizedState;if(A!==null)return A.dehydrated!==null?(Ds(o),o.flags|=128,null):(b&o.child.childLanes)!==0?Dg(r,o,b):(Ds(o),r=ns(r,o,b),r!==null?r.sibling:null);Ds(o);break;case 19:var z=(r.flags&128)!==0;if(A=(b&o.childLanes)!==0,A||(go(r,o,b,!1),A=(b&o.childLanes)!==0),z){if(A)return Lg(r,o,b);o.flags|=128}if(z=o.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),K(Gr,Gr.current),A)break;return null;case 22:return o.lanes=0,Rg(r,o,b,o.pendingProps);case 24:Ns(o,Yr,r.memoizedState.cache)}return ns(r,o,b)}function Bg(r,o,b){if(r!==null)if(r.memoizedProps!==o.pendingProps)Qr=!0;else{if(!hd(r,b)&&(o.flags&128)===0)return Qr=!1,m_(r,o,b);Qr=(r.flags&131072)!==0}else Qr=!1,pr&&(o.flags&1048576)!==0&&g0(o,bl,o.index);switch(o.lanes=0,o.tag){case 16:t:{var A=o.pendingProps;if(r=Oa(o.elementType),o.type=r,typeof r=="function")gf(r)?(A=La(r,A),o.tag=1,o=Og(null,o,r,A,b)):(o.tag=0,o=id(null,o,r,A,b));else{if(r!=null){var z=r.$$typeof;if(z===M){o.tag=11,o=Ag(null,o,r,A,b);break t}else if(z===F){o.tag=14,o=kg(null,o,r,A,b);break t}}throw o=P(r)||r,Error(i(306,o,""))}}return o;case 0:return id(r,o,o.type,o.pendingProps,b);case 1:return A=o.type,z=La(A,o.pendingProps),Og(r,o,A,z,b);case 3:t:{if(V(o,o.stateNode.containerInfo),r===null)throw Error(i(387));A=o.pendingProps;var W=o.memoizedState;z=W.element,Nf(r,o),El(o,A,null,b);var et=o.memoizedState;if(A=et.cache,Ns(o,Yr,A),A!==W.cache&&Ef(o,[Yr],b,!0),Tl(),A=et.element,W.isDehydrated)if(W={element:A,isDehydrated:!1,cache:et.cache},o.updateQueue.baseState=W,o.memoizedState=W,o.flags&256){o=jg(r,o,A,b);break t}else if(A!==z){z=ri(Error(i(424)),o),yl(z),o=jg(r,o,A,b);break t}else for(r=o.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ir=oi(r.firstChild),fn=o,pr=!0,Rs=null,si=!0,b=R0(o,null,A,b),o.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ra(),A===z){o=ns(r,o,b);break t}pn(r,o,A,b)}o=o.child}return o;case 26:return wc(r,o),r===null?(b=Y1(o.type,null,o.pendingProps,null))?o.memoizedState=b:pr||(b=o.type,r=o.pendingProps,A=Lc(H.current).createElement(b),A[fe]=o,A[oe]=r,mn(A,b,r),Lt(A),o.stateNode=A):o.memoizedState=Y1(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Q(o),r===null&&pr&&(A=o.stateNode=G1(o.type,o.pendingProps,H.current),fn=o,si=!0,z=Ir,qs(o.type)?(qd=z,Ir=oi(A.firstChild)):Ir=z),pn(r,o,o.pendingProps.children,b),wc(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&pr&&((z=A=Ir)&&(A=$_(A,o.type,o.pendingProps,si),A!==null?(o.stateNode=A,fn=o,Ir=oi(A.firstChild),si=!1,z=!0):z=!1),z||Ms(o)),Q(o),z=o.type,W=o.pendingProps,et=r!==null?r.memoizedProps:null,A=W.children,Vd(z,W)?A=null:et!==null&&Vd(z,et)&&(o.flags|=32),o.memoizedState!==null&&(z=Bf(r,o,a_,null,null,b),$l._currentValue=z),wc(r,o),pn(r,o,A,b),o.child;case 6:return r===null&&pr&&((r=b=Ir)&&(b=G_(b,o.pendingProps,si),b!==null?(o.stateNode=b,fn=o,Ir=null,r=!0):r=!1),r||Ms(o)),null;case 13:return Dg(r,o,b);case 4:return V(o,o.stateNode.containerInfo),A=o.pendingProps,r===null?o.child=Da(o,null,A,b):pn(r,o,A,b),o.child;case 11:return Ag(r,o,o.type,o.pendingProps,b);case 7:return pn(r,o,o.pendingProps,b),o.child;case 8:return pn(r,o,o.pendingProps.children,b),o.child;case 12:return pn(r,o,o.pendingProps.children,b),o.child;case 10:return A=o.pendingProps,Ns(o,o.type,A.value),pn(r,o,A.children,b),o.child;case 9:return z=o.type._context,A=o.pendingProps.children,Na(o),z=dn(z),A=A(z),o.flags|=1,pn(r,o,A,b),o.child;case 14:return kg(r,o,o.type,o.pendingProps,b);case 15:return Cg(r,o,o.type,o.pendingProps,b);case 19:return Lg(r,o,b);case 31:return p_(r,o,b);case 22:return Rg(r,o,b,o.pendingProps);case 24:return Na(o),A=dn(Yr),r===null?(z=Cf(),z===null&&(z=Rr,W=Af(),z.pooledCache=W,W.refCount++,W!==null&&(z.pooledCacheLanes|=b),z=W),o.memoizedState={parent:A,cache:z},Mf(o),Ns(o,Yr,z)):((r.lanes&b)!==0&&(Nf(r,o),El(o,null,null,b),Tl()),z=r.memoizedState,W=o.memoizedState,z.parent!==A?(z={parent:A,cache:A},o.memoizedState=z,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=z),Ns(o,Yr,A)):(A=W.cache,Ns(o,Yr,A),A!==z.cache&&Ef(o,[Yr],b,!0))),pn(r,o,o.pendingProps.children,b),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function is(r){r.flags|=4}function fd(r,o,b,A,z){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(z&335544128)===z)if(r.stateNode.complete)r.flags|=8192;else if(h1())r.flags|=8192;else throw ja=sc,Rf}else r.flags&=-16777217}function Vg(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!tb(o))if(h1())r.flags|=8192;else throw ja=sc,Rf}function xc(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?qe():536870912,r.lanes|=o,Co|=o)}function Nl(r,o){if(!pr)switch(r.tailMode){case"hidden":o=r.tail;for(var b=null;o!==null;)o.alternate!==null&&(b=o),o=o.sibling;b===null?r.tail=null:b.sibling=null;break;case"collapsed":b=r.tail;for(var A=null;b!==null;)b.alternate!==null&&(A=b),b=b.sibling;A===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:A.sibling=null}}function Or(r){var o=r.alternate!==null&&r.alternate.child===r.child,b=0,A=0;if(o)for(var z=r.child;z!==null;)b|=z.lanes|z.childLanes,A|=z.subtreeFlags&65011712,A|=z.flags&65011712,z.return=r,z=z.sibling;else for(z=r.child;z!==null;)b|=z.lanes|z.childLanes,A|=z.subtreeFlags,A|=z.flags,z.return=r,z=z.sibling;return r.subtreeFlags|=A,r.childLanes=b,o}function g_(r,o,b){var A=o.pendingProps;switch(wf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(o),null;case 1:return Or(o),null;case 3:return b=o.stateNode,A=null,r!==null&&(A=r.memoizedState.cache),o.memoizedState.cache!==A&&(o.flags|=2048),ts(Yr),D(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(r===null||r.child===null)&&(mo(o)?is(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,xf())),Or(o),null;case 26:var z=o.type,W=o.memoizedState;return r===null?(is(o),W!==null?(Or(o),Vg(o,W)):(Or(o),fd(o,z,null,A,b))):W?W!==r.memoizedState?(is(o),Or(o),Vg(o,W)):(Or(o),o.flags&=-16777217):(r=r.memoizedProps,r!==A&&is(o),Or(o),fd(o,z,r,A,b)),null;case 27:if(it(o),b=H.current,z=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==A&&is(o);else{if(!A){if(o.stateNode===null)throw Error(i(166));return Or(o),null}r=Z.current,mo(o)?y0(o):(r=G1(z,A,b),o.stateNode=r,is(o))}return Or(o),null;case 5:if(it(o),z=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==A&&is(o);else{if(!A){if(o.stateNode===null)throw Error(i(166));return Or(o),null}if(W=Z.current,mo(o))y0(o);else{var et=Lc(H.current);switch(W){case 1:W=et.createElementNS("http://www.w3.org/2000/svg",z);break;case 2:W=et.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;default:switch(z){case"svg":W=et.createElementNS("http://www.w3.org/2000/svg",z);break;case"math":W=et.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;case"script":W=et.createElement("div"),W.innerHTML="<script><\/script>",W=W.removeChild(W.firstChild);break;case"select":W=typeof A.is=="string"?et.createElement("select",{is:A.is}):et.createElement("select"),A.multiple?W.multiple=!0:A.size&&(W.size=A.size);break;default:W=typeof A.is=="string"?et.createElement(z,{is:A.is}):et.createElement(z)}}W[fe]=o,W[oe]=A;t:for(et=o.child;et!==null;){if(et.tag===5||et.tag===6)W.appendChild(et.stateNode);else if(et.tag!==4&&et.tag!==27&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===o)break t;for(;et.sibling===null;){if(et.return===null||et.return===o)break t;et=et.return}et.sibling.return=et.return,et=et.sibling}o.stateNode=W;t:switch(mn(W,z,A),z){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break t;case"img":A=!0;break t;default:A=!1}A&&is(o)}}return Or(o),fd(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,b),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==A&&is(o);else{if(typeof A!="string"&&o.stateNode===null)throw Error(i(166));if(r=H.current,mo(o)){if(r=o.stateNode,b=o.memoizedProps,A=null,z=fn,z!==null)switch(z.tag){case 27:case 5:A=z.memoizedProps}r[fe]=o,r=!!(r.nodeValue===b||A!==null&&A.suppressHydrationWarning===!0||D1(r.nodeValue,b)),r||Ms(o,!0)}else r=Lc(r).createTextNode(A),r[fe]=o,o.stateNode=r}return Or(o),null;case 31:if(b=o.memoizedState,r===null||r.memoizedState!==null){if(A=mo(o),b!==null){if(r===null){if(!A)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[fe]=o}else Ra(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Or(o),r=!1}else b=xf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),r=!0;if(!r)return o.flags&256?(Gn(o),o):(Gn(o),null);if((o.flags&128)!==0)throw Error(i(558))}return Or(o),null;case 13:if(A=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(z=mo(o),A!==null&&A.dehydrated!==null){if(r===null){if(!z)throw Error(i(318));if(z=o.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(i(317));z[fe]=o}else Ra(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Or(o),z=!1}else z=xf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=z),z=!0;if(!z)return o.flags&256?(Gn(o),o):(Gn(o),null)}return Gn(o),(o.flags&128)!==0?(o.lanes=b,o):(b=A!==null,r=r!==null&&r.memoizedState!==null,b&&(A=o.child,z=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(z=A.alternate.memoizedState.cachePool.pool),W=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(W=A.memoizedState.cachePool.pool),W!==z&&(A.flags|=2048)),b!==r&&b&&(o.child.flags|=8192),xc(o,o.updateQueue),Or(o),null);case 4:return D(),r===null&&jd(o.stateNode.containerInfo),Or(o),null;case 10:return ts(o.type),Or(o),null;case 19:if(B(Gr),A=o.memoizedState,A===null)return Or(o),null;if(z=(o.flags&128)!==0,W=A.rendering,W===null)if(z)Nl(A,!1);else{if(Fr!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(W=uc(r),W!==null){for(o.flags|=128,Nl(A,!1),r=W.updateQueue,o.updateQueue=r,xc(o,r),o.subtreeFlags=0,r=b,b=o.child;b!==null;)d0(b,r),b=b.sibling;return K(Gr,Gr.current&1|2),pr&&Zi(o,A.treeForkCount),o.child}r=r.sibling}A.tail!==null&&Nt()>kc&&(o.flags|=128,z=!0,Nl(A,!1),o.lanes=4194304)}else{if(!z)if(r=uc(W),r!==null){if(o.flags|=128,z=!0,r=r.updateQueue,o.updateQueue=r,xc(o,r),Nl(A,!0),A.tail===null&&A.tailMode==="hidden"&&!W.alternate&&!pr)return Or(o),null}else 2*Nt()-A.renderingStartTime>kc&&b!==536870912&&(o.flags|=128,z=!0,Nl(A,!1),o.lanes=4194304);A.isBackwards?(W.sibling=o.child,o.child=W):(r=A.last,r!==null?r.sibling=W:o.child=W,A.last=W)}return A.tail!==null?(r=A.tail,A.rendering=r,A.tail=r.sibling,A.renderingStartTime=Nt(),r.sibling=null,b=Gr.current,K(Gr,z?b&1|2:b&1),pr&&Zi(o,A.treeForkCount),r):(Or(o),null);case 22:case 23:return Gn(o),Df(),A=o.memoizedState!==null,r!==null?r.memoizedState!==null!==A&&(o.flags|=8192):A&&(o.flags|=8192),A?(b&536870912)!==0&&(o.flags&128)===0&&(Or(o),o.subtreeFlags&6&&(o.flags|=8192)):Or(o),b=o.updateQueue,b!==null&&xc(o,b.retryQueue),b=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(b=r.memoizedState.cachePool.pool),A=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(A=o.memoizedState.cachePool.pool),A!==b&&(o.flags|=2048),r!==null&&B(Ia),null;case 24:return b=null,r!==null&&(b=r.memoizedState.cache),o.memoizedState.cache!==b&&(o.flags|=2048),ts(Yr),Or(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function b_(r,o){switch(wf(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return ts(Yr),D(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return it(o),null;case 31:if(o.memoizedState!==null){if(Gn(o),o.alternate===null)throw Error(i(340));Ra()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(Gn(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));Ra()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return B(Gr),null;case 4:return D(),null;case 10:return ts(o.type),null;case 22:case 23:return Gn(o),Df(),r!==null&&B(Ia),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return ts(Yr),null;case 25:return null;default:return null}}function zg(r,o){switch(wf(o),o.tag){case 3:ts(Yr),D();break;case 26:case 27:case 5:it(o);break;case 4:D();break;case 31:o.memoizedState!==null&&Gn(o);break;case 13:Gn(o);break;case 19:B(Gr);break;case 10:ts(o.type);break;case 22:case 23:Gn(o),Df(),r!==null&&B(Ia);break;case 24:ts(Yr)}}function Il(r,o){try{var b=o.updateQueue,A=b!==null?b.lastEffect:null;if(A!==null){var z=A.next;b=z;do{if((b.tag&r)===r){A=void 0;var W=b.create,et=b.inst;A=W(),et.destroy=A}b=b.next}while(b!==z)}}catch(lt){Tr(o,o.return,lt)}}function Ls(r,o,b){try{var A=o.updateQueue,z=A!==null?A.lastEffect:null;if(z!==null){var W=z.next;A=W;do{if((A.tag&r)===r){var et=A.inst,lt=et.destroy;if(lt!==void 0){et.destroy=void 0,z=o;var mt=b,Rt=lt;try{Rt()}catch(Vt){Tr(z,mt,Vt)}}}A=A.next}while(A!==W)}}catch(Vt){Tr(o,o.return,Vt)}}function Ug(r){var o=r.updateQueue;if(o!==null){var b=r.stateNode;try{N0(o,b)}catch(A){Tr(r,r.return,A)}}}function Fg(r,o,b){b.props=La(r.type,r.memoizedProps),b.state=r.memoizedState;try{b.componentWillUnmount()}catch(A){Tr(r,o,A)}}function Ol(r,o){try{var b=r.ref;if(b!==null){switch(r.tag){case 26:case 27:case 5:var A=r.stateNode;break;case 30:A=r.stateNode;break;default:A=r.stateNode}typeof b=="function"?r.refCleanup=b(A):b.current=A}}catch(z){Tr(r,o,z)}}function Bi(r,o){var b=r.ref,A=r.refCleanup;if(b!==null)if(typeof A=="function")try{A()}catch(z){Tr(r,o,z)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof b=="function")try{b(null)}catch(z){Tr(r,o,z)}else b.current=null}function Hg(r){var o=r.type,b=r.memoizedProps,A=r.stateNode;try{t:switch(o){case"button":case"input":case"select":case"textarea":b.autoFocus&&A.focus();break t;case"img":b.src?A.src=b.src:b.srcSet&&(A.srcset=b.srcSet)}}catch(z){Tr(r,r.return,z)}}function dd(r,o,b){try{var A=r.stateNode;V_(A,r.type,b,o),A[oe]=o}catch(z){Tr(r,r.return,z)}}function qg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&qs(r.type)||r.tag===4}function pd(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||qg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&qs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function md(r,o,b){var A=r.tag;if(A===5||A===6)r=r.stateNode,o?(b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b).insertBefore(r,o):(o=b.nodeType===9?b.body:b.nodeName==="HTML"?b.ownerDocument.body:b,o.appendChild(r),b=b._reactRootContainer,b!=null||o.onclick!==null||(o.onclick=An));else if(A!==4&&(A===27&&qs(r.type)&&(b=r.stateNode,o=null),r=r.child,r!==null))for(md(r,o,b),r=r.sibling;r!==null;)md(r,o,b),r=r.sibling}function Sc(r,o,b){var A=r.tag;if(A===5||A===6)r=r.stateNode,o?b.insertBefore(r,o):b.appendChild(r);else if(A!==4&&(A===27&&qs(r.type)&&(b=r.stateNode),r=r.child,r!==null))for(Sc(r,o,b),r=r.sibling;r!==null;)Sc(r,o,b),r=r.sibling}function $g(r){var o=r.stateNode,b=r.memoizedProps;try{for(var A=r.type,z=o.attributes;z.length;)o.removeAttributeNode(z[0]);mn(o,A,b),o[fe]=r,o[oe]=b}catch(W){Tr(r,r.return,W)}}var ss=!1,Zr=!1,gd=!1,Gg=typeof WeakSet=="function"?WeakSet:Set,on=null;function y_(r,o){if(r=r.containerInfo,Ld=qc,r=i0(r),uf(r)){if("selectionStart"in r)var b={start:r.selectionStart,end:r.selectionEnd};else t:{b=(b=r.ownerDocument)&&b.defaultView||window;var A=b.getSelection&&b.getSelection();if(A&&A.rangeCount!==0){b=A.anchorNode;var z=A.anchorOffset,W=A.focusNode;A=A.focusOffset;try{b.nodeType,W.nodeType}catch{b=null;break t}var et=0,lt=-1,mt=-1,Rt=0,Vt=0,Wt=r,Ot=null;e:for(;;){for(var Bt;Wt!==b||z!==0&&Wt.nodeType!==3||(lt=et+z),Wt!==W||A!==0&&Wt.nodeType!==3||(mt=et+A),Wt.nodeType===3&&(et+=Wt.nodeValue.length),(Bt=Wt.firstChild)!==null;)Ot=Wt,Wt=Bt;for(;;){if(Wt===r)break e;if(Ot===b&&++Rt===z&&(lt=et),Ot===W&&++Vt===A&&(mt=et),(Bt=Wt.nextSibling)!==null)break;Wt=Ot,Ot=Wt.parentNode}Wt=Bt}b=lt===-1||mt===-1?null:{start:lt,end:mt}}else b=null}b=b||{start:0,end:0}}else b=null;for(Bd={focusedElem:r,selectionRange:b},qc=!1,on=o;on!==null;)if(o=on,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,on=r;else for(;on!==null;){switch(o=on,W=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(b=0;b<r.length;b++)z=r[b],z.ref.impl=z.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&W!==null){r=void 0,b=o,z=W.memoizedProps,W=W.memoizedState,A=b.stateNode;try{var Te=La(b.type,z);r=A.getSnapshotBeforeUpdate(Te,W),A.__reactInternalSnapshotBeforeUpdate=r}catch(Pe){Tr(b,b.return,Pe)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,b=r.nodeType,b===9)Ud(r);else if(b===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ud(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,on=r;break}on=o.return}}function Wg(r,o,b){var A=b.flags;switch(b.tag){case 0:case 11:case 15:os(r,b),A&4&&Il(5,b);break;case 1:if(os(r,b),A&4)if(r=b.stateNode,o===null)try{r.componentDidMount()}catch(et){Tr(b,b.return,et)}else{var z=La(b.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(z,o,r.__reactInternalSnapshotBeforeUpdate)}catch(et){Tr(b,b.return,et)}}A&64&&Ug(b),A&512&&Ol(b,b.return);break;case 3:if(os(r,b),A&64&&(r=b.updateQueue,r!==null)){if(o=null,b.child!==null)switch(b.child.tag){case 27:case 5:o=b.child.stateNode;break;case 1:o=b.child.stateNode}try{N0(r,o)}catch(et){Tr(b,b.return,et)}}break;case 27:o===null&&A&4&&$g(b);case 26:case 5:os(r,b),o===null&&A&4&&Hg(b),A&512&&Ol(b,b.return);break;case 12:os(r,b);break;case 31:os(r,b),A&4&&Kg(r,b);break;case 13:os(r,b),A&4&&Qg(r,b),A&64&&(r=b.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(b=k_.bind(null,b),W_(r,b))));break;case 22:if(A=b.memoizedState!==null||ss,!A){o=o!==null&&o.memoizedState!==null||Zr,z=ss;var W=Zr;ss=A,(Zr=o)&&!W?ls(r,b,(b.subtreeFlags&8772)!==0):os(r,b),ss=z,Zr=W}break;case 30:break;default:os(r,b)}}function Xg(r){var o=r.alternate;o!==null&&(r.alternate=null,Xg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&zt(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Lr=null,In=!1;function as(r,o,b){for(b=b.child;b!==null;)Yg(r,o,b),b=b.sibling}function Yg(r,o,b){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ee,b)}catch{}switch(b.tag){case 26:Zr||Bi(b,o),as(r,o,b),b.memoizedState?b.memoizedState.count--:b.stateNode&&(b=b.stateNode,b.parentNode.removeChild(b));break;case 27:Zr||Bi(b,o);var A=Lr,z=In;qs(b.type)&&(Lr=b.stateNode,In=!1),as(r,o,b),Fl(b.stateNode),Lr=A,In=z;break;case 5:Zr||Bi(b,o);case 6:if(A=Lr,z=In,Lr=null,as(r,o,b),Lr=A,In=z,Lr!==null)if(In)try{(Lr.nodeType===9?Lr.body:Lr.nodeName==="HTML"?Lr.ownerDocument.body:Lr).removeChild(b.stateNode)}catch(W){Tr(b,o,W)}else try{Lr.removeChild(b.stateNode)}catch(W){Tr(b,o,W)}break;case 18:Lr!==null&&(In?(r=Lr,U1(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,b.stateNode),Po(r)):U1(Lr,b.stateNode));break;case 4:A=Lr,z=In,Lr=b.stateNode.containerInfo,In=!0,as(r,o,b),Lr=A,In=z;break;case 0:case 11:case 14:case 15:Ls(2,b,o),Zr||Ls(4,b,o),as(r,o,b);break;case 1:Zr||(Bi(b,o),A=b.stateNode,typeof A.componentWillUnmount=="function"&&Fg(b,o,A)),as(r,o,b);break;case 21:as(r,o,b);break;case 22:Zr=(A=Zr)||b.memoizedState!==null,as(r,o,b),Zr=A;break;default:as(r,o,b)}}function Kg(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Po(r)}catch(b){Tr(o,o.return,b)}}}function Qg(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Po(r)}catch(b){Tr(o,o.return,b)}}function v_(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Gg),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Gg),o;default:throw Error(i(435,r.tag))}}function Tc(r,o){var b=v_(r);o.forEach(function(A){if(!b.has(A)){b.add(A);var z=C_.bind(null,r,A);A.then(z,z)}})}function On(r,o){var b=o.deletions;if(b!==null)for(var A=0;A<b.length;A++){var z=b[A],W=r,et=o,lt=et;t:for(;lt!==null;){switch(lt.tag){case 27:if(qs(lt.type)){Lr=lt.stateNode,In=!1;break t}break;case 5:Lr=lt.stateNode,In=!1;break t;case 3:case 4:Lr=lt.stateNode.containerInfo,In=!0;break t}lt=lt.return}if(Lr===null)throw Error(i(160));Yg(W,et,z),Lr=null,In=!1,W=z.alternate,W!==null&&(W.return=null),z.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Zg(o,r),o=o.sibling}var xi=null;function Zg(r,o){var b=r.alternate,A=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:On(o,r),jn(r),A&4&&(Ls(3,r,r.return),Il(3,r),Ls(5,r,r.return));break;case 1:On(o,r),jn(r),A&512&&(Zr||b===null||Bi(b,b.return)),A&64&&ss&&(r=r.updateQueue,r!==null&&(A=r.callbacks,A!==null&&(b=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=b===null?A:b.concat(A))));break;case 26:var z=xi;if(On(o,r),jn(r),A&512&&(Zr||b===null||Bi(b,b.return)),A&4){var W=b!==null?b.memoizedState:null;if(A=r.memoizedState,b===null)if(A===null)if(r.stateNode===null){t:{A=r.type,b=r.memoizedProps,z=z.ownerDocument||z;e:switch(A){case"title":W=z.getElementsByTagName("title")[0],(!W||W[Ze]||W[fe]||W.namespaceURI==="http://www.w3.org/2000/svg"||W.hasAttribute("itemprop"))&&(W=z.createElement(A),z.head.insertBefore(W,z.querySelector("head > title"))),mn(W,A,b),W[fe]=r,Lt(W),A=W;break t;case"link":var et=Z1("link","href",z).get(A+(b.href||""));if(et){for(var lt=0;lt<et.length;lt++)if(W=et[lt],W.getAttribute("href")===(b.href==null||b.href===""?null:b.href)&&W.getAttribute("rel")===(b.rel==null?null:b.rel)&&W.getAttribute("title")===(b.title==null?null:b.title)&&W.getAttribute("crossorigin")===(b.crossOrigin==null?null:b.crossOrigin)){et.splice(lt,1);break e}}W=z.createElement(A),mn(W,A,b),z.head.appendChild(W);break;case"meta":if(et=Z1("meta","content",z).get(A+(b.content||""))){for(lt=0;lt<et.length;lt++)if(W=et[lt],W.getAttribute("content")===(b.content==null?null:""+b.content)&&W.getAttribute("name")===(b.name==null?null:b.name)&&W.getAttribute("property")===(b.property==null?null:b.property)&&W.getAttribute("http-equiv")===(b.httpEquiv==null?null:b.httpEquiv)&&W.getAttribute("charset")===(b.charSet==null?null:b.charSet)){et.splice(lt,1);break e}}W=z.createElement(A),mn(W,A,b),z.head.appendChild(W);break;default:throw Error(i(468,A))}W[fe]=r,Lt(W),A=W}r.stateNode=A}else J1(z,r.type,r.stateNode);else r.stateNode=Q1(z,A,r.memoizedProps);else W!==A?(W===null?b.stateNode!==null&&(b=b.stateNode,b.parentNode.removeChild(b)):W.count--,A===null?J1(z,r.type,r.stateNode):Q1(z,A,r.memoizedProps)):A===null&&r.stateNode!==null&&dd(r,r.memoizedProps,b.memoizedProps)}break;case 27:On(o,r),jn(r),A&512&&(Zr||b===null||Bi(b,b.return)),b!==null&&A&4&&dd(r,r.memoizedProps,b.memoizedProps);break;case 5:if(On(o,r),jn(r),A&512&&(Zr||b===null||Bi(b,b.return)),r.flags&32){z=r.stateNode;try{Dr(z,"")}catch(Te){Tr(r,r.return,Te)}}A&4&&r.stateNode!=null&&(z=r.memoizedProps,dd(r,z,b!==null?b.memoizedProps:z)),A&1024&&(gd=!0);break;case 6:if(On(o,r),jn(r),A&4){if(r.stateNode===null)throw Error(i(162));A=r.memoizedProps,b=r.stateNode;try{b.nodeValue=A}catch(Te){Tr(r,r.return,Te)}}break;case 3:if(zc=null,z=xi,xi=Bc(o.containerInfo),On(o,r),xi=z,jn(r),A&4&&b!==null&&b.memoizedState.isDehydrated)try{Po(o.containerInfo)}catch(Te){Tr(r,r.return,Te)}gd&&(gd=!1,Jg(r));break;case 4:A=xi,xi=Bc(r.stateNode.containerInfo),On(o,r),jn(r),xi=A;break;case 12:On(o,r),jn(r);break;case 31:On(o,r),jn(r),A&4&&(A=r.updateQueue,A!==null&&(r.updateQueue=null,Tc(r,A)));break;case 13:On(o,r),jn(r),r.child.flags&8192&&r.memoizedState!==null!=(b!==null&&b.memoizedState!==null)&&(Ac=Nt()),A&4&&(A=r.updateQueue,A!==null&&(r.updateQueue=null,Tc(r,A)));break;case 22:z=r.memoizedState!==null;var mt=b!==null&&b.memoizedState!==null,Rt=ss,Vt=Zr;if(ss=Rt||z,Zr=Vt||mt,On(o,r),Zr=Vt,ss=Rt,jn(r),A&8192)t:for(o=r.stateNode,o._visibility=z?o._visibility&-2:o._visibility|1,z&&(b===null||mt||ss||Zr||Ba(r)),b=null,o=r;;){if(o.tag===5||o.tag===26){if(b===null){mt=b=o;try{if(W=mt.stateNode,z)et=W.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none";else{lt=mt.stateNode;var Wt=mt.memoizedProps.style,Ot=Wt!=null&&Wt.hasOwnProperty("display")?Wt.display:null;lt.style.display=Ot==null||typeof Ot=="boolean"?"":(""+Ot).trim()}}catch(Te){Tr(mt,mt.return,Te)}}}else if(o.tag===6){if(b===null){mt=o;try{mt.stateNode.nodeValue=z?"":mt.memoizedProps}catch(Te){Tr(mt,mt.return,Te)}}}else if(o.tag===18){if(b===null){mt=o;try{var Bt=mt.stateNode;z?F1(Bt,!0):F1(mt.stateNode,!1)}catch(Te){Tr(mt,mt.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;b===o&&(b=null),o=o.return}b===o&&(b=null),o.sibling.return=o.return,o=o.sibling}A&4&&(A=r.updateQueue,A!==null&&(b=A.retryQueue,b!==null&&(A.retryQueue=null,Tc(r,b))));break;case 19:On(o,r),jn(r),A&4&&(A=r.updateQueue,A!==null&&(r.updateQueue=null,Tc(r,A)));break;case 30:break;case 21:break;default:On(o,r),jn(r)}}function jn(r){var o=r.flags;if(o&2){try{for(var b,A=r.return;A!==null;){if(qg(A)){b=A;break}A=A.return}if(b==null)throw Error(i(160));switch(b.tag){case 27:var z=b.stateNode,W=pd(r);Sc(r,W,z);break;case 5:var et=b.stateNode;b.flags&32&&(Dr(et,""),b.flags&=-33);var lt=pd(r);Sc(r,lt,et);break;case 3:case 4:var mt=b.stateNode.containerInfo,Rt=pd(r);md(r,Rt,mt);break;default:throw Error(i(161))}}catch(Vt){Tr(r,r.return,Vt)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Jg(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Jg(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function os(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Wg(r,o.alternate,o),o=o.sibling}function Ba(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ls(4,o,o.return),Ba(o);break;case 1:Bi(o,o.return);var b=o.stateNode;typeof b.componentWillUnmount=="function"&&Fg(o,o.return,b),Ba(o);break;case 27:Fl(o.stateNode);case 26:case 5:Bi(o,o.return),Ba(o);break;case 22:o.memoizedState===null&&Ba(o);break;case 30:Ba(o);break;default:Ba(o)}r=r.sibling}}function ls(r,o,b){for(b=b&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var A=o.alternate,z=r,W=o,et=W.flags;switch(W.tag){case 0:case 11:case 15:ls(z,W,b),Il(4,W);break;case 1:if(ls(z,W,b),A=W,z=A.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(Rt){Tr(A,A.return,Rt)}if(A=W,z=A.updateQueue,z!==null){var lt=A.stateNode;try{var mt=z.shared.hiddenCallbacks;if(mt!==null)for(z.shared.hiddenCallbacks=null,z=0;z<mt.length;z++)M0(mt[z],lt)}catch(Rt){Tr(A,A.return,Rt)}}b&&et&64&&Ug(W),Ol(W,W.return);break;case 27:$g(W);case 26:case 5:ls(z,W,b),b&&A===null&&et&4&&Hg(W),Ol(W,W.return);break;case 12:ls(z,W,b);break;case 31:ls(z,W,b),b&&et&4&&Kg(z,W);break;case 13:ls(z,W,b),b&&et&4&&Qg(z,W);break;case 22:W.memoizedState===null&&ls(z,W,b),Ol(W,W.return);break;case 30:break;default:ls(z,W,b)}o=o.sibling}}function bd(r,o){var b=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(b=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==b&&(r!=null&&r.refCount++,b!=null&&vl(b))}function yd(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&vl(r))}function Si(r,o,b,A){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)t1(r,o,b,A),o=o.sibling}function t1(r,o,b,A){var z=o.flags;switch(o.tag){case 0:case 11:case 15:Si(r,o,b,A),z&2048&&Il(9,o);break;case 1:Si(r,o,b,A);break;case 3:Si(r,o,b,A),z&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&vl(r)));break;case 12:if(z&2048){Si(r,o,b,A),r=o.stateNode;try{var W=o.memoizedProps,et=W.id,lt=W.onPostCommit;typeof lt=="function"&&lt(et,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(mt){Tr(o,o.return,mt)}}else Si(r,o,b,A);break;case 31:Si(r,o,b,A);break;case 13:Si(r,o,b,A);break;case 23:break;case 22:W=o.stateNode,et=o.alternate,o.memoizedState!==null?W._visibility&2?Si(r,o,b,A):jl(r,o):W._visibility&2?Si(r,o,b,A):(W._visibility|=2,Eo(r,o,b,A,(o.subtreeFlags&10256)!==0||!1)),z&2048&&bd(et,o);break;case 24:Si(r,o,b,A),z&2048&&yd(o.alternate,o);break;default:Si(r,o,b,A)}}function Eo(r,o,b,A,z){for(z=z&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var W=r,et=o,lt=b,mt=A,Rt=et.flags;switch(et.tag){case 0:case 11:case 15:Eo(W,et,lt,mt,z),Il(8,et);break;case 23:break;case 22:var Vt=et.stateNode;et.memoizedState!==null?Vt._visibility&2?Eo(W,et,lt,mt,z):jl(W,et):(Vt._visibility|=2,Eo(W,et,lt,mt,z)),z&&Rt&2048&&bd(et.alternate,et);break;case 24:Eo(W,et,lt,mt,z),z&&Rt&2048&&yd(et.alternate,et);break;default:Eo(W,et,lt,mt,z)}o=o.sibling}}function jl(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var b=r,A=o,z=A.flags;switch(A.tag){case 22:jl(b,A),z&2048&&bd(A.alternate,A);break;case 24:jl(b,A),z&2048&&yd(A.alternate,A);break;default:jl(b,A)}o=o.sibling}}var Dl=8192;function Ao(r,o,b){if(r.subtreeFlags&Dl)for(r=r.child;r!==null;)e1(r,o,b),r=r.sibling}function e1(r,o,b){switch(r.tag){case 26:Ao(r,o,b),r.flags&Dl&&r.memoizedState!==null&&s3(b,xi,r.memoizedState,r.memoizedProps);break;case 5:Ao(r,o,b);break;case 3:case 4:var A=xi;xi=Bc(r.stateNode.containerInfo),Ao(r,o,b),xi=A;break;case 22:r.memoizedState===null&&(A=r.alternate,A!==null&&A.memoizedState!==null?(A=Dl,Dl=16777216,Ao(r,o,b),Dl=A):Ao(r,o,b));break;default:Ao(r,o,b)}}function r1(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function Pl(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var b=0;b<o.length;b++){var A=o[b];on=A,i1(A,r)}r1(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)n1(r),r=r.sibling}function n1(r){switch(r.tag){case 0:case 11:case 15:Pl(r),r.flags&2048&&Ls(9,r,r.return);break;case 3:Pl(r);break;case 12:Pl(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,Ec(r)):Pl(r);break;default:Pl(r)}}function Ec(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var b=0;b<o.length;b++){var A=o[b];on=A,i1(A,r)}r1(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ls(8,o,o.return),Ec(o);break;case 22:b=o.stateNode,b._visibility&2&&(b._visibility&=-3,Ec(o));break;default:Ec(o)}r=r.sibling}}function i1(r,o){for(;on!==null;){var b=on;switch(b.tag){case 0:case 11:case 15:Ls(8,b,o);break;case 23:case 22:if(b.memoizedState!==null&&b.memoizedState.cachePool!==null){var A=b.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:vl(b.memoizedState.cache)}if(A=b.child,A!==null)A.return=b,on=A;else t:for(b=r;on!==null;){A=on;var z=A.sibling,W=A.return;if(Xg(A),A===b){on=null;break t}if(z!==null){z.return=W,on=z;break t}on=W}}}var w_={getCacheForType:function(r){var o=dn(Yr),b=o.data.get(r);return b===void 0&&(b=r(),o.data.set(r,b)),b},cacheSignal:function(){return dn(Yr).controller.signal}},__=typeof WeakMap=="function"?WeakMap:Map,wr=0,Rr=null,or=null,ur=0,Sr=0,Wn=null,Bs=!1,ko=!1,vd=!1,us=0,Fr=0,Vs=0,Va=0,wd=0,Xn=0,Co=0,Ll=null,Dn=null,_d=!1,Ac=0,s1=0,kc=1/0,Cc=null,zs=null,rn=0,Us=null,Ro=null,cs=0,xd=0,Sd=null,a1=null,Bl=0,Td=null;function Yn(){return(wr&2)!==0&&ur!==0?ur&-ur:x.T!==null?Md():ne()}function o1(){if(Xn===0)if((ur&536870912)===0||pr){var r=Ge;Ge<<=1,(Ge&3932160)===0&&(Ge=262144),Xn=r}else Xn=536870912;return r=$n.current,r!==null&&(r.flags|=32),Xn}function Pn(r,o,b){(r===Rr&&(Sr===2||Sr===9)||r.cancelPendingCommit!==null)&&(Mo(r,0),Fs(r,ur,Xn,!1)),xe(r,b),((wr&2)===0||r!==Rr)&&(r===Rr&&((wr&2)===0&&(Va|=b),Fr===4&&Fs(r,ur,Xn,!1)),Vi(r))}function l1(r,o,b){if((wr&6)!==0)throw Error(i(327));var A=!b&&(o&127)===0&&(o&r.expiredLanes)===0||Be(r,o),z=A?T_(r,o):Ad(r,o,!0),W=A;do{if(z===0){ko&&!A&&Fs(r,o,0,!1);break}else{if(b=r.current.alternate,W&&!x_(b)){z=Ad(r,o,!1),W=!1;continue}if(z===2){if(W=o,r.errorRecoveryDisabledLanes&W)var et=0;else et=r.pendingLanes&-536870913,et=et!==0?et:et&536870912?536870912:0;if(et!==0){o=et;t:{var lt=r;z=Ll;var mt=lt.current.memoizedState.isDehydrated;if(mt&&(Mo(lt,et).flags|=256),et=Ad(lt,et,!1),et!==2){if(vd&&!mt){lt.errorRecoveryDisabledLanes|=W,Va|=W,z=4;break t}W=Dn,Dn=z,W!==null&&(Dn===null?Dn=W:Dn.push.apply(Dn,W))}z=et}if(W=!1,z!==2)continue}}if(z===1){Mo(r,0),Fs(r,o,0,!0);break}t:{switch(A=r,W=z,W){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Fs(A,o,Xn,!Bs);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(z=Ac+300-Nt(),10<z)){if(Fs(A,o,Xn,!Bs),Qe(A,0,!0)!==0)break t;cs=o,A.timeoutHandle=V1(u1.bind(null,A,b,Dn,Cc,_d,o,Xn,Va,Co,Bs,W,"Throttled",-0,0),z);break t}u1(A,b,Dn,Cc,_d,o,Xn,Va,Co,Bs,W,null,-0,0)}}break}while(!0);Vi(r)}function u1(r,o,b,A,z,W,et,lt,mt,Rt,Vt,Wt,Ot,Bt){if(r.timeoutHandle=-1,Wt=o.subtreeFlags,Wt&8192||(Wt&16785408)===16785408){Wt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},e1(o,W,Wt);var Te=(W&62914560)===W?Ac-Nt():(W&4194048)===W?s1-Nt():0;if(Te=a3(Wt,Te),Te!==null){cs=W,r.cancelPendingCommit=Te(b1.bind(null,r,o,W,b,A,z,et,lt,mt,Vt,Wt,null,Ot,Bt)),Fs(r,W,et,!Rt);return}}b1(r,o,W,b,A,z,et,lt,mt)}function x_(r){for(var o=r;;){var b=o.tag;if((b===0||b===11||b===15)&&o.flags&16384&&(b=o.updateQueue,b!==null&&(b=b.stores,b!==null)))for(var A=0;A<b.length;A++){var z=b[A],W=z.getSnapshot;z=z.value;try{if(!Hn(W(),z))return!1}catch{return!1}}if(b=o.child,o.subtreeFlags&16384&&b!==null)b.return=o,o=b;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fs(r,o,b,A){o&=~wd,o&=~Va,r.suspendedLanes|=o,r.pingedLanes&=~o,A&&(r.warmLanes|=o),A=r.expirationTimes;for(var z=o;0<z;){var W=31-ae(z),et=1<<W;A[W]=-1,z&=~et}b!==0&&Je(r,b,o)}function Rc(){return(wr&6)===0?(Vl(0),!1):!0}function Ed(){if(or!==null){if(Sr===0)var r=or.return;else r=or,Ji=Ma=null,Uf(r),wo=null,_l=0,r=or;for(;r!==null;)zg(r.alternate,r),r=r.return;or=null}}function Mo(r,o){var b=r.timeoutHandle;b!==-1&&(r.timeoutHandle=-1,F_(b)),b=r.cancelPendingCommit,b!==null&&(r.cancelPendingCommit=null,b()),cs=0,Ed(),Rr=r,or=b=Qi(r.current,null),ur=o,Sr=0,Wn=null,Bs=!1,ko=Be(r,o),vd=!1,Co=Xn=wd=Va=Vs=Fr=0,Dn=Ll=null,_d=!1,(o&8)!==0&&(o|=o&32);var A=r.entangledLanes;if(A!==0)for(r=r.entanglements,A&=o;0<A;){var z=31-ae(A),W=1<<z;o|=r[z],A&=~W}return us=o,Ku(),b}function c1(r,o){er=null,x.H=Rl,o===vo||o===ic?(o=A0(),Sr=3):o===Rf?(o=A0(),Sr=4):Sr=o===nd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Wn=o,or===null&&(Fr=1,yc(r,ri(o,r.current)))}function h1(){var r=$n.current;return r===null?!0:(ur&4194048)===ur?ai===null:(ur&62914560)===ur||(ur&536870912)!==0?r===ai:!1}function f1(){var r=x.H;return x.H=Rl,r===null?Rl:r}function d1(){var r=x.A;return x.A=w_,r}function Mc(){Fr=4,Bs||(ur&4194048)!==ur&&$n.current!==null||(ko=!0),(Vs&134217727)===0&&(Va&134217727)===0||Rr===null||Fs(Rr,ur,Xn,!1)}function Ad(r,o,b){var A=wr;wr|=2;var z=f1(),W=d1();(Rr!==r||ur!==o)&&(Cc=null,Mo(r,o)),o=!1;var et=Fr;t:do try{if(Sr!==0&&or!==null){var lt=or,mt=Wn;switch(Sr){case 8:Ed(),et=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(o=!0);var Rt=Sr;if(Sr=0,Wn=null,No(r,lt,mt,Rt),b&&ko){et=0;break t}break;default:Rt=Sr,Sr=0,Wn=null,No(r,lt,mt,Rt)}}S_(),et=Fr;break}catch(Vt){c1(r,Vt)}while(!0);return o&&r.shellSuspendCounter++,Ji=Ma=null,wr=A,x.H=z,x.A=W,or===null&&(Rr=null,ur=0,Ku()),et}function S_(){for(;or!==null;)p1(or)}function T_(r,o){var b=wr;wr|=2;var A=f1(),z=d1();Rr!==r||ur!==o?(Cc=null,kc=Nt()+500,Mo(r,o)):ko=Be(r,o);t:do try{if(Sr!==0&&or!==null){o=or;var W=Wn;e:switch(Sr){case 1:Sr=0,Wn=null,No(r,o,W,1);break;case 2:case 9:if(T0(W)){Sr=0,Wn=null,m1(o);break}o=function(){Sr!==2&&Sr!==9||Rr!==r||(Sr=7),Vi(r)},W.then(o,o);break t;case 3:Sr=7;break t;case 4:Sr=5;break t;case 7:T0(W)?(Sr=0,Wn=null,m1(o)):(Sr=0,Wn=null,No(r,o,W,7));break;case 5:var et=null;switch(or.tag){case 26:et=or.memoizedState;case 5:case 27:var lt=or;if(et?tb(et):lt.stateNode.complete){Sr=0,Wn=null;var mt=lt.sibling;if(mt!==null)or=mt;else{var Rt=lt.return;Rt!==null?(or=Rt,Nc(Rt)):or=null}break e}}Sr=0,Wn=null,No(r,o,W,5);break;case 6:Sr=0,Wn=null,No(r,o,W,6);break;case 8:Ed(),Fr=6;break t;default:throw Error(i(462))}}E_();break}catch(Vt){c1(r,Vt)}while(!0);return Ji=Ma=null,x.H=A,x.A=z,wr=b,or!==null?0:(Rr=null,ur=0,Ku(),Fr)}function E_(){for(;or!==null&&!Et();)p1(or)}function p1(r){var o=Bg(r.alternate,r,us);r.memoizedProps=r.pendingProps,o===null?Nc(r):or=o}function m1(r){var o=r,b=o.alternate;switch(o.tag){case 15:case 0:o=Ig(b,o,o.pendingProps,o.type,void 0,ur);break;case 11:o=Ig(b,o,o.pendingProps,o.type.render,o.ref,ur);break;case 5:Uf(o);default:zg(b,o),o=or=d0(o,us),o=Bg(b,o,us)}r.memoizedProps=r.pendingProps,o===null?Nc(r):or=o}function No(r,o,b,A){Ji=Ma=null,Uf(o),wo=null,_l=0;var z=o.return;try{if(d_(r,z,o,b,ur)){Fr=1,yc(r,ri(b,r.current)),or=null;return}}catch(W){if(z!==null)throw or=z,W;Fr=1,yc(r,ri(b,r.current)),or=null;return}o.flags&32768?(pr||A===1?r=!0:ko||(ur&536870912)!==0?r=!1:(Bs=r=!0,(A===2||A===9||A===3||A===6)&&(A=$n.current,A!==null&&A.tag===13&&(A.flags|=16384))),g1(o,r)):Nc(o)}function Nc(r){var o=r;do{if((o.flags&32768)!==0){g1(o,Bs);return}r=o.return;var b=g_(o.alternate,o,us);if(b!==null){or=b;return}if(o=o.sibling,o!==null){or=o;return}or=o=r}while(o!==null);Fr===0&&(Fr=5)}function g1(r,o){do{var b=b_(r.alternate,r);if(b!==null){b.flags&=32767,or=b;return}if(b=r.return,b!==null&&(b.flags|=32768,b.subtreeFlags=0,b.deletions=null),!o&&(r=r.sibling,r!==null)){or=r;return}or=r=b}while(r!==null);Fr=6,or=null}function b1(r,o,b,A,z,W,et,lt,mt){r.cancelPendingCommit=null;do Ic();while(rn!==0);if((wr&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(W=o.lanes|o.childLanes,W|=pf,Xe(r,b,W,et,lt,mt),r===Rr&&(or=Rr=null,ur=0),Ro=o,Us=r,cs=b,xd=W,Sd=z,a1=A,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,R_(Zt,function(){return x1(),null})):(r.callbackNode=null,r.callbackPriority=0),A=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||A){A=x.T,x.T=null,z=S.p,S.p=2,et=wr,wr|=4;try{y_(r,o,b)}finally{wr=et,S.p=z,x.T=A}}rn=1,y1(),v1(),w1()}}function y1(){if(rn===1){rn=0;var r=Us,o=Ro,b=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||b){b=x.T,x.T=null;var A=S.p;S.p=2;var z=wr;wr|=4;try{Zg(o,r);var W=Bd,et=i0(r.containerInfo),lt=W.focusedElem,mt=W.selectionRange;if(et!==lt&&lt&&lt.ownerDocument&&n0(lt.ownerDocument.documentElement,lt)){if(mt!==null&&uf(lt)){var Rt=mt.start,Vt=mt.end;if(Vt===void 0&&(Vt=Rt),"selectionStart"in lt)lt.selectionStart=Rt,lt.selectionEnd=Math.min(Vt,lt.value.length);else{var Wt=lt.ownerDocument||document,Ot=Wt&&Wt.defaultView||window;if(Ot.getSelection){var Bt=Ot.getSelection(),Te=lt.textContent.length,Pe=Math.min(mt.start,Te),Cr=mt.end===void 0?Pe:Math.min(mt.end,Te);!Bt.extend&&Pe>Cr&&(et=Cr,Cr=Pe,Pe=et);var At=r0(lt,Pe),_t=r0(lt,Cr);if(At&&_t&&(Bt.rangeCount!==1||Bt.anchorNode!==At.node||Bt.anchorOffset!==At.offset||Bt.focusNode!==_t.node||Bt.focusOffset!==_t.offset)){var Ct=Wt.createRange();Ct.setStart(At.node,At.offset),Bt.removeAllRanges(),Pe>Cr?(Bt.addRange(Ct),Bt.extend(_t.node,_t.offset)):(Ct.setEnd(_t.node,_t.offset),Bt.addRange(Ct))}}}}for(Wt=[],Bt=lt;Bt=Bt.parentNode;)Bt.nodeType===1&&Wt.push({element:Bt,left:Bt.scrollLeft,top:Bt.scrollTop});for(typeof lt.focus=="function"&&lt.focus(),lt=0;lt<Wt.length;lt++){var Ht=Wt[lt];Ht.element.scrollLeft=Ht.left,Ht.element.scrollTop=Ht.top}}qc=!!Ld,Bd=Ld=null}finally{wr=z,S.p=A,x.T=b}}r.current=o,rn=2}}function v1(){if(rn===2){rn=0;var r=Us,o=Ro,b=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||b){b=x.T,x.T=null;var A=S.p;S.p=2;var z=wr;wr|=4;try{Wg(r,o.alternate,o)}finally{wr=z,S.p=A,x.T=b}}rn=3}}function w1(){if(rn===4||rn===3){rn=0,It();var r=Us,o=Ro,b=cs,A=a1;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?rn=5:(rn=0,Ro=Us=null,_1(r,r.pendingLanes));var z=r.pendingLanes;if(z===0&&(zs=null),Pt(b),o=o.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ee,o,void 0,(o.current.flags&128)===128)}catch{}if(A!==null){o=x.T,z=S.p,S.p=2,x.T=null;try{for(var W=r.onRecoverableError,et=0;et<A.length;et++){var lt=A[et];W(lt.value,{componentStack:lt.stack})}}finally{x.T=o,S.p=z}}(cs&3)!==0&&Ic(),Vi(r),z=r.pendingLanes,(b&261930)!==0&&(z&42)!==0?r===Td?Bl++:(Bl=0,Td=r):Bl=0,Vl(0)}}function _1(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,vl(o)))}function Ic(){return y1(),v1(),w1(),x1()}function x1(){if(rn!==5)return!1;var r=Us,o=xd;xd=0;var b=Pt(cs),A=x.T,z=S.p;try{S.p=32>b?32:b,x.T=null,b=Sd,Sd=null;var W=Us,et=cs;if(rn=0,Ro=Us=null,cs=0,(wr&6)!==0)throw Error(i(331));var lt=wr;if(wr|=4,n1(W.current),t1(W,W.current,et,b),wr=lt,Vl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ee,W)}catch{}return!0}finally{S.p=z,x.T=A,_1(r,o)}}function S1(r,o,b){o=ri(b,o),o=rd(r.stateNode,o,2),r=js(r,o,2),r!==null&&(xe(r,2),Vi(r))}function Tr(r,o,b){if(r.tag===3)S1(r,r,b);else for(;o!==null;){if(o.tag===3){S1(o,r,b);break}else if(o.tag===1){var A=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(zs===null||!zs.has(A))){r=ri(b,r),b=Tg(2),A=js(o,b,2),A!==null&&(Eg(b,A,o,r),xe(A,2),Vi(A));break}}o=o.return}}function kd(r,o,b){var A=r.pingCache;if(A===null){A=r.pingCache=new __;var z=new Set;A.set(o,z)}else z=A.get(o),z===void 0&&(z=new Set,A.set(o,z));z.has(b)||(vd=!0,z.add(b),r=A_.bind(null,r,o,b),o.then(r,r))}function A_(r,o,b){var A=r.pingCache;A!==null&&A.delete(o),r.pingedLanes|=r.suspendedLanes&b,r.warmLanes&=~b,Rr===r&&(ur&b)===b&&(Fr===4||Fr===3&&(ur&62914560)===ur&&300>Nt()-Ac?(wr&2)===0&&Mo(r,0):wd|=b,Co===ur&&(Co=0)),Vi(r)}function T1(r,o){o===0&&(o=qe()),r=ka(r,o),r!==null&&(xe(r,o),Vi(r))}function k_(r){var o=r.memoizedState,b=0;o!==null&&(b=o.retryLane),T1(r,b)}function C_(r,o){var b=0;switch(r.tag){case 31:case 13:var A=r.stateNode,z=r.memoizedState;z!==null&&(b=z.retryLane);break;case 19:A=r.stateNode;break;case 22:A=r.stateNode._retryCache;break;default:throw Error(i(314))}A!==null&&A.delete(o),T1(r,b)}function R_(r,o){return vt(r,o)}var Oc=null,Io=null,Cd=!1,jc=!1,Rd=!1,Hs=0;function Vi(r){r!==Io&&r.next===null&&(Io===null?Oc=Io=r:Io=Io.next=r),jc=!0,Cd||(Cd=!0,N_())}function Vl(r,o){if(!Rd&&jc){Rd=!0;do for(var b=!1,A=Oc;A!==null;){if(r!==0){var z=A.pendingLanes;if(z===0)var W=0;else{var et=A.suspendedLanes,lt=A.pingedLanes;W=(1<<31-ae(42|r)+1)-1,W&=z&~(et&~lt),W=W&201326741?W&201326741|1:W?W|2:0}W!==0&&(b=!0,C1(A,W))}else W=ur,W=Qe(A,A===Rr?W:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(W&3)===0||Be(A,W)||(b=!0,C1(A,W));A=A.next}while(b);Rd=!1}}function M_(){E1()}function E1(){jc=Cd=!1;var r=0;Hs!==0&&U_()&&(r=Hs);for(var o=Nt(),b=null,A=Oc;A!==null;){var z=A.next,W=A1(A,o);W===0?(A.next=null,b===null?Oc=z:b.next=z,z===null&&(Io=b)):(b=A,(r!==0||(W&3)!==0)&&(jc=!0)),A=z}rn!==0&&rn!==5||Vl(r),Hs!==0&&(Hs=0)}function A1(r,o){for(var b=r.suspendedLanes,A=r.pingedLanes,z=r.expirationTimes,W=r.pendingLanes&-62914561;0<W;){var et=31-ae(W),lt=1<<et,mt=z[et];mt===-1?((lt&b)===0||(lt&A)!==0)&&(z[et]=ke(lt,o)):mt<=o&&(r.expiredLanes|=lt),W&=~lt}if(o=Rr,b=ur,b=Qe(r,r===o?b:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),A=r.callbackNode,b===0||r===o&&(Sr===2||Sr===9)||r.cancelPendingCommit!==null)return A!==null&&A!==null&&xt(A),r.callbackNode=null,r.callbackPriority=0;if((b&3)===0||Be(r,b)){if(o=b&-b,o===r.callbackPriority)return o;switch(A!==null&&xt(A),Pt(b)){case 2:case 8:b=re;break;case 32:b=Zt;break;case 268435456:b=we;break;default:b=Zt}return A=k1.bind(null,r),b=vt(b,A),r.callbackPriority=o,r.callbackNode=b,o}return A!==null&&A!==null&&xt(A),r.callbackPriority=2,r.callbackNode=null,2}function k1(r,o){if(rn!==0&&rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var b=r.callbackNode;if(Ic()&&r.callbackNode!==b)return null;var A=ur;return A=Qe(r,r===Rr?A:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),A===0?null:(l1(r,A,o),A1(r,Nt()),r.callbackNode!=null&&r.callbackNode===b?k1.bind(null,r):null)}function C1(r,o){if(Ic())return null;l1(r,o,!0)}function N_(){H_(function(){(wr&6)!==0?vt(se,M_):E1()})}function Md(){if(Hs===0){var r=bo;r===0&&(r=ge,ge<<=1,(ge&261888)===0&&(ge=256)),Hs=r}return Hs}function R1(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mi(""+r)}function M1(r,o){var b=o.ownerDocument.createElement("input");return b.name=o.name,b.value=o.value,r.id&&b.setAttribute("form",r.id),o.parentNode.insertBefore(b,o),r=new FormData(r),b.parentNode.removeChild(b),r}function I_(r,o,b,A,z){if(o==="submit"&&b&&b.stateNode===z){var W=R1((z[oe]||null).action),et=A.submitter;et&&(o=(o=et[oe]||null)?R1(o.formAction):et.getAttribute("formAction"),o!==null&&(W=o,et=null));var lt=new Ii("action","action",null,A,z);r.push({event:lt,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(Hs!==0){var mt=et?M1(z,et):new FormData(z);Kf(b,{pending:!0,data:mt,method:z.method,action:W},null,mt)}}else typeof W=="function"&&(lt.preventDefault(),mt=et?M1(z,et):new FormData(z),Kf(b,{pending:!0,data:mt,method:z.method,action:W},W,mt))},currentTarget:z}]})}}for(var Nd=0;Nd<df.length;Nd++){var Id=df[Nd],O_=Id.toLowerCase(),j_=Id[0].toUpperCase()+Id.slice(1);_i(O_,"on"+j_)}_i(o0,"onAnimationEnd"),_i(l0,"onAnimationIteration"),_i(u0,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(Kw,"onTransitionRun"),_i(Qw,"onTransitionStart"),_i(Zw,"onTransitionCancel"),_i(c0,"onTransitionEnd"),wt("onMouseEnter",["mouseout","mouseover"]),wt("onMouseLeave",["mouseout","mouseover"]),wt("onPointerEnter",["pointerout","pointerover"]),wt("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function N1(r,o){o=(o&4)!==0;for(var b=0;b<r.length;b++){var A=r[b],z=A.event;A=A.listeners;t:{var W=void 0;if(o)for(var et=A.length-1;0<=et;et--){var lt=A[et],mt=lt.instance,Rt=lt.currentTarget;if(lt=lt.listener,mt!==W&&z.isPropagationStopped())break t;W=lt,z.currentTarget=Rt;try{W(z)}catch(Vt){Yu(Vt)}z.currentTarget=null,W=mt}else for(et=0;et<A.length;et++){if(lt=A[et],mt=lt.instance,Rt=lt.currentTarget,lt=lt.listener,mt!==W&&z.isPropagationStopped())break t;W=lt,z.currentTarget=Rt;try{W(z)}catch(Vt){Yu(Vt)}z.currentTarget=null,W=mt}}}}function lr(r,o){var b=o[Me];b===void 0&&(b=o[Me]=new Set);var A=r+"__bubble";b.has(A)||(I1(o,r,2,!1),b.add(A))}function Od(r,o,b){var A=0;o&&(A|=4),I1(b,r,A,o)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function jd(r){if(!r[Dc]){r[Dc]=!0,Kt.forEach(function(b){b!=="selectionchange"&&(D_.has(b)||Od(b,!1,r),Od(b,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Dc]||(o[Dc]=!0,Od("selectionchange",!1,o))}}function I1(r,o,b,A){switch(ob(o)){case 2:var z=u3;break;case 8:z=c3;break;default:z=Yd}b=z.bind(null,o,b,r),z=void 0,!va||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(z=!0),A?z!==void 0?r.addEventListener(o,b,{capture:!0,passive:z}):r.addEventListener(o,b,!0):z!==void 0?r.addEventListener(o,b,{passive:z}):r.addEventListener(o,b,!1)}function Dd(r,o,b,A,z){var W=A;if((o&1)===0&&(o&2)===0&&A!==null)t:for(;;){if(A===null)return;var et=A.tag;if(et===3||et===4){var lt=A.stateNode.containerInfo;if(lt===z)break;if(et===4)for(et=A.return;et!==null;){var mt=et.tag;if((mt===3||mt===4)&&et.stateNode.containerInfo===z)return;et=et.return}for(;lt!==null;){if(et=de(lt),et===null)return;if(mt=et.tag,mt===5||mt===6||mt===26||mt===27){A=W=et;continue t}lt=lt.parentNode}}A=A.return}Ts(function(){var Rt=W,Vt=cn(b),Wt=[];t:{var Ot=h0.get(r);if(Ot!==void 0){var Bt=Ii,Te=r;switch(r){case"keypress":if(_a(b)===0)break t;case"keydown":case"keyup":Bt=Gu;break;case"focusin":Te="focus",Bt=Sa;break;case"focusout":Te="blur",Bt=Sa;break;case"beforeblur":case"afterblur":Bt=Sa;break;case"click":if(b.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Bt=hl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Bt=Lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Bt=J;break;case o0:case l0:case u0:Bt=Vu;break;case c0:Bt=ft;break;case"scroll":case"scrollend":Bt=cl;break;case"wheel":Bt=Dt;break;case"copy":case"cut":case"paste":Bt=zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Bt=Ki;break;case"toggle":case"beforetoggle":Bt=tr}var Pe=(o&4)!==0,Cr=!Pe&&(r==="scroll"||r==="scrollend"),At=Pe?Ot!==null?Ot+"Capture":null:Ot;Pe=[];for(var _t=Rt,Ct;_t!==null;){var Ht=_t;if(Ct=Ht.stateNode,Ht=Ht.tag,Ht!==5&&Ht!==26&&Ht!==27||Ct===null||At===null||(Ht=bi(_t,At),Ht!=null&&Pe.push(Ul(_t,Ht,Ct))),Cr)break;_t=_t.return}0<Pe.length&&(Ot=new Bt(Ot,Te,null,b,Vt),Wt.push({event:Ot,listeners:Pe}))}}if((o&7)===0){t:{if(Ot=r==="mouseover"||r==="pointerover",Bt=r==="mouseout"||r==="pointerout",Ot&&b!==Mi&&(Te=b.relatedTarget||b.fromElement)&&(de(Te)||Te[ce]))break t;if((Bt||Ot)&&(Ot=Vt.window===Vt?Vt:(Ot=Vt.ownerDocument)?Ot.defaultView||Ot.parentWindow:window,Bt?(Te=b.relatedTarget||b.toElement,Bt=Rt,Te=Te?de(Te):null,Te!==null&&(Cr=l(Te),Pe=Te.tag,Te!==Cr||Pe!==5&&Pe!==27&&Pe!==6)&&(Te=null)):(Bt=null,Te=Rt),Bt!==Te)){if(Pe=hl,Ht="onMouseLeave",At="onMouseEnter",_t="mouse",(r==="pointerout"||r==="pointerover")&&(Pe=Ki,Ht="onPointerLeave",At="onPointerEnter",_t="pointer"),Cr=Bt==null?Ot:ct(Bt),Ct=Te==null?Ot:ct(Te),Ot=new Pe(Ht,_t+"leave",Bt,b,Vt),Ot.target=Cr,Ot.relatedTarget=Ct,Ht=null,de(Vt)===Rt&&(Pe=new Pe(At,_t+"enter",Te,b,Vt),Pe.target=Ct,Pe.relatedTarget=Cr,Ht=Pe),Cr=Ht,Bt&&Te)e:{for(Pe=P_,At=Bt,_t=Te,Ct=0,Ht=At;Ht;Ht=Pe(Ht))Ct++;Ht=0;for(var je=_t;je;je=Pe(je))Ht++;for(;0<Ct-Ht;)At=Pe(At),Ct--;for(;0<Ht-Ct;)_t=Pe(_t),Ht--;for(;Ct--;){if(At===_t||_t!==null&&At===_t.alternate){Pe=At;break e}At=Pe(At),_t=Pe(_t)}Pe=null}else Pe=null;Bt!==null&&O1(Wt,Ot,Bt,Pe,!1),Te!==null&&Cr!==null&&O1(Wt,Cr,Te,Pe,!0)}}t:{if(Ot=Rt?ct(Rt):window,Bt=Ot.nodeName&&Ot.nodeName.toLowerCase(),Bt==="select"||Bt==="input"&&Ot.type==="file")var gr=Km;else if(Xm(Ot))if(Qm)gr=Ww;else{gr=$w;var Ce=qw}else Bt=Ot.nodeName,!Bt||Bt.toLowerCase()!=="input"||Ot.type!=="checkbox"&&Ot.type!=="radio"?Rt&&Un(Rt.elementType)&&(gr=Km):gr=Gw;if(gr&&(gr=gr(r,Rt))){Ym(Wt,gr,b,Vt);break t}Ce&&Ce(r,Ot,Rt),r==="focusout"&&Rt&&Ot.type==="number"&&Rt.memoizedProps.value!=null&&Nn(Ot,"number",Ot.value)}switch(Ce=Rt?ct(Rt):window,r){case"focusin":(Xm(Ce)||Ce.contentEditable==="true")&&(lo=Ce,cf=Rt,gl=null);break;case"focusout":gl=cf=lo=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,s0(Wt,b,Vt);break;case"selectionchange":if(Yw)break;case"keydown":case"keyup":s0(Wt,b,Vt)}var rr;if(vr)t:{switch(r){case"compositionstart":var cr="onCompositionStart";break t;case"compositionend":cr="onCompositionEnd";break t;case"compositionupdate":cr="onCompositionUpdate";break t}cr=void 0}else oo?Ta(r,b)&&(cr="onCompositionEnd"):r==="keydown"&&b.keyCode===229&&(cr="onCompositionStart");cr&&(Di&&b.locale!=="ko"&&(oo||cr!=="onCompositionStart"?cr==="onCompositionEnd"&&oo&&(rr=ul()):(Ni=Vt,ll="value"in Ni?Ni.value:Ni.textContent,oo=!0)),Ce=Pc(Rt,cr),0<Ce.length&&(cr=new ji(cr,r,null,b,Vt),Wt.push({event:cr,listeners:Ce}),rr?cr.data=rr:(rr=ao(b),rr!==null&&(cr.data=rr)))),(rr=ti?zw(r,b):Uw(r,b))&&(cr=Pc(Rt,"onBeforeInput"),0<cr.length&&(Ce=new ji("onBeforeInput","beforeinput",null,b,Vt),Wt.push({event:Ce,listeners:cr}),Ce.data=rr)),I_(Wt,r,Rt,b,Vt)}N1(Wt,o)})}function Ul(r,o,b){return{instance:r,listener:o,currentTarget:b}}function Pc(r,o){for(var b=o+"Capture",A=[];r!==null;){var z=r,W=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||W===null||(z=bi(r,b),z!=null&&A.unshift(Ul(r,z,W)),z=bi(r,o),z!=null&&A.push(Ul(r,z,W))),r.tag===3)return A;r=r.return}return[]}function P_(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function O1(r,o,b,A,z){for(var W=o._reactName,et=[];b!==null&&b!==A;){var lt=b,mt=lt.alternate,Rt=lt.stateNode;if(lt=lt.tag,mt!==null&&mt===A)break;lt!==5&&lt!==26&&lt!==27||Rt===null||(mt=Rt,z?(Rt=bi(b,W),Rt!=null&&et.unshift(Ul(b,Rt,mt))):z||(Rt=bi(b,W),Rt!=null&&et.push(Ul(b,Rt,mt)))),b=b.return}et.length!==0&&r.push({event:o,listeners:et})}var L_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function j1(r){return(typeof r=="string"?r:""+r).replace(L_,`
`).replace(B_,"")}function D1(r,o){return o=j1(o),j1(r)===o}function kr(r,o,b,A,z,W){switch(b){case"children":typeof A=="string"?o==="body"||o==="textarea"&&A===""||Dr(r,A):(typeof A=="number"||typeof A=="bigint")&&o!=="body"&&Dr(r,""+A);break;case"className":Qt(r,"class",A);break;case"tabIndex":Qt(r,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":Qt(r,b,A);break;case"style":Ri(r,A,W);break;case"data":if(o!=="object"){Qt(r,"data",A);break}case"src":case"href":if(A===""&&(o!=="a"||b!=="href")){r.removeAttribute(b);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){r.removeAttribute(b);break}A=mi(""+A),r.setAttribute(b,A);break;case"action":case"formAction":if(typeof A=="function"){r.setAttribute(b,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof W=="function"&&(b==="formAction"?(o!=="input"&&kr(r,o,"name",z.name,z,null),kr(r,o,"formEncType",z.formEncType,z,null),kr(r,o,"formMethod",z.formMethod,z,null),kr(r,o,"formTarget",z.formTarget,z,null)):(kr(r,o,"encType",z.encType,z,null),kr(r,o,"method",z.method,z,null),kr(r,o,"target",z.target,z,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){r.removeAttribute(b);break}A=mi(""+A),r.setAttribute(b,A);break;case"onClick":A!=null&&(r.onclick=An);break;case"onScroll":A!=null&&lr("scroll",r);break;case"onScrollEnd":A!=null&&lr("scrollend",r);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(b=A.__html,b!=null){if(z.children!=null)throw Error(i(60));r.innerHTML=b}}break;case"multiple":r.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":r.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){r.removeAttribute("xlink:href");break}b=mi(""+A),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",b);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?r.setAttribute(b,""+A):r.removeAttribute(b);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?r.setAttribute(b,""):r.removeAttribute(b);break;case"capture":case"download":A===!0?r.setAttribute(b,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?r.setAttribute(b,A):r.removeAttribute(b);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?r.setAttribute(b,A):r.removeAttribute(b);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?r.removeAttribute(b):r.setAttribute(b,A);break;case"popover":lr("beforetoggle",r),lr("toggle",r),le(r,"popover",A);break;case"xlinkActuate":be(r,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":be(r,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":be(r,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":be(r,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":be(r,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":be(r,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":be(r,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":be(r,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":be(r,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":le(r,"is",A);break;case"innerText":case"textContent":break;default:(!(2<b.length)||b[0]!=="o"&&b[0]!=="O"||b[1]!=="n"&&b[1]!=="N")&&(b=Fn.get(b)||b,le(r,b,A))}}function Pd(r,o,b,A,z,W){switch(b){case"style":Ri(r,A,W);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(i(61));if(b=A.__html,b!=null){if(z.children!=null)throw Error(i(60));r.innerHTML=b}}break;case"children":typeof A=="string"?Dr(r,A):(typeof A=="number"||typeof A=="bigint")&&Dr(r,""+A);break;case"onScroll":A!=null&&lr("scroll",r);break;case"onScrollEnd":A!=null&&lr("scrollend",r);break;case"onClick":A!=null&&(r.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pe.hasOwnProperty(b))t:{if(b[0]==="o"&&b[1]==="n"&&(z=b.endsWith("Capture"),o=b.slice(2,z?b.length-7:void 0),W=r[oe]||null,W=W!=null?W[b]:null,typeof W=="function"&&r.removeEventListener(o,W,z),typeof A=="function")){typeof W!="function"&&W!==null&&(b in r?r[b]=null:r.hasAttribute(b)&&r.removeAttribute(b)),r.addEventListener(o,A,z);break t}b in r?r[b]=A:A===!0?r.setAttribute(b,""):le(r,b,A)}}}function mn(r,o,b){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lr("error",r),lr("load",r);var A=!1,z=!1,W;for(W in b)if(b.hasOwnProperty(W)){var et=b[W];if(et!=null)switch(W){case"src":A=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kr(r,o,W,et,b,null)}}z&&kr(r,o,"srcSet",b.srcSet,b,null),A&&kr(r,o,"src",b.src,b,null);return;case"input":lr("invalid",r);var lt=W=et=z=null,mt=null,Rt=null;for(A in b)if(b.hasOwnProperty(A)){var Vt=b[A];if(Vt!=null)switch(A){case"name":z=Vt;break;case"type":et=Vt;break;case"checked":mt=Vt;break;case"defaultChecked":Rt=Vt;break;case"value":W=Vt;break;case"defaultValue":lt=Vt;break;case"children":case"dangerouslySetInnerHTML":if(Vt!=null)throw Error(i(137,o));break;default:kr(r,o,A,Vt,b,null)}}sr(r,W,lt,mt,Rt,et,z,!1);return;case"select":lr("invalid",r),A=et=W=null;for(z in b)if(b.hasOwnProperty(z)&&(lt=b[z],lt!=null))switch(z){case"value":W=lt;break;case"defaultValue":et=lt;break;case"multiple":A=lt;default:kr(r,o,z,lt,b,null)}o=W,b=et,r.multiple=!!A,o!=null?vn(r,!!A,o,!1):b!=null&&vn(r,!!A,b,!0);return;case"textarea":lr("invalid",r),W=z=A=null;for(et in b)if(b.hasOwnProperty(et)&&(lt=b[et],lt!=null))switch(et){case"value":A=lt;break;case"defaultValue":z=lt;break;case"children":W=lt;break;case"dangerouslySetInnerHTML":if(lt!=null)throw Error(i(91));break;default:kr(r,o,et,lt,b,null)}zr(r,A,z,W);return;case"option":for(mt in b)b.hasOwnProperty(mt)&&(A=b[mt],A!=null)&&(mt==="selected"?r.selected=A&&typeof A!="function"&&typeof A!="symbol":kr(r,o,mt,A,b,null));return;case"dialog":lr("beforetoggle",r),lr("toggle",r),lr("cancel",r),lr("close",r);break;case"iframe":case"object":lr("load",r);break;case"video":case"audio":for(A=0;A<zl.length;A++)lr(zl[A],r);break;case"image":lr("error",r),lr("load",r);break;case"details":lr("toggle",r);break;case"embed":case"source":case"link":lr("error",r),lr("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in b)if(b.hasOwnProperty(Rt)&&(A=b[Rt],A!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:kr(r,o,Rt,A,b,null)}return;default:if(Un(o)){for(Vt in b)b.hasOwnProperty(Vt)&&(A=b[Vt],A!==void 0&&Pd(r,o,Vt,A,b,void 0));return}}for(lt in b)b.hasOwnProperty(lt)&&(A=b[lt],A!=null&&kr(r,o,lt,A,b,null))}function V_(r,o,b,A){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,W=null,et=null,lt=null,mt=null,Rt=null,Vt=null;for(Bt in b){var Wt=b[Bt];if(b.hasOwnProperty(Bt)&&Wt!=null)switch(Bt){case"checked":break;case"value":break;case"defaultValue":mt=Wt;default:A.hasOwnProperty(Bt)||kr(r,o,Bt,null,A,Wt)}}for(var Ot in A){var Bt=A[Ot];if(Wt=b[Ot],A.hasOwnProperty(Ot)&&(Bt!=null||Wt!=null))switch(Ot){case"type":W=Bt;break;case"name":z=Bt;break;case"checked":Rt=Bt;break;case"defaultChecked":Vt=Bt;break;case"value":et=Bt;break;case"defaultValue":lt=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,o));break;default:Bt!==Wt&&kr(r,o,Ot,Bt,A,Wt)}}ar(r,et,lt,mt,Rt,Vt,W,z);return;case"select":Bt=et=lt=Ot=null;for(W in b)if(mt=b[W],b.hasOwnProperty(W)&&mt!=null)switch(W){case"value":break;case"multiple":Bt=mt;default:A.hasOwnProperty(W)||kr(r,o,W,null,A,mt)}for(z in A)if(W=A[z],mt=b[z],A.hasOwnProperty(z)&&(W!=null||mt!=null))switch(z){case"value":Ot=W;break;case"defaultValue":lt=W;break;case"multiple":et=W;default:W!==mt&&kr(r,o,z,W,A,mt)}o=lt,b=et,A=Bt,Ot!=null?vn(r,!!b,Ot,!1):!!A!=!!b&&(o!=null?vn(r,!!b,o,!0):vn(r,!!b,b?[]:"",!1));return;case"textarea":Bt=Ot=null;for(lt in b)if(z=b[lt],b.hasOwnProperty(lt)&&z!=null&&!A.hasOwnProperty(lt))switch(lt){case"value":break;case"children":break;default:kr(r,o,lt,null,A,z)}for(et in A)if(z=A[et],W=b[et],A.hasOwnProperty(et)&&(z!=null||W!=null))switch(et){case"value":Ot=z;break;case"defaultValue":Bt=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:z!==W&&kr(r,o,et,z,A,W)}Wi(r,Ot,Bt);return;case"option":for(var Te in b)Ot=b[Te],b.hasOwnProperty(Te)&&Ot!=null&&!A.hasOwnProperty(Te)&&(Te==="selected"?r.selected=!1:kr(r,o,Te,null,A,Ot));for(mt in A)Ot=A[mt],Bt=b[mt],A.hasOwnProperty(mt)&&Ot!==Bt&&(Ot!=null||Bt!=null)&&(mt==="selected"?r.selected=Ot&&typeof Ot!="function"&&typeof Ot!="symbol":kr(r,o,mt,Ot,A,Bt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in b)Ot=b[Pe],b.hasOwnProperty(Pe)&&Ot!=null&&!A.hasOwnProperty(Pe)&&kr(r,o,Pe,null,A,Ot);for(Rt in A)if(Ot=A[Rt],Bt=b[Rt],A.hasOwnProperty(Rt)&&Ot!==Bt&&(Ot!=null||Bt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(i(137,o));break;default:kr(r,o,Rt,Ot,A,Bt)}return;default:if(Un(o)){for(var Cr in b)Ot=b[Cr],b.hasOwnProperty(Cr)&&Ot!==void 0&&!A.hasOwnProperty(Cr)&&Pd(r,o,Cr,void 0,A,Ot);for(Vt in A)Ot=A[Vt],Bt=b[Vt],!A.hasOwnProperty(Vt)||Ot===Bt||Ot===void 0&&Bt===void 0||Pd(r,o,Vt,Ot,A,Bt);return}}for(var At in b)Ot=b[At],b.hasOwnProperty(At)&&Ot!=null&&!A.hasOwnProperty(At)&&kr(r,o,At,null,A,Ot);for(Wt in A)Ot=A[Wt],Bt=b[Wt],!A.hasOwnProperty(Wt)||Ot===Bt||Ot==null&&Bt==null||kr(r,o,Wt,Ot,A,Bt)}function P1(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function z_(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,b=performance.getEntriesByType("resource"),A=0;A<b.length;A++){var z=b[A],W=z.transferSize,et=z.initiatorType,lt=z.duration;if(W&&lt&&P1(et)){for(et=0,lt=z.responseEnd,A+=1;A<b.length;A++){var mt=b[A],Rt=mt.startTime;if(Rt>lt)break;var Vt=mt.transferSize,Wt=mt.initiatorType;Vt&&P1(Wt)&&(mt=mt.responseEnd,et+=Vt*(mt<lt?1:(lt-Rt)/(mt-Rt)))}if(--A,o+=8*(W+et)/(z.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ld=null,Bd=null;function Lc(r){return r.nodeType===9?r:r.ownerDocument}function L1(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function B1(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Vd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var zd=null;function U_(){var r=window.event;return r&&r.type==="popstate"?r===zd?!1:(zd=r,!0):(zd=null,!1)}var V1=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,z1=typeof Promise=="function"?Promise:void 0,H_=typeof queueMicrotask=="function"?queueMicrotask:typeof z1<"u"?function(r){return z1.resolve(null).then(r).catch(q_)}:V1;function q_(r){setTimeout(function(){throw r})}function qs(r){return r==="head"}function U1(r,o){var b=o,A=0;do{var z=b.nextSibling;if(r.removeChild(b),z&&z.nodeType===8)if(b=z.data,b==="/$"||b==="/&"){if(A===0){r.removeChild(z),Po(o);return}A--}else if(b==="$"||b==="$?"||b==="$~"||b==="$!"||b==="&")A++;else if(b==="html")Fl(r.ownerDocument.documentElement);else if(b==="head"){b=r.ownerDocument.head,Fl(b);for(var W=b.firstChild;W;){var et=W.nextSibling,lt=W.nodeName;W[Ze]||lt==="SCRIPT"||lt==="STYLE"||lt==="LINK"&&W.rel.toLowerCase()==="stylesheet"||b.removeChild(W),W=et}}else b==="body"&&Fl(r.ownerDocument.body);b=z}while(b);Po(o)}function F1(r,o){var b=r;r=0;do{var A=b.nextSibling;if(b.nodeType===1?o?(b._stashedDisplay=b.style.display,b.style.display="none"):(b.style.display=b._stashedDisplay||"",b.getAttribute("style")===""&&b.removeAttribute("style")):b.nodeType===3&&(o?(b._stashedText=b.nodeValue,b.nodeValue=""):b.nodeValue=b._stashedText||""),A&&A.nodeType===8)if(b=A.data,b==="/$"){if(r===0)break;r--}else b!=="$"&&b!=="$?"&&b!=="$~"&&b!=="$!"||r++;b=A}while(b)}function Ud(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var b=o;switch(o=o.nextSibling,b.nodeName){case"HTML":case"HEAD":case"BODY":Ud(b),zt(b);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(b.rel.toLowerCase()==="stylesheet")continue}r.removeChild(b)}}function $_(r,o,b,A){for(;r.nodeType===1;){var z=b;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!A&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(A){if(!r[Ze])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(W=r.getAttribute("rel"),W==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(W!==z.rel||r.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||r.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||r.getAttribute("title")!==(z.title==null?null:z.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(W=r.getAttribute("src"),(W!==(z.src==null?null:z.src)||r.getAttribute("type")!==(z.type==null?null:z.type)||r.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&W&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var W=z.name==null?null:""+z.name;if(z.type==="hidden"&&r.getAttribute("name")===W)return r}else return r;if(r=oi(r.nextSibling),r===null)break}return null}function G_(r,o,b){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!b||(r=oi(r.nextSibling),r===null))return null;return r}function H1(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=oi(r.nextSibling),r===null))return null;return r}function Fd(r){return r.data==="$?"||r.data==="$~"}function Hd(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function W_(r,o){var b=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||b.readyState!=="loading")o();else{var A=function(){o(),b.removeEventListener("DOMContentLoaded",A)};b.addEventListener("DOMContentLoaded",A),r._reactRetry=A}}function oi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var qd=null;function q1(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var b=r.data;if(b==="/$"||b==="/&"){if(o===0)return oi(r.nextSibling);o--}else b!=="$"&&b!=="$!"&&b!=="$?"&&b!=="$~"&&b!=="&"||o++}r=r.nextSibling}return null}function $1(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var b=r.data;if(b==="$"||b==="$!"||b==="$?"||b==="$~"||b==="&"){if(o===0)return r;o--}else b!=="/$"&&b!=="/&"||o++}r=r.previousSibling}return null}function G1(r,o,b){switch(o=Lc(b),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Fl(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);zt(r)}var li=new Map,W1=new Set;function Bc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var hs=S.d;S.d={f:X_,r:Y_,D:K_,C:Q_,L:Z_,m:J_,X:e3,S:t3,M:r3};function X_(){var r=hs.f(),o=Rc();return r||o}function Y_(r){var o=Re(r);o!==null&&o.tag===5&&o.type==="form"?cg(o):hs.r(r)}var Oo=typeof document>"u"?null:document;function X1(r,o,b){var A=Oo;if(A&&typeof o=="string"&&o){var z=qr(o);z='link[rel="'+r+'"][href="'+z+'"]',typeof b=="string"&&(z+='[crossorigin="'+b+'"]'),W1.has(z)||(W1.add(z),r={rel:r,crossOrigin:b,href:o},A.querySelector(z)===null&&(o=A.createElement("link"),mn(o,"link",r),Lt(o),A.head.appendChild(o)))}}function K_(r){hs.D(r),X1("dns-prefetch",r,null)}function Q_(r,o){hs.C(r,o),X1("preconnect",r,o)}function Z_(r,o,b){hs.L(r,o,b);var A=Oo;if(A&&r&&o){var z='link[rel="preload"][as="'+qr(o)+'"]';o==="image"&&b&&b.imageSrcSet?(z+='[imagesrcset="'+qr(b.imageSrcSet)+'"]',typeof b.imageSizes=="string"&&(z+='[imagesizes="'+qr(b.imageSizes)+'"]')):z+='[href="'+qr(r)+'"]';var W=z;switch(o){case"style":W=jo(r);break;case"script":W=Do(r)}li.has(W)||(r=p({rel:"preload",href:o==="image"&&b&&b.imageSrcSet?void 0:r,as:o},b),li.set(W,r),A.querySelector(z)!==null||o==="style"&&A.querySelector(Hl(W))||o==="script"&&A.querySelector(ql(W))||(o=A.createElement("link"),mn(o,"link",r),Lt(o),A.head.appendChild(o)))}}function J_(r,o){hs.m(r,o);var b=Oo;if(b&&r){var A=o&&typeof o.as=="string"?o.as:"script",z='link[rel="modulepreload"][as="'+qr(A)+'"][href="'+qr(r)+'"]',W=z;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":W=Do(r)}if(!li.has(W)&&(r=p({rel:"modulepreload",href:r},o),li.set(W,r),b.querySelector(z)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(b.querySelector(ql(W)))return}A=b.createElement("link"),mn(A,"link",r),Lt(A),b.head.appendChild(A)}}}function t3(r,o,b){hs.S(r,o,b);var A=Oo;if(A&&r){var z=St(A).hoistableStyles,W=jo(r);o=o||"default";var et=z.get(W);if(!et){var lt={loading:0,preload:null};if(et=A.querySelector(Hl(W)))lt.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":o},b),(b=li.get(W))&&$d(r,b);var mt=et=A.createElement("link");Lt(mt),mn(mt,"link",r),mt._p=new Promise(function(Rt,Vt){mt.onload=Rt,mt.onerror=Vt}),mt.addEventListener("load",function(){lt.loading|=1}),mt.addEventListener("error",function(){lt.loading|=2}),lt.loading|=4,Vc(et,o,A)}et={type:"stylesheet",instance:et,count:1,state:lt},z.set(W,et)}}}function e3(r,o){hs.X(r,o);var b=Oo;if(b&&r){var A=St(b).hoistableScripts,z=Do(r),W=A.get(z);W||(W=b.querySelector(ql(z)),W||(r=p({src:r,async:!0},o),(o=li.get(z))&&Gd(r,o),W=b.createElement("script"),Lt(W),mn(W,"link",r),b.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},A.set(z,W))}}function r3(r,o){hs.M(r,o);var b=Oo;if(b&&r){var A=St(b).hoistableScripts,z=Do(r),W=A.get(z);W||(W=b.querySelector(ql(z)),W||(r=p({src:r,async:!0,type:"module"},o),(o=li.get(z))&&Gd(r,o),W=b.createElement("script"),Lt(W),mn(W,"link",r),b.head.appendChild(W)),W={type:"script",instance:W,count:1,state:null},A.set(z,W))}}function Y1(r,o,b,A){var z=(z=H.current)?Bc(z):null;if(!z)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof b.precedence=="string"&&typeof b.href=="string"?(o=jo(b.href),b=St(z).hoistableStyles,A=b.get(o),A||(A={type:"style",instance:null,count:0,state:null},b.set(o,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(b.rel==="stylesheet"&&typeof b.href=="string"&&typeof b.precedence=="string"){r=jo(b.href);var W=St(z).hoistableStyles,et=W.get(r);if(et||(z=z.ownerDocument||z,et={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},W.set(r,et),(W=z.querySelector(Hl(r)))&&!W._p&&(et.instance=W,et.state.loading=5),li.has(r)||(b={rel:"preload",as:"style",href:b.href,crossOrigin:b.crossOrigin,integrity:b.integrity,media:b.media,hrefLang:b.hrefLang,referrerPolicy:b.referrerPolicy},li.set(r,b),W||n3(z,r,b,et.state))),o&&A===null)throw Error(i(528,""));return et}if(o&&A!==null)throw Error(i(529,""));return null;case"script":return o=b.async,b=b.src,typeof b=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Do(b),b=St(z).hoistableScripts,A=b.get(o),A||(A={type:"script",instance:null,count:0,state:null},b.set(o,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function jo(r){return'href="'+qr(r)+'"'}function Hl(r){return'link[rel="stylesheet"]['+r+"]"}function K1(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function n3(r,o,b,A){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?A.loading=1:(o=r.createElement("link"),A.preload=o,o.addEventListener("load",function(){return A.loading|=1}),o.addEventListener("error",function(){return A.loading|=2}),mn(o,"link",b),Lt(o),r.head.appendChild(o))}function Do(r){return'[src="'+qr(r)+'"]'}function ql(r){return"script[async]"+r}function Q1(r,o,b){if(o.count++,o.instance===null)switch(o.type){case"style":var A=r.querySelector('style[data-href~="'+qr(b.href)+'"]');if(A)return o.instance=A,Lt(A),A;var z=p({},b,{"data-href":b.href,"data-precedence":b.precedence,href:null,precedence:null});return A=(r.ownerDocument||r).createElement("style"),Lt(A),mn(A,"style",z),Vc(A,b.precedence,r),o.instance=A;case"stylesheet":z=jo(b.href);var W=r.querySelector(Hl(z));if(W)return o.state.loading|=4,o.instance=W,Lt(W),W;A=K1(b),(z=li.get(z))&&$d(A,z),W=(r.ownerDocument||r).createElement("link"),Lt(W);var et=W;return et._p=new Promise(function(lt,mt){et.onload=lt,et.onerror=mt}),mn(W,"link",A),o.state.loading|=4,Vc(W,b.precedence,r),o.instance=W;case"script":return W=Do(b.src),(z=r.querySelector(ql(W)))?(o.instance=z,Lt(z),z):(A=b,(z=li.get(W))&&(A=p({},b),Gd(A,z)),r=r.ownerDocument||r,z=r.createElement("script"),Lt(z),mn(z,"link",A),r.head.appendChild(z),o.instance=z);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(A=o.instance,o.state.loading|=4,Vc(A,b.precedence,r));return o.instance}function Vc(r,o,b){for(var A=b.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=A.length?A[A.length-1]:null,W=z,et=0;et<A.length;et++){var lt=A[et];if(lt.dataset.precedence===o)W=lt;else if(W!==z)break}W?W.parentNode.insertBefore(r,W.nextSibling):(o=b.nodeType===9?b.head:b,o.insertBefore(r,o.firstChild))}function $d(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function Gd(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var zc=null;function Z1(r,o,b){if(zc===null){var A=new Map,z=zc=new Map;z.set(b,A)}else z=zc,A=z.get(b),A||(A=new Map,z.set(b,A));if(A.has(r))return A;for(A.set(r,null),b=b.getElementsByTagName(r),z=0;z<b.length;z++){var W=b[z];if(!(W[Ze]||W[fe]||r==="link"&&W.getAttribute("rel")==="stylesheet")&&W.namespaceURI!=="http://www.w3.org/2000/svg"){var et=W.getAttribute(o)||"";et=r+et;var lt=A.get(et);lt?lt.push(W):A.set(et,[W])}}return A}function J1(r,o,b){r=r.ownerDocument||r,r.head.insertBefore(b,o==="title"?r.querySelector("head > title"):null)}function i3(r,o,b){if(b===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(r=o.disabled,typeof o.precedence=="string"&&r==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function tb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function s3(r,o,b,A){if(b.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(b.state.loading&4)===0){if(b.instance===null){var z=jo(A.href),W=o.querySelector(Hl(z));if(W){o=W._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Uc.bind(r),o.then(r,r)),b.state.loading|=4,b.instance=W,Lt(W);return}W=o.ownerDocument||o,A=K1(A),(z=li.get(z))&&$d(A,z),W=W.createElement("link"),Lt(W);var et=W;et._p=new Promise(function(lt,mt){et.onload=lt,et.onerror=mt}),mn(W,"link",A),b.instance=W}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(b,o),(o=b.state.preload)&&(b.state.loading&3)===0&&(r.count++,b=Uc.bind(r),o.addEventListener("load",b),o.addEventListener("error",b))}}var Wd=0;function a3(r,o){return r.stylesheets&&r.count===0&&Hc(r,r.stylesheets),0<r.count||0<r.imgCount?function(b){var A=setTimeout(function(){if(r.stylesheets&&Hc(r,r.stylesheets),r.unsuspend){var W=r.unsuspend;r.unsuspend=null,W()}},6e4+o);0<r.imgBytes&&Wd===0&&(Wd=62500*z_());var z=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Hc(r,r.stylesheets),r.unsuspend)){var W=r.unsuspend;r.unsuspend=null,W()}},(r.imgBytes>Wd?50:800)+o);return r.unsuspend=b,function(){r.unsuspend=null,clearTimeout(A),clearTimeout(z)}}:null}function Uc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Fc=null;function Hc(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Fc=new Map,o.forEach(o3,r),Fc=null,Uc.call(r))}function o3(r,o){if(!(o.state.loading&4)){var b=Fc.get(r);if(b)var A=b.get(null);else{b=new Map,Fc.set(r,b);for(var z=r.querySelectorAll("link[data-precedence],style[data-precedence]"),W=0;W<z.length;W++){var et=z[W];(et.nodeName==="LINK"||et.getAttribute("media")!=="not all")&&(b.set(et.dataset.precedence,et),A=et)}A&&b.set(null,A)}z=o.instance,et=z.getAttribute("data-precedence"),W=b.get(et)||A,W===A&&b.set(null,z),b.set(et,z),this.count++,A=Uc.bind(this),z.addEventListener("load",A),z.addEventListener("error",A),W?W.parentNode.insertBefore(z,W.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(z,r.firstChild)),o.state.loading|=4}}var $l={$$typeof:k,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function l3(r,o,b,A,z,W,et,lt,mt){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=He(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=He(0),this.hiddenUpdates=He(null),this.identifierPrefix=A,this.onUncaughtError=z,this.onCaughtError=W,this.onRecoverableError=et,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=mt,this.incompleteTransitions=new Map}function eb(r,o,b,A,z,W,et,lt,mt,Rt,Vt,Wt){return r=new l3(r,o,b,et,mt,Rt,Vt,Wt,lt),o=1,W===!0&&(o|=24),W=qn(3,null,null,o),r.current=W,W.stateNode=r,o=Af(),o.refCount++,r.pooledCache=o,o.refCount++,W.memoizedState={element:A,isDehydrated:b,cache:o},Mf(W),r}function rb(r){return r?(r=ho,r):ho}function nb(r,o,b,A,z,W){z=rb(z),A.context===null?A.context=z:A.pendingContext=z,A=Os(o),A.payload={element:b},W=W===void 0?null:W,W!==null&&(A.callback=W),b=js(r,A,o),b!==null&&(Pn(b,r,o),Sl(b,r,o))}function ib(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var b=r.retryLane;r.retryLane=b!==0&&b<o?b:o}}function Xd(r,o){ib(r,o),(r=r.alternate)&&ib(r,o)}function sb(r){if(r.tag===13||r.tag===31){var o=ka(r,67108864);o!==null&&Pn(o,r,67108864),Xd(r,67108864)}}function ab(r){if(r.tag===13||r.tag===31){var o=Yn();o=Tt(o);var b=ka(r,o);b!==null&&Pn(b,r,o),Xd(r,o)}}var qc=!0;function u3(r,o,b,A){var z=x.T;x.T=null;var W=S.p;try{S.p=2,Yd(r,o,b,A)}finally{S.p=W,x.T=z}}function c3(r,o,b,A){var z=x.T;x.T=null;var W=S.p;try{S.p=8,Yd(r,o,b,A)}finally{S.p=W,x.T=z}}function Yd(r,o,b,A){if(qc){var z=Kd(A);if(z===null)Dd(r,o,A,$c,b),lb(r,A);else if(f3(z,r,o,b,A))A.stopPropagation();else if(lb(r,A),o&4&&-1<h3.indexOf(r)){for(;z!==null;){var W=Re(z);if(W!==null)switch(W.tag){case 3:if(W=W.stateNode,W.current.memoizedState.isDehydrated){var et=Ae(W.pendingLanes);if(et!==0){var lt=W;for(lt.pendingLanes|=2,lt.entangledLanes|=2;et;){var mt=1<<31-ae(et);lt.entanglements[1]|=mt,et&=~mt}Vi(W),(wr&6)===0&&(kc=Nt()+500,Vl(0))}}break;case 31:case 13:lt=ka(W,2),lt!==null&&Pn(lt,W,2),Rc(),Xd(W,2)}if(W=Kd(A),W===null&&Dd(r,o,A,$c,b),W===z)break;z=W}z!==null&&A.stopPropagation()}else Dd(r,o,A,null,b)}}function Kd(r){return r=cn(r),Qd(r)}var $c=null;function Qd(r){if($c=null,r=de(r),r!==null){var o=l(r);if(o===null)r=null;else{var b=o.tag;if(b===13){if(r=s(o),r!==null)return r;r=null}else if(b===31){if(r=h(o),r!==null)return r;r=null}else if(b===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return $c=r,null}function ob(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($t()){case se:return 2;case re:return 8;case Zt:case te:return 32;case we:return 268435456;default:return 32}default:return 32}}var Zd=!1,$s=null,Gs=null,Ws=null,Gl=new Map,Wl=new Map,Xs=[],h3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lb(r,o){switch(r){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Gl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(o.pointerId)}}function Xl(r,o,b,A,z,W){return r===null||r.nativeEvent!==W?(r={blockedOn:o,domEventName:b,eventSystemFlags:A,nativeEvent:W,targetContainers:[z]},o!==null&&(o=Re(o),o!==null&&sb(o)),r):(r.eventSystemFlags|=A,o=r.targetContainers,z!==null&&o.indexOf(z)===-1&&o.push(z),r)}function f3(r,o,b,A,z){switch(o){case"focusin":return $s=Xl($s,r,o,b,A,z),!0;case"dragenter":return Gs=Xl(Gs,r,o,b,A,z),!0;case"mouseover":return Ws=Xl(Ws,r,o,b,A,z),!0;case"pointerover":var W=z.pointerId;return Gl.set(W,Xl(Gl.get(W)||null,r,o,b,A,z)),!0;case"gotpointercapture":return W=z.pointerId,Wl.set(W,Xl(Wl.get(W)||null,r,o,b,A,z)),!0}return!1}function ub(r){var o=de(r.target);if(o!==null){var b=l(o);if(b!==null){if(o=b.tag,o===13){if(o=s(b),o!==null){r.blockedOn=o,ye(r.priority,function(){ab(b)});return}}else if(o===31){if(o=h(b),o!==null){r.blockedOn=o,ye(r.priority,function(){ab(b)});return}}else if(o===3&&b.stateNode.current.memoizedState.isDehydrated){r.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gc(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var b=Kd(r.nativeEvent);if(b===null){b=r.nativeEvent;var A=new b.constructor(b.type,b);Mi=A,b.target.dispatchEvent(A),Mi=null}else return o=Re(b),o!==null&&sb(o),r.blockedOn=b,!1;o.shift()}return!0}function cb(r,o,b){Gc(r)&&b.delete(o)}function d3(){Zd=!1,$s!==null&&Gc($s)&&($s=null),Gs!==null&&Gc(Gs)&&(Gs=null),Ws!==null&&Gc(Ws)&&(Ws=null),Gl.forEach(cb),Wl.forEach(cb)}function Wc(r,o){r.blockedOn===o&&(r.blockedOn=null,Zd||(Zd=!0,m.unstable_scheduleCallback(m.unstable_NormalPriority,d3)))}var Xc=null;function hb(r){Xc!==r&&(Xc=r,m.unstable_scheduleCallback(m.unstable_NormalPriority,function(){Xc===r&&(Xc=null);for(var o=0;o<r.length;o+=3){var b=r[o],A=r[o+1],z=r[o+2];if(typeof A!="function"){if(Qd(A||b)===null)continue;break}var W=Re(b);W!==null&&(r.splice(o,3),o-=3,Kf(W,{pending:!0,data:z,method:b.method,action:A},A,z))}}))}function Po(r){function o(mt){return Wc(mt,r)}$s!==null&&Wc($s,r),Gs!==null&&Wc(Gs,r),Ws!==null&&Wc(Ws,r),Gl.forEach(o),Wl.forEach(o);for(var b=0;b<Xs.length;b++){var A=Xs[b];A.blockedOn===r&&(A.blockedOn=null)}for(;0<Xs.length&&(b=Xs[0],b.blockedOn===null);)ub(b),b.blockedOn===null&&Xs.shift();if(b=(r.ownerDocument||r).$$reactFormReplay,b!=null)for(A=0;A<b.length;A+=3){var z=b[A],W=b[A+1],et=z[oe]||null;if(typeof W=="function")et||hb(b);else if(et){var lt=null;if(W&&W.hasAttribute("formAction")){if(z=W,et=W[oe]||null)lt=et.formAction;else if(Qd(z)!==null)continue}else lt=et.action;typeof lt=="function"?b[A+1]=lt:(b.splice(A,3),A-=3),hb(b)}}}function fb(){function r(W){W.canIntercept&&W.info==="react-transition"&&W.intercept({handler:function(){return new Promise(function(et){return z=et})},focusReset:"manual",scroll:"manual"})}function o(){z!==null&&(z(),z=null),A||setTimeout(b,20)}function b(){if(!A&&!navigation.transition){var W=navigation.currentEntry;W&&W.url!=null&&navigation.navigate(W.url,{state:W.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var A=!1,z=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(b,100),function(){A=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),z!==null&&(z(),z=null)}}}function Jd(r){this._internalRoot=r}Yc.prototype.render=Jd.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var b=o.current,A=Yn();nb(b,A,r,o,null,null)},Yc.prototype.unmount=Jd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;nb(r.current,2,null,r,null,null),Rc(),o[ce]=null}};function Yc(r){this._internalRoot=r}Yc.prototype.unstable_scheduleHydration=function(r){if(r){var o=ne();r={blockedOn:null,target:r,priority:o};for(var b=0;b<Xs.length&&o!==0&&o<Xs[b].priority;b++);Xs.splice(b,0,r),b===0&&ub(r)}};var db=e.version;if(db!=="19.2.4")throw Error(i(527,db,"19.2.4"));S.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=n(o),r=r!==null?u(r):null,r=r===null?null:r.stateNode,r};var p3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{ee=Kc.inject(p3),Ft=Kc}catch{}}return Kl.createRoot=function(r,o){if(!c(r))throw Error(i(299));var b=!1,A="",z=wg,W=_g,et=xg;return o!=null&&(o.unstable_strictMode===!0&&(b=!0),o.identifierPrefix!==void 0&&(A=o.identifierPrefix),o.onUncaughtError!==void 0&&(z=o.onUncaughtError),o.onCaughtError!==void 0&&(W=o.onCaughtError),o.onRecoverableError!==void 0&&(et=o.onRecoverableError)),o=eb(r,1,!1,null,null,b,A,null,z,W,et,fb),r[ce]=o.current,jd(r),new Jd(o)},Kl.hydrateRoot=function(r,o,b){if(!c(r))throw Error(i(299));var A=!1,z="",W=wg,et=_g,lt=xg,mt=null;return b!=null&&(b.unstable_strictMode===!0&&(A=!0),b.identifierPrefix!==void 0&&(z=b.identifierPrefix),b.onUncaughtError!==void 0&&(W=b.onUncaughtError),b.onCaughtError!==void 0&&(et=b.onCaughtError),b.onRecoverableError!==void 0&&(lt=b.onRecoverableError),b.formState!==void 0&&(mt=b.formState)),o=eb(r,1,!0,o,b??null,A,z,mt,W,et,lt,fb),o.context=rb(null),b=o.current,A=Yn(),A=Tt(A),z=Os(A),z.callback=null,js(b,z,A),b=A,o.current.lanes=b,xe(o,b),Vi(o),r[ce]=o.current,jd(r),new Yc(o)},Kl.version="19.2.4",Kl}var Sb;function E3(){if(Sb)return rp.exports;Sb=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(e){console.error(e)}}return m(),rp.exports=T3(),rp.exports}var A3=E3();const k3=()=>{};var Tb={};const av=function(m){const e=[];let t=0;for(let i=0;i<m.length;i++){let c=m.charCodeAt(i);c<128?e[t++]=c:c<2048?(e[t++]=c>>6|192,e[t++]=c&63|128):(c&64512)===55296&&i+1<m.length&&(m.charCodeAt(i+1)&64512)===56320?(c=65536+((c&1023)<<10)+(m.charCodeAt(++i)&1023),e[t++]=c>>18|240,e[t++]=c>>12&63|128,e[t++]=c>>6&63|128,e[t++]=c&63|128):(e[t++]=c>>12|224,e[t++]=c>>6&63|128,e[t++]=c&63|128)}return e},C3=function(m){const e=[];let t=0,i=0;for(;t<m.length;){const c=m[t++];if(c<128)e[i++]=String.fromCharCode(c);else if(c>191&&c<224){const l=m[t++];e[i++]=String.fromCharCode((c&31)<<6|l&63)}else if(c>239&&c<365){const l=m[t++],s=m[t++],h=m[t++],a=((c&7)<<18|(l&63)<<12|(s&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const l=m[t++],s=m[t++];e[i++]=String.fromCharCode((c&15)<<12|(l&63)<<6|s&63)}}return e.join("")},ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(m,e){if(!Array.isArray(m))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let c=0;c<m.length;c+=3){const l=m[c],s=c+1<m.length,h=s?m[c+1]:0,a=c+2<m.length,n=a?m[c+2]:0,u=l>>2,p=(l&3)<<4|h>>4;let f=(h&15)<<2|n>>6,d=n&63;a||(d=64,s||(f=64)),i.push(t[u],t[p],t[f],t[d])}return i.join("")},encodeString(m,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(m):this.encodeByteArray(av(m),e)},decodeString(m,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(m):C3(this.decodeStringToByteArray(m,e))},decodeStringToByteArray(m,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let c=0;c<m.length;){const l=t[m.charAt(c++)],h=c<m.length?t[m.charAt(c)]:0;++c;const n=c<m.length?t[m.charAt(c)]:64;++c;const p=c<m.length?t[m.charAt(c)]:64;if(++c,l==null||h==null||n==null||p==null)throw new R3;const f=l<<2|h>>4;if(i.push(f),n!==64){const d=h<<4&240|n>>2;if(i.push(d),p!==64){const y=n<<6&192|p;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let m=0;m<this.ENCODED_VALS.length;m++)this.byteToCharMap_[m]=this.ENCODED_VALS.charAt(m),this.charToByteMap_[this.byteToCharMap_[m]]=m,this.byteToCharMapWebSafe_[m]=this.ENCODED_VALS_WEBSAFE.charAt(m),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[m]]=m,m>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(m)]=m,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(m)]=m)}}};class R3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M3=function(m){const e=av(m);return ov.encodeByteArray(e,!0)},mh=function(m){return M3(m).replace(/\./g,"")},lv=function(m){try{return ov.decodeString(m,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function N3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const I3=()=>N3().__FIREBASE_DEFAULTS__,O3=()=>{if(typeof process>"u"||typeof Tb>"u")return;const m=Tb.__FIREBASE_DEFAULTS__;if(m)return JSON.parse(m)},j3=()=>{if(typeof document>"u")return;let m;try{m=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=m&&lv(m[1]);return e&&JSON.parse(e)},Ph=()=>{try{return k3()||I3()||O3()||j3()}catch(m){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${m}`);return}},uv=m=>Ph()?.emulatorHosts?.[m],D3=m=>{const e=uv(m);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},cv=()=>Ph()?.config,hv=m=>Ph()?.[`_${m}`];class P3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function tl(m){try{return(m.startsWith("http://")||m.startsWith("https://")?new URL(m).hostname:m).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fv(m){return(await fetch(m,{credentials:"include"})).ok}function L3(m,e){if(m.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",c=m.iat||0,l=m.sub||m.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:c,exp:c+3600,auth_time:c,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...m};return[mh(JSON.stringify(t)),mh(JSON.stringify(s)),""].join(".")}const au={};function B3(){const m={prod:[],emulator:[]};for(const e of Object.keys(au))au[e]?m.emulator.push(e):m.prod.push(e);return m}function V3(m){let e=document.getElementById(m),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",m),t=!0),{created:t,element:e}}let Eb=!1;function dv(m,e){if(typeof window>"u"||typeof document>"u"||!tl(window.location.host)||au[m]===e||au[m]||Eb)return;au[m]=e;function t(f){return`__firebase__banner__${f}`}const i="__firebase__banner",l=B3().prod.length>0;function s(){const f=document.getElementById(i);f&&f.remove()}function h(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function a(f,d){f.setAttribute("width","24"),f.setAttribute("id",d),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function n(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Eb=!0,s()},f}function u(f,d){f.setAttribute("id",d),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function p(){const f=V3(i),d=t("text"),y=document.getElementById(d)||document.createElement("span"),v=t("learnmore"),g=document.getElementById(v)||document.createElement("a"),w=t("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const k=f.element;h(k),u(g,v);const M=n();a(_,w),k.append(_,y,g,M),document.body.appendChild(k)}l?(y.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function U3(){const m=Ph()?.forceEnvironment;if(m==="node")return!0;if(m==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function H3(){const m=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof m=="object"&&m.id!==void 0}function q3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $3(){const m=En();return m.indexOf("MSIE ")>=0||m.indexOf("Trident/")>=0}function G3(){return!U3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W3(){try{return typeof indexedDB=="object"}catch{return!1}}function X3(){return new Promise((m,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(i);c.onsuccess=()=>{c.result.close(),t||self.indexedDB.deleteDatabase(i),m(!0)},c.onupgradeneeded=()=>{t=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(t){e(t)}})}const Y3="FirebaseError";class Ss extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Y3,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},c=`${this.service}/${e}`,l=this.errors[e],s=l?K3(l,i):"Error",h=`${this.serviceName}: ${s} (${c}).`;return new Ss(c,h,i)}}function K3(m,e){return m.replace(Q3,(t,i)=>{const c=e[i];return c!=null?String(c):`<${i}?>`})}const Q3=/\{\$([^}]+)}/g;function Z3(m){for(const e in m)if(Object.prototype.hasOwnProperty.call(m,e))return!1;return!0}function Ga(m,e){if(m===e)return!0;const t=Object.keys(m),i=Object.keys(e);for(const c of t){if(!i.includes(c))return!1;const l=m[c],s=e[c];if(Ab(l)&&Ab(s)){if(!Ga(l,s))return!1}else if(l!==s)return!1}for(const c of i)if(!t.includes(c))return!1;return!0}function Ab(m){return m!==null&&typeof m=="object"}function Au(m){const e=[];for(const[t,i]of Object.entries(m))Array.isArray(i)?i.forEach(c=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Jl(m){const e={};return m.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[c,l]=i.split("=");e[decodeURIComponent(c)]=decodeURIComponent(l)}}),e}function tu(m){const e=m.indexOf("?");if(!e)return"";const t=m.indexOf("#",e);return m.substring(e,t>0?t:void 0)}function J3(m,e){const t=new t4(m,e);return t.subscribe.bind(t)}class t4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let c;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");e4(e,["next","error","complete"])?c=e:c={next:e,error:t,complete:i},c.next===void 0&&(c.next=ap),c.error===void 0&&(c.error=ap),c.complete===void 0&&(c.complete=ap);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function e4(m,e){if(typeof m!="object"||m===null)return!1;for(const t of e)if(t in m&&typeof m[t]=="function")return!0;return!1}function ap(){}function sn(m){return m&&m._delegate?m._delegate:m}class Wa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const za="[DEFAULT]";class r4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new P3;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:t});c&&i.resolve(c)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(c){if(i)return null;throw c}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i4(e))try{this.getOrInitializeService({instanceIdentifier:za})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:c});i.resolve(l)}catch{}}}}clearInstance(e=za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=za){return this.instances.has(e)}getOptions(e=za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,s]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&s.resolve(c)}return c}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),c=this.onInitCallbacks.get(i)??new Set;c.add(e),this.onInitCallbacks.set(i,c);const l=this.instances.get(i);return l&&e(l,i),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const c of i)try{c(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:n4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=za){return this.component?this.component.multipleInstances?e:za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function n4(m){return m===za?void 0:m}function i4(m){return m.instantiationMode==="EAGER"}class s4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var hr;(function(m){m[m.DEBUG=0]="DEBUG",m[m.VERBOSE=1]="VERBOSE",m[m.INFO=2]="INFO",m[m.WARN=3]="WARN",m[m.ERROR=4]="ERROR",m[m.SILENT=5]="SILENT"})(hr||(hr={}));const a4={debug:hr.DEBUG,verbose:hr.VERBOSE,info:hr.INFO,warn:hr.WARN,error:hr.ERROR,silent:hr.SILENT},o4=hr.INFO,l4={[hr.DEBUG]:"log",[hr.VERBOSE]:"log",[hr.INFO]:"info",[hr.WARN]:"warn",[hr.ERROR]:"error"},u4=(m,e,...t)=>{if(e<m.logLevel)return;const i=new Date().toISOString(),c=l4[e];if(c)console[c](`[${i}]  ${m.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=o4,this._logHandler=u4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in hr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,hr.DEBUG,...e),this._logHandler(this,hr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,hr.VERBOSE,...e),this._logHandler(this,hr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,hr.INFO,...e),this._logHandler(this,hr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,hr.WARN,...e),this._logHandler(this,hr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,hr.ERROR,...e),this._logHandler(this,hr.ERROR,...e)}}const c4=(m,e)=>e.some(t=>m instanceof t);let kb,Cb;function h4(){return kb||(kb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f4(){return Cb||(Cb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pv=new WeakMap,_p=new WeakMap,mv=new WeakMap,op=new WeakMap,Qp=new WeakMap;function d4(m){const e=new Promise((t,i)=>{const c=()=>{m.removeEventListener("success",l),m.removeEventListener("error",s)},l=()=>{t(ra(m.result)),c()},s=()=>{i(m.error),c()};m.addEventListener("success",l),m.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&pv.set(t,m)}).catch(()=>{}),Qp.set(e,m),e}function p4(m){if(_p.has(m))return;const e=new Promise((t,i)=>{const c=()=>{m.removeEventListener("complete",l),m.removeEventListener("error",s),m.removeEventListener("abort",s)},l=()=>{t(),c()},s=()=>{i(m.error||new DOMException("AbortError","AbortError")),c()};m.addEventListener("complete",l),m.addEventListener("error",s),m.addEventListener("abort",s)});_p.set(m,e)}let xp={get(m,e,t){if(m instanceof IDBTransaction){if(e==="done")return _p.get(m);if(e==="objectStoreNames")return m.objectStoreNames||mv.get(m);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ra(m[e])},set(m,e,t){return m[e]=t,!0},has(m,e){return m instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in m}};function m4(m){xp=m(xp)}function g4(m){return m===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=m.call(lp(this),e,...t);return mv.set(i,e.sort?e.sort():[e]),ra(i)}:f4().includes(m)?function(...e){return m.apply(lp(this),e),ra(pv.get(this))}:function(...e){return ra(m.apply(lp(this),e))}}function b4(m){return typeof m=="function"?g4(m):(m instanceof IDBTransaction&&p4(m),c4(m,h4())?new Proxy(m,xp):m)}function ra(m){if(m instanceof IDBRequest)return d4(m);if(op.has(m))return op.get(m);const e=b4(m);return e!==m&&(op.set(m,e),Qp.set(e,m)),e}const lp=m=>Qp.get(m);function y4(m,e,{blocked:t,upgrade:i,blocking:c,terminated:l}={}){const s=indexedDB.open(m,e),h=ra(s);return i&&s.addEventListener("upgradeneeded",a=>{i(ra(s.result),a.oldVersion,a.newVersion,ra(s.transaction),a)}),t&&s.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),h.then(a=>{l&&a.addEventListener("close",()=>l()),c&&a.addEventListener("versionchange",n=>c(n.oldVersion,n.newVersion,n))}).catch(()=>{}),h}const v4=["get","getKey","getAll","getAllKeys","count"],w4=["put","add","delete","clear"],up=new Map;function Rb(m,e){if(!(m instanceof IDBDatabase&&!(e in m)&&typeof e=="string"))return;if(up.get(e))return up.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,c=w4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(c||v4.includes(t)))return;const l=async function(s,...h){const a=this.transaction(s,c?"readwrite":"readonly");let n=a.store;return i&&(n=n.index(h.shift())),(await Promise.all([n[t](...h),c&&a.done]))[0]};return up.set(e,l),l}m4(m=>({...m,get:(e,t,i)=>Rb(e,t)||m.get(e,t,i),has:(e,t)=>!!Rb(e,t)||m.has(e,t)}));class _4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(x4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function x4(m){return m.getComponent()?.type==="VERSION"}const Sp="@firebase/app",Mb="0.14.8";const ys=new Kp("@firebase/app"),S4="@firebase/app-compat",T4="@firebase/analytics-compat",E4="@firebase/analytics",A4="@firebase/app-check-compat",k4="@firebase/app-check",C4="@firebase/auth",R4="@firebase/auth-compat",M4="@firebase/database",N4="@firebase/data-connect",I4="@firebase/database-compat",O4="@firebase/functions",j4="@firebase/functions-compat",D4="@firebase/installations",P4="@firebase/installations-compat",L4="@firebase/messaging",B4="@firebase/messaging-compat",V4="@firebase/performance",z4="@firebase/performance-compat",U4="@firebase/remote-config",F4="@firebase/remote-config-compat",H4="@firebase/storage",q4="@firebase/storage-compat",$4="@firebase/firestore",G4="@firebase/ai",W4="@firebase/firestore-compat",X4="firebase",Y4="12.9.0";const Tp="[DEFAULT]",K4={[Sp]:"fire-core",[S4]:"fire-core-compat",[E4]:"fire-analytics",[T4]:"fire-analytics-compat",[k4]:"fire-app-check",[A4]:"fire-app-check-compat",[C4]:"fire-auth",[R4]:"fire-auth-compat",[M4]:"fire-rtdb",[N4]:"fire-data-connect",[I4]:"fire-rtdb-compat",[O4]:"fire-fn",[j4]:"fire-fn-compat",[D4]:"fire-iid",[P4]:"fire-iid-compat",[L4]:"fire-fcm",[B4]:"fire-fcm-compat",[V4]:"fire-perf",[z4]:"fire-perf-compat",[U4]:"fire-rc",[F4]:"fire-rc-compat",[H4]:"fire-gcs",[q4]:"fire-gcs-compat",[$4]:"fire-fst",[W4]:"fire-fst-compat",[G4]:"fire-vertex","fire-js":"fire-js",[X4]:"fire-js-all"};const gh=new Map,Q4=new Map,Ep=new Map;function Nb(m,e){try{m.container.addComponent(e)}catch(t){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${m.name}`,t)}}function Xo(m){const e=m.name;if(Ep.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Ep.set(e,m);for(const t of gh.values())Nb(t,m);for(const t of Q4.values())Nb(t,m);return!0}function Zp(m,e){const t=m.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),m.container.getProvider(e)}function Kn(m){return m==null?!1:m.settings!==void 0}const Z4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},na=new Eu("app","Firebase",Z4);class J4{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw na.create("app-deleted",{appName:this._name})}}const el=Y4;function Jp(m,e={}){let t=m;typeof e!="object"&&(e={name:e});const i={name:Tp,automaticDataCollectionEnabled:!0,...e},c=i.name;if(typeof c!="string"||!c)throw na.create("bad-app-name",{appName:String(c)});if(t||(t=cv()),!t)throw na.create("no-options");const l=gh.get(c);if(l){if(Ga(t,l.options)&&Ga(i,l.config))return l;throw na.create("duplicate-app",{appName:c})}const s=new s4(c);for(const a of Ep.values())s.addComponent(a);const h=new J4(t,i,s);return gh.set(c,h),h}function gv(m=Tp){const e=gh.get(m);if(!e&&m===Tp&&cv())return Jp();if(!e)throw na.create("no-app",{appName:m});return e}function ia(m,e,t){let i=K4[m]??m;t&&(i+=`-${t}`);const c=i.match(/\s|\//),l=e.match(/\s|\//);if(c||l){const s=[`Unable to register library "${i}" with version "${e}":`];c&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&l&&s.push("and"),l&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(s.join(" "));return}Xo(new Wa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tx="firebase-heartbeat-database",ex=1,pu="firebase-heartbeat-store";let cp=null;function bv(){return cp||(cp=y4(tx,ex,{upgrade:(m,e)=>{switch(e){case 0:try{m.createObjectStore(pu)}catch(t){console.warn(t)}}}}).catch(m=>{throw na.create("idb-open",{originalErrorMessage:m.message})})),cp}async function rx(m){try{const t=(await bv()).transaction(pu),i=await t.objectStore(pu).get(yv(m));return await t.done,i}catch(e){if(e instanceof Ss)ys.warn(e.message);else{const t=na.create("idb-get",{originalErrorMessage:e?.message});ys.warn(t.message)}}}async function Ib(m,e){try{const i=(await bv()).transaction(pu,"readwrite");await i.objectStore(pu).put(e,yv(m)),await i.done}catch(t){if(t instanceof Ss)ys.warn(t.message);else{const i=na.create("idb-set",{originalErrorMessage:t?.message});ys.warn(i.message)}}}function yv(m){return`${m.name}!${m.options.appId}`}const nx=1024,ix=30;class sx{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ox(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ob();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(c=>c.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>ix){const c=lx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ys.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ob(),{heartbeatsToSend:t,unsentEntries:i}=ax(this._heartbeatsCache.heartbeats),c=mh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return ys.warn(e),""}}}function Ob(){return new Date().toISOString().substring(0,10)}function ax(m,e=nx){const t=[];let i=m.slice();for(const c of m){const l=t.find(s=>s.agent===c.agent);if(l){if(l.dates.push(c.date),jb(t)>e){l.dates.pop();break}}else if(t.push({agent:c.agent,dates:[c.date]}),jb(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class ox{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W3()?X3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rx(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Ib(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jb(m){return mh(JSON.stringify({version:2,heartbeats:m})).length}function lx(m){if(m.length===0)return-1;let e=0,t=m[0].date;for(let i=1;i<m.length;i++)m[i].date<t&&(t=m[i].date,e=i);return e}function ux(m){Xo(new Wa("platform-logger",e=>new _4(e),"PRIVATE")),Xo(new Wa("heartbeat",e=>new sx(e),"PRIVATE")),ia(Sp,Mb,m),ia(Sp,Mb,"esm2020"),ia("fire-js","")}ux("");function vv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cx=vv,wv=new Eu("auth","Firebase",vv());const bh=new Kp("@firebase/auth");function hx(m,...e){bh.logLevel<=hr.WARN&&bh.warn(`Auth (${el}): ${m}`,...e)}function ih(m,...e){bh.logLevel<=hr.ERROR&&bh.error(`Auth (${el}): ${m}`,...e)}function fi(m,...e){throw em(m,...e)}function Ai(m,...e){return em(m,...e)}function tm(m,e,t){const i={...cx(),[e]:t};return new Eu("auth","Firebase",i).create(e,{appName:m.name})}function gs(m){return tm(m,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fx(m,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(m,"argument-error"),tm(m,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function em(m,...e){if(typeof m!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=m.name),m._errorFactory.create(t,...i)}return wv.create(m,...e)}function ze(m,e,...t){if(!m)throw em(e,...t)}function ps(m){const e="INTERNAL ASSERTION FAILED: "+m;throw ih(e),new Error(e)}function vs(m,e){m||ps(e)}function Ap(){return typeof self<"u"&&self.location?.href||""}function dx(){return Db()==="http:"||Db()==="https:"}function Db(){return typeof self<"u"&&self.location?.protocol||null}function px(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dx()||H3()||"connection"in navigator)?navigator.onLine:!0}function mx(){if(typeof navigator>"u")return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,vs(t>e,"Short delay should be less than long delay!"),this.isMobile=z3()||q3()}get(){return px()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rm(m,e){vs(m.emulator,"Emulator should always be set here");const{url:t}=m.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class _v{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yx=new ku(3e4,6e4);function da(m,e){return m.tenantId&&!e.tenantId?{...e,tenantId:m.tenantId}:e}async function pa(m,e,t,i,c={}){return xv(m,c,async()=>{let l={},s={};i&&(e==="GET"?s=i:l={body:JSON.stringify(i)});const h=Au({key:m.config.apiKey,...s}).slice(1),a=await m._getAdditionalHeaders();a["Content-Type"]="application/json",m.languageCode&&(a["X-Firebase-Locale"]=m.languageCode);const n={method:e,headers:a,...l};return F3()||(n.referrerPolicy="no-referrer"),m.emulatorConfig&&tl(m.emulatorConfig.host)&&(n.credentials="include"),_v.fetch()(await Sv(m,m.config.apiHost,t,h),n)})}async function xv(m,e,t){m._canInitEmulator=!1;const i={...gx,...e};try{const c=new wx(m),l=await Promise.race([t(),c.promise]);c.clearNetworkTimeout();const s=await l.json();if("needConfirmation"in s)throw Qc(m,"account-exists-with-different-credential",s);if(l.ok&&!("errorMessage"in s))return s;{const h=l.ok?s.errorMessage:s.error.message,[a,n]=h.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(m,"credential-already-in-use",s);if(a==="EMAIL_EXISTS")throw Qc(m,"email-already-in-use",s);if(a==="USER_DISABLED")throw Qc(m,"user-disabled",s);const u=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw tm(m,u,n);fi(m,u)}}catch(c){if(c instanceof Ss)throw c;fi(m,"network-request-failed",{message:String(c)})}}async function Cu(m,e,t,i,c={}){const l=await pa(m,e,t,i,c);return"mfaPendingCredential"in l&&fi(m,"multi-factor-auth-required",{_serverResponse:l}),l}async function Sv(m,e,t,i){const c=`${e}${t}?${i}`,l=m,s=l.config.emulator?rm(m.config,c):`${m.config.apiScheme}://${c}`;return bx.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(s).toString():s}function vx(m){switch(m){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ai(this.auth,"network-request-failed")),yx.get())})}}function Qc(m,e,t){const i={appName:m.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=Ai(m,e,i);return c.customData._tokenResponse=t,c}function Pb(m){return m!==void 0&&m.enterprise!==void 0}class _x{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return vx(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xx(m,e){return pa(m,"GET","/v2/recaptchaConfig",da(m,e))}async function Sx(m,e){return pa(m,"POST","/v1/accounts:delete",e)}async function yh(m,e){return pa(m,"POST","/v1/accounts:lookup",e)}function ou(m){if(m)try{const e=new Date(Number(m));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tx(m,e=!1){const t=sn(m),i=await t.getIdToken(e),c=nm(i);ze(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const l=typeof c.firebase=="object"?c.firebase:void 0,s=l?.sign_in_provider;return{claims:c,token:i,authTime:ou(hp(c.auth_time)),issuedAtTime:ou(hp(c.iat)),expirationTime:ou(hp(c.exp)),signInProvider:s||null,signInSecondFactor:l?.sign_in_second_factor||null}}function hp(m){return Number(m)*1e3}function nm(m){const[e,t,i]=m.split(".");if(e===void 0||t===void 0||i===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const c=lv(t);return c?JSON.parse(c):(ih("Failed to decode base64 JWT payload"),null)}catch(c){return ih("Caught error parsing JWT payload as JSON",c?.toString()),null}}function Lb(m){const e=nm(m);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function mu(m,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ss&&Ex(i)&&m.auth.currentUser===m&&await m.auth.signOut(),i}}function Ex({code:m}){return m==="auth/user-disabled"||m==="auth/user-token-expired"}class Ax{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ou(this.lastLoginAt),this.creationTime=ou(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function vh(m){const e=m.auth,t=await m.getIdToken(),i=await mu(m,yh(e,{idToken:t}));ze(i?.users.length,e,"internal-error");const c=i.users[0];m._notifyReloadListener(c);const l=c.providerUserInfo?.length?Tv(c.providerUserInfo):[],s=Cx(m.providerData,l),h=m.isAnonymous,a=!(m.email&&c.passwordHash)&&!s?.length,n=h?a:!1,u={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:s,metadata:new kp(c.createdAt,c.lastLoginAt),isAnonymous:n};Object.assign(m,u)}async function kx(m){const e=sn(m);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Cx(m,e){return[...m.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}function Tv(m){return m.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function Rx(m,e){const t=await xv(m,{},async()=>{const i=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:l}=m.config,s=await Sv(m,c,"/v1/token",`key=${l}`),h=await m._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:h,body:i};return m.emulatorConfig&&tl(m.emulatorConfig.host)&&(a.credentials="include"),_v.fetch()(s,a)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Mx(m,e){return pa(m,"POST","/v2/accounts:revokeToken",da(m,e))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const t=Lb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:c,expiresIn:l}=await Rx(e,t);this.updateTokensAndExpiration(i,c,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:l}=t,s=new Fo;return i&&(ze(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),c&&(ze(typeof c=="string","internal-error",{appName:e}),s.accessToken=c),l&&(ze(typeof l=="number","internal-error",{appName:e}),s.expirationTime=l),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return ps("not implemented")}}function Ks(m,e){ze(typeof m=="string"||typeof m>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:t,stsTokenManager:i,...c}){this.providerId="firebase",this.proactiveRefresh=new Ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new kp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await mu(this,this.stsTokenManager.getToken(this.auth,e));return ze(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Tx(this,e)}reload(){return kx(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await vh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await mu(this,Sx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,c=t.email??void 0,l=t.phoneNumber??void 0,s=t.photoURL??void 0,h=t.tenantId??void 0,a=t._redirectEventId??void 0,n=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:p,emailVerified:f,isAnonymous:d,providerData:y,stsTokenManager:v}=t;ze(p&&v,e,"internal-error");const g=Fo.fromJSON(this.name,v);ze(typeof p=="string",e,"internal-error"),Ks(i,e.name),Ks(c,e.name),ze(typeof f=="boolean",e,"internal-error"),ze(typeof d=="boolean",e,"internal-error"),Ks(l,e.name),Ks(s,e.name),Ks(h,e.name),Ks(a,e.name),Ks(n,e.name),Ks(u,e.name);const w=new Ei({uid:p,auth:e,email:c,emailVerified:f,displayName:i,isAnonymous:d,photoURL:s,phoneNumber:l,tenantId:h,stsTokenManager:g,createdAt:n,lastLoginAt:u});return y&&Array.isArray(y)&&(w.providerData=y.map(_=>({..._}))),a&&(w._redirectEventId=a),w}static async _fromIdTokenResponse(e,t,i=!1){const c=new Fo;c.updateFromServerResponse(t);const l=new Ei({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return await vh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const c=t.users[0];ze(c.localId!==void 0,"internal-error");const l=c.providerUserInfo!==void 0?Tv(c.providerUserInfo):[],s=!(c.email&&c.passwordHash)&&!l?.length,h=new Fo;h.updateFromIdToken(i);const a=new Ei({uid:c.localId,auth:e,stsTokenManager:h,isAnonymous:s}),n={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:l,metadata:new kp(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!l?.length};return Object.assign(a,n),a}}const Bb=new Map;function ms(m){vs(m instanceof Function,"Expected a class definition");let e=Bb.get(m);return e?(vs(e instanceof m,"Instance stored in cache mismatched with class"),e):(e=new m,Bb.set(m,e),e)}class Ev{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ev.type="NONE";const Vb=Ev;function sh(m,e,t){return`firebase:${m}:${e}:${t}`}class Ho{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:l}=this.auth;this.fullUserKey=sh(this.userKey,c.apiKey,l),this.fullPersistenceKey=sh("persistence",c.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await yh(this.auth,{idToken:e}).catch(()=>{});return t?Ei._fromGetAccountInfoResponse(this.auth,t,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ho(ms(Vb),e,i);const c=(await Promise.all(t.map(async n=>{if(await n._isAvailable())return n}))).filter(n=>n);let l=c[0]||ms(Vb);const s=sh(i,e.config.apiKey,e.name);let h=null;for(const n of t)try{const u=await n._get(s);if(u){let p;if(typeof u=="string"){const f=await yh(e,{idToken:u}).catch(()=>{});if(!f)break;p=await Ei._fromGetAccountInfoResponse(e,f,u)}else p=Ei._fromJSON(e,u);n!==l&&(h=p),l=n;break}}catch{}const a=c.filter(n=>n._shouldAllowMigration);return!l._shouldAllowMigration||!a.length?new Ho(l,e,i):(l=a[0],h&&await l._set(s,h.toJSON()),await Promise.all(t.map(async n=>{if(n!==l)try{await n._remove(s)}catch{}})),new Ho(l,e,i))}}function zb(m){const e=m.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Av(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nv(e))return"Blackberry";if(Iv(e))return"Webos";if(kv(e))return"Safari";if((e.includes("chrome/")||Cv(e))&&!e.includes("edge/"))return"Chrome";if(Mv(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=m.match(t);if(i?.length===2)return i[1]}return"Other"}function Av(m=En()){return/firefox\//i.test(m)}function kv(m=En()){const e=m.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cv(m=En()){return/crios\//i.test(m)}function Rv(m=En()){return/iemobile/i.test(m)}function Mv(m=En()){return/android/i.test(m)}function Nv(m=En()){return/blackberry/i.test(m)}function Iv(m=En()){return/webos/i.test(m)}function im(m=En()){return/iphone|ipad|ipod/i.test(m)||/macintosh/i.test(m)&&/mobile/i.test(m)}function Nx(m=En()){return im(m)&&!!window.navigator?.standalone}function Ix(){return $3()&&document.documentMode===10}function Ov(m=En()){return im(m)||Mv(m)||Iv(m)||Nv(m)||/windows phone/i.test(m)||Rv(m)}function jv(m,e=[]){let t;switch(m){case"Browser":t=zb(En());break;case"Worker":t=`${zb(En())}-${m}`;break;default:t=m}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${el}/${i}`}class Ox{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((s,h)=>{try{const a=e(l);s(a)}catch(a){h(a)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const c of t)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function jx(m,e={}){return pa(m,"GET","/v2/passwordPolicy",da(m,e))}const Dx=6;class Px{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Dx,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),c&&(t.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let c=0;c<e.length;c++)i=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,c,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class Lx{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ub(this),this.idTokenSubscription=new Ub(this),this.beforeStateQueue=new Ox(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ms(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ho.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await yh(this,{idToken:e}),i=await Ei._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(s,s))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,s=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===s)&&h?.user&&(i=h.user,c=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(gs(this));const t=e?sn(e):null;return t&&ze(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jx(this),t=new Px(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Mx(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ms(e)||this._popupRedirectResolver;ze(t,this,"argument-error"),this.redirectPersistenceManager=await Ho.create(this,[ms(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let s=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(h,this,"internal-error"),h.then(()=>{s||l(this.currentUser)}),typeof t=="function"){const a=e.addObserver(t,i,c);return()=>{s=!0,a()}}else{const a=e.addObserver(t);return()=>{s=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ma(m){return sn(m)}class Ub{constructor(e){this.auth=e,this.observer=null,this.addObserver=J3(t=>this.observer=t)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Bx(m){Lh=m}function Dv(m){return Lh.loadJS(m)}function Vx(){return Lh.recaptchaEnterpriseScript}function zx(){return Lh.gapiScript}function Ux(m){return`__${m}${Math.floor(Math.random()*1e6)}`}class Fx{constructor(){this.enterprise=new Hx}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Hx{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qx="recaptcha-enterprise",Pv="NO_RECAPTCHA";class $x{constructor(e){this.type=qx,this.auth=ma(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(s,h)=>{xx(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const n=new _x(a);return l.tenantId==null?l._agentRecaptchaConfig=n:l._tenantRecaptchaConfigs[l.tenantId]=n,s(n.siteKey)}}).catch(a=>{h(a)})})}function c(l,s,h){const a=window.grecaptcha;Pb(a)?a.enterprise.ready(()=>{a.enterprise.execute(l,{action:e}).then(n=>{s(n)}).catch(()=>{s(Pv)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fx().execute("siteKey",{action:"verify"}):new Promise((l,s)=>{i(this.auth).then(h=>{if(!t&&Pb(window.grecaptcha))c(h,l,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let a=Vx();a.length!==0&&(a+=h),Dv(a).then(()=>{c(h,l,s)}).catch(n=>{s(n)})}}).catch(h=>{s(h)})})}}async function Fb(m,e,t,i=!1,c=!1){const l=new $x(m);let s;if(c)s=Pv;else try{s=await l.verify(t)}catch{s=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const a=h.phoneEnrollmentInfo.phoneNumber,n=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:n,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const a=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:s}):Object.assign(h,{captchaResponse:s}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Cp(m,e,t,i,c){if(m._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Fb(m,e,t,t==="getOobCode");return i(m,l)}else return i(m,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Fb(m,e,t,t==="getOobCode");return i(m,s)}else return Promise.reject(l)})}function Gx(m,e){const t=Zp(m,"auth");if(t.isInitialized()){const c=t.getImmediate(),l=t.getOptions();if(Ga(l,e??{}))return c;fi(c,"already-initialized")}return t.initialize({options:e})}function Wx(m,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(ms);e?.errorMap&&m._updateErrorMap(e.errorMap),m._initializeWithPersistence(i,e?.popupRedirectResolver)}function Xx(m,e,t){const i=ma(m);ze(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const c=!1,l=Lv(e),{host:s,port:h}=Yx(e),a=h===null?"":`:${h}`,n={url:`${l}//${s}${a}/`},u=Object.freeze({host:s,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!i._canInitEmulator){ze(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ze(Ga(n,i.config.emulator)&&Ga(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=n,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,tl(s)?(fv(`${l}//${s}${a}`),dv("Auth",!0)):Kx()}function Lv(m){const e=m.indexOf(":");return e<0?"":m.substr(0,e+1)}function Yx(m){const e=Lv(m),t=/(\/\/)?([^?#/]+)/.exec(m.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(i);if(c){const l=c[1];return{host:l,port:Hb(i.substr(l.length+1))}}else{const[l,s]=i.split(":");return{host:l,port:Hb(s)}}}function Hb(m){if(!m)return null;const e=Number(m);return isNaN(e)?null:e}function Kx(){function m(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m())}class sm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,t){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function Qx(m,e){return pa(m,"POST","/v1/accounts:signUp",e)}async function Zx(m,e){return Cu(m,"POST","/v1/accounts:signInWithPassword",da(m,e))}async function Jx(m,e){return Cu(m,"POST","/v1/accounts:signInWithEmailLink",da(m,e))}async function t6(m,e){return Cu(m,"POST","/v1/accounts:signInWithEmailLink",da(m,e))}class gu extends sm{constructor(e,t,i,c=null){super("password",i),this._email=e,this._password=t,this._tenantId=c}static _fromEmailAndPassword(e,t){return new gu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new gu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,t,"signInWithPassword",Zx);case"emailLink":return Jx(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,i,"signUpPassword",Qx);case"emailLink":return t6(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function qo(m,e){return Cu(m,"POST","/v1/accounts:signInWithIdp",da(m,e))}const e6="http://localhost";class Xa extends sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:c,...l}=t;if(!i||!c)return null;const s=new Xa(i,c);return s.idToken=l.idToken||void 0,s.accessToken=l.accessToken||void 0,s.secret=l.secret,s.nonce=l.nonce,s.pendingToken=l.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return qo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,qo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,qo(e,t)}buildRequest(){const e={requestUri:e6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Au(t)}return e}}function r6(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function n6(m){const e=Jl(tu(m)).link,t=e?Jl(tu(e)).deep_link_id:null,i=Jl(tu(m)).deep_link_id;return(i?Jl(tu(i)).link:null)||i||t||e||m}class am{constructor(e){const t=Jl(tu(e)),i=t.apiKey??null,c=t.oobCode??null,l=r6(t.mode??null);ze(i&&c&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=c,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=n6(e);try{return new am(t)}catch{return null}}}class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,t){return gu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=am.parseLink(t);return ze(i,"argument-error"),gu._fromEmailAndCode(e,i.code,i.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class om{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ru extends om{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Qs extends Ru{constructor(){super("facebook.com")}static credential(e){return Xa._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qs.PROVIDER_ID="facebook.com";class Ti extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xa._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ti.credential(t,i)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";class Zs extends Ru{constructor(){super("github.com")}static credential(e){return Xa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";class Js extends Ru{constructor(){super("twitter.com")}static credential(e,t){return Xa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Js.credential(t,i)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function i6(m,e){return Cu(m,"POST","/v1/accounts:signUp",da(m,e))}class Ya{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,c=!1){const l=await Ei._fromIdTokenResponse(e,i,c),s=qb(i);return new Ya({user:l,providerId:s,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const c=qb(i);return new Ya({user:e,providerId:c,_tokenResponse:i,operationType:t})}}function qb(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}class wh extends Ss{constructor(e,t,i,c){super(t.code,t.message),this.operationType=i,this.user=c,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,c){return new wh(e,t,i,c)}}function Bv(m,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(m):t._getIdTokenResponse(m)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(m,l,e,i):l})}async function s6(m,e,t=!1){const i=await mu(m,e._linkToIdToken(m.auth,await m.getIdToken()),t);return Ya._forOperation(m,"link",i)}async function a6(m,e,t=!1){const{auth:i}=m;if(Kn(i.app))return Promise.reject(gs(i));const c="reauthenticate";try{const l=await mu(m,Bv(i,c,e,m),t);ze(l.idToken,i,"internal-error");const s=nm(l.idToken);ze(s,i,"internal-error");const{sub:h}=s;return ze(m.uid===h,i,"user-mismatch"),Ya._forOperation(m,c,l)}catch(l){throw l?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),l}}async function Vv(m,e,t=!1){if(Kn(m.app))return Promise.reject(gs(m));const i="signIn",c=await Bv(m,i,e),l=await Ya._fromIdTokenResponse(m,i,c);return t||await m._updateCurrentUser(l.user),l}async function o6(m,e){return Vv(ma(m),e)}async function zv(m){const e=ma(m);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l6(m,e,t){if(Kn(m.app))return Promise.reject(gs(m));const i=ma(m),s=await Cp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",i6).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&zv(m),a}),h=await Ya._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(h.user),h}function u6(m,e,t){return Kn(m.app)?Promise.reject(gs(m)):o6(sn(m),rl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&zv(m),i})}function c6(m,e,t,i){return sn(m).onIdTokenChanged(e,t,i)}function h6(m,e,t){return sn(m).beforeAuthStateChanged(e,t)}function f6(m,e,t,i){return sn(m).onAuthStateChanged(e,t,i)}function d6(m){return sn(m).signOut()}const _h="__sak";class Uv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const p6=1e3,m6=10;class Fv extends Uv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ov(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),c=this.localCache[t];i!==c&&e(t,c,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,h,a)=>{this.notifyListeners(s,a)});return}const i=e.key;t?this.detachListener():this.stopPolling();const c=()=>{const s=this.storage.getItem(i);!t&&this.localCache[i]===s||this.notifyListeners(i,s)},l=this.storage.getItem(i);Ix()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,m6):c()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},p6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fv.type="LOCAL";const g6=Fv;class Hv extends Uv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Hv.type="SESSION";const qv=Hv;function b6(m){return Promise.all(m.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(c=>c.isListeningto(e));if(t)return t;const i=new Bh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:c,data:l}=t.data,s=this.handlersMap[c];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:c});const h=Array.from(s).map(async n=>n(t.origin,l)),a=await b6(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:c,response:a})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function lm(m="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return m+t}class y6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let l,s;return new Promise((h,a)=>{const n=lm("",20);c.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},i);s={messageChannel:c,onMessage(p){const f=p;if(f.data.eventId===n)switch(f.data.status){case"ack":clearTimeout(u),l=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(f.data.response);break;default:clearTimeout(u),clearTimeout(l),a(new Error("invalid_response"));break}}},this.handlers.add(s),c.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:n,data:t},[c.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Fi(){return window}function v6(m){Fi().location.href=m}function $v(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function w6(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _6(){return navigator?.serviceWorker?.controller||null}function x6(){return $v()?self:null}const Gv="firebaseLocalStorageDb",S6=1,xh="firebaseLocalStorage",Wv="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vh(m,e){return m.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function T6(){const m=indexedDB.deleteDatabase(Gv);return new Mu(m).toPromise()}function Rp(){const m=indexedDB.open(Gv,S6);return new Promise((e,t)=>{m.addEventListener("error",()=>{t(m.error)}),m.addEventListener("upgradeneeded",()=>{const i=m.result;try{i.createObjectStore(xh,{keyPath:Wv})}catch(c){t(c)}}),m.addEventListener("success",async()=>{const i=m.result;i.objectStoreNames.contains(xh)?e(i):(i.close(),await T6(),e(await Rp()))})})}async function $b(m,e,t){const i=Vh(m,!0).put({[Wv]:e,value:t});return new Mu(i).toPromise()}async function E6(m,e){const t=Vh(m,!1).get(e),i=await new Mu(t).toPromise();return i===void 0?null:i.value}function Gb(m,e){const t=Vh(m,!0).delete(e);return new Mu(t).toPromise()}const A6=800,k6=3;class Xv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>k6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $v()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(x6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w6(),!this.activeServiceWorker)return;this.sender=new y6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rp();return await $b(e,_h,"1"),await Gb(e,_h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>$b(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>E6(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Gb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const l=Vh(c,!1).getAll();return new Mu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:c,value:l}of e)i.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(l)&&(this.notifyListeners(c,l),t.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!i.has(c)&&(this.notifyListeners(c,null),t.push(c));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xv.type="LOCAL";const C6=Xv;new ku(3e4,6e4);function Yv(m,e){return e?ms(e):(ze(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class um extends sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return qo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return qo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function R6(m){return Vv(m.auth,new um(m),m.bypassAuthState)}function M6(m){const{auth:e,user:t}=m;return ze(t,e,"internal-error"),a6(t,new um(m),m.bypassAuthState)}async function N6(m){const{auth:e,user:t}=m;return ze(t,e,"internal-error"),s6(t,new um(m),m.bypassAuthState)}class Kv{constructor(e,t,i,c,l=!1){this.auth=e,this.resolver=i,this.user=c,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:c,tenantId:l,error:s,type:h}=e;if(s){this.reject(s);return}const a={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(a))}catch(n){this.reject(n)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R6;case"linkViaPopup":case"linkViaRedirect":return N6;case"reauthViaPopup":case"reauthViaRedirect":return M6;default:fi(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const I6=new ku(2e3,1e4);async function O6(m,e,t){if(Kn(m.app))return Promise.reject(Ai(m,"operation-not-supported-in-this-environment"));const i=ma(m);fx(m,e,om);const c=Yv(i,t);return new Ua(i,"signInViaPopup",e,c).executeNotNull()}class Ua extends Kv{constructor(e,t,i,c,l){super(e,t,c,l),this.provider=i,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I6.get())};e()}}Ua.currentPopupAction=null;const j6="pendingRedirect",ah=new Map;class D6 extends Kv{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const i=await P6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P6(m,e){const t=V6(e),i=B6(m);if(!await i._isAvailable())return!1;const c=await i._get(t)==="true";return await i._remove(t),c}function L6(m,e){ah.set(m._key(),e)}function B6(m){return ms(m._redirectPersistence)}function V6(m){return sh(j6,m.config.apiKey,m.name)}async function z6(m,e,t=!1){if(Kn(m.app))return Promise.reject(gs(m));const i=ma(m),c=Yv(i,e),s=await new D6(i,c,t).execute();return s&&!t&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}const U6=600*1e3;class F6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!H6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Qv(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ai(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U6&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wb(e))}saveEventToCache(e){this.cachedEventUids.add(Wb(e)),this.lastProcessedEventTime=Date.now()}}function Wb(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(e=>e).join("-")}function Qv({type:m,error:e}){return m==="unknown"&&e?.code==="auth/no-auth-event"}function H6(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qv(m);default:return!1}}async function q6(m,e={}){return pa(m,"GET","/v1/projects",e)}const $6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G6=/^https?/;async function W6(m){if(m.config.emulator)return;const{authorizedDomains:e}=await q6(m);for(const t of e)try{if(X6(t))return}catch{}fi(m,"unauthorized-domain")}function X6(m){const e=Ap(),{protocol:t,hostname:i}=new URL(e);if(m.startsWith("chrome-extension://")){const s=new URL(m);return s.hostname===""&&i===""?t==="chrome-extension:"&&m.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!G6.test(t))return!1;if($6.test(m))return i===m;const c=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(i)}const Y6=new ku(3e4,6e4);function Xb(){const m=Fi().___jsl;if(m?.H){for(const e of Object.keys(m.H))if(m.H[e].r=m.H[e].r||[],m.H[e].L=m.H[e].L||[],m.H[e].r=[...m.H[e].L],m.CP)for(let t=0;t<m.CP.length;t++)m.CP[t]=null}}function K6(m){return new Promise((e,t)=>{function i(){Xb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xb(),t(Ai(m,"network-request-failed"))},timeout:Y6.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)i();else{const c=Ux("iframefcb");return Fi()[c]=()=>{gapi.load?i():t(Ai(m,"network-request-failed"))},Dv(`${zx()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw oh=null,e})}let oh=null;function Q6(m){return oh=oh||K6(m),oh}const Z6=new ku(5e3,15e3),J6="__/auth/iframe",t5="emulator/auth/iframe",e5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n5(m){const e=m.config;ze(e.authDomain,m,"auth-domain-config-required");const t=e.emulator?rm(e,t5):`https://${m.config.authDomain}/${J6}`,i={apiKey:e.apiKey,appName:m.name,v:el},c=r5.get(m.config.apiHost);c&&(i.eid=c);const l=m._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Au(i).slice(1)}`}async function i5(m){const e=await Q6(m),t=Fi().gapi;return ze(t,m,"internal-error"),e.open({where:document.body,url:n5(m),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e5,dontclear:!0},i=>new Promise(async(c,l)=>{await i.restyle({setHideOnLeave:!1});const s=Ai(m,"network-request-failed"),h=Fi().setTimeout(()=>{l(s)},Z6.get());function a(){Fi().clearTimeout(h),c(i)}i.ping(a).then(a,()=>{l(s)})}))}const s5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a5=500,o5=600,l5="_blank",u5="http://localhost";class Yb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c5(m,e,t,i=a5,c=o5){const l=Math.max((window.screen.availHeight-c)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const a={...s5,width:i.toString(),height:c.toString(),top:l,left:s},n=En().toLowerCase();t&&(h=Cv(n)?l5:t),Av(n)&&(e=e||u5,a.scrollbars="yes");const u=Object.entries(a).reduce((f,[d,y])=>`${f}${d}=${y},`,"");if(Nx(n)&&h!=="_self")return h5(e||"",h),new Yb(null);const p=window.open(e||"",h,u);ze(p,m,"popup-blocked");try{p.focus()}catch{}return new Yb(p)}function h5(m,e){const t=document.createElement("a");t.href=m,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const f5="__/auth/handler",d5="emulator/auth/handler",p5=encodeURIComponent("fac");async function Kb(m,e,t,i,c,l){ze(m.config.authDomain,m,"auth-domain-config-required"),ze(m.config.apiKey,m,"invalid-api-key");const s={apiKey:m.config.apiKey,appName:m.name,authType:t,redirectUrl:i,v:el,eventId:c};if(e instanceof om){e.setDefaultLanguage(m.languageCode),s.providerId=e.providerId||"",Z3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,p]of Object.entries({}))s[u]=p}if(e instanceof Ru){const u=e.getScopes().filter(p=>p!=="");u.length>0&&(s.scopes=u.join(","))}m.tenantId&&(s.tid=m.tenantId);const h=s;for(const u of Object.keys(h))h[u]===void 0&&delete h[u];const a=await m._getAppCheckToken(),n=a?`#${p5}=${encodeURIComponent(a)}`:"";return`${m5(m)}?${Au(h).slice(1)}${n}`}function m5({config:m}){return m.emulator?rm(m,d5):`https://${m.authDomain}/${f5}`}const fp="webStorageSupport";class g5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qv,this._completeRedirectFn=z6,this._overrideRedirectResult=L6}async _openPopup(e,t,i,c){vs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Kb(e,t,i,Ap(),c);return c5(e,l,lm())}async _openRedirect(e,t,i,c){await this._originValidation(e);const l=await Kb(e,t,i,Ap(),c);return v6(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:l}=this.eventManagers[t];return c?Promise.resolve(c):(vs(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await i5(e),i=new F6(e);return t.register("authEvent",c=>(ze(c?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fp,{type:fp},c=>{const l=c?.[0]?.[fp];l!==void 0&&t(!!l),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=W6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ov()||kv()||im()}}const b5=g5;var Qb="@firebase/auth",Zb="1.12.0";class y5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function v5(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w5(m){Xo(new Wa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:s,authDomain:h}=i.options;ze(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const a={apiKey:s,authDomain:h,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jv(m)},n=new Lx(i,c,l,a);return Wx(n,t),n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Xo(new Wa("auth-internal",e=>{const t=ma(e.getProvider("auth").getImmediate());return(i=>new y5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(Qb,Zb,v5(m)),ia(Qb,Zb,"esm2020")}const _5=300,x5=hv("authIdTokenMaxAge")||_5;let Jb=null;const S5=m=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>x5)return;const c=t?.token;Jb!==c&&(Jb=c,await fetch(m,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function Zv(m=gv()){const e=Zp(m,"auth");if(e.isInitialized())return e.getImmediate();const t=Gx(m,{popupRedirectResolver:b5,persistence:[C6,g6,qv]}),i=hv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const s=S5(l.toString());h6(t,s,()=>s(t.currentUser)),c6(t,h=>s(h))}}const c=uv("auth");return c&&Xx(t,`http://${c}`),t}function T5(){return document.getElementsByTagName("head")?.[0]??document}Bx({loadJS(m){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",m),i.onload=e,i.onerror=c=>{const l=Ai("internal-error");l.customData=c,t(l)},i.type="text/javascript",i.charset="UTF-8",T5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w5("Browser");var E5="firebase",A5="12.9.0";ia(E5,A5,"app");var ty=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var sa,Jv;(function(){var m;function e(F,j){function U(){}U.prototype=j.prototype,F.F=j.prototype,F.prototype=new U,F.prototype.constructor=F,F.D=function(q,X,$){for(var R=Array(arguments.length-2),P=2;P<arguments.length;P++)R[P-2]=arguments[P];return j.prototype[X].apply(q,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(F,j,U){U||(U=0);const q=Array(16);if(typeof j=="string")for(var X=0;X<16;++X)q[X]=j.charCodeAt(U++)|j.charCodeAt(U++)<<8|j.charCodeAt(U++)<<16|j.charCodeAt(U++)<<24;else for(X=0;X<16;++X)q[X]=j[U++]|j[U++]<<8|j[U++]<<16|j[U++]<<24;j=F.g[0],U=F.g[1],X=F.g[2];let $=F.g[3],R;R=j+($^U&(X^$))+q[0]+3614090360&4294967295,j=U+(R<<7&4294967295|R>>>25),R=$+(X^j&(U^X))+q[1]+3905402710&4294967295,$=j+(R<<12&4294967295|R>>>20),R=X+(U^$&(j^U))+q[2]+606105819&4294967295,X=$+(R<<17&4294967295|R>>>15),R=U+(j^X&($^j))+q[3]+3250441966&4294967295,U=X+(R<<22&4294967295|R>>>10),R=j+($^U&(X^$))+q[4]+4118548399&4294967295,j=U+(R<<7&4294967295|R>>>25),R=$+(X^j&(U^X))+q[5]+1200080426&4294967295,$=j+(R<<12&4294967295|R>>>20),R=X+(U^$&(j^U))+q[6]+2821735955&4294967295,X=$+(R<<17&4294967295|R>>>15),R=U+(j^X&($^j))+q[7]+4249261313&4294967295,U=X+(R<<22&4294967295|R>>>10),R=j+($^U&(X^$))+q[8]+1770035416&4294967295,j=U+(R<<7&4294967295|R>>>25),R=$+(X^j&(U^X))+q[9]+2336552879&4294967295,$=j+(R<<12&4294967295|R>>>20),R=X+(U^$&(j^U))+q[10]+4294925233&4294967295,X=$+(R<<17&4294967295|R>>>15),R=U+(j^X&($^j))+q[11]+2304563134&4294967295,U=X+(R<<22&4294967295|R>>>10),R=j+($^U&(X^$))+q[12]+1804603682&4294967295,j=U+(R<<7&4294967295|R>>>25),R=$+(X^j&(U^X))+q[13]+4254626195&4294967295,$=j+(R<<12&4294967295|R>>>20),R=X+(U^$&(j^U))+q[14]+2792965006&4294967295,X=$+(R<<17&4294967295|R>>>15),R=U+(j^X&($^j))+q[15]+1236535329&4294967295,U=X+(R<<22&4294967295|R>>>10),R=j+(X^$&(U^X))+q[1]+4129170786&4294967295,j=U+(R<<5&4294967295|R>>>27),R=$+(U^X&(j^U))+q[6]+3225465664&4294967295,$=j+(R<<9&4294967295|R>>>23),R=X+(j^U&($^j))+q[11]+643717713&4294967295,X=$+(R<<14&4294967295|R>>>18),R=U+($^j&(X^$))+q[0]+3921069994&4294967295,U=X+(R<<20&4294967295|R>>>12),R=j+(X^$&(U^X))+q[5]+3593408605&4294967295,j=U+(R<<5&4294967295|R>>>27),R=$+(U^X&(j^U))+q[10]+38016083&4294967295,$=j+(R<<9&4294967295|R>>>23),R=X+(j^U&($^j))+q[15]+3634488961&4294967295,X=$+(R<<14&4294967295|R>>>18),R=U+($^j&(X^$))+q[4]+3889429448&4294967295,U=X+(R<<20&4294967295|R>>>12),R=j+(X^$&(U^X))+q[9]+568446438&4294967295,j=U+(R<<5&4294967295|R>>>27),R=$+(U^X&(j^U))+q[14]+3275163606&4294967295,$=j+(R<<9&4294967295|R>>>23),R=X+(j^U&($^j))+q[3]+4107603335&4294967295,X=$+(R<<14&4294967295|R>>>18),R=U+($^j&(X^$))+q[8]+1163531501&4294967295,U=X+(R<<20&4294967295|R>>>12),R=j+(X^$&(U^X))+q[13]+2850285829&4294967295,j=U+(R<<5&4294967295|R>>>27),R=$+(U^X&(j^U))+q[2]+4243563512&4294967295,$=j+(R<<9&4294967295|R>>>23),R=X+(j^U&($^j))+q[7]+1735328473&4294967295,X=$+(R<<14&4294967295|R>>>18),R=U+($^j&(X^$))+q[12]+2368359562&4294967295,U=X+(R<<20&4294967295|R>>>12),R=j+(U^X^$)+q[5]+4294588738&4294967295,j=U+(R<<4&4294967295|R>>>28),R=$+(j^U^X)+q[8]+2272392833&4294967295,$=j+(R<<11&4294967295|R>>>21),R=X+($^j^U)+q[11]+1839030562&4294967295,X=$+(R<<16&4294967295|R>>>16),R=U+(X^$^j)+q[14]+4259657740&4294967295,U=X+(R<<23&4294967295|R>>>9),R=j+(U^X^$)+q[1]+2763975236&4294967295,j=U+(R<<4&4294967295|R>>>28),R=$+(j^U^X)+q[4]+1272893353&4294967295,$=j+(R<<11&4294967295|R>>>21),R=X+($^j^U)+q[7]+4139469664&4294967295,X=$+(R<<16&4294967295|R>>>16),R=U+(X^$^j)+q[10]+3200236656&4294967295,U=X+(R<<23&4294967295|R>>>9),R=j+(U^X^$)+q[13]+681279174&4294967295,j=U+(R<<4&4294967295|R>>>28),R=$+(j^U^X)+q[0]+3936430074&4294967295,$=j+(R<<11&4294967295|R>>>21),R=X+($^j^U)+q[3]+3572445317&4294967295,X=$+(R<<16&4294967295|R>>>16),R=U+(X^$^j)+q[6]+76029189&4294967295,U=X+(R<<23&4294967295|R>>>9),R=j+(U^X^$)+q[9]+3654602809&4294967295,j=U+(R<<4&4294967295|R>>>28),R=$+(j^U^X)+q[12]+3873151461&4294967295,$=j+(R<<11&4294967295|R>>>21),R=X+($^j^U)+q[15]+530742520&4294967295,X=$+(R<<16&4294967295|R>>>16),R=U+(X^$^j)+q[2]+3299628645&4294967295,U=X+(R<<23&4294967295|R>>>9),R=j+(X^(U|~$))+q[0]+4096336452&4294967295,j=U+(R<<6&4294967295|R>>>26),R=$+(U^(j|~X))+q[7]+1126891415&4294967295,$=j+(R<<10&4294967295|R>>>22),R=X+(j^($|~U))+q[14]+2878612391&4294967295,X=$+(R<<15&4294967295|R>>>17),R=U+($^(X|~j))+q[5]+4237533241&4294967295,U=X+(R<<21&4294967295|R>>>11),R=j+(X^(U|~$))+q[12]+1700485571&4294967295,j=U+(R<<6&4294967295|R>>>26),R=$+(U^(j|~X))+q[3]+2399980690&4294967295,$=j+(R<<10&4294967295|R>>>22),R=X+(j^($|~U))+q[10]+4293915773&4294967295,X=$+(R<<15&4294967295|R>>>17),R=U+($^(X|~j))+q[1]+2240044497&4294967295,U=X+(R<<21&4294967295|R>>>11),R=j+(X^(U|~$))+q[8]+1873313359&4294967295,j=U+(R<<6&4294967295|R>>>26),R=$+(U^(j|~X))+q[15]+4264355552&4294967295,$=j+(R<<10&4294967295|R>>>22),R=X+(j^($|~U))+q[6]+2734768916&4294967295,X=$+(R<<15&4294967295|R>>>17),R=U+($^(X|~j))+q[13]+1309151649&4294967295,U=X+(R<<21&4294967295|R>>>11),R=j+(X^(U|~$))+q[4]+4149444226&4294967295,j=U+(R<<6&4294967295|R>>>26),R=$+(U^(j|~X))+q[11]+3174756917&4294967295,$=j+(R<<10&4294967295|R>>>22),R=X+(j^($|~U))+q[2]+718787259&4294967295,X=$+(R<<15&4294967295|R>>>17),R=U+($^(X|~j))+q[9]+3951481745&4294967295,F.g[0]=F.g[0]+j&4294967295,F.g[1]=F.g[1]+(X+(R<<21&4294967295|R>>>11))&4294967295,F.g[2]=F.g[2]+X&4294967295,F.g[3]=F.g[3]+$&4294967295}i.prototype.v=function(F,j){j===void 0&&(j=F.length);const U=j-this.blockSize,q=this.C;let X=this.h,$=0;for(;$<j;){if(X==0)for(;$<=U;)c(this,F,$),$+=this.blockSize;if(typeof F=="string"){for(;$<j;)if(q[X++]=F.charCodeAt($++),X==this.blockSize){c(this,q),X=0;break}}else for(;$<j;)if(q[X++]=F[$++],X==this.blockSize){c(this,q),X=0;break}}this.h=X,this.o+=j},i.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var j=1;j<F.length-8;++j)F[j]=0;j=this.o*8;for(var U=F.length-8;U<F.length;++U)F[U]=j&255,j/=256;for(this.v(F),F=Array(16),j=0,U=0;U<4;++U)for(let q=0;q<32;q+=8)F[j++]=this.g[U]>>>q&255;return F};function l(F,j){var U=h;return Object.prototype.hasOwnProperty.call(U,F)?U[F]:U[F]=j(F)}function s(F,j){this.h=j;const U=[];let q=!0;for(let X=F.length-1;X>=0;X--){const $=F[X]|0;q&&$==j||(U[X]=$,q=!1)}this.g=U}var h={};function a(F){return-128<=F&&F<128?l(F,function(j){return new s([j|0],j<0?-1:0)}):new s([F|0],F<0?-1:0)}function n(F){if(isNaN(F)||!isFinite(F))return p;if(F<0)return g(n(-F));const j=[];let U=1;for(let q=0;F>=U;q++)j[q]=F/U|0,U*=4294967296;return new s(j,0)}function u(F,j){if(F.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(F.charAt(0)=="-")return g(u(F.substring(1),j));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=n(Math.pow(j,8));let q=p;for(let $=0;$<F.length;$+=8){var X=Math.min(8,F.length-$);const R=parseInt(F.substring($,$+X),j);X<8?(X=n(Math.pow(j,X)),q=q.j(X).add(n(R))):(q=q.j(U),q=q.add(n(R)))}return q}var p=a(0),f=a(1),d=a(16777216);m=s.prototype,m.m=function(){if(v(this))return-g(this).m();let F=0,j=1;for(let U=0;U<this.g.length;U++){const q=this.i(U);F+=(q>=0?q:4294967296+q)*j,j*=4294967296}return F},m.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(y(this))return"0";if(v(this))return"-"+g(this).toString(F);const j=n(Math.pow(F,6));var U=this;let q="";for(;;){const X=M(U,j).g;U=w(U,X.j(j));let $=((U.g.length>0?U.g[0]:U.h)>>>0).toString(F);if(U=X,y(U))return $+q;for(;$.length<6;)$="0"+$;q=$+q}},m.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function y(F){if(F.h!=0)return!1;for(let j=0;j<F.g.length;j++)if(F.g[j]!=0)return!1;return!0}function v(F){return F.h==-1}m.l=function(F){return F=w(this,F),v(F)?-1:y(F)?0:1};function g(F){const j=F.g.length,U=[];for(let q=0;q<j;q++)U[q]=~F.g[q];return new s(U,~F.h).add(f)}m.abs=function(){return v(this)?g(this):this},m.add=function(F){const j=Math.max(this.g.length,F.g.length),U=[];let q=0;for(let X=0;X<=j;X++){let $=q+(this.i(X)&65535)+(F.i(X)&65535),R=($>>>16)+(this.i(X)>>>16)+(F.i(X)>>>16);q=R>>>16,$&=65535,R&=65535,U[X]=R<<16|$}return new s(U,U[U.length-1]&-2147483648?-1:0)};function w(F,j){return F.add(g(j))}m.j=function(F){if(y(this)||y(F))return p;if(v(this))return v(F)?g(this).j(g(F)):g(g(this).j(F));if(v(F))return g(this.j(g(F)));if(this.l(d)<0&&F.l(d)<0)return n(this.m()*F.m());const j=this.g.length+F.g.length,U=[];for(var q=0;q<2*j;q++)U[q]=0;for(q=0;q<this.g.length;q++)for(let X=0;X<F.g.length;X++){const $=this.i(q)>>>16,R=this.i(q)&65535,P=F.i(X)>>>16,C=F.i(X)&65535;U[2*q+2*X]+=R*C,_(U,2*q+2*X),U[2*q+2*X+1]+=$*C,_(U,2*q+2*X+1),U[2*q+2*X+1]+=R*P,_(U,2*q+2*X+1),U[2*q+2*X+2]+=$*P,_(U,2*q+2*X+2)}for(F=0;F<j;F++)U[F]=U[2*F+1]<<16|U[2*F];for(F=j;F<2*j;F++)U[F]=0;return new s(U,0)};function _(F,j){for(;(F[j]&65535)!=F[j];)F[j+1]+=F[j]>>>16,F[j]&=65535,j++}function k(F,j){this.g=F,this.h=j}function M(F,j){if(y(j))throw Error("division by zero");if(y(F))return new k(p,p);if(v(F))return j=M(g(F),j),new k(g(j.g),g(j.h));if(v(j))return j=M(F,g(j)),new k(g(j.g),j.h);if(F.g.length>30){if(v(F)||v(j))throw Error("slowDivide_ only works with positive integers.");for(var U=f,q=j;q.l(F)<=0;)U=L(U),q=L(q);var X=G(U,1),$=G(q,1);for(q=G(q,2),U=G(U,2);!y(q);){var R=$.add(q);R.l(F)<=0&&(X=X.add(U),$=R),q=G(q,1),U=G(U,1)}return j=w(F,X.j(j)),new k(X,j)}for(X=p;F.l(j)>=0;){for(U=Math.max(1,Math.floor(F.m()/j.m())),q=Math.ceil(Math.log(U)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),$=n(U),R=$.j(j);v(R)||R.l(F)>0;)U-=q,$=n(U),R=$.j(j);y($)&&($=f),X=X.add($),F=w(F,R)}return new k(X,F)}m.B=function(F){return M(this,F).h},m.and=function(F){const j=Math.max(this.g.length,F.g.length),U=[];for(let q=0;q<j;q++)U[q]=this.i(q)&F.i(q);return new s(U,this.h&F.h)},m.or=function(F){const j=Math.max(this.g.length,F.g.length),U=[];for(let q=0;q<j;q++)U[q]=this.i(q)|F.i(q);return new s(U,this.h|F.h)},m.xor=function(F){const j=Math.max(this.g.length,F.g.length),U=[];for(let q=0;q<j;q++)U[q]=this.i(q)^F.i(q);return new s(U,this.h^F.h)};function L(F){const j=F.g.length+1,U=[];for(let q=0;q<j;q++)U[q]=F.i(q)<<1|F.i(q-1)>>>31;return new s(U,F.h)}function G(F,j){const U=j>>5;j%=32;const q=F.g.length-U,X=[];for(let $=0;$<q;$++)X[$]=j>0?F.i($+U)>>>j|F.i($+U+1)<<32-j:F.i($+U);return new s(X,F.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Jv=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=n,s.fromString=u,sa=s}).apply(typeof ty<"u"?ty:typeof self<"u"?self:typeof window<"u"?window:{});var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var t2,eu,e2,lh,Mp,r2,n2,i2;(function(){var m,e=Object.defineProperty;function t(O){O=[typeof globalThis=="object"&&globalThis,O,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zc=="object"&&Zc];for(var J=0;J<O.length;++J){var rt=O[J];if(rt&&rt.Math==Math)return rt}throw Error("Cannot find global object")}var i=t(this);function c(O,J){if(J)t:{var rt=i;O=O.split(".");for(var ft=0;ft<O.length-1;ft++){var kt=O[ft];if(!(kt in rt))break t;rt=rt[kt]}O=O[O.length-1],ft=rt[O],J=J(ft),J!=ft&&J!=null&&e(rt,O,{configurable:!0,writable:!0,value:J})}}c("Symbol.dispose",function(O){return O||Symbol("Symbol.dispose")}),c("Array.prototype.values",function(O){return O||function(){return this[Symbol.iterator]()}}),c("Object.entries",function(O){return O||function(J){var rt=[],ft;for(ft in J)Object.prototype.hasOwnProperty.call(J,ft)&&rt.push([ft,J[ft]]);return rt}});var l=l||{},s=this||self;function h(O){var J=typeof O;return J=="object"&&O!=null||J=="function"}function a(O,J,rt){return O.call.apply(O.bind,arguments)}function n(O,J,rt){return n=a,n.apply(null,arguments)}function u(O,J){var rt=Array.prototype.slice.call(arguments,1);return function(){var ft=rt.slice();return ft.push.apply(ft,arguments),O.apply(this,ft)}}function p(O,J){function rt(){}rt.prototype=J.prototype,O.Z=J.prototype,O.prototype=new rt,O.prototype.constructor=O,O.Ob=function(ft,kt,Dt){for(var ue=Array(arguments.length-2),tr=2;tr<arguments.length;tr++)ue[tr-2]=arguments[tr];return J.prototype[kt].apply(ft,ue)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?O=>O&&AsyncContext.Snapshot.wrap(O):O=>O;function d(O){const J=O.length;if(J>0){const rt=Array(J);for(let ft=0;ft<J;ft++)rt[ft]=O[ft];return rt}return[]}function y(O,J){for(let ft=1;ft<arguments.length;ft++){const kt=arguments[ft];var rt=typeof kt;if(rt=rt!="object"?rt:kt?Array.isArray(kt)?"array":rt:"null",rt=="array"||rt=="object"&&typeof kt.length=="number"){rt=O.length||0;const Dt=kt.length||0;O.length=rt+Dt;for(let ue=0;ue<Dt;ue++)O[rt+ue]=kt[ue]}else O.push(kt)}}class v{constructor(J,rt){this.i=J,this.j=rt,this.h=0,this.g=null}get(){let J;return this.h>0?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function g(O){s.setTimeout(()=>{throw O},0)}function w(){var O=F;let J=null;return O.g&&(J=O.g,O.g=O.g.next,O.g||(O.h=null),J.next=null),J}class _{constructor(){this.h=this.g=null}add(J,rt){const ft=k.get();ft.set(J,rt),this.h?this.h.next=ft:this.g=ft,this.h=ft}}var k=new v(()=>new M,O=>O.reset());class M{constructor(){this.next=this.g=this.h=null}set(J,rt){this.h=J,this.g=rt,this.next=null}reset(){this.next=this.g=this.h=null}}let L,G=!1,F=new _,j=()=>{const O=Promise.resolve(void 0);L=()=>{O.then(U)}};function U(){for(var O;O=w();){try{O.h.call(O.g)}catch(rt){g(rt)}var J=k;J.j(O),J.h<100&&(J.h++,O.next=J.g,J.g=O)}G=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(O,J){this.type=O,this.g=this.target=J,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var $=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var O=!1,J=Object.defineProperty({},"passive",{get:function(){O=!0}});try{const rt=()=>{};s.addEventListener("test",rt,J),s.removeEventListener("test",rt,J)}catch{}return O})();function R(O){return/^[\s\xa0]*$/.test(O)}function P(O,J){X.call(this,O?O.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,O&&this.init(O,J)}p(P,X),P.prototype.init=function(O,J){const rt=this.type=O.type,ft=O.changedTouches&&O.changedTouches.length?O.changedTouches[0]:null;this.target=O.target||O.srcElement,this.g=J,J=O.relatedTarget,J||(rt=="mouseover"?J=O.fromElement:rt=="mouseout"&&(J=O.toElement)),this.relatedTarget=J,ft?(this.clientX=ft.clientX!==void 0?ft.clientX:ft.pageX,this.clientY=ft.clientY!==void 0?ft.clientY:ft.pageY,this.screenX=ft.screenX||0,this.screenY=ft.screenY||0):(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0),this.button=O.button,this.key=O.key||"",this.ctrlKey=O.ctrlKey,this.altKey=O.altKey,this.shiftKey=O.shiftKey,this.metaKey=O.metaKey,this.pointerId=O.pointerId||0,this.pointerType=O.pointerType,this.state=O.state,this.i=O,O.defaultPrevented&&P.Z.h.call(this)},P.prototype.h=function(){P.Z.h.call(this);const O=this.i;O.preventDefault?O.preventDefault():O.returnValue=!1};var C="closure_listenable_"+(Math.random()*1e6|0),x=0;function S(O,J,rt,ft,kt){this.listener=O,this.proxy=null,this.src=J,this.type=rt,this.capture=!!ft,this.ha=kt,this.key=++x,this.da=this.fa=!1}function T(O){O.da=!0,O.listener=null,O.proxy=null,O.src=null,O.ha=null}function E(O,J,rt){for(const ft in O)J.call(rt,O[ft],ft,O)}function N(O,J){for(const rt in O)J.call(void 0,O[rt],rt,O)}function I(O){const J={};for(const rt in O)J[rt]=O[rt];return J}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(O,J){let rt,ft;for(let kt=1;kt<arguments.length;kt++){ft=arguments[kt];for(rt in ft)O[rt]=ft[rt];for(let Dt=0;Dt<B.length;Dt++)rt=B[Dt],Object.prototype.hasOwnProperty.call(ft,rt)&&(O[rt]=ft[rt])}}function Z(O){this.src=O,this.g={},this.h=0}Z.prototype.add=function(O,J,rt,ft,kt){const Dt=O.toString();O=this.g[Dt],O||(O=this.g[Dt]=[],this.h++);const ue=H(O,J,ft,kt);return ue>-1?(J=O[ue],rt||(J.fa=!1)):(J=new S(J,this.src,Dt,!!ft,kt),J.fa=rt,O.push(J)),J};function nt(O,J){const rt=J.type;if(rt in O.g){var ft=O.g[rt],kt=Array.prototype.indexOf.call(ft,J,void 0),Dt;(Dt=kt>=0)&&Array.prototype.splice.call(ft,kt,1),Dt&&(T(J),O.g[rt].length==0&&(delete O.g[rt],O.h--))}}function H(O,J,rt,ft){for(let kt=0;kt<O.length;++kt){const Dt=O[kt];if(!Dt.da&&Dt.listener==J&&Dt.capture==!!rt&&Dt.ha==ft)return kt}return-1}var tt="closure_lm_"+(Math.random()*1e6|0),V={};function D(O,J,rt,ft,kt){if(Array.isArray(J)){for(let Dt=0;Dt<J.length;Dt++)D(O,J[Dt],rt,ft,kt);return null}return rt=pt(rt),O&&O[C]?O.J(J,rt,h(ft)?!!ft.capture:!1,kt):Q(O,J,rt,!1,ft,kt)}function Q(O,J,rt,ft,kt,Dt){if(!J)throw Error("Invalid event type");const ue=h(kt)?!!kt.capture:!!kt;let tr=bt(O);if(tr||(O[tt]=tr=new Z(O)),rt=tr.add(J,rt,ft,ue,Dt),rt.proxy)return rt;if(ft=it(),rt.proxy=ft,ft.src=O,ft.listener=rt,O.addEventListener)$||(kt=ue),kt===void 0&&(kt=!1),O.addEventListener(J.toString(),ft,kt);else if(O.attachEvent)O.attachEvent(ut(J.toString()),ft);else if(O.addListener&&O.removeListener)O.addListener(ft);else throw Error("addEventListener and attachEvent are unavailable.");return rt}function it(){function O(rt){return J.call(O.src,O.listener,rt)}const J=yt;return O}function ht(O,J,rt,ft,kt){if(Array.isArray(J))for(var Dt=0;Dt<J.length;Dt++)ht(O,J[Dt],rt,ft,kt);else ft=h(ft)?!!ft.capture:!!ft,rt=pt(rt),O&&O[C]?(O=O.i,Dt=String(J).toString(),Dt in O.g&&(J=O.g[Dt],rt=H(J,rt,ft,kt),rt>-1&&(T(J[rt]),Array.prototype.splice.call(J,rt,1),J.length==0&&(delete O.g[Dt],O.h--)))):O&&(O=bt(O))&&(J=O.g[J.toString()],O=-1,J&&(O=H(J,rt,ft,kt)),(rt=O>-1?J[O]:null)&&st(rt))}function st(O){if(typeof O!="number"&&O&&!O.da){var J=O.src;if(J&&J[C])nt(J.i,O);else{var rt=O.type,ft=O.proxy;J.removeEventListener?J.removeEventListener(rt,ft,O.capture):J.detachEvent?J.detachEvent(ut(rt),ft):J.addListener&&J.removeListener&&J.removeListener(ft),(rt=bt(J))?(nt(rt,O),rt.h==0&&(rt.src=null,J[tt]=null)):T(O)}}}function ut(O){return O in V?V[O]:V[O]="on"+O}function yt(O,J){if(O.da)O=!0;else{J=new P(J,this);const rt=O.listener,ft=O.ha||O.src;O.fa&&st(O),O=rt.call(ft,J)}return O}function bt(O){return O=O[tt],O instanceof Z?O:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(O){return typeof O=="function"?O:(O[at]||(O[at]=function(J){return O.handleEvent(J)}),O[at])}function dt(){q.call(this),this.i=new Z(this),this.M=this,this.G=null}p(dt,q),dt.prototype[C]=!0,dt.prototype.removeEventListener=function(O,J,rt,ft){ht(this,O,J,rt,ft)};function vt(O,J){var rt,ft=O.G;if(ft)for(rt=[];ft;ft=ft.G)rt.push(ft);if(O=O.M,ft=J.type||J,typeof J=="string")J=new X(J,O);else if(J instanceof X)J.target=J.target||O;else{var kt=J;J=new X(ft,O),K(J,kt)}kt=!0;let Dt,ue;if(rt)for(ue=rt.length-1;ue>=0;ue--)Dt=J.g=rt[ue],kt=xt(Dt,ft,!0,J)&&kt;if(Dt=J.g=O,kt=xt(Dt,ft,!0,J)&&kt,kt=xt(Dt,ft,!1,J)&&kt,rt)for(ue=0;ue<rt.length;ue++)Dt=J.g=rt[ue],kt=xt(Dt,ft,!1,J)&&kt}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var O=this.i;for(const J in O.g){const rt=O.g[J];for(let ft=0;ft<rt.length;ft++)T(rt[ft]);delete O.g[J],O.h--}}this.G=null},dt.prototype.J=function(O,J,rt,ft){return this.i.add(String(O),J,!1,rt,ft)},dt.prototype.K=function(O,J,rt,ft){return this.i.add(String(O),J,!0,rt,ft)};function xt(O,J,rt,ft){if(J=O.i.g[String(J)],!J)return!0;J=J.concat();let kt=!0;for(let Dt=0;Dt<J.length;++Dt){const ue=J[Dt];if(ue&&!ue.da&&ue.capture==rt){const tr=ue.listener,$r=ue.ha||ue.src;ue.fa&&nt(O.i,ue),kt=tr.call($r,ft)!==!1&&kt}}return kt&&!ft.defaultPrevented}function Et(O,J){if(typeof O!="function")if(O&&typeof O.handleEvent=="function")O=n(O.handleEvent,O);else throw Error("Invalid listener argument");return Number(J)>2147483647?-1:s.setTimeout(O,J||0)}function It(O){O.g=Et(()=>{O.g=null,O.i&&(O.i=!1,It(O))},O.l);const J=O.h;O.h=null,O.m.apply(null,J)}class Nt extends q{constructor(J,rt){super(),this.m=J,this.l=rt,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $t(O){q.call(this),this.h=O,this.g={}}p($t,q);var se=[];function re(O){E(O.g,function(J,rt){this.g.hasOwnProperty(rt)&&st(J)},O),O.g={}}$t.prototype.N=function(){$t.Z.N.call(this),re(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=s.JSON.stringify,te=s.JSON.parse,we=class{stringify(O){return s.JSON.stringify(O,void 0)}parse(O){return s.JSON.parse(O,void 0)}};function _e(){}function Se(){}var ee={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){X.call(this,"d")}p(Ft,X);function ie(){X.call(this,"c")}p(ie,X);var ae={},he=null;function Le(){return he=he||new dt}ae.Ia="serverreachability";function Fe(O){X.call(this,ae.Ia,O)}p(Fe,X);function ge(O){const J=Le();vt(J,new Fe(J))}ae.STAT_EVENT="statevent";function Ge(O,J){X.call(this,ae.STAT_EVENT,O),this.stat=J}p(Ge,X);function Ee(O){const J=Le();vt(J,new Ge(J,O))}ae.Ja="timingevent";function Ae(O,J){X.call(this,ae.Ja,O),this.size=J}p(Ae,X);function Qe(O,J){if(typeof O!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){O()},J)}function Be(){this.g=!0}Be.prototype.ua=function(){this.g=!1};function ke(O,J,rt,ft,kt,Dt){O.info(function(){if(O.g)if(Dt){var ue="",tr=Dt.split("&");for(let vr=0;vr<tr.length;vr++){var $r=tr[vr].split("=");if($r.length>1){const Pr=$r[0];$r=$r[1];const ti=Pr.split("_");ue=ti.length>=2&&ti[1]=="type"?ue+(Pr+"="+$r+"&"):ue+(Pr+"=redacted&")}}}else ue=null;else ue=Dt;return"XMLHTTP REQ ("+ft+") [attempt "+kt+"]: "+J+`
`+rt+`
`+ue})}function qe(O,J,rt,ft,kt,Dt,ue){O.info(function(){return"XMLHTTP RESP ("+ft+") [ attempt "+kt+"]: "+J+`
`+rt+`
`+Dt+" "+ue})}function He(O,J,rt,ft){O.info(function(){return"XMLHTTP TEXT ("+J+"): "+Xe(O,rt)+(ft?" "+ft:"")})}function xe(O,J){O.info(function(){return"TIMEOUT: "+J})}Be.prototype.info=function(){};function Xe(O,J){if(!O.g)return J;if(!J)return null;try{const Dt=JSON.parse(J);if(Dt){for(O=0;O<Dt.length;O++)if(Array.isArray(Dt[O])){var rt=Dt[O];if(!(rt.length<2)){var ft=rt[1];if(Array.isArray(ft)&&!(ft.length<1)){var kt=ft[0];if(kt!="noop"&&kt!="stop"&&kt!="close")for(let ue=1;ue<ft.length;ue++)ft[ue]=""}}}}return Zt(Dt)}catch{return J}}var Je={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Oe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gt;function Tt(){}p(Tt,_e),Tt.prototype.g=function(){return new XMLHttpRequest},gt=new Tt;function Pt(O){return encodeURIComponent(String(O))}function ne(O){var J=1;O=O.split(":");const rt=[];for(;J>0&&O.length;)rt.push(O.shift()),J--;return O.length&&rt.push(O.join(":")),rt}function ye(O,J,rt,ft){this.j=O,this.i=J,this.l=rt,this.S=ft||1,this.V=new $t(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jt}function Jt(){this.i=null,this.g="",this.h=!1}var fe={},oe={};function ce(O,J,rt){O.M=1,O.A=an(be(J)),O.u=rt,O.R=!0,Me(O,null)}function Me(O,J){O.F=Date.now(),Ze(O),O.B=be(O.A);var rt=O.B,ft=O.S;Array.isArray(ft)||(ft=[String(ft)]),Un(rt.i,"t",ft),O.C=0,rt=O.j.L,O.h=new Jt,O.g=qu(O.j,rt?J:null,!O.u),O.P>0&&(O.O=new Nt(n(O.Y,O,O.g),O.P)),J=O.V,rt=O.g,ft=O.ba;var kt="readystatechange";Array.isArray(kt)||(kt&&(se[0]=kt.toString()),kt=se);for(let Dt=0;Dt<kt.length;Dt++){const ue=D(rt,kt[Dt],ft||J.handleEvent,!1,J.h||J);if(!ue)break;J.g[ue.key]=ue}J=O.J?I(O.J):{},O.u?(O.v||(O.v="POST"),J["Content-Type"]="application/x-www-form-urlencoded",O.g.ea(O.B,O.v,O.u,J)):(O.v="GET",O.g.ea(O.B,O.v,null,J)),ge(),ke(O.i,O.v,O.B,O.l,O.S,O.u)}ye.prototype.ba=function(O){O=O.target;const J=this.O;J&&yi(O)==3?J.j():this.Y(O)},ye.prototype.Y=function(O){try{if(O==this.g)t:{const tr=yi(this.g),$r=this.g.ya(),vr=this.g.ca();if(!(tr<3)&&(tr!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||tr!=4||$r==7||($r==8||vr<=0?ge(3):ge(2)),de(this);var J=this.g.ca();this.X=J;var rt=Ie(this);if(this.o=J==200,qe(this.i,this.v,this.B,this.l,this.S,tr,J),this.o){if(this.U&&!this.L){e:{if(this.g){var ft,kt=this.g;if((ft=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ft)){var Dt=ft;break e}}Dt=null}if(O=Dt)He(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,St(this,O);else{this.o=!1,this.m=3,Ee(12),ct(this),Re(this);break t}}if(this.R){O=!0;let Pr;for(;!this.K&&this.C<rt.length;)if(Pr=yr(this,rt),Pr==oe){tr==4&&(this.m=4,Ee(14),O=!1),He(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==fe){this.m=4,Ee(15),He(this.i,this.l,rt,"[Invalid Chunk]"),O=!1;break}else He(this.i,this.l,Pr,null),St(this,Pr);if(Ve(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tr!=4||rt.length!=0||this.h.h||(this.m=1,Ee(16),O=!1),this.o=this.o&&O,!O)He(this.i,this.l,rt,"[Invalid Chunked Response]"),ct(this),Re(this);else if(rt.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),fl(ue),ue.P=!0,Ee(11))}}else He(this.i,this.l,rt,null),St(this,rt);tr==4&&ct(this),this.o&&!this.K&&(tr==4?zu(this.j,this):(this.o=!1,Ze(this)))}else Yi(this.g),J==400&&rt.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),ct(this),Re(this)}}}catch{}};function Ie(O){if(!Ve(O))return O.g.la();const J=hn(O.g);if(J==="")return"";let rt="";const ft=J.length,kt=yi(O.g)==4;if(!O.h.i){if(typeof TextDecoder>"u")return ct(O),Re(O),"";O.h.i=new s.TextDecoder}for(let Dt=0;Dt<ft;Dt++)O.h.h=!0,rt+=O.h.i.decode(J[Dt],{stream:!(kt&&Dt==ft-1)});return J.length=0,O.h.g+=rt,O.C=0,O.h.g}function Ve(O){return O.g?O.v=="GET"&&O.M!=2&&O.j.Aa:!1}function yr(O,J){var rt=O.C,ft=J.indexOf(`
`,rt);return ft==-1?oe:(rt=Number(J.substring(rt,ft)),isNaN(rt)?fe:(ft+=1,ft+rt>J.length?oe:(J=J.slice(ft,ft+rt),O.C=ft+rt,J)))}ye.prototype.cancel=function(){this.K=!0,ct(this)};function Ze(O){O.T=Date.now()+O.H,zt(O,O.H)}function zt(O,J){if(O.D!=null)throw Error("WatchDog timer not null");O.D=Qe(n(O.aa,O),J)}function de(O){O.D&&(s.clearTimeout(O.D),O.D=null)}ye.prototype.aa=function(){this.D=null;const O=Date.now();O-this.T>=0?(xe(this.i,this.B),this.M!=2&&(ge(),Ee(17)),ct(this),this.m=2,Re(this)):zt(this,this.T-O)};function Re(O){O.j.I==0||O.K||zu(O.j,O)}function ct(O){de(O);var J=O.O;J&&typeof J.dispose=="function"&&J.dispose(),O.O=null,re(O.V),O.g&&(J=O.g,O.g=null,J.abort(),J.dispose())}function St(O,J){try{var rt=O.j;if(rt.I!=0&&(rt.g==O||wt(rt.h,O))){if(!O.L&&wt(rt.h,O)&&rt.I==3){try{var ft=rt.Ba.g.parse(J)}catch{ft=null}if(Array.isArray(ft)&&ft.length==3){var kt=ft;if(kt[0]==0){t:if(!rt.v){if(rt.g)if(rt.g.F+3e3<O.F)so(rt),As(rt);else break t;Sa(rt),Ee(18)}}else rt.xa=kt[1],0<rt.xa-rt.K&&kt[2]<37500&&rt.F&&rt.A==0&&!rt.C&&(rt.C=Qe(n(rt.Va,rt),6e3));ot(rt.h)<=1&&rt.ta&&(rt.ta=void 0)}else ji(rt,11)}else if((O.L||rt.g==O)&&so(rt),!R(J))for(kt=rt.Ba.g.parse(J),J=0;J<kt.length;J++){let vr=kt[J];const Pr=vr[0];if(!(Pr<=rt.K))if(rt.K=Pr,vr=vr[1],rt.I==2)if(vr[0]=="c"){rt.M=vr[1],rt.ba=vr[2];const ti=vr[3];ti!=null&&(rt.ka=ti,rt.j.info("VER="+rt.ka));const Di=vr[4];Di!=null&&(rt.za=Di,rt.j.info("SVER="+rt.za));const vi=vr[5];vi!=null&&typeof vi=="number"&&vi>0&&(ft=1.5*vi,rt.O=ft,rt.j.info("backChannelRequestTimeoutMs_="+ft)),ft=rt;const wi=O.g;if(wi){const Ta=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ta){var Dt=ft.h;Dt.g||Ta.indexOf("spdy")==-1&&Ta.indexOf("quic")==-1&&Ta.indexOf("h2")==-1||(Dt.j=Dt.l,Dt.g=new Set,Dt.h&&(jt(Dt,Dt.h),Dt.h=null))}if(ft.G){const ao=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(ft.wa=ao,$e(ft.J,ft.G,ao))}}rt.I=3,rt.l&&rt.l.ra(),rt.aa&&(rt.T=Date.now()-O.F,rt.j.info("Handshake RTT: "+rt.T+"ms")),ft=rt;var ue=O;if(ft.na=Hu(ft,ft.L?ft.ba:null,ft.W),ue.L){Xt(ft.h,ue);var tr=ue,$r=ft.O;$r&&(tr.H=$r),tr.D&&(de(tr),Ze(tr)),ft.g=ue}else Bu(ft);rt.i.length>0&&Oi(rt)}else vr[0]!="stop"&&vr[0]!="close"||ji(rt,7);else rt.I==3&&(vr[0]=="stop"||vr[0]=="close"?vr[0]=="stop"?ji(rt,7):cl(rt):vr[0]!="noop"&&rt.l&&rt.l.qa(vr),rt.A=0)}}ge(4)}catch{}}var Lt=class{constructor(O,J){this.g=O,this.map=J}};function Kt(O){this.l=O||10,s.PerformanceNavigationTiming?(O=s.performance.getEntriesByType("navigation"),O=O.length>0&&(O[0].nextHopProtocol=="hq"||O[0].nextHopProtocol=="h2")):O=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=O?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function pe(O){return O.h?!0:O.g?O.g.size>=O.j:!1}function ot(O){return O.h?1:O.g?O.g.size:0}function wt(O,J){return O.h?O.h==J:O.g?O.g.has(J):!1}function jt(O,J){O.g?O.g.add(J):O.h=J}function Xt(O,J){O.h&&O.h==J?O.h=null:O.g&&O.g.has(J)&&O.g.delete(J)}Kt.prototype.cancel=function(){if(this.i=Ut(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const O of this.g.values())O.cancel();this.g.clear()}};function Ut(O){if(O.h!=null)return O.i.concat(O.h.G);if(O.g!=null&&O.g.size!==0){let J=O.i;for(const rt of O.g.values())J=J.concat(rt.G);return J}return d(O.i)}var Gt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function le(O,J){if(O){O=O.split("&");for(let rt=0;rt<O.length;rt++){const ft=O[rt].indexOf("=");let kt,Dt=null;ft>=0?(kt=O[rt].substring(0,ft),Dt=O[rt].substring(ft+1)):kt=O[rt],J(kt,Dt?decodeURIComponent(Dt.replace(/\+/g," ")):"")}}}function Qt(O){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let J;O instanceof Qt?(this.l=O.l,Ne(this,O.j),this.o=O.o,this.g=O.g,xr(this,O.u),this.h=O.h,Br(this,Fn(O.i)),this.m=O.m):O&&(J=String(O).match(Gt))?(this.l=!1,Ne(this,J[1]||"",!0),this.o=un(J[2]||""),this.g=un(J[3]||"",!0),xr(this,J[4]),this.h=un(J[5]||"",!0),Br(this,J[6]||"",!0),this.m=un(J[7]||"")):(this.l=!1,this.i=new zr(null,this.l))}Qt.prototype.toString=function(){const O=[];var J=this.j;J&&O.push(Mn(J,ar,!0),":");var rt=this.g;return(rt||J=="file")&&(O.push("//"),(J=this.o)&&O.push(Mn(J,ar,!0),"@"),O.push(Pt(rt).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),rt=this.u,rt!=null&&O.push(":",String(rt))),(rt=this.h)&&(this.g&&rt.charAt(0)!="/"&&O.push("/"),O.push(Mn(rt,rt.charAt(0)=="/"?Nn:sr,!0))),(rt=this.i.toString())&&O.push("?",rt),(rt=this.m)&&O.push("#",Mn(rt,Wi)),O.join("")},Qt.prototype.resolve=function(O){const J=be(this);let rt=!!O.j;rt?Ne(J,O.j):rt=!!O.o,rt?J.o=O.o:rt=!!O.g,rt?J.g=O.g:rt=O.u!=null;var ft=O.h;if(rt)xr(J,O.u);else if(rt=!!O.h){if(ft.charAt(0)!="/")if(this.g&&!this.h)ft="/"+ft;else{var kt=J.h.lastIndexOf("/");kt!=-1&&(ft=J.h.slice(0,kt+1)+ft)}if(kt=ft,kt==".."||kt==".")ft="";else if(kt.indexOf("./")!=-1||kt.indexOf("/.")!=-1){ft=kt.lastIndexOf("/",0)==0,kt=kt.split("/");const Dt=[];for(let ue=0;ue<kt.length;){const tr=kt[ue++];tr=="."?ft&&ue==kt.length&&Dt.push(""):tr==".."?((Dt.length>1||Dt.length==1&&Dt[0]!="")&&Dt.pop(),ft&&ue==kt.length&&Dt.push("")):(Dt.push(tr),ft=!0)}ft=Dt.join("/")}else ft=kt}return rt?J.h=ft:rt=O.i.toString()!=="",rt?Br(J,Fn(O.i)):rt=!!O.m,rt&&(J.m=O.m),J};function be(O){return new Qt(O)}function Ne(O,J,rt){O.j=rt?un(J,!0):J,O.j&&(O.j=O.j.replace(/:$/,""))}function xr(O,J){if(J){if(J=Number(J),isNaN(J)||J<0)throw Error("Bad port number "+J);O.u=J}else O.u=null}function Br(O,J,rt){J instanceof zr?(O.i=J,mi(O.i,O.l)):(rt||(J=Mn(J,vn)),O.i=new zr(J,O.l))}function $e(O,J,rt){O.i.set(J,rt)}function an(O){return $e(O,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),O}function un(O,J){return O?J?decodeURI(O.replace(/%25/g,"%2525")):decodeURIComponent(O):""}function Mn(O,J,rt){return typeof O=="string"?(O=encodeURI(O).replace(J,qr),rt&&(O=O.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O):null}function qr(O){return O=O.charCodeAt(0),"%"+(O>>4&15).toString(16)+(O&15).toString(16)}var ar=/[#\/\?@]/g,sr=/[#\?:]/g,Nn=/[#\?]/g,vn=/[#\?@]/g,Wi=/#/g;function zr(O,J){this.h=this.g=null,this.i=O||null,this.j=!!J}function Dr(O){O.g||(O.g=new Map,O.h=0,O.i&&le(O.i,function(J,rt){O.add(decodeURIComponent(J.replace(/\+/g," ")),rt)}))}m=zr.prototype,m.add=function(O,J){Dr(this),this.i=null,O=pi(this,O);let rt=this.g.get(O);return rt||this.g.set(O,rt=[]),rt.push(J),this.h+=1,this};function zn(O,J){Dr(O),J=pi(O,J),O.g.has(J)&&(O.i=null,O.h-=O.g.get(J).length,O.g.delete(J))}function di(O,J){return Dr(O),J=pi(O,J),O.g.has(J)}m.forEach=function(O,J){Dr(this),this.g.forEach(function(rt,ft){rt.forEach(function(kt){O.call(J,kt,ft,this)},this)},this)};function Ri(O,J){Dr(O);let rt=[];if(typeof J=="string")di(O,J)&&(rt=rt.concat(O.g.get(pi(O,J))));else for(O=Array.from(O.g.values()),J=0;J<O.length;J++)rt=rt.concat(O[J]);return rt}m.set=function(O,J){return Dr(this),this.i=null,O=pi(this,O),di(this,O)&&(this.h-=this.g.get(O).length),this.g.set(O,[J]),this.h+=1,this},m.get=function(O,J){return O?(O=Ri(this,O),O.length>0?String(O[0]):J):J};function Un(O,J,rt){zn(O,J),rt.length>0&&(O.i=null,O.g.set(pi(O,J),d(rt)),O.h+=rt.length)}m.toString=function(){if(this.i)return this.i;if(!this.g)return"";const O=[],J=Array.from(this.g.keys());for(let ft=0;ft<J.length;ft++){var rt=J[ft];const kt=Pt(rt);rt=Ri(this,rt);for(let Dt=0;Dt<rt.length;Dt++){let ue=kt;rt[Dt]!==""&&(ue+="="+Pt(rt[Dt])),O.push(ue)}}return this.i=O.join("&")};function Fn(O){const J=new zr;return J.i=O.i,O.g&&(J.g=new Map(O.g),J.h=O.h),J}function pi(O,J){return J=String(J),O.j&&(J=J.toLowerCase()),J}function mi(O,J){J&&!O.j&&(Dr(O),O.i=null,O.g.forEach(function(rt,ft){const kt=ft.toLowerCase();ft!=kt&&(zn(this,ft),Un(this,kt,rt))},O)),O.j=J}function An(O,J){const rt=new Be;if(s.Image){const ft=new Image;ft.onload=u(cn,rt,"TestLoadImage: loaded",!0,J,ft),ft.onerror=u(cn,rt,"TestLoadImage: error",!1,J,ft),ft.onabort=u(cn,rt,"TestLoadImage: abort",!1,J,ft),ft.ontimeout=u(cn,rt,"TestLoadImage: timeout",!1,J,ft),s.setTimeout(function(){ft.ontimeout&&ft.ontimeout()},1e4),ft.src=O}else J(!1)}function Mi(O,J){const rt=new Be,ft=new AbortController,kt=setTimeout(()=>{ft.abort(),cn(rt,"TestPingServer: timeout",!1,J)},1e4);fetch(O,{signal:ft.signal}).then(Dt=>{clearTimeout(kt),Dt.ok?cn(rt,"TestPingServer: ok",!0,J):cn(rt,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(kt),cn(rt,"TestPingServer: error",!1,J)})}function cn(O,J,rt,ft,kt){try{kt&&(kt.onload=null,kt.onerror=null,kt.onabort=null,kt.ontimeout=null),ft(rt)}catch{}}function gi(){this.g=new we}function kn(O){this.i=O.Sb||null,this.h=O.ab||!1}p(kn,_e),kn.prototype.g=function(){return new Zn(this.i,this.h)};function Zn(O,J){dt.call(this),this.H=O,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Zn,dt),m=Zn.prototype,m.open=function(O,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=O,this.D=J,this.readyState=1,bi(this)},m.send=function(O){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const J={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};O&&(J.body=O),(this.H||s).fetch(new Request(this.D,J)).then(this.Pa.bind(this),this.ga.bind(this))},m.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ts(this)),this.readyState=0},m.Pa=function(O){if(this.g&&(this.l=O,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=O.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")O.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in O){if(this.j=O.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else O.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(O){O.j.read().then(O.Ma.bind(O)).catch(O.ga.bind(O))}m.Ma=function(O){if(this.g){if(this.o&&O.value)this.response.push(O.value);else if(!this.o){var J=O.value?O.value:new Uint8Array(0);(J=this.B.decode(J,{stream:!O.done}))&&(this.response=this.responseText+=J)}O.done?Ts(this):bi(this),this.readyState==3&&ro(this)}},m.Oa=function(O){this.g&&(this.response=this.responseText=O,Ts(this))},m.Na=function(O){this.g&&(this.response=O,Ts(this))},m.ga=function(){this.g&&Ts(this)};function Ts(O){O.readyState=4,O.l=null,O.j=null,O.B=null,bi(O)}m.setRequestHeader=function(O,J){this.A.append(O,J)},m.getResponseHeader=function(O){return this.h&&this.h.get(O.toLowerCase())||""},m.getAllResponseHeaders=function(){if(!this.h)return"";const O=[],J=this.h.entries();for(var rt=J.next();!rt.done;)rt=rt.value,O.push(rt[0]+": "+rt[1]),rt=J.next();return O.join(`\r
`)};function bi(O){O.onreadystatechange&&O.onreadystatechange.call(O)}Object.defineProperty(Zn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(O){this.m=O?"include":"same-origin"}});function Jn(O){let J="";return E(O,function(rt,ft){J+=ft,J+=":",J+=rt,J+=`\r
`}),J}function va(O,J,rt){t:{for(ft in rt){var ft=!1;break t}ft=!0}ft||(rt=Jn(rt),typeof O=="string"?rt!=null&&Pt(rt):$e(O,J,rt))}function Er(O){dt.call(this),this.headers=new Map,this.L=O||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Er,dt);var Ni=/^https?$/i,ll=["POST","PUT"];m=Er.prototype,m.Fa=function(O){this.H=O},m.ea=function(O,J,rt,ft){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+O);J=J?J.toUpperCase():"GET",this.D=O,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gt.g(),this.g.onreadystatechange=f(n(this.Ca,this));try{this.B=!0,this.g.open(J,String(O),!0),this.B=!1}catch(Dt){wa(this,Dt);return}if(O=rt||"",rt=new Map(this.headers),ft)if(Object.getPrototypeOf(ft)===Object.prototype)for(var kt in ft)rt.set(kt,ft[kt]);else if(typeof ft.keys=="function"&&typeof ft.get=="function")for(const Dt of ft.keys())rt.set(Dt,ft.get(Dt));else throw Error("Unknown input type for opt_headers: "+String(ft));ft=Array.from(rt.keys()).find(Dt=>Dt.toLowerCase()=="content-type"),kt=s.FormData&&O instanceof s.FormData,!(Array.prototype.indexOf.call(ll,J,void 0)>=0)||ft||kt||rt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Dt,ue]of rt)this.g.setRequestHeader(Dt,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(O),this.v=!1}catch(Dt){wa(this,Dt)}};function wa(O,J){O.h=!1,O.g&&(O.j=!0,O.g.abort(),O.j=!1),O.l=J,O.o=5,ul(O),Xi(O)}function ul(O){O.A||(O.A=!0,vt(O,"complete"),vt(O,"error"))}m.abort=function(O){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=O||7,vt(this,"complete"),vt(this,"abort"),Xi(this))},m.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),Er.Z.N.call(this)},m.Ca=function(){this.u||(this.B||this.v||this.j?_a(this):this.Xa())},m.Xa=function(){_a(this)};function _a(O){if(O.h&&typeof l<"u"){if(O.v&&yi(O)==4)setTimeout(O.Ca.bind(O),0);else if(vt(O,"readystatechange"),yi(O)==4){O.h=!1;try{const Dt=O.ca();t:switch(Dt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break t;default:J=!1}var rt;if(!(rt=J)){var ft;if(ft=Dt===0){let ue=String(O.D).match(Gt)[1]||null;!ue&&s.self&&s.self.location&&(ue=s.self.location.protocol.slice(0,-1)),ft=!Ni.test(ue?ue.toLowerCase():"")}rt=ft}if(rt)vt(O,"complete"),vt(O,"success");else{O.o=6;try{var kt=yi(O)>2?O.g.statusText:""}catch{kt=""}O.l=kt+" ["+O.ca()+"]",ul(O)}}finally{Xi(O)}}}}function Xi(O,J){if(O.g){O.m&&(clearTimeout(O.m),O.m=null);const rt=O.g;O.g=null,J||vt(O,"ready");try{rt.onreadystatechange=null}catch{}}}m.isActive=function(){return!!this.g};function yi(O){return O.g?O.g.readyState:0}m.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},m.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},m.La=function(O){if(this.g){var J=this.g.responseText;return O&&J.indexOf(O)==0&&(J=J.substring(O.length)),te(J)}};function hn(O){try{if(!O.g)return null;if("response"in O.g)return O.g.response;switch(O.F){case"":case"text":return O.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in O.g)return O.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(O){const J={};O=(O.g&&yi(O)>=2&&O.g.getAllResponseHeaders()||"").split(`\r
`);for(let ft=0;ft<O.length;ft++){if(R(O[ft]))continue;var rt=ne(O[ft]);const kt=rt[0];if(rt=rt[1],typeof rt!="string")continue;rt=rt.trim();const Dt=J[kt]||[];J[kt]=Dt,Dt.push(rt)}N(J,function(ft){return ft.join(", ")})}m.ya=function(){return this.o},m.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(O,J,rt){return rt&&rt.internalChannelParams&&rt.internalChannelParams[O]||J}function Es(O){this.za=0,this.i=[],this.j=new Be,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,O),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,O),this.Za=Ii("retryDelaySeedMs",1e4,O),this.Ta=Ii("forwardChannelMaxRetries",2,O),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,O),this.ma=O&&O.xmlHttpFactory||void 0,this.Ua=O&&O.Rb||void 0,this.Aa=O&&O.useFetchStreams||!1,this.O=void 0,this.L=O&&O.supportsCrossDomainXhr||!1,this.M="",this.h=new Kt(O&&O.concurrentRequestLimit),this.Ba=new gi,this.S=O&&O.fastHandshake||!1,this.R=O&&O.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=O&&O.Pb||!1,O&&O.ua&&this.j.ua(),O&&O.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&O&&O.detectBufferingProxy||!1,this.ia=void 0,O&&O.longPollingTimeout&&O.longPollingTimeout>0&&(this.ia=O.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}m=Es.prototype,m.ka=8,m.I=1,m.connect=function(O,J,rt,ft){Ee(0),this.W=O,this.H=J||{},rt&&ft!==void 0&&(this.H.OSID=rt,this.H.OAID=ft),this.F=this.X,this.J=Hu(this,null,this.W),Oi(this)};function cl(O){if(no(O),O.I==3){var J=O.V++,rt=be(O.J);if($e(rt,"SID",O.M),$e(rt,"RID",J),$e(rt,"TYPE","terminate"),xa(O,rt),J=new ye(O,O.j,J),J.M=2,J.A=an(be(rt)),rt=!1,s.navigator&&s.navigator.sendBeacon)try{rt=s.navigator.sendBeacon(J.A.toString(),"")}catch{}!rt&&s.Image&&(new Image().src=J.A,rt=!0),rt||(J.g=qu(J.j,null),J.g.ea(J.A)),J.F=Date.now(),Ze(J)}Fu(O)}function As(O){O.g&&(fl(O),O.g.cancel(),O.g=null)}function no(O){As(O),O.v&&(s.clearTimeout(O.v),O.v=null),so(O),O.h.cancel(),O.m&&(typeof O.m=="number"&&s.clearTimeout(O.m),O.m=null)}function Oi(O){if(!pe(O.h)&&!O.m){O.m=!0;var J=O.Ea;L||j(),G||(L(),G=!0),F.add(J,O),O.D=0}}function io(O,J){return ot(O.h)>=O.h.j-(O.m?1:0)?!1:O.m?(O.i=J.G.concat(O.i),!0):O.I==1||O.I==2||O.D>=(O.Sa?0:O.Ta)?!1:(O.m=Qe(n(O.Ea,O,J),Uu(O,O.D)),O.D++,!0)}m.Ea=function(O){if(this.m)if(this.m=null,this.I==1){if(!O){this.V=Math.floor(Math.random()*1e5),O=this.V++;const kt=new ye(this,this.j,O);let Dt=this.o;if(this.U&&(Dt?(Dt=I(Dt),K(Dt,this.U)):Dt=this.U),this.u!==null||this.R||(kt.J=Dt,Dt=null),this.S)t:{for(var J=0,rt=0;rt<this.i.length;rt++){e:{var ft=this.i[rt];if("__data__"in ft.map&&(ft=ft.map.__data__,typeof ft=="string")){ft=ft.length;break e}ft=void 0}if(ft===void 0)break;if(J+=ft,J>4096){J=rt;break t}if(J===4096||rt===this.i.length-1){J=rt+1;break t}}J=1e3}else J=1e3;J=Lu(this,kt,J),rt=be(this.J),$e(rt,"RID",O),$e(rt,"CVER",22),this.G&&$e(rt,"X-HTTP-Session-Id",this.G),xa(this,rt),Dt&&(this.R?J="headers="+Pt(Jn(Dt))+"&"+J:this.u&&va(rt,this.u,Dt)),jt(this.h,kt),this.Ra&&$e(rt,"TYPE","init"),this.S?($e(rt,"$req",J),$e(rt,"SID","null"),kt.U=!0,ce(kt,rt,null)):ce(kt,rt,J),this.I=2}}else this.I==3&&(O?hl(this,O):this.i.length==0||pe(this.h)||hl(this))};function hl(O,J){var rt;J?rt=J.l:rt=O.V++;const ft=be(O.J);$e(ft,"SID",O.M),$e(ft,"RID",rt),$e(ft,"AID",O.K),xa(O,ft),O.u&&O.o&&va(ft,O.u,O.o),rt=new ye(O,O.j,rt,O.D+1),O.u===null&&(rt.J=O.o),J&&(O.i=J.G.concat(O.i)),J=Lu(O,rt,1e3),rt.H=Math.round(O.va*.5)+Math.round(O.va*.5*Math.random()),jt(O.h,rt),ce(rt,ft,J)}function xa(O,J){O.H&&E(O.H,function(rt,ft){$e(J,ft,rt)}),O.l&&E({},function(rt,ft){$e(J,ft,rt)})}function Lu(O,J,rt){rt=Math.min(O.i.length,rt);const ft=O.l?n(O.l.Ka,O.l,O):null;t:{var kt=O.i;let tr=-1;for(;;){const $r=["count="+rt];tr==-1?rt>0?(tr=kt[0].g,$r.push("ofs="+tr)):tr=0:$r.push("ofs="+tr);let vr=!0;for(let Pr=0;Pr<rt;Pr++){var Dt=kt[Pr].g;const ti=kt[Pr].map;if(Dt-=tr,Dt<0)tr=Math.max(0,kt[Pr].g-100),vr=!1;else try{Dt="req"+Dt+"_"||"";try{var ue=ti instanceof Map?ti:Object.entries(ti);for(const[Di,vi]of ue){let wi=vi;h(vi)&&(wi=Zt(vi)),$r.push(Dt+Di+"="+encodeURIComponent(wi))}}catch(Di){throw $r.push(Dt+"type="+encodeURIComponent("_badmap")),Di}}catch{ft&&ft(ti)}}if(vr){ue=$r.join("&");break t}}ue=void 0}return O=O.i.splice(0,rt),J.G=O,ue}function Bu(O){if(!O.g&&!O.v){O.Y=1;var J=O.Da;L||j(),G||(L(),G=!0),F.add(J,O),O.A=0}}function Sa(O){return O.g||O.v||O.A>=3?!1:(O.Y++,O.v=Qe(n(O.Da,O),Uu(O,O.A)),O.A++,!0)}m.Da=function(){if(this.v=null,Vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var O=4*this.T;this.j.info("BP detection timer enabled: "+O),this.B=Qe(n(this.Wa,this),O)}},m.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),As(this),Vu(this))};function fl(O){O.B!=null&&(s.clearTimeout(O.B),O.B=null)}function Vu(O){O.g=new ye(O,O.j,"rpc",O.Y),O.u===null&&(O.g.J=O.o),O.g.P=0;var J=be(O.na);$e(J,"RID","rpc"),$e(J,"SID",O.M),$e(J,"AID",O.K),$e(J,"CI",O.F?"0":"1"),!O.F&&O.ia&&$e(J,"TO",O.ia),$e(J,"TYPE","xmlhttp"),xa(O,J),O.u&&O.o&&va(J,O.u,O.o),O.O&&(O.g.H=O.O);var rt=O.g;O=O.ba,rt.M=1,rt.A=an(be(J)),rt.u=null,rt.R=!0,Me(rt,O)}m.Va=function(){this.C!=null&&(this.C=null,As(this),Sa(this),Ee(19))};function so(O){O.C!=null&&(s.clearTimeout(O.C),O.C=null)}function zu(O,J){var rt=null;if(O.g==J){so(O),fl(O),O.g=null;var ft=2}else if(wt(O.h,J))rt=J.G,Xt(O.h,J),ft=1;else return;if(O.I!=0){if(J.o)if(ft==1){rt=J.u?J.u.length:0,J=Date.now()-J.F;var kt=O.D;ft=Le(),vt(ft,new Ae(ft,rt)),Oi(O)}else Bu(O);else if(kt=J.m,kt==3||kt==0&&J.X>0||!(ft==1&&io(O,J)||ft==2&&Sa(O)))switch(rt&&rt.length>0&&(J=O.h,J.i=J.i.concat(rt)),kt){case 1:ji(O,5);break;case 4:ji(O,10);break;case 3:ji(O,6);break;default:ji(O,2)}}}function Uu(O,J){let rt=O.Qa+Math.floor(Math.random()*O.Za);return O.isActive()||(rt*=2),rt*J}function ji(O,J){if(O.j.info("Error code "+J),J==2){var rt=n(O.bb,O),ft=O.Ua;const kt=!ft;ft=new Qt(ft||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ne(ft,"https"),an(ft),kt?An(ft.toString(),rt):Mi(ft.toString(),rt)}else Ee(2);O.I=0,O.l&&O.l.pa(J),Fu(O),no(O)}m.bb=function(O){O?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function Fu(O){if(O.I=0,O.ja=[],O.l){const J=Ut(O.h);(J.length!=0||O.i.length!=0)&&(y(O.ja,J),y(O.ja,O.i),O.h.i.length=0,d(O.i),O.i.length=0),O.l.oa()}}function Hu(O,J,rt){var ft=rt instanceof Qt?be(rt):new Qt(rt);if(ft.g!="")J&&(ft.g=J+"."+ft.g),xr(ft,ft.u);else{var kt=s.location;ft=kt.protocol,J=J?J+"."+kt.hostname:kt.hostname,kt=+kt.port;const Dt=new Qt(null);ft&&Ne(Dt,ft),J&&(Dt.g=J),kt&&xr(Dt,kt),rt&&(Dt.h=rt),ft=Dt}return rt=O.G,J=O.wa,rt&&J&&$e(ft,rt,J),$e(ft,"VER",O.ka),xa(O,ft),ft}function qu(O,J,rt){if(J&&!O.L)throw Error("Can't create secondary domain capable XhrIo object.");return J=O.Aa&&!O.ma?new Er(new kn({ab:rt})):new Er(O.ma),J.Fa(O.L),J}m.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}m=$u.prototype,m.ra=function(){},m.qa=function(){},m.pa=function(){},m.oa=function(){},m.isActive=function(){return!0},m.Ka=function(){};function ks(){}ks.prototype.g=function(O,J){return new Cn(O,J)};function Cn(O,J){dt.call(this),this.g=new Es(J),this.l=O,this.h=J&&J.messageUrlParams||null,O=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(O?O["X-Client-Protocol"]="webchannel":O={"X-Client-Protocol":"webchannel"}),this.g.o=O,O=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(O?O["X-WebChannel-Content-Type"]=J.messageContentType:O={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.sa&&(O?O["X-WebChannel-Client-Profile"]=J.sa:O={"X-WebChannel-Client-Profile":J.sa}),this.g.U=O,(O=J&&J.Qb)&&!R(O)&&(this.g.u=O),this.A=J&&J.supportsCrossDomainXhr||!1,this.v=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!R(J)&&(this.g.G=J,O=this.h,O!==null&&J in O&&(O=this.h,J in O&&delete O[J])),this.j=new Ki(this)}p(Cn,dt),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){cl(this.g)},Cn.prototype.o=function(O){var J=this.g;if(typeof O=="string"){var rt={};rt.__data__=O,O=rt}else this.v&&(rt={},rt.__data__=Zt(O),O=rt);J.i.push(new Lt(J.Ya++,O)),J.I==3&&Oi(J)},Cn.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,Cn.Z.N.call(this)};function Gu(O){Ft.call(this),O.__headers__&&(this.headers=O.__headers__,this.statusCode=O.__status__,delete O.__headers__,delete O.__status__);var J=O.__sm__;if(J){t:{for(const rt in J){O=rt;break t}O=void 0}(this.i=O)&&(O=this.i,J=J!==null&&O in J?J[O]:void 0),this.data=J}else this.data=O}p(Gu,Ft);function Wu(){ie.call(this),this.status=1}p(Wu,ie);function Ki(O){this.g=O}p(Ki,$u),Ki.prototype.ra=function(){vt(this.g,"a")},Ki.prototype.qa=function(O){vt(this.g,new Gu(O))},Ki.prototype.pa=function(O){vt(this.g,new Wu)},Ki.prototype.oa=function(){vt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,i2=function(){return new ks},n2=function(){return Le()},r2=ae,Mp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,lh=Je,Oe.COMPLETE="complete",e2=Oe,Se.EventType=ee,ee.OPEN="a",ee.CLOSE="b",ee.ERROR="c",ee.MESSAGE="d",dt.prototype.listen=dt.prototype.J,eu=Se,Er.prototype.listenOnce=Er.prototype.K,Er.prototype.getLastError=Er.prototype.Ha,Er.prototype.getLastErrorCode=Er.prototype.ya,Er.prototype.getStatus=Er.prototype.ca,Er.prototype.getResponseJson=Er.prototype.La,Er.prototype.getResponseText=Er.prototype.la,Er.prototype.send=Er.prototype.ea,Er.prototype.setWithCredentials=Er.prototype.Fa,t2=Er}).apply(typeof Zc<"u"?Zc:typeof self<"u"?self:typeof window<"u"?window:{});class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let nl="12.9.0";function k5(m){nl=m}const Ka=new Kp("@firebase/firestore");function Bo(){return Ka.logLevel}function ve(m,...e){if(Ka.logLevel<=hr.DEBUG){const t=e.map(cm);Ka.debug(`Firestore (${nl}): ${m}`,...t)}}function ws(m,...e){if(Ka.logLevel<=hr.ERROR){const t=e.map(cm);Ka.error(`Firestore (${nl}): ${m}`,...t)}}function Qa(m,...e){if(Ka.logLevel<=hr.WARN){const t=e.map(cm);Ka.warn(`Firestore (${nl}): ${m}`,...t)}}function cm(m){if(typeof m=="string")return m;try{return(function(t){return JSON.stringify(t)})(m)}catch{return m}}function Ue(m,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,s2(m,i,t)}function s2(m,e,t){let i=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${m.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ws(i),new Error(i)}function _r(m,e,t,i){let c="Unexpected state";typeof t=="string"?c=t:i=t,m||s2(e,c,i)}function Ke(m,e){return m}const qt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ss{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class a2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class R5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class M5{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){_r(this.o===void 0,42304);let i=this.i;const c=a=>this.i!==i?(i=this.i,t(a)):Promise.resolve();let l=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new bs,e.enqueueRetryable((()=>c(this.currentUser)))};const s=()=>{const a=l;e.enqueueRetryable((async()=>{await a.promise,await c(this.currentUser)}))},h=a=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((a=>h(a))),setTimeout((()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?h(a):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new bs)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_r(typeof i.accessToken=="string",31837,{l:i}),new a2(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _r(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class N5{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class I5{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new N5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ey{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){_r(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const s=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const c=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>c(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?c(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ey(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(_r(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ey(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function j5(m){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(m);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<m;i++)t[i]=Math.floor(256*Math.random());return t}class hm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const c=j5(40);for(let l=0;l<c.length;++l)i.length<20&&c[l]<t&&(i+=e.charAt(c[l]%62))}return i}}function fr(m,e){return m<e?-1:m>e?1:0}function Np(m,e){const t=Math.min(m.length,e.length);for(let i=0;i<t;i++){const c=m.charAt(i),l=e.charAt(i);if(c!==l)return dp(c)===dp(l)?fr(c,l):dp(c)?1:-1}return fr(m.length,e.length)}const D5=55296,P5=57343;function dp(m){const e=m.charCodeAt(0);return e>=D5&&e<=P5}function Yo(m,e,t){return m.length===e.length&&m.every(((i,c)=>t(i,e[c])))}const ry="__name__";class Ui{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ue(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const l=Ui.compareSegments(e.get(c),t.get(c));if(l!==0)return l}return fr(e.length,t.length)}static compareSegments(e,t){const i=Ui.isNumericId(e),c=Ui.isNumericId(t);return i&&!c?-1:!i&&c?1:i&&c?Ui.extractNumericId(e).compare(Ui.extractNumericId(t)):Np(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sa.fromString(e.substring(4,e.length-2))}}class Nr extends Ui{construct(e,t,i){return new Nr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new me(qt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((c=>c.length>0)))}return new Nr(t)}static emptyPath(){return new Nr([])}}const L5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Ui{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return L5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ry}static keyField(){return new bn([ry])}static fromServerFormat(e){const t=[];let i="",c=0;const l=()=>{if(i.length===0)throw new me(qt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;c<e.length;){const h=e[c];if(h==="\\"){if(c+1===e.length)throw new me(qt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[c+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new me(qt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=a,c+=2}else h==="`"?(s=!s,c++):h!=="."||s?(i+=h,c++):(l(),c++)}if(l(),s)throw new me(qt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Nr.fromString(e))}static fromName(e){return new De(Nr.fromString(e).popFirst(5))}static empty(){return new De(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Nr(e.slice()))}}function o2(m,e,t){if(!t)throw new me(qt.INVALID_ARGUMENT,`Function ${m}() cannot be called with an empty ${e}.`)}function B5(m,e,t,i){if(e===!0&&i===!0)throw new me(qt.INVALID_ARGUMENT,`${m} and ${t} cannot be used together.`)}function ny(m){if(!De.isDocumentKey(m))throw new me(qt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${m} has ${m.length}.`)}function iy(m){if(De.isDocumentKey(m))throw new me(qt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${m} has ${m.length}.`)}function l2(m){return typeof m=="object"&&m!==null&&(Object.getPrototypeOf(m)===Object.prototype||Object.getPrototypeOf(m)===null)}function zh(m){if(m===void 0)return"undefined";if(m===null)return"null";if(typeof m=="string")return m.length>20&&(m=`${m.substring(0,20)}...`),JSON.stringify(m);if(typeof m=="number"||typeof m=="boolean")return""+m;if(typeof m=="object"){if(m instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(m);return e?`a custom ${e} object`:"an object"}}return typeof m=="function"?"a function":Ue(12329,{type:typeof m})}function Vn(m,e){if("_delegate"in m&&(m=m._delegate),!(m instanceof e)){if(e.name===m.constructor.name)throw new me(qt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=zh(m);throw new me(qt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return m}function en(m,e){const t={typeString:m};return e&&(t.value=e),t}function Nu(m,e){if(!l2(m))throw new me(qt.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const c=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in m)){t=`JSON missing required field: '${i}'`;break}const s=m[i];if(c&&typeof s!==c){t=`JSON field '${i}' must be a ${c}.`;break}if(l!==void 0&&s!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new me(qt.INVALID_ARGUMENT,t);return!0}const sy=-62135596800,ay=1e6;class jr{static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*ay);return new jr(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(qt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<sy)throw new me(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(qt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ay}_compareTo(e){return this.seconds===e.seconds?fr(this.nanoseconds,e.nanoseconds):fr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:jr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,jr._jsonSchema))return new jr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-sy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}jr._jsonSchemaVersion="firestore/timestamp/1.0",jr._jsonSchema={type:en("string",jr._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new jr(0,0))}static max(){return new We(new jr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const bu=-1;function V5(m,e){const t=m.toTimestamp().seconds,i=m.toTimestamp().nanoseconds+1,c=We.fromTimestamp(i===1e9?new jr(t+1,0):new jr(t,i));return new oa(c,De.empty(),e)}function z5(m){return new oa(m.readTime,m.key,bu)}class oa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new oa(We.min(),De.empty(),bu)}static max(){return new oa(We.max(),De.empty(),bu)}}function U5(m,e){let t=m.readTime.compareTo(e.readTime);return t!==0?t:(t=De.comparator(m.documentKey,e.documentKey),t!==0?t:fr(m.largestBatchId,e.largestBatchId))}const F5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class H5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function il(m){if(m.code!==qt.FAILED_PRECONDITION||m.message!==F5)throw m;ve("LocalStore","Unexpectedly lost primary lease")}class Yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Yt(((i,c)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,c)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,c)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Yt?t:Yt.resolve(t)}catch(t){return Yt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Yt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Yt.reject(t)}static resolve(e){return new Yt(((t,i)=>{t(e)}))}static reject(e){return new Yt(((t,i)=>{i(e)}))}static waitFor(e){return new Yt(((t,i)=>{let c=0,l=0,s=!1;e.forEach((h=>{++c,h.next((()=>{++l,s&&l===c&&t()}),(a=>i(a)))})),s=!0,l===c&&t()}))}static or(e){let t=Yt.resolve(!1);for(const i of e)t=t.next((c=>c?Yt.resolve(c):i()));return t}static forEach(e,t){const i=[];return e.forEach(((c,l)=>{i.push(t.call(this,c,l))})),this.waitFor(i)}static mapArray(e,t){return new Yt(((i,c)=>{const l=e.length,s=new Array(l);let h=0;for(let a=0;a<l;a++){const n=a;t(e[n]).next((u=>{s[n]=u,++h,h===l&&i(s)}),(u=>c(u)))}}))}static doWhile(e,t){return new Yt(((i,c)=>{const l=()=>{e()===!0?t().next((()=>{l()}),c):i()};l()}))}}function q5(m){const e=m.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function sl(m){return m.name==="IndexedDbTransactionError"}class Uh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uh.ce=-1;const fm=-1;function Fh(m){return m==null}function Sh(m){return m===0&&1/m==-1/0}function $5(m){return typeof m=="number"&&Number.isInteger(m)&&!Sh(m)&&m<=Number.MAX_SAFE_INTEGER&&m>=Number.MIN_SAFE_INTEGER}const u2="";function G5(m){let e="";for(let t=0;t<m.length;t++)e.length>0&&(e=oy(e)),e=W5(m.get(t),e);return oy(e)}function W5(m,e){let t=e;const i=m.length;for(let c=0;c<i;c++){const l=m.charAt(c);switch(l){case"\0":t+="";break;case u2:t+="";break;default:t+=l}}return t}function oy(m){return m+u2+""}function ly(m){let e=0;for(const t in m)Object.prototype.hasOwnProperty.call(m,t)&&e++;return e}function ga(m,e){for(const t in m)Object.prototype.hasOwnProperty.call(m,t)&&e(t,m[t])}function c2(m){for(const e in m)if(Object.prototype.hasOwnProperty.call(m,e))return!1;return!0}class Vr{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(c===0)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jc(this.root,e,this.comparator,!0)}}class Jc{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&c&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,i,c,l){this.key=e,this.value=t,this.color=i??gn.RED,this.left=c??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,l){return new gn(e??this.key,t??this.value,i??this.color,c??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const l=i(e,c.key);return c=l<0?c.copy(null,null,null,c.left.insert(e,t,i),null):l===0?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),t(e,c.key)===0){if(c.right.isEmpty())return gn.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,i,c,l){return this}insert(e,t,i){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class nn{constructor(e){this.comparator=e,this.data=new Vr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uy(this.data.getIterator())}getIteratorFrom(e){return new uy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,l=i.getNext().key;if(this.comparator(c,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new nn(this.comparator);return t.data=e,t}}class uy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Qn([])}unionWith(e){let t=new nn(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Qn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class h2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(c){try{return atob(c)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new h2("Invalid base64 string: "+l):l}})(e);return new yn(t)}static fromUint8Array(e){const t=(function(c){let l="";for(let s=0;s<c.length;++s)l+=String.fromCharCode(c[s]);return l})(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const X5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(m){if(_r(!!m,39018),typeof m=="string"){let e=0;const t=X5.exec(m);if(_r(!!t,46558,{timestamp:m}),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(m);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xr(m.seconds),nanos:Xr(m.nanos)}}function Xr(m){return typeof m=="number"?m:typeof m=="string"?Number(m):0}function ua(m){return typeof m=="string"?yn.fromBase64String(m):yn.fromUint8Array(m)}const f2="server_timestamp",d2="__type__",p2="__previous_value__",m2="__local_write_time__";function dm(m){return(m?.mapValue?.fields||{})[d2]?.stringValue===f2}function Hh(m){const e=m.mapValue.fields[p2];return dm(e)?Hh(e):e}function yu(m){const e=la(m.mapValue.fields[m2].timestampValue);return new jr(e.seconds,e.nanos)}class Y5{constructor(e,t,i,c,l,s,h,a,n,u,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=l,this.forceLongPolling=s,this.autoDetectLongPolling=h,this.longPollingOptions=a,this.useFetchStreams=n,this.isUsingEmulator=u,this.apiKey=p}}const Th="(default)";class vu{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}function K5(m,e){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new me(qt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(m.options.projectId,e)}const g2="__type__",Q5="__max__",th={mapValue:{}},b2="__vector__",Eh="value";function ca(m){return"nullValue"in m?0:"booleanValue"in m?1:"integerValue"in m||"doubleValue"in m?2:"timestampValue"in m?3:"stringValue"in m?5:"bytesValue"in m?6:"referenceValue"in m?7:"geoPointValue"in m?8:"arrayValue"in m?9:"mapValue"in m?dm(m)?4:J5(m)?9007199254740991:Z5(m)?10:11:Ue(28295,{value:m})}function Gi(m,e){if(m===e)return!0;const t=ca(m);if(t!==ca(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return m.booleanValue===e.booleanValue;case 4:return yu(m).isEqual(yu(e));case 3:return(function(c,l){if(typeof c.timestampValue=="string"&&typeof l.timestampValue=="string"&&c.timestampValue.length===l.timestampValue.length)return c.timestampValue===l.timestampValue;const s=la(c.timestampValue),h=la(l.timestampValue);return s.seconds===h.seconds&&s.nanos===h.nanos})(m,e);case 5:return m.stringValue===e.stringValue;case 6:return(function(c,l){return ua(c.bytesValue).isEqual(ua(l.bytesValue))})(m,e);case 7:return m.referenceValue===e.referenceValue;case 8:return(function(c,l){return Xr(c.geoPointValue.latitude)===Xr(l.geoPointValue.latitude)&&Xr(c.geoPointValue.longitude)===Xr(l.geoPointValue.longitude)})(m,e);case 2:return(function(c,l){if("integerValue"in c&&"integerValue"in l)return Xr(c.integerValue)===Xr(l.integerValue);if("doubleValue"in c&&"doubleValue"in l){const s=Xr(c.doubleValue),h=Xr(l.doubleValue);return s===h?Sh(s)===Sh(h):isNaN(s)&&isNaN(h)}return!1})(m,e);case 9:return Yo(m.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(c,l){const s=c.mapValue.fields||{},h=l.mapValue.fields||{};if(ly(s)!==ly(h))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(h[a]===void 0||!Gi(s[a],h[a])))return!1;return!0})(m,e);default:return Ue(52216,{left:m})}}function wu(m,e){return(m.values||[]).find((t=>Gi(t,e)))!==void 0}function Ko(m,e){if(m===e)return 0;const t=ca(m),i=ca(e);if(t!==i)return fr(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return fr(m.booleanValue,e.booleanValue);case 2:return(function(l,s){const h=Xr(l.integerValue||l.doubleValue),a=Xr(s.integerValue||s.doubleValue);return h<a?-1:h>a?1:h===a?0:isNaN(h)?isNaN(a)?0:-1:1})(m,e);case 3:return cy(m.timestampValue,e.timestampValue);case 4:return cy(yu(m),yu(e));case 5:return Np(m.stringValue,e.stringValue);case 6:return(function(l,s){const h=ua(l),a=ua(s);return h.compareTo(a)})(m.bytesValue,e.bytesValue);case 7:return(function(l,s){const h=l.split("/"),a=s.split("/");for(let n=0;n<h.length&&n<a.length;n++){const u=fr(h[n],a[n]);if(u!==0)return u}return fr(h.length,a.length)})(m.referenceValue,e.referenceValue);case 8:return(function(l,s){const h=fr(Xr(l.latitude),Xr(s.latitude));return h!==0?h:fr(Xr(l.longitude),Xr(s.longitude))})(m.geoPointValue,e.geoPointValue);case 9:return hy(m.arrayValue,e.arrayValue);case 10:return(function(l,s){const h=l.fields||{},a=s.fields||{},n=h[Eh]?.arrayValue,u=a[Eh]?.arrayValue,p=fr(n?.values?.length||0,u?.values?.length||0);return p!==0?p:hy(n,u)})(m.mapValue,e.mapValue);case 11:return(function(l,s){if(l===th.mapValue&&s===th.mapValue)return 0;if(l===th.mapValue)return 1;if(s===th.mapValue)return-1;const h=l.fields||{},a=Object.keys(h),n=s.fields||{},u=Object.keys(n);a.sort(),u.sort();for(let p=0;p<a.length&&p<u.length;++p){const f=Np(a[p],u[p]);if(f!==0)return f;const d=Ko(h[a[p]],n[u[p]]);if(d!==0)return d}return fr(a.length,u.length)})(m.mapValue,e.mapValue);default:throw Ue(23264,{he:t})}}function cy(m,e){if(typeof m=="string"&&typeof e=="string"&&m.length===e.length)return fr(m,e);const t=la(m),i=la(e),c=fr(t.seconds,i.seconds);return c!==0?c:fr(t.nanos,i.nanos)}function hy(m,e){const t=m.values||[],i=e.values||[];for(let c=0;c<t.length&&c<i.length;++c){const l=Ko(t[c],i[c]);if(l)return l}return fr(t.length,i.length)}function Qo(m){return Ip(m)}function Ip(m){return"nullValue"in m?"null":"booleanValue"in m?""+m.booleanValue:"integerValue"in m?""+m.integerValue:"doubleValue"in m?""+m.doubleValue:"timestampValue"in m?(function(t){const i=la(t);return`time(${i.seconds},${i.nanos})`})(m.timestampValue):"stringValue"in m?m.stringValue:"bytesValue"in m?(function(t){return ua(t).toBase64()})(m.bytesValue):"referenceValue"in m?(function(t){return De.fromName(t).toString()})(m.referenceValue):"geoPointValue"in m?(function(t){return`geo(${t.latitude},${t.longitude})`})(m.geoPointValue):"arrayValue"in m?(function(t){let i="[",c=!0;for(const l of t.values||[])c?c=!1:i+=",",i+=Ip(l);return i+"]"})(m.arrayValue):"mapValue"in m?(function(t){const i=Object.keys(t.fields||{}).sort();let c="{",l=!0;for(const s of i)l?l=!1:c+=",",c+=`${s}:${Ip(t.fields[s])}`;return c+"}"})(m.mapValue):Ue(61005,{value:m})}function uh(m){switch(ca(m)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(m);return e?16+uh(e):16;case 5:return 2*m.stringValue.length;case 6:return ua(m.bytesValue).approximateByteSize();case 7:return m.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((c,l)=>c+uh(l)),0)})(m.arrayValue);case 10:case 11:return(function(i){let c=0;return ga(i.fields,((l,s)=>{c+=l.length+uh(s)})),c})(m.mapValue);default:throw Ue(13486,{value:m})}}function fy(m,e){return{referenceValue:`projects/${m.projectId}/databases/${m.database}/documents/${e.path.canonicalString()}`}}function Op(m){return!!m&&"integerValue"in m}function pm(m){return!!m&&"arrayValue"in m}function dy(m){return!!m&&"nullValue"in m}function py(m){return!!m&&"doubleValue"in m&&isNaN(Number(m.doubleValue))}function ch(m){return!!m&&"mapValue"in m}function Z5(m){return(m?.mapValue?.fields||{})[g2]?.stringValue===b2}function lu(m){if(m.geoPointValue)return{geoPointValue:{...m.geoPointValue}};if(m.timestampValue&&typeof m.timestampValue=="object")return{timestampValue:{...m.timestampValue}};if(m.mapValue){const e={mapValue:{fields:{}}};return ga(m.mapValue.fields,((t,i)=>e.mapValue.fields[t]=lu(i))),e}if(m.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(m.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lu(m.arrayValue.values[t]);return e}return{...m}}function J5(m){return(((m.mapValue||{}).fields||{}).__type__||{}).stringValue===Q5}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lu(t)}setAll(e){let t=bn.emptyPath(),i={},c=[];e.forEach(((s,h)=>{if(!t.isImmediateParentOf(h)){const a=this.getFieldsMap(t);this.applyChanges(a,i,c),i={},c=[],t=h.popLast()}s?i[h.lastSegment()]=lu(s):c.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,c)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];ch(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){ga(t,((c,l)=>e[c]=l));for(const c of i)delete e[c]}clone(){return new Bn(lu(this.value))}}function y2(m){const e=[];return ga(m.fields,((t,i)=>{const c=new bn([t]);if(ch(i)){const l=y2(i.mapValue).fields;if(l.length===0)e.push(c);else for(const s of l)e.push(c.child(s))}else e.push(c)})),new Qn(e)}class Tn{constructor(e,t,i,c,l,s,h){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=l,this.data=s,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,We.min(),We.min(),We.min(),Bn.empty(),0)}static newFoundDocument(e,t,i,c){return new Tn(e,1,t,We.min(),i,c,0)}static newNoDocument(e,t){return new Tn(e,2,t,We.min(),We.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,We.min(),We.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ah{constructor(e,t){this.position=e,this.inclusive=t}}function my(m,e,t){let i=0;for(let c=0;c<m.position.length;c++){const l=e[c],s=m.position[c];if(l.field.isKeyField()?i=De.comparator(De.fromName(s.referenceValue),t.key):i=Ko(s,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function gy(m,e){if(m===null)return e===null;if(e===null||m.inclusive!==e.inclusive||m.position.length!==e.position.length)return!1;for(let t=0;t<m.position.length;t++)if(!Gi(m.position[t],e.position[t]))return!1;return!0}class _u{constructor(e,t="asc"){this.field=e,this.dir=t}}function t8(m,e){return m.dir===e.dir&&m.field.isEqual(e.field)}class v2{}class tn extends v2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new r8(e,t,i):t==="array-contains"?new s8(e,i):t==="in"?new a8(e,i):t==="not-in"?new o8(e,i):t==="array-contains-any"?new l8(e,i):new tn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new n8(e,i):new i8(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ko(t,this.value)):t!==null&&ca(this.value)===ca(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends v2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ci(e,t)}matches(e){return w2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function w2(m){return m.op==="and"}function _2(m){return e8(m)&&w2(m)}function e8(m){for(const e of m.filters)if(e instanceof Ci)return!1;return!0}function jp(m){if(m instanceof tn)return m.field.canonicalString()+m.op.toString()+Qo(m.value);if(_2(m))return m.filters.map((e=>jp(e))).join(",");{const e=m.filters.map((t=>jp(t))).join(",");return`${m.op}(${e})`}}function x2(m,e){return m instanceof tn?(function(i,c){return c instanceof tn&&i.op===c.op&&i.field.isEqual(c.field)&&Gi(i.value,c.value)})(m,e):m instanceof Ci?(function(i,c){return c instanceof Ci&&i.op===c.op&&i.filters.length===c.filters.length?i.filters.reduce(((l,s,h)=>l&&x2(s,c.filters[h])),!0):!1})(m,e):void Ue(19439)}function S2(m){return m instanceof tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Qo(t.value)}`})(m):m instanceof Ci?(function(t){return t.op.toString()+" {"+t.getFilters().map(S2).join(" ,")+"}"})(m):"Filter"}class r8 extends tn{constructor(e,t,i){super(e,t,i),this.key=De.fromName(i.referenceValue)}matches(e){const t=De.comparator(e.key,this.key);return this.matchesComparison(t)}}class n8 extends tn{constructor(e,t){super(e,"in",t),this.keys=T2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class i8 extends tn{constructor(e,t){super(e,"not-in",t),this.keys=T2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function T2(m,e){return(e.arrayValue?.values||[]).map((t=>De.fromName(t.referenceValue)))}class s8 extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pm(t)&&wu(t.arrayValue,this.value)}}class a8 extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class o8 extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class l8 extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>wu(this.value.arrayValue,i)))}}class u8{constructor(e,t=null,i=[],c=[],l=null,s=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=l,this.startAt=s,this.endAt=h,this.Te=null}}function by(m,e=null,t=[],i=[],c=null,l=null,s=null){return new u8(m,e,t,i,c,l,s)}function mm(m){const e=Ke(m);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>jp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Fh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>Qo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>Qo(i))).join(",")),e.Te=t}return e.Te}function gm(m,e){if(m.limit!==e.limit||m.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<m.orderBy.length;t++)if(!t8(m.orderBy[t],e.orderBy[t]))return!1;if(m.filters.length!==e.filters.length)return!1;for(let t=0;t<m.filters.length;t++)if(!x2(m.filters[t],e.filters[t]))return!1;return m.collectionGroup===e.collectionGroup&&!!m.path.isEqual(e.path)&&!!gy(m.startAt,e.startAt)&&gy(m.endAt,e.endAt)}function Dp(m){return De.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}class al{constructor(e,t=null,i=[],c=[],l=null,s="F",h=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=l,this.limitType=s,this.startAt=h,this.endAt=a,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function c8(m,e,t,i,c,l,s,h){return new al(m,e,t,i,c,l,s,h)}function qh(m){return new al(m)}function yy(m){return m.filters.length===0&&m.limit===null&&m.startAt==null&&m.endAt==null&&(m.explicitOrderBy.length===0||m.explicitOrderBy.length===1&&m.explicitOrderBy[0].field.isKeyField())}function h8(m){return De.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}function E2(m){return m.collectionGroup!==null}function uu(m){const e=Ke(m);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let h=new nn(bn.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((n=>{n.isInequality()&&(h=h.add(n.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new _u(l,i))})),t.has(bn.keyField().canonicalString())||e.Ie.push(new _u(bn.keyField(),i))}return e.Ie}function Hi(m){const e=Ke(m);return e.Ee||(e.Ee=f8(e,uu(m))),e.Ee}function f8(m,e){if(m.limitType==="F")return by(m.path,m.collectionGroup,e,m.filters,m.limit,m.startAt,m.endAt);{e=e.map((c=>{const l=c.dir==="desc"?"asc":"desc";return new _u(c.field,l)}));const t=m.endAt?new Ah(m.endAt.position,m.endAt.inclusive):null,i=m.startAt?new Ah(m.startAt.position,m.startAt.inclusive):null;return by(m.path,m.collectionGroup,e,m.filters,m.limit,t,i)}}function Pp(m,e){const t=m.filters.concat([e]);return new al(m.path,m.collectionGroup,m.explicitOrderBy.slice(),t,m.limit,m.limitType,m.startAt,m.endAt)}function d8(m,e){const t=m.explicitOrderBy.concat([e]);return new al(m.path,m.collectionGroup,t,m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}function Lp(m,e,t){return new al(m.path,m.collectionGroup,m.explicitOrderBy.slice(),m.filters.slice(),e,t,m.startAt,m.endAt)}function $h(m,e){return gm(Hi(m),Hi(e))&&m.limitType===e.limitType}function A2(m){return`${mm(Hi(m))}|lt:${m.limitType}`}function Vo(m){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((c=>S2(c))).join(", ")}]`),Fh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((c=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(c))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((c=>Qo(c))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((c=>Qo(c))).join(",")),`Target(${i})`})(Hi(m))}; limitType=${m.limitType})`}function Gh(m,e){return e.isFoundDocument()&&(function(i,c){const l=c.key.path;return i.collectionGroup!==null?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):De.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(m,e)&&(function(i,c){for(const l of uu(i))if(!l.field.isKeyField()&&c.data.field(l.field)===null)return!1;return!0})(m,e)&&(function(i,c){for(const l of i.filters)if(!l.matches(c))return!1;return!0})(m,e)&&(function(i,c){return!(i.startAt&&!(function(s,h,a){const n=my(s,h,a);return s.inclusive?n<=0:n<0})(i.startAt,uu(i),c)||i.endAt&&!(function(s,h,a){const n=my(s,h,a);return s.inclusive?n>=0:n>0})(i.endAt,uu(i),c))})(m,e)}function p8(m){return m.collectionGroup||(m.path.length%2==1?m.path.lastSegment():m.path.get(m.path.length-2))}function k2(m){return(e,t)=>{let i=!1;for(const c of uu(m)){const l=m8(c,e,t);if(l!==0)return l;i=i||c.field.isKeyField()}return 0}}function m8(m,e,t){const i=m.field.isKeyField()?De.comparator(e.key,t.key):(function(l,s,h){const a=s.data.field(l),n=h.data.field(l);return a!==null&&n!==null?Ko(a,n):Ue(42886)})(m.field,e,t);switch(m.dir){case"asc":return i;case"desc":return-1*i;default:return Ue(19790,{direction:m.dir})}}class to{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[c,l]of i)if(this.equalsFn(c,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(c===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<c.length;l++)if(this.equalsFn(c[l][0],e))return void(c[l]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return i.length===1?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,((t,i)=>{for(const[c,l]of i)e(c,l)}))}isEmpty(){return c2(this.inner)}size(){return this.innerSize}}const g8=new Vr(De.comparator);function _s(){return g8}const C2=new Vr(De.comparator);function ru(...m){let e=C2;for(const t of m)e=e.insert(t.key,t);return e}function R2(m){let e=C2;return m.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Fa(){return cu()}function M2(){return cu()}function cu(){return new to((m=>m.toString()),((m,e)=>m.isEqual(e)))}const b8=new Vr(De.comparator),y8=new nn(De.comparator);function dr(...m){let e=y8;for(const t of m)e=e.add(t);return e}const v8=new nn(fr);function w8(){return v8}function bm(m,e){if(m.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sh(e)?"-0":e}}function N2(m){return{integerValue:""+m}}function I2(m,e){return $5(e)?N2(e):bm(m,e)}class Wh{constructor(){this._=void 0}}function _8(m,e,t){return m instanceof kh?(function(c,l){const s={fields:{[d2]:{stringValue:f2},[m2]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return l&&dm(l)&&(l=Hh(l)),l&&(s.fields[p2]=l),{mapValue:s}})(t,e):m instanceof xu?j2(m,e):m instanceof Su?D2(m,e):(function(c,l){const s=O2(c,l),h=vy(s)+vy(c.Ae);return Op(s)&&Op(c.Ae)?N2(h):bm(c.serializer,h)})(m,e)}function x8(m,e,t){return m instanceof xu?j2(m,e):m instanceof Su?D2(m,e):t}function O2(m,e){return m instanceof Tu?(function(i){return Op(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class kh extends Wh{}class xu extends Wh{constructor(e){super(),this.elements=e}}function j2(m,e){const t=P2(e);for(const i of m.elements)t.some((c=>Gi(c,i)))||t.push(i);return{arrayValue:{values:t}}}class Su extends Wh{constructor(e){super(),this.elements=e}}function D2(m,e){let t=P2(e);for(const i of m.elements)t=t.filter((c=>!Gi(c,i)));return{arrayValue:{values:t}}}class Tu extends Wh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vy(m){return Xr(m.integerValue||m.doubleValue)}function P2(m){return pm(m)&&m.arrayValue.values?m.arrayValue.values.slice():[]}class S8{constructor(e,t){this.field=e,this.transform=t}}function T8(m,e){return m.field.isEqual(e.field)&&(function(i,c){return i instanceof xu&&c instanceof xu||i instanceof Su&&c instanceof Su?Yo(i.elements,c.elements,Gi):i instanceof Tu&&c instanceof Tu?Gi(i.Ae,c.Ae):i instanceof kh&&c instanceof kh})(m.transform,e.transform)}class E8{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(m,e){return m.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(m.updateTime):m.exists===void 0||m.exists===e.isFoundDocument()}class Xh{}function L2(m,e){if(!m.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return m.isNoDocument()?new ym(m.key,hi.none()):new Iu(m.key,m.data,hi.none());{const t=m.data,i=Bn.empty();let c=new nn(bn.comparator);for(let l of e.fields)if(!c.has(l)){let s=t.field(l);s===null&&l.length>1&&(l=l.popLast(),s=t.field(l)),s===null?i.delete(l):i.set(l,s),c=c.add(l)}return new ba(m.key,i,new Qn(c.toArray()),hi.none())}}function A8(m,e,t){m instanceof Iu?(function(c,l,s){const h=c.value.clone(),a=_y(c.fieldTransforms,l,s.transformResults);h.setAll(a),l.convertToFoundDocument(s.version,h).setHasCommittedMutations()})(m,e,t):m instanceof ba?(function(c,l,s){if(!hh(c.precondition,l))return void l.convertToUnknownDocument(s.version);const h=_y(c.fieldTransforms,l,s.transformResults),a=l.data;a.setAll(B2(c)),a.setAll(h),l.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(m,e,t):(function(c,l,s){l.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function hu(m,e,t,i){return m instanceof Iu?(function(l,s,h,a){if(!hh(l.precondition,s))return h;const n=l.value.clone(),u=xy(l.fieldTransforms,a,s);return n.setAll(u),s.convertToFoundDocument(s.version,n).setHasLocalMutations(),null})(m,e,t,i):m instanceof ba?(function(l,s,h,a){if(!hh(l.precondition,s))return h;const n=xy(l.fieldTransforms,a,s),u=s.data;return u.setAll(B2(l)),u.setAll(n),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((p=>p.field)))})(m,e,t,i):(function(l,s,h){return hh(l.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):h})(m,e,t)}function k8(m,e){let t=null;for(const i of m.fieldTransforms){const c=e.data.field(i.field),l=O2(i.transform,c||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(i.field,l))}return t||null}function wy(m,e){return m.type===e.type&&!!m.key.isEqual(e.key)&&!!m.precondition.isEqual(e.precondition)&&!!(function(i,c){return i===void 0&&c===void 0||!(!i||!c)&&Yo(i,c,((l,s)=>T8(l,s)))})(m.fieldTransforms,e.fieldTransforms)&&(m.type===0?m.value.isEqual(e.value):m.type!==1||m.data.isEqual(e.data)&&m.fieldMask.isEqual(e.fieldMask))}class Iu extends Xh{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ba extends Xh{constructor(e,t,i,c,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function B2(m){const e=new Map;return m.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=m.data.field(t);e.set(t,i)}})),e}function _y(m,e,t){const i=new Map;_r(m.length===t.length,32656,{Ve:t.length,de:m.length});for(let c=0;c<t.length;c++){const l=m[c],s=l.transform,h=e.data.field(l.field);i.set(l.field,x8(s,h,t[c]))}return i}function xy(m,e,t){const i=new Map;for(const c of m){const l=c.transform,s=t.data.field(c.field);i.set(c.field,_8(l,s,e))}return i}class ym extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class C8 extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class R8{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const l=this.mutations[c];l.key.isEqual(e.key)&&A8(l,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=hu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=hu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=M2();return this.mutations.forEach((c=>{const l=e.get(c.key),s=l.overlayedDocument;let h=this.applyToLocalView(s,l.mutatedFields);h=t.has(c.key)?null:h;const a=L2(s,h);a!==null&&i.set(c.key,a),s.isValidDocument()||s.convertToNoDocument(We.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),dr())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((t,i)=>wy(t,i)))&&Yo(this.baseMutations,e.baseMutations,((t,i)=>wy(t,i)))}}class vm{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){_r(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let c=(function(){return b8})();const l=e.mutations;for(let s=0;s<l.length;s++)c=c.insert(l[s].key,i[s].version);return new vm(e,t,i,c)}}class M8{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N8{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jr,mr;function I8(m){switch(m){case qt.OK:return Ue(64938);case qt.CANCELLED:case qt.UNKNOWN:case qt.DEADLINE_EXCEEDED:case qt.RESOURCE_EXHAUSTED:case qt.INTERNAL:case qt.UNAVAILABLE:case qt.UNAUTHENTICATED:return!1;case qt.INVALID_ARGUMENT:case qt.NOT_FOUND:case qt.ALREADY_EXISTS:case qt.PERMISSION_DENIED:case qt.FAILED_PRECONDITION:case qt.ABORTED:case qt.OUT_OF_RANGE:case qt.UNIMPLEMENTED:case qt.DATA_LOSS:return!0;default:return Ue(15467,{code:m})}}function V2(m){if(m===void 0)return ws("GRPC error has no .code"),qt.UNKNOWN;switch(m){case Jr.OK:return qt.OK;case Jr.CANCELLED:return qt.CANCELLED;case Jr.UNKNOWN:return qt.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return qt.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return qt.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return qt.INTERNAL;case Jr.UNAVAILABLE:return qt.UNAVAILABLE;case Jr.UNAUTHENTICATED:return qt.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return qt.INVALID_ARGUMENT;case Jr.NOT_FOUND:return qt.NOT_FOUND;case Jr.ALREADY_EXISTS:return qt.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return qt.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return qt.FAILED_PRECONDITION;case Jr.ABORTED:return qt.ABORTED;case Jr.OUT_OF_RANGE:return qt.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return qt.UNIMPLEMENTED;case Jr.DATA_LOSS:return qt.DATA_LOSS;default:return Ue(39323,{code:m})}}(mr=Jr||(Jr={}))[mr.OK=0]="OK",mr[mr.CANCELLED=1]="CANCELLED",mr[mr.UNKNOWN=2]="UNKNOWN",mr[mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",mr[mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",mr[mr.NOT_FOUND=5]="NOT_FOUND",mr[mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",mr[mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",mr[mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",mr[mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",mr[mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",mr[mr.ABORTED=10]="ABORTED",mr[mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",mr[mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",mr[mr.INTERNAL=13]="INTERNAL",mr[mr.UNAVAILABLE=14]="UNAVAILABLE",mr[mr.DATA_LOSS=15]="DATA_LOSS";function O8(){return new TextEncoder}const j8=new sa([4294967295,4294967295],0);function Sy(m){const e=O8().encode(m),t=new Jv;return t.update(e),new Uint8Array(t.digest())}function Ty(m){const e=new DataView(m.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new sa([t,i],0),new sa([c,l],0)]}class wm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nu(`Invalid padding: ${t}`);if(i<0)throw new nu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=sa.fromNumber(this.ge)}ye(e,t,i){let c=e.add(t.multiply(sa.fromNumber(i)));return c.compare(j8)===1&&(c=new sa([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=Sy(e),[i,c]=Ty(t);for(let l=0;l<this.hashCount;l++){const s=this.ye(i,c,l);if(!this.we(s))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),s=new wm(l,c,t);return i.forEach((h=>s.insert(h))),s}insert(e){if(this.ge===0)return;const t=Sy(e),[i,c]=Ty(t);for(let l=0;l<this.hashCount;l++){const s=this.ye(i,c,l);this.be(s)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,t,i,c,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yh(We.min(),c,new Vr(fr),_s(),dr())}}class Ou{constructor(e,t,i,c,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ou(i,t,dr(),dr(),dr())}}class fh{constructor(e,t,i,c){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=c}}class z2{constructor(e,t){this.targetId=e,this.Ce=t}}class U2{constructor(e,t,i=yn.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class Ey{constructor(){this.ve=0,this.Fe=Ay(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dr(),t=dr(),i=dr();return this.Fe.forEach(((c,l)=>{switch(l){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:Ue(38017,{changeType:l})}})),new Ou(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=Ay()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,_r(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class D8{constructor(e){this.Ge=e,this.ze=new Map,this.je=_s(),this.He=eh(),this.Je=eh(),this.Ze=new Vr(fr)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Ue(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,c)=>{this.rt(c)&&t(c)}))}st(e){const t=e.targetId,i=e.Ce.count,c=this.ot(t);if(c){const l=c.target;if(Dp(l))if(i===0){const s=new De(l.path);this.et(t,s,Tn.newNoDocument(s,We.min()))}else _r(i===1,20013,{expectedCount:i});else{const s=this._t(t);if(s!==i){const h=this.ut(e),a=h?this.ct(h,e,s):1;if(a!==0){this.it(t);const n=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,n)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:c=0},hashCount:l=0}=t;let s,h;try{s=ua(i).toUint8Array()}catch(a){if(a instanceof h2)return Qa("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{h=new wm(s,c,l)}catch(a){return Qa(a instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let c=0;return i.forEach((l=>{const s=this.Ge.ht(),h=`projects/${s.projectId}/databases/${s.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),c++)})),c}Tt(e){const t=new Map;this.ze.forEach(((l,s)=>{const h=this.ot(s);if(h){if(l.current&&Dp(h.target)){const a=new De(h.target.path);this.It(a).has(s)||this.Et(s,a)||this.et(s,a,Tn.newNoDocument(a,e))}l.Be&&(t.set(s,l.ke()),l.Ke())}}));let i=dr();this.Je.forEach(((l,s)=>{let h=!0;s.forEachWhile((a=>{const n=this.ot(a);return!n||n.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,s)=>s.setReadTime(e)));const c=new Yh(e,t,this.Ze,this.je,i);return this.je=_s(),this.He=eh(),this.Je=eh(),this.Ze=new Vr(fr),c}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const c=this.nt(e);this.Et(e,t)?c.qe(t,1):c.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new Ey,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new nn(fr),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new nn(fr),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ey),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function eh(){return new Vr(De.comparator)}function Ay(){return new Vr(De.comparator)}const P8={asc:"ASCENDING",desc:"DESCENDING"},L8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B8={and:"AND",or:"OR"};class V8{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Bp(m,e){return m.useProto3Json||Fh(e)?e:{value:e}}function Ch(m,e){return m.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F2(m,e){return m.useProto3Json?e.toBase64():e.toUint8Array()}function z8(m,e){return Ch(m,e.toTimestamp())}function qi(m){return _r(!!m,49232),We.fromTimestamp((function(t){const i=la(t);return new jr(i.seconds,i.nanos)})(m))}function _m(m,e){return Vp(m,e).canonicalString()}function Vp(m,e){const t=(function(c){return new Nr(["projects",c.projectId,"databases",c.database])})(m).child("documents");return e===void 0?t:t.child(e)}function H2(m){const e=Nr.fromString(m);return _r(X2(e),10190,{key:e.toString()}),e}function zp(m,e){return _m(m.databaseId,e.path)}function pp(m,e){const t=H2(e);if(t.get(1)!==m.databaseId.projectId)throw new me(qt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+m.databaseId.projectId);if(t.get(3)!==m.databaseId.database)throw new me(qt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+m.databaseId.database);return new De($2(t))}function q2(m,e){return _m(m.databaseId,e)}function U8(m){const e=H2(m);return e.length===4?Nr.emptyPath():$2(e)}function Up(m){return new Nr(["projects",m.databaseId.projectId,"databases",m.databaseId.database]).canonicalString()}function $2(m){return _r(m.length>4&&m.get(4)==="documents",29091,{key:m.toString()}),m.popFirst(5)}function ky(m,e,t){return{name:zp(m,e),fields:t.value.mapValue.fields}}function F8(m,e){let t;if("targetChange"in e){e.targetChange;const i=(function(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:Ue(39313,{state:n})})(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],l=(function(n,u){return n.useProto3Json?(_r(u===void 0||typeof u=="string",58123),yn.fromBase64String(u||"")):(_r(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),yn.fromUint8Array(u||new Uint8Array))})(m,e.targetChange.resumeToken),s=e.targetChange.cause,h=s&&(function(n){const u=n.code===void 0?qt.UNKNOWN:V2(n.code);return new me(u,n.message||"")})(s);t=new U2(i,c,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const c=pp(m,i.document.name),l=qi(i.document.updateTime),s=i.document.createTime?qi(i.document.createTime):We.min(),h=new Bn({mapValue:{fields:i.document.fields}}),a=Tn.newFoundDocument(c,l,s,h),n=i.targetIds||[],u=i.removedTargetIds||[];t=new fh(n,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const c=pp(m,i.document),l=i.readTime?qi(i.readTime):We.min(),s=Tn.newNoDocument(c,l),h=i.removedTargetIds||[];t=new fh([],h,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const c=pp(m,i.document),l=i.removedTargetIds||[];t=new fh([],l,c,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:c=0,unchangedNames:l}=i,s=new N8(c,l),h=i.targetId;t=new z2(h,s)}}return t}function H8(m,e){let t;if(e instanceof Iu)t={update:ky(m,e.key,e.value)};else if(e instanceof ym)t={delete:zp(m,e.key)};else if(e instanceof ba)t={update:ky(m,e.key,e.data),updateMask:Z8(e.fieldMask)};else{if(!(e instanceof C8))return Ue(16599,{dt:e.type});t={verify:zp(m,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,s){const h=s.transform;if(h instanceof kh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof xu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Su)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Tu)return{fieldPath:s.field.canonicalString(),increment:h.Ae};throw Ue(20930,{transform:s.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(c,l){return l.updateTime!==void 0?{updateTime:z8(c,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ue(27497)})(m,e.precondition)),t}function q8(m,e){return m&&m.length>0?(_r(e!==void 0,14353),m.map((t=>(function(c,l){let s=c.updateTime?qi(c.updateTime):qi(l);return s.isEqual(We.min())&&(s=qi(l)),new E8(s,c.transformResults||[])})(t,e)))):[]}function $8(m,e){return{documents:[q2(m,e.path)]}}function G8(m,e){const t={structuredQuery:{}},i=e.path;let c;e.collectionGroup!==null?(c=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=q2(m,c);const l=(function(n){if(n.length!==0)return W2(Ci.create(n,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const s=(function(n){if(n.length!==0)return n.map((u=>(function(f){return{field:zo(f.field),direction:Y8(f.dir)}})(u)))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);const h=Bp(m,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(n){return{before:n.inclusive,values:n.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(n){return{before:!n.inclusive,values:n.position}})(e.endAt)),{ft:t,parent:c}}function W8(m){let e=U8(m.parent);const t=m.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){_r(i===1,65062);const u=t.from[0];u.allDescendants?c=u.collectionId:e=e.child(u.collectionId)}let l=[];t.where&&(l=(function(p){const f=G2(p);return f instanceof Ci&&_2(f)?f.getFilters():[f]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map((f=>(function(y){return new _u(Uo(y.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(y.direction))})(f)))})(t.orderBy));let h=null;t.limit&&(h=(function(p){let f;return f=typeof p=="object"?p.value:p,Fh(f)?null:f})(t.limit));let a=null;t.startAt&&(a=(function(p){const f=!!p.before,d=p.values||[];return new Ah(d,f)})(t.startAt));let n=null;return t.endAt&&(n=(function(p){const f=!p.before,d=p.values||[];return new Ah(d,f)})(t.endAt)),c8(e,c,s,l,h,"F",a,n)}function X8(m,e){const t=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:c})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G2(m){return m.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Uo(t.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Uo(t.unaryFilter.field);return tn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(t.unaryFilter.field);return tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Uo(t.unaryFilter.field);return tn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}})(m):m.fieldFilter!==void 0?(function(t){return tn.create(Uo(t.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(m):m.compositeFilter!==void 0?(function(t){return Ci.create(t.compositeFilter.filters.map((i=>G2(i))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}})(t.compositeFilter.op))})(m):Ue(30097,{filter:m})}function Y8(m){return P8[m]}function K8(m){return L8[m]}function Q8(m){return B8[m]}function zo(m){return{fieldPath:m.canonicalString()}}function Uo(m){return bn.fromServerFormat(m.fieldPath)}function W2(m){return m instanceof tn?(function(t){if(t.op==="=="){if(py(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NAN"}};if(dy(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(py(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NAN"}};if(dy(t.value))return{unaryFilter:{field:zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zo(t.field),op:K8(t.op),value:t.value}}})(m):m instanceof Ci?(function(t){const i=t.getFilters().map((c=>W2(c)));return i.length===1?i[0]:{compositeFilter:{op:Q8(t.op),filters:i}}})(m):Ue(54877,{filter:m})}function Z8(m){const e=[];return m.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function X2(m){return m.length>=4&&m.get(0)==="projects"&&m.get(2)==="databases"}function Y2(m){return!!m&&typeof m._toProto=="function"&&m._protoValueType==="ProtoValue"}class ea{constructor(e,t,i,c,l=We.min(),s=We.min(),h=yn.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=h,this.expectedCount=a}withSequenceNumber(e){return new ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class J8{constructor(e){this.yt=e}}function t9(m){const e=W8({parent:m.parent,structuredQuery:m.structuredQuery});return m.limitType==="LAST"?Lp(e,e.limit,"L"):e}class e9{constructor(){this.Sn=new r9}addToCollectionParentIndex(e,t){return this.Sn.add(t),Yt.resolve()}getCollectionParents(e,t){return Yt.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Yt.resolve()}deleteFieldIndex(e,t){return Yt.resolve()}deleteAllFieldIndexes(e){return Yt.resolve()}createTargetIndexes(e,t){return Yt.resolve()}getDocumentsMatchingTarget(e,t){return Yt.resolve(null)}getIndexType(e,t){return Yt.resolve(0)}getFieldIndexes(e,t){return Yt.resolve([])}getNextCollectionGroupToUpdate(e){return Yt.resolve(null)}getMinOffset(e,t){return Yt.resolve(oa.min())}getMinOffsetFromCollectionGroup(e,t){return Yt.resolve(oa.min())}updateCollectionGroup(e,t,i){return Yt.resolve()}updateIndexEntries(e,t){return Yt.resolve()}}class r9{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new nn(Nr.comparator),l=!c.has(i);return this.index[t]=c.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new nn(Nr.comparator)).toArray()}}const Cy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},K2=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(K2,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class Zo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Zo(0)}static ar(){return new Zo(-1)}}const Ry="LruGarbageCollector",n9=1048576;function My([m,e],[t,i]){const c=fr(m,t);return c===0?fr(e,i):c}class i9{constructor(e){this.Pr=e,this.buffer=new nn(My),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();My(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class s9{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ve(Ry,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){sl(t)?ve(Ry,"Ignoring IndexedDB error during garbage collection: ",t):await il(t)}await this.Ar(3e5)}))}}class a9{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Yt.resolve(Uh.ce);const i=new i9(t);return this.Vr.forEachTarget(e,(c=>i.Er(c.sequenceNumber))).next((()=>this.Vr.mr(e,(c=>i.Er(c))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),Yt.resolve(Cy)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,c,l,s,h,a,n;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),c=this.params.maximumSequenceNumbersToCollect):c=p,s=Date.now(),this.nthSequenceNumber(e,c)))).next((p=>(i=p,h=Date.now(),this.removeTargets(e,i,t)))).next((p=>(l=p,a=Date.now(),this.removeOrphanedDocuments(e,i)))).next((p=>(n=Date.now(),Bo()<=hr.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${c} in `+(h-s)+`ms
	Removed ${l} targets in `+(a-h)+`ms
	Removed ${p} documents in `+(n-a)+`ms
Total Duration: ${n-u}ms`),Yt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:l,documentsRemoved:p}))))}}function o9(m,e){return new a9(m,e)}class l9{constructor(){this.changes=new to((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Yt.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class u9{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class c9{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((c=>(i=c,this.remoteDocumentCache.getEntry(e,t)))).next((c=>(i!==null&&hu(i.mutation,c,Qn.empty(),jr.now()),c)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,dr()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=dr()){const c=Fa();return this.populateOverlays(e,c,t).next((()=>this.computeViews(e,t,c,i).next((l=>{let s=ru();return l.forEach(((h,a)=>{s=s.insert(h,a.overlayedDocument)})),s}))))}getOverlayedDocuments(e,t){const i=Fa();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,dr())))}populateOverlays(e,t,i){const c=[];return i.forEach((l=>{t.has(l)||c.push(l)})),this.documentOverlayCache.getOverlays(e,c).next((l=>{l.forEach(((s,h)=>{t.set(s,h)}))}))}computeViews(e,t,i,c){let l=_s();const s=cu(),h=(function(){return cu()})();return t.forEach(((a,n)=>{const u=i.get(n.key);c.has(n.key)&&(u===void 0||u.mutation instanceof ba)?l=l.insert(n.key,n):u!==void 0?(s.set(n.key,u.mutation.getFieldMask()),hu(u.mutation,n,u.mutation.getFieldMask(),jr.now())):s.set(n.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,l).next((a=>(a.forEach(((n,u)=>s.set(n,u))),t.forEach(((n,u)=>h.set(n,new u9(u,s.get(n)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=cu();let c=new Vr(((s,h)=>s-h)),l=dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((s=>{for(const h of s)h.keys().forEach((a=>{const n=t.get(a);if(n===null)return;let u=i.get(a)||Qn.empty();u=h.applyToLocalView(n,u),i.set(a,u);const p=(c.get(h.batchId)||dr()).add(a);c=c.insert(h.batchId,p)}))})).next((()=>{const s=[],h=c.getReverseIterator();for(;h.hasNext();){const a=h.getNext(),n=a.key,u=a.value,p=M2();u.forEach((f=>{if(!l.has(f)){const d=L2(t.get(f),i.get(f));d!==null&&p.set(f,d),l=l.add(f)}})),s.push(this.documentOverlayCache.saveOverlays(e,n,p))}return Yt.waitFor(s)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,c){return h8(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):E2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,c):this.getDocumentsMatchingCollectionQuery(e,t,i,c)}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next((l=>{const s=c-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-l.size):Yt.resolve(Fa());let h=bu,a=l;return s.next((n=>Yt.forEach(n,((u,p)=>(h<p.largestBatchId&&(h=p.largestBatchId),l.get(u)?Yt.resolve():this.remoteDocumentCache.getEntry(e,u).next((f=>{a=a.insert(u,f)}))))).next((()=>this.populateOverlays(e,n,l))).next((()=>this.computeViews(e,a,n,dr()))).next((u=>({batchId:h,changes:R2(u)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new De(t)).next((i=>{let c=ru();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,c){const l=t.collectionGroup;let s=ru();return this.indexManager.getCollectionParents(e,l).next((h=>Yt.forEach(h,(a=>{const n=(function(p,f){return new al(f,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,a.child(l));return this.getDocumentsMatchingCollectionQuery(e,n,i,c).next((u=>{u.forEach(((p,f)=>{s=s.insert(p,f)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,i,c){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((s=>(l=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,c)))).next((s=>{l.forEach(((a,n)=>{const u=n.getKey();s.get(u)===null&&(s=s.insert(u,Tn.newInvalidDocument(u)))}));let h=ru();return s.forEach(((a,n)=>{const u=l.get(a);u!==void 0&&hu(u.mutation,n,Qn.empty(),jr.now()),Gh(t,n)&&(h=h.insert(a,n))})),h}))}}class h9{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Yt.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(c){return{id:c.id,version:c.version,createTime:qi(c.createTime)}})(t)),Yt.resolve()}getNamedQuery(e,t){return Yt.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(c){return{name:c.name,query:t9(c.bundledQuery),readTime:qi(c.readTime)}})(t)),Yt.resolve()}}class f9{constructor(){this.overlays=new Vr(De.comparator),this.Lr=new Map}getOverlay(e,t){return Yt.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Fa();return Yt.forEach(t,(c=>this.getOverlay(e,c).next((l=>{l!==null&&i.set(c,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((c,l)=>{this.bt(e,t,l)})),Yt.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.Lr.get(i);return c!==void 0&&(c.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),Yt.resolve()}getOverlaysForCollection(e,t,i){const c=Fa(),l=t.length+1,s=new De(t.child("")),h=this.overlays.getIteratorFrom(s);for(;h.hasNext();){const a=h.getNext().value,n=a.getKey();if(!t.isPrefixOf(n.path))break;n.path.length===l&&a.largestBatchId>i&&c.set(a.getKey(),a)}return Yt.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let l=new Vr(((n,u)=>n-u));const s=this.overlays.getIterator();for(;s.hasNext();){const n=s.getNext().value;if(n.getKey().getCollectionGroup()===t&&n.largestBatchId>i){let u=l.get(n.largestBatchId);u===null&&(u=Fa(),l=l.insert(n.largestBatchId,u)),u.set(n.getKey(),n)}}const h=Fa(),a=l.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((n,u)=>h.set(n,u))),!(h.size()>=c)););return Yt.resolve(h)}bt(e,t,i){const c=this.overlays.get(i.key);if(c!==null){const s=this.Lr.get(c.largestBatchId).delete(i.key);this.Lr.set(c.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new M8(t,i));let l=this.Lr.get(t);l===void 0&&(l=dr(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class d9{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return Yt.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Yt.resolve()}}class xm{constructor(){this.kr=new nn(ln.Kr),this.qr=new nn(ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new ln(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new ln(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new De(new Nr([])),i=new ln(t,e),c=new ln(t,e+1),l=[];return this.qr.forEachInRange([i,c],(s=>{this.Wr(s),l.push(s.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new De(new Nr([])),i=new ln(t,e),c=new ln(t,e+1);let l=dr();return this.qr.forEachInRange([i,c],(s=>{l=l.add(s.key)})),l}containsKey(e){const t=new ln(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return De.comparator(e.key,t.key)||fr(e.Hr,t.Hr)}static Ur(e,t){return fr(e.Hr,t.Hr)||De.comparator(e.key,t.key)}}class p9{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new nn(ln.Kr)}checkEmpty(e){return Yt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,c){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new R8(l,t,i,c);this.mutationQueue.push(s);for(const h of c)this.Jr=this.Jr.add(new ln(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Yt.resolve(s)}lookupMutationBatch(e,t){return Yt.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,c=this.Xr(i),l=c<0?0:c;return Yt.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Yt.resolve(this.mutationQueue.length===0?fm:this.Yn-1)}getAllMutationBatches(e){return Yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),c=new ln(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,c],(s=>{const h=this.Zr(s.Hr);l.push(h)})),Yt.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new nn(fr);return t.forEach((c=>{const l=new ln(c,0),s=new ln(c,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,s],(h=>{i=i.add(h.Hr)}))})),Yt.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let l=i;De.isDocumentKey(l)||(l=l.child(""));const s=new ln(new De(l),0);let h=new nn(fr);return this.Jr.forEachWhile((a=>{const n=a.key.path;return!!i.isPrefixOf(n)&&(n.length===c&&(h=h.add(a.Hr)),!0)}),s),Yt.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((i=>{const c=this.Zr(i);c!==null&&t.push(c)})),t}removeMutationBatch(e,t){_r(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return Yt.forEach(t.mutations,(c=>{const l=new ln(c.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new ln(t,0),c=this.Jr.firstAfterOrEqual(i);return Yt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,Yt.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class m9{constructor(e){this.ti=e,this.docs=(function(){return new Vr(De.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),l=c?c.size:0,s=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Yt.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=_s();return t.forEach((c=>{const l=this.docs.get(c);i=i.insert(c,l?l.document.mutableCopy():Tn.newInvalidDocument(c))})),Yt.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let l=_s();const s=t.path,h=new De(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(h);for(;a.hasNext();){const{key:n,value:{document:u}}=a.getNext();if(!s.isPrefixOf(n.path))break;n.path.length>s.length+1||U5(z5(u),i)<=0||(c.has(u.key)||Gh(t,u))&&(l=l.insert(u.key,u.mutableCopy()))}return Yt.resolve(l)}getAllFromCollectionGroup(e,t,i,c){Ue(9500)}ni(e,t){return Yt.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new g9(this)}getSize(e){return Yt.resolve(this.size)}}class g9 extends l9{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,c)=>{c.isValidDocument()?t.push(this.Mr.addEntry(e,c)):this.Mr.removeEntry(i)})),Yt.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class b9{constructor(e){this.persistence=e,this.ri=new to((t=>mm(t)),gm),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this.ii=0,this.si=new xm,this.targetCount=0,this.oi=Zo._r()}forEachTarget(e,t){return this.ri.forEach(((i,c)=>t(c))),Yt.resolve()}getLastRemoteSnapshotVersion(e){return Yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Yt.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Yt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),Yt.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Zo(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Yt.resolve()}updateTargetData(e,t){return this.lr(t),Yt.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Yt.resolve()}removeTargets(e,t,i){let c=0;const l=[];return this.ri.forEach(((s,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ri.delete(s),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),c++)})),Yt.waitFor(l).next((()=>c))}getTargetCount(e){return Yt.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return Yt.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),Yt.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const c=this.persistence.referenceDelegate,l=[];return c&&t.forEach((s=>{l.push(c.markPotentiallyOrphaned(e,s))})),Yt.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Yt.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return Yt.resolve(i)}containsKey(e,t){return Yt.resolve(this.si.containsKey(t))}}class Q2{constructor(e,t){this._i={},this.overlays={},this.ai=new Uh(0),this.ui=!1,this.ui=!0,this.ci=new d9,this.referenceDelegate=e(this),this.li=new b9(this),this.indexManager=new e9,this.remoteDocumentCache=(function(c){return new m9(c)})((i=>this.referenceDelegate.hi(i))),this.serializer=new J8(t),this.Pi=new h9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new f9,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new p9(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const c=new y9(this.ai.next());return this.referenceDelegate.Ti(),i(c).next((l=>this.referenceDelegate.Ii(c).next((()=>l)))).toPromise().then((l=>(c.raiseOnCommittedEvent(),l)))}Ei(e,t){return Yt.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class y9 extends H5{constructor(e){super(),this.currentSequenceNumber=e}}class Sm{constructor(e){this.persistence=e,this.Ri=new xm,this.Ai=null}static Vi(e){return new Sm(e)}get di(){if(this.Ai)return this.Ai;throw Ue(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),Yt.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),Yt.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Yt.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((c=>this.di.add(c.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((c=>{c.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Yt.forEach(this.di,(i=>{const c=De.fromPath(i);return this.mi(e,c).next((l=>{l||t.removeEntry(c,We.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Yt.or([()=>Yt.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Rh{constructor(e,t){this.persistence=e,this.fi=new to((i=>G5(i.path)),((i,c)=>i.isEqual(c))),this.garbageCollector=o9(this,t)}static Vi(e,t){return new Rh(e,t)}Ti(){}Ii(e){return Yt.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((c=>i+c))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return Yt.forEach(this.fi,((i,c)=>this.wr(e,i,c).next((l=>l?Yt.resolve():t(c)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const c=this.persistence.getRemoteDocumentCache(),l=c.newChangeBuffer();return c.ni(e,(s=>this.wr(e,s,t).next((h=>{h||(i++,l.removeEntry(s,We.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Yt.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Yt.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),Yt.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Yt.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}wr(e,t,i){return Yt.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const c=this.fi.get(t);return Yt.resolve(c!==void 0&&c>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Tm{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=c}static Es(e,t){let i=dr(),c=dr();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:c=c.add(l.doc.key)}return new Tm(e,t.fromCache,i,c)}}class v9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class w9{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return G3()?8:q5(En())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,c){const l={result:null};return this.gs(e,t).next((s=>{l.result=s})).next((()=>{if(!l.result)return this.ps(e,t,c,i).next((s=>{l.result=s}))})).next((()=>{if(l.result)return;const s=new v9;return this.ys(e,t,s).next((h=>{if(l.result=h,this.As)return this.ws(e,t,s,h.size)}))})).next((()=>l.result))}ws(e,t,i,c){return i.documentReadCount<this.Vs?(Bo()<=hr.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Yt.resolve()):(Bo()<=hr.DEBUG&&ve("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",c,"documents as results."),i.documentReadCount>this.ds*c?(Bo()<=hr.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):Yt.resolve())}gs(e,t){if(yy(t))return Yt.resolve(null);let i=Hi(t);return this.indexManager.getIndexType(e,i).next((c=>c===0?null:(t.limit!==null&&c===1&&(t=Lp(t,null,"F"),i=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const s=dr(...l);return this.fs.getDocuments(e,s).next((h=>this.indexManager.getMinOffset(e,i).next((a=>{const n=this.bs(t,h);return this.Ss(t,n,s,a.readTime)?this.gs(e,Lp(t,null,"F")):this.Ds(e,n,t,a)}))))})))))}ps(e,t,i,c){return yy(t)||c.isEqual(We.min())?Yt.resolve(null):this.fs.getDocuments(e,i).next((l=>{const s=this.bs(t,l);return this.Ss(t,s,i,c)?Yt.resolve(null):(Bo()<=hr.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Vo(t)),this.Ds(e,s,t,V5(c,bu)).next((h=>h)))}))}bs(e,t){let i=new nn(k2(e));return t.forEach(((c,l)=>{Gh(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,c){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(c)>0)}ys(e,t,i){return Bo()<=hr.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.fs.getDocumentsMatchingQuery(e,t,oa.min(),i)}Ds(e,t,i,c){return this.fs.getDocumentsMatchingQuery(e,i,c).next((l=>(t.forEach((s=>{l=l.insert(s.key,s)})),l)))}}const Em="LocalStore",_9=3e8;class x9{constructor(e,t,i,c){this.persistence=e,this.Cs=t,this.serializer=c,this.vs=new Vr(fr),this.Fs=new to((l=>mm(l)),gm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c9(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function S9(m,e,t,i){return new x9(m,e,t,i)}async function Z2(m,e){const t=Ke(m);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next((l=>(c=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const s=[],h=[];let a=dr();for(const n of c){s.push(n.batchId);for(const u of n.mutations)a=a.add(u.key)}for(const n of l){h.push(n.batchId);for(const u of n.mutations)a=a.add(u.key)}return t.localDocuments.getDocuments(i,a).next((n=>({Ns:n,removedBatchIds:s,addedBatchIds:h})))}))}))}function T9(m,e){const t=Ke(m);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const c=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,a,n,u){const p=n.batch,f=p.keys();let d=Yt.resolve();return f.forEach((y=>{d=d.next((()=>u.getEntry(a,y))).next((v=>{const g=n.docVersions.get(y);_r(g!==null,48541),v.version.compareTo(g)<0&&(p.applyToRemoteDocument(v,n),v.isValidDocument()&&(v.setReadTime(n.commitVersion),u.addEntry(v)))}))})),d.next((()=>h.mutationQueue.removeMutationBatch(a,p)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let a=dr();for(let n=0;n<h.mutationResults.length;++n)h.mutationResults[n].transformResults.length>0&&(a=a.add(h.batch.mutations[n].key));return a})(e)))).next((()=>t.localDocuments.getDocuments(i,c)))}))}function J2(m){const e=Ke(m);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function E9(m,e){const t=Ke(m),i=e.snapshotVersion;let c=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const s=t.xs.newChangeBuffer({trackRemovals:!0});c=t.vs;const h=[];e.targetChanges.forEach(((u,p)=>{const f=c.get(p);if(!f)return;h.push(t.li.removeMatchingKeys(l,u.removedDocuments,p).next((()=>t.li.addMatchingKeys(l,u.addedDocuments,p))));let d=f.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(p)!==null?d=d.withResumeToken(yn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),c=c.insert(p,d),(function(v,g,w){return v.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=_9?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(f,d,u)&&h.push(t.li.updateTargetData(l,d))}));let a=_s(),n=dr();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,u))})),h.push(A9(l,s,e.documentUpdates).next((u=>{a=u.Bs,n=u.Ls}))),!i.isEqual(We.min())){const u=t.li.getLastRemoteSnapshotVersion(l).next((p=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(u)}return Yt.waitFor(h).next((()=>s.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,a,n))).next((()=>a))})).then((l=>(t.vs=c,l)))}function A9(m,e,t){let i=dr(),c=dr();return t.forEach((l=>i=i.add(l))),e.getEntries(m,i).next((l=>{let s=_s();return t.forEach(((h,a)=>{const n=l.get(h);a.isFoundDocument()!==n.isFoundDocument()&&(c=c.add(h)),a.isNoDocument()&&a.version.isEqual(We.min())?(e.removeEntry(h,a.readTime),s=s.insert(h,a)):!n.isValidDocument()||a.version.compareTo(n.version)>0||a.version.compareTo(n.version)===0&&n.hasPendingWrites?(e.addEntry(a),s=s.insert(h,a)):ve(Em,"Ignoring outdated watch update for ",h,". Current version:",n.version," Watch version:",a.version)})),{Bs:s,Ls:c}}))}function k9(m,e){const t=Ke(m);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=fm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function C9(m,e){const t=Ke(m);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let c;return t.li.getTargetData(i,e).next((l=>l?(c=l,Yt.resolve(c)):t.li.allocateTargetId(i).next((s=>(c=new ea(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,c).next((()=>c)))))))})).then((i=>{const c=t.vs.get(i.targetId);return(c===null||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function Fp(m,e,t){const i=Ke(m),c=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(s=>i.persistence.referenceDelegate.removeTarget(s,c)))}catch(s){if(!sl(s))throw s;ve(Em,`Failed to update sequence numbers for target ${e}: ${s}`)}i.vs=i.vs.remove(e),i.Fs.delete(c.target)}function Ny(m,e,t){const i=Ke(m);let c=We.min(),l=dr();return i.persistence.runTransaction("Execute query","readwrite",(s=>(function(a,n,u){const p=Ke(a),f=p.Fs.get(u);return f!==void 0?Yt.resolve(p.vs.get(f)):p.li.getTargetData(n,u)})(i,s,Hi(e)).next((h=>{if(h)return c=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(s,h.targetId).next((a=>{l=a}))})).next((()=>i.Cs.getDocumentsMatchingQuery(s,e,t?c:We.min(),t?l:dr()))).next((h=>(R9(i,p8(e),h),{documents:h,ks:l})))))}function R9(m,e,t){let i=m.Ms.get(e)||We.min();t.forEach(((c,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),m.Ms.set(e,i)}class Iy{constructor(){this.activeTargetIds=w8()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M9{constructor(){this.vo=new Iy,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Iy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N9{Mo(e){}shutdown(){}}const Oy="ConnectivityMonitor";class jy{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ve(Oy,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ve(Oy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function Hp(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const mp="RestConnection",I9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class O9{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${c}`,this.$o=this.databaseId.database===Th?`project_id=${i}`:`project_id=${i}&database_id=${c}`}Wo(e,t,i,c,l){const s=Hp(),h=this.Qo(e,t.toUriEncodedString());ve(mp,`Sending RPC '${e}' ${s}:`,h,i);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(a,c,l);const{host:n}=new URL(h),u=tl(n);return this.zo(e,h,a,i,u).then((p=>(ve(mp,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Qa(mp,`RPC '${e}' ${s} failed with error: `,p,"url: ",h,"request:",i),p}))}jo(e,t,i,c,l,s){return this.Wo(e,t,i,c,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((c,l)=>e[l]=c)),i&&i.headers.forEach(((c,l)=>e[l]=c))}Qo(e,t){const i=I9[e];let c=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(c=`${c}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),c}terminate(){}}class j9{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _n="WebChannelConnection",Ql=(m,e,t)=>{m.listen(e,(i=>{try{t(i)}catch(c){setTimeout((()=>{throw c}),0)}}))};class $o extends O9{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!$o.c_){const e=n2();Ql(e,r2.STAT_EVENT,(t=>{t.stat===Mp.PROXY?ve(_n,"STAT_EVENT: detected buffering proxy"):t.stat===Mp.NOPROXY&&ve(_n,"STAT_EVENT: detected no buffering proxy")})),$o.c_=!0}}zo(e,t,i,c,l){const s=Hp();return new Promise(((h,a)=>{const n=new t2;n.setWithCredentials(!0),n.listenOnce(e2.COMPLETE,(()=>{try{switch(n.getLastErrorCode()){case lh.NO_ERROR:const p=n.getResponseJson();ve(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),h(p);break;case lh.TIMEOUT:ve(_n,`RPC '${e}' ${s} timed out`),a(new me(qt.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const f=n.getStatus();if(ve(_n,`RPC '${e}' ${s} failed with status:`,f,"response text:",n.getResponseText()),f>0){let d=n.getResponseJson();Array.isArray(d)&&(d=d[0]);const y=d?.error;if(y&&y.status&&y.message){const v=(function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(qt).indexOf(_)>=0?_:qt.UNKNOWN})(y.status);a(new me(v,y.message))}else a(new me(qt.UNKNOWN,"Server responded with status "+n.getStatus()))}else a(new me(qt.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:s,h_:n.getLastErrorCode(),P_:n.getLastError()})}}finally{ve(_n,`RPC '${e}' ${s} completed.`)}}));const u=JSON.stringify(c);ve(_n,`RPC '${e}' ${s} sending request:`,c),n.send(t,"POST",u,i,15)}))}T_(e,t,i){const c=Hp(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;a!==void 0&&(h.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const n=l.join("");ve(_n,`Creating RPC '${e}' stream ${c}: ${n}`,h);const u=s.createWebChannel(n,h);this.I_(u);let p=!1,f=!1;const d=new j9({Ho:y=>{f?ve(_n,`Not sending because RPC '${e}' stream ${c} is closed:`,y):(p||(ve(_n,`Opening RPC '${e}' stream ${c} transport.`),u.open(),p=!0),ve(_n,`RPC '${e}' stream ${c} sending:`,y),u.send(y))},Jo:()=>u.close()});return Ql(u,eu.EventType.OPEN,(()=>{f||(ve(_n,`RPC '${e}' stream ${c} transport opened.`),d.i_())})),Ql(u,eu.EventType.CLOSE,(()=>{f||(f=!0,ve(_n,`RPC '${e}' stream ${c} transport closed`),d.o_(),this.E_(u))})),Ql(u,eu.EventType.ERROR,(y=>{f||(f=!0,Qa(_n,`RPC '${e}' stream ${c} transport errored. Name:`,y.name,"Message:",y.message),d.o_(new me(qt.UNAVAILABLE,"The operation could not be completed")))})),Ql(u,eu.EventType.MESSAGE,(y=>{if(!f){const v=y.data[0];_r(!!v,16349);const g=v,w=g?.error||g[0]?.error;if(w){ve(_n,`RPC '${e}' stream ${c} received error:`,w);const _=w.status;let k=(function(G){const F=Jr[G];if(F!==void 0)return V2(F)})(_),M=w.message;_==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&Qa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=qt.INTERNAL,M="Unknown error status: "+_+" with message "+w.message),f=!0,d.o_(new me(k,M)),u.close()}else ve(_n,`RPC '${e}' stream ${c} received:`,v),d.__(v)}})),$o.u_(),setTimeout((()=>{d.s_()}),0),d}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return i2()}}function D9(m){return new $o(m)}function gp(){return typeof document<"u"?document:null}function Kh(m){return new V8(m,!0)}$o.c_=!1;class tw{constructor(e,t,i=1e3,c=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=c,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),c=Math.max(0,t-i);c>0&&ve("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Dy="PersistentStream";class ew{constructor(e,t,i,c,l,s,h,a){this.Ci=e,this.b_=i,this.S_=c,this.connection=l,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=h,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tw(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===qt.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===qt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,c])=>{this.D_===t&&this.G_(i,c)}),(i=>{e((()=>{const c=new me(qt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(c)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((c=>{i((()=>this.z_(c)))})),this.stream.onMessage((c=>{i((()=>++this.F_==1?this.H_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ve(Dy,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ve(Dy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P9 extends ew{constructor(e,t,i,c,l,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,s),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=F8(this.serializer,e),i=(function(l){if(!("targetChange"in l))return We.min();const s=l.targetChange;return s.targetIds&&s.targetIds.length?We.min():s.readTime?qi(s.readTime):We.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Up(this.serializer),t.addTarget=(function(l,s){let h;const a=s.target;if(h=Dp(a)?{documents:$8(l,a)}:{query:G8(l,a).ft},h.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){h.resumeToken=F2(l,s.resumeToken);const n=Bp(l,s.expectedCount);n!==null&&(h.expectedCount=n)}else if(s.snapshotVersion.compareTo(We.min())>0){h.readTime=Ch(l,s.snapshotVersion.toTimestamp());const n=Bp(l,s.expectedCount);n!==null&&(h.expectedCount=n)}return h})(this.serializer,e);const i=X8(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Up(this.serializer),t.removeTarget=e,this.K_(t)}}class L9 extends ew{constructor(e,t,i,c,l,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,s),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return _r(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_r(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_r(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=q8(e.writeResults,e.commitTime),i=qi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Up(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>H8(this.serializer,i)))};this.K_(t)}}class B9{}class V9 extends B9{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new me(qt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,s])=>this.connection.Wo(e,Vp(t,i),c,l,s))).catch((l=>{throw l.name==="FirebaseError"?(l.code===qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new me(qt.UNKNOWN,l.toString())}))}jo(e,t,i,c,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,h])=>this.connection.jo(e,Vp(t,i),c,s,h,l))).catch((s=>{throw s.name==="FirebaseError"?(s.code===qt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new me(qt.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function z9(m,e,t,i){return new V9(m,e,t,i)}class U9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(t),this.aa=!1):ve("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Za="RemoteStore";class F9{constructor(e,t,i,c,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((s=>{i.enqueueAndForget((async()=>{eo(this)&&(ve(Za,"Restarting streams for network reachability change."),await(async function(a){const n=Ke(a);n.Ea.add(4),await ju(n),n.Va.set("Unknown"),n.Ea.delete(4),await Qh(n)})(this))}))})),this.Va=new U9(i,c)}}async function Qh(m){if(eo(m))for(const e of m.Ra)await e(!0)}async function ju(m){for(const e of m.Ra)await e(!1)}function rw(m,e){const t=Ke(m);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Rm(t)?Cm(t):ol(t).O_()&&km(t,e))}function Am(m,e){const t=Ke(m),i=ol(t);t.Ia.delete(e),i.O_()&&nw(t,e),t.Ia.size===0&&(i.O_()?i.L_():eo(t)&&t.Va.set("Unknown"))}function km(m,e){if(m.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const t=m.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ol(m).Z_(e)}function nw(m,e){m.da.$e(e),ol(m).X_(e)}function Cm(m){m.da=new D8({getRemoteKeysForTarget:e=>m.remoteSyncer.getRemoteKeysForTarget(e),At:e=>m.Ia.get(e)||null,ht:()=>m.datastore.serializer.databaseId}),ol(m).start(),m.Va.ua()}function Rm(m){return eo(m)&&!ol(m).x_()&&m.Ia.size>0}function eo(m){return Ke(m).Ea.size===0}function iw(m){m.da=void 0}async function H9(m){m.Va.set("Online")}async function q9(m){m.Ia.forEach(((e,t)=>{km(m,e)}))}async function $9(m,e){iw(m),Rm(m)?(m.Va.ha(e),Cm(m)):m.Va.set("Unknown")}async function G9(m,e,t){if(m.Va.set("Online"),e instanceof U2&&e.state===2&&e.cause)try{await(async function(c,l){const s=l.cause;for(const h of l.targetIds)c.Ia.has(h)&&(await c.remoteSyncer.rejectListen(h,s),c.Ia.delete(h),c.da.removeTarget(h))})(m,e)}catch(i){ve(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mh(m,i)}else if(e instanceof fh?m.da.Xe(e):e instanceof z2?m.da.st(e):m.da.tt(e),!t.isEqual(We.min()))try{const i=await J2(m.localStore);t.compareTo(i)>=0&&await(function(l,s){const h=l.da.Tt(s);return h.targetChanges.forEach(((a,n)=>{if(a.resumeToken.approximateByteSize()>0){const u=l.Ia.get(n);u&&l.Ia.set(n,u.withResumeToken(a.resumeToken,s))}})),h.targetMismatches.forEach(((a,n)=>{const u=l.Ia.get(a);if(!u)return;l.Ia.set(a,u.withResumeToken(yn.EMPTY_BYTE_STRING,u.snapshotVersion)),nw(l,a);const p=new ea(u.target,a,n,u.sequenceNumber);km(l,p)})),l.remoteSyncer.applyRemoteEvent(h)})(m,t)}catch(i){ve(Za,"Failed to raise snapshot:",i),await Mh(m,i)}}async function Mh(m,e,t){if(!sl(e))throw e;m.Ea.add(1),await ju(m),m.Va.set("Offline"),t||(t=()=>J2(m.localStore)),m.asyncQueue.enqueueRetryable((async()=>{ve(Za,"Retrying IndexedDB access"),await t(),m.Ea.delete(1),await Qh(m)}))}function sw(m,e){return e().catch((t=>Mh(m,t,e)))}async function Zh(m){const e=Ke(m),t=ha(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:fm;for(;W9(e);)try{const c=await k9(e.localStore,i);if(c===null){e.Ta.length===0&&t.L_();break}i=c.batchId,X9(e,c)}catch(c){await Mh(e,c)}aw(e)&&ow(e)}function W9(m){return eo(m)&&m.Ta.length<10}function X9(m,e){m.Ta.push(e);const t=ha(m);t.O_()&&t.Y_&&t.ea(e.mutations)}function aw(m){return eo(m)&&!ha(m).x_()&&m.Ta.length>0}function ow(m){ha(m).start()}async function Y9(m){ha(m).ra()}async function K9(m){const e=ha(m);for(const t of m.Ta)e.ea(t.mutations)}async function Q9(m,e,t){const i=m.Ta.shift(),c=vm.from(i,e,t);await sw(m,(()=>m.remoteSyncer.applySuccessfulWrite(c))),await Zh(m)}async function Z9(m,e){e&&ha(m).Y_&&await(async function(i,c){if((function(s){return I8(s)&&s!==qt.ABORTED})(c.code)){const l=i.Ta.shift();ha(i).B_(),await sw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,c))),await Zh(i)}})(m,e),aw(m)&&ow(m)}async function Py(m,e){const t=Ke(m);t.asyncQueue.verifyOperationInProgress(),ve(Za,"RemoteStore received new credentials");const i=eo(t);t.Ea.add(3),await ju(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Qh(t)}async function J9(m,e){const t=Ke(m);e?(t.Ea.delete(2),await Qh(t)):e||(t.Ea.add(2),await ju(t),t.Va.set("Unknown"))}function ol(m){return m.ma||(m.ma=(function(t,i,c){const l=Ke(t);return l.sa(),new P9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,c)})(m.datastore,m.asyncQueue,{Zo:H9.bind(null,m),Yo:q9.bind(null,m),t_:$9.bind(null,m),J_:G9.bind(null,m)}),m.Ra.push((async e=>{e?(m.ma.B_(),Rm(m)?Cm(m):m.Va.set("Unknown")):(await m.ma.stop(),iw(m))}))),m.ma}function ha(m){return m.fa||(m.fa=(function(t,i,c){const l=Ke(t);return l.sa(),new L9(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,c)})(m.datastore,m.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Y9.bind(null,m),t_:Z9.bind(null,m),ta:K9.bind(null,m),na:Q9.bind(null,m)}),m.Ra.push((async e=>{e?(m.fa.B_(),await Zh(m)):(await m.fa.stop(),m.Ta.length>0&&(ve(Za,`Stopping write stream with ${m.Ta.length} pending writes`),m.Ta=[]))}))),m.fa}class Mm{constructor(e,t,i,c,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=l,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,c,l){const s=Date.now()+i,h=new Mm(e,t,s,c,l);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(qt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(m,e){if(ws("AsyncQueue",`${e}: ${m}`),sl(m))return new me(qt.UNAVAILABLE,`${e}: ${m}`);throw m}class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||De.comparator(t.key,i.key):(t,i)=>De.comparator(t.key,i.key),this.keyedMap=ru(),this.sortedSet=new Vr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,l=i.getNext().key;if(!c.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class Ly{constructor(){this.ga=new Vr(De.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ue(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Jo{constructor(e,t,i,c,l,s,h,a,n){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=l,this.fromCache=s,this.syncStateChanged=h,this.excludesMetadataChanges=a,this.hasCachedResults=n}static fromInitialDocuments(e,t,i,c,l){const s=[];return t.forEach((h=>{s.push({type:0,doc:h})})),new Jo(e,t,Go.emptySet(t),s,i,c,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class tS{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eS{constructor(){this.queries=By(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const c=Ke(t),l=c.queries;c.queries=By(),l.forEach(((s,h)=>{for(const a of h.ba)a.onError(i)}))})(this,new me(qt.ABORTED,"Firestore shutting down"))}}function By(){return new to((m=>A2(m)),$h)}async function Im(m,e){const t=Ke(m);let i=3;const c=e.query;let l=t.queries.get(c);l?!l.Sa()&&e.Da()&&(i=2):(l=new tS,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(c,!0);break;case 1:l.wa=await t.onListen(c,!1);break;case 2:await t.onFirstRemoteStoreListen(c)}}catch(s){const h=Nm(s,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(h)}t.queries.set(c,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&jm(t)}async function Om(m,e){const t=Ke(m),i=e.query;let c=3;const l=t.queries.get(i);if(l){const s=l.ba.indexOf(e);s>=0&&(l.ba.splice(s,1),l.ba.length===0?c=e.Da()?0:1:!l.Sa()&&e.Da()&&(c=2))}switch(c){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function rS(m,e){const t=Ke(m);let i=!1;for(const c of e){const l=c.query,s=t.queries.get(l);if(s){for(const h of s.ba)h.Fa(c)&&(i=!0);s.wa=c}}i&&jm(t)}function nS(m,e,t){const i=Ke(m),c=i.queries.get(e);if(c)for(const l of c.ba)l.onError(t);i.queries.delete(e)}function jm(m){m.Ca.forEach((e=>{e.next()}))}var qp,Vy;(Vy=qp||(qp={})).Ma="default",Vy.Cache="cache";class Dm{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)c.type!==3&&i.push(c);e=new Jo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qp.Cache}}class lw{constructor(e){this.key=e}}class uw{constructor(e){this.key=e}}class iS{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=dr(),this.mutatedKeys=dr(),this.eu=k2(e),this.tu=new Go(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new Ly,c=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,s=c,h=!1;const a=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,n=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(((u,p)=>{const f=c.get(u),d=Gh(this.query,p)?p:null,y=!!f&&this.mutatedKeys.has(f.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;f&&d?f.data.isEqual(d.data)?y!==v&&(i.track({type:3,doc:d}),g=!0):this.su(f,d)||(i.track({type:2,doc:d}),g=!0,(a&&this.eu(d,a)>0||n&&this.eu(d,n)<0)&&(h=!0)):!f&&d?(i.track({type:0,doc:d}),g=!0):f&&!d&&(i.track({type:1,doc:f}),g=!0,(a||n)&&(h=!0)),g&&(d?(s=s.add(d),l=v?l.add(u):l.delete(u)):(s=s.delete(u),l=l.delete(u)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),l=l.delete(u.key),i.track({type:1,doc:u})}return{tu:s,iu:i,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,c){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((u,p)=>(function(d,y){const v=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:g})}};return v(d)-v(y)})(u.type,p.type)||this.eu(u.doc,p.doc))),this.ou(i),c=c??!1;const h=t&&!c?this._u():[],a=this.Ya.size===0&&this.current&&!c?1:0,n=a!==this.Xa;return this.Xa=a,s.length!==0||n?{snapshot:new Jo(this.query,e.tu,l,s,e.mutatedKeys,a===0,n,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ly,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=dr(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new uw(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new lw(i))})),t}cu(e){this.Za=e.ks,this.Ya=dr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Jo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Pm="SyncEngine";class sS{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class aS{constructor(e){this.key=e,this.hu=!1}}class oS{constructor(e,t,i,c,l,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=l,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new to((h=>A2(h)),$h),this.Iu=new Map,this.Eu=new Set,this.Ru=new Vr(De.comparator),this.Au=new Map,this.Vu=new xm,this.du={},this.mu=new Map,this.fu=Zo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lS(m,e,t=!0){const i=mw(m);let c;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),c=l.view.lu()):c=await cw(i,e,t,!0),c}async function uS(m,e){const t=mw(m);await cw(t,e,!0,!1)}async function cw(m,e,t,i){const c=await C9(m.localStore,Hi(e)),l=c.targetId,s=m.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await cS(m,e,l,s==="current",c.resumeToken)),m.isPrimaryClient&&t&&rw(m.remoteStore,c),h}async function cS(m,e,t,i,c){m.pu=(p,f,d)=>(async function(v,g,w,_){let k=g.view.ru(w);k.Ss&&(k=await Ny(v.localStore,g.query,!1).then((({documents:F})=>g.view.ru(F,k))));const M=_&&_.targetChanges.get(g.targetId),L=_&&_.targetMismatches.get(g.targetId)!=null,G=g.view.applyChanges(k,v.isPrimaryClient,M,L);return Uy(v,g.targetId,G.au),G.snapshot})(m,p,f,d);const l=await Ny(m.localStore,e,!0),s=new iS(e,l.ks),h=s.ru(l.documents),a=Ou.createSynthesizedTargetChangeForCurrentChange(t,i&&m.onlineState!=="Offline",c),n=s.applyChanges(h,m.isPrimaryClient,a);Uy(m,t,n.au);const u=new sS(e,t,s);return m.Tu.set(e,u),m.Iu.has(t)?m.Iu.get(t).push(e):m.Iu.set(t,[e]),n.snapshot}async function hS(m,e,t){const i=Ke(m),c=i.Tu.get(e),l=i.Iu.get(c.targetId);if(l.length>1)return i.Iu.set(c.targetId,l.filter((s=>!$h(s,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(c.targetId),i.sharedClientState.isActiveQueryTarget(c.targetId)||await Fp(i.localStore,c.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(c.targetId),t&&Am(i.remoteStore,c.targetId),$p(i,c.targetId)})).catch(il)):($p(i,c.targetId),await Fp(i.localStore,c.targetId,!0))}async function fS(m,e){const t=Ke(m),i=t.Tu.get(e),c=t.Iu.get(i.targetId);t.isPrimaryClient&&c.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Am(t.remoteStore,i.targetId))}async function dS(m,e,t){const i=wS(m);try{const c=await(function(s,h){const a=Ke(s),n=jr.now(),u=h.reduce(((d,y)=>d.add(y.key)),dr());let p,f;return a.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let y=_s(),v=dr();return a.xs.getEntries(d,u).next((g=>{y=g,y.forEach(((w,_)=>{_.isValidDocument()||(v=v.add(w))}))})).next((()=>a.localDocuments.getOverlayedDocuments(d,y))).next((g=>{p=g;const w=[];for(const _ of h){const k=k8(_,p.get(_.key).overlayedDocument);k!=null&&w.push(new ba(_.key,k,y2(k.value.mapValue),hi.exists(!0)))}return a.mutationQueue.addMutationBatch(d,n,w,h)})).next((g=>{f=g;const w=g.applyToLocalDocumentSet(p,v);return a.documentOverlayCache.saveOverlays(d,g.batchId,w)}))})).then((()=>({batchId:f.batchId,changes:R2(p)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),(function(s,h,a){let n=s.du[s.currentUser.toKey()];n||(n=new Vr(fr)),n=n.insert(h,a),s.du[s.currentUser.toKey()]=n})(i,c.batchId,t),await Du(i,c.changes),await Zh(i.remoteStore)}catch(c){const l=Nm(c,"Failed to persist write");t.reject(l)}}async function hw(m,e){const t=Ke(m);try{const i=await E9(t.localStore,e);e.targetChanges.forEach(((c,l)=>{const s=t.Au.get(l);s&&(_r(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?s.hu=!0:c.modifiedDocuments.size>0?_r(s.hu,14607):c.removedDocuments.size>0&&(_r(s.hu,42227),s.hu=!1))})),await Du(t,i,e)}catch(i){await il(i)}}function zy(m,e,t){const i=Ke(m);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const c=[];i.Tu.forEach(((l,s)=>{const h=s.view.va(e);h.snapshot&&c.push(h.snapshot)})),(function(s,h){const a=Ke(s);a.onlineState=h;let n=!1;a.queries.forEach(((u,p)=>{for(const f of p.ba)f.va(h)&&(n=!0)})),n&&jm(a)})(i.eventManager,e),c.length&&i.Pu.J_(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function pS(m,e,t){const i=Ke(m);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.Au.get(e),l=c&&c.key;if(l){let s=new Vr(De.comparator);s=s.insert(l,Tn.newNoDocument(l,We.min()));const h=dr().add(l),a=new Yh(We.min(),new Map,new Vr(fr),s,h);await hw(i,a),i.Ru=i.Ru.remove(l),i.Au.delete(e),Lm(i)}else await Fp(i.localStore,e,!1).then((()=>$p(i,e,t))).catch(il)}async function mS(m,e){const t=Ke(m),i=e.batch.batchId;try{const c=await T9(t.localStore,e);dw(t,i,null),fw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Du(t,c)}catch(c){await il(c)}}async function gS(m,e,t){const i=Ke(m);try{const c=await(function(s,h){const a=Ke(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",(n=>{let u;return a.mutationQueue.lookupMutationBatch(n,h).next((p=>(_r(p!==null,37113),u=p.keys(),a.mutationQueue.removeMutationBatch(n,p)))).next((()=>a.mutationQueue.performConsistencyCheck(n))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(n,u,h))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,u))).next((()=>a.localDocuments.getDocuments(n,u)))}))})(i.localStore,e);dw(i,e,t),fw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Du(i,c)}catch(c){await il(c)}}function fw(m,e){(m.mu.get(e)||[]).forEach((t=>{t.resolve()})),m.mu.delete(e)}function dw(m,e,t){const i=Ke(m);let c=i.du[i.currentUser.toKey()];if(c){const l=c.get(e);l&&(t?l.reject(t):l.resolve(),c=c.remove(e)),i.du[i.currentUser.toKey()]=c}}function $p(m,e,t=null){m.sharedClientState.removeLocalQueryTarget(e);for(const i of m.Iu.get(e))m.Tu.delete(i),t&&m.Pu.yu(i,t);m.Iu.delete(e),m.isPrimaryClient&&m.Vu.Gr(e).forEach((i=>{m.Vu.containsKey(i)||pw(m,i)}))}function pw(m,e){m.Eu.delete(e.path.canonicalString());const t=m.Ru.get(e);t!==null&&(Am(m.remoteStore,t),m.Ru=m.Ru.remove(e),m.Au.delete(t),Lm(m))}function Uy(m,e,t){for(const i of t)i instanceof lw?(m.Vu.addReference(i.key,e),bS(m,i)):i instanceof uw?(ve(Pm,"Document no longer in limbo: "+i.key),m.Vu.removeReference(i.key,e),m.Vu.containsKey(i.key)||pw(m,i.key)):Ue(19791,{wu:i})}function bS(m,e){const t=e.key,i=t.path.canonicalString();m.Ru.get(t)||m.Eu.has(i)||(ve(Pm,"New document in limbo: "+t),m.Eu.add(i),Lm(m))}function Lm(m){for(;m.Eu.size>0&&m.Ru.size<m.maxConcurrentLimboResolutions;){const e=m.Eu.values().next().value;m.Eu.delete(e);const t=new De(Nr.fromString(e)),i=m.fu.next();m.Au.set(i,new aS(t)),m.Ru=m.Ru.insert(t,i),rw(m.remoteStore,new ea(Hi(qh(t.path)),i,"TargetPurposeLimboResolution",Uh.ce))}}async function Du(m,e,t){const i=Ke(m),c=[],l=[],s=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,a)=>{s.push(i.pu(a,e,t).then((n=>{if((n||t)&&i.isPrimaryClient){const u=n?!n.fromCache:t?.targetChanges.get(a.targetId)?.current;i.sharedClientState.updateQueryState(a.targetId,u?"current":"not-current")}if(n){c.push(n);const u=Tm.Es(a.targetId,n);l.push(u)}})))})),await Promise.all(s),i.Pu.J_(c),await(async function(a,n){const u=Ke(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>Yt.forEach(n,(f=>Yt.forEach(f.Ts,(d=>u.persistence.referenceDelegate.addReference(p,f.targetId,d))).next((()=>Yt.forEach(f.Is,(d=>u.persistence.referenceDelegate.removeReference(p,f.targetId,d)))))))))}catch(p){if(!sl(p))throw p;ve(Em,"Failed to update sequence numbers: "+p)}for(const p of n){const f=p.targetId;if(!p.fromCache){const d=u.vs.get(f),y=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(y);u.vs=u.vs.insert(f,v)}}})(i.localStore,l))}async function yS(m,e){const t=Ke(m);if(!t.currentUser.isEqual(e)){ve(Pm,"User change. New user:",e.toKey());const i=await Z2(t.localStore,e);t.currentUser=e,(function(l,s){l.mu.forEach((h=>{h.forEach((a=>{a.reject(new me(qt.CANCELLED,s))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Du(t,i.Ns)}}function vS(m,e){const t=Ke(m),i=t.Au.get(e);if(i&&i.hu)return dr().add(i.key);{let c=dr();const l=t.Iu.get(e);if(!l)return c;for(const s of l){const h=t.Tu.get(s);c=c.unionWith(h.view.nu)}return c}}function mw(m){const e=Ke(m);return e.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pS.bind(null,e),e.Pu.J_=rS.bind(null,e.eventManager),e.Pu.yu=nS.bind(null,e.eventManager),e}function wS(m){const e=Ke(m);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gS.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return S9(this.persistence,new w9,e.initialUser,this.serializer)}Cu(e){return new Q2(Sm.Vi,this.serializer)}Du(e){return new M9}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class _S extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){_r(this.persistence.referenceDelegate instanceof Rh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new s9(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new Q2((i=>Rh.Vi(i,t)),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>zy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=yS.bind(null,this.syncEngine),await J9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eS})()}createDatastore(e){const t=Kh(e.databaseInfo.databaseId),i=D9(e.databaseInfo);return z9(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,c,l,s,h){return new F9(i,c,l,s,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>zy(this.syncEngine,t,0)),(function(){return jy.v()?new jy:new N9})())}createSyncEngine(e,t){return(function(c,l,s,h,a,n,u){const p=new oS(c,l,s,h,a,n);return u&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ke(t);ve(Za,"RemoteStore shutting down."),i.Ea.add(5),await ju(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gp.provider={build:()=>new Gp};class Bm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const fa="FirestoreClient";class xS{constructor(e,t,i,c,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=c,this.user=Sn.UNAUTHENTICATED,this.clientId=hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async s=>{ve(fa,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,(s=>(ve(fa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Nm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function bp(m,e){m.asyncQueue.verifyOperationInProgress(),ve(fa,"Initializing OfflineComponentProvider");const t=m.configuration;await e.initialize(t);let i=t.initialUser;m.setCredentialChangeListener((async c=>{i.isEqual(c)||(await Z2(e.localStore,c),i=c)})),e.persistence.setDatabaseDeletedListener((()=>m.terminate())),m._offlineComponents=e}async function Fy(m,e){m.asyncQueue.verifyOperationInProgress();const t=await SS(m);ve(fa,"Initializing OnlineComponentProvider"),await e.initialize(t,m.configuration),m.setCredentialChangeListener((i=>Py(e.remoteStore,i))),m.setAppCheckTokenChangeListener(((i,c)=>Py(e.remoteStore,c))),m._onlineComponents=e}async function SS(m){if(!m._offlineComponents)if(m._uninitializedComponentsProvider){ve(fa,"Using user provided OfflineComponentProvider");try{await bp(m,m._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(c){return c.name==="FirebaseError"?c.code===qt.FAILED_PRECONDITION||c.code===qt.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(t))throw t;Qa("Error using user provided cache. Falling back to memory cache: "+t),await bp(m,new Nh)}}else ve(fa,"Using default OfflineComponentProvider"),await bp(m,new _S(void 0));return m._offlineComponents}async function gw(m){return m._onlineComponents||(m._uninitializedComponentsProvider?(ve(fa,"Using user provided OnlineComponentProvider"),await Fy(m,m._uninitializedComponentsProvider._online)):(ve(fa,"Using default OnlineComponentProvider"),await Fy(m,new Gp))),m._onlineComponents}function TS(m){return gw(m).then((e=>e.syncEngine))}async function Ih(m){const e=await gw(m),t=e.eventManager;return t.onListen=lS.bind(null,e.syncEngine),t.onUnlisten=hS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=uS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fS.bind(null,e.syncEngine),t}function ES(m,e,t,i){const c=new Bm(i),l=new Dm(e,c,t);return m.asyncQueue.enqueueAndForget((async()=>Im(await Ih(m),l))),()=>{c.Nu(),m.asyncQueue.enqueueAndForget((async()=>Om(await Ih(m),l)))}}function AS(m,e,t={}){const i=new bs;return m.asyncQueue.enqueueAndForget((async()=>(function(l,s,h,a,n){const u=new Bm({next:f=>{u.Nu(),s.enqueueAndForget((()=>Om(l,p)));const d=f.docs.has(h);!d&&f.fromCache?n.reject(new me(qt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&a.source==="server"?n.reject(new me(qt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):n.resolve(f)},error:f=>n.reject(f)}),p=new Dm(qh(h.path),u,{includeMetadataChanges:!0,Ka:!0});return Im(l,p)})(await Ih(m),m.asyncQueue,e,t,i))),i.promise}function kS(m,e,t={}){const i=new bs;return m.asyncQueue.enqueueAndForget((async()=>(function(l,s,h,a,n){const u=new Bm({next:f=>{u.Nu(),s.enqueueAndForget((()=>Om(l,p))),f.fromCache&&a.source==="server"?n.reject(new me(qt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):n.resolve(f)},error:f=>n.reject(f)}),p=new Dm(h,u,{includeMetadataChanges:!0,Ka:!0});return Im(l,p)})(await Ih(m),m.asyncQueue,e,t,i))),i.promise}function CS(m,e){const t=new bs;return m.asyncQueue.enqueueAndForget((async()=>dS(await TS(m),e,t))),t.promise}function bw(m){const e={};return m.timeoutSeconds!==void 0&&(e.timeoutSeconds=m.timeoutSeconds),e}const RS="ComponentProvider",Hy=new Map;function MS(m,e,t,i,c){return new Y5(m,e,t,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,bw(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator,i)}const yw="firestore.googleapis.com",qy=!0;class $y{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(qt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yw,this.ssl=qy}else this.host=e.host,this.ssl=e.ssl??qy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=K2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n9)throw new me(qt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bw(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new me(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(qt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,c){return i.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jh{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $y({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(qt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(qt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $y(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new C5;switch(i.type){case"firstParty":return new I5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new me(qt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Hy.get(t);i&&(ve(RS,"Removing Datastore"),Hy.delete(t),i.terminate())})(this),Promise.resolve()}}function NS(m,e,t,i={}){m=Vn(m,Jh);const c=tl(e),l=m._getSettings(),s={...l,emulatorOptions:m._getEmulatorOptions()},h=`${e}:${t}`;c&&(fv(`https://${h}`),dv("Firestore",!0)),l.host!==yw&&l.host!==h&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const a={...l,host:h,ssl:c,emulatorOptions:i};if(!Ga(a,s)&&(m._setSettings(a),i.mockUserToken)){let n,u;if(typeof i.mockUserToken=="string")n=i.mockUserToken,u=Sn.MOCK_USER;else{n=L3(i.mockUserToken,m._app?.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new me(qt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sn(p)}m._authCredentials=new R5(new a2(n,u))}}class ya{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ya(this.firestore,e,this._query)}}class Hr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}toJSON(){return{type:Hr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Nu(t,Hr._jsonSchema))return new Hr(e,i||null,new De(Nr.fromString(t.referencePath)))}}Hr._jsonSchemaVersion="firestore/documentReference/1.0",Hr._jsonSchema={type:en("string",Hr._jsonSchemaVersion),referencePath:en("string")};class aa extends ya{constructor(e,t,i){super(e,t,qh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new De(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function xn(m,e,...t){if(m=sn(m),o2("collection","path",e),m instanceof Jh){const i=Nr.fromString(e,...t);return iy(i),new aa(m,null,i)}{if(!(m instanceof Hr||m instanceof aa))throw new me(qt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=m._path.child(Nr.fromString(e,...t));return iy(i),new aa(m.firestore,null,i)}}function Mr(m,e,...t){if(m=sn(m),arguments.length===1&&(e=hm.newId()),o2("doc","path",e),m instanceof Jh){const i=Nr.fromString(e,...t);return ny(i),new Hr(m,null,new De(i))}{if(!(m instanceof Hr||m instanceof aa))throw new me(qt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=m._path.child(Nr.fromString(e,...t));return ny(i),new Hr(m.firestore,m instanceof aa?m.converter:null,new De(i))}}const Gy="AsyncQueue";class Wy{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tw(this,"async_queue_retry"),this._c=()=>{const i=gp();i&&ve(Gy,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new bs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!sl(e))throw e;ve(Gy,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",Xy(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const c=Mm.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(c),c}uc(){this.nc&&Ue(47125,{Pc:Xy(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Xy(m){let e=m.message||"";return m.stack&&(e=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),e}class xs extends Jh{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new Wy,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wy(e),this._firestoreClient=void 0,await e}}}function vw(m,e){const t=typeof m=="object"?m:gv(),i=typeof m=="string"?m:Th,c=Zp(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const l=D3("firestore");l&&NS(c,...l)}return c}function tf(m){if(m._terminated)throw new me(qt.FAILED_PRECONDITION,"The client has already been terminated.");return m._firestoreClient||IS(m),m._firestoreClient}function IS(m){const e=m._freezeSettings(),t=MS(m._databaseId,m._app?.options.appId||"",m._persistenceKey,m._app?.options.apiKey,e);m._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(m._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),m._firestoreClient=new xS(m._authCredentials,m._appCheckCredentials,m._queue,t,m._componentsProvider&&(function(c){const l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}})(m._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(yn.fromBase64String(e))}catch(t){throw new me(qt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ci(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:en("string",ci._jsonSchemaVersion),bytes:en("string")};class Vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(qt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ef{constructor(e){this._methodName=e}}class $i{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(qt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(qt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fr(this._lat,e._lat)||fr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:en("string",$i._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class ki{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,c){if(i.length!==c.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==c[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ki(e.vectorValues);throw new me(qt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:en("string",ki._jsonSchemaVersion),vectorValues:en("object")};const OS=/^__.*__$/;class jS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ba(e,this.data,this.fieldMask,t,this.fieldTransforms):new Iu(e,this.data,t,this.fieldTransforms)}}class ww{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ba(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _w(m){switch(m){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{dataSource:m})}}class zm{constructor(e,t,i,c,l,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new zm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Oh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_w(this.dataSource)&&OS.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class DS{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Kh(e)}createContext(e,t,i,c=!1){return new zm({dataSource:e,methodName:t,targetDoc:i,path:bn.emptyPath(),arrayElement:!1,hasConverter:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(m){const e=m._freezeSettings(),t=Kh(m._databaseId);return new DS(m._databaseId,!!e.ignoreUndefinedProperties,t)}function xw(m,e,t,i,c,l={}){const s=m.createContext(l.merge||l.mergeFields?2:0,e,t,c);Fm("Data must be an object, but it was:",s,i);const h=Sw(i,s);let a,n;if(l.merge)a=new Qn(s.fieldMask),n=s.fieldTransforms;else if(l.mergeFields){const u=[];for(const p of l.mergeFields){const f=Ja(e,p,t);if(!s.contains(f))throw new me(qt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Aw(u,f)||u.push(f)}a=new Qn(u),n=s.fieldTransforms.filter((p=>a.covers(p.field)))}else a=null,n=s.fieldTransforms;return new jS(new Bn(h),a,n)}class nf extends ef{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class Um extends ef{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Tu(e.serializer,I2(e.serializer,this.Vc));return new S8(e.path,t)}isEqual(e){return e instanceof Um&&this.Vc===e.Vc}}function PS(m,e,t,i){const c=m.createContext(1,e,t);Fm("Data must be an object, but it was:",c,i);const l=[],s=Bn.empty();ga(i,((a,n)=>{const u=Ew(e,a,t);n=sn(n);const p=c.childContextForFieldPath(u);if(n instanceof nf)l.push(u);else{const f=Pu(n,p);f!=null&&(l.push(u),s.set(u,f))}}));const h=new Qn(l);return new ww(s,h,c.fieldTransforms)}function LS(m,e,t,i,c,l){const s=m.createContext(1,e,t),h=[Ja(e,i,t)],a=[c];if(l.length%2!=0)throw new me(qt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<l.length;f+=2)h.push(Ja(e,l[f])),a.push(l[f+1]);const n=[],u=Bn.empty();for(let f=h.length-1;f>=0;--f)if(!Aw(n,h[f])){const d=h[f];let y=a[f];y=sn(y);const v=s.childContextForFieldPath(d);if(y instanceof nf)n.push(d);else{const g=Pu(y,v);g!=null&&(n.push(d),u.set(d,g))}}const p=new Qn(n);return new ww(u,p,s.fieldTransforms)}function BS(m,e,t,i=!1){return Pu(t,m.createContext(i?4:3,e))}function Pu(m,e){if(Tw(m=sn(m)))return Fm("Unsupported field value:",e,m),Sw(m,e);if(m instanceof ef)return(function(i,c){if(!_w(c.dataSource))throw c.createError(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(c);l&&c.fieldTransforms.push(l)})(m,e),null;if(m===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),m instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,c){const l=[];let s=0;for(const h of i){let a=Pu(h,c.childContextForArray(s));a==null&&(a={nullValue:"NULL_VALUE"}),l.push(a),s++}return{arrayValue:{values:l}}})(m,e)}return(function(i,c){if((i=sn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return I2(c.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=jr.fromDate(i);return{timestampValue:Ch(c.serializer,l)}}if(i instanceof jr){const l=new jr(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ch(c.serializer,l)}}if(i instanceof $i)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ci)return{bytesValue:F2(c.serializer,i._byteString)};if(i instanceof Hr){const l=c.databaseId,s=i.firestore._databaseId;if(!s.isEqual(l))throw c.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_m(i.firestore._databaseId||c.databaseId,i._key.path)}}if(i instanceof ki)return(function(s,h){const a=s instanceof ki?s.toArray():s;return{mapValue:{fields:{[g2]:{stringValue:b2},[Eh]:{arrayValue:{values:a.map((u=>{if(typeof u!="number")throw h.createError("VectorValues must only contain numeric values.");return bm(h.serializer,u)}))}}}}}})(i,c);if(Y2(i))return i._toProto(c.serializer);throw c.createError(`Unsupported field value: ${zh(i)}`)})(m,e)}function Sw(m,e){const t={};return c2(m)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(m,((i,c)=>{const l=Pu(c,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function Tw(m){return!(typeof m!="object"||m===null||m instanceof Array||m instanceof Date||m instanceof jr||m instanceof $i||m instanceof ci||m instanceof Hr||m instanceof ef||m instanceof ki||Y2(m))}function Fm(m,e,t){if(!Tw(t)||!l2(t)){const i=zh(t);throw i==="an object"?e.createError(m+" a custom object"):e.createError(m+" "+i)}}function Ja(m,e,t){if((e=sn(e))instanceof Vm)return e._internalPath;if(typeof e=="string")return Ew(m,e);throw Oh("Field path arguments must be of type string or ",m,!1,void 0,t)}const VS=new RegExp("[~\\*/\\[\\]]");function Ew(m,e,t){if(e.search(VS)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,m,!1,void 0,t);try{return new Vm(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,m,!1,void 0,t)}}function Oh(m,e,t,i,c){const l=i&&!i.isEmpty(),s=c!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let a="";return(l||s)&&(a+=" (found",l&&(a+=` in field ${i}`),s&&(a+=` in document ${c}`),a+=")"),new me(qt.INVALID_ARGUMENT,h+m+a)}function Aw(m,e){return m.some((t=>t.isEqual(e)))}class zS{convertValue(e,t="none"){switch(ca(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ga(e,((c,l)=>{i[c]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Eh].arrayValue?.values?.map((i=>Xr(i.doubleValue)));return new ki(t)}convertGeoPoint(e){return new $i(Xr(e.latitude),Xr(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Hh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(yu(e));default:return null}}convertTimestamp(e){const t=la(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nr.fromString(e);_r(X2(i),9688,{name:e});const c=new vu(i.get(1),i.get(3)),l=new De(i.popFirst(5));return c.isEqual(t)||ws(`Document ${l} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class Hm extends zS{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}function Lo(m){return new Um("increment",m)}const Yy="@firebase/firestore",Ky="4.11.0";function Qy(m){return(function(t,i){if(typeof t!="object"||t===null)return!1;const c=t;for(const l of i)if(l in c&&typeof c[l]=="function")return!0;return!1})(m,["next","error","complete"])}class kw{constructor(e,t,i,c,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new US(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ja("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class US extends kw{data(){return super.data()}}function Cw(m){if(m.limitType==="L"&&m.explicitOrderBy.length===0)throw new me(qt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qm{}class Rw extends qm{}function ds(m,e,...t){let i=[];e instanceof qm&&i.push(e),i=i.concat(t),(function(l){const s=l.filter((a=>a instanceof $m)).length,h=l.filter((a=>a instanceof sf)).length;if(s>1||s>0&&h>0)throw new me(qt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const c of i)m=c._apply(m);return m}class sf extends Rw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new sf(e,t,i)}_apply(e){const t=this._parse(e);return Mw(e._query,t),new ya(e.firestore,e.converter,Pp(e._query,t))}_parse(e){const t=rf(e.firestore);return(function(l,s,h,a,n,u,p){let f;if(n.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new me(qt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Jy(p,u);const y=[];for(const v of p)y.push(Zy(a,l,v));f={arrayValue:{values:y}}}else f=Zy(a,l,p)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Jy(p,u),f=BS(h,s,p,u==="in"||u==="not-in");return tn.create(n,u,f)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function fs(m,e,t){const i=e,c=Ja("where",m);return sf._create(c,i,t)}class $m extends qm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $m(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Ci.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(c,l){let s=c;const h=l.getFlattenedFilters();for(const a of h)Mw(s,a),s=Pp(s,a)})(e._query,t),new ya(e.firestore,e.converter,Pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Gm extends Rw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gm(e,t)}_apply(e){const t=(function(c,l,s){if(c.startAt!==null)throw new me(qt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new me(qt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(l,s)})(e._query,this._field,this._direction);return new ya(e.firestore,e.converter,d8(e._query,t))}}function jh(m,e="asc"){const t=e,i=Ja("orderBy",m);return Gm._create(i,t)}function Zy(m,e,t){if(typeof(t=sn(t))=="string"){if(t==="")throw new me(qt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!E2(e)&&t.indexOf("/")!==-1)throw new me(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Nr.fromString(t));if(!De.isDocumentKey(i))throw new me(qt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return fy(m,new De(i))}if(t instanceof Hr)return fy(m,t._key);throw new me(qt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zh(t)}.`)}function Jy(m,e){if(!Array.isArray(m)||m.length===0)throw new me(qt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mw(m,e){const t=(function(c,l){for(const s of c)for(const h of s.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(m.filters,(function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(qt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(qt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function Nw(m,e,t){let i;return i=m?t&&(t.merge||t.mergeFields)?m.toFirestore(e,t):m.toFirestore(e):e,i}class iu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ha extends kw{constructor(e,t,i,c,l,s){super(e,t,i,c,s),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ja("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(qt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ha._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ha._jsonSchema={type:en("string",Ha._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class dh extends Ha{data(e={}){return super.data(e)}}class qa{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new iu(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new dh(this._firestore,this._userDataWriter,i.key,i,new iu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(qt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(c,l){if(c._snapshot.oldDocs.isEmpty()){let s=0;return c._snapshot.docChanges.map((h=>{const a=new dh(c._firestore,c._userDataWriter,h.doc.key,h.doc,new iu(c._snapshot.mutatedKeys.has(h.doc.key),c._snapshot.fromCache),c.query.converter);return h.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}}))}{let s=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const a=new dh(c._firestore,c._userDataWriter,h.doc.key,h.doc,new iu(c._snapshot.mutatedKeys.has(h.doc.key),c._snapshot.fromCache),c.query.converter);let n=-1,u=-1;return h.type!==0&&(n=s.indexOf(h.doc.key),s=s.delete(h.doc.key)),h.type!==1&&(s=s.add(h.doc),u=s.indexOf(h.doc.key)),{type:FS(h.type),doc:a,oldIndex:n,newIndex:u}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(qt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],c=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),c.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function FS(m){switch(m){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:m})}}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:en("string",qa._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function Wm(m){m=Vn(m,Hr);const e=Vn(m.firestore,xs),t=tf(e);return AS(t,m._key).then((i=>Iw(e,m,i)))}function su(m){m=Vn(m,ya);const e=Vn(m.firestore,xs),t=tf(e),i=new Hm(e);return Cw(m._query),kS(t,m._query).then((c=>new qa(e,i,m,c)))}function ta(m,e,t){m=Vn(m,Hr);const i=Vn(m.firestore,xs),c=Nw(m.converter,e,t),l=rf(i);return af(i,[xw(l,"setDoc",m._key,c,m.converter!==null,t).toMutation(m._key,hi.none())])}function zi(m,e,t,...i){m=Vn(m,Hr);const c=Vn(m.firestore,xs),l=rf(c);let s;return s=typeof(e=sn(e))=="string"||e instanceof Vm?LS(l,"updateDoc",m._key,e,t,i):PS(l,"updateDoc",m._key,e),af(c,[s.toMutation(m._key,hi.exists(!0))])}function Zl(m){return af(Vn(m.firestore,xs),[new ym(m._key,hi.none())])}function Wo(m,e){const t=Vn(m.firestore,xs),i=Mr(m),c=Nw(m.converter,e),l=rf(m.firestore);return af(t,[xw(l,"addDoc",i._key,c,m.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then((()=>i))}function $a(m,...e){m=sn(m);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Qy(e[i])||(t=e[i++]);const c={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Qy(e[i])){const n=e[i];e[i]=n.next?.bind(n),e[i+1]=n.error?.bind(n),e[i+2]=n.complete?.bind(n)}let l,s,h;if(m instanceof Hr)s=Vn(m.firestore,xs),h=qh(m._key.path),l={next:n=>{e[i]&&e[i](Iw(s,m,n))},error:e[i+1],complete:e[i+2]};else{const n=Vn(m,ya);s=Vn(n.firestore,xs),h=n._query;const u=new Hm(s);l={next:p=>{e[i]&&e[i](new qa(s,u,n,p))},error:e[i+1],complete:e[i+2]},Cw(m._query)}const a=tf(s);return ES(a,h,c,l)}function af(m,e){const t=tf(m);return CS(t,e)}function Iw(m,e,t){const i=t.docs.get(e._key),c=new Hm(m);return new Ha(m,c,e._key,i,new iu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){k5(el),Xo(new Wa("firestore",((i,{instanceIdentifier:c,options:l})=>{const s=i.getProvider("app").getImmediate(),h=new xs(new M5(i.getProvider("auth-internal")),new O5(s,i.getProvider("app-check-internal")),K5(s,c),s);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ia(Yy,Ky,e),ia(Yy,Ky,"esm2020")})();const HS={apiKey:"AIzaSyADgIdomw9VmyRWyDJrB5kIGwLXke0FSAo",authDomain:"task-manager-tl.firebaseapp.com",projectId:"task-manager-tl",storageBucket:"task-manager-tl.firebasestorage.app",messagingSenderId:"1042228665130",appId:"1:1042228665130:web:69f8244f16145e6cc65c53",measurementId:"G-WLH41TME67"},Ow=Jp(HS),qS=vw(Ow),fu=Zv(Ow);new Ti;const $S=()=>{const[m,e]=Mt.useState(null),[t,i]=Mt.useState(!0);return Mt.useEffect(()=>{const c=f6(fu,l=>{e(l),i(!1)});return()=>c()},[]),{user:m,loading:t}},ui=(m,e,t,i)=>{const[c,l]=Mt.useState(t),[s,h]=Mt.useState(!0),a=Mt.useCallback(()=>i?Mr(qS,"users",i.uid,m,e):null,[i,m,e]);return Mt.useEffect(()=>{const u=a();if(!u){h(!1);return}const p=$a(u,f=>{h(!1),f.exists()?l(f.data().val):l(t)},f=>{console.error("Firestore read error",f),h(!1)});return()=>p()},[a]),[c,async u=>{const p=a();if(p){l(u);try{await ta(p,{val:u},{merge:!0})}catch(f){console.error("Error writing to Firestore",f)}}},s]},GS=[{name:"Seba y Estefania",date:"12-08"},{name:"Bianca",date:"12-18"},{name:"Mica",date:"08-01"},{name:"Arturo",date:"04-01"},{name:"Mica",date:"11-21"},{name:"Angie",date:"11-19"},{name:"Dana",date:"08-28"},{name:"Luciano",date:"07-07"}],jw=["Tienda Lujosa","Clara Tienda","Clara Tierra","Bella Divina"],Dw=["Columna CONFIRMADO","Columna POR UPSELL","Columna DATOS ENTREGA","Columna RESPONDER","Columna REMINDER","Columna LATE VERIFICATION","Chat en vivo (filtro Abiertos)","Chat en vivo (filtro Pendiente)","Ordenes confirmadas sheet (CHECK info)","CHAT Pending Orders","Facebook/Instagram Comments & Chats","Meeting"],Wp={"Tienda Lujosa":"CALL Pending Orders","Clara Tienda":"CALL Pending Orders","Clara Tierra":"CALL Pending Orders","Bella Divina":"CALL Pending Orders"},WS=m=>{const[e,t]=ui("data","tasks",[],m),[i,c]=Mt.useState(""),[l,s]=Mt.useState(null);Mt.useEffect(()=>{const k=setInterval(()=>{e&&e.some(M=>M.running)&&t(M=>[...M])},1e3);return()=>clearInterval(k)},[e,t]);const h=Mt.useCallback(k=>{const M=[],L=new Set(e.map(F=>F.name.toLowerCase()));let G=0;return k.forEach((F,j)=>{const{shopInput:U,taskName:q}=F,X=`${q} [${U}]`;if(L.has(X.toLowerCase())){G++;return}const $=!Dw.includes(q)&&!Object.values(Wp).includes(q),R={id:Date.now()+j+Math.random(),name:X,rawTaskName:q,shop:U,quantity:null,elapsedTime:0,running:!1,lastTime:null,isCustom:$};M.push(R),L.add(X.toLowerCase())}),M.length>0?(t([...e,...M]),c(""),!0):(G>0&&c("Esas tareas ya existen en la lista."),!1)},[e,t]),a=Mt.useCallback(k=>h([k]),[h]),n=Mt.useCallback(k=>t(e.filter(M=>M.id!==k)),[e,t]),u=Mt.useCallback(()=>{t([]),c("")},[t]),p=Mt.useCallback(k=>{const M=Date.now(),L=e.map(G=>{if(G.running&&G.id!==k)return{...G,running:!1,elapsedTime:G.elapsedTime+(M-G.lastTime),lastTime:null};if(G.id===k){const F=!G.running;return{...G,running:F,elapsedTime:F?G.elapsedTime:G.elapsedTime+(M-G.lastTime),lastTime:F?M:null}}return G});t(L)},[e,t]),f=Mt.useCallback(()=>{let k=!1,M=null;const L=Date.now(),G=e.map(F=>F.running?(k=!0,M=F.id,{...F,running:!1,elapsedTime:F.elapsedTime+(L-F.lastTime),lastTime:null}):F);if(!k){s({text:"No hay tareas activas.",taskIdToResume:null});return}t(G),s({text:"Tareas detenidas.",taskIdToResume:M})},[e,t]),d=Mt.useCallback(()=>{!l||l.taskIdToResume===null||(p(l.taskIdToResume),s(null))},[l,p]),y=Mt.useCallback(()=>{s(null)},[]),v=Mt.useCallback(k=>{t(e.map(M=>M.id===k?{...M,elapsedTime:0,running:!1,lastTime:null,quantity:null}:M))},[e,t]),g=Mt.useCallback((k,M)=>{t(e.map(L=>{if(L.id===k){const G=M.rawTaskName!==void 0?M.rawTaskName:L.rawTaskName,F=M.shop!==void 0?M.shop:L.shop,j=G?`${G} [${F}]`:L.name;return{...L,...M,rawTaskName:G,shop:F,name:j}}return L}))},[e,t]),w=Mt.useCallback(()=>t([...e].sort((k,M)=>k.shop.localeCompare(M.shop))),[e,t]),_=Mt.useCallback((k,M,L)=>{let G=0;const F=k.toString().trim();if(F.includes(":")){const X=F.split(":"),$=parseInt(X[0]||"0",10),R=parseInt(X[1]||"0",10);G=$*3600*1e3+R*60*1e3}else{const X=parseFloat(F);isNaN(X)||(G=X*60*1e3)}const j=e.reduce((X,$)=>X+$.elapsedTime,0),U=G-j;if(Math.abs(U)<1e3)return;let q=[...e];if(M==="all"){if(q.length===0)return;const X=q.length,$=Math.floor(U/X),R=U%X;q=q.map((P,C)=>{let x=$;C===0&&(x+=R);let S=P.elapsedTime+x;return S<0&&(S=0),{...P,elapsedTime:S}})}else M==="single"&&L&&(q=q.map(X=>{if(X.id===L){let $=X.elapsedTime+U;return $<0&&($=0),{...X,elapsedTime:$}}return X}));t(q),console.log(`Sincronizacin completa. Objetivo: ${G}ms, Diferencia aplicada: ${U}ms`)},[e,t]);return{tasks:e,errorMessage:i,setErrorMessage:c,addTask:a,addMultipleTasks:h,deleteTask:n,deleteAllTasks:u,toggleTimer:p,updateTaskDetails:g,sortTasksByShop:w,resetTaskTimer:v,stopAllTimers:f,statusMessage:l,resumeStoppedTimers:d,clearStatusMessage:y,syncTasksTime:_}},du=m=>{if(m<0)return"00:00:00";const e=Math.floor(m/1e3),t=Math.floor(e/3600).toString().padStart(2,"0"),i=Math.floor(e%3600/60).toString().padStart(2,"0"),c=(e%60).toString().padStart(2,"0");return`${t}:${i}:${c}`},XS=m=>{if(!m)return 0;let e=0,t=0,i=0;if(m.includes(":")){const c=m.split(":").map(Number);c.length===3?[e,t,i]=c:c.length===2&&([e,t]=c)}else t=parseInt(m)||0;return(e*3600+t*60+i)*1e3},Dh=()=>{const m=new Date,e=m.getTimezoneOffset();return new Date(m.getTime()-e*60*1e3).toISOString().split("T")[0]},YS=m=>{if(!m||m.length===0)return 0;const e=new Date,t=e.getDay(),i=e.getDate()-t+(t===0?-6:1),c=new Date(e.setDate(i));return c.setHours(0,0,0,0),m.reduce((l,s)=>{const[h,a,n]=s.id.split("-").map(Number);return new Date(h,a-1,n)>=c?l+Xp(s.content):l},0)},Xp=m=>{if(!m)return 0;const e=m.match(/Hours worked: (\d+)h (\d+)m/)||m.match(/Tiempo Total: (\d+)h (\d+)m/);if(e){const t=parseInt(e[1],10),i=parseInt(e[2],10);return t+i/60}return 0},Pw=()=>{const m=new Date,e=new Date(m);e.setDate(m.getDate()+7);const t=e.getFullYear(),i=new Date(t,0,1),c=(e-i)/864e5,l=Math.ceil((c+i.getDay()+1)/7);return`${t}-W${String(l).padStart(2,"0")}`},tv=()=>{const m=new Date,e=new Date(m.getFullYear(),0,1),t=(m-e)/864e5,i=Math.ceil((t+e.getDay()+1)/7);return`${m.getFullYear()}-W${i}`},yp={default:{name:"default",bodyBg:"bg-gradient-to-b from-slate-900 via-[#0f172a] to-[#020617]",cardBg:"bg-slate-800/95 backdrop-blur-sm border border-slate-700 shadow-xl",primaryText:"text-slate-100 tracking-wide",secondaryText:"text-slate-400",accentText:"text-blue-400 font-semibold drop-shadow-sm",inputBorder:"border-slate-600 focus:border-blue-500 bg-slate-950/50",shopSelectBorder:"border-blue-500/30",buttonAction:"bg-blue-600 hover:bg-blue-500 text-white shadow-md border border-blue-500/20",buttonAdd:"bg-indigo-600 hover:bg-indigo-500 text-white shadow-md",modalBg:"bg-slate-900 border-slate-700",activeEffects:[]},lofi:{name:"lofi",bodyBg:"bg-black",rawBg:"radial-gradient(circle at 50% -10%, #5d4037 0%, #2d1b16 40%, #000000 100%)",cardBg:"bg-[#1a120e]/80 backdrop-blur-xl border border-[#d1c4e9]/20 shadow-2xl",primaryText:"text-[#efebe9] font-mono tracking-wide",secondaryText:"text-[#a1887f]",accentText:"text-[#d1c4e9] font-bold drop-shadow-[0_0_15px_rgba(209,196,233,0.5)]",inputBorder:"border-[#5d4037] focus:border-[#d1c4e9]",shopSelectBorder:"border-[#d1c4e9]/40",buttonAction:"bg-[#3e2723] hover:bg-[#4e342e] text-[#efebe9] border border-[#d1c4e9]/30",buttonAdd:"bg-gradient-to-r from-[#d97706] to-[#8d6e63] hover:from-[#b45309] hover:to-[#6d4c41] text-white shadow-lg",modalBg:"bg-[#1a120e] border-[#d1c4e9]/40",activeEffects:["rain","cozy_lights","mystic_fog","lofi_notes"]},winter:{name:"winter",bodyBg:"bg-black",rawBg:"linear-gradient(to bottom, #020617 0%, #0f172a 60%, #1e3a8a 100%)",cardBg:"bg-slate-900/50 backdrop-blur-lg border border-cyan-200/20 shadow-[0_0_30px_rgba(165,243,252,0.15)]",primaryText:"text-cyan-50",secondaryText:"text-blue-200",accentText:"text-cyan-300 drop-shadow-[0_0_10px_rgba(103,232,249,0.8)]",inputBorder:"border-blue-400/30",shopSelectBorder:"border-cyan-400/50",buttonAction:"bg-cyan-900/80 hover:bg-cyan-800 text-white border border-cyan-500/40",buttonAdd:"bg-blue-700 hover:bg-blue-600 text-white shadow-[0_0_15px_rgba(59,130,246,0.5)]",modalBg:"bg-slate-900 border-cyan-500",activeEffects:["snow_effect"]},crimson:{name:"crimson",bodyBg:"bg-black",rawBg:"radial-gradient(circle, transparent 0%, #000000 80%), linear-gradient(to bottom, #450a0a 0%, #000000 100%)",cardBg:"bg-red-950/30 backdrop-blur-md border border-red-800/60 shadow-[0_0_40px_rgba(185,28,28,0.3)]",primaryText:"text-red-100 font-serif tracking-wide",secondaryText:"text-red-400",accentText:"text-red-600 font-bold drop-shadow-[0_0_10px_rgba(220,38,38,0.8)]",inputBorder:"border-red-900/60",shopSelectBorder:"border-red-500/40",buttonAction:"bg-red-950 hover:bg-red-900 text-white border border-red-800",buttonAdd:"bg-red-800 hover:bg-red-700 text-white shadow-lg",modalBg:"bg-black border-red-900",activeEffects:["mystic_fog"]},royal:{name:"royal",bodyBg:"bg-black",rawBg:"radial-gradient(ellipse at center, #713f12 0%, #312e81 40%, #020617 100%)",cardBg:"bg-indigo-950/60 backdrop-blur-xl border-2 border-yellow-500/70 shadow-[0_0_50px_rgba(234,179,8,0.4)]",primaryText:"text-indigo-50 font-serif",secondaryText:"text-yellow-200/60",accentText:"text-yellow-400 font-bold uppercase tracking-widest",inputBorder:"border-yellow-600/50",shopSelectBorder:"border-yellow-400",buttonAction:"bg-indigo-900 hover:bg-indigo-800 text-yellow-100 border border-yellow-600",buttonAdd:"bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-white border border-yellow-300 shadow-[0_0_20px_rgba(234,179,8,0.5)]",modalBg:"bg-indigo-950 border-yellow-500",activeEffects:["golden_dust"]},forest:{name:"forest",bodyBg:"bg-black",rawBg:"linear-gradient(180deg, #052e16 0%, #020617 100%)",cardBg:"bg-[#064e3b]/40 backdrop-blur-sm border border-green-700/50 shadow-2xl",primaryText:"text-emerald-100",secondaryText:"text-emerald-500",accentText:"text-green-400 drop-shadow-[0_0_10px_rgba(74,222,128,0.5)]",inputBorder:"border-green-800",shopSelectBorder:"border-green-500/40",buttonAction:"bg-green-900 hover:bg-green-800 text-white border border-green-700",buttonAdd:"bg-emerald-700 hover:bg-emerald-600 text-white shadow-lg",modalBg:"bg-gray-900 border-green-800",activeEffects:["mystic_fog","forest_flora"]},neon:{name:"neon",bodyBg:"bg-black",rawBg:"conic-gradient(from 0deg at 50% 50%, #0f172a 0%, #1e1b4b 50%, #0f172a 100%)",cardBg:"bg-gray-900/80 backdrop-blur-md border border-cyan-500/30",primaryText:"text-cyan-400 drop-shadow-[0_0_5px_rgba(34,211,238,0.8)]",secondaryText:"text-purple-400",accentText:"text-pink-500 drop-shadow-[0_0_5px_rgba(236,72,153,0.8)]",inputBorder:"border-cyan-800",shopSelectBorder:"border-pink-500/50",buttonAction:"bg-cyan-700 hover:bg-cyan-600 text-white shadow-[0_0_15px_rgba(6,182,212,0.5)]",buttonAdd:"bg-purple-700 hover:bg-purple-600 text-white shadow-[0_0_15px_rgba(168,85,247,0.5)]",modalBg:"bg-black/90 border-cyan-500",activeEffects:["rain"]},galaxy:{name:"galaxy",bodyBg:"bg-black",rawBg:"radial-gradient(circle at 20% 10%, #4c1d95 0%, #000000 40%), radial-gradient(circle at 80% 90%, #1e3a8a 0%, #000000 40%), linear-gradient(to bottom, #020617, #000000)",cardBg:"bg-[#0f172a]/70 backdrop-blur-xl border border-purple-500/30 shadow-[0_0_50px_rgba(124,58,237,0.2)]",primaryText:"text-purple-50 tracking-wide",secondaryText:"text-blue-200/70",accentText:"text-cyan-400 font-bold drop-shadow-[0_0_10px_rgba(34,211,238,0.8)]",inputBorder:"border-purple-800/60 focus:border-cyan-400",shopSelectBorder:"border-cyan-500/50",buttonAction:"bg-indigo-900/80 hover:bg-indigo-800 text-cyan-50 border border-indigo-500",buttonAdd:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white shadow-[0_0_20px_rgba(147,51,234,0.4)]",modalBg:"bg-[#020617] border-purple-500/40",activeEffects:["mystic_fog","shooting_stars"]},neko:{name:"neko",bodyBg:"theme-neko",rawBg:null,cardBg:"bg-[#1a0b2e]/80 backdrop-blur-xl border border-pink-500/50 shadow-[0_0_30px_rgba(236,72,153,0.4)]",primaryText:"text-pink-50 font-sans tracking-wide drop-shadow-md",secondaryText:"text-purple-300",accentText:"text-pink-400 font-bold drop-shadow-[0_0_10px_rgba(244,114,182,0.8)]",inputBorder:"border-pink-500/40 focus:border-pink-400 bg-black/40",shopSelectBorder:"border-pink-500/60",buttonAction:"bg-pink-600 hover:bg-pink-500 text-white border border-pink-400 shadow-[0_0_15px_rgba(236,72,153,0.6)]",buttonAdd:"bg-purple-700 hover:bg-purple-600 text-white border border-purple-400 shadow-lg",modalBg:"bg-[#120520] border-pink-500",activeEffects:["rain"]}},KS=(m,e,t,i)=>{const[c,l]=Mt.useState(""),s=Mt.useMemo(()=>YS(e),[e]);Mt.useEffect(()=>{const n=new Date,u=n.getMonth()+1,p=n.getDate(),f=`${String(u).padStart(2,"0")}-${String(p).padStart(2,"0")}`,d=m.find(y=>y.date===f);d?d.name==="Bianca"?l(" Feliz Cumpleaos Bianca! "):l(` Feliz Cumpleaos, ${d.name}! `):u===2&&p>=13&&p<=15?l(" Feliz San Valentn! "):l(u===10&&p===31?" Feliz Halloween! ":u===12&&p===25?" Feliz Navidad! ":"")},[m]);const h=Mt.useMemo(()=>i&&yp[i]?yp[i]:yp.default,[i]),a=s>=10;return{strategy:h,message:c,isUnlocked:a,weeklyHoursWorked:s}},QS={apiKey:"AIzaSyADgIdomw9VmyRWyDJrB5kIGwLXke0FSAo",authDomain:"task-manager-tl.firebaseapp.com",projectId:"task-manager-tl",storageBucket:"task-manager-tl.firebasestorage.app",messagingSenderId:"1042228665130",appId:"1:1042228665130:web:69f8244f16145e6cc65c53",measurementId:"G-WLH41TME67"},Lw=Jp(QS),nr=vw(Lw),ev=Zv(Lw);new Ti;const ZS=()=>{const[m,e]=Mt.useState(!1),[t,i]=Mt.useState(""),[c,l]=Mt.useState(""),[s,h]=Mt.useState(""),[a,n]=Mt.useState(!1),u=async()=>{h(""),n(!0);const f=new Ti;try{await O6(fu,f)}catch(d){console.error("Google Auth Error:",d),d.code==="auth/unauthorized-domain"?h(`Dominio no autorizado. Agrega "${window.location.hostname}" en Firebase Console.`):d.code==="auth/popup-closed-by-user"?h("Ventana cerrada por el usuario."):h("Error al iniciar con Google. Verifica la consola."),n(!1)}},p=async f=>{f.preventDefault(),h(""),n(!0);try{m?await l6(fu,t,c):await u6(fu,t,c)}catch(d){console.error("Email Auth Error:",d);let y="Error de autenticacin.";d.code==="auth/wrong-password"&&(y="Contrasea incorrecta."),d.code==="auth/user-not-found"&&(y="Usuario no encontrado."),d.code==="auth/email-already-in-use"&&(y="El correo ya est registrado."),d.code==="auth/weak-password"&&(y="La contrasea es muy dbil."),h(y),n(!1)}};return Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:Y.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-2xl shadow-2xl overflow-hidden border border-gray-700",children:[Y.jsxs("div",{className:"p-8",children:[Y.jsxs("div",{className:"text-center mb-8",children:[Y.jsx("h1",{className:"text-3xl font-extrabold text-white mb-2",children:"Bienvenido"}),Y.jsx("p",{className:"text-gray-400 text-sm",children:"Task Manager TL - Secured"})]}),Y.jsx("button",{onClick:u,disabled:a,className:"w-full bg-white text-gray-900 font-bold py-3 rounded-lg flex items-center justify-center gap-3 hover:bg-gray-100 transition shadow-md mb-6",children:a?"Cargando...":Y.jsxs(Y.Fragment,{children:[Y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Iniciar con Google"]})}),Y.jsxs("div",{className:"relative flex py-2 items-center mb-6",children:[Y.jsx("div",{className:"flex-grow border-t border-gray-600"}),Y.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs",children:"O usa tu correo"}),Y.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),Y.jsxs("form",{onSubmit:p,className:"space-y-4",children:[Y.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:f=>i(f.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),Y.jsx("input",{type:"password",placeholder:"Contrasea",value:c,onChange:f=>l(f.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s&&Y.jsx("p",{className:"text-red-400 text-xs text-center font-bold bg-red-900/50 p-2 rounded",children:s}),Y.jsx("button",{type:"submit",disabled:a,className:`w-full py-3 rounded-lg font-bold text-white transition shadow-lg ${m?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:a?"Procesando...":m?"Registrarse":"Iniciar Sesin"})]}),Y.jsx("div",{className:"mt-6 text-center",children:Y.jsx("button",{onClick:()=>e(!m),className:"text-sm text-gray-400 hover:text-white underline",children:m?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Regstrate"})})]}),Y.jsx("div",{className:"bg-gray-700/30 p-4 text-center border-t border-gray-700",children:Y.jsx("p",{className:"text-xs text-gray-500",children:" Tus datos se guardan seguros en Firebase"})})]})})},Bw="/themesTaskmanager/assets/logo-C6jEf1_1.png",JS=({coins:m,onOpenShop:e})=>{const t=typeof m=="number"?m:0;return Y.jsx("div",{className:"fixed top-5 left-1/2 transform -translate-x-1/2 z-50 animate-slideDown",children:Y.jsxs("div",{className:"flex items-center gap-1 p-1.5 bg-[#0f172a]/80 backdrop-blur-xl border border-white/10 rounded-full shadow-[0_8px_32px_rgba(0,0,0,0.5)]",children:[Y.jsxs("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-1.5 rounded-full border border-white/5 pr-6",children:[Y.jsx("div",{className:"w-8 h-8 rounded-full bg-[#d1c4e9] flex items-center justify-center overflow-hidden border border-white/20 shadow-inner",children:Y.jsx("img",{src:Bw,alt:"Coin",className:"w-full h-full object-cover transform scale-[1.7]"})}),Y.jsxs("div",{className:"flex flex-col",children:[Y.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:"Lofi Coins"}),Y.jsx("span",{className:"text-base font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-300 leading-tight tabular-nums",children:t.toLocaleString()})]})]}),Y.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),Y.jsxs("button",{onClick:e,className:"group relative w-10 h-10 flex items-center justify-center rounded-full bg-transparent hover:bg-white/10 transition-all duration-300",title:"Abrir Tienda",children:[Y.jsx("span",{className:"text-xl filter drop-shadow-md group-hover:scale-110 transition-transform",children:""}),Y.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-[10px] bg-black text-white px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Tienda"})]})]})})},tT=({themeClasses:m,celebrationMessage:e})=>{const t=m.name==="halloween"?"[text-shadow:0_0_8px_rgba(255,165,0,0.6)]":m.name==="party"?"[text-shadow:0_0_10px_rgba(217,70,239,0.7)]":m.name==="biancaBday"?"[text-shadow:0_0_12px_rgba(236,72,153,0.6)]":"",[i,c]=m.iconPair||[null,null],l=m.name==="lofi",s=()=>{confirm("Seguro que quieres cerrar sesin?")&&d6(fu)};return Y.jsxs("div",{className:"text-center mb-4 flex flex-col items-center relative",children:[Y.jsx("button",{onClick:s,className:"absolute top-0 right-0 text-xs bg-red-900/50 hover:bg-red-800 text-red-200 px-2 py-1 rounded border border-red-800 transition",children:"Salir"}),l&&Y.jsx("div",{className:"mb-2 animate-bounce-slow",children:Y.jsx("img",{src:"https://i.imgur.com/0YBh5gg.png",alt:"LofiDex Logo",className:"w-32 h-32 object-cover rounded-full border-4 border-[#C084FC] shadow-lg hover:scale-105 transition-transform duration-500",onError:h=>{h.target.onerror=null,h.target.style.display="none"}})}),Y.jsxs("h1",{className:`text-4xl font-extrabold transition-colors duration-500 ${m.primaryText} ${m.titleFont} ${t}`,children:[i&&Y.jsx("span",{className:"inline-block transform -rotate-12 scale-110 mr-2 text-3xl",children:i}),l?"Task Manager":"Task Manager TL",c&&Y.jsx("span",{className:"inline-block transform rotate-12 scale-110 ml-2 text-3xl",children:c})]}),l&&Y.jsx("div",{className:"mt-2 bg-[#FDFCDC] text-[#2E1065] px-3 py-1 rounded-full text-xs font-bold font-lofidex tracking-widest uppercase border border-[#C084FC] shadow-md flex items-center gap-1 animate-pulse",children:Y.jsx("span",{children:" Powered by LofiDex "})}),e&&Y.jsx("p",{className:`mt-2 text-lg font-semibold animate-pulse ${m.accentText}`,children:e})]})},eT=({message:m,resumeAction:e,dismissAction:t})=>{if(!m)return null;const i=m.taskIdToResume!==null,c=i?"bg-green-700/80":"bg-yellow-700/80",l=i?"border-green-400":"border-yellow-400";return Y.jsx("div",{className:"fixed top-0 left-0 w-full p-4 z-[60] backdrop-blur-sm transition-all duration-300 transform translate-y-0",children:Y.jsxs("div",{className:`max-w-xl mx-auto p-4 rounded-xl shadow-2xl flex flex-col sm:flex-row items-center justify-between gap-3 ${c} border ${l} text-white`,children:[Y.jsx("p",{className:"font-semibold text-center sm:text-left flex-grow",children:m.text}),Y.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[m.taskIdToResume!==null&&Y.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-bold rounded-full bg-blue-500 hover:bg-blue-600 transition duration-200 shadow-md",children:" Reanudar Tarea "}),Y.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-bold rounded-full bg-gray-600 hover:bg-gray-700 transition duration-200",children:" Cerrar "})]})]})})},rT=({addTask:m,addMultipleTasks:e,errorMessage:t,setErrorMessage:i,themeClasses:c})=>{const[l,s]=Mt.useState(""),[h,a]=Mt.useState([]),[n,u]=Mt.useState(""),[p,f]=Mt.useState(!1);Mt.useEffect(()=>{a([]),l&&f(!0)},[l]);const d=Mt.useMemo(()=>{let k=[...Dw];return l&&Wp[l]&&(k=[Wp[l],...k]),k},[l]),y=k=>{s(k.target.value)},v=k=>{l&&a(M=>M.includes(k)?M.filter(L=>L!==k):[...M,k])},g=k=>{if(k.preventDefault(),!l){i("Primero selecciona una tienda.");return}if(h.length===0){i("Selecciona al menos una tarea.");return}const M=[];h.forEach(L=>{let G=L;if(L==="OTHER_CUSTOM_TASK"){if(!n.trim())return;G=n.trim()}M.push({shopInput:l,taskName:G,quantity:null})}),e?e(M)&&(a([]),u(""),i("")):(M.forEach(L=>m(L)),a([]),i(""))},w="bg-gray-800 text-white",_=h.includes("OTHER_CUSTOM_TASK");return Y.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[Y.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[Y.jsxs("select",{value:l,onChange:y,className:`flex-1 px-5 py-3 border-2 ${c.cardBg} ${c.accentText} ${c.shopSelectBorder} rounded-full focus:outline-none transition-all font-semibold appearance-none cursor-pointer`,required:!0,children:[Y.jsx("option",{value:"",disabled:!0,className:w,children:"--- Seleccionar Tienda ---"}),jw.map(k=>Y.jsx("option",{value:k,className:w,children:k},k))]}),l&&Y.jsxs("div",{className:"flex flex-col gap-2 animate-fade-in",children:[Y.jsxs("div",{className:"flex justify-between items-center px-2",children:[Y.jsx("span",{className:`text-xs uppercase font-bold tracking-widest ${c.secondaryText} opacity-70`,children:"Tareas Disponibles"}),Y.jsx("button",{type:"button",onClick:()=>f(!p),className:`text-[10px] font-bold px-2 py-1 rounded border border-gray-600 ${c.secondaryText} hover:bg-gray-700 transition`,children:p?"OCULTAR ":"MOSTRAR "})]}),p&&Y.jsx("div",{className:`p-3 rounded-xl border ${c.inputBorder} ${c.cardBg} max-h-60 overflow-y-auto task-scroll`,children:Y.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[d.map(k=>{const M=h.includes(k);return Y.jsx("button",{type:"button",onClick:()=>v(k),className:`text-xs px-3 py-2 rounded-lg font-medium transition-all border 
                                                    ${M?"bg-green-600 text-white border-green-400 shadow-md transform scale-105":`bg-transparent ${c.secondaryText} ${c.inputBorder} hover:bg-gray-700 hover:text-white`}`,children:k},k)}),Y.jsx("button",{type:"button",onClick:()=>v("OTHER_CUSTOM_TASK"),className:`text-xs px-3 py-2 rounded-lg font-medium transition-all border 
                                            ${_?"bg-purple-600 text-white border-purple-400 shadow-md":"bg-transparent text-purple-300 border-purple-900/50 hover:bg-purple-900/20"}`,children:"+ Otra"})]})})]}),_&&p&&Y.jsx("input",{type:"text",value:n,onChange:k=>u(k.target.value),placeholder:"Nombre de la tarea personalizada...",className:`flex-1 px-5 py-3 border-2 ${c.cardBg} ${c.secondaryText} ${c.inputBorder} rounded-full focus:outline-none transition-all animate-pulse`,required:!0})]}),t&&Y.jsx("p",{className:"text-red-400 font-medium bg-red-900/50 p-3 rounded-xl text-center border border-red-500/30",children:t}),Y.jsx("button",{type:"submit",className:`px-6 py-3 rounded-full font-semibold transition duration-300 shadow-lg w-full sm:w-auto ${c.buttonAdd} disabled:opacity-50 disabled:cursor-not-allowed`,disabled:!l||h.length===0,children:h.length>1?`Agregar ${h.length} Tareas`:"Agregar Tarea"})]})},nT=({task:m,toggleTimer:e,deleteTask:t,updateTaskDetails:i,themeClasses:c,resetTaskTimer:l,celebrationThemeName:s})=>{const[h,a]=Mt.useState(!1),[n,u]=Mt.useState(""),[p,f]=Mt.useState(!1),[d,y]=Mt.useState(m.quantity||""),[v,g]=Mt.useState(!1),[w,_]=Mt.useState(m.shop),[k,M]=Mt.useState(!1),[L,G]=Mt.useState(m.rawTaskName),[F,j]=Mt.useState(!1),[U,q]=Mt.useState(!1),X=m.running?m.elapsedTime+(Date.now()-(m.lastTime||Date.now())):m.elapsedTime,$=m.isCustom;Mt.useEffect(()=>{h||u(du(X))},[X,h]);const R=()=>{const I=n.split(":").map(Number);if(I.length===3&&!I.some(isNaN)){const B=(I[0]*3600+I[1]*60+I[2])*1e3;i(m.id,{elapsedTime:B,lastTime:m.running?Date.now():null})}a(!1)},P=()=>{i(m.id,{quantity:parseInt(d)||0}),f(!1)},C=()=>{w&&i(m.id,{shop:w}),g(!1)},x=()=>{const I=L.trim()||"Tarea sin Nombre";i(m.id,{rawTaskName:I}),M(!1)},S=()=>{l(m.id),j(!1)},T=()=>{t(m.id),q(!1)},E=m.running?s==="biancaBday"?"border-l-4 border-pink-400":"border-l-4 border-green-500":"border-l-4 border-gray-600",N=m.running?"bg-blue-600 hover:bg-blue-500 text-white":"bg-gray-600 hover:bg-gray-500 text-gray-200";return Y.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 sm:gap-4 sm:p-4 rounded-xl shadow-md transition-all duration-300 ${c.itemBg} ${E}`,children:[Y.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-grow",children:[v?Y.jsx("select",{value:w,onChange:I=>_(I.target.value),onBlur:C,className:`px-2 py-1 border-b-2 bg-gray-900 focus:outline-none w-full sm:w-40 rounded ${c.accentText} border-pink-500 text-xs sm:text-sm font-bold`,autoFocus:!0,children:jw.map(I=>Y.jsx("option",{value:I,children:I},I))}):Y.jsx("span",{className:`font-bold text-xs sm:text-sm uppercase tracking-wider opacity-80 cursor-pointer hover:text-white transition-colors ${c.accentText}`,onClick:()=>{_(m.shop),g(!0)},title:"Clic para cambiar tienda",children:m.shop||"Sin Tienda"}),k&&$?Y.jsx("input",{type:"text",value:L,onChange:I=>G(I.target.value),onBlur:x,onKeyPress:I=>I.key==="Enter"&&x(),className:`font-medium text-base sm:text-lg border-b-2 bg-transparent focus:outline-none w-full ${c.secondaryText} border-pink-500`,autoFocus:!0}):Y.jsx("span",{className:`font-medium text-base sm:text-lg break-words ${$?"cursor-pointer hover:underline decoration-dashed":""} ${c.secondaryText}`,onClick:()=>{$&&(G(m.rawTaskName),M(!0))},children:m.rawTaskName||m.name}),Y.jsx("div",{className:"flex items-center gap-3 mt-1",children:p?Y.jsxs("div",{className:"flex items-center gap-1",children:[Y.jsx("span",{className:"text-xs text-gray-400",children:"Cant:"}),Y.jsx("input",{type:"number",value:d,onChange:I=>y(I.target.value),onBlur:P,onKeyPress:I=>I.key==="Enter"&&P(),className:`font-mono text-sm sm:text-base border-b-2 bg-gray-800/50 focus:outline-none w-16 sm:w-20 text-center rounded px-1 ${c.primaryText} border-blue-500`,autoFocus:!0})]}):Y.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/40 px-2 py-1 rounded-lg border border-gray-700/50",children:[Y.jsx("span",{className:`font-mono text-sm sm:text-base cursor-pointer hover:text-white transition-colors ${c.secondaryText}`,onClick:()=>{y(m.quantity||""),f(!0)},title:"Clic para editar cantidad manualmente",children:m.quantity?`${m.quantity} rdenes`:"0 rdenes"}),Y.jsx("button",{onClick:I=>{I.stopPropagation(),i(m.id,{quantity:(m.quantity||0)+1})},className:`text-[10px] font-bold px-2 py-0.5 rounded shadow-sm transition-transform active:scale-95 ${N}`,title:"Sumar 1 orden",children:"+1"})]})})]}),Y.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-4 w-full sm:w-auto flex-shrink-0 pt-2 sm:pt-0 border-t border-gray-700/30 sm:border-none mt-2 sm:mt-0",children:[h?Y.jsx("input",{type:"text",value:n,onChange:I=>u(I.target.value),onBlur:R,onKeyPress:I=>I.key==="Enter"&&R(),placeholder:"HH:MM:SS",className:`font-mono text-xl sm:text-2xl border-b-2 bg-gray-900 focus:outline-none w-28 sm:w-32 text-center rounded ${c.primaryText} border-blue-500 tracking-widest`,autoFocus:!0}):Y.jsx("span",{className:`font-mono text-xl sm:text-2xl cursor-pointer hover:scale-105 transition-transform tracking-widest ${m.running?"text-green-400 font-bold":c.primaryText}`,onClick:()=>{u(du(X)),a(!0)},title:"Clic para editar tiempo manualmente",children:du(X)}),Y.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[Y.jsx("button",{onClick:()=>e(m.id),className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-white font-bold transition-all shadow-lg active:scale-95 ${m.running?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-green-600 hover:bg-green-500"}`,title:m.running?"Pausar":"Iniciar",children:m.running?Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Y.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Y.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),Y.jsxs("div",{className:"flex flex-col gap-1",children:[F?Y.jsx("button",{onClick:S,className:"text-red-500 hover:text-red-400 text-xs font-bold bg-red-900/30 px-2 py-1 rounded",title:"Confirmar Reset",children:"Conf?"}):Y.jsx("button",{onClick:()=>{j(!0),q(!1)},className:"text-gray-500 hover:text-gray-300 transition",title:"Reiniciar",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m-15.357-2A8.001 8.001 0 0019.418 15m0 0H15"})})}),U?Y.jsx("button",{onClick:T,className:"text-red-500 hover:text-red-400 text-xs font-bold bg-red-900/30 px-2 py-1 rounded",title:"Confirmar Eliminar",children:"Borrar?"}):Y.jsx("button",{onClick:()=>{q(!0),j(!1)},className:"text-gray-500 hover:text-red-500 transition",title:"Eliminar",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},iT=({reports:m=[],selectedDate:e,onSelectDate:t,themeClasses:i})=>{const[c,l]=Mt.useState(new Date),s=Mt.useMemo(()=>{const d=c.getFullYear(),y=c.getMonth();return new Date(d,y+1,0).getDate()},[c]),h=Mt.useMemo(()=>{const d=c.getFullYear(),y=c.getMonth();return new Date(d,y,1).getDay()},[c]),a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["D","L","M","M","J","V","S"],u=()=>{l(new Date(c.getFullYear(),c.getMonth()-1,1))},p=()=>{l(new Date(c.getFullYear(),c.getMonth()+1,1))},f=()=>{const d=[];for(let y=0;y<h;y++)d.push(Y.jsx("div",{className:"h-10 w-10"},`empty-${y}`));for(let y=1;y<=s;y++){const v=new Date(c.getFullYear(),c.getMonth(),y),g=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`,w=e===g,_=Array.isArray(m)&&m.some(G=>G.id===g),k=g===Dh();let M="hover:bg-gray-600/50",L=i.secondaryText;w?(M=i.calendarActive||"bg-blue-600 text-white",L="text-white font-bold"):k&&(M="border border-gray-500 bg-gray-700/50"),d.push(Y.jsxs("div",{onClick:()=>t(g),className:`h-10 w-10 flex flex-col items-center justify-center rounded-full cursor-pointer transition-all relative ${M} ${L}`,children:[Y.jsx("span",{className:"text-sm z-10",children:y}),_&&Y.jsx("div",{className:`absolute bottom-1 w-1.5 h-1.5 rounded-full ${i.calendarDot||"bg-yellow-400"}`})]},y))}return d};return Y.jsxs("div",{className:`p-4 rounded-xl shadow-lg ${i.itemBg} transition-colors duration-500`,children:[Y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Y.jsx("button",{onClick:u,className:`p-1 rounded-full hover:bg-gray-600/50 ${i.primaryText}`,children:"<"}),Y.jsxs("span",{className:`font-bold text-lg ${i.primaryText}`,children:[a[c.getMonth()]," ",c.getFullYear()]}),Y.jsx("button",{onClick:p,className:`p-1 rounded-full hover:bg-gray-600/50 ${i.primaryText}`,children:">"})]}),Y.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:n.map(d=>Y.jsx("div",{className:`text-xs font-bold ${i.secondaryText} opacity-70`,children:d},d))}),Y.jsx("div",{className:"grid grid-cols-7 gap-1 justify-items-center",children:f()})]})},sT=({reports:m=[],selectedDates:e,onToggleDate:t,onBatchUpdate:i,themeClasses:c})=>{const[l,s]=Mt.useState(new Date),h=Mt.useMemo(()=>{const w=l.getFullYear(),_=l.getMonth();return new Date(w,_+1,0).getDate()},[l]),a=Mt.useMemo(()=>{const w=l.getFullYear(),_=l.getMonth();return new Date(w,_,1).getDay()},[l]),n=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u=["D","L","M","M","J","V","S"],p=()=>{s(new Date(l.getFullYear(),l.getMonth()-1,1))},f=()=>{s(new Date(l.getFullYear(),l.getMonth()+1,1))},d=()=>{const w=l.getFullYear(),_=l.getMonth(),k=[];for(let M=1;M<=h;M++)k.push(`${w}-${String(_+1).padStart(2,"0")}-${String(M).padStart(2,"0")}`);return k},y=()=>{i&&i(d(),"add")},v=()=>{i&&i(d(),"remove")},g=()=>{const w=[];for(let _=0;_<a;_++)w.push(Y.jsx("div",{className:"h-10 w-10"},`empty-${_}`));for(let _=1;_<=h;_++){const k=new Date(l.getFullYear(),l.getMonth(),_),M=`${k.getFullYear()}-${String(k.getMonth()+1).padStart(2,"0")}-${String(k.getDate()).padStart(2,"0")}`,L=e.includes(M),G=Array.isArray(m)&&m.some(U=>U.id===M);let F="hover:bg-gray-600/50",j=c.secondaryText;L&&(F="bg-green-600 text-white font-bold border border-green-400",j="text-white"),w.push(Y.jsxs("div",{onClick:()=>t(M),className:`h-10 w-10 flex flex-col items-center justify-center rounded-full cursor-pointer transition-all relative ${F} ${j}`,children:[Y.jsx("span",{className:"text-sm z-10",children:_}),G&&Y.jsx("div",{className:`absolute bottom-1 w-1.5 h-1.5 rounded-full ${L?"bg-white":c.calendarDot||"bg-yellow-400"}`})]},_))}return w};return Y.jsxs("div",{className:`p-4 rounded-xl shadow-lg border transition-colors duration-500 ${c.cardBg} ${c.inputBorder}`,children:[Y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Y.jsx("button",{onClick:p,className:`p-1 rounded-full hover:bg-gray-600/50 ${c.primaryText}`,children:"<"}),Y.jsxs("span",{className:`font-bold text-lg ${c.primaryText}`,children:[n[l.getMonth()]," ",l.getFullYear()]}),Y.jsx("button",{onClick:f,className:`p-1 rounded-full hover:bg-gray-600/50 ${c.primaryText}`,children:">"})]}),Y.jsxs("div",{className:"flex gap-2 mb-3 justify-center",children:[Y.jsx("button",{onClick:y,className:"text-xs px-3 py-1 bg-green-700 hover:bg-green-600 text-white rounded-full transition",children:"Todos"}),Y.jsx("button",{onClick:v,className:"text-xs px-3 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-full transition",children:"Ninguno"})]}),Y.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:u.map(w=>Y.jsx("div",{className:`text-xs font-bold opacity-70 ${c.secondaryText}`,children:w},w))}),Y.jsx("div",{className:"grid grid-cols-7 gap-1 justify-items-center",children:g()})]})},rv=({content:m,themeClasses:e,placeholder:t})=>{const[i,c]=Mt.useState(!1),l=()=>{if(m)if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(m).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)});else{const s=document.createElement("textarea");s.value=m,document.body.appendChild(s),s.select();try{document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}catch(h){console.error("Fallback copy failed",h)}document.body.removeChild(s)}};return Y.jsxs("div",{className:"relative w-full group",children:[Y.jsx("div",{className:`w-full p-5 rounded-xl font-mono text-sm whitespace-pre-wrap transition-colors duration-500 ${e.itemBg} ${e.secondaryText} min-h-[100px]`,children:m||Y.jsx("p",{className:"text-center opacity-70 italic pt-8",children:t})}),m&&Y.jsx("button",{onClick:l,className:`absolute top-2 right-2 px-3 py-1 text-xs font-bold rounded transition-all duration-200 shadow-md flex items-center gap-1 ${i?"bg-green-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,title:"Copiar reporte",children:i?Y.jsxs(Y.Fragment,{children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:Y.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Copiado!"]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copiar"]})})]})},aT=({isUnlocked:m,weeklyHours:e,targetHours:t,setTargetHours:i,onClaimBonus:c,bonusClaimed:l})=>{const s=Math.min(e/t*100,100),h=e>=t;return Y.jsxs("div",{className:"mb-6 bg-black/40 rounded-xl p-4 border border-gray-700/50 backdrop-blur-sm shadow-inner transition-all hover:border-gray-600/50",children:[Y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Meta Semanal"}),Y.jsx("input",{type:"number",value:t,onChange:a=>i(Number(a.target.value)),className:"w-12 bg-gray-800 border border-gray-600 rounded text-center text-xs text-white focus:border-purple-500 outline-none transition-colors",min:"1"}),Y.jsx("span",{className:"text-xs text-gray-500",children:"hrs"})]}),Y.jsxs("div",{className:"text-xs font-mono text-white",children:[Y.jsx("span",{className:h?"text-green-400 font-bold":"",children:e.toFixed(1)}),Y.jsx("span",{className:"text-gray-500",children:" / "}),Y.jsx("span",{children:t})," hrs"]})]}),Y.jsx("div",{className:"h-3 w-full bg-gray-800 rounded-full overflow-hidden border border-gray-700 mb-3 relative group shadow-inner",children:Y.jsx("div",{className:`h-full transition-all duration-1000 ease-out relative ${h?"bg-gradient-to-r from-green-500 to-emerald-400":"bg-gradient-to-r from-purple-600 to-blue-500"}`,style:{width:`${s}%`},children:Y.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white/20 animate-pulse"})})}),Y.jsx("div",{className:"flex justify-center items-center mt-2",children:h?l?Y.jsxs("div",{className:"text-[10px] sm:text-xs font-bold text-green-400 flex items-center gap-1 bg-green-900/20 px-4 py-1.5 rounded-full border border-green-500/30 animate-fade-in",children:[Y.jsx("span",{children:""})," Recompensa Semanal Cobrada"]}):Y.jsxs("button",{onClick:c,className:"w-full sm:w-auto text-xs font-bold text-white bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 px-6 py-2 rounded-full shadow-[0_0_15px_rgba(245,158,11,0.4)] animate-bounce border border-yellow-300/50 transition-all hover:scale-105 active:scale-95 flex justify-center items-center gap-2",children:[Y.jsx("span",{children:""})," RECLAMAR 100 MONEDAS!"]}):Y.jsxs("span",{className:"text-[10px] text-gray-500 italic flex items-center gap-1",children:[Y.jsx("span",{children:""})," Faltan ",(t-e).toFixed(1)," hrs para tu bonus."]})})]})},oT=({onClick:m})=>{const[e,t]=Mt.useState(!0);return Mt.useEffect(()=>{const i=setTimeout(()=>t(!1),1e4);return()=>clearTimeout(i)},[]),Y.jsxs("div",{className:"fixed bottom-4 left-4 sm:bottom-6 sm:left-6 z-50 group",children:[e&&Y.jsx("div",{className:"absolute -top-3 -right-4 bg-red-600 text-white text-[10px] font-extrabold px-2 py-0.5 rounded-full shadow-lg wiggle-animation z-50 border-2 border-white tracking-widest transition-opacity duration-1000",children:" NUEVO! "}),Y.jsxs("button",{onClick:m,className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-600 hover:bg-green-500 text-white shadow-2xl flex items-center justify-center border-4 border-gray-900 transition-transform duration-300 active:scale-95 hover:scale-110 overflow-hidden",title:"Calcular Salario",children:[Y.jsx("div",{className:"shine-bar"}),Y.jsx("span",{className:"text-xl sm:text-3xl font-bold relative z-10",children:"$"})]})]})},lT=({tasks:m,syncTasksTime:e,themeClasses:t})=>{const[i,c]=Mt.useState(""),[l,s]=Mt.useState("all"),[h,a]=Mt.useState(""),n=m.reduce((w,_)=>w+_.elapsedTime,0),p=XS(i)-n;Mt.useEffect(()=>{l==="single"&&!h&&m.length>0&&a(m[0].id)},[l,m,h]);const f=()=>{Math.abs(p)<1e3||e(i,l,h)},d=p<0,y=d?"text-red-400":"text-green-400",v=d?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700",g=d?"Restar Tiempo":"Aadir Tiempo";return Y.jsxs("div",{className:"bg-gray-900/50 p-4 rounded-xl border border-gray-700",children:[Y.jsx("h3",{className:`text-sm font-bold uppercase tracking-widest mb-4 text-center ${t.secondaryText}`,children:"Sincronizador de Tiempo"}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Total en App:"}),Y.jsx("div",{className:"text-xl font-mono text-white font-bold tracking-wider",children:du(n)})]}),Y.jsxs("div",{children:[Y.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Timer Webwork (HH:MM):"}),Y.jsx("input",{type:"text",value:i,onChange:w=>c(w.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded px-3 py-1 text-white focus:border-blue-500 outline-none font-mono text-lg",placeholder:"Ej: 10:00"})]})]}),Y.jsxs("div",{className:`border rounded-lg p-3 transition-colors duration-300 ${d?"border-red-500/30 bg-red-500/10":"border-blue-500/30 bg-blue-500/10"}`,children:[Y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[Y.jsx("span",{className:"text-sm text-gray-400 font-semibold",children:"Diferencia:"}),Y.jsxs("span",{className:`text-lg font-bold font-mono ${y}`,children:[p>0?"+":"",du(p)]})]}),Y.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1 mb-3",children:[Y.jsx("button",{onClick:()=>s("single"),className:`flex-1 py-1.5 text-xs font-bold rounded transition-all ${l==="single"?"bg-blue-600 text-white shadow":"text-gray-400 hover:text-white"}`,children:"Una Tarea"}),Y.jsx("button",{onClick:()=>s("all"),className:`flex-1 py-1.5 text-xs font-bold rounded transition-all ${l==="all"?"bg-purple-600 text-white shadow":"text-gray-400 hover:text-white"}`,children:"Todas"})]}),l==="single"&&Y.jsx("select",{value:h,onChange:w=>a(w.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded px-2 py-2 text-xs text-white mb-3 outline-none focus:border-blue-500",children:m.map(w=>Y.jsx("option",{value:w.id,children:w.name},w.id))}),Y.jsx("div",{className:"text-[10px] text-gray-500 text-center mb-3 italic",children:l==="all"?`Se repartirn ${p>0?"+":""}${Math.round(p/1e3/60)} min uniformemente.`:"Se ajustar solo a la tarea seleccionada."}),Y.jsx("button",{onClick:f,disabled:Math.abs(p)<1e3,className:`w-full py-2.5 rounded-lg font-bold text-white transition-all shadow-lg ${v} disabled:opacity-50 disabled:cursor-not-allowed`,children:g})]})]})},uT=({isOpen:m,onClose:e,onGenerate:t,tasks:i,syncTasksTime:c,themeClasses:l,selectedReportDate:s,setSelectedReportDate:h,pastReports:a=[]})=>{if(!m)return null;const[n,u]=Mt.useState(!1),p=d=>{if(!d)return"DD/MM/YYYY";const[y,v,g]=d.split("-");return`${g}/${v}/${y}`},f=()=>{Array.isArray(a)&&a.some(y=>y.id===s)?u(!0):t()};return Y.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:Y.jsx("div",{className:`relative w-full max-w-md p-6 rounded-2xl shadow-2xl ${l.modalBg||"bg-gray-800 border-gray-600"} border-2 modal-content max-h-[90vh] overflow-y-auto`,children:n?Y.jsxs("div",{className:"flex flex-col items-center text-center animate-pulse",children:[Y.jsx("div",{className:"bg-red-500/20 p-4 rounded-full mb-3 border-2 border-red-500",children:""}),Y.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Cuidado!"}),Y.jsxs("p",{className:"text-gray-300 mb-6",children:["Ya existe un reporte para el ",Y.jsx("span",{className:"font-bold text-white",children:p(s)}),". Si continuas, se borrarn los datos anteriores."]}),Y.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[Y.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl font-bold text-white bg-red-600 hover:bg-red-700 transition shadow-lg",children:"S, Sobreescribir"}),Y.jsx("button",{onClick:()=>u(!1),className:"w-full py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition",children:"Cancelar"})]})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("h2",{className:`text-xl font-bold mb-4 text-center ${l.primaryText}`,children:"Preparar Reporte"}),Y.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[Y.jsx("label",{className:`block text-sm font-semibold mb-2 text-center ${l.secondaryText}`,children:"Fecha del Reporte:"}),Y.jsxs("div",{className:"relative group w-full cursor-pointer",children:[Y.jsxs("div",{className:"neon-date-capsule flex items-center justify-center w-full px-6 py-4 rounded-full bg-black/40 border border-cyan-500/50",children:[Y.jsx("span",{className:"text-white text-xl font-mono uppercase tracking-widest z-10",children:p(s)}),Y.jsx("span",{className:"absolute right-6 text-cyan-400 opacity-70 z-10 pointer-events-none text-lg",children:""})]}),Y.jsx("input",{type:"date",value:s,onChange:d=>h(d.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),Y.jsx("div",{className:"absolute inset-0 rounded-full border border-cyan-500/30 blur-sm group-hover:blur-md transition-all -z-10"})]})]}),Y.jsx("hr",{className:`border-t ${l.inputBorder} mb-6 opacity-50`}),Y.jsx("div",{className:"mb-6",children:Y.jsx(lT,{tasks:i,syncTasksTime:c,themeClasses:l})}),Y.jsxs("div",{className:"flex gap-3 mt-4",children:[Y.jsx("button",{onClick:f,className:`flex-1 py-3 rounded-full font-bold text-white shadow-lg ${l.buttonAction}`,children:" Confirmar y Generar "}),Y.jsx("button",{onClick:e,className:"px-6 py-3 rounded-full font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:" Cancelar "})]})]})})})};function nh(m){throw new Error('Could not dynamically require "'+m+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vp={exports:{}};var nv;function cT(){return nv||(nv=1,(function(m,e){(function(t){m.exports=t()})((function(){return(function t(i,c,l){function s(n,u){if(!c[n]){if(!i[n]){var p=typeof nh=="function"&&nh;if(!u&&p)return p(n,!0);if(h)return h(n,!0);var f=new Error("Cannot find module '"+n+"'");throw f.code="MODULE_NOT_FOUND",f}var d=c[n]={exports:{}};i[n][0].call(d.exports,(function(y){return s(i[n][1][y]||y)}),d,d.exports,t,i,c,l)}return c[n].exports}for(var h=typeof nh=="function"&&nh,a=0;a<l.length;a++)s(l[a]);return s})({1:[function(t,i,c){const l=t("fs"),s=t("fast-csv"),h=t("dayjs/plugin/customParseFormat"),a=t("dayjs/plugin/utc"),n=t("dayjs").extend(h).extend(a),u=t("../utils/stream-buf"),{fs:{exists:p}}=t("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};i.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,y){if(y=y||{},!await p(d))throw new Error("File not found: "+d);const v=l.createReadStream(d),g=await this.read(v,y);return v.close(),g}read(d,y){return y=y||{},new Promise((v,g)=>{const w=this.workbook.addWorksheet(y.sheetName),_=y.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],k=y.map||function(L){if(L==="")return null;const G=Number(L);if(!Number.isNaN(G)&&G!==1/0)return G;const F=_.reduce((U,q)=>{if(U)return U;const X=n(L,q,!0);return X.isValid()?X:null},null);if(F)return new Date(F.valueOf());const j=f[L];return j!==void 0?j:L},M=s.parse(y.parserOptions).on("data",L=>{w.addRow(L.map(k))}).on("end",()=>{M.emit("worksheet",w)});M.on("worksheet",v).on("error",g),d.pipe(M)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,y){return new Promise((v,g)=>{y=y||{};const w=this.workbook.getWorksheet(y.sheetName||y.sheetId),_=s.format(y.formatterOptions);d.on("finish",()=>{v()}),_.on("error",g),_.pipe(d);const{dateFormat:k,dateUTC:M}=y,L=y.map||(j=>{if(j){if(j.text||j.hyperlink)return j.hyperlink||j.text||"";if(j.formula||j.result)return j.result||"";if(j instanceof Date)return k?M?n.utc(j).format(k):n(j).format(k):M?n.utc(j).format():n(j).format();if(j.error)return j.error;if(typeof j=="object")return JSON.stringify(j)}return j}),G=y.includeEmptyRows===void 0||y.includeEmptyRows;let F=1;w&&w.eachRow((j,U)=>{if(G)for(;F++<U-1;)_.write([]);const{values:q}=j;q.shift(),_.write(q.map(L)),F=U}),_.end()})}writeFile(d,y){const v={encoding:(y=y||{}).encoding||"utf8"},g=l.createWriteStream(d,v);return this.write(g,y)}async writeBuffer(d){const y=new u;return await this.write(y,d),y.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,i,c){const l=t("../utils/col-cache");class s{constructor(a,n){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=a,n)if(typeof n=="string"){const p=l.decodeAddress(n);this.nativeCol=p.col+u,this.nativeColOff=0,this.nativeRow=p.row+u,this.nativeRowOff=0}else n.nativeCol!==void 0?(this.nativeCol=n.nativeCol||0,this.nativeColOff=n.nativeColOff||0,this.nativeRow=n.nativeRow||0,this.nativeRowOff=n.nativeRowOff||0):n.col!==void 0?(this.col=n.col+u,this.row=n.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(a){return a instanceof s||a==null?a:new s(a)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(a){this.nativeCol=Math.floor(a),this.nativeColOff=Math.floor((a-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(a){this.nativeRow=Math.floor(a),this.nativeRowOff=Math.floor((a-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(a){this.nativeCol=a.nativeCol,this.nativeColOff=a.nativeColOff,this.nativeRow=a.nativeRow,this.nativeRowOff=a.nativeRowOff}}i.exports=s},{"../utils/col-cache":19}],3:[function(t,i,c){const l=t("../utils/col-cache"),s=t("../utils/under-dash"),h=t("./enums"),{slideFormula:a}=t("../utils/shared-formula"),n=t("./note");class u{constructor(d,y,v){if(!d||!y)throw new Error("A Cell needs a Row");this._row=d,this._column=y,l.validateAddress(v),this._address=v,this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,y.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,y,v){const g=d&&d.numFmt||y&&y.numFmt;g&&(v.numFmt=g);const w=d&&d.font||y&&y.font;w&&(v.font=w);const _=d&&d.alignment||y&&y.alignment;_&&(v.alignment=_);const k=d&&d.border||y&&y.border;k&&(v.border=k);const M=d&&d.fill||y&&y.fill;M&&(v.fill=M);const L=d&&d.protection||y&&y.protection;return L&&(v.protection=L),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,y){this._value.release(),this._value=p.create(u.Types.Merge,this,d),y||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=p.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=p.create(p.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new n(d)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=p.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:y}=this.workbook;y.removeAllNames(this.fullAddress),d.forEach(v=>{y.addEx(this.fullAddress,v)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){this._value.release(),this._value=p.create(d.type,this),this._value.model=d,d.comment&&d.comment.type==="note"&&(this._comment=n.fromModel(d.comment)),d.style?this.style=d.style:this.style={}}}u.Types=h.ValueType;const p={getType:f=>f==null?u.Types.Null:f instanceof String||typeof f=="string"?u.Types.String:typeof f=="number"?u.Types.Number:typeof f=="boolean"?u.Types.Boolean:f instanceof Date?u.Types.Date:f.text&&f.hyperlink?u.Types.Hyperlink:f.formula||f.sharedFormula?u.Types.Formula:f.richText?u.Types.RichText:f.sharedString?u.Types.SharedString:f.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(f){this.model={address:f.address,type:u.Types.Null}}get value(){return null}set value(f){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(f,d){this.cell=f,this.model={address:f.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(f){const d={},y=v=>{const g=f[v];g&&(d[v]=g)};return y("formula"),y("result"),y("ref"),y("shareType"),y("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(p.getType(f)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?h.FormulaType.Master:this.model.sharedFormula?h.FormulaType.Shared:h.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return u.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?h.ValueType.Null:f instanceof String||typeof f=="string"?h.ValueType.String:typeof f=="number"?h.ValueType.Number:f instanceof Date?h.ValueType.Date:f.text&&f.hyperlink?h.ValueType.Hyperlink:f.formula?h.ValueType.Formula:h.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,d=f.findCell(this.model.sharedFormula);this._translatedFormula=d&&a(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof u?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,d)=>(f[d.t]=d.f,f),[]),create(f,d,y){const v=this.types[f];if(!v)throw new Error("Could not create Value of type "+f);return new v(d,y)}};i.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,i,c){const l=t("../utils/under-dash"),s=t("./enums"),h=t("../utils/col-cache");class a{constructor(u,p,f){this._worksheet=u,this._number=p,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return h.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((p,f)=>{this._worksheet.getCell(f+1,this.number).value=p})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&l.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,p){const f=this.number;p||(p=u,u=null),this._worksheet.eachRow(u,(d,y)=>{p(d.getCell(f),y)})}get values(){const u=[];return this.eachCell((p,f)=>{p&&p.type!==s.ValueType.Null&&(u[f]=p.value)}),u}set values(u){if(!u)return;const p=this.number;let f=0;u.hasOwnProperty("0")&&(f=1),u.forEach((d,y)=>{this._worksheet.getCell(y+f,p).value=d})}_applyStyle(u,p){return this.style[u]=p,this.eachCell(f=>{f[u]=p}),p}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const p=[];let f=null;return u&&u.forEach((d,y)=>{d.isDefault?f&&(f=null):f&&d.equivalentTo(f)?f.max=y+1:(f={min:y+1,max:y+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},p.push(f))}),p.length?p:void 0}static fromModel(u,p){const f=[];let d=1,y=0;for(p=(p=p||[]).sort((function(v,g){return v.min-g.min}));y<p.length;){const v=p[y++];for(;d<v.min;)f.push(new a(u,d++));for(;d<=v.max;)f.push(new a(u,d++,v))}return f.length?f:null}}i.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,i,c){i.exports=class{constructor(l){this.model=l||{}}add(l,s){return this.model[l]=s}find(l){return this.model[l]}remove(l){this.model[l]=void 0}}},{}],6:[function(t,i,c){const l=t("../utils/under-dash"),s=t("../utils/col-cache"),h=t("../utils/cell-matrix"),a=t("./range"),n=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;i.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new h)}add(u,p){const f=s.decodeEx(u);this.addEx(f,p)}addEx(u,p){const f=this.getMatrix(p);if(u.top)for(let d=u.left;d<=u.right;d++)for(let y=u.top;y<=u.bottom;y++){const v={sheetName:u.sheetName,address:s.n2l(d)+y,row:y,col:d};f.addCellEx(v)}else f.addCellEx(u)}remove(u,p){const f=s.decodeEx(u);this.removeEx(f,p)}removeEx(u,p){this.getMatrix(p).removeCellEx(u)}removeAllNames(u){l.each(this.matrixMap,p=>{p.removeCellEx(u)})}forEach(u){l.each(this.matrixMap,(p,f)=>{p.forEach(d=>{u(f,d)})})}getNames(u){return this.getNamesEx(s.decodeEx(u))}getNamesEx(u){return l.map(this.matrixMap,(p,f)=>p.findCellEx(u)&&f).filter(Boolean)}_explore(u,p){p.mark=!1;const{sheetName:f}=p,d=new a(p.row,p.col,p.row,p.col,f);let y,v;function g(_,k){const M=u.findCellAt(f,_,p.col);return!(!M||!M.mark)&&(d[k]=_,M.mark=!1,!0)}for(v=p.row-1;g(v,"top");v--);for(v=p.row+1;g(v,"bottom");v++);function w(_,k){const M=[];for(v=d.top;v<=d.bottom;v++){const L=u.findCellAt(f,v,_);if(!L||!L.mark)return!1;M.push(L)}d[k]=_;for(let L=0;L<M.length;L++)M[L].mark=!1;return!0}for(y=p.col-1;w(y,"left");y--);for(y=p.col+1;w(y,"right");y++);return d}getRanges(u,p){return(p=p||this.matrixMap[u])?(p.forEach(f=>{f.mark=!0}),{name:u,ranges:p.map(f=>f.mark&&this._explore(p,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,p){u.forEachInSheet(p,(f,d,y)=>{f&&(f.row===d&&f.col===y||(f.row=d,f.col=y,f.address=s.n2l(y)+d))})}spliceRows(u,p,f,d){l.each(this.matrixMap,y=>{y.spliceRows(u,p,f,d),this.normaliseMatrix(y,u)})}spliceColumns(u,p,f,d){l.each(this.matrixMap,y=>{y.spliceColumns(u,p,f,d),this.normaliseMatrix(y,u)})}get model(){return l.map(this.matrixMap,(u,p)=>this.getRanges(p,u)).filter(u=>u.ranges.length)}set model(u){const p=this.matrixMap={};u.forEach(f=>{const d=p[f.name]=new h;f.ranges.forEach(y=>{n.test(y.split("!").pop()||"")&&d.addCell(y)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,i,c){i.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,i,c){const l=t("../utils/col-cache"),s=t("./anchor");i.exports=class{constructor(h,a){this.worksheet=h,this.model=a}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(h){let{type:a,imageId:n,range:u,hyperlinks:p}=h;if(this.type=a,this.imageId=n,a==="image")if(typeof u=="string"){const f=l.decode(u);this.range={tl:new s(this.worksheet,{col:f.left,row:f.top},-1),br:new s(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,u.tl,0),br:u.br&&new s(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:p||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,i,c){const l=t("../utils/under-dash");class s{constructor(a){this.note=a}get model(){let a=null;return typeof this.note==="string"?a={type:"note",note:{texts:[{text:this.note}]}}:a={type:"note",note:this.note},l.deepMerge({},s.DEFAULT_CONFIGS,a)}set model(a){const{note:n}=a,{texts:u}=n;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=n}static fromModel(a){const n=new s;return n.model=a,n}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},i.exports=s},{"../utils/under-dash":26}],10:[function(t,i,c){const l=t("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(a,n,u,p,f){if(arguments.length<4){const d=l.decodeAddress(a),y=l.decodeAddress(n);this.model={top:Math.min(d.row,y.row),left:Math.min(d.col,y.col),bottom:Math.max(d.row,y.row),right:Math.max(d.col,y.col),sheetName:u},this.setTLBR(d.row,d.col,y.row,y.col,f)}else this.model={top:Math.min(a,u),left:Math.min(n,p),bottom:Math.max(a,u),right:Math.max(n,p),sheetName:f}}decode(a){switch(a.length){case 5:this.setTLBR(a[0],a[1],a[2],a[3],a[4]);break;case 4:this.setTLBR(a[0],a[1],a[2],a[3]);break;case 3:this.setTLBR(a[0],a[1],a[2]);break;case 2:this.setTLBR(a[0],a[1]);break;case 1:{const n=a[0];if(n instanceof s)this.model={top:n.model.top,left:n.model.left,bottom:n.model.bottom,right:n.model.right,sheetName:n.sheetName};else if(n instanceof Array)this.decode(n);else if(n.top&&n.left&&n.bottom&&n.right)this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName};else{const u=l.decodeEx(n);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+a.length)}}get top(){return this.model.top||1}set top(a){this.model.top=a}get left(){return this.model.left||1}set left(a){this.model.left=a}get bottom(){return this.model.bottom||1}set bottom(a){this.model.bottom=a}get right(){return this.model.right||1}set right(a){this.model.right=a}get sheetName(){return this.model.sheetName}set sheetName(a){this.model.sheetName=a}get _serialisedSheetName(){const{sheetName:a}=this.model;return a?/^[a-zA-Z0-9]*$/.test(a)?a+"!":`'${a}'!`:""}expand(a,n,u,p){(!this.model.top||a<this.top)&&(this.top=a),(!this.model.left||n<this.left)&&(this.left=n),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||p>this.right)&&(this.right=p)}expandRow(a){if(a){const{dimensions:n,number:u}=a;n&&this.expand(u,n.min,u,n.max)}}expandToAddress(a){const n=l.decodeEx(a);this.expand(n.row,n.col,n.row,n.col)}get tl(){return l.n2l(this.left)+this.top}get $t$l(){return`$${l.n2l(this.left)}$${this.top}`}get br(){return l.n2l(this.right)+this.bottom}get $b$r(){return`$${l.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&!(a.bottom<this.top)&&!(a.top>this.bottom)&&!(a.right<this.left)&&!(a.left>this.right)}contains(a){const n=l.decodeEx(a);return this.containsEx(n)}containsEx(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&a.row>=this.top&&a.row<=this.bottom&&a.col>=this.left&&a.col<=this.right}forEachAddress(a){for(let n=this.left;n<=this.right;n++)for(let u=this.top;u<=this.bottom;u++)a(l.encodeAddress(u,n),u,n)}}i.exports=s},{"../utils/col-cache":19}],11:[function(t,i,c){const l=t("../utils/under-dash"),s=t("./enums"),h=t("../utils/col-cache"),a=t("./cell");i.exports=class{constructor(n,u){this._worksheet=n,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(n){return this._cells[n-1]}getCellEx(n){let u=this._cells[n.col-1];if(!u){const p=this._worksheet.getColumn(n.col);u=new a(this,p,n.address),this._cells[n.col-1]=u}return u}getCell(n){if(typeof n=="string"){const u=this._worksheet.getColumnKey(n);n=u?u.number:h.l2n(n)}return this._cells[n-1]||this.getCellEx({address:h.encodeAddress(this._number,n),row:this._number,col:n})}splice(n,u){const p=n+u;for(var f=arguments.length,d=new Array(f>2?f-2:0),y=2;y<f;y++)d[y-2]=arguments[y];const v=d.length-u,g=this._cells.length;let w,_,k;if(v<0)for(w=n+d.length;w<=g;w++)k=this._cells[w-1],_=this._cells[w-v-1],_?(k=this.getCell(w),k.value=_.value,k.style=_.style,k._comment=_._comment):k&&(k.value=null,k.style={},k._comment=void 0);else if(v>0)for(w=g;w>=p;w--)_=this._cells[w-1],_?(k=this.getCell(w+v),k.value=_.value,k.style=_.style,k._comment=_._comment):this._cells[w+v-1]=void 0;for(w=0;w<d.length;w++)k=this.getCell(n+w),k.value=d[w],k.style={},k._comment=void 0}eachCell(n,u){if(u||(u=n,n=null),n&&n.includeEmpty){const p=this._cells.length;for(let f=1;f<=p;f++)u(this.getCell(f),f)}else this._cells.forEach((p,f)=>{p&&p.type!==s.ValueType.Null&&u(p,f+1)})}addPageBreak(n,u){const p=this._worksheet,f=Math.max(0,n-1)||0,d=Math.max(0,u-1)||16838,y={id:this._number,max:d,man:1};f&&(y.min=f),p.rowBreaks.push(y)}get values(){const n=[];return this._cells.forEach(u=>{u&&u.type!==s.ValueType.Null&&(n[u.col]=u.value)}),n}set values(n){if(this._cells=[],n)if(n instanceof Array){let u=0;n.hasOwnProperty("0")&&(u=1),n.forEach((p,f)=>{p!==void 0&&(this.getCellEx({address:h.encodeAddress(this._number,f+u),row:this._number,col:f+u}).value=p)})}else this._worksheet.eachColumnKey((u,p)=>{n[p]!==void 0&&(this.getCellEx({address:h.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=n[p])})}get hasValues(){return l.some(this._cells,n=>n&&n.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let n=0;return this.eachCell(()=>{n++}),n}get dimensions(){let n=0,u=0;return this._cells.forEach(p=>{p&&p.type!==s.ValueType.Null&&((!n||n>p.col)&&(n=p.col),u<p.col&&(u=p.col))}),n>0?{min:n,max:u}:null}_applyStyle(n,u){return this.style[n]=u,this._cells.forEach(p=>{p&&(p[n]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(n){this._applyStyle("numFmt",n)}get font(){return this.style.font}set font(n){this._applyStyle("font",n)}get alignment(){return this.style.alignment}set alignment(n){this._applyStyle("alignment",n)}get protection(){return this.style.protection}set protection(n){this._applyStyle("protection",n)}get border(){return this.style.border}set border(n){this._applyStyle("border",n)}get fill(){return this.style.fill}set fill(n){this._applyStyle("fill",n)}get hidden(){return!!this._hidden}set hidden(n){this._hidden=n}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(n){this._outlineLevel=n}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const n=[];let u=0,p=0;return this._cells.forEach(f=>{if(f){const d=f.model;d&&((!u||u>f.col)&&(u=f.col),p<f.col&&(p=f.col),n.push(d))}}),this.height||n.length?{cells:n,number:this.number,min:u,max:p,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(n){if(n.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],n.cells.forEach(p=>{switch(p.type){case a.Types.Merge:break;default:{let f;if(p.address)f=h.decodeAddress(p.address);else if(u){const{row:d}=u,y=u.col+1;f={row:d,col:y,address:h.encodeAddress(d,y),$col$row:`$${h.n2l(y)}$${d}`}}u=f,this.getCellEx(f).model=p;break}}}),n.height?this.height=n.height:delete this.height,this.hidden=n.hidden,this.outlineLevel=n.outlineLevel||0,this.style=n.style&&JSON.parse(JSON.stringify(n.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,i,c){const l=t("../utils/col-cache");class s{constructor(a,n,u){this.table=a,this.column=n,this.index=u}_set(a,n){this.table.cacheState(),this.column[a]=n}get name(){return this.column.name}set name(a){this._set("name",a)}get filterButton(){return this.column.filterButton}set filterButton(a){this.column.filterButton=a}get style(){return this.column.style}set style(a){this.column.style=a}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(a){this._set("totalsRowLabel",a)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(a){this._set("totalsRowFunction",a)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(a){this._set("totalsRowResult",a)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(a){this._set("totalsRowFormula",a)}}i.exports=class{constructor(h,a){this.worksheet=h,a&&(this.table=a,this.validate(),this.store())}getFormula(h){switch(h.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${h.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${h.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${h.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${h.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${h.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${h.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${h.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${h.name}])`;case"custom":return h.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+h.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:h}=this,a=(v,g,w)=>{v[g]===void 0&&(v[g]=w)};a(h,"headerRow",!0),a(h,"totalsRow",!1),a(h,"style",{}),a(h.style,"theme","TableStyleMedium2"),a(h.style,"showFirstColumn",!1),a(h.style,"showLastColumn",!1),a(h.style,"showRowStripes",!1),a(h.style,"showColumnStripes",!1);const n=(v,g)=>{if(!v)throw new Error(g)};n(h.ref,"Table must have ref"),n(h.columns,"Table must have column definitions"),n(h.rows,"Table must have row definitions"),h.tl=l.decodeAddress(h.ref);const{row:u,col:p}=h.tl;n(u>0,"Table must be on valid row"),n(p>0,"Table must be on valid col");const{width:f,filterHeight:d,tableHeight:y}=this;h.autoFilterRef=l.encode(u,p,u+d-1,p+f-1),h.tableRef=l.encode(u,p,u+y-1,p+f-1),h.columns.forEach((v,g)=>{n(v.name,`Column ${g} must have a name`),g===0?a(v,"totalsRowLabel","Total"):(a(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const h=(d,y)=>{y&&Object.keys(y).forEach(v=>{d[v]=y[v]})},{worksheet:a,table:n}=this,{row:u,col:p}=n.tl;let f=0;if(n.headerRow){const d=a.getRow(u+f++);n.columns.forEach((y,v)=>{const{style:g,name:w}=y,_=d.getCell(p+v);_.value=w,h(_,g)})}if(n.rows.forEach(d=>{const y=a.getRow(u+f++);d.forEach((v,g)=>{const w=y.getCell(p+g);w.value=v,h(w,n.columns[g].style)})}),n.totalsRow){const d=a.getRow(u+f++);n.columns.forEach((y,v)=>{const g=d.getCell(p+v);if(v===0)g.value=y.totalsRowLabel;else{const w=this.getFormula(y);g.value=w?{formula:y.totalsRowFormula,result:y.totalsRowResult}:null}h(g,y.style)})}}load(h){const{table:a}=this,{row:n,col:u}=a.tl;let p=0;if(a.headerRow){const f=h.getRow(n+p++);a.columns.forEach((d,y)=>{f.getCell(u+y).value=d.name})}if(a.rows.forEach(f=>{const d=h.getRow(n+p++);f.forEach((y,v)=>{d.getCell(u+v).value=y})}),a.totalsRow){const f=h.getRow(n+p++);a.columns.forEach((d,y)=>{const v=f.getCell(u+y);y===0?v.value=d.totalsRowLabel:this.getFormula(d)&&(v.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(h){this.table=h}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const h=l.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let a=0;a<this._cache.tableHeight;a++){const n=this.worksheet.getRow(h.row+a);for(let u=0;u<this._cache.width;u++)n.getCell(h.col+u).value=null}else{for(let a=this.tableHeight;a<this._cache.tableHeight;a++){const n=this.worksheet.getRow(h.row+a);for(let u=0;u<this._cache.width;u++)n.getCell(h.col+u).value=null}for(let a=0;a<this.tableHeight;a++){const n=this.worksheet.getRow(h.row+a);for(let u=this.width;u<this._cache.width;u++)n.getCell(h.col+u).value=null}}this.store()}addRow(h,a){this.cacheState(),a===void 0?this.table.rows.push(h):this.table.rows.splice(a,0,h)}removeRows(h){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(h,a)}getColumn(h){const a=this.table.columns[h];return new s(this,a,h)}addColumn(h,a,n){this.cacheState(),n===void 0?(this.table.columns.push(h),this.table.rows.forEach((u,p)=>{u.push(a[p])})):(this.table.columns.splice(n,0,h),this.table.rows.forEach((u,p)=>{u.splice(n,0,a[p])}))}removeColumns(h){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(h,a),this.table.rows.forEach(n=>{n.splice(h,a)})}_assign(h,a,n){this.cacheState(),h[a]=n}get ref(){return this.table.ref}set ref(h){this._assign(this.table,"ref",h)}get name(){return this.table.name}set name(h){this.table.name=h}get displayName(){return this.table.displyName||this.table.name}set displayNamename(h){this.table.displayName=h}get headerRow(){return this.table.headerRow}set headerRow(h){this._assign(this.table,"headerRow",h)}get totalsRow(){return this.table.totalsRow}set totalsRow(h){this._assign(this.table,"totalsRow",h)}get theme(){return this.table.style.name}set theme(h){this.table.style.name=h}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(h){this.table.style.showFirstColumn=h}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(h){this.table.style.showLastColumn=h}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(h){this.table.style.showRowStripes=h}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(h){this.table.style.showColumnStripes=h}}},{"../utils/col-cache":19}],13:[function(t,i,c){const l=t("./worksheet"),s=t("./defined-names"),h=t("../xlsx/xlsx"),a=t("../csv/csv");i.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new h(this)),this._xlsx}get csv(){return this._csv||(this._csv=new a(this)),this._csv}get nextId(){for(let n=1;n<this._worksheets.length;n++)if(!this._worksheets[n])return n;return this._worksheets.length||1}addWorksheet(n,u){const p=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const f=this._worksheets.reduce((v,g)=>(g&&g.orderNo)>v?g.orderNo:v,0),d=Object.assign({},u,{id:p,name:n,orderNo:f+1,workbook:this}),y=new l(d);return this._worksheets[p]=y,y}removeWorksheetEx(n){delete this._worksheets[n.id]}removeWorksheet(n){const u=this.getWorksheet(n);u&&u.destroy()}getWorksheet(n){return n===void 0?this._worksheets.find(Boolean):typeof n=="number"?this._worksheets[n]:typeof n=="string"?this._worksheets.find(u=>u&&u.name===n):void 0}get worksheets(){return this._worksheets.slice(1).sort((n,u)=>n.orderNo-u.orderNo).filter(Boolean)}eachSheet(n){this.worksheets.forEach(u=>{n(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(n){const u=this.media.length;return this.media.push(Object.assign({},n,{type:"image"})),u}getImage(n){return this.media[n]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(n=>n.model),sheets:this.worksheets.map(n=>n.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(n){this.creator=n.creator,this.lastModifiedBy=n.lastModifiedBy,this.lastPrinted=n.lastPrinted,this.created=n.created,this.modified=n.modified,this.company=n.company,this.manager=n.manager,this.title=n.title,this.subject=n.subject,this.keywords=n.keywords,this.category=n.category,this.description=n.description,this.language=n.language,this.revision=n.revision,this.contentStatus=n.contentStatus,this.properties=n.properties,this.calcProperties=n.calcProperties,this._worksheets=[],n.worksheets.forEach(u=>{const{id:p,name:f,state:d}=u,y=n.sheets&&n.sheets.findIndex(v=>v.id===p);(this._worksheets[p]=new l({id:p,name:f,orderNo:y,state:d,workbook:this})).model=u}),this._definedNames.model=n.definedNames,this.views=n.views,this._themes=n.themes,this.media=n.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,i,c){const l=t("../utils/under-dash"),s=t("../utils/col-cache"),h=t("./range"),a=t("./row"),n=t("./column"),u=t("./enums"),p=t("./image"),f=t("./table"),d=t("./data-validations"),y=t("../utils/encryptor"),{copyStyle:v}=t("../utils/copy-style");i.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new d,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new h;return this._rows.forEach(w=>{if(w){const _=w.dimensions;_&&g.expand(w.number,_.min,w.number,_.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((k,M)=>{const L=(M.header?1:M.headers&&M.headers.length)||0;return Math.max(k,L)},0);let w=1;const _=this._columns=[];g.forEach(k=>{const M=new n(this,w++,!1);_.push(M),M.defn=k})}getColumnKey(g){return this._keys[g]}setColumnKey(g,w){this._keys[g]=w}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){l.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const w=this._keys[g];if(w)return w;g=s.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let w=this._columns.length+1;for(;w<=g;)this._columns.push(new n(this,w++))}return this._columns[g-1]}spliceColumns(g,w){const _=this._rows.length;for(var k=arguments.length,M=new Array(k>2?k-2:0),L=2;L<k;L++)M[L-2]=arguments[L];if(M.length>0)for(let U=0;U<_;U++){const q=[g,w];M.forEach($=>{q.push($[U]||null)});const X=this.getRow(U+1);X.splice.apply(X,q)}else this._rows.forEach(U=>{U&&U.splice(g,w)});const G=M.length-w,F=g+w,j=this._columns.length;if(G<0)for(let U=g+M.length;U<=j;U++)this.getColumn(U).defn=this.getColumn(U-G).defn;else if(G>0)for(let U=j;U>=F;U--)this.getColumn(U+G).defn=this.getColumn(U).defn;for(let U=g;U<g+M.length;U++)this.getColumn(U).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,w,M.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(w=>{g=Math.max(g,w.cellCount)}),g}get actualColumnCount(){const g=[];let w=0;return this.eachRow(_=>{_.eachCell(k=>{let{col:M}=k;g[M]||(g[M]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const g=this._rows;let w=g.length;for(;w>0&&g[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,w){return this._rows.slice(g-1,g-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let w=this._rows[g-1];return w||(w=this._rows[g-1]=new a(this,g)),w}getRows(g,w){if(w<1)return;const _=[];for(let k=g;k<g+w;k++)_.push(this.getRow(k));return _}addRow(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const _=this._nextRow,k=this.getRow(_);return k.values=g,this._setStyleOption(_,w[0]==="i"?w:"n"),k}addRows(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const _=[];return g.forEach(k=>{_.push(this.addRow(k,w))}),_}insertRow(g,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,w),this._setStyleOption(g,_),this.getRow(g)}insertRows(g,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...w),_!=="n")for(let k=0;k<w.length;k++)_[0]==="o"&&this.findRow(w.length+g+k)!==void 0?this._copyStyle(w.length+g+k,g+k,_[1]==="+"):_[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+k,_[1]==="+");return this.getRows(g,w.length)}_setStyleOption(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,w[1]==="+"):w[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,w[1]==="+")}_copyStyle(g,w){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this.getRow(g),M=this.getRow(w);M.style=v(k.style),k.eachCell({includeEmpty:_},(L,G)=>{M.getCell(G).style=v(L.style)}),M.height=k.height}duplicateRow(g,w){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const k=this._rows[g-1],M=new Array(w).fill(k.values);this.spliceRows(g+1,_?0:w,...M);for(let L=0;L<w;L++){const G=this._rows[g+L];G.style=k.style,G.height=k.height,k.eachCell({includeEmpty:!0},(F,j)=>{G.getCell(j).style=F.style})}}spliceRows(g,w){const _=g+w;for(var k=arguments.length,M=new Array(k>2?k-2:0),L=2;L<k;L++)M[L-2]=arguments[L];const G=M.length,F=G-w,j=this._rows.length;let U,q;if(F<0)for(g===j&&(this._rows[j-1]=void 0),U=_;U<=j;U++)if(q=this._rows[U-1],q){const X=this.getRow(U+F);X.values=q.values,X.style=q.style,X.height=q.height,q.eachCell({includeEmpty:!0},($,R)=>{X.getCell(R).style=$.style}),this._rows[U-1]=void 0}else this._rows[U+F-1]=void 0;else if(F>0)for(U=j;U>=_;U--)if(q=this._rows[U-1],q){const X=this.getRow(U+F);X.values=q.values,X.style=q.style,X.height=q.height,q.eachCell({includeEmpty:!0},($,R)=>{if(X.getCell(R).style=$.style,$._value.constructor.name==="MergeValue"){const P=this.getRow($._row._number+G).getCell(R),C=$._value._master,x=this.getRow(C._row._number+G).getCell(C._column._number);P.merge(x)}})}else this._rows[U+F-1]=void 0;for(U=0;U<G;U++){const X=this.getRow(g+U);X.style={},X.values=M[U]}this.workbook.definedNames.spliceRows(this.name,g,w,G)}eachRow(g,w){if(w||(w=g,g=void 0),g&&g.includeEmpty){const _=this._rows.length;for(let k=1;k<=_;k++)w(this.getRow(k),k)}else this._rows.forEach(_=>{_&&_.hasValues&&w(_,_.number)})}getSheetValues(){const g=[];return this._rows.forEach(w=>{w&&(g[w.number]=w.values)}),g}findCell(g,w){const _=s.getAddress(g,w),k=this._rows[_.row-1];return k?k.findCell(_.col):void 0}getCell(g,w){const _=s.getAddress(g,w);return this.getRow(_.row).getCellEx(_)}mergeCells(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];const k=new h(w);this._mergeCellsInternal(k)}mergeCellsWithoutStyle(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];const k=new h(w);this._mergeCellsInternal(k,!0)}_mergeCellsInternal(g,w){l.each(this._merges,k=>{if(k.intersects(g))throw new Error("Cannot merge already merged cells")});const _=this.getCell(g.top,g.left);for(let k=g.top;k<=g.bottom;k++)for(let M=g.left;M<=g.right;M++)(k>g.top||M>g.left)&&this.getCell(k,M).merge(_,w);this._merges[_.address]=g}_unMergeMaster(g){const w=this._merges[g.address];if(w){for(let _=w.top;_<=w.bottom;_++)for(let k=w.left;k<=w.right;k++)this.getCell(_,k).unmerge();delete this._merges[g.address]}}get hasMerges(){return l.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];const k=new h(w);for(let M=k.top;M<=k.bottom;M++)for(let L=k.left;L<=k.right;L++){const G=this.findCell(M,L);G&&(G.type===u.ValueType.Merge?this._unMergeMaster(G.master):this._merges[G.address]&&this._unMergeMaster(G))}}fillFormula(g,w,_){let k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const M=s.decode(g),{top:L,left:G,bottom:F,right:j}=M,U=j-G+1,q=s.encodeAddress(L,G),X=k==="shared";let $;$=typeof _=="function"?_:Array.isArray(_)?Array.isArray(_[0])?(P,C)=>_[P-L][C-G]:(P,C)=>_[(P-L)*U+(C-G)]:()=>{};let R=!0;for(let P=L;P<=F;P++)for(let C=G;C<=j;C++)R?(this.getCell(P,C).value={shareType:k,formula:w,ref:g,result:$(P,C)},R=!1):this.getCell(P,C).value=X?{sharedFormula:q,result:$(P,C)}:$(P,C)}addImage(g,w){const _={type:"image",imageId:g,range:w};this._media.push(new p(this,_))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const w={type:"background",imageId:g};this._media.push(new p(this,w))}getBackgroundImageId(){const g=this._media.find(w=>w.type==="background");return g&&g.imageId}protect(g,w){return new Promise(_=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=y.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=y.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!g&&"spinCount"in w&&delete this.sheetProtection.spinCount),_()})}unprotect(){this.sheetProtection=null}addTable(g){const w=new f(this,g);return this.tables[g.name]=w,w}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(k=>k.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(k=>k.model),conditionalFormattings:this.conditionalFormattings};g.cols=n.toModel(this.columns);const w=g.rows=[],_=g.dimensions=new h;return this._rows.forEach(k=>{const M=k&&k.model;M&&(_.expand(M.number,M.min,M.number,M.max),w.push(M))}),g.merges=[],l.each(this._merges,k=>{g.merges.push(k.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(w=>{const _=new a(this,w.number);this._rows[_.number-1]=_,_.model=w})}_parseMergeCells(g){l.each(g.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(g){this.name=g.name,this._columns=n.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new d(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(w=>new p(this,w)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((w,_)=>{const k=new f;return k.model=_,w[_.name]=k,w},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,i,c){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const l={Workbook:t("./doc/workbook")},s=t("./doc/enums");Object.keys(s).forEach(h=>{l[h]=s[h]}),i.exports=l},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,i,c){const l=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");c.bufferToString=function(s){return typeof s=="string"?s:l?l.decode(s):s.toString()}},{}],17:[function(t,i,c){const l=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=t("buffer");c.stringToBuffer=function(h){return typeof h!="string"?h:l?s.from(l.encode(h).buffer):s.from(h)}},{buffer:220}],18:[function(t,i,c){const l=t("./under-dash"),s=t("./col-cache");i.exports=class{constructor(h){this.template=h,this.sheets={}}addCell(h){this.addCellEx(s.decodeEx(h))}getCell(h){return this.findCellEx(s.decodeEx(h),!0)}findCell(h){return this.findCellEx(s.decodeEx(h),!1)}findCellAt(h,a,n){const u=this.sheets[h],p=u&&u[a];return p&&p[n]}addCellEx(h){if(h.top)for(let a=h.top;a<=h.bottom;a++)for(let n=h.left;n<=h.right;n++)this.getCellAt(h.sheetName,a,n);else this.findCellEx(h,!0)}getCellEx(h){return this.findCellEx(h,!0)}findCellEx(h,a){const n=this.findSheet(h,a),u=this.findSheetRow(n,h,a);return this.findRowCell(u,h,a)}getCellAt(h,a,n){const u=this.sheets[h]||(this.sheets[h]=[]),p=u[a]||(u[a]=[]);return p[n]||(p[n]={sheetName:h,address:s.n2l(n)+a,row:a,col:n})}removeCellEx(h){const a=this.findSheet(h);if(!a)return;const n=this.findSheetRow(a,h);n&&delete n[h.col]}forEachInSheet(h,a){const n=this.sheets[h];n&&n.forEach((u,p)=>{u&&u.forEach((f,d)=>{f&&a(f,p,d)})})}forEach(h){l.each(this.sheets,(a,n)=>{this.forEachInSheet(n,h)})}map(h){const a=[];return this.forEach(n=>{a.push(h(n))}),a}findSheet(h,a){const n=h.sheetName;return this.sheets[n]?this.sheets[n]:a?this.sheets[n]=[]:void 0}findSheetRow(h,a,n){const{row:u}=a;return h&&h[u]?h[u]:n?h[u]=[]:void 0}findRowCell(h,a,n){const{col:u}=a;return h&&h[u]?h[u]:n?h[u]=this.template?Object.assign(a,JSON.parse(JSON.stringify(this.template))):a:void 0}spliceRows(h,a,n,u){const p=this.sheets[h];if(p){const f=[];for(let d=0;d<u;d++)f.push([]);p.splice(a,n,...f)}}spliceColumns(h,a,n,u){const p=this.sheets[h];if(p){const f=[];for(let d=0;d<u;d++)f.push(null);l.each(p,d=>{d.splice(a,n,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,i,c){const l=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:h=>h<=26?1:h<=676?2:3,_fill(h){let a,n,u,p,f,d=1;if(h>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&h>=1){for(;d<=26;)a=this._dictionary[d-1],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&h>=2){for(d=27;d<=702;)n=d-27,u=n%26,p=Math.floor(n/26),a=this._dictionary[p]+this._dictionary[u],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&h>=3){for(d=703;d<=16384;)n=d-703,u=n%26,p=Math.floor(n/26)%26,f=Math.floor(n/676),a=this._dictionary[f]+this._dictionary[p]+this._dictionary[u],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=3}},l2n(h){if(this._l2n[h]||this._fill(h.length),!this._l2n[h])throw new Error("Out of bounds. Invalid column letter: "+h);return this._l2n[h]},n2l(h){if(h<1||h>16384)throw new Error(h+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[h]||this._fill(this._level(h)),this._n2l[h]},_hash:{},validateAddress(h){if(!l.test(h))throw new Error("Invalid Address: "+h);return!0},decodeAddress(h){const a=h.length<5&&this._hash[h];if(a)return a;let n=!1,u="",p=0,f=!1,d="",y=0;for(let g,w=0;w<h.length;w++)if(g=h.charCodeAt(w),!f&&g>=65&&g<=90)n=!0,u+=h[w],p=26*p+g-64;else if(g>=48&&g<=57)f=!0,d+=h[w],y=10*y+g-48;else if(f&&n&&g!==36)break;if(n){if(p>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else p=void 0;f||(y=void 0);const v={address:h=u+d,col:p,row:y,$col$row:`$${u}$${d}`};return p<=100&&y<=100&&(this._hash[h]=v,this._hash[v.$col$row]=v),v},getAddress(h,a){if(a){const n=this.n2l(a)+h;return this.decodeAddress(n)}return this.decodeAddress(h)},decode(h){const a=h.split(":");if(a.length===2){const n=this.decodeAddress(a[0]),u=this.decodeAddress(a[1]),p={top:Math.min(n.row,u.row),left:Math.min(n.col,u.col),bottom:Math.max(n.row,u.row),right:Math.max(n.col,u.col)};return p.tl=this.n2l(p.left)+p.top,p.br=this.n2l(p.right)+p.bottom,p.dimensions=`${p.tl}:${p.br}`,p}return this.decodeAddress(h)},decodeEx(h){const a=h.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),n=a[1]||a[2],u=a[3],p=u.split(":");if(p.length>1){let d=this.decodeAddress(p[0]),y=this.decodeAddress(p[1]);const v=Math.min(d.row,y.row),g=Math.min(d.col,y.col),w=Math.max(d.row,y.row),_=Math.max(d.col,y.col);return d=this.n2l(g)+v,y=this.n2l(_)+w,{top:v,left:g,bottom:w,right:_,sheetName:n,tl:{address:d,col:g,row:v,$col$row:`$${this.n2l(g)}$${v}`,sheetName:n},br:{address:y,col:_,row:w,$col$row:`$${this.n2l(_)}$${w}`,sheetName:n},dimensions:`${d}:${y}`}}if(u.startsWith("#"))return n?{sheetName:n,error:u}:{error:u};const f=this.decodeAddress(u);return n?{sheetName:n,...f}:f},encodeAddress:(h,a)=>s.n2l(a)+h,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(h,a){const[n,u,,p,f]=h,[d,y]=a;return d>=n&&d<=p&&y>=u&&y<=f}};i.exports=s},{}],20:[function(t,i,c){const l=(h,a)=>({...h,...a.reduce((n,u)=>(h[u]&&(n[u]={...h[u]}),n),{})}),s=function(h,a,n){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];h[n]&&(a[n]=l(h[n],u))};c.copyStyle=h=>{if(!h)return h;if(a=h,Object.keys(a).length===0)return{};var a;const n={...h};return s(h,n,"font",["color"]),s(h,n,"alignment"),s(h,n,"protection"),h.border&&(s(h,n,"border"),s(h.border,n.border,"top",["color"]),s(h.border,n.border,"left",["color"]),s(h.border,n.border,"bottom",["color"]),s(h.border,n.border,"right",["color"]),s(h.border,n.border,"diagonal",["color"])),h.fill&&(s(h,n,"fill",["fgColor","bgColor","center"]),h.fill.stops&&(n.fill.stops=h.fill.stops.map(u=>l(u,["color"])))),n}},{}],21:[function(t,i,c){(function(l){(function(){const s=t("crypto"),h={hash(a){const n=s.createHash(a);for(var u=arguments.length,p=new Array(u>1?u-1:0),f=1;f<u;f++)p[f-1]=arguments[f];return n.update(l.concat(p)),n.digest()},convertPasswordToHash(a,n,u,p){if(n=n.toLowerCase(),s.getHashes().indexOf(n)<0)throw new Error(`Hash algorithm '${n}' not supported!`);const f=l.from(a,"utf16le");let d=this.hash(n,l.from(u,"base64"),f);for(let y=0;y<p;y++){const v=l.alloc(4);v.writeUInt32LE(y,0),d=this.hash(n,d,v)}return d.toString("base64")},randomBytes:a=>s.randomBytes(a)};i.exports=h}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,i,c){const{SaxesParser:l}=t("saxes"),{PassThrough:s}=t("readable-stream"),{bufferToString:h}=t("./browser-buffer-decode");i.exports=async function*(a){a.pipe&&!a[Symbol.asyncIterator]&&(a=a.pipe(new s));const n=new l;let u;n.on("error",f=>{u=f});let p=[];n.on("opentag",f=>p.push({eventType:"opentag",value:f})),n.on("text",f=>p.push({eventType:"text",value:f})),n.on("closetag",f=>p.push({eventType:"closetag",value:f}));for await(const f of a){if(n.write(h(f)),u)throw u;yield p,p=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,i,c){const l=t("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,h=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;i.exports={slideFormula:function(a,n,u){const p=l.decode(n),f=l.decode(u);return a.replace(s,(d,y,v,g,w)=>{if(w)return d;const _=h.exec(g);if(_){const k=_[1],M=_[2].toUpperCase(),L=_[3],G=_[4];if(M.length>3||M.length===3&&M>"XFD")return d;let F=l.l2n(M),j=parseInt(G,10);return k||(F+=f.col-p.col),L||(j+=f.row-p.row),(y||"")+(k||"")+l.n2l(F)+(L||"")+j}return d})}}},{"./col-cache":19}],24:[function(t,i,c){(function(l,s){(function(){const h=t("readable-stream"),a=t("./utils"),n=t("./string-buf");class u{constructor(g,w){this._data=g,this._encoding=w}get length(){return this.toBuffer().length}copy(g,w,_,k){return this.toBuffer().copy(g,w,_,k)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class p{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,_,k){return this._data._buf.copy(g,w,_,k)}toBuffer(){return this._data.toBuffer()}}class f{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,_,k){this._data.copy(g,w,_,k)}toBuffer(){return this._data}}class d{constructor(g){this.size=g,this.buffer=s.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let w;return g===0?null:g===void 0||g>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=s.alloc(g),this.buffer.copy(w,0,this.iRead,g),this.iRead+=g,w)}write(g,w,_){const k=Math.min(_,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,w,w+k),this.iWrite+=k,k}}const y=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};a.inherits(y,h.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const v=new d(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map((function(g){return new Promise(w=>{g.write(v.toBuffer(),()=>{w()})})})))},_writeToBuffers(v){let g=0;const w=v.length;for(;g<w;)g+=this._getWritableBuffer().write(v,g,w-g)},async write(v,g,w){let _;if(g instanceof Function&&(w=g,g="utf8"),w=w||a.nop,v instanceof n)_=new p(v);else if(v instanceof s)_=new f(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");_=new u(v,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(_);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(_),l.nextTick(w)):(await this._pipe(_),w());else this.paused||this.emit("data",_.toBuffer()),this._writeToBuffers(_),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,g,w){const _=k=>{k?w(k):(this._flush(),this.pipes.forEach(M=>{M.end()}),this.emit("finish"))};v?this.write(v,g,_):_()},read(v){let g;if(v){for(g=[];v&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],_=w.read(v);v-=_.length,g.push(_),w.eod&&w.full&&this.buffers.shift()}return s.concat(g)}return g=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],s.concat(g)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(g=>g!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),i.exports=y}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,i,c){(function(l){(function(){i.exports=class{constructor(s){this._buf=l.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=l.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let h=2*this._buf.length;for(;h<s;)h*=2;const a=l.alloc(h);this._buf.copy(a,0),this._buf=a}addText(s){this._buffer=void 0;let h=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;h>=this._buf.length-4;)this._grow(this._inPos+s.length),h=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=h}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,i,c){const{toString:l}=Object.prototype,s=/["&<>]/,h={each:function(a,n){a&&(Array.isArray(a)?a.forEach(n):Object.keys(a).forEach(u=>{n(a[u],u)}))},some:function(a,n){return!!a&&(Array.isArray(a)?a.some(n):Object.keys(a).some(u=>n(a[u],u)))},every:function(a,n){return!a||(Array.isArray(a)?a.every(n):Object.keys(a).every(u=>n(a[u],u)))},map:function(a,n){return a?Array.isArray(a)?a.map(n):Object.keys(a).map(u=>n(a[u],u)):[]},keyBy:(a,n)=>a.reduce((u,p)=>(u[p[n]]=p,u),{}),isEqual:function(a,n){const u=typeof a,p=typeof n,f=Array.isArray(a),d=Array.isArray(n);let y;if(u!==p)return!1;switch(typeof a){case"object":if(f||d)return!(!f||!d)&&a.length===n.length&&a.every((v,g)=>{const w=n[g];return h.isEqual(v,w)});if(a===null||n===null)return a===n;if(y=Object.keys(a),Object.keys(n).length!==y.length)return!1;for(const v of y)if(!n.hasOwnProperty(v))return!1;return h.every(a,(v,g)=>{const w=n[g];return h.isEqual(v,w)});default:return a===n}},escapeHtml(a){const n=s.exec(a);if(!n)return a;let u="",p="",f=0,d=n.index;for(;d<a.length;d++){switch(a.charAt(d)){case'"':p="&quot;";break;case"&":p="&amp;";break;case"'":p="&apos;";break;case"<":p="&lt;";break;case">":p="&gt;";break;default:continue}f!==d&&(u+=a.substring(f,d)),f=d+1,u+=p}return f!==d?u+a.substring(f,d):u},strcmp:(a,n)=>a<n?-1:a>n?1:0,isUndefined:a=>l.call(a)==="[object Undefined]",isObject:a=>l.call(a)==="[object Object]",deepMerge(){const a=arguments[0]||{},{length:n}=arguments;let u,p,f;function d(y,v){u=a[v],f=Array.isArray(y),h.isObject(y)||f?(f?(f=!1,p=u&&Array.isArray(u)?u:[]):p=u&&h.isObject(u)?u:{},a[v]=h.deepMerge(p,y)):h.isUndefined(y)||(a[v]=y)}for(let y=0;y<n;y++)h.each(arguments[y],d);return a}};i.exports=h},{}],27:[function(t,i,c){(function(l,s){(function(){const h=t("fs"),a=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,n={nop(){},promiseImmediate:u=>new Promise(p=>{l.setImmediate?s(()=>{p(u)}):setTimeout(()=>{p(u)},1)}),inherits:function(u,p,f,d){u.super_=p,d||(d=f,f=null),f&&Object.keys(f).forEach(v=>{Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(f,v))});const y={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(v=>{y[v]=Object.getOwnPropertyDescriptor(d,v)}),u.prototype=Object.create(p.prototype,y)},dateToExcel:(u,p)=>25569+u.getTime()/864e5-(p?1462:0),excelToDate(u,p){const f=Math.round(24*(u-25569+(p?1462:0))*3600*1e3);return new Date(f)},parsePath(u){const p=u.lastIndexOf("/");return{path:u.substring(0,p),name:u.substring(p+1)}},getRelsPath(u){const p=n.parsePath(u);return`${p.path}/_rels/${p.name}.rels`},xmlEncode(u){const p=a.exec(u);if(!p)return u;let f="",d="",y=0,v=p.index;for(;v<u.length;v++){const g=u.charCodeAt(v);switch(g){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){d="";break}continue}y!==v&&(f+=u.substring(y,v)),y=v+1,d&&(f+=d)}return y!==v?f+u.substring(y,v):f},xmlDecode:u=>u.replace(/&([a-z]*);/g,p=>{switch(p){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return p}}),validInt(u){const p=parseInt(u,10);return Number.isNaN(p)?0:p},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(p=>{h.access(u,h.constants.F_OK,f=>{p(!f)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};i.exports=n}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,i,c){const l=t("./under-dash"),s=t("./utils");function h(u,p,f){u.push(` ${p}="${s.xmlEncode(f.toString())}"`)}function a(u,p){if(p){const f=[];l.each(p,(d,y)=>{d!==void 0&&h(f,y,d)}),u.push(f.join(""))}}class n{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(p){const f=this._xml;f.push("<?xml"),a(f,p),f.push(`?>
`)}openNode(p,f){const d=this.tos,y=this._xml;d&&this.open&&y.push(">"),this._stack.push(p),y.push("<"),y.push(p),a(y,f),this.leaf=!0,this.open=!0}addAttribute(p,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&h(this._xml,p,f)}addAttributes(p){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,p)}writeText(p){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(s.xmlEncode(p.toString()))}writeXml(p){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(p)}closeNode(){const p=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(p),f.push(">")),this.open=!1,this.leaf=!1}leafNode(p,f,d){this.openNode(p,f),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const p=this._rollbacks.pop();this._xml.length>p.xml&&this._xml.splice(p.xml,this._xml.length-p.xml),this._stack.length>p.stack&&this._stack.splice(p.stack,this._stack.length-p.stack),this.leaf=p.leaf,this.open=p.open}get xml(){return this.closeAll(),this._xml.join("")}}n.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},i.exports=n},{"./under-dash":26,"./utils":27}],29:[function(t,i,c){(function(l){(function(){const s=t("events"),h=t("jszip"),a=t("./stream-buf"),{stringToBuffer:n}=t("./browser-buffer-encode");class u extends s.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new h,this.stream=new a}append(f,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,f,{base64:!0}):(l.browser&&typeof f=="string"&&(f=n(f)),this.zip.file(d.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,d){return this.stream.pipe(f,d)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}i.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,i,c){i.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,i,c){i.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,i,c){const l=t("../../utils/parse-sax"),s=t("../../utils/xml-stream");class h{prepare(){}render(){}parseOpen(n){}parseText(n){}parseClose(n){}reconcile(n,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(n=>{n instanceof h?n.reset():n.xform&&n.xform.reset()})}mergeModel(n){this.model=Object.assign(this.model||{},n)}async parse(n){for await(const u of n)for(const{eventType:p,value:f}of u)if(p==="opentag")this.parseOpen(f);else if(p==="text")this.parseText(f);else if(p==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(n){return this.parse(l(n))}get xml(){return this.toXml(this.model)}toXml(n){const u=new s;return this.render(u,n),u.xml}static toAttribute(n,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(n===void 0){if(p)return u}else if(p||n!==u)return n.toString()}static toStringAttribute(n,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h.toAttribute(n,u,p)}static toStringValue(n,u){return n===void 0?u:n}static toBoolAttribute(n,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(n===void 0){if(p)return u}else if(p||n!==u)return n?"1":"0"}static toBoolValue(n,u){return n===void 0?u:n==="1"}static toIntAttribute(n,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h.toAttribute(n,u,p)}static toIntValue(n,u){return n===void 0?u:parseInt(n,10)}static toFloatAttribute(n,u){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h.toAttribute(n,u,p)}static toFloatValue(n,u){return n===void 0?u:parseFloat(n)}}i.exports=h},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,i,c){const l=t("../base-xform"),s=t("../../../utils/col-cache");function h(n){try{return s.decodeEx(n),!0}catch{return!1}}function a(n){const u=[];let p=!1,f="";return n.split(",").forEach(d=>{if(!d)return;const y=(d.match(/'/g)||[]).length;if(!y)return void(p?f+=d+",":h(d)&&u.push(d));const v=y%2==0;!p&&v&&h(d)?u.push(d):p&&!v?(p=!1,h(f+d)&&u.push(f+d),f=""):(p=!0,f+=d+",")}),u}i.exports=class extends l{render(n,u){n.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),n.writeText(u.ranges.join(",")),n.closeNode()}parseOpen(n){return n.name==="definedName"?(this._parsedName=n.attributes.name,this._parsedLocalSheetId=n.attributes.localSheetId,this._parsedText=[],!0):!1}parseText(n){this._parsedText.push(n)}parseClose(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,i,c){const l=t("../../../utils/utils"),s=t("../base-xform");i.exports=class extends s{render(h,a){h.leafNode("sheet",{sheetId:a.id,name:a.name,state:a.state,"r:id":a.rId})}parseOpen(h){return h.name==="sheet"&&(this.model={name:l.xmlDecode(h.attributes.name),id:parseInt(h.attributes.sheetId,10),state:h.attributes.state,rId:h.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{render(s,h){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:h.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{render(s,h){s.leafNode("workbookPr",{date1904:h.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{render(s,h){const a={xWindow:h.x||0,yWindow:h.y||0,windowWidth:h.width||12e3,windowHeight:h.height||24e3,firstSheet:h.firstSheet,activeTab:h.activeTab};h.visibility&&h.visibility!=="visible"&&(a.visibility=h.visibility),s.leafNode("workbookView",a)}parseOpen(s){if(s.name==="workbookView"){const h=this.model={},a=function(u,p,f){const d=p!==void 0?h[u]=p:f;d!==void 0&&(h[u]=d)},n=function(u,p,f){const d=p!==void 0?h[u]=parseInt(p,10):f;d!==void 0&&(h[u]=d)};return n("x",s.attributes.xWindow,0),n("y",s.attributes.yWindow,0),n("width",s.attributes.windowWidth,25e3),n("height",s.attributes.windowHeight,1e4),a("visibility",s.attributes.visibility,"visible"),n("activeTab",s.attributes.activeTab,void 0),n("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),h=t("../../../utils/xml-stream"),a=t("../base-xform"),n=t("../static-xform"),u=t("../list-xform"),p=t("./defined-name-xform"),f=t("./sheet-xform"),d=t("./workbook-view-xform"),y=t("./workbook-properties-xform"),v=t("./workbook-calc-properties-xform");class g extends a{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new y,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new f}),definedNames:new u({tag:"definedNames",count:!1,childXform:new p}),calcPr:new v}}prepare(_){_.sheets=_.worksheets;const k=[];let M=0;_.sheets.forEach(L=>{if(L.pageSetup&&L.pageSetup.printArea&&L.pageSetup.printArea.split("&&").forEach(G=>{const F=G.split(":"),j={name:"_xlnm.Print_Area",ranges:[`'${L.name}'!$${F[0]}:$${F[1]}`],localSheetId:M};k.push(j)}),L.pageSetup&&(L.pageSetup.printTitlesRow||L.pageSetup.printTitlesColumn)){const G=[];if(L.pageSetup.printTitlesColumn){const j=L.pageSetup.printTitlesColumn.split(":");G.push(`'${L.name}'!$${j[0]}:$${j[1]}`)}if(L.pageSetup.printTitlesRow){const j=L.pageSetup.printTitlesRow.split(":");G.push(`'${L.name}'!$${j[0]}:$${j[1]}`)}const F={name:"_xlnm.Print_Titles",ranges:G,localSheetId:M};k.push(F)}M++}),k.length&&(_.definedNames=_.definedNames.concat(k)),(_.media||[]).forEach((L,G)=>{L.name=L.type+(G+1)})}render(_,k){_.openXml(h.StdDocAttributes),_.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(_),this.map.workbookPr.render(_,k.properties),this.map.bookViews.render(_,k.views),this.map.sheets.render(_,k.sheets),this.map.definedNames.render(_,k.definedNames),this.map.calcPr.render(_,k.calcProperties),_.closeNode()}parseOpen(_){return this.parser?(this.parser.parseOpen(_),!0):(_.name==="workbook"||(this.parser=this.map[_.name],this.parser&&this.parser.parseOpen(_)),!0)}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){return this.parser?(this.parser.parseClose(_)||(this.parser=void 0),!0):_==="workbook"?(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1):!0}reconcile(_){const k=(_.workbookRels||[]).reduce((j,U)=>(j[U.Id]=U,j),{}),M=[];let L,G=0;(_.sheets||[]).forEach(j=>{const U=k[j.rId];U&&(L=_.worksheetHash["xl/"+U.Target.replace(/^(\s|\/xl\/)+/,"")],L&&(L.name=j.name,L.id=j.id,L.state=j.state,M[G++]=L))});const F=[];l.each(_.definedNames,j=>{if(j.name==="_xlnm.Print_Area"){if(L=M[j.localSheetId],L){L.pageSetup||(L.pageSetup={});const U=s.decodeEx(j.ranges[0]);L.pageSetup.printArea=L.pageSetup.printArea?`${L.pageSetup.printArea}&&${U.dimensions}`:U.dimensions}}else if(j.name==="_xlnm.Print_Titles"){if(L=M[j.localSheetId],L){L.pageSetup||(L.pageSetup={});const U=j.ranges.join(","),q=/\$/g,X=/\$\d+:\$\d+/,$=U.match(X);if($&&$.length){const C=$[0];L.pageSetup.printTitlesRow=C.replace(q,"")}const R=/\$[A-Z]+:\$[A-Z]+/,P=U.match(R);if(P&&P.length){const C=P[0];L.pageSetup.printTitlesColumn=C.replace(q,"")}}}else F.push(j)}),_.definedNames=F,_.media.forEach((j,U)=>{j.index=U})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new n({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},i.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,i,c){const l=t("../strings/rich-text-xform"),s=t("../../../utils/utils"),h=t("../base-xform"),a=i.exports=function(n){this.model=n};s.inherits(a,h,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new l),this._richTextXform},render(n,u){u=u||this.model,n.openNode("comment",{ref:u.ref,authorId:0}),n.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(p=>{this.richTextXform.render(n,p)}),n.closeNode(),n.closeNode()},parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"comment":return this.model={type:"note",note:{texts:[]},...n.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(n),!0;default:return!1}},parseText(n){this.parser&&this.parser.parseText(n)},parseClose(n){switch(n){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../../../utils/utils"),h=t("../base-xform"),a=t("./comment-xform"),n=i.exports=function(){this.map={comment:new a}};s.inherits(n,h,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,p){p=p||this.model,u.openXml(l.StdDocAttributes),u.openNode("comments",n.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),p.comments.forEach(f=>{this.map.comment.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,h,a){(h===a[2]||this.tag==="x:SizeWithCells"&&h===a[1])&&s.leafNode(this.tag)}parseOpen(s){return s.name===this.tag?(this.model={},this.model[this.tag]=!0,!0):!1}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(s){return s.name===this.tag?(this.text="",!0):!1}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"x:Anchor"}getAnchorRect(s){const h=Math.floor(s.left),a=Math.floor(68*(s.left-h)),n=Math.floor(s.top),u=Math.floor(18*(s.top-n)),p=Math.floor(s.right),f=Math.floor(68*(s.right-p)),d=Math.floor(s.bottom);return[h,a,n,u,p,f,d,Math.floor(18*(s.bottom-d))]}getDefaultRect(s){const h=s.col,a=Math.max(s.row-2,0);return[h,6,a,14,h+2,2,a+4,16]}render(s,h){const a=h.anchor?this.getAnchorRect(h.anchor):this.getDefaultRect(h.refAddress);s.leafNode("x:Anchor",null,a.join(", "))}parseOpen(s){return s.name===this.tag?(this.text="",!0):!1}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,i,c){const l=t("../base-xform"),s=t("./vml-anchor-xform"),h=t("./style/vml-protection-xform"),a=t("./style/vml-position-xform"),n=["twoCells","oneCells","absolute"];i.exports=class extends l{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new h({tag:"x:Locked"}),"x:LockText":new h({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,p){const{protection:f,editAs:d}=p.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,n),this.map["x:SizeWithCells"].render(u,d,n),this.map["x:Anchor"].render(u,p),this.map["x:Locked"].render(u,f.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,f.lockText),u.leafNode("x:Row",null,p.refAddress.row-1),u.leafNode("x:Column",null,p.refAddress.col-1),u.closeNode()}parseOpen(u){return u.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.normalizeModel(),!1):!0}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),p=Object.keys(u).length;this.model.editAs=n[p],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("./vml-shape-xform");class a extends s{constructor(){super(),this.map={"v:shape":new h}}get tag(){return"xml"}render(u,p){u.openXml(l.StdDocAttributes),u.openNode(this.tag,a.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),p.comments.forEach((f,d)=>{this.map["v:shape"].render(u,f,d)}),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):u!==this.tag}reconcile(u,p){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,p):this.map["xdr:oneCellAnchor"].reconcile(f,p)})}}a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},i.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,i,c){const l=t("../base-xform"),s=t("./vml-textbox-xform"),h=t("./vml-client-data-xform");class a extends l{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new h}}get tag(){return"v:shape"}render(u,p,f){u.openNode("v:shape",a.V_SHAPE_ATTRIBUTES(p,f)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,p),this.map["x:ClientData"].render(u,p),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?(this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1):!0}}a.V_SHAPE_ATTRIBUTES=(n,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":n.note.margins&&n.note.margins.insetmode}),i.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"v:textbox"}conversionUnit(s,h,a){return`${parseFloat(s)*h.toFixed(2)}${a}`}reverseConversionUnit(s){return(s||"").split(",").map(h=>Number(parseFloat(this.conversionUnit(parseFloat(h),.1,"")).toFixed(2)))}render(s,h){const a={style:"mso-direction-alt:auto"};if(h&&h.note){let{inset:n}=h.note&&h.note.margins;Array.isArray(n)&&(n=n.map(u=>this.conversionUnit(u,10,"mm")).join(",")),n&&(a.inset=n)}s.openNode("v:textbox",a),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={inset:this.reverseConversionUnit(s.attributes.inset)}),!0}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],48:[function(t,i,c){const l=t("./base-xform");i.exports=class extends l{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,h){this.model[s]=h.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{render(s,h){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,h.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{render(s,h){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:h.length,baseType:"lpstr"}),h.forEach(a=>{s.leafNode("vt:lpstr",void 0,a.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("../simple/string-xform"),a=t("./app-heading-pairs-xform"),n=t("./app-titles-of-parts-xform");class u extends s{constructor(){super(),this.map={Company:new h({tag:"Company"}),Manager:new h({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new n}}render(f,d){f.openXml(l.StdDocAttributes),f.openNode("Properties",u.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,d.worksheets),this.map.TitleOfParts.render(f,d.worksheets),this.map.Company.render(f,d.company||""),this.map.Manager.render(f,d.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name==="Properties"?!0:(this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f==="Properties"?(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1):!0}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},i.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform");class h extends s{render(n,u){n.openXml(l.StdDocAttributes),n.openNode("Types",h.PROPERTY_ATTRIBUTES);const p={};(u.media||[]).forEach(f=>{if(f.type==="image"){const d=f.extension;p[d]||(p[d]=!0,n.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),n.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),n.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),n.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(f=>{const d=`/xl/worksheets/sheet${f.id}.xml`;n.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),n.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),n.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&n.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(f=>{n.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(f=>{n.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(n.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(f=>{let{commentName:d}=f;n.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),n.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),n.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),n.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}h.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},i.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("../simple/date-xform"),a=t("../simple/string-xform"),n=t("../simple/integer-xform");class u extends s{constructor(){super(),this.map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new h({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new n({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new h({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new h({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(f,d){f.openXml(l.StdDocAttributes),f.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,d.creator),this.map["dc:title"].render(f,d.title),this.map["dc:subject"].render(f,d.subject),this.map["dc:description"].render(f,d.description),this.map["dc:identifier"].render(f,d.identifier),this.map["dc:language"].render(f,d.language),this.map["cp:keywords"].render(f,d.keywords),this.map["cp:category"].render(f,d.category),this.map["cp:lastModifiedBy"].render(f,d.lastModifiedBy),this.map["cp:lastPrinted"].render(f,d.lastPrinted),this.map["cp:revision"].render(f,d.revision),this.map["cp:version"].render(f,d.version),this.map["cp:contentStatus"].render(f,d.contentStatus),this.map["cp:contentType"].render(f,d.contentType),this.map["dcterms:created"].render(f,d.created),this.map["dcterms:modified"].render(f,d.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}u.DateFormat=function(p){return p.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},i.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{render(s,h){s.leafNode("Relationship",h)}parseOpen(s){return s.name==="Relationship"?(this.model=s.attributes,!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("./relationship-xform");class a extends s{constructor(){super(),this.map={Relationship:new h}}render(u,p){p=p||this._values,u.openXml(l.StdDocAttributes),u.openNode("Relationships",a.RELATIONSHIPS_ATTRIBUTES),p.forEach(f=>{this.map.Relationship.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;if(u==="Relationships")return!1;throw new Error("Unexpected xml node in parseClose: "+u)}}a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},i.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):(s.name===this.tag?(this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}}):(this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)),!0)}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,h){if(s&&s.rId){const a=h.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(a){const n=a[1],u=h.mediaIndex[n];return h.media[u]}}}}},{"../base-xform":32}],57:[function(t,i,c){const l=t("../base-xform"),s=t("./blip-xform");i.exports=class extends l{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(h,a){h.openNode(this.tag),this.map["a:blip"].render(h,a),h.openNode("a:stretch"),h.leafNode("a:fillRect"),h.closeNode(),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):(h.name===this.tag?this.reset():(this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)),!0)}parseText(){}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h===this.tag?(this.model=this.map["a:blip"].model,!1):!0}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"a:blip"}render(s,h){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":h.rId,cstate:"print"})}parseOpen(s){return s.name===this.tag&&(this.model={rId:s.attributes["r:embed"]}),!0}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],59:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],60:[function(t,i,c){const l=t("../base-xform"),s=t("./hlink-click-xform"),h=t("./ext-lst-xform");i.exports=class extends l{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new h}}get tag(){return"xdr:cNvPr"}render(a,n){a.openNode(this.tag,{id:n.index,name:"Picture "+n.index}),this.map["a:hlinkClick"].render(a,n),this.map["a:extLst"].render(a,n),a.closeNode()}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):(a.name===this.tag?this.reset():(this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)),!0)}parseText(){}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model=this.map["a:hlinkClick"].model,!1):!0}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,i,c){const l=t("../base-xform"),s=t("../simple/integer-xform");i.exports=class extends l{constructor(h){super(),this.tag=h.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(h,a){h.openNode(this.tag),this.map["xdr:col"].render(h,a.nativeCol),this.map["xdr:colOff"].render(h,a.nativeColOff),this.map["xdr:row"].render(h,a.nativeRow),this.map["xdr:rowOff"].render(h,a.nativeRowOff),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):(h.name===this.tag?this.reset():(this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)),!0)}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h===this.tag?(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1):!0}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,i,c){const l=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),h=t("../base-xform"),a=t("./two-cell-anchor-xform"),n=t("./one-cell-anchor-xform");class u extends h{constructor(){super(),this.map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new n}}prepare(f){f.anchors.forEach((d,y)=>{d.anchorType=(function(v){return(typeof v.range=="string"?l.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:y})})}get tag(){return"xdr:wsDr"}render(f,d){f.openXml(s.StdDocAttributes),f.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(y=>{this.map[y.anchorType].render(f,y)}),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):(f.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)),!0)}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):f!==this.tag}reconcile(f,d){f.anchors.forEach(y=>{y.br?this.map["xdr:twoCellAnchor"].reconcile(y,d):this.map["xdr:oneCellAnchor"].reconcile(y,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},i.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],64:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,h){s.openNode(this.tag);const a=Math.floor(9525*h.width),n=Math.floor(9525*h.height);s.addAttribute("cx",a),s.addAttribute("cy",n),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"a:hlinkClick"}render(s,h){h.hyperlinks&&h.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":h.hyperlinks.rId,tooltip:h.hyperlinks.tooltip})}parseOpen(s){return s.name===this.tag&&(this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}}),!0}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,i,c){const l=t("../base-xform"),s=t("./c-nv-pr-xform"),h=t("./c-nv-pic-pr-xform");i.exports=class extends l{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new h}}get tag(){return"xdr:nvPicPr"}render(a,n){a.openNode(this.tag),this.map["xdr:cNvPr"].render(a,n),this.map["xdr:cNvPicPr"].render(a,n),a.closeNode()}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):(a.name===this.tag?this.reset():(this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)),!0)}parseText(){}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model=this.map["xdr:cNvPr"].model,!1):!0}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,i,c){const l=t("./base-cell-anchor-xform"),s=t("../static-xform"),h=t("./cell-position-xform"),a=t("./ext-xform"),n=t("./pic-xform");i.exports=class extends l{constructor(){super(),this.map={"xdr:from":new h({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new n,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,p){this.map["xdr:pic"].prepare(u.picture,p)}render(u,p){u.openNode(this.tag,{editAs:p.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,p.range.tl),this.map["xdr:ext"].render(u,p.range.ext),this.map["xdr:pic"].render(u,p.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(u,p){u.medium=this.reconcilePicture(u.picture,p)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,i,c){const l=t("../base-xform"),s=t("../static-xform"),h=t("./blip-fill-xform"),a=t("./nv-pic-pr-xform"),n=t("./sp-pr");i.exports=class extends l{constructor(){super(),this.map={"xdr:nvPicPr":new a,"xdr:blipFill":new h,"xdr:spPr":new s(n)}}get tag(){return"xdr:pic"}prepare(u,p){u.index=p.index+1}render(u,p){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,p),this.map["xdr:blipFill"].render(u,p),this.map["xdr:spPr"].render(u,p),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?this.reset():(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(){}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):u!==this.tag}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,i,c){i.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,i,c){const l=t("./base-cell-anchor-xform"),s=t("../static-xform"),h=t("./cell-position-xform"),a=t("./pic-xform");i.exports=class extends l{constructor(){super(),this.map={"xdr:from":new h({tag:"xdr:from"}),"xdr:to":new h({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(n,u){this.map["xdr:pic"].prepare(n.picture,u)}render(n,u){n.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,u.range.tl),this.map["xdr:to"].render(n,u.range.br),this.map["xdr:pic"].render(n,u.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):n===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(n,u){n.medium=this.reconcilePicture(n.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,i,c){const l=t("./base-xform");i.exports=class extends l{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,h){const{childXform:a}=this;s&&s.forEach((n,u)=>{h.index=u,a.prepare(n,h)})}render(s,h){if(this.always||h&&h.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,h&&h.length||0);const{childXform:a}=this;(h||[]).forEach((n,u)=>{a.render(s,n,u)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,h){if(s){const{childXform:a}=this;s.forEach(n=>{a.reconcile(n,h)})}}}},{"./base-xform":32}],72:[function(t,i,c){const l=t("../../../utils/col-cache"),s=t("../base-xform");i.exports=class extends s{get tag(){return"autoFilter"}render(h,a){if(a)if(typeof a=="string")h.leafNode("autoFilter",{ref:a});else{const n=function(f){return typeof f=="string"?f:l.getAddress(f.row,f.column).address},u=n(a.from),p=n(a.to);u&&p&&h.leafNode("autoFilter",{ref:`${u}:${p}`})}}parseOpen(h){h.name==="autoFilter"&&(this.model=h.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,i,c){const l=t("../../../utils/utils"),s=t("../base-xform"),h=t("../../../doc/range"),a=t("../../../doc/enums"),n=t("../strings/rich-text-xform");function u(p){if(p==null)return a.ValueType.Null;if(p instanceof String||typeof p=="string")return a.ValueType.String;if(typeof p=="number")return a.ValueType.Number;if(typeof p=="boolean")return a.ValueType.Boolean;if(p instanceof Date)return a.ValueType.Date;if(p.text&&p.hyperlink)return a.ValueType.Hyperlink;if(p.formula)return a.ValueType.Formula;if(p.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}i.exports=class extends s{constructor(){super(),this.richTextXForm=new n}get tag(){return"c"}prepare(p,f){const d=f.styles.addStyleModel(p.style||{},(function(y){return y.type===a.ValueType.Formula?u(y.result):y.type})(p));switch(d&&(p.styleId=d),p.comment&&f.comments.push({...p.comment,ref:p.address}),p.type){case a.ValueType.String:case a.ValueType.RichText:f.sharedStrings&&(p.ssId=f.sharedStrings.add(p.value));break;case a.ValueType.Date:f.date1904&&(p.date1904=!0);break;case a.ValueType.Hyperlink:f.sharedStrings&&p.text!==void 0&&p.text!==null&&(p.ssId=f.sharedStrings.add(p.text)),f.hyperlinks.push({address:p.address,target:p.hyperlink,tooltip:p.tooltip});break;case a.ValueType.Merge:f.merges.add(p);break;case a.ValueType.Formula:if(f.date1904&&(p.date1904=!0),p.shareType==="shared"&&(p.si=f.siFormulae++),p.formula)f.formulae[p.address]=p;else if(p.sharedFormula){const y=f.formulae[p.sharedFormula];if(!y)throw new Error("Shared Formula master must exist above and or left of clone for cell "+p.address);y.si===void 0?(y.shareType="shared",y.si=f.siFormulae++,y.range=new h(y.address,p.address)):y.range&&y.range.expandToAddress(p.address),p.si=y.si}}}renderFormula(p,f){let d=null;switch(f.shareType){case"shared":d={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":d={t:"array",ref:f.ref};break;default:f.si!==void 0&&(d={t:"shared",si:f.si})}switch(u(f.result)){case a.ValueType.Null:p.leafNode("f",d,f.formula);break;case a.ValueType.String:p.addAttribute("t","str"),p.leafNode("f",d,f.formula),p.leafNode("v",null,f.result);break;case a.ValueType.Number:p.leafNode("f",d,f.formula),p.leafNode("v",null,f.result);break;case a.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("f",d,f.formula),p.leafNode("v",null,f.result?1:0);break;case a.ValueType.Error:p.addAttribute("t","e"),p.leafNode("f",d,f.formula),p.leafNode("v",null,f.result.error);break;case a.ValueType.Date:p.leafNode("f",d,f.formula),p.leafNode("v",null,l.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(p,f){if(f.type!==a.ValueType.Null||f.styleId){switch(p.openNode("c"),p.addAttribute("r",f.address),f.styleId&&p.addAttribute("s",f.styleId),f.type){case a.ValueType.Null:break;case a.ValueType.Number:p.leafNode("v",null,f.value);break;case a.ValueType.Boolean:p.addAttribute("t","b"),p.leafNode("v",null,f.value?"1":"0");break;case a.ValueType.Error:p.addAttribute("t","e"),p.leafNode("v",null,f.value.error);break;case a.ValueType.String:case a.ValueType.RichText:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(p.addAttribute("t","inlineStr"),p.openNode("is"),f.value.richText.forEach(d=>{this.richTextXForm.render(p,d)}),p.closeNode("is")):(p.addAttribute("t","str"),p.leafNode("v",null,f.value));break;case a.ValueType.Date:p.leafNode("v",null,l.dateToExcel(f.value,f.date1904));break;case a.ValueType.Hyperlink:f.ssId!==void 0?(p.addAttribute("t","s"),p.leafNode("v",null,f.ssId)):(p.addAttribute("t","str"),p.leafNode("v",null,f.text));break;case a.ValueType.Formula:this.renderFormula(p,f);break;case a.ValueType.Merge:}p.closeNode()}}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"c":return this.model={address:p.attributes.r},this.t=p.attributes.t,p.attributes.s&&(this.model.styleId=parseInt(p.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=p.attributes.si,this.model.shareType=p.attributes.t,this.model.ref=p.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(p),!0;default:return!1}}parseText(p){if(this.parser)this.parser.parseText(p);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+p:p;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+p:p:this.model.value=this.model.value?this.model.value+p:p}}parseClose(p){switch(p){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=a.ValueType.Formula,f.value&&(this.t==="str"?f.result=l.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=a.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=a.ValueType.String,f.value=l.xmlDecode(f.value);break;case"inlineStr":f.type=a.ValueType.String;break;case"b":f.type=a.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=a.ValueType.Error,f.value={error:f.value};break;default:f.type=a.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=a.ValueType.Null:f.type=a.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(p),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(p),!0)}}reconcile(p,f){const d=p.styleId&&f.styles&&f.styles.getStyleModel(p.styleId);switch(d&&(p.style=d),p.styleId!==void 0&&(p.styleId=void 0),p.type){case a.ValueType.String:typeof p.value=="number"&&f.sharedStrings&&(p.value=f.sharedStrings.getString(p.value)),p.value.richText&&(p.type=a.ValueType.RichText);break;case a.ValueType.Number:d&&l.isDateFmt(d.numFmt)&&(p.type=a.ValueType.Date,p.value=l.excelToDate(p.value,f.date1904));break;case a.ValueType.Formula:p.result!==void 0&&d&&l.isDateFmt(d.numFmt)&&(p.result=l.excelToDate(p.result,f.date1904)),p.shareType==="shared"&&(p.ref?f.formulae[p.si]=p.address:(p.sharedFormula=f.formulae[p.si],delete p.shareType),delete p.si)}const y=f.hyperlinkMap[p.address];y&&(p.type===a.ValueType.Formula?(p.text=p.result,p.result=void 0):(p.text=p.value,p.value=void 0),p.type=a.ValueType.Hyperlink,p.hyperlink=y);const v=f.commentsMap&&f.commentsMap[p.address];v&&(p.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{get tag(){return"x14:cfIcon"}render(s,h){s.leafNode(this.tag,{iconSet:h.iconSet,iconId:h.iconId})}parseOpen(s){let{attributes:h}=s;this.model={iconSet:h.iconSet,iconId:l.toIntValue(h.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(t,i,c){const{v4:l}=t("uuid"),s=t("../../base-xform"),h=t("../../composite-xform"),a=t("./databar-ext-xform"),n=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class p extends h{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new a,"x14:iconSet":this.iconSetXform=new n}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?a.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){p.isExt(d)&&(d.x14Id=`{${l()}}`.toUpperCase())}render(d,y){if(p.isExt(y))switch(y.type){case"dataBar":this.renderDataBar(d,y);break;case"iconSet":this.renderIconSet(d,y)}}renderDataBar(d,y){d.openNode(this.tag,{type:"dataBar",id:y.x14Id}),this.databarXform.render(d,y),d.closeNode()}renderIconSet(d,y){d.openNode(this.tag,{type:"iconSet",priority:y.priority,id:y.x14Id||`{${l()}}`}),this.iconSetXform.render(d,y),d.closeNode()}createNewModel(d){let{attributes:y}=d;return{type:y.type,x14Id:y.id,priority:s.toIntValue(y.priority)}}onParserClose(d,y){Object.assign(this.model,y.model)}}i.exports=p},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,i,c){const l=t("../../composite-xform"),s=t("./f-ext-xform");i.exports=class extends l{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(h,a){h.openNode(this.tag,{type:a.type}),a.value!==void 0&&this.fExtXform.render(h,a.value),h.closeNode()}createNewModel(h){return{type:h.attributes.type}}onParserClose(h,a){h==="xm:f"&&(this.model.value=a.model?parseFloat(a.model):0)}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,i,c){const l=t("../../composite-xform"),s=t("./sqref-ext-xform"),h=t("./cf-rule-ext-xform");i.exports=class extends l{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new h}}get tag(){return"x14:conditionalFormatting"}prepare(a,n){a.rules.forEach(u=>{this.cfRule.prepare(u,n)})}render(a,n){n.rules.some(h.isExt)&&(a.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),n.rules.filter(h.isExt).forEach(u=>this.cfRule.render(a,u)),this.sqRef.render(a,n.ref),a.closeNode())}createNewModel(){return{rules:[]}}onParserClose(a,n){switch(a){case"xm:sqref":this.model.ref=n.model;break;case"x14:cfRule":this.model.rules.push(n.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,i,c){const l=t("../../composite-xform"),s=t("./cf-rule-ext-xform"),h=t("./conditional-formatting-ext-xform");i.exports=class extends l{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new h}}get tag(){return"x14:conditionalFormattings"}hasContent(a){return a.hasExtContent===void 0&&(a.hasExtContent=a.some(n=>n.rules.some(s.isExt))),a.hasExtContent}prepare(a,n){a.forEach(u=>{this.cfXform.prepare(u,n)})}render(a,n){this.hasContent(n)&&(a.openNode(this.tag),n.forEach(u=>this.cfXform.render(a,u)),a.closeNode())}createNewModel(){return[]}onParserClose(a,n){this.model.push(n.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,i,c){const l=t("../../base-xform"),s=t("../../composite-xform"),h=t("../../style/color-xform"),a=t("./cfvo-ext-xform");i.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:borderColor":this.borderColorXform=new h("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new h("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new h("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new h("x14:axisColor")}}static isExt(n){return!n.gradient}get tag(){return"x14:dataBar"}render(n,u){n.openNode(this.tag,{minLength:l.toIntAttribute(u.minLength,0,!0),maxLength:l.toIntAttribute(u.maxLength,100,!0),border:l.toBoolAttribute(u.border,!1),gradient:l.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:l.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:l.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:l.toAttribute(u.axisPosition,"auto"),direction:l.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(p=>{this.cfvoXform.render(n,p)}),this.borderColorXform.render(n,u.borderColor),this.negativeBorderColorXform.render(n,u.negativeBorderColor),this.negativeFillColorXform.render(n,u.negativeFillColor),this.axisColorXform.render(n,u.axisColor),n.closeNode()}createNewModel(n){let{attributes:u}=n;return{cfvo:[],minLength:l.toIntValue(u.minLength,0),maxLength:l.toIntValue(u.maxLength,100),border:l.toBoolValue(u.border,!1),gradient:l.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:l.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:l.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:l.toStringValue(u.axisPosition,"auto"),direction:l.toStringValue(u.direction,"leftToRight")}}onParserClose(n,u){const[,p]=n.split(":");p==="cfvo"?this.model.cfvo.push(u.model):this.model[p]=u.model}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{get tag(){return"xm:f"}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(t,i,c){const l=t("../../base-xform"),s=t("../../composite-xform"),h=t("./cfvo-ext-xform"),a=t("./cf-icon-ext-xform");i.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new h,"x14:cfIcon":this.cfIconXform=new a}}get tag(){return"x14:iconSet"}render(n,u){n.openNode(this.tag,{iconSet:l.toStringAttribute(u.iconSet),reverse:l.toBoolAttribute(u.reverse,!1),showValue:l.toBoolAttribute(u.showValue,!0),custom:l.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(p=>{this.cfvoXform.render(n,p)}),u.icons&&u.icons.forEach((p,f)=>{p.iconId=f,this.cfIconXform.render(n,p)}),n.closeNode()}createNewModel(n){let{attributes:u}=n;return{cfvo:[],iconSet:l.toStringValue(u.iconSet,"3TrafficLights"),reverse:l.toBoolValue(u.reverse,!1),showValue:l.toBoolValue(u.showValue,!0)}}onParserClose(n,u){const[,p]=n.split(":");switch(p){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[p]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{get tag(){return"xm:sqref"}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(t,i,c){const l=t("../../base-xform"),s=t("../../composite-xform"),h=t("../../../../doc/range"),a=t("./databar-xform"),n=t("./ext-lst-ref-xform"),u=t("./formula-xform"),p=t("./color-scale-xform"),f=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},y=g=>{const{type:w,operator:_}=g;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:_}}};class v extends s{constructor(){super(),this.map={dataBar:this.databarXform=new a,extLst:this.extLstRefXform=new n,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new p,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!d[w.iconSet]}render(w,_){switch(_.type){case"expression":this.renderExpression(w,_);break;case"cellIs":this.renderCellIs(w,_);break;case"top10":this.renderTop10(w,_);break;case"aboveAverage":this.renderAboveAverage(w,_);break;case"dataBar":this.renderDataBar(w,_);break;case"colorScale":this.renderColorScale(w,_);break;case"iconSet":this.renderIconSet(w,_);break;case"containsText":this.renderText(w,_);break;case"timePeriod":this.renderTimePeriod(w,_)}}renderExpression(w,_){w.openNode(this.tag,{type:"expression",dxfId:_.dxfId,priority:_.priority}),this.formulaXform.render(w,_.formulae[0]),w.closeNode()}renderCellIs(w,_){w.openNode(this.tag,{type:"cellIs",dxfId:_.dxfId,priority:_.priority,operator:_.operator}),_.formulae.forEach(k=>{this.formulaXform.render(w,k)}),w.closeNode()}renderTop10(w,_){w.leafNode(this.tag,{type:"top10",dxfId:_.dxfId,priority:_.priority,percent:l.toBoolAttribute(_.percent,!1),bottom:l.toBoolAttribute(_.bottom,!1),rank:l.toIntValue(_.rank,10,!0)})}renderAboveAverage(w,_){w.leafNode(this.tag,{type:"aboveAverage",dxfId:_.dxfId,priority:_.priority,aboveAverage:l.toBoolAttribute(_.aboveAverage,!0)})}renderDataBar(w,_){w.openNode(this.tag,{type:"dataBar",priority:_.priority}),this.databarXform.render(w,_),this.extLstRefXform.render(w,_),w.closeNode()}renderColorScale(w,_){w.openNode(this.tag,{type:"colorScale",priority:_.priority}),this.colorScaleXform.render(w,_),w.closeNode()}renderIconSet(w,_){v.isPrimitive(_)&&(w.openNode(this.tag,{type:"iconSet",priority:_.priority}),this.iconSetXform.render(w,_),w.closeNode())}renderText(w,_){w.openNode(this.tag,{type:_.operator,dxfId:_.dxfId,priority:_.priority,operator:l.toStringAttribute(_.operator,"containsText")});const k=(M=>{if(M.formulae&&M.formulae[0])return M.formulae[0];const L=new h(M.ref),{tl:G}=L;switch(M.operator){case"containsText":return`NOT(ISERROR(SEARCH("${M.text}",${G})))`;case"containsBlanks":return`LEN(TRIM(${G}))=0`;case"notContainsBlanks":return`LEN(TRIM(${G}))>0`;case"containsErrors":return`ISERROR(${G})`;case"notContainsErrors":return`NOT(ISERROR(${G}))`;default:return}})(_);k&&this.formulaXform.render(w,k),w.closeNode()}renderTimePeriod(w,_){w.openNode(this.tag,{type:"timePeriod",dxfId:_.dxfId,priority:_.priority,timePeriod:_.timePeriod});const k=(M=>{if(M.formulae&&M.formulae[0])return M.formulae[0];const L=new h(M.ref),{tl:G}=L;switch(M.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${G},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${G},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${G},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${G},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${G},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${G},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${G},1)=TODAY()-1`;case"today":return`FLOOR(${G},1)=TODAY()`;case"tomorrow":return`FLOOR(${G},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${G},1)<=6,FLOOR(${G},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${G})=MONTH(EDATE(TODAY(),0-1)),YEAR(${G})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${G})=MONTH(TODAY()),YEAR(${G})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${G})=MONTH(EDATE(TODAY(),0+1)),YEAR(${G})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(_);k&&this.formulaXform.render(w,k),w.closeNode()}createNewModel(w){let{attributes:_}=w;return{...y(_),dxfId:l.toIntValue(_.dxfId),priority:l.toIntValue(_.priority),timePeriod:_.timePeriod,percent:l.toBoolValue(_.percent),bottom:l.toBoolValue(_.bottom),rank:l.toIntValue(_.rank),aboveAverage:l.toBoolValue(_.aboveAverage)}}onParserClose(w,_){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,_.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(_.model)}}}i.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{get tag(){return"cfvo"}render(s,h){s.leafNode(this.tag,{type:h.type,val:h.value})}parseOpen(s){this.model={type:s.attributes.type,value:l.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(t,i,c){const l=t("../../composite-xform"),s=t("../../style/color-xform"),h=t("./cfvo-xform");i.exports=class extends l{constructor(){super(),this.map={cfvo:this.cfvoXform=new h,color:this.colorXform=new s}}get tag(){return"colorScale"}render(a,n){a.openNode(this.tag),n.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),n.color.forEach(u=>{this.colorXform.render(a,u)}),a.closeNode()}createNewModel(a){return{cfvo:[],color:[]}}onParserClose(a,n){this.model[a].push(n.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,i,c){const l=t("../../composite-xform"),s=t("./cf-rule-xform");i.exports=class extends l{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(h,a){a.rules.some(s.isPrimitive)&&(h.openNode(this.tag,{sqref:a.ref}),a.rules.forEach(n=>{s.isPrimitive(n)&&(n.ref=a.ref,this.map.cfRule.render(h,n))}),h.closeNode())}createNewModel(h){let{attributes:a}=h;return{ref:a.sqref,rules:[]}}onParserClose(h,a){this.model.rules.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,i,c){const l=t("../../base-xform"),s=t("./conditional-formatting-xform");i.exports=class extends l{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(h,a){let n=h.reduce((u,p)=>Math.max(u,...p.rules.map(f=>f.priority||0)),1);h.forEach(u=>{u.rules.forEach(p=>{p.priority||(p.priority=n++),p.style&&(p.dxfId=a.styles.addDxfStyle(p.style))})})}render(h,a){a.forEach(n=>{this.cfXform.render(h,n)})}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):h.name==="conditionalFormatting"?(this.parser=this.cfXform,this.parser.parseOpen(h),!0):!1}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(!!this.parser.parseClose(h)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(h,a){h.forEach(n=>{n.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=a.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,i,c){const l=t("../../composite-xform"),s=t("../../style/color-xform"),h=t("./cfvo-xform");i.exports=class extends l{constructor(){super(),this.map={cfvo:this.cfvoXform=new h,color:this.colorXform=new s}}get tag(){return"dataBar"}render(a,n){a.openNode(this.tag),n.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),this.colorXform.render(a,n.color),a.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(a,n){switch(a){case"cfvo":this.model.cfvo.push(n.model);break;case"color":this.model.color=n.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,i,c){const l=t("../../base-xform"),s=t("../../composite-xform");class h extends l{get tag(){return"x14:id"}render(u,p){u.leafNode(this.tag,null,p)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class a extends s{constructor(){super(),this.map={"x14:id":this.idXform=new h}}get tag(){return"ext"}render(u,p){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,p.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,p){this.model.x14Id=p.model}}i.exports=class extends s{constructor(){super(),this.map={ext:new a}}get tag(){return"extLst"}render(n,u){n.openNode(this.tag),this.map.ext.render(n,u),n.closeNode()}createNewModel(){return{}}onParserClose(n,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,i,c){const l=t("../../base-xform");i.exports=class extends l{get tag(){return"formula"}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(t,i,c){const l=t("../../base-xform"),s=t("../../composite-xform"),h=t("./cfvo-xform");i.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new h}}get tag(){return"iconSet"}render(a,n){a.openNode(this.tag,{iconSet:l.toStringAttribute(n.iconSet,"3TrafficLights"),reverse:l.toBoolAttribute(n.reverse,!1),showValue:l.toBoolAttribute(n.showValue,!0)}),n.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),a.closeNode()}createNewModel(a){let{attributes:n}=a;return{iconSet:l.toStringValue(n.iconSet,"3TrafficLights"),reverse:l.toBoolValue(n.reverse),showValue:l.toBoolValue(n.showValue),cfvo:[]}}onParserClose(a,n){this.model[a].push(n.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,i,c){const l=t("../../../utils/utils"),s=t("../base-xform");i.exports=class extends s{get tag(){return"col"}prepare(h,a){const n=a.styles.addStyleModel(h.style||{});n&&(h.styleId=n)}render(h,a){h.openNode("col"),h.addAttribute("min",a.min),h.addAttribute("max",a.max),a.width&&h.addAttribute("width",a.width),a.styleId&&h.addAttribute("style",a.styleId),a.hidden&&h.addAttribute("hidden","1"),a.bestFit&&h.addAttribute("bestFit","1"),a.outlineLevel&&h.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&h.addAttribute("collapsed","1"),h.addAttribute("customWidth","1"),h.closeNode()}parseOpen(h){if(h.name==="col"){const a=this.model={min:parseInt(h.attributes.min||"0",10),max:parseInt(h.attributes.max||"0",10),width:h.attributes.width===void 0?void 0:parseFloat(h.attributes.width||"0")};return h.attributes.style&&(a.styleId=parseInt(h.attributes.style,10)),l.parseBoolean(h.attributes.hidden)&&(a.hidden=!0),l.parseBoolean(h.attributes.bestFit)&&(a.bestFit=!0),h.attributes.outlineLevel&&(a.outlineLevel=parseInt(h.attributes.outlineLevel,10)),l.parseBoolean(h.attributes.collapsed)&&(a.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(h,a){h.styleId&&(h.style=a.styles.getStyleModel(h.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../../../utils/utils"),h=t("../../../utils/col-cache"),a=t("../base-xform"),n=t("../../../doc/range");function u(f,d,y,v){const g=d[y];g!==void 0?f[y]=g:v!==void 0&&(f[y]=v)}function p(f,d,y,v){const g=d[y];g!==void 0&&(f[y]=s.parseBoolean(g))}i.exports=class extends a{get tag(){return"dataValidations"}render(f,d){const y=(function(v){const g=l.map(v,(k,M)=>({address:M,dataValidation:k,marked:!1})).sort((k,M)=>l.strcmp(k.address,M.address)),w=l.keyBy(g,"address"),_=(k,M,L)=>{for(let G=0;G<M;G++){const F=h.encodeAddress(k.row+G,L);if(!v[F]||!l.isEqual(v[k.address],v[F]))return!1}return!0};return g.map(k=>{if(!k.marked){const M=h.decodeEx(k.address);if(M.dimensions)return w[M.dimensions].marked=!0,{...k.dataValidation,sqref:k.address};let L=1,G=h.encodeAddress(M.row+L,M.col);for(;v[G]&&l.isEqual(k.dataValidation,v[G]);)L++,G=h.encodeAddress(M.row+L,M.col);let F=1;for(;_(M,L,M.col+F);)F++;for(let j=0;j<L;j++)for(let U=0;U<F;U++)G=h.encodeAddress(M.row+j,M.col+U),w[G].marked=!0;if(L>1||F>1){const j=M.row+(L-1),U=M.col+(F-1);return{...k.dataValidation,sqref:`${k.address}:${h.encodeAddress(j,U)}`}}return{...k.dataValidation,sqref:k.address}}return null}).filter(Boolean)})(d);y.length&&(f.openNode("dataValidations",{count:y.length}),y.forEach(v=>{f.openNode("dataValidation"),v.type!=="any"&&(f.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&f.addAttribute("operator",v.operator),v.allowBlank&&f.addAttribute("allowBlank","1")),v.showInputMessage&&f.addAttribute("showInputMessage","1"),v.promptTitle&&f.addAttribute("promptTitle",v.promptTitle),v.prompt&&f.addAttribute("prompt",v.prompt),v.showErrorMessage&&f.addAttribute("showErrorMessage","1"),v.errorStyle&&f.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&f.addAttribute("errorTitle",v.errorTitle),v.error&&f.addAttribute("error",v.error),f.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((g,w)=>{f.openNode("formula"+(w+1)),v.type==="date"?f.writeText(s.dateToExcel(new Date(g))):f.writeText(g),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const d={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&p(d,f.attributes,"allowBlank"),p(d,f.attributes,"showInputMessage"),p(d,f.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,f.attributes,"operator","between")}return u(d,f.attributes,"promptTitle"),u(d,f.attributes,"prompt"),u(d,f.attributes,"errorStyle"),u(d,f.attributes,"errorTitle"),u(d,f.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new n(d).forEachAddress(y=>{this.model[y]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=s.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"dimension"}render(s,h){h&&s.leafNode("dimension",{ref:h})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"drawing"}render(s,h){h&&s.leafNode(this.tag,{"r:id":h.rId})}parseOpen(s){return s.name===this.tag?(this.model={rId:s.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,i,c){const l=t("../composite-xform"),s=t("./cf-ext/conditional-formattings-ext-xform");class h extends l{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(n){return this.conditionalFormattings.hasContent(n.conditionalFormattings)}prepare(n,u){this.conditionalFormattings.prepare(n.conditionalFormattings,u)}render(n,u){n.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(n,u.conditionalFormattings),n.closeNode()}createNewModel(){return{}}onParserClose(n,u){this.model[n]=u.model}}i.exports=class extends l{constructor(){super(),this.map={ext:this.ext=new h}}get tag(){return"extLst"}prepare(a,n){this.ext.prepare(a,n)}hasContent(a){return this.ext.hasContent(a)}render(a,n){this.hasContent(n)&&(a.openNode("extLst"),this.ext.render(a,n),a.closeNode())}createNewModel(){return{}}onParserClose(a,n){Object.assign(this.model,n.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"headerFooter"}render(s,h){if(h){s.addRollback();let a=!1;s.openNode("headerFooter"),h.differentFirst&&(s.addAttribute("differentFirst","1"),a=!0),h.differentOddEven&&(s.addAttribute("differentOddEven","1"),a=!0),h.oddHeader&&typeof h.oddHeader=="string"&&(s.leafNode("oddHeader",null,h.oddHeader),a=!0),h.oddFooter&&typeof h.oddFooter=="string"&&(s.leafNode("oddFooter",null,h.oddFooter),a=!0),h.evenHeader&&typeof h.evenHeader=="string"&&(s.leafNode("evenHeader",null,h.evenHeader),a=!0),h.evenFooter&&typeof h.evenFooter=="string"&&(s.leafNode("evenFooter",null,h.evenFooter),a=!0),h.firstHeader&&typeof h.firstHeader=="string"&&(s.leafNode("firstHeader",null,h.firstHeader),a=!0),h.firstFooter&&typeof h.firstFooter=="string"&&(s.leafNode("firstFooter",null,h.firstFooter),a=!0),a?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"hyperlink"}render(s,h){this.isInternalLink(h)?s.leafNode("hyperlink",{ref:h.address,"r:id":h.rId,tooltip:h.tooltip,location:h.target}):s.leafNode("hyperlink",{ref:h.address,"r:id":h.rId,tooltip:h.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"mergeCell"}render(s,h){s.leafNode("mergeCell",{ref:h})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../../../doc/range"),h=t("../../../utils/col-cache"),a=t("../../../doc/enums");i.exports=class{constructor(){this.merges={}}add(n){if(this.merges[n.master])this.merges[n.master].expandToAddress(n.address);else{const u=`${n.master}:${n.address}`;this.merges[n.master]=new s(u)}}get mergeCells(){return l.map(this.merges,n=>n.range)}reconcile(n,u){l.each(n,p=>{const f=h.decode(p);for(let d=f.top;d<=f.bottom;d++){const y=u[d-1];for(let v=f.left;v<=f.right;v++){const g=y.cells[v-1];g?g.type===a.ValueType.Merge&&(g.master=f.tl):y.cells[v]={type:a.ValueType.Null,address:h.encodeAddress(d,v)}}}})}getMasterAddress(n){const u=this.hash[n];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,i,c){const l=t("../base-xform"),s=h=>h!==void 0;i.exports=class extends l{get tag(){return"outlinePr"}render(h,a){return!(!a||!s(a.summaryBelow)&&!s(a.summaryRight))&&(h.leafNode(this.tag,{summaryBelow:s(a.summaryBelow)?Number(a.summaryBelow):void 0,summaryRight:s(a.summaryRight)?Number(a.summaryRight):void 0}),!0)}parseOpen(h){return h.name===this.tag&&(this.model={summaryBelow:s(h.attributes.summaryBelow)?!!Number(h.attributes.summaryBelow):void 0,summaryRight:s(h.attributes.summaryRight)?!!Number(h.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"brk"}render(s,h){s.leafNode("brk",h)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../base-xform");i.exports=class extends s{get tag(){return"pageMargins"}render(h,a){if(a){const n={left:a.left,right:a.right,top:a.top,bottom:a.bottom,header:a.header,footer:a.footer};l.some(n,u=>u!==void 0)&&h.leafNode(this.tag,n)}}parseOpen(h){return h.name===this.tag?(this.model={left:parseFloat(h.attributes.left||.7),right:parseFloat(h.attributes.right||.7),top:parseFloat(h.attributes.top||.75),bottom:parseFloat(h.attributes.bottom||.75),header:parseFloat(h.attributes.header||.3),footer:parseFloat(h.attributes.footer||.3)},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"pageSetUpPr"}render(s,h){return!(!h||!h.fitToPage)&&(s.leafNode(this.tag,{fitToPage:h.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../base-xform");function h(p){return p?"1":void 0}function a(p){if(p==="overThenDown")return p}function n(p){switch(p){case"atEnd":case"asDisplyed":return p;default:return}}function u(p){switch(p){case"dash":case"blank":case"NA":return p;default:return}}i.exports=class extends s{get tag(){return"pageSetup"}render(p,f){if(f){const d={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:a(f.pageOrder),blackAndWhite:h(f.blackAndWhite),draft:h(f.draft),cellComments:n(f.cellComments),errors:u(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:h(f.firstPageNumber),usePrinterDefaults:h(f.usePrinterDefaults),copies:f.copies};l.some(d,y=>y!==void 0)&&p.leafNode(this.tag,d)}}parseOpen(p){if(p.name===this.tag)return this.model={paperSize:(f=p.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:p.attributes.orientation||"portrait",horizontalDpi:parseInt(p.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(p.attributes.verticalDpi||"4294967295",10),pageOrder:p.attributes.pageOrder||"downThenOver",blackAndWhite:p.attributes.blackAndWhite==="1",draft:p.attributes.draft==="1",cellComments:p.attributes.cellComments||"None",errors:p.attributes.errors||"displayed",scale:parseInt(p.attributes.scale||"100",10),fitToWidth:parseInt(p.attributes.fitToWidth||"1",10),fitToHeight:parseInt(p.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(p.attributes.firstPageNumber||"1",10),useFirstPageNumber:p.attributes.useFirstPageNumber==="1",usePrinterDefaults:p.attributes.usePrinterDefaults==="1",copies:parseInt(p.attributes.copies||"1",10)},!0;return!1;var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"picture"}render(s,h){h&&s.leafNode(this.tag,{"r:id":h.rId})}parseOpen(s){return s.name===this.tag?(this.model={rId:s.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../base-xform");function h(a){return a?"1":void 0}i.exports=class extends s{get tag(){return"printOptions"}render(a,n){if(n){const u={headings:h(n.showRowColHeaders),gridLines:h(n.showGridLines),horizontalCentered:h(n.horizontalCentered),verticalCentered:h(n.verticalCentered)};l.some(u,p=>p!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){return a.name===this.tag?(this.model={showRowColHeaders:a.attributes.headings==="1",showGridLines:a.attributes.gridLines==="1",horizontalCentered:a.attributes.horizontalCentered==="1",verticalCentered:a.attributes.verticalCentered==="1"},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,i,c){const l=t("./page-breaks-xform"),s=t("../list-xform");i.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new l})}render(h,a){if(a&&a.length){h.openNode(this.tag,this.$),this.count&&(h.addAttribute(this.$count,a.length),h.addAttribute("manualBreakCount",a.length));const{childXform:n}=this;a.forEach(u=>{n.render(h,u)}),h.closeNode()}else this.empty&&h.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,i,c){const l=t("../base-xform"),s=t("../../../utils/utils"),h=t("./cell-xform");i.exports=class extends l{constructor(a){super(),this.maxItems=a&&a.maxItems,this.map={c:new h}}get tag(){return"row"}prepare(a,n){const u=n.styles.addStyleModel(a.style);u&&(a.styleId=u);const p=this.map.c;a.cells.forEach(f=>{p.prepare(f,n)})}render(a,n,u){a.openNode("row"),a.addAttribute("r",n.number),n.height&&(a.addAttribute("ht",n.height),a.addAttribute("customHeight","1")),n.hidden&&a.addAttribute("hidden","1"),n.min>0&&n.max>0&&n.min<=n.max&&a.addAttribute("spans",`${n.min}:${n.max}`),n.styleId&&(a.addAttribute("s",n.styleId),a.addAttribute("customFormat","1")),a.addAttribute("x14ac:dyDescent","0.25"),n.outlineLevel&&a.addAttribute("outlineLevel",n.outlineLevel),n.collapsed&&a.addAttribute("collapsed","1");const p=this.map.c;n.cells.forEach(f=>{p.render(a,f,u)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;if(a.name==="row"){this.numRowsSeen+=1;const n=a.attributes.spans?a.attributes.spans.split(":").map(p=>parseInt(p,10)):[void 0,void 0],u=this.model={number:parseInt(a.attributes.r,10),min:n[0],max:n[1],cells:[]};return a.attributes.s&&(u.styleId=parseInt(a.attributes.s,10)),s.parseBoolean(a.attributes.hidden)&&(u.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(u.bestFit=!0),a.attributes.ht&&(u.height=parseFloat(a.attributes.ht)),a.attributes.outlineLevel&&(u.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(a,n){a.style=a.styleId?n.styles.getStyleModel(a.styleId):{},a.styleId!==void 0&&(a.styleId=void 0);const u=this.map.c;a.cells.forEach(p=>{u.reconcile(p,n)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../base-xform");i.exports=class extends s{get tag(){return"sheetFormatPr"}render(h,a){if(a){const n={defaultRowHeight:a.defaultRowHeight,outlineLevelRow:a.outlineLevelRow,outlineLevelCol:a.outlineLevelCol,"x14ac:dyDescent":a.dyDescent};a.defaultColWidth&&(n.defaultColWidth=a.defaultColWidth),a.defaultRowHeight&&a.defaultRowHeight===15||(n.customHeight="1"),l.some(n,u=>u!==void 0)&&h.leafNode("sheetFormatPr",n)}}parseOpen(h){return h.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(h.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(h.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(h.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(h.attributes.outlineLevelCol||"0",10)},h.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(h.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,i,c){const l=t("../base-xform"),s=t("../style/color-xform"),h=t("./page-setup-properties-xform"),a=t("./outline-properties-xform");i.exports=class extends l{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new h,outlinePr:new a}}get tag(){return"sheetPr"}render(n,u){if(u){n.addRollback(),n.openNode("sheetPr");let p=!1;p=this.map.tabColor.render(n,u.tabColor)||p,p=this.map.pageSetUpPr.render(n,u.pageSetup)||p,p=this.map.outlinePr.render(n,u.outlineProperties)||p,p?(n.closeNode(),n.commit()):n.rollback()}}parseOpen(n){return this.parser?(this.parser.parseOpen(n),!0):n.name===this.tag?(this.reset(),!0):!!this.map[n.name]&&(this.parser=this.map[n.name],this.parser.parseOpen(n),!0)}parseText(n){return!!this.parser&&(this.parser.parseText(n),!0)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../base-xform");function h(n,u){return n?u:void 0}function a(n,u){return n===u||void 0}i.exports=class extends s{get tag(){return"sheetProtection"}render(n,u){if(u){const p={sheet:h(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:h(u.formatCells,"0"),formatColumns:h(u.formatColumns,"0"),formatRows:h(u.formatRows,"0"),insertColumns:h(u.insertColumns,"0"),insertRows:h(u.insertRows,"0"),insertHyperlinks:h(u.insertHyperlinks,"0"),deleteColumns:h(u.deleteColumns,"0"),deleteRows:h(u.deleteRows,"0"),sort:h(u.sort,"0"),autoFilter:h(u.autoFilter,"0"),pivotTables:h(u.pivotTables,"0")};u.sheet&&(p.algorithmName=u.algorithmName,p.hashValue=u.hashValue,p.saltValue=u.saltValue,p.spinCount=u.spinCount,p.objects=h(u.objects===!1,"1"),p.scenarios=h(u.scenarios===!1,"1")),l.some(p,f=>f!==void 0)&&n.leafNode(this.tag,p)}}parseOpen(n){return n.name===this.tag?(this.model={sheet:a(n.attributes.sheet,"1"),objects:n.attributes.objects!=="1"&&void 0,scenarios:n.attributes.scenarios!=="1"&&void 0,selectLockedCells:n.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:n.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:a(n.attributes.formatCells,"0"),formatColumns:a(n.attributes.formatColumns,"0"),formatRows:a(n.attributes.formatRows,"0"),insertColumns:a(n.attributes.insertColumns,"0"),insertRows:a(n.attributes.insertRows,"0"),insertHyperlinks:a(n.attributes.insertHyperlinks,"0"),deleteColumns:a(n.attributes.deleteColumns,"0"),deleteRows:a(n.attributes.deleteRows,"0"),sort:a(n.attributes.sort,"0"),autoFilter:a(n.attributes.autoFilter,"0"),pivotTables:a(n.attributes.pivotTables,"0")},n.attributes.algorithmName&&(this.model.algorithmName=n.attributes.algorithmName,this.model.hashValue=n.attributes.hashValue,this.model.saltValue=n.attributes.saltValue,this.model.spinCount=parseInt(n.attributes.spinCount,10)),!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,i,c){const l=t("../../../utils/col-cache"),s=t("../base-xform"),h={frozen:"frozen",frozenSplit:"frozen",split:"split"};i.exports=class extends s{get tag(){return"sheetView"}prepare(a){switch(a.state){case"frozen":case"split":break;default:a.state="normal"}}render(a,n){a.openNode("sheetView",{workbookViewId:n.workbookViewId||0});const u=function(v,g,w){w&&a.addAttribute(v,g)};let p,f,d,y;switch(u("rightToLeft","1",n.rightToLeft===!0),u("tabSelected","1",n.tabSelected),u("showRuler","0",n.showRuler===!1),u("showRowColHeaders","0",n.showRowColHeaders===!1),u("showGridLines","0",n.showGridLines===!1),u("zoomScale",n.zoomScale,n.zoomScale),u("zoomScaleNormal",n.zoomScaleNormal,n.zoomScaleNormal),u("view",n.style,n.style),n.state){case"frozen":f=n.xSplit||0,d=n.ySplit||0,p=n.topLeftCell||l.getAddress(d+1,f+1).address,y=(n.xSplit&&n.ySplit?"bottomRight":n.xSplit&&"topRight")||"bottomLeft",a.leafNode("pane",{xSplit:n.xSplit||void 0,ySplit:n.ySplit||void 0,topLeftCell:p,activePane:y,state:"frozen"}),a.leafNode("selection",{pane:y,activeCell:n.activeCell,sqref:n.activeCell});break;case"split":n.activePane==="topLeft"&&(n.activePane=void 0),a.leafNode("pane",{xSplit:n.xSplit||void 0,ySplit:n.ySplit||void 0,topLeftCell:n.topLeftCell,activePane:n.activePane}),a.leafNode("selection",{pane:n.activePane,activeCell:n.activeCell,sqref:n.activeCell});break;case"normal":n.activeCell&&a.leafNode("selection",{activeCell:n.activeCell,sqref:n.activeCell})}a.closeNode()}parseOpen(a){switch(a.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(a.attributes.workbookViewId,10),rightToLeft:a.attributes.rightToLeft==="1",tabSelected:a.attributes.tabSelected==="1",showRuler:a.attributes.showRuler!=="0",showRowColHeaders:a.attributes.showRowColHeaders!=="0",showGridLines:a.attributes.showGridLines!=="0",zoomScale:parseInt(a.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(a.attributes.zoomScaleNormal||"100",10),style:a.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(a.attributes.xSplit||"0",10),ySplit:parseInt(a.attributes.ySplit||"0",10),topLeftCell:a.attributes.topLeftCell,activePane:a.attributes.activePane||"topLeft",state:a.attributes.state},!0;case"selection":{const n=a.attributes.pane||"topLeft";return this.selections[n]={pane:n,activeCell:a.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(a){let n,u;return a==="sheetView"?(this.sheetView&&this.pane?(n=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:h[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(n.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(n.activeCell=u.activeCell),this.sheetView.style&&(n.style=this.sheetView.style)):(n=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(n.activeCell=u.activeCell),this.sheetView.style&&(n.style=this.sheetView.style)),!1):!0}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"tablePart"}render(s,h){h&&s.leafNode(this.tag,{"r:id":h.rId})}parseOpen(s){return s.name===this.tag?(this.model={rId:s.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),h=t("../../../utils/xml-stream"),a=t("../../rel-type"),n=t("./merges"),u=t("../base-xform"),p=t("../list-xform"),f=t("./row-xform"),d=t("./col-xform"),y=t("./dimension-xform"),v=t("./hyperlink-xform"),g=t("./merge-cell-xform"),w=t("./data-validations-xform"),_=t("./sheet-properties-xform"),k=t("./sheet-format-properties-xform"),M=t("./sheet-view-xform"),L=t("./sheet-protection-xform"),G=t("./page-margins-xform"),F=t("./page-setup-xform"),j=t("./print-options-xform"),U=t("./auto-filter-xform"),q=t("./picture-xform"),X=t("./drawing-xform"),$=t("./table-part-xform"),R=t("./row-breaks-xform"),P=t("./header-footer-xform"),C=t("./cf/conditional-formattings-xform"),x=t("./ext-lst-xform"),S=(E,N)=>{if(!N||!N.length)return E;if(!E||!E.length)return N;const I={},B={};return E.forEach(K=>{I[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:nt}=Z;nt&&(B[nt]=Z)})}),N.forEach(K=>{K.rules.forEach(Z=>{const nt=B[Z.x14Id];nt?((H,tt)=>{Object.keys(tt).forEach(V=>{const D=H[V],Q=tt[V];D===void 0&&Q!==void 0&&(H[V]=Q)})})(nt,Z):I[K.ref]?I[K.ref].rules.push(Z):E.push({ref:K.ref,rules:[Z]})})}),E};class T extends u{constructor(N){super();const{maxRows:I,maxCols:B,ignoreNodes:K}=N||{};this.ignoreNodes=K||[],this.map={sheetPr:new _,dimension:new y,sheetViews:new p({tag:"sheetViews",count:!1,childXform:new M}),sheetFormatPr:new k,cols:new p({tag:"cols",count:!1,childXform:new d}),sheetData:new p({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:B}),maxItems:I}),autoFilter:new U,mergeCells:new p({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new R,hyperlinks:new p({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new G,dataValidations:new w,pageSetup:new F,headerFooter:new P,printOptions:new j,picture:new q,drawing:new X,sheetProtection:new L,tableParts:new p({tag:"tableParts",count:!0,childXform:new $}),conditionalFormatting:new C,extLst:new x}}prepare(N,I){I.merges=new n,N.hyperlinks=I.hyperlinks=[],N.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(N.cols,I),this.map.sheetData.prepare(N.rows,I),this.map.conditionalFormatting.prepare(N.conditionalFormattings,I),N.mergeCells=I.merges.mergeCells;const B=N.rels=[];function K(H){return"rId"+(H.length+1)}if(N.hyperlinks.forEach(H=>{const tt=K(B);H.rId=tt,B.push({Id:tt,Type:a.Hyperlink,Target:H.target,TargetMode:"External"})}),N.comments.length>0){const H={Id:K(B),Type:a.Comments,Target:`../comments${N.id}.xml`};B.push(H);const tt={Id:K(B),Type:a.VmlDrawing,Target:`../drawings/vmlDrawing${N.id}.vml`};B.push(tt),N.comments.forEach(V=>{V.refAddress=s.decodeAddress(V.ref)}),I.commentRefs.push({commentName:"comments"+N.id,vmlDrawing:"vmlDrawing"+N.id})}const Z=[];let nt;N.media.forEach(H=>{if(H.type==="background"){const tt=K(B);nt=I.media[H.imageId],B.push({Id:tt,Type:a.Image,Target:`../media/${nt.name}.${nt.extension}`}),N.background={rId:tt},N.image=I.media[H.imageId]}else if(H.type==="image"){let{drawing:tt}=N;nt=I.media[H.imageId],tt||(tt=N.drawing={rId:K(B),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(tt),B.push({Id:tt.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${tt.name}.xml`}));let V=this.preImageId===H.imageId?Z[H.imageId]:Z[tt.rels.length];V||(V=K(tt.rels),Z[tt.rels.length]=V,tt.rels.push({Id:V,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${nt.name}.${nt.extension}`}));const D={picture:{rId:V},range:H.range};if(H.hyperlinks&&H.hyperlinks.hyperlink){const Q=K(tt.rels);Z[tt.rels.length]=Q,D.picture.hyperlinks={tooltip:H.hyperlinks.tooltip,rId:Q},tt.rels.push({Id:Q,Type:a.Hyperlink,Target:H.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=H.imageId,tt.anchors.push(D)}}),N.tables.forEach(H=>{const tt=K(B);H.rId=tt,B.push({Id:tt,Type:a.Table,Target:"../tables/"+H.target}),H.columns.forEach(V=>{const{style:D}=V;D&&(V.dxfId=I.styles.addDxfStyle(D))})}),this.map.extLst.prepare(N,I)}render(N,I){N.openXml(h.StdDocAttributes),N.openNode("worksheet",T.WORKSHEET_ATTRIBUTES);const B=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(B.defaultColWidth=I.properties.defaultColWidth);const K={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},Z=I.pageSetup&&I.pageSetup.margins,nt={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},H=I.sheetProtection;this.map.sheetPr.render(N,K),this.map.dimension.render(N,I.dimensions),this.map.sheetViews.render(N,I.views),this.map.sheetFormatPr.render(N,B),this.map.cols.render(N,I.cols),this.map.sheetData.render(N,I.rows),this.map.sheetProtection.render(N,H),this.map.autoFilter.render(N,I.autoFilter),this.map.mergeCells.render(N,I.mergeCells),this.map.conditionalFormatting.render(N,I.conditionalFormattings),this.map.dataValidations.render(N,I.dataValidations),this.map.hyperlinks.render(N,I.hyperlinks),this.map.printOptions.render(N,nt),this.map.pageMargins.render(N,Z),this.map.pageSetup.render(N,I.pageSetup),this.map.headerFooter.render(N,I.headerFooter),this.map.rowBreaks.render(N,I.rowBreaks),this.map.drawing.render(N,I.drawing),this.map.picture.render(N,I.background),this.map.tableParts.render(N,I.tables),this.map.extLst.render(N,I),I.rels&&I.rels.forEach(tt=>{tt.Type===a.VmlDrawing&&N.leafNode("legacyDrawing",{"r:id":tt.Id})}),N.closeNode()}parseOpen(N){return this.parser?(this.parser.parseOpen(N),!0):N.name==="worksheet"?(l.each(this.map,I=>{I.reset()}),!0):(this.map[N.name]&&!this.ignoreNodes.includes(N.name)&&(this.parser=this.map[N.name],this.parser.parseOpen(N)),!0)}parseText(N){this.parser&&this.parser.parseText(N)}parseClose(N){if(this.parser)return this.parser.parseClose(N)||(this.parser=void 0),!0;if(N==="worksheet"){const I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),Z=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}else return!0}reconcile(N,I){const B=(N.relationships||[]).reduce((Z,nt)=>{if(Z[nt.Id]=nt,nt.Type===a.Comments&&(N.comments=I.comments[nt.Target].comments),nt.Type===a.VmlDrawing&&N.comments&&N.comments.length){const H=I.vmlDrawings[nt.Target].comments;N.comments.forEach((tt,V)=>{tt.note=Object.assign({},tt.note,H[V])})}return Z},{});if(I.commentsMap=(N.comments||[]).reduce((Z,nt)=>(nt.ref&&(Z[nt.ref]=nt),Z),{}),I.hyperlinkMap=(N.hyperlinks||[]).reduce((Z,nt)=>(nt.rId&&(Z[nt.address]=B[nt.rId].Target),Z),{}),I.formulae={},N.rows=N.rows&&N.rows.filter(Boolean)||[],N.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(N.cols,I),this.map.sheetData.reconcile(N.rows,I),this.map.conditionalFormatting.reconcile(N.conditionalFormattings,I),N.media=[],N.drawing){const Z=B[N.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const nt=Z[1];I.drawings[nt].anchors.forEach(H=>{if(H.medium){const tt={type:"image",imageId:H.medium.index,range:H.range,hyperlinks:H.picture.hyperlinks};N.media.push(tt)}})}}const K=N.background&&B[N.background.rId];if(K){const Z=K.Target.split("/media/")[1],nt=I.mediaIndex&&I.mediaIndex[Z];nt!==void 0&&N.media.push({type:"background",imageId:nt})}N.tables=(N.tables||[]).map(Z=>{const nt=B[Z.rId];return I.tables[nt.Target]}),delete N.relationships,delete N.hyperlinks,delete N.comments}}T.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},i.exports=T},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,h){h&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(h){try{return Number.isNaN(h.getTime())?"":h.toISOString()}catch{return""}},this._parse=s.parse||function(h){return new Date(h)}}render(s,h){h&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(h)):s.writeText(this._format(h)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,h){(h||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,h):s.writeText(h),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,h){h!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,h):s.writeText(h),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,i,c){const l=t("./base-xform"),s=t("../../utils/xml-stream");i.exports=class extends l{constructor(h){super(),this._model=h}render(h){if(!this._xml){const a=new s;(function n(u,p){u.openNode(p.tag,p.$),p.c&&p.c.forEach(f=>{n(u,f)}),p.t&&u.writeText(p.t),u.closeNode()})(a,this._model),this._xml=a.xml}h.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(h){return h!==this._model.tag}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,i,c){const l=t("./text-xform"),s=t("./rich-text-xform"),h=t("../base-xform");i.exports=class extends h{constructor(){super(),this.map={r:new s,t:new l}}get tag(){return"rPh"}render(a,n){if(a.openNode(this.tag,{sb:n.sb||0,eb:n.eb||0}),n&&n.hasOwnProperty("richText")&&n.richText){const{r:u}=this.map;n.richText.forEach(p=>{u.render(a,p)})}else n&&this.map.t.render(a,n.text);a.closeNode()}parseOpen(a){const{name:n}=a;return this.parser?(this.parser.parseOpen(a),!0):n===this.tag?(this.model={sb:parseInt(a.attributes.sb,10),eb:parseInt(a.attributes.eb,10)},!0):(this.parser=this.map[n],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return a!==this.tag}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,i,c){const l=t("./text-xform"),s=t("../style/font-xform"),h=t("../base-xform");class a extends h{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new l)}get fontXform(){return this._fontXform||(this._fontXform=new s(a.FONT_OPTIONS))}render(u,p){p=p||this.model,u.openNode("r"),p.font&&this.fontXform.render(u,p.font),this.textXform.render(u,p.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}a.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},i.exports=a},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,i,c){const l=t("./text-xform"),s=t("./rich-text-xform"),h=t("./phonetic-text-xform"),a=t("../base-xform");i.exports=class extends a{constructor(n){super(),this.model=n,this.map={r:new s,t:new l,rPh:new h}}get tag(){return"si"}render(n,u){n.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(p=>{this.map.r.render(n,p)}):this.map.t.render(n,""):u!=null&&this.map.t.render(n,u),n.closeNode()}parseOpen(n){const{name:u}=n;return this.parser?(this.parser.parseOpen(n),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(n),!0))}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)){switch(n){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return n!==this.tag}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("./shared-string-xform");i.exports=class extends s{constructor(a){super(),this.model=a||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new h)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(a){return this.model.values[a]}add(a){return a.richText?this.addRichText(a):this.addText(a)}addText(a){let n=this.hash[a];return n===void 0&&(n=this.hash[a]=this.model.values.length,this.model.values.push(a)),this.model.count++,n}addRichText(a){const n=this.sharedStringXform.toXml(a);let u=this.rich[n];return u===void 0&&(u=this.rich[n]=this.model.values.length,this.model.values.push(a)),this.model.count++,u}render(a,n){n=n||this._values,a.openXml(l.StdDocAttributes),a.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.count,uniqueCount:n.values.length});const u=this.sharedStringXform;n.values.forEach(p=>{u.render(a,p)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(a),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if(a==="sst")return!1;throw new Error("Unexpected xml node in parseClose: "+a)}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"t"}render(s,h){s.openNode("t"),/^\s|\n|\s$/.test(h)&&s.addAttribute("xml:space","preserve"),s.writeText(h),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,h)=>String.fromCharCode(parseInt(h,16)))}parseOpen(s){return s.name==="t"?(this._text=[],!0):!1}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,i,c){const l=t("../../../doc/enums"),s=t("../../../utils/utils"),h=t("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,p)=>(u[p]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){return u==="vertical"||(u=s.validInt(u))>=-90&&u<=90?u:void 0},indent:u=>(u=s.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return l.ReadingOrder.LeftToRight;case"rtl":return l.ReadingOrder.RightToLeft;default:return}}},n={toXml(u){if(u=a.textRotation(u)){if(u==="vertical")return 255;const p=Math.round(u);if(p>=0&&p<=90)return p;if(p<0&&p>=-90)return 90-p}},toModel(u){const p=s.validInt(u);if(p!==void 0){if(p===255)return"vertical";if(p>=0&&p<=90)return p;if(p>90&&p<=180)return 90-p}}};i.exports=class extends h{get tag(){return"alignment"}render(u,p){u.addRollback(),u.openNode("alignment");let f=!1;function d(y,v){v&&(u.addAttribute(y,v),f=!0)}d("horizontal",a.horizontal(p.horizontal)),d("vertical",a.vertical(p.vertical)),d("wrapText",!!a.wrapText(p.wrapText)&&"1"),d("shrinkToFit",!!a.shrinkToFit(p.shrinkToFit)&&"1"),d("indent",a.indent(p.indent)),d("textRotation",n.toXml(p.textRotation)),d("readingOrder",a.readingOrder(p.readingOrder)),u.closeNode(),f?u.commit():u.rollback()}parseOpen(u){const p={};let f=!1;function d(y,v,g){y&&(p[v]=g,f=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",s.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",n.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?p:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,i,c){const l=t("../base-xform"),s=t("../../../utils/utils"),h=t("./color-xform");class a extends l{constructor(u){super(),this.name=u,this.map={color:new h}}get tag(){return this.name}render(u,p,f){const d=p&&p.color||f||this.defaultColor;u.openNode(this.name),p&&p.style&&(u.addAttribute("style",p.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:p}=u.attributes;return this.model=p?{style:p}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return a.validStyleValues[u]}}a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((n,u)=>(n[u]=!0,n),{}),i.exports=class extends l{constructor(){super(),this.map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")}}render(n,u){const{color:p}=u;function f(d,y){d&&!d.color&&u.color&&(d={...d,color:u.color}),y.render(n,d,p)}n.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&n.addAttribute("diagonalUp","1"),u.diagonal.down&&n.addAttribute("diagonalDown","1")),f(u.left,this.map.left),f(u.right,this.map.right),f(u.top,this.map.top),f(u.bottom,this.map.bottom),f(u.diagonal,this.map.diagonal),n.closeNode()}parseOpen(n){return this.parser?(this.parser.parseOpen(n),!0):n.name==="border"?(this.reset(),this.diagonalUp=s.parseBoolean(n.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(n.attributes.diagonalDown),!0):(this.parser=this.map[n.name],!!this.parser&&(this.parser.parseOpen(n),!0))}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;if(n==="border"){const u=this.model={},p=function(f,d,y){d&&(y&&Object.assign(d,y),u[f]=d)};p("left",this.map.left.model),p("right",this.map.right.model),p("top",this.map.top.model),p("bottom",this.map.bottom.model),p("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,h){return!!h&&(s.openNode(this.name),h.argb?s.addAttribute("rgb",h.argb):h.theme!==void 0?(s.addAttribute("theme",h.theme),h.tint!==void 0&&s.addAttribute("tint",h.tint)):h.indexed!==void 0?s.addAttribute("indexed",h.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,i,c){const l=t("../base-xform"),s=t("./alignment-xform"),h=t("./border-xform"),a=t("./fill-xform"),n=t("./font-xform"),u=t("./numfmt-xform"),p=t("./protection-xform");i.exports=class extends l{constructor(){super(),this.map={alignment:new s,border:new h,fill:new a,font:new n,numFmt:new u,protection:new p}}get tag(){return"dxf"}render(f,d){if(f.openNode(this.tag),d.font&&this.map.font.render(f,d.font),d.numFmt&&d.numFmtId){const y={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(f,y)}d.fill&&this.map.fill.render(f,d.fill),d.alignment&&this.map.alignment.render(f,d.alignment),d.border&&this.map.border.render(f,d.border),d.protection&&this.map.protection.render(f,d.protection),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name===this.tag?(this.reset(),!0):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0)}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,i,c){const l=t("../base-xform"),s=t("./color-xform");class h extends l{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(f,d){f.openNode("stop"),f.addAttribute("position",d.position),this.map.color.render(f,d.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class a extends l{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,d){f.openNode("patternFill"),f.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(f,d.fgColor),d.bgColor&&this.map.bgColor.render(f,d.bgColor),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name==="patternFill"?(this.model={type:"pattern",pattern:f.attributes.patternType},!0):(this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class n extends l{constructor(){super(),this.map={stop:new h}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,d){switch(f.openNode("gradientFill"),d.gradient){case"angle":f.addAttribute("degree",d.degree);break;case"path":f.addAttribute("type","path"),d.center.left&&(f.addAttribute("left",d.center.left),d.center.right===void 0&&f.addAttribute("right",d.center.left)),d.center.right&&f.addAttribute("right",d.center.right),d.center.top&&(f.addAttribute("top",d.center.top),d.center.bottom===void 0&&f.addAttribute("bottom",d.center.top)),d.center.bottom&&f.addAttribute("bottom",d.center.bottom)}const y=this.map.stop;d.stops.forEach(v=>{y.render(f,v)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const d=this.model={stops:[]};return f.attributes.degree?(d.gradient="angle",d.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(d.gradient="path",d.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(d.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(d.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends l{constructor(){super(),this.map={patternFill:new a,gradientFill:new n}}get tag(){return"fill"}render(f,d){switch(f.addRollback(),f.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(f,d);break;case"gradient":this.map.gradientFill.render(f,d);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name==="fill"?(this.model={},!0):(this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return u.validPatternValues[f]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((p,f)=>(p[f]=!0,p),{}),u.StopXform=h,u.PatternFillXform=a,u.GradientFillXform=n,i.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,i,c){const l=t("./color-xform"),s=t("../simple/boolean-xform"),h=t("../simple/integer-xform"),a=t("../simple/string-xform"),n=t("./underline-xform"),u=t("../../../utils/under-dash"),p=t("../base-xform");class f extends p{constructor(y){super(),this.options=y||f.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new n},charset:{prop:"charset",xform:new h({tag:"charset",attr:"val"})},color:{prop:"color",xform:new l},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new h({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new h({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new a({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(y,v){const{map:g}=this;y.openNode(this.options.tagName),u.each(this.map,(w,_)=>{g[_].xform.render(y,v[w.prop])}),y.closeNode()}parseOpen(y){return this.parser?(this.parser.parseOpen(y),!0):this.map[y.name]?(this.parser=this.map[y.name].xform,this.parser.parseOpen(y)):y.name===this.options.tagName?(this.model={},!0):!1}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser&&!this.parser.parseClose(y)){const v=this.map[y];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}return y!==this.options.tagName}}f.OPTIONS={tagName:"font",fontNameTag:"name"},i.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,i,c){const l=t("../../../utils/under-dash"),s=t("../../defaultnumformats"),h=t("../base-xform"),a=(function(){const u={};return l.each(s,(p,f)=>{p.f&&(u[p.f]=parseInt(f,10))}),u})();class n extends h{constructor(p,f){super(),this.id=p,this.formatCode=f}get tag(){return"numFmt"}render(p,f){p.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(p){return p.name==="numFmt"?(this.model={id:parseInt(p.attributes.numFmtId,10),formatCode:p.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0):!1}parseText(){}parseClose(){return!1}}n.getDefaultFmtId=function(u){return a[u]},n.getDefaultFmtCode=function(u){return s[u]&&s[u].f},i.exports=n},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,i,c){const l=t("../base-xform"),s={boolean:(h,a)=>h===void 0?a:h};i.exports=class extends l{get tag(){return"protection"}render(h,a){h.addRollback(),h.openNode("protection");let n=!1;function u(p,f){f!==void 0&&(h.addAttribute(p,f),n=!0)}u("locked",s.boolean(a.locked,!0)?void 0:"0"),u("hidden",s.boolean(a.hidden,!1)?"1":void 0),h.closeNode(),n?h.commit():h.rollback()}parseOpen(h){const a={locked:h.attributes.locked!=="0",hidden:h.attributes.hidden==="1"},n=!a.locked||a.hidden;this.model=n?a:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,i,c){const l=t("../base-xform"),s=t("./alignment-xform"),h=t("./protection-xform");i.exports=class extends l{constructor(a){super(),this.xfId=!(!a||!a.xfId),this.map={alignment:new s,protection:new h}}get tag(){return"xf"}render(a,n){a.openNode("xf",{numFmtId:n.numFmtId||0,fontId:n.fontId||0,fillId:n.fillId||0,borderId:n.borderId||0}),this.xfId&&a.addAttribute("xfId",n.xfId||0),n.numFmtId&&a.addAttribute("applyNumberFormat","1"),n.fontId&&a.addAttribute("applyFont","1"),n.fillId&&a.addAttribute("applyFill","1"),n.borderId&&a.addAttribute("applyBorder","1"),n.alignment&&a.addAttribute("applyAlignment","1"),n.protection&&a.addAttribute("applyProtection","1"),n.alignment&&this.map.alignment.render(a,n.alignment),n.protection&&this.map.protection.render(a,n.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"xf":return this.model={numFmtId:parseInt(a.attributes.numFmtId,10),fontId:parseInt(a.attributes.fontId,10),fillId:parseInt(a.attributes.fillId,10),borderId:parseInt(a.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(a.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(a),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):a!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,i,c){const l=t("../../../doc/enums"),s=t("../../../utils/xml-stream"),h=t("../base-xform"),a=t("../static-xform"),n=t("../list-xform"),u=t("./font-xform"),p=t("./fill-xform"),f=t("./border-xform"),d=t("./numfmt-xform"),y=t("./style-xform"),v=t("./dxf-xform");class g extends h{constructor(_){super(),this.map={numFmts:new n({tag:"numFmts",count:!0,childXform:new d}),fonts:new n({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new n({tag:"fills",count:!0,childXform:new p}),borders:new n({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new n({tag:"cellStyleXfs",count:!0,childXform:new y}),cellXfs:new n({tag:"cellXfs",count:!0,childXform:new y({xfId:!0})}),dxfs:new n({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new d,font:new u,fill:new p,border:new f,style:new y({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},_&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(_,k){k=k||this.model,_.openXml(s.StdDocAttributes),_.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(k.numFmts&&k.numFmts.length&&(_.openNode("numFmts",{count:k.numFmts.length}),k.numFmts.forEach(M=>{_.writeXml(M)}),_.closeNode()),k.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),_.openNode("fonts",{count:k.fonts.length,"x14ac:knownFonts":1}),k.fonts.forEach(M=>{_.writeXml(M)}),_.closeNode(),_.openNode("fills",{count:k.fills.length}),k.fills.forEach(M=>{_.writeXml(M)}),_.closeNode(),_.openNode("borders",{count:k.borders.length}),k.borders.forEach(M=>{_.writeXml(M)}),_.closeNode(),this.map.cellStyleXfs.render(_,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),_.openNode("cellXfs",{count:k.styles.length}),k.styles.forEach(M=>{_.writeXml(M)}),_.closeNode()):(this.map.numFmts.render(_,k.numFmts),this.map.fonts.render(_,k.fonts),this.map.fills.render(_,k.fills),this.map.borders.render(_,k.borders),this.map.cellStyleXfs.render(_,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(_,k.styles)),g.STATIC_XFORMS.cellStyles.render(_),this.map.dxfs.render(_,k.dxfs),g.STATIC_XFORMS.tableStyles.render(_),g.STATIC_XFORMS.extLst.render(_),_.closeNode()}parseOpen(_){return this.parser?(this.parser.parseOpen(_),!0):_.name==="styleSheet"?(this.initIndex(),!0):(this.parser=this.map[_.name],this.parser&&this.parser.parseOpen(_),!0)}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){if(this.parser)return this.parser.parseClose(_)||(this.parser=void 0),!0;switch(_){case"styleSheet":{this.model={};const k=(M,L)=>{L.model&&L.model.length&&(this.model[M]=L.model)};if(k("numFmts",this.map.numFmts),k("fonts",this.map.fonts),k("fills",this.map.fills),k("borders",this.map.borders),k("styles",this.map.cellXfs),k("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const M=this.index.numFmt;this.model.numFmts.forEach(L=>{M[L.id]=L.formatCode})}return!1}default:return!0}}addStyleModel(_,k){if(!_)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(_))return this.weakMap.get(_);const M={};if(k=k||l.ValueType.Number,_.numFmt)M.numFmtId=this._addNumFmtStr(_.numFmt);else switch(k){case l.ValueType.Number:M.numFmtId=this._addNumFmtStr("General");break;case l.ValueType.Date:M.numFmtId=this._addNumFmtStr("mm-dd-yy")}_.font&&(M.fontId=this._addFont(_.font)),_.border&&(M.borderId=this._addBorder(_.border)),_.fill&&(M.fillId=this._addFill(_.fill)),_.alignment&&(M.alignment=_.alignment),_.protection&&(M.protection=_.protection);const L=this._addStyle(M);return this.weakMap&&this.weakMap.set(_,L),L}getStyleModel(_){const k=this.model.styles[_];if(!k)return null;let M=this.index.model[_];if(M)return M;if(M=this.index.model[_]={},k.numFmtId){const G=this.index.numFmt[k.numFmtId]||d.getDefaultFmtCode(k.numFmtId);G&&(M.numFmt=G)}function L(G,F,j){if(j||j===0){const U=F[j];U&&(M[G]=U)}}return L("font",this.model.fonts,k.fontId),L("border",this.model.borders,k.borderId),L("fill",this.model.fills,k.fillId),k.alignment&&(M.alignment=k.alignment),k.protection&&(M.protection=k.protection),M}addDxfStyle(_){return _.numFmt&&(_.numFmtId=this._addNumFmtStr(_.numFmt)),this.model.dxfs.push(_),this.model.dxfs.length-1}getDxfStyle(_){return this.model.dxfs[_]}_addStyle(_){const k=this.map.style.toXml(_);let M=this.index.style[k];return M===void 0&&(M=this.index.style[k]=this.model.styles.length,this.model.styles.push(k)),M}_addNumFmtStr(_){let k=d.getDefaultFmtId(_);if(k!==void 0||(k=this.index.numFmt[_],k!==void 0))return k;k=this.index.numFmt[_]=164+this.model.numFmts.length;const M=this.map.numFmt.toXml({id:k,formatCode:_});return this.model.numFmts.push(M),k}_addFont(_){const k=this.map.font.toXml(_);let M=this.index.font[k];return M===void 0&&(M=this.index.font[k]=this.model.fonts.length,this.model.fonts.push(k)),M}_addBorder(_){const k=this.map.border.toXml(_);let M=this.index.border[k];return M===void 0&&(M=this.index.border[k]=this.model.borders.length,this.model.borders.push(k)),M}_addFill(_){const k=this.map.fill.toXml(_);let M=this.index.fill[k];return M===void 0&&(M=this.index.fill[k]=this.model.fills.length,this.model.fills.push(k)),M}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,_){return _===l.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},i.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,i,c){const l=t("../base-xform");class s extends l{constructor(a){super(),this.model=a}get tag(){return"u"}render(a,n){if((n=n||this.model)===!0)a.leafNode("u");else{const u=s.Attributes[n];u&&a.leafNode("u",u)}}parseOpen(a){a.name==="u"&&(this.model=a.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},i.exports=s},{"../base-xform":32}],137:[function(t,i,c){const l=t("../base-xform"),s=t("./filter-column-xform");i.exports=class extends l{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(h){h.columns.forEach((a,n)=>{this.map.filterColumn.prepare(a,{index:n})})}render(h,a){return h.openNode(this.tag,{ref:a.autoFilterRef}),a.columns.forEach(n=>{this.map.filterColumn.render(h,n)}),h.closeNode(),!0}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.model={autoFilterRef:h.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[h.name],this.parser)return this.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(h===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: "+h)}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"customFilter"}render(s,h){s.leafNode(this.tag,{val:h.val,operator:h.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,i,c){const l=t("../base-xform"),s=t("../list-xform"),h=t("./custom-filter-xform"),a=t("./filter-xform");i.exports=class extends l{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new h}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new a})}}get tag(){return"filterColumn"}prepare(n,u){n.colId=u.index.toString()}render(n,u){return u.customFilters?(n.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(n,u.customFilters),n.closeNode(),!0):(n.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;const{attributes:u}=n;switch(n.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[n.name],this.parser)return this.parseOpen(n),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(){}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):n===this.tag?(this.model.customFilters=this.map.customFilters.model,!1):!0}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"filter"}render(s,h){s.leafNode(this.tag,{val:h.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"tableColumn"}prepare(s,h){s.id=h.index+1}render(s,h){return s.leafNode(this.tag,{id:h.id.toString(),name:h.name,totalsRowLabel:h.totalsRowLabel,totalsRowFunction:h.totalsRowFunction,dxfId:h.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:h}=s;return this.model={name:h.name,totalsRowLabel:h.totalsRowLabel,totalsRowFunction:h.totalsRowFunction,dxfId:h.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,i,c){const l=t("../base-xform");i.exports=class extends l{get tag(){return"tableStyleInfo"}render(s,h){return s.leafNode(this.tag,{name:h.theme?h.theme:void 0,showFirstColumn:h.showFirstColumn?"1":"0",showLastColumn:h.showLastColumn?"1":"0",showRowStripes:h.showRowStripes?"1":"0",showColumnStripes:h.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:h}=s;return this.model={theme:h.name?h.name:null,showFirstColumn:h.showFirstColumn==="1",showLastColumn:h.showLastColumn==="1",showRowStripes:h.showRowStripes==="1",showColumnStripes:h.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,i,c){const l=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("../list-xform"),a=t("./auto-filter-xform"),n=t("./table-column-xform"),u=t("./table-style-info-xform");class p extends s{constructor(){super(),this.map={autoFilter:new a,tableColumns:new h({tag:"tableColumns",count:!0,empty:!0,childXform:new n}),tableStyleInfo:new u}}prepare(d,y){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,y)}get tag(){return"table"}render(d,y){d.openXml(l.StdDocAttributes),d.openNode(this.tag,{...p.TABLE_ATTRIBUTES,id:y.id,name:y.name,displayName:y.displayName||y.name,ref:y.tableRef,totalsRowCount:y.totalsRow?"1":void 0,totalsRowShown:y.totalsRow?void 0:"1",headerRowCount:y.headerRow?"1":"0"}),this.map.autoFilter.render(d,y),this.map.tableColumns.render(d,y.columns),this.map.tableStyleInfo.render(d,y.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:y,attributes:v}=d;return y===this.tag?(this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"}):(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((y,v)=>{this.model.columns[v].filterButton=y.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1):!0}reconcile(d,y){d.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=y.styles.getDxfStyle(v.dxfId))})}}p.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},i.exports=p},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,i,c){(function(l,s){(function(){const h=t("fs"),a=t("jszip"),{PassThrough:n}=t("readable-stream"),u=t("../utils/zip-stream"),p=t("../utils/stream-buf"),f=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:y}=t("../utils/browser-buffer-decode"),v=t("./xform/style/styles-xform"),g=t("./xform/core/core-xform"),w=t("./xform/strings/shared-strings-xform"),_=t("./xform/core/relationships-xform"),k=t("./xform/core/content-types-xform"),M=t("./xform/core/app-xform"),L=t("./xform/book/workbook-xform"),G=t("./xform/sheet/worksheet-xform"),F=t("./xform/drawing/drawing-xform"),j=t("./xform/table/table-xform"),U=t("./xform/comment/comments-xform"),q=t("./xform/comment/vml-notes-xform"),X=t("./xml/theme1");class ${constructor(P){this.workbook=P}async readFile(P,C){if(!await f.fs.exists(P))throw new Error("File not found: "+P);const x=h.createReadStream(P);try{const S=await this.read(x,C);return x.close(),S}catch(S){throw x.close(),S}}parseRels(P){return new _().parseStream(P)}parseWorkbook(P){return new L().parseStream(P)}parseSharedStrings(P){return new w().parseStream(P)}reconcile(P,C){const x=new L,S=new G(C),T=new F,E=new j;x.reconcile(P);const N={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(K=>{const Z=P.drawings[K],nt=P.drawingRels[K];nt&&(N.rels=nt.reduce((H,tt)=>(H[tt.Id]=tt,H),{}),(Z.anchors||[]).forEach(H=>{const tt=H.picture&&H.picture.hyperlinks;tt&&N.rels[tt.rId]&&(tt.hyperlink=N.rels[tt.rId].Target,delete tt.rId)}),T.reconcile(Z,N))});const I={styles:P.styles};Object.values(P.tables).forEach(K=>{E.reconcile(K,I)});const B={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(K=>{K.relationships=P.worksheetRels[K.sheetNo],S.reconcile(K,B)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,C,x,S,T){const E=new G(S),N=await E.parseStream(P);N.sheetNo=x,C.worksheetHash[T]=N,C.worksheets.push(N)}async _processCommentEntry(P,C,x){const S=new U,T=await S.parseStream(P);C.comments[`../${x}.xml`]=T}async _processTableEntry(P,C,x){const S=new j,T=await S.parseStream(P);C.tables[`../tables/${x}.xml`]=T}async _processWorksheetRelsEntry(P,C,x){const S=new _,T=await S.parseStream(P);C.worksheetRels[x]=T}async _processMediaEntry(P,C,x){const S=x.lastIndexOf(".");if(S>=1){const T=x.substr(S+1),E=x.substr(0,S);await new Promise((N,I)=>{const B=new p;B.on("finish",()=>{C.mediaIndex[x]=C.media.length,C.mediaIndex[E]=C.media.length;const K={type:"image",name:E,extension:T,buffer:B.toBuffer()};C.media.push(K),N()}),P.on("error",K=>{I(K)}),P.pipe(B)})}}async _processDrawingEntry(P,C,x){const S=new F,T=await S.parseStream(P);C.drawings[x]=T}async _processDrawingRelsEntry(P,C,x){const S=new _,T=await S.parseStream(P);C.drawingRels[x]=T}async _processVmlDrawingEntry(P,C,x){const S=new q,T=await S.parseStream(P);C.vmlDrawings[`../drawings/${x}.vml`]=T}async _processThemeEntry(P,C,x){await new Promise((S,T)=>{const E=new p;P.on("error",T),E.on("error",T),E.on("finish",()=>{C.themes[x]=E.read().toString(),S()}),P.pipe(E)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,C){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new n));const x=[];for await(const S of P)x.push(S);return this.load(s.concat(x),C)}async load(P,C){let x;x=C&&C.base64?s.from(P.toString(),"base64"):P;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},T=await a.loadAsync(x);for(const E of Object.values(T.files))if(!E.dir){let N,I=E.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))N=new n,N.write(await E.async("nodebuffer"));else{let B;N=new n({writableObjectMode:!0,readableObjectMode:!0}),B=l.browser?y(await E.async("nodebuffer")):await E.async("string");const K=16384;for(let Z=0;Z<B.length;Z+=K)N.write(B.substring(Z,Z+K))}switch(N.end(),I){case"_rels/.rels":S.globalRels=await this.parseRels(N);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(N);S.sheets=B.sheets,S.definedNames=B.definedNames,S.views=B.views,S.properties=B.properties,S.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(N);break;case"xl/sharedStrings.xml":S.sharedStrings=new w,await S.sharedStrings.parseStream(N);break;case"xl/styles.xml":S.styles=new v,await S.styles.parseStream(N);break;case"docProps/app.xml":{const B=new M,K=await B.parseStream(N);S.company=K.company,S.manager=K.manager;break}case"docProps/core.xml":{const B=new g,K=await B.parseStream(N);Object.assign(S,K);break}default:{let B=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(N,S,B[1],C,I);break}if(B=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(N,S,B[1]);break}if(B=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(N,S,B[1]);break}if(B=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(N,S,B[1]);break}if(B=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(N,S,B[1]);break}if(B=I.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(N,S,B[1]);break}if(B=I.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(N,S,B[1]);break}if(B=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(N,S,B[1]);break}if(B=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(N,S,B[1]);break}}}}return this.reconcile(S,C),this.workbook.model=S,this.workbook}async addMedia(P,C){await Promise.all(C.media.map(async x=>{if(x.type==="image"){const S=`xl/media/${x.name}.${x.extension}`;if(x.filename){const T=await(function(E,N){return new Promise((I,B)=>{h.readFile(E,N,(K,Z)=>{K?B(K):I(Z)})})})(x.filename);return P.append(T,{name:S})}if(x.buffer)return P.append(x.buffer,{name:S});if(x.base64){const T=x.base64,E=T.substring(T.indexOf(",")+1);return P.append(E,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,C){const x=new F,S=new _;C.worksheets.forEach(T=>{const{drawing:E}=T;if(E){x.prepare(E,{});let N=x.toXml(E);P.append(N,{name:`xl/drawings/${E.name}.xml`}),N=S.toXml(E.rels),P.append(N,{name:`xl/drawings/_rels/${E.name}.xml.rels`})}})}addTables(P,C){const x=new j;C.worksheets.forEach(S=>{const{tables:T}=S;T.forEach(E=>{x.prepare(E,{});const N=x.toXml(E);P.append(N,{name:"xl/tables/"+E.target})})})}async addContentTypes(P,C){const x=new k().toXml(C);P.append(x,{name:"[Content_Types].xml"})}async addApp(P,C){const x=new M().toXml(C);P.append(x,{name:"docProps/app.xml"})}async addCore(P,C){const x=new g;P.append(x.toXml(C),{name:"docProps/core.xml"})}async addThemes(P,C){const x=C.themes||{theme1:X};Object.keys(x).forEach(S=>{const T=x[S],E=`xl/theme/${S}.xml`;P.append(T,{name:E})})}async addOfficeRels(P){const C=new _().toXml([{Id:"rId1",Type:$.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:$.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:$.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(C,{name:"_rels/.rels"})}async addWorkbookRels(P,C){let x=1;const S=[{Id:"rId"+x++,Type:$.RelType.Styles,Target:"styles.xml"},{Id:"rId"+x++,Type:$.RelType.Theme,Target:"theme/theme1.xml"}];C.sharedStrings.count&&S.push({Id:"rId"+x++,Type:$.RelType.SharedStrings,Target:"sharedStrings.xml"}),C.worksheets.forEach(E=>{E.rId="rId"+x++,S.push({Id:E.rId,Type:$.RelType.Worksheet,Target:`worksheets/sheet${E.id}.xml`})});const T=new _().toXml(S);P.append(T,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,C){C.sharedStrings&&C.sharedStrings.count&&P.append(C.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,C){const{xml:x}=C.styles;x&&P.append(x,{name:"xl/styles.xml"})}async addWorkbook(P,C){const x=new L;P.append(x.toXml(C),{name:"xl/workbook.xml"})}async addWorksheets(P,C){const x=new G,S=new _,T=new U,E=new q;C.worksheets.forEach(N=>{let I=new d;x.render(I,N),P.append(I.xml,{name:`xl/worksheets/sheet${N.id}.xml`}),N.rels&&N.rels.length&&(I=new d,S.render(I,N.rels),P.append(I.xml,{name:`xl/worksheets/_rels/sheet${N.id}.xml.rels`})),N.comments.length>0&&(I=new d,T.render(I,N),P.append(I.xml,{name:`xl/comments${N.id}.xml`}),I=new d,E.render(I,N),P.append(I.xml,{name:`xl/drawings/vmlDrawing${N.id}.vml`}))})}_finalize(P){return new Promise((C,x)=>{P.on("finish",()=>{C(this)}),P.on("error",x),P.finalize()})}prepareModel(P,C){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=C.useSharedStrings===void 0||C.useSharedStrings,P.useStyles=C.useStyles===void 0||C.useStyles,P.sharedStrings=new w,P.styles=P.useStyles?new v(!0):new v.Mock;const x=new L,S=new G;x.prepare(P);const T={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};T.drawings=P.drawings=[],T.commentRefs=P.commentRefs=[];let E=0;P.tables=[],P.worksheets.forEach(N=>{N.tables.forEach(I=>{E++,I.target=`table${E}.xml`,I.id=E,P.tables.push(I)}),S.prepare(N,T)})}async write(P,C){C=C||{};const{model:x}=this.workbook,S=new u.ZipWriter(C.zip);return S.pipe(P),this.prepareModel(x,C),await this.addContentTypes(S,x),await this.addOfficeRels(S,x),await this.addWorkbookRels(S,x),await this.addWorksheets(S,x),await this.addSharedStrings(S,x),await this.addDrawings(S,x),await this.addTables(S,x),await Promise.all([this.addThemes(S,x),this.addStyles(S,x)]),await this.addMedia(S,x),await Promise.all([this.addApp(S,x),this.addCore(S,x)]),await this.addWorkbook(S,x),this._finalize(S)}writeFile(P,C){const x=h.createWriteStream(P);return new Promise((S,T)=>{x.on("finish",()=>{S()}),x.on("error",E=>{T(E)}),this.write(x,C).then(()=>{x.end()}).catch(E=>{T(E)})})}async writeBuffer(P){const C=new p;return await this.write(C,P),C.read()}}$.RelType=t("./rel-type"),i.exports=$}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,i,c){i.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,i,c){(function(l){(function(){Object.defineProperty(c,"__esModule",{value:!0}),c.CsvFormatterStream=void 0;const s=t("stream"),h=t("./formatter");class a extends s.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new h.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,p,f){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(y,v)=>y?(d=!0,f(y)):(v&&v.forEach(g=>{this.push(l.from(g,"utf8"))}),d=!0,f()))}catch(y){if(d)throw y;f(y)}}_flush(u){this.rowFormatter.finish((p,f)=>p?u(p):(f&&f.forEach(d=>{this.push(l.from(d,"utf8"))}),u()))}}c.CsvFormatterStream=a}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.FormatterOptions=void 0,c.FormatterOptions=class{constructor(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,l||{}),l?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),l?.quote===!0?this.quote='"':l?.quote===!1&&(this.quote=""),typeof l?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=l.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,i,c){var l=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.FieldFormatter=void 0;const s=l(t("lodash.isboolean")),h=l(t("lodash.isnil")),a=l(t("lodash.escaperegexp"));c.FieldFormatter=class{constructor(n){this._headers=null,this.formatterOptions=n,n.headers!==null&&(this.headers=n.headers),this.REPLACE_REGEXP=new RegExp(n.quote,"g");const u=`[${n.delimiter}${a.default(n.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(n){this._headers=n}shouldQuote(n,u){const p=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(p)?p:Array.isArray(p)?p[n]:this._headers!==null&&p[this._headers[n]]}format(n,u,p){const f=(""+(h.default(n)?"":n)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&f.indexOf(d.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,d.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,p)?this.quoteField(f):f}quoteField(n){const{quote:u}=this.formatterOptions;return`${u}${n}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,i,c){var l=function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(c,"__esModule",{value:!0}),c.RowFormatter=void 0;const s=l(t("lodash.isfunction")),h=l(t("lodash.isequal")),a=t("./FieldFormatter"),n=t("../types");class u{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new a.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return u.isRowHashArray(f)?f.map(d=>d[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return n.isSyncTransform(f)?(d,y)=>{let v=null;try{v=f(d)}catch(g){return y(g)}return y(null,v)}:(d,y)=>{f(d,y)}}set rowTransform(f){if(!s.default(f))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(f)}format(f,d){this.callTransformer(f,(y,v)=>{if(y)return d(y);if(!f)return d(null);const g=[];if(v){const{shouldFormatColumns:w,headers:_}=this.checkHeaders(v);if(this.shouldWriteHeaders&&_&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(_,!0)),this.hasWrittenHeaders=!0),w){const k=this.gatherColumns(v);g.push(this.formatColumns(k,!1))}}return d(null,g)})}finish(f){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),f(null,d)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(f);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!h.default(d,f),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?u.isRowHashArray(f)?this.headers.map((d,y)=>{const v=f[y];return v?v[1]:""}):u.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((d,y)=>f[y]):this.headers.map(d=>f[d])}callTransformer(f,d){return this._rowTransform?this._rowTransform(f,d):d(null,f)}formatColumns(f,d){const y=f.map((g,w)=>this.fieldFormatter.format(g,w,d)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,y].join(""):y}}c.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.FieldFormatter=c.RowFormatter=void 0;var l=t("./RowFormatter");Object.defineProperty(c,"RowFormatter",{enumerable:!0,get:function(){return l.RowFormatter}});var s=t("./FieldFormatter");Object.defineProperty(c,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,i,c){(function(l){(function(){var s=Object.create?function(w,_,k,M){M===void 0&&(M=k),Object.defineProperty(w,M,{enumerable:!0,get:function(){return _[k]}})}:function(w,_,k,M){M===void 0&&(M=k),w[M]=_[k]},h=Object.create?function(w,_){Object.defineProperty(w,"default",{enumerable:!0,value:_})}:function(w,_){w.default=_},a=function(w){if(w&&w.__esModule)return w;var _={};if(w!=null)for(var k in w)k!=="default"&&Object.prototype.hasOwnProperty.call(w,k)&&s(_,w,k);return h(_,w),_},n=function(w,_){for(var k in w)k==="default"||Object.prototype.hasOwnProperty.call(_,k)||s(_,w,k)};Object.defineProperty(c,"__esModule",{value:!0}),c.writeToPath=c.writeToString=c.writeToBuffer=c.writeToStream=c.write=c.format=c.FormatterOptions=c.CsvFormatterStream=void 0;const u=t("util"),p=t("stream"),f=a(t("fs")),d=t("./FormatterOptions"),y=t("./CsvFormatterStream");n(t("./types"),c);var v=t("./CsvFormatterStream");Object.defineProperty(c,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var g=t("./FormatterOptions");Object.defineProperty(c,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),c.format=w=>new y.CsvFormatterStream(new d.FormatterOptions(w)),c.write=(w,_)=>{const k=c.format(_),M=u.promisify((L,G)=>{k.write(L,void 0,G)});return w.reduce((L,G)=>L.then(()=>M(G)),Promise.resolve()).then(()=>k.end()).catch(L=>{k.emit("error",L)}),k},c.writeToStream=(w,_,k)=>c.write(_,k).pipe(w),c.writeToBuffer=function(w){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const k=[],M=new p.Writable({write(L,G,F){k.push(L),F()}});return new Promise((L,G)=>{M.on("error",G).on("finish",()=>L(l.concat(k))),c.write(w,_).pipe(M)})},c.writeToString=(w,_)=>c.writeToBuffer(w,_).then(k=>k.toString()),c.writeToPath=(w,_,k)=>{const M=f.createWriteStream(w,{encoding:"utf8"});return c.write(_,k).pipe(M)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.isSyncTransform=void 0,c.isSyncTransform=l=>l.length===1},{}],153:[function(t,i,c){(function(l){(function(){Object.defineProperty(c,"__esModule",{value:!0}),c.CsvParserStream=void 0;const s=t("string_decoder"),h=t("stream"),a=t("./transforms"),n=t("./parser");class u extends h.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new n.Parser(f),this.headerTransformer=new a.HeaderTransformer(f),this.decoder=new s.StringDecoder(f.encoding),this.rowTransformerValidator=new a.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,y=new Array(d>1?d-1:0),v=1;v<d;v++)y[v-1]=arguments[v];return super.emit(f,...y)}_transform(f,d,y){if(this.hasHitRowLimit)return y();const v=u.wrapDoneCallback(y);try{const{lines:g}=this,w=g+this.decoder.write(f),_=this.parse(w,!0);return this.processRows(_,v)}catch(g){return v(g)}}_flush(f){const d=u.wrapDoneCallback(f);if(this.hasHitRowLimit)return d();try{const y=this.lines+this.decoder.end(),v=this.parse(y,!1);return this.processRows(v,d)}catch(y){return d(y)}}parse(f,d){if(!f)return[];const{line:y,rows:v}=this.parser.parse(f,d);return this.lines=y,v}processRows(f,d){const y=f.length,v=g=>{const w=M=>M?d(M):g%100!=0?v(g+1):void l(()=>v(g+1));if(this.checkAndEmitHeaders(),g>=y||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const _=f[g];this.rowCount+=1,this.parsedRowCount+=1;const k=this.rowCount;return this.transformRow(_,(M,L)=>{if(M)return this.rowCount-=1,w(M);if(!L)return w(new Error("expected transform result"));if(L.isValid){if(L.row)return this.pushRow(L.row,w)}else this.emit("data-invalid",L.row,k,L.reason);return w()})};v(0)}transformRow(f,d){try{this.headerTransformer.transform(f,(y,v)=>y?d(y):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:f}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(y){d(y)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,d){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),d()}catch(y){d(y)}}static wrapDoneCallback(f){let d=!1;return function(y){if(y){if(d)throw y;return d=!0,void f(y)}for(var v=arguments.length,g=new Array(v>1?v-1:0),w=1;w<v;w++)g[w-1]=arguments[w];f(...g)}}}c.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,i,c){var l=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.ParserOptions=void 0;const s=l(t("lodash.escaperegexp")),h=l(t("lodash.isnil"));c.ParserOptions=class{constructor(a){var n;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,a||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(n=this.escape)!==null&&n!==void 0?n:this.quote,this.supportsComments=!h.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,i,c){var l=Object.create?function(v,g,w,_){_===void 0&&(_=w),Object.defineProperty(v,_,{enumerable:!0,get:function(){return g[w]}})}:function(v,g,w,_){_===void 0&&(_=w),v[_]=g[w]},s=Object.create?function(v,g){Object.defineProperty(v,"default",{enumerable:!0,value:g})}:function(v,g){v.default=g},h=function(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&l(g,v,w);return s(g,v),g},a=function(v,g){for(var w in v)w==="default"||Object.prototype.hasOwnProperty.call(g,w)||l(g,v,w)};Object.defineProperty(c,"__esModule",{value:!0}),c.parseString=c.parseFile=c.parseStream=c.parse=c.ParserOptions=c.CsvParserStream=void 0;const n=h(t("fs")),u=t("stream"),p=t("./ParserOptions"),f=t("./CsvParserStream");a(t("./types"),c);var d=t("./CsvParserStream");Object.defineProperty(c,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var y=t("./ParserOptions");Object.defineProperty(c,"ParserOptions",{enumerable:!0,get:function(){return y.ParserOptions}}),c.parse=v=>new f.CsvParserStream(new p.ParserOptions(v)),c.parseStream=(v,g)=>v.pipe(new f.CsvParserStream(new p.ParserOptions(g))),c.parseFile=function(v){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.createReadStream(v).pipe(new f.CsvParserStream(new p.ParserOptions(g)))},c.parseString=(v,g)=>{const w=new u.Readable;return w.push(v),w.push(null),w.pipe(new f.CsvParserStream(new p.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Parser=void 0;const l=t("./Scanner"),s=t("./RowParser"),h=t("./Token");class a{constructor(u){this.parserOptions=u,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,p){const f=new l.Scanner({line:a.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:p});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(u){const p=[];let f=!0;for(;f;)f=this.parseRow(u,p);return{line:u.line,rows:p}}parseWithComments(u){const{parserOptions:p}=this,f=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(h.Token.isTokenComment(d,p)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:f};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:f};u.truncateToCursor()}else if(!this.parseRow(u,f))break;return{line:u.line,rows:f}}parseRow(u,p){if(!u.nextNonSpaceToken)return!1;const f=this.rowParser.parse(u);return f!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(f)||p.push(f),!0)}}c.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.RowParser=void 0;const l=t("./column"),s=t("./Token");c.RowParser=class{constructor(h){this.parserOptions=h,this.columnParser=new l.ColumnParser(h)}static isEmptyRow(h){return h.join("").replace(/\s+/g,"")===""}parse(h){const{parserOptions:a}=this,{hasMoreData:n}=h,u=h,p=[];let f=this.getStartToken(u,p);for(;f;){if(s.Token.isTokenRowDelimiter(f))return u.advancePastToken(f),!u.hasMoreCharacters&&s.Token.isTokenCarriageReturn(f,a)&&n?null:(u.truncateToCursor(),p);if(!this.shouldSkipColumnParse(u,f,p)){const d=this.columnParser.parse(u);if(d===null)return null;p.push(d)}f=u.nextNonSpaceToken}return n?null:(u.truncateToCursor(),p)}getStartToken(h,a){const n=h.nextNonSpaceToken;return n!==null&&s.Token.isTokenDelimiter(n,this.parserOptions)?(a.push(""),h.nextNonSpaceToken):n}shouldSkipColumnParse(h,a,n){const{parserOptions:u}=this;if(s.Token.isTokenDelimiter(a,u)){h.advancePastToken(a);const p=h.nextCharacterToken;if(!h.hasMoreCharacters||p!==null&&s.Token.isTokenRowDelimiter(p)||p!==null&&s.Token.isTokenDelimiter(p,u))return n.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Scanner=void 0;const l=t("./Token"),s=/((?:\r\n)|\n|\r)/;c.Scanner=class{constructor(h){this.cursor=0,this.line=h.line,this.lineLength=this.line.length,this.parserOptions=h.parserOptions,this.hasMoreData=h.hasMoreData,this.cursor=h.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:h}=this,a=this.parserOptions.NEXT_TOKEN_REGEXP;if(h.search(a)===-1)return null;const n=a.exec(h);if(n==null)return null;const u=n[1],p=this.cursor+(n.index||0);return new l.Token({token:u,startCursor:p,endCursor:p+u.length-1})}get nextCharacterToken(){const{cursor:h,lineLength:a}=this;return a<=h?null:new l.Token({token:this.line[h],startCursor:h,endCursor:h})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const h=s.exec(this.lineFromCursor);return h?(this.cursor+=(h.index||0)+h[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(h){return this.cursor=h,this}advanceToToken(h){return this.cursor=h.startCursor,this}advancePastToken(h){return this.cursor=h.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Token=void 0,c.Token=class{constructor(l){this.token=l.token,this.startCursor=l.startCursor,this.endCursor=l.endCursor}static isTokenRowDelimiter(l){const s=l.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(l,s){return l.token===s.carriageReturn}static isTokenComment(l,s){return s.supportsComments&&!!l&&l.token===s.comment}static isTokenEscapeCharacter(l,s){return l.token===s.escapeChar}static isTokenQuote(l,s){return l.token===s.quote}static isTokenDelimiter(l,s){return l.token===s.delimiter}}},{}],160:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.ColumnFormatter=void 0,c.ColumnFormatter=class{constructor(l){l.trim?this.format=s=>s.trim():l.ltrim?this.format=s=>s.trimLeft():l.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.ColumnParser=void 0;const l=t("./NonQuotedColumnParser"),s=t("./QuotedColumnParser"),h=t("../Token");c.ColumnParser=class{constructor(a){this.parserOptions=a,this.quotedColumnParser=new s.QuotedColumnParser(a),this.nonQuotedColumnParser=new l.NonQuotedColumnParser(a)}parse(a){const{nextNonSpaceToken:n}=a;return n!==null&&h.Token.isTokenQuote(n,this.parserOptions)?(a.advanceToToken(n),this.quotedColumnParser.parse(a)):this.nonQuotedColumnParser.parse(a)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.NonQuotedColumnParser=void 0;const l=t("./ColumnFormatter"),s=t("../Token");c.NonQuotedColumnParser=class{constructor(h){this.parserOptions=h,this.columnFormatter=new l.ColumnFormatter(h)}parse(h){if(!h.hasMoreCharacters)return null;const{parserOptions:a}=this,n=[];let u=h.nextCharacterToken;for(;u&&!s.Token.isTokenDelimiter(u,a)&&!s.Token.isTokenRowDelimiter(u);u=h.nextCharacterToken)n.push(u.token),h.advancePastToken(u);return this.columnFormatter.format(n.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.QuotedColumnParser=void 0;const l=t("./ColumnFormatter"),s=t("../Token");c.QuotedColumnParser=class{constructor(h){this.parserOptions=h,this.columnFormatter=new l.ColumnFormatter(h)}parse(h){if(!h.hasMoreCharacters)return null;const a=h.cursor,{foundClosingQuote:n,col:u}=this.gatherDataBetweenQuotes(h);if(!n){if(h.advanceTo(a),!h.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${h.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(h),u}gatherDataBetweenQuotes(h){const{parserOptions:a}=this;let n=!1,u=!1;const p=[];let f=h.nextCharacterToken;for(;!u&&f!==null;f=h.nextCharacterToken){const d=s.Token.isTokenQuote(f,a);if(!n&&d)n=!0;else if(n)if(s.Token.isTokenEscapeCharacter(f,a)){h.advancePastToken(f);const y=h.nextCharacterToken;y!==null&&(s.Token.isTokenQuote(y,a)||s.Token.isTokenEscapeCharacter(y,a))?(p.push(y.token),f=y):d?u=!0:p.push(f.token)}else d?u=!0:p.push(f.token);h.advancePastToken(f)}return{col:this.columnFormatter.format(p.join("")),foundClosingQuote:u}}checkForMalformedColumn(h){const{parserOptions:a}=this,{nextNonSpaceToken:n}=h;if(n){const u=s.Token.isTokenDelimiter(n,a),p=s.Token.isTokenRowDelimiter(n);if(!u&&!p){const f=h.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${a.escapedDelimiter}' OR new line got: '${n.token}'. at '${f}`)}h.advanceToToken(n)}else h.hasMoreData||h.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.ColumnFormatter=c.QuotedColumnParser=c.NonQuotedColumnParser=c.ColumnParser=void 0;var l=t("./ColumnParser");Object.defineProperty(c,"ColumnParser",{enumerable:!0,get:function(){return l.ColumnParser}});var s=t("./NonQuotedColumnParser");Object.defineProperty(c,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var h=t("./QuotedColumnParser");Object.defineProperty(c,"QuotedColumnParser",{enumerable:!0,get:function(){return h.QuotedColumnParser}});var a=t("./ColumnFormatter");Object.defineProperty(c,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.QuotedColumnParser=c.NonQuotedColumnParser=c.ColumnParser=c.Token=c.Scanner=c.RowParser=c.Parser=void 0;var l=t("./Parser");Object.defineProperty(c,"Parser",{enumerable:!0,get:function(){return l.Parser}});var s=t("./RowParser");Object.defineProperty(c,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var h=t("./Scanner");Object.defineProperty(c,"Scanner",{enumerable:!0,get:function(){return h.Scanner}});var a=t("./Token");Object.defineProperty(c,"Token",{enumerable:!0,get:function(){return a.Token}});var n=t("./column");Object.defineProperty(c,"ColumnParser",{enumerable:!0,get:function(){return n.ColumnParser}}),Object.defineProperty(c,"NonQuotedColumnParser",{enumerable:!0,get:function(){return n.NonQuotedColumnParser}}),Object.defineProperty(c,"QuotedColumnParser",{enumerable:!0,get:function(){return n.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,i,c){var l=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0}),c.HeaderTransformer=void 0;const s=l(t("lodash.isundefined")),h=l(t("lodash.isfunction")),a=l(t("lodash.uniq")),n=l(t("lodash.groupby"));c.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):h.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,p){return this.shouldMapRow(u)?p(null,this.processRow(u)):p(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:p}=this;if(!this.headersTransform&&p.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:p}=this;if(!p.discardUnmappedColumns&&u.length>this.headersLength){if(!p.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return p.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const p={},{headers:f,headersLength:d}=this;for(let y=0;y<d;y+=1){const v=f[y];if(!s.default(v)){const g=u[y];s.default(g)?p[v]="":p[v]=g}}return p}setHeaders(u){var p;const f=u.filter(d=>!!d);if(a.default(f).length!==f.length){const d=n.default(f),y=Object.keys(d).filter(v=>d[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(y))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((p=this.headers)===null||p===void 0?void 0:p.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,i,c){var l=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.RowTransformerValidator=void 0;const s=l(t("lodash.isfunction")),h=t("../types");class a{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return h.isSyncTransform(u)?(p,f)=>{let d=null;try{d=u(p)}catch(y){return f(y)}return f(null,d)}:u}static createValidator(u){return h.isSyncValidate(u)?(p,f)=>{f(null,{row:p,isValid:u(p)})}:(p,f)=>{u(p,(d,y,v)=>d?f(d):f(null,y?{row:p,isValid:y,reason:v}:{row:p,isValid:!1,reason:v}))}}set rowTransform(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=a.createTransform(u)}set rowValidator(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=a.createValidator(u)}transformAndValidate(u,p){return this.callTransformer(u,(f,d)=>f?p(f):d?this.callValidator(d,(y,v)=>y?p(y):v&&!v.isValid?p(null,{row:d,isValid:!1,reason:v.reason}):p(null,{row:d,isValid:!0})):p(null,{row:null,isValid:!0}))}callTransformer(u,p){return this._rowTransform?this._rowTransform(u,p):p(null,u)}callValidator(u,p){return this._rowValidator?this._rowValidator(u,p):p(null,{row:u,isValid:!0})}}c.RowTransformerValidator=a},{"../types":169,"lodash.isfunction":446}],168:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.HeaderTransformer=c.RowTransformerValidator=void 0;var l=t("./RowTransformerValidator");Object.defineProperty(c,"RowTransformerValidator",{enumerable:!0,get:function(){return l.RowTransformerValidator}});var s=t("./HeaderTransformer");Object.defineProperty(c,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.isSyncValidate=c.isSyncTransform=void 0,c.isSyncTransform=l=>l.length===1,c.isSyncValidate=l=>l.length===1},{}],170:[function(t,i,c){const l=c;l.bignum=t("bn.js"),l.define=t("./asn1/api").define,l.base=t("./asn1/base"),l.constants=t("./asn1/constants"),l.decoders=t("./asn1/decoders"),l.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,i,c){const l=t("./encoders"),s=t("./decoders"),h=t("inherits");function a(n,u){this.name=n,this.body=u,this.decoders={},this.encoders={}}c.define=function(n,u){return new a(n,u)},a.prototype._createNamed=function(n){const u=this.name;function p(f){this._initNamed(f,u)}return h(p,n),p.prototype._initNamed=function(f,d){n.call(this,f,d)},new p(this)},a.prototype._getDecoder=function(n){return n=n||"der",this.decoders.hasOwnProperty(n)||(this.decoders[n]=this._createNamed(s[n])),this.decoders[n]},a.prototype.decode=function(n,u,p){return this._getDecoder(u).decode(n,p)},a.prototype._getEncoder=function(n){return n=n||"der",this.encoders.hasOwnProperty(n)||(this.encoders[n]=this._createNamed(l[n])),this.encoders[n]},a.prototype.encode=function(n,u,p){return this._getEncoder(u).encode(n,p)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,i,c){const l=t("inherits"),s=t("../base/reporter").Reporter,h=t("safer-buffer").Buffer;function a(u,p){s.call(this,p),h.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function n(u,p){if(Array.isArray(u))this.length=0,this.value=u.map((function(f){return n.isEncoderBuffer(f)||(f=new n(f,p)),this.length+=f.length,f}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return p.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=h.byteLength(u);else{if(!h.isBuffer(u))return p.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}l(a,s),c.DecoderBuffer=a,a.isDecoderBuffer=function(u){return u instanceof a?!0:typeof u=="object"&&h.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},a.prototype.restore=function(u){const p=new a(this.base);return p.offset=u.offset,p.length=this.offset,this.offset=u.offset,s.prototype.restore.call(this,u.reporter),p},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},a.prototype.skip=function(u,p){if(!(this.offset+u<=this.length))return this.error(p||"DecoderBuffer overrun");const f=new a(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+u,this.offset+=u,f},a.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},c.EncoderBuffer=n,n.isEncoderBuffer=function(u){return u instanceof n?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},n.prototype.join=function(u,p){return u||(u=h.alloc(this.length)),p||(p=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(u,p),p+=f.length})):(typeof this.value=="number"?u[p]=this.value:typeof this.value=="string"?u.write(this.value,p):h.isBuffer(this.value)&&this.value.copy(u,p),p+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,i,c){const l=c;l.Reporter=t("./reporter").Reporter,l.DecoderBuffer=t("./buffer").DecoderBuffer,l.EncoderBuffer=t("./buffer").EncoderBuffer,l.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,i,c){const l=t("../base/reporter").Reporter,s=t("../base/buffer").EncoderBuffer,h=t("../base/buffer").DecoderBuffer,a=t("minimalistic-assert"),n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n);function p(d,y,v){const g={};this._baseState=g,g.name=v,g.enc=d,g.parent=y||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}i.exports=p;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];p.prototype.clone=function(){const d=this._baseState,y={};f.forEach((function(g){y[g]=d[g]}));const v=new this.constructor(y.parent);return v._baseState=y,v},p.prototype._wrap=function(){const d=this._baseState;u.forEach((function(y){this[y]=function(){const v=new this.constructor(this);return d.children.push(v),v[y].apply(v,arguments)}}),this)},p.prototype._init=function(d){const y=this._baseState;a(y.parent===null),d.call(this),y.children=y.children.filter((function(v){return v._baseState.parent===this}),this),a.equal(y.children.length,1,"Root node can have only one child")},p.prototype._useArgs=function(d){const y=this._baseState,v=d.filter((function(g){return g instanceof this.constructor}),this);d=d.filter((function(g){return!(g instanceof this.constructor)}),this),v.length!==0&&(a(y.children===null),y.children=v,v.forEach((function(g){g._baseState.parent=this}),this)),d.length!==0&&(a(y.args===null),y.args=d,y.reverseArgs=d.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const w={};return Object.keys(g).forEach((function(_){_==(0|_)&&(_|=0);const k=g[_];w[k]=_})),w})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){p.prototype[d]=function(){const y=this._baseState;throw new Error(d+" not implemented for encoding: "+y.enc)}})),n.forEach((function(d){p.prototype[d]=function(){const y=this._baseState,v=Array.prototype.slice.call(arguments);return a(y.tag===null),y.tag=d,this._useArgs(v),this}})),p.prototype.use=function(d){a(d);const y=this._baseState;return a(y.use===null),y.use=d,this},p.prototype.optional=function(){return this._baseState.optional=!0,this},p.prototype.def=function(d){const y=this._baseState;return a(y.default===null),y.default=d,y.optional=!0,this},p.prototype.explicit=function(d){const y=this._baseState;return a(y.explicit===null&&y.implicit===null),y.explicit=d,this},p.prototype.implicit=function(d){const y=this._baseState;return a(y.explicit===null&&y.implicit===null),y.implicit=d,this},p.prototype.obj=function(){const d=this._baseState,y=Array.prototype.slice.call(arguments);return d.obj=!0,y.length!==0&&this._useArgs(y),this},p.prototype.key=function(d){const y=this._baseState;return a(y.key===null),y.key=d,this},p.prototype.any=function(){return this._baseState.any=!0,this},p.prototype.choice=function(d){const y=this._baseState;return a(y.choice===null),y.choice=d,this._useArgs(Object.keys(d).map((function(v){return d[v]}))),this},p.prototype.contains=function(d){const y=this._baseState;return a(y.use===null),y.contains=d,this},p.prototype._decode=function(d,y){const v=this._baseState;if(v.parent===null)return d.wrapResult(v.children[0]._decode(d,y));let g,w=v.default,_=!0,k=null;if(v.key!==null&&(k=d.enterKey(v.key)),v.optional){let M=null;if(v.explicit!==null?M=v.explicit:v.implicit!==null?M=v.implicit:v.tag!==null&&(M=v.tag),M!==null||v.any){if(_=this._peekTag(d,M,v.any),d.isError(_))return _}else{const L=d.save();try{v.choice===null?this._decodeGeneric(v.tag,d,y):this._decodeChoice(d,y),_=!0}catch{_=!1}d.restore(L)}}if(v.obj&&_&&(g=d.enterObject()),_){if(v.explicit!==null){const L=this._decodeTag(d,v.explicit);if(d.isError(L))return L;d=L}const M=d.offset;if(v.use===null&&v.choice===null){let L;v.any&&(L=d.save());const G=this._decodeTag(d,v.implicit!==null?v.implicit:v.tag,v.any);if(d.isError(G))return G;v.any?w=d.raw(L):d=G}if(y&&y.track&&v.tag!==null&&y.track(d.path(),M,d.length,"tagged"),y&&y.track&&v.tag!==null&&y.track(d.path(),d.offset,d.length,"content"),v.any||(w=v.choice===null?this._decodeGeneric(v.tag,d,y):this._decodeChoice(d,y)),d.isError(w))return w;if(v.any||v.choice!==null||v.children===null||v.children.forEach((function(L){L._decode(d,y)})),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const L=new h(w);w=this._getUse(v.contains,d._reporterState.obj)._decode(L,y)}}return v.obj&&_&&(w=d.leaveObject(g)),v.key===null||w===null&&_!==!0?k!==null&&d.exitKey(k):d.leaveKey(k,v.key,w),w},p.prototype._decodeGeneric=function(d,y,v){const g=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(y,d,g.args[0],v):/str$/.test(d)?this._decodeStr(y,d,v):d==="objid"&&g.args?this._decodeObjid(y,g.args[0],g.args[1],v):d==="objid"?this._decodeObjid(y,null,null,v):d==="gentime"||d==="utctime"?this._decodeTime(y,d,v):d==="null_"?this._decodeNull(y,v):d==="bool"?this._decodeBool(y,v):d==="objDesc"?this._decodeStr(y,d,v):d==="int"||d==="enum"?this._decodeInt(y,g.args&&g.args[0],v):g.use!==null?this._getUse(g.use,y._reporterState.obj)._decode(y,v):y.error("unknown tag: "+d)},p.prototype._getUse=function(d,y){const v=this._baseState;return v.useDecoder=this._use(d,y),a(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},p.prototype._decodeChoice=function(d,y){const v=this._baseState;let g=null,w=!1;return Object.keys(v.choice).some((function(_){const k=d.save(),M=v.choice[_];try{const L=M._decode(d,y);if(d.isError(L))return!1;g={type:_,value:L},w=!0}catch{return d.restore(k),!1}return!0}),this),w?g:d.error("Choice not matched")},p.prototype._createEncoderBuffer=function(d){return new s(d,this.reporter)},p.prototype._encode=function(d,y,v){const g=this._baseState;if(g.default!==null&&g.default===d)return;const w=this._encodeValue(d,y,v);return w===void 0||this._skipDefault(w,y,v)?void 0:w},p.prototype._encodeValue=function(d,y,v){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(d,y||new l);let w=null;if(this.reporter=y,g.optional&&d===void 0){if(g.default===null)return;d=g.default}let _=null,k=!1;if(g.any)w=this._createEncoderBuffer(d);else if(g.choice)w=this._encodeChoice(d,y);else if(g.contains)_=this._getUse(g.contains,v)._encode(d,y),k=!0;else if(g.children)_=g.children.map((function(M){if(M._baseState.tag==="null_")return M._encode(null,y,d);if(M._baseState.key===null)return y.error("Child should have a key");const L=y.enterKey(M._baseState.key);if(typeof d!="object")return y.error("Child expected, but input is not object");const G=M._encode(d[M._baseState.key],y,d);return y.leaveKey(L),G}),this).filter((function(M){return M})),_=this._createEncoderBuffer(_);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return y.error("Too many args for : "+g.tag);if(!Array.isArray(d))return y.error("seqof/setof, but data is not Array");const M=this.clone();M._baseState.implicit=null,_=this._createEncoderBuffer(d.map((function(L){const G=this._baseState;return this._getUse(G.args[0],d)._encode(L,y)}),M))}else g.use!==null?w=this._getUse(g.use,v)._encode(d,y):(_=this._encodePrimitive(g.tag,d),k=!0);if(!g.any&&g.choice===null){const M=g.implicit!==null?g.implicit:g.tag,L=g.implicit===null?"universal":"context";M===null?g.use===null&&y.error("Tag could be omitted only for .use()"):g.use===null&&(w=this._encodeComposite(M,k,L,_))}return g.explicit!==null&&(w=this._encodeComposite(g.explicit,!1,"context",w)),w},p.prototype._encodeChoice=function(d,y){const v=this._baseState,g=v.choice[d.type];return g||a(!1,d.type+" not found in "+JSON.stringify(Object.keys(v.choice))),g._encode(d.value,y)},p.prototype._encodePrimitive=function(d,y){const v=this._baseState;if(/str$/.test(d))return this._encodeStr(y,d);if(d==="objid"&&v.args)return this._encodeObjid(y,v.reverseArgs[0],v.args[1]);if(d==="objid")return this._encodeObjid(y,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(y,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(y,v.args&&v.reverseArgs[0]);if(d==="bool")return this._encodeBool(y);if(d==="objDesc")return this._encodeStr(y,d);throw new Error("Unsupported tag: "+d)},p.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},p.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,i,c){const l=t("inherits");function s(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}function h(a,n){this.path=a,this.rethrow(n)}c.Reporter=s,s.prototype.isError=function(a){return a instanceof h},s.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},s.prototype.restore=function(a){const n=this._reporterState;n.obj=a.obj,n.path=n.path.slice(0,a.pathLen)},s.prototype.enterKey=function(a){return this._reporterState.path.push(a)},s.prototype.exitKey=function(a){const n=this._reporterState;n.path=n.path.slice(0,a-1)},s.prototype.leaveKey=function(a,n,u){const p=this._reporterState;this.exitKey(a),p.obj!==null&&(p.obj[n]=u)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const a=this._reporterState,n=a.obj;return a.obj={},n},s.prototype.leaveObject=function(a){const n=this._reporterState,u=n.obj;return n.obj=a,u},s.prototype.error=function(a){let n;const u=this._reporterState,p=a instanceof h;if(n=p?a:new h(u.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),a.message||a,a.stack),!u.options.partial)throw n;return p||u.errors.push(n),n},s.prototype.wrapResult=function(a){const n=this._reporterState;return n.options.partial?{result:this.isError(a)?null:a,errors:n.errors}:a},l(h,Error),h.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,h),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this}},{inherits:440}],176:[function(t,i,c){function l(s){const h={};return Object.keys(s).forEach((function(a){(0|a)==a&&(a|=0);const n=s[a];h[n]=a})),h}c.tagClass={0:"universal",1:"application",2:"context",3:"private"},c.tagClassByName=l(c.tagClass),c.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},c.tagByName=l(c.tag)},{}],177:[function(t,i,c){const l=c;l._reverse=function(s){const h={};return Object.keys(s).forEach((function(a){(0|a)==a&&(a|=0);const n=s[a];h[n]=a})),h},l.der=t("./der")},{"./der":176}],178:[function(t,i,c){const l=t("inherits"),s=t("bn.js"),h=t("../base/buffer").DecoderBuffer,a=t("../base/node"),n=t("../constants/der");function u(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new p,this.tree._init(y.body)}function p(y){a.call(this,"der",y)}function f(y,v){let g=y.readUInt8(v);if(y.isError(g))return g;const w=n.tagClass[g>>6],_=(32&g)==0;if((31&g)==31){let k=g;for(g=0;(128&k)==128;){if(k=y.readUInt8(v),y.isError(k))return k;g<<=7,g|=127&k}}else g&=31;return{cls:w,primitive:_,tag:g,tagStr:n.tag[g]}}function d(y,v,g){let w=y.readUInt8(g);if(y.isError(w))return w;if(!v&&w===128)return null;if((128&w)==0)return w;const _=127&w;if(_>4)return y.error("length octect is too long");w=0;for(let k=0;k<_;k++){w<<=8;const M=y.readUInt8(g);if(y.isError(M))return M;w|=M}return w}i.exports=u,u.prototype.decode=function(y,v){return h.isDecoderBuffer(y)||(y=new h(y,v)),this.tree._decode(y,v)},l(p,a),p.prototype._peekTag=function(y,v,g){if(y.isEmpty())return!1;const w=y.save(),_=f(y,'Failed to peek tag: "'+v+'"');return y.isError(_)?_:(y.restore(w),_.tag===v||_.tagStr===v||_.tagStr+"of"===v||g)},p.prototype._decodeTag=function(y,v,g){const w=f(y,'Failed to decode tag of "'+v+'"');if(y.isError(w))return w;let _=d(y,w.primitive,'Failed to get length of "'+v+'"');if(y.isError(_))return _;if(!g&&w.tag!==v&&w.tagStr!==v&&w.tagStr+"of"!==v)return y.error('Failed to match tag: "'+v+'"');if(w.primitive||_!==null)return y.skip(_,'Failed to match body of: "'+v+'"');const k=y.save(),M=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(M)?M:(_=y.offset-k.offset,y.restore(k),y.skip(_,'Failed to match body of: "'+v+'"'))},p.prototype._skipUntilEnd=function(y,v){for(;;){const g=f(y,v);if(y.isError(g))return g;const w=d(y,g.primitive,v);if(y.isError(w))return w;let _;if(_=g.primitive||w!==null?y.skip(w):this._skipUntilEnd(y,v),y.isError(_))return _;if(g.tagStr==="end")break}},p.prototype._decodeList=function(y,v,g,w){const _=[];for(;!y.isEmpty();){const k=this._peekTag(y,"end");if(y.isError(k))return k;const M=g.decode(y,"der",w);if(y.isError(M)&&k)break;_.push(M)}return _},p.prototype._decodeStr=function(y,v){if(v==="bitstr"){const g=y.readUInt8();return y.isError(g)?g:{unused:g,data:y.raw()}}if(v==="bmpstr"){const g=y.raw();if(g.length%2==1)return y.error("Decoding of string type: bmpstr length mismatch");let w="";for(let _=0;_<g.length/2;_++)w+=String.fromCharCode(g.readUInt16BE(2*_));return w}if(v==="numstr"){const g=y.raw().toString("ascii");return this._isNumstr(g)?g:y.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return y.raw();if(v==="printstr"){const g=y.raw().toString("ascii");return this._isPrintstr(g)?g:y.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?y.raw().toString():y.error("Decoding of string type: "+v+" unsupported")},p.prototype._decodeObjid=function(y,v,g){let w;const _=[];let k=0,M=0;for(;!y.isEmpty();)M=y.readUInt8(),k<<=7,k|=127&M,(128&M)==0&&(_.push(k),k=0);128&M&&_.push(k);const L=_[0]/40|0,G=_[0]%40;if(w=g?_:[L,G].concat(_.slice(1)),v){let F=v[w.join(" ")];F===void 0&&(F=v[w.join(".")]),F!==void 0&&(w=F)}return w},p.prototype._decodeTime=function(y,v){const g=y.raw().toString();let w,_,k,M,L,G;if(v==="gentime")w=0|g.slice(0,4),_=0|g.slice(4,6),k=0|g.slice(6,8),M=0|g.slice(8,10),L=0|g.slice(10,12),G=0|g.slice(12,14);else{if(v!=="utctime")return y.error("Decoding "+v+" time is not supported yet");w=0|g.slice(0,2),_=0|g.slice(2,4),k=0|g.slice(4,6),M=0|g.slice(6,8),L=0|g.slice(8,10),G=0|g.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,_-1,k,M,L,G,0)},p.prototype._decodeNull=function(){return null},p.prototype._decodeBool=function(y){const v=y.readUInt8();return y.isError(v)?v:v!==0},p.prototype._decodeInt=function(y,v){const g=y.raw();let w=new s(g);return v&&(w=v[w.toString(10)]||w),w},p.prototype._use=function(y,v){return typeof y=="function"&&(y=y(v)),y._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,i,c){const l=c;l.der=t("./der"),l.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,i,c){const l=t("inherits"),s=t("safer-buffer").Buffer,h=t("./der");function a(n){h.call(this,n),this.enc="pem"}l(a,h),i.exports=a,a.prototype.decode=function(n,u){const p=n.toString().split(/[\r\n]+/g),f=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let y=-1,v=-1;for(let _=0;_<p.length;_++){const k=p[_].match(d);if(k!==null&&k[2]===f){if(y!==-1){if(k[1]!=="END")break;v=_;break}if(k[1]!=="BEGIN")break;y=_}}if(y===-1||v===-1)throw new Error("PEM section not found for: "+f);const g=p.slice(y+1,v).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const w=s.from(g,"base64");return h.prototype.decode.call(this,w,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,i,c){const l=t("inherits"),s=t("safer-buffer").Buffer,h=t("../base/node"),a=t("../constants/der");function n(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){h.call(this,"der",f)}function p(f){return f<10?"0"+f:f}i.exports=n,n.prototype.encode=function(f,d){return this.tree._encode(f,d).join()},l(u,h),u.prototype._encodeComposite=function(f,d,y,v){const g=(function(k,M,L,G){let F;if(k==="seqof"?k="seq":k==="setof"&&(k="set"),a.tagByName.hasOwnProperty(k))F=a.tagByName[k];else{if(typeof k!="number"||(0|k)!==k)return G.error("Unknown tag: "+k);F=k}return F>=31?G.error("Multi-octet tag encoding unsupported"):(M||(F|=32),F|=a.tagClassByName[L||"universal"]<<6,F)})(f,d,y,this.reporter);if(v.length<128){const k=s.alloc(2);return k[0]=g,k[1]=v.length,this._createEncoderBuffer([k,v])}let w=1;for(let k=v.length;k>=256;k>>=8)w++;const _=s.alloc(2+w);_[0]=g,_[1]=128|w;for(let k=1+w,M=v.length;M>0;k--,M>>=8)_[k]=255&M;return this._createEncoderBuffer([_,v])},u.prototype._encodeStr=function(f,d){if(d==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(d==="bmpstr"){const y=s.alloc(2*f.length);for(let v=0;v<f.length;v++)y.writeUInt16BE(f.charCodeAt(v),2*v);return this._createEncoderBuffer(y)}return d==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(f,d,y){if(typeof f=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=d[f].split(/[\s.]+/g);for(let _=0;_<f.length;_++)f[_]|=0}else if(Array.isArray(f)){f=f.slice();for(let _=0;_<f.length;_++)f[_]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!y){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let v=0;for(let _=0;_<f.length;_++){let k=f[_];for(v++;k>=128;k>>=7)v++}const g=s.alloc(v);let w=g.length-1;for(let _=f.length-1;_>=0;_--){let k=f[_];for(g[w--]=127&k;(k>>=7)>0;)g[w--]=128|127&k}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(f,d){let y;const v=new Date(f);return d==="gentime"?y=[p(v.getUTCFullYear()),p(v.getUTCMonth()+1),p(v.getUTCDate()),p(v.getUTCHours()),p(v.getUTCMinutes()),p(v.getUTCSeconds()),"Z"].join(""):d==="utctime"?y=[p(v.getUTCFullYear()%100),p(v.getUTCMonth()+1),p(v.getUTCDate()),p(v.getUTCHours()),p(v.getUTCMinutes()),p(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(y,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,d){if(typeof f=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=d[f]}if(typeof f!="number"&&!s.isBuffer(f)){const g=f.toArray();!f.sign&&128&g[0]&&g.unshift(0),f=s.from(g)}if(s.isBuffer(f)){let g=f.length;f.length===0&&g++;const w=s.alloc(g);return f.copy(w),f.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let y=1;for(let g=f;g>=256;g>>=8)y++;const v=new Array(y);for(let g=v.length-1;g>=0;g--)v[g]=255&f,f>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(s.from(v))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,d){return typeof f=="function"&&(f=f(d)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,d,y){const v=this._baseState;let g;if(v.default===null)return!1;const w=f.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,d,y).join()),w.length!==v.defaultBuffer.length)return!1;for(g=0;g<w.length;g++)if(w[g]!==v.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,i,c){const l=c;l.der=t("./der"),l.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,i,c){const l=t("inherits"),s=t("./der");function h(a){s.call(this,a),this.enc="pem"}l(h,s),i.exports=h,h.prototype.encode=function(a,n){const u=s.prototype.encode.call(this,a).toString("base64"),p=["-----BEGIN "+n.label+"-----"];for(let f=0;f<u.length;f+=64)p.push(u.slice(f,f+64));return p.push("-----END "+n.label+"-----"),p.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,i,c){(function(l,s){function h(R,P){if(!R)throw new Error(P||"Assertion failed")}function a(R,P){R.super_=P;var C=function(){};C.prototype=P.prototype,R.prototype=new C,R.prototype.constructor=R}function n(R,P,C){if(n.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(P!=="le"&&P!=="be"||(C=P,P=10),this._init(R||0,P||10,C||"be"))}var u;typeof l=="object"?l.exports=n:(void 0).BN=n,n.BN=n,n.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function p(R,P){var C=R.charCodeAt(P);return C>=65&&C<=70?C-55:C>=97&&C<=102?C-87:C-48&15}function f(R,P,C){var x=p(R,C);return C-1>=P&&(x|=p(R,C-1)<<4),x}function d(R,P,C,x){for(var S=0,T=Math.min(R.length,C),E=P;E<T;E++){var N=R.charCodeAt(E)-48;S*=x,S+=N>=49?N-49+10:N>=17?N-17+10:N}return S}n.isBN=function(R){return R instanceof n||R!==null&&typeof R=="object"&&R.constructor.wordSize===n.wordSize&&Array.isArray(R.words)},n.max=function(R,P){return R.cmp(P)>0?R:P},n.min=function(R,P){return R.cmp(P)<0?R:P},n.prototype._init=function(R,P,C){if(typeof R=="number")return this._initNumber(R,P,C);if(typeof R=="object")return this._initArray(R,P,C);P==="hex"&&(P=16),h(P===(0|P)&&P>=2&&P<=36);var x=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<R.length&&(P===16?this._parseHex(R,x,C):(this._parseBase(R,P,x),C==="le"&&this._initArray(this.toArray(),P,C)))},n.prototype._initNumber=function(R,P,C){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(h(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),C==="le"&&this._initArray(this.toArray(),P,C)},n.prototype._initArray=function(R,P,C){if(h(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,T,E=0;if(C==="be")for(x=R.length-1,S=0;x>=0;x-=3)T=R[x]|R[x-1]<<8|R[x-2]<<16,this.words[S]|=T<<E&67108863,this.words[S+1]=T>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);else if(C==="le")for(x=0,S=0;x<R.length;x+=3)T=R[x]|R[x+1]<<8|R[x+2]<<16,this.words[S]|=T<<E&67108863,this.words[S+1]=T>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);return this.strip()},n.prototype._parseHex=function(R,P,C){this.length=Math.ceil((R.length-P)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,T=0,E=0;if(C==="be")for(x=R.length-1;x>=P;x-=2)S=f(R,P,x)<<T,this.words[E]|=67108863&S,T>=18?(T-=18,E+=1,this.words[E]|=S>>>26):T+=8;else for(x=(R.length-P)%2==0?P+1:P;x<R.length;x+=2)S=f(R,P,x)<<T,this.words[E]|=67108863&S,T>=18?(T-=18,E+=1,this.words[E]|=S>>>26):T+=8;this.strip()},n.prototype._parseBase=function(R,P,C){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=P)x++;x--,S=S/P|0;for(var T=R.length-C,E=T%x,N=Math.min(T,T-E)+C,I=0,B=C;B<N;B+=x)I=d(R,B,B+x,P),this.imuln(S),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(E!==0){var K=1;for(I=d(R,B,R.length,P),B=0;B<E;B++)K*=P;this.imuln(K),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},n.prototype.copy=function(R){R.words=new Array(this.length);for(var P=0;P<this.length;P++)R.words[P]=this.words[P];R.length=this.length,R.negative=this.negative,R.red=this.red},n.prototype.clone=function(){var R=new n(null);return this.copy(R),R},n.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(R,P,C){C.negative=P.negative^R.negative;var x=R.length+P.length|0;C.length=x,x=x-1|0;var S=0|R.words[0],T=0|P.words[0],E=S*T,N=67108863&E,I=E/67108864|0;C.words[0]=N;for(var B=1;B<x;B++){for(var K=I>>>26,Z=67108863&I,nt=Math.min(B,P.length-1),H=Math.max(0,B-R.length+1);H<=nt;H++){var tt=B-H|0;K+=(E=(S=0|R.words[tt])*(T=0|P.words[H])+Z)/67108864|0,Z=67108863&E}C.words[B]=0|Z,I=0|K}return I!==0?C.words[B]=0|I:C.length--,C.strip()}n.prototype.toString=function(R,P){var C;if(P=0|P||1,(R=R||10)===16||R==="hex"){C="";for(var x=0,S=0,T=0;T<this.length;T++){var E=this.words[T],N=(16777215&(E<<x|S)).toString(16);C=(S=E>>>24-x&16777215)!==0||T!==this.length-1?y[6-N.length]+N+C:N+C,(x+=2)>=26&&(x-=26,T--)}for(S!==0&&(C=S.toString(16)+C);C.length%P!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}if(R===(0|R)&&R>=2&&R<=36){var I=v[R],B=g[R];C="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(B).toString(R);C=(K=K.idivn(B)).isZero()?Z+C:y[I-Z.length]+Z+C}for(this.isZero()&&(C="0"+C);C.length%P!=0;)C="0"+C;return this.negative!==0&&(C="-"+C),C}h(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(R,P){return h(u!==void 0),this.toArrayLike(u,R,P)},n.prototype.toArray=function(R,P){return this.toArrayLike(Array,R,P)},n.prototype.toArrayLike=function(R,P,C){var x=this.byteLength(),S=C||Math.max(1,x);h(x<=S,"byte array longer than desired length"),h(S>0,"Requested array length <= 0"),this.strip();var T,E,N=P==="le",I=new R(S),B=this.clone();if(N){for(E=0;!B.isZero();E++)T=B.andln(255),B.iushrn(8),I[E]=T;for(;E<S;E++)I[E]=0}else{for(E=0;E<S-x;E++)I[E]=0;for(E=0;!B.isZero();E++)T=B.andln(255),B.iushrn(8),I[S-E-1]=T}return I},Math.clz32?n.prototype._countBits=function(R){return 32-Math.clz32(R)}:n.prototype._countBits=function(R){var P=R,C=0;return P>=4096&&(C+=13,P>>>=13),P>=64&&(C+=7,P>>>=7),P>=8&&(C+=4,P>>>=4),P>=2&&(C+=2,P>>>=2),C+P},n.prototype._zeroBits=function(R){if(R===0)return 26;var P=R,C=0;return(8191&P)==0&&(C+=13,P>>>=13),(127&P)==0&&(C+=7,P>>>=7),(15&P)==0&&(C+=4,P>>>=4),(3&P)==0&&(C+=2,P>>>=2),(1&P)==0&&C++,C},n.prototype.bitLength=function(){var R=this.words[this.length-1],P=this._countBits(R);return 26*(this.length-1)+P},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,P=0;P<this.length;P++){var C=this._zeroBits(this.words[P]);if(R+=C,C!==26)break}return R},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},n.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var P=0;P<R.length;P++)this.words[P]=this.words[P]|R.words[P];return this.strip()},n.prototype.ior=function(R){return h((this.negative|R.negative)==0),this.iuor(R)},n.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},n.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},n.prototype.iuand=function(R){var P;P=this.length>R.length?R:this;for(var C=0;C<P.length;C++)this.words[C]=this.words[C]&R.words[C];return this.length=P.length,this.strip()},n.prototype.iand=function(R){return h((this.negative|R.negative)==0),this.iuand(R)},n.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},n.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},n.prototype.iuxor=function(R){var P,C;this.length>R.length?(P=this,C=R):(P=R,C=this);for(var x=0;x<C.length;x++)this.words[x]=P.words[x]^C.words[x];if(this!==P)for(;x<P.length;x++)this.words[x]=P.words[x];return this.length=P.length,this.strip()},n.prototype.ixor=function(R){return h((this.negative|R.negative)==0),this.iuxor(R)},n.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},n.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},n.prototype.inotn=function(R){h(typeof R=="number"&&R>=0);var P=0|Math.ceil(R/26),C=R%26;this._expand(P),C>0&&P--;for(var x=0;x<P;x++)this.words[x]=67108863&~this.words[x];return C>0&&(this.words[x]=~this.words[x]&67108863>>26-C),this.strip()},n.prototype.notn=function(R){return this.clone().inotn(R)},n.prototype.setn=function(R,P){h(typeof R=="number"&&R>=0);var C=R/26|0,x=R%26;return this._expand(C+1),this.words[C]=P?this.words[C]|1<<x:this.words[C]&~(1<<x),this.strip()},n.prototype.iadd=function(R){var P,C,x;if(this.negative!==0&&R.negative===0)return this.negative=0,P=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,P=this.isub(R),R.negative=1,P._normSign();this.length>R.length?(C=this,x=R):(C=R,x=this);for(var S=0,T=0;T<x.length;T++)P=(0|C.words[T])+(0|x.words[T])+S,this.words[T]=67108863&P,S=P>>>26;for(;S!==0&&T<C.length;T++)P=(0|C.words[T])+S,this.words[T]=67108863&P,S=P>>>26;if(this.length=C.length,S!==0)this.words[this.length]=S,this.length++;else if(C!==this)for(;T<C.length;T++)this.words[T]=C.words[T];return this},n.prototype.add=function(R){var P;return R.negative!==0&&this.negative===0?(R.negative=0,P=this.sub(R),R.negative^=1,P):R.negative===0&&this.negative!==0?(this.negative=0,P=R.sub(this),this.negative=1,P):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},n.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var P=this.iadd(R);return R.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var C,x,S=this.cmp(R);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(C=this,x=R):(C=R,x=this);for(var T=0,E=0;E<x.length;E++)T=(P=(0|C.words[E])-(0|x.words[E])+T)>>26,this.words[E]=67108863&P;for(;T!==0&&E<C.length;E++)T=(P=(0|C.words[E])+T)>>26,this.words[E]=67108863&P;if(T===0&&E<C.length&&C!==this)for(;E<C.length;E++)this.words[E]=C.words[E];return this.length=Math.max(this.length,E),C!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(R){return this.clone().isub(R)};var _=function(R,P,C){var x,S,T,E=R.words,N=P.words,I=C.words,B=0,K=0|E[0],Z=8191&K,nt=K>>>13,H=0|E[1],tt=8191&H,V=H>>>13,D=0|E[2],Q=8191&D,it=D>>>13,ht=0|E[3],st=8191&ht,ut=ht>>>13,yt=0|E[4],bt=8191&yt,at=yt>>>13,pt=0|E[5],dt=8191&pt,vt=pt>>>13,xt=0|E[6],Et=8191&xt,It=xt>>>13,Nt=0|E[7],$t=8191&Nt,se=Nt>>>13,re=0|E[8],Zt=8191&re,te=re>>>13,we=0|E[9],_e=8191&we,Se=we>>>13,ee=0|N[0],Ft=8191&ee,ie=ee>>>13,ae=0|N[1],he=8191&ae,Le=ae>>>13,Fe=0|N[2],ge=8191&Fe,Ge=Fe>>>13,Ee=0|N[3],Ae=8191&Ee,Qe=Ee>>>13,Be=0|N[4],ke=8191&Be,qe=Be>>>13,He=0|N[5],xe=8191&He,Xe=He>>>13,Je=0|N[6],Oe=8191&Je,gt=Je>>>13,Tt=0|N[7],Pt=8191&Tt,ne=Tt>>>13,ye=0|N[8],Jt=8191&ye,fe=ye>>>13,oe=0|N[9],ce=8191&oe,Me=oe>>>13;C.negative=R.negative^P.negative,C.length=19;var Ie=(B+(x=Math.imul(Z,Ft))|0)+((8191&(S=(S=Math.imul(Z,ie))+Math.imul(nt,Ft)|0))<<13)|0;B=((T=Math.imul(nt,ie))+(S>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,x=Math.imul(tt,Ft),S=(S=Math.imul(tt,ie))+Math.imul(V,Ft)|0,T=Math.imul(V,ie);var Ve=(B+(x=x+Math.imul(Z,he)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Le)|0)+Math.imul(nt,he)|0))<<13)|0;B=((T=T+Math.imul(nt,Le)|0)+(S>>>13)|0)+(Ve>>>26)|0,Ve&=67108863,x=Math.imul(Q,Ft),S=(S=Math.imul(Q,ie))+Math.imul(it,Ft)|0,T=Math.imul(it,ie),x=x+Math.imul(tt,he)|0,S=(S=S+Math.imul(tt,Le)|0)+Math.imul(V,he)|0,T=T+Math.imul(V,Le)|0;var yr=(B+(x=x+Math.imul(Z,ge)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Ge)|0)+Math.imul(nt,ge)|0))<<13)|0;B=((T=T+Math.imul(nt,Ge)|0)+(S>>>13)|0)+(yr>>>26)|0,yr&=67108863,x=Math.imul(st,Ft),S=(S=Math.imul(st,ie))+Math.imul(ut,Ft)|0,T=Math.imul(ut,ie),x=x+Math.imul(Q,he)|0,S=(S=S+Math.imul(Q,Le)|0)+Math.imul(it,he)|0,T=T+Math.imul(it,Le)|0,x=x+Math.imul(tt,ge)|0,S=(S=S+Math.imul(tt,Ge)|0)+Math.imul(V,ge)|0,T=T+Math.imul(V,Ge)|0;var Ze=(B+(x=x+Math.imul(Z,Ae)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Qe)|0)+Math.imul(nt,Ae)|0))<<13)|0;B=((T=T+Math.imul(nt,Qe)|0)+(S>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,x=Math.imul(bt,Ft),S=(S=Math.imul(bt,ie))+Math.imul(at,Ft)|0,T=Math.imul(at,ie),x=x+Math.imul(st,he)|0,S=(S=S+Math.imul(st,Le)|0)+Math.imul(ut,he)|0,T=T+Math.imul(ut,Le)|0,x=x+Math.imul(Q,ge)|0,S=(S=S+Math.imul(Q,Ge)|0)+Math.imul(it,ge)|0,T=T+Math.imul(it,Ge)|0,x=x+Math.imul(tt,Ae)|0,S=(S=S+Math.imul(tt,Qe)|0)+Math.imul(V,Ae)|0,T=T+Math.imul(V,Qe)|0;var zt=(B+(x=x+Math.imul(Z,ke)|0)|0)+((8191&(S=(S=S+Math.imul(Z,qe)|0)+Math.imul(nt,ke)|0))<<13)|0;B=((T=T+Math.imul(nt,qe)|0)+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(dt,Ft),S=(S=Math.imul(dt,ie))+Math.imul(vt,Ft)|0,T=Math.imul(vt,ie),x=x+Math.imul(bt,he)|0,S=(S=S+Math.imul(bt,Le)|0)+Math.imul(at,he)|0,T=T+Math.imul(at,Le)|0,x=x+Math.imul(st,ge)|0,S=(S=S+Math.imul(st,Ge)|0)+Math.imul(ut,ge)|0,T=T+Math.imul(ut,Ge)|0,x=x+Math.imul(Q,Ae)|0,S=(S=S+Math.imul(Q,Qe)|0)+Math.imul(it,Ae)|0,T=T+Math.imul(it,Qe)|0,x=x+Math.imul(tt,ke)|0,S=(S=S+Math.imul(tt,qe)|0)+Math.imul(V,ke)|0,T=T+Math.imul(V,qe)|0;var de=(B+(x=x+Math.imul(Z,xe)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Xe)|0)+Math.imul(nt,xe)|0))<<13)|0;B=((T=T+Math.imul(nt,Xe)|0)+(S>>>13)|0)+(de>>>26)|0,de&=67108863,x=Math.imul(Et,Ft),S=(S=Math.imul(Et,ie))+Math.imul(It,Ft)|0,T=Math.imul(It,ie),x=x+Math.imul(dt,he)|0,S=(S=S+Math.imul(dt,Le)|0)+Math.imul(vt,he)|0,T=T+Math.imul(vt,Le)|0,x=x+Math.imul(bt,ge)|0,S=(S=S+Math.imul(bt,Ge)|0)+Math.imul(at,ge)|0,T=T+Math.imul(at,Ge)|0,x=x+Math.imul(st,Ae)|0,S=(S=S+Math.imul(st,Qe)|0)+Math.imul(ut,Ae)|0,T=T+Math.imul(ut,Qe)|0,x=x+Math.imul(Q,ke)|0,S=(S=S+Math.imul(Q,qe)|0)+Math.imul(it,ke)|0,T=T+Math.imul(it,qe)|0,x=x+Math.imul(tt,xe)|0,S=(S=S+Math.imul(tt,Xe)|0)+Math.imul(V,xe)|0,T=T+Math.imul(V,Xe)|0;var Re=(B+(x=x+Math.imul(Z,Oe)|0)|0)+((8191&(S=(S=S+Math.imul(Z,gt)|0)+Math.imul(nt,Oe)|0))<<13)|0;B=((T=T+Math.imul(nt,gt)|0)+(S>>>13)|0)+(Re>>>26)|0,Re&=67108863,x=Math.imul($t,Ft),S=(S=Math.imul($t,ie))+Math.imul(se,Ft)|0,T=Math.imul(se,ie),x=x+Math.imul(Et,he)|0,S=(S=S+Math.imul(Et,Le)|0)+Math.imul(It,he)|0,T=T+Math.imul(It,Le)|0,x=x+Math.imul(dt,ge)|0,S=(S=S+Math.imul(dt,Ge)|0)+Math.imul(vt,ge)|0,T=T+Math.imul(vt,Ge)|0,x=x+Math.imul(bt,Ae)|0,S=(S=S+Math.imul(bt,Qe)|0)+Math.imul(at,Ae)|0,T=T+Math.imul(at,Qe)|0,x=x+Math.imul(st,ke)|0,S=(S=S+Math.imul(st,qe)|0)+Math.imul(ut,ke)|0,T=T+Math.imul(ut,qe)|0,x=x+Math.imul(Q,xe)|0,S=(S=S+Math.imul(Q,Xe)|0)+Math.imul(it,xe)|0,T=T+Math.imul(it,Xe)|0,x=x+Math.imul(tt,Oe)|0,S=(S=S+Math.imul(tt,gt)|0)+Math.imul(V,Oe)|0,T=T+Math.imul(V,gt)|0;var ct=(B+(x=x+Math.imul(Z,Pt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,ne)|0)+Math.imul(nt,Pt)|0))<<13)|0;B=((T=T+Math.imul(nt,ne)|0)+(S>>>13)|0)+(ct>>>26)|0,ct&=67108863,x=Math.imul(Zt,Ft),S=(S=Math.imul(Zt,ie))+Math.imul(te,Ft)|0,T=Math.imul(te,ie),x=x+Math.imul($t,he)|0,S=(S=S+Math.imul($t,Le)|0)+Math.imul(se,he)|0,T=T+Math.imul(se,Le)|0,x=x+Math.imul(Et,ge)|0,S=(S=S+Math.imul(Et,Ge)|0)+Math.imul(It,ge)|0,T=T+Math.imul(It,Ge)|0,x=x+Math.imul(dt,Ae)|0,S=(S=S+Math.imul(dt,Qe)|0)+Math.imul(vt,Ae)|0,T=T+Math.imul(vt,Qe)|0,x=x+Math.imul(bt,ke)|0,S=(S=S+Math.imul(bt,qe)|0)+Math.imul(at,ke)|0,T=T+Math.imul(at,qe)|0,x=x+Math.imul(st,xe)|0,S=(S=S+Math.imul(st,Xe)|0)+Math.imul(ut,xe)|0,T=T+Math.imul(ut,Xe)|0,x=x+Math.imul(Q,Oe)|0,S=(S=S+Math.imul(Q,gt)|0)+Math.imul(it,Oe)|0,T=T+Math.imul(it,gt)|0,x=x+Math.imul(tt,Pt)|0,S=(S=S+Math.imul(tt,ne)|0)+Math.imul(V,Pt)|0,T=T+Math.imul(V,ne)|0;var St=(B+(x=x+Math.imul(Z,Jt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,fe)|0)+Math.imul(nt,Jt)|0))<<13)|0;B=((T=T+Math.imul(nt,fe)|0)+(S>>>13)|0)+(St>>>26)|0,St&=67108863,x=Math.imul(_e,Ft),S=(S=Math.imul(_e,ie))+Math.imul(Se,Ft)|0,T=Math.imul(Se,ie),x=x+Math.imul(Zt,he)|0,S=(S=S+Math.imul(Zt,Le)|0)+Math.imul(te,he)|0,T=T+Math.imul(te,Le)|0,x=x+Math.imul($t,ge)|0,S=(S=S+Math.imul($t,Ge)|0)+Math.imul(se,ge)|0,T=T+Math.imul(se,Ge)|0,x=x+Math.imul(Et,Ae)|0,S=(S=S+Math.imul(Et,Qe)|0)+Math.imul(It,Ae)|0,T=T+Math.imul(It,Qe)|0,x=x+Math.imul(dt,ke)|0,S=(S=S+Math.imul(dt,qe)|0)+Math.imul(vt,ke)|0,T=T+Math.imul(vt,qe)|0,x=x+Math.imul(bt,xe)|0,S=(S=S+Math.imul(bt,Xe)|0)+Math.imul(at,xe)|0,T=T+Math.imul(at,Xe)|0,x=x+Math.imul(st,Oe)|0,S=(S=S+Math.imul(st,gt)|0)+Math.imul(ut,Oe)|0,T=T+Math.imul(ut,gt)|0,x=x+Math.imul(Q,Pt)|0,S=(S=S+Math.imul(Q,ne)|0)+Math.imul(it,Pt)|0,T=T+Math.imul(it,ne)|0,x=x+Math.imul(tt,Jt)|0,S=(S=S+Math.imul(tt,fe)|0)+Math.imul(V,Jt)|0,T=T+Math.imul(V,fe)|0;var Lt=(B+(x=x+Math.imul(Z,ce)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Me)|0)+Math.imul(nt,ce)|0))<<13)|0;B=((T=T+Math.imul(nt,Me)|0)+(S>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,x=Math.imul(_e,he),S=(S=Math.imul(_e,Le))+Math.imul(Se,he)|0,T=Math.imul(Se,Le),x=x+Math.imul(Zt,ge)|0,S=(S=S+Math.imul(Zt,Ge)|0)+Math.imul(te,ge)|0,T=T+Math.imul(te,Ge)|0,x=x+Math.imul($t,Ae)|0,S=(S=S+Math.imul($t,Qe)|0)+Math.imul(se,Ae)|0,T=T+Math.imul(se,Qe)|0,x=x+Math.imul(Et,ke)|0,S=(S=S+Math.imul(Et,qe)|0)+Math.imul(It,ke)|0,T=T+Math.imul(It,qe)|0,x=x+Math.imul(dt,xe)|0,S=(S=S+Math.imul(dt,Xe)|0)+Math.imul(vt,xe)|0,T=T+Math.imul(vt,Xe)|0,x=x+Math.imul(bt,Oe)|0,S=(S=S+Math.imul(bt,gt)|0)+Math.imul(at,Oe)|0,T=T+Math.imul(at,gt)|0,x=x+Math.imul(st,Pt)|0,S=(S=S+Math.imul(st,ne)|0)+Math.imul(ut,Pt)|0,T=T+Math.imul(ut,ne)|0,x=x+Math.imul(Q,Jt)|0,S=(S=S+Math.imul(Q,fe)|0)+Math.imul(it,Jt)|0,T=T+Math.imul(it,fe)|0;var Kt=(B+(x=x+Math.imul(tt,ce)|0)|0)+((8191&(S=(S=S+Math.imul(tt,Me)|0)+Math.imul(V,ce)|0))<<13)|0;B=((T=T+Math.imul(V,Me)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(_e,ge),S=(S=Math.imul(_e,Ge))+Math.imul(Se,ge)|0,T=Math.imul(Se,Ge),x=x+Math.imul(Zt,Ae)|0,S=(S=S+Math.imul(Zt,Qe)|0)+Math.imul(te,Ae)|0,T=T+Math.imul(te,Qe)|0,x=x+Math.imul($t,ke)|0,S=(S=S+Math.imul($t,qe)|0)+Math.imul(se,ke)|0,T=T+Math.imul(se,qe)|0,x=x+Math.imul(Et,xe)|0,S=(S=S+Math.imul(Et,Xe)|0)+Math.imul(It,xe)|0,T=T+Math.imul(It,Xe)|0,x=x+Math.imul(dt,Oe)|0,S=(S=S+Math.imul(dt,gt)|0)+Math.imul(vt,Oe)|0,T=T+Math.imul(vt,gt)|0,x=x+Math.imul(bt,Pt)|0,S=(S=S+Math.imul(bt,ne)|0)+Math.imul(at,Pt)|0,T=T+Math.imul(at,ne)|0,x=x+Math.imul(st,Jt)|0,S=(S=S+Math.imul(st,fe)|0)+Math.imul(ut,Jt)|0,T=T+Math.imul(ut,fe)|0;var pe=(B+(x=x+Math.imul(Q,ce)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Me)|0)+Math.imul(it,ce)|0))<<13)|0;B=((T=T+Math.imul(it,Me)|0)+(S>>>13)|0)+(pe>>>26)|0,pe&=67108863,x=Math.imul(_e,Ae),S=(S=Math.imul(_e,Qe))+Math.imul(Se,Ae)|0,T=Math.imul(Se,Qe),x=x+Math.imul(Zt,ke)|0,S=(S=S+Math.imul(Zt,qe)|0)+Math.imul(te,ke)|0,T=T+Math.imul(te,qe)|0,x=x+Math.imul($t,xe)|0,S=(S=S+Math.imul($t,Xe)|0)+Math.imul(se,xe)|0,T=T+Math.imul(se,Xe)|0,x=x+Math.imul(Et,Oe)|0,S=(S=S+Math.imul(Et,gt)|0)+Math.imul(It,Oe)|0,T=T+Math.imul(It,gt)|0,x=x+Math.imul(dt,Pt)|0,S=(S=S+Math.imul(dt,ne)|0)+Math.imul(vt,Pt)|0,T=T+Math.imul(vt,ne)|0,x=x+Math.imul(bt,Jt)|0,S=(S=S+Math.imul(bt,fe)|0)+Math.imul(at,Jt)|0,T=T+Math.imul(at,fe)|0;var ot=(B+(x=x+Math.imul(st,ce)|0)|0)+((8191&(S=(S=S+Math.imul(st,Me)|0)+Math.imul(ut,ce)|0))<<13)|0;B=((T=T+Math.imul(ut,Me)|0)+(S>>>13)|0)+(ot>>>26)|0,ot&=67108863,x=Math.imul(_e,ke),S=(S=Math.imul(_e,qe))+Math.imul(Se,ke)|0,T=Math.imul(Se,qe),x=x+Math.imul(Zt,xe)|0,S=(S=S+Math.imul(Zt,Xe)|0)+Math.imul(te,xe)|0,T=T+Math.imul(te,Xe)|0,x=x+Math.imul($t,Oe)|0,S=(S=S+Math.imul($t,gt)|0)+Math.imul(se,Oe)|0,T=T+Math.imul(se,gt)|0,x=x+Math.imul(Et,Pt)|0,S=(S=S+Math.imul(Et,ne)|0)+Math.imul(It,Pt)|0,T=T+Math.imul(It,ne)|0,x=x+Math.imul(dt,Jt)|0,S=(S=S+Math.imul(dt,fe)|0)+Math.imul(vt,Jt)|0,T=T+Math.imul(vt,fe)|0;var wt=(B+(x=x+Math.imul(bt,ce)|0)|0)+((8191&(S=(S=S+Math.imul(bt,Me)|0)+Math.imul(at,ce)|0))<<13)|0;B=((T=T+Math.imul(at,Me)|0)+(S>>>13)|0)+(wt>>>26)|0,wt&=67108863,x=Math.imul(_e,xe),S=(S=Math.imul(_e,Xe))+Math.imul(Se,xe)|0,T=Math.imul(Se,Xe),x=x+Math.imul(Zt,Oe)|0,S=(S=S+Math.imul(Zt,gt)|0)+Math.imul(te,Oe)|0,T=T+Math.imul(te,gt)|0,x=x+Math.imul($t,Pt)|0,S=(S=S+Math.imul($t,ne)|0)+Math.imul(se,Pt)|0,T=T+Math.imul(se,ne)|0,x=x+Math.imul(Et,Jt)|0,S=(S=S+Math.imul(Et,fe)|0)+Math.imul(It,Jt)|0,T=T+Math.imul(It,fe)|0;var jt=(B+(x=x+Math.imul(dt,ce)|0)|0)+((8191&(S=(S=S+Math.imul(dt,Me)|0)+Math.imul(vt,ce)|0))<<13)|0;B=((T=T+Math.imul(vt,Me)|0)+(S>>>13)|0)+(jt>>>26)|0,jt&=67108863,x=Math.imul(_e,Oe),S=(S=Math.imul(_e,gt))+Math.imul(Se,Oe)|0,T=Math.imul(Se,gt),x=x+Math.imul(Zt,Pt)|0,S=(S=S+Math.imul(Zt,ne)|0)+Math.imul(te,Pt)|0,T=T+Math.imul(te,ne)|0,x=x+Math.imul($t,Jt)|0,S=(S=S+Math.imul($t,fe)|0)+Math.imul(se,Jt)|0,T=T+Math.imul(se,fe)|0;var Xt=(B+(x=x+Math.imul(Et,ce)|0)|0)+((8191&(S=(S=S+Math.imul(Et,Me)|0)+Math.imul(It,ce)|0))<<13)|0;B=((T=T+Math.imul(It,Me)|0)+(S>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,x=Math.imul(_e,Pt),S=(S=Math.imul(_e,ne))+Math.imul(Se,Pt)|0,T=Math.imul(Se,ne),x=x+Math.imul(Zt,Jt)|0,S=(S=S+Math.imul(Zt,fe)|0)+Math.imul(te,Jt)|0,T=T+Math.imul(te,fe)|0;var Ut=(B+(x=x+Math.imul($t,ce)|0)|0)+((8191&(S=(S=S+Math.imul($t,Me)|0)+Math.imul(se,ce)|0))<<13)|0;B=((T=T+Math.imul(se,Me)|0)+(S>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,x=Math.imul(_e,Jt),S=(S=Math.imul(_e,fe))+Math.imul(Se,Jt)|0,T=Math.imul(Se,fe);var Gt=(B+(x=x+Math.imul(Zt,ce)|0)|0)+((8191&(S=(S=S+Math.imul(Zt,Me)|0)+Math.imul(te,ce)|0))<<13)|0;B=((T=T+Math.imul(te,Me)|0)+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863;var le=(B+(x=Math.imul(_e,ce))|0)+((8191&(S=(S=Math.imul(_e,Me))+Math.imul(Se,ce)|0))<<13)|0;return B=((T=Math.imul(Se,Me))+(S>>>13)|0)+(le>>>26)|0,le&=67108863,I[0]=Ie,I[1]=Ve,I[2]=yr,I[3]=Ze,I[4]=zt,I[5]=de,I[6]=Re,I[7]=ct,I[8]=St,I[9]=Lt,I[10]=Kt,I[11]=pe,I[12]=ot,I[13]=wt,I[14]=jt,I[15]=Xt,I[16]=Ut,I[17]=Gt,I[18]=le,B!==0&&(I[19]=B,C.length++),C};function k(R,P,C){return new M().mulp(R,P,C)}function M(R,P){this.x=R,this.y=P}Math.imul||(_=w),n.prototype.mulTo=function(R,P){var C=this.length+R.length;return this.length===10&&R.length===10?_(this,R,P):C<63?w(this,R,P):C<1024?(function(x,S,T){T.negative=S.negative^x.negative,T.length=x.length+S.length;for(var E=0,N=0,I=0;I<T.length-1;I++){var B=N;N=0;for(var K=67108863&E,Z=Math.min(I,S.length-1),nt=Math.max(0,I-x.length+1);nt<=Z;nt++){var H=I-nt,tt=(0|x.words[H])*(0|S.words[nt]),V=67108863&tt;K=67108863&(V=V+K|0),N+=(B=(B=B+(tt/67108864|0)|0)+(V>>>26)|0)>>>26,B&=67108863}T.words[I]=K,E=B,B=N}return E!==0?T.words[I]=E:T.length--,T.strip()})(this,R,P):k(this,R,P)},M.prototype.makeRBT=function(R){for(var P=new Array(R),C=n.prototype._countBits(R)-1,x=0;x<R;x++)P[x]=this.revBin(x,C,R);return P},M.prototype.revBin=function(R,P,C){if(R===0||R===C-1)return R;for(var x=0,S=0;S<P;S++)x|=(1&R)<<P-S-1,R>>=1;return x},M.prototype.permute=function(R,P,C,x,S,T){for(var E=0;E<T;E++)x[E]=P[R[E]],S[E]=C[R[E]]},M.prototype.transform=function(R,P,C,x,S,T){this.permute(T,R,P,C,x,S);for(var E=1;E<S;E<<=1)for(var N=E<<1,I=Math.cos(2*Math.PI/N),B=Math.sin(2*Math.PI/N),K=0;K<S;K+=N)for(var Z=I,nt=B,H=0;H<E;H++){var tt=C[K+H],V=x[K+H],D=C[K+H+E],Q=x[K+H+E],it=Z*D-nt*Q;Q=Z*Q+nt*D,D=it,C[K+H]=tt+D,x[K+H]=V+Q,C[K+H+E]=tt-D,x[K+H+E]=V-Q,H!==N&&(it=I*Z-B*nt,nt=I*nt+B*Z,Z=it)}},M.prototype.guessLen13b=function(R,P){var C=1|Math.max(P,R),x=1&C,S=0;for(C=C/2|0;C;C>>>=1)S++;return 1<<S+1+x},M.prototype.conjugate=function(R,P,C){if(!(C<=1))for(var x=0;x<C/2;x++){var S=R[x];R[x]=R[C-x-1],R[C-x-1]=S,S=P[x],P[x]=-P[C-x-1],P[C-x-1]=-S}},M.prototype.normalize13b=function(R,P){for(var C=0,x=0;x<P/2;x++){var S=8192*Math.round(R[2*x+1]/P)+Math.round(R[2*x]/P)+C;R[x]=67108863&S,C=S<67108864?0:S/67108864|0}return R},M.prototype.convert13b=function(R,P,C,x){for(var S=0,T=0;T<P;T++)S+=0|R[T],C[2*T]=8191&S,S>>>=13,C[2*T+1]=8191&S,S>>>=13;for(T=2*P;T<x;++T)C[T]=0;h(S===0),h((-8192&S)==0)},M.prototype.stub=function(R){for(var P=new Array(R),C=0;C<R;C++)P[C]=0;return P},M.prototype.mulp=function(R,P,C){var x=2*this.guessLen13b(R.length,P.length),S=this.makeRBT(x),T=this.stub(x),E=new Array(x),N=new Array(x),I=new Array(x),B=new Array(x),K=new Array(x),Z=new Array(x),nt=C.words;nt.length=x,this.convert13b(R.words,R.length,E,x),this.convert13b(P.words,P.length,B,x),this.transform(E,T,N,I,x,S),this.transform(B,T,K,Z,x,S);for(var H=0;H<x;H++){var tt=N[H]*K[H]-I[H]*Z[H];I[H]=N[H]*Z[H]+I[H]*K[H],N[H]=tt}return this.conjugate(N,I,x),this.transform(N,I,nt,T,x,S),this.conjugate(nt,T,x),this.normalize13b(nt,x),C.negative=R.negative^P.negative,C.length=R.length+P.length,C.strip()},n.prototype.mul=function(R){var P=new n(null);return P.words=new Array(this.length+R.length),this.mulTo(R,P)},n.prototype.mulf=function(R){var P=new n(null);return P.words=new Array(this.length+R.length),k(this,R,P)},n.prototype.imul=function(R){return this.clone().mulTo(R,this)},n.prototype.imuln=function(R){h(typeof R=="number"),h(R<67108864);for(var P=0,C=0;C<this.length;C++){var x=(0|this.words[C])*R,S=(67108863&x)+(67108863&P);P>>=26,P+=x/67108864|0,P+=S>>>26,this.words[C]=67108863&S}return P!==0&&(this.words[C]=P,this.length++),this},n.prototype.muln=function(R){return this.clone().imuln(R)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(R){var P=(function(T){for(var E=new Array(T.bitLength()),N=0;N<E.length;N++){var I=N/26|0,B=N%26;E[N]=(T.words[I]&1<<B)>>>B}return E})(R);if(P.length===0)return new n(1);for(var C=this,x=0;x<P.length&&P[x]===0;x++,C=C.sqr());if(++x<P.length)for(var S=C.sqr();x<P.length;x++,S=S.sqr())P[x]!==0&&(C=C.mul(S));return C},n.prototype.iushln=function(R){h(typeof R=="number"&&R>=0);var P,C=R%26,x=(R-C)/26,S=67108863>>>26-C<<26-C;if(C!==0){var T=0;for(P=0;P<this.length;P++){var E=this.words[P]&S,N=(0|this.words[P])-E<<C;this.words[P]=N|T,T=E>>>26-C}T&&(this.words[P]=T,this.length++)}if(x!==0){for(P=this.length-1;P>=0;P--)this.words[P+x]=this.words[P];for(P=0;P<x;P++)this.words[P]=0;this.length+=x}return this.strip()},n.prototype.ishln=function(R){return h(this.negative===0),this.iushln(R)},n.prototype.iushrn=function(R,P,C){var x;h(typeof R=="number"&&R>=0),x=P?(P-P%26)/26:0;var S=R%26,T=Math.min((R-S)/26,this.length),E=67108863^67108863>>>S<<S,N=C;if(x-=T,x=Math.max(0,x),N){for(var I=0;I<T;I++)N.words[I]=this.words[I];N.length=T}if(T!==0)if(this.length>T)for(this.length-=T,I=0;I<this.length;I++)this.words[I]=this.words[I+T];else this.words[0]=0,this.length=1;var B=0;for(I=this.length-1;I>=0&&(B!==0||I>=x);I--){var K=0|this.words[I];this.words[I]=B<<26-S|K>>>S,B=K&E}return N&&B!==0&&(N.words[N.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(R,P,C){return h(this.negative===0),this.iushrn(R,P,C)},n.prototype.shln=function(R){return this.clone().ishln(R)},n.prototype.ushln=function(R){return this.clone().iushln(R)},n.prototype.shrn=function(R){return this.clone().ishrn(R)},n.prototype.ushrn=function(R){return this.clone().iushrn(R)},n.prototype.testn=function(R){h(typeof R=="number"&&R>=0);var P=R%26,C=(R-P)/26,x=1<<P;return!(this.length<=C)&&!!(this.words[C]&x)},n.prototype.imaskn=function(R){h(typeof R=="number"&&R>=0);var P=R%26,C=(R-P)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=C)return this;if(P!==0&&C++,this.length=Math.min(C,this.length),P!==0){var x=67108863^67108863>>>P<<P;this.words[this.length-1]&=x}return this.strip()},n.prototype.maskn=function(R){return this.clone().imaskn(R)},n.prototype.iaddn=function(R){return h(typeof R=="number"),h(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},n.prototype._iaddn=function(R){this.words[0]+=R;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},n.prototype.isubn=function(R){if(h(typeof R=="number"),h(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},n.prototype.addn=function(R){return this.clone().iaddn(R)},n.prototype.subn=function(R){return this.clone().isubn(R)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(R,P,C){var x,S,T=R.length+C;this._expand(T);var E=0;for(x=0;x<R.length;x++){S=(0|this.words[x+C])+E;var N=(0|R.words[x])*P;E=((S-=67108863&N)>>26)-(N/67108864|0),this.words[x+C]=67108863&S}for(;x<this.length-C;x++)E=(S=(0|this.words[x+C])+E)>>26,this.words[x+C]=67108863&S;if(E===0)return this.strip();for(h(E===-1),E=0,x=0;x<this.length;x++)E=(S=-(0|this.words[x])+E)>>26,this.words[x]=67108863&S;return this.negative=1,this.strip()},n.prototype._wordDiv=function(R,P){var C=(this.length,R.length),x=this.clone(),S=R,T=0|S.words[S.length-1];(C=26-this._countBits(T))!==0&&(S=S.ushln(C),x.iushln(C),T=0|S.words[S.length-1]);var E,N=x.length-S.length;if(P!=="mod"){(E=new n(null)).length=N+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var B=x.clone()._ishlnsubmul(S,1,N);B.negative===0&&(x=B,E&&(E.words[N]=1));for(var K=N-1;K>=0;K--){var Z=67108864*(0|x.words[S.length+K])+(0|x.words[S.length+K-1]);for(Z=Math.min(Z/T|0,67108863),x._ishlnsubmul(S,Z,K);x.negative!==0;)Z--,x.negative=0,x._ishlnsubmul(S,1,K),x.isZero()||(x.negative^=1);E&&(E.words[K]=Z)}return E&&E.strip(),x.strip(),P!=="div"&&C!==0&&x.iushrn(C),{div:E||null,mod:x}},n.prototype.divmod=function(R,P,C){return h(!R.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&R.negative===0?(T=this.neg().divmod(R,P),P!=="mod"&&(x=T.div.neg()),P!=="div"&&(S=T.mod.neg(),C&&S.negative!==0&&S.iadd(R)),{div:x,mod:S}):this.negative===0&&R.negative!==0?(T=this.divmod(R.neg(),P),P!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&R.negative)!=0?(T=this.neg().divmod(R.neg(),P),P!=="div"&&(S=T.mod.neg(),C&&S.negative!==0&&S.isub(R)),{div:T.div,mod:S}):R.length>this.length||this.cmp(R)<0?{div:new n(0),mod:this}:R.length===1?P==="div"?{div:this.divn(R.words[0]),mod:null}:P==="mod"?{div:null,mod:new n(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new n(this.modn(R.words[0]))}:this._wordDiv(R,P);var x,S,T},n.prototype.div=function(R){return this.divmod(R,"div",!1).div},n.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},n.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},n.prototype.divRound=function(R){var P=this.divmod(R);if(P.mod.isZero())return P.div;var C=P.div.negative!==0?P.mod.isub(R):P.mod,x=R.ushrn(1),S=R.andln(1),T=C.cmp(x);return T<0||S===1&&T===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},n.prototype.modn=function(R){h(R<=67108863);for(var P=(1<<26)%R,C=0,x=this.length-1;x>=0;x--)C=(P*C+(0|this.words[x]))%R;return C},n.prototype.idivn=function(R){h(R<=67108863);for(var P=0,C=this.length-1;C>=0;C--){var x=(0|this.words[C])+67108864*P;this.words[C]=x/R|0,P=x%R}return this.strip()},n.prototype.divn=function(R){return this.clone().idivn(R)},n.prototype.egcd=function(R){h(R.negative===0),h(!R.isZero());var P=this,C=R.clone();P=P.negative!==0?P.umod(R):P.clone();for(var x=new n(1),S=new n(0),T=new n(0),E=new n(1),N=0;P.isEven()&&C.isEven();)P.iushrn(1),C.iushrn(1),++N;for(var I=C.clone(),B=P.clone();!P.isZero();){for(var K=0,Z=1;(P.words[0]&Z)==0&&K<26;++K,Z<<=1);if(K>0)for(P.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(I),S.isub(B)),x.iushrn(1),S.iushrn(1);for(var nt=0,H=1;(C.words[0]&H)==0&&nt<26;++nt,H<<=1);if(nt>0)for(C.iushrn(nt);nt-- >0;)(T.isOdd()||E.isOdd())&&(T.iadd(I),E.isub(B)),T.iushrn(1),E.iushrn(1);P.cmp(C)>=0?(P.isub(C),x.isub(T),S.isub(E)):(C.isub(P),T.isub(x),E.isub(S))}return{a:T,b:E,gcd:C.iushln(N)}},n.prototype._invmp=function(R){h(R.negative===0),h(!R.isZero());var P=this,C=R.clone();P=P.negative!==0?P.umod(R):P.clone();for(var x,S=new n(1),T=new n(0),E=C.clone();P.cmpn(1)>0&&C.cmpn(1)>0;){for(var N=0,I=1;(P.words[0]&I)==0&&N<26;++N,I<<=1);if(N>0)for(P.iushrn(N);N-- >0;)S.isOdd()&&S.iadd(E),S.iushrn(1);for(var B=0,K=1;(C.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(C.iushrn(B);B-- >0;)T.isOdd()&&T.iadd(E),T.iushrn(1);P.cmp(C)>=0?(P.isub(C),S.isub(T)):(C.isub(P),T.isub(S))}return(x=P.cmpn(1)===0?S:T).cmpn(0)<0&&x.iadd(R),x},n.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var P=this.clone(),C=R.clone();P.negative=0,C.negative=0;for(var x=0;P.isEven()&&C.isEven();x++)P.iushrn(1),C.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;C.isEven();)C.iushrn(1);var S=P.cmp(C);if(S<0){var T=P;P=C,C=T}else if(S===0||C.cmpn(1)===0)break;P.isub(C)}return C.iushln(x)},n.prototype.invm=function(R){return this.egcd(R).a.umod(R)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(R){return this.words[0]&R},n.prototype.bincn=function(R){h(typeof R=="number");var P=R%26,C=(R-P)/26,x=1<<P;if(this.length<=C)return this._expand(C+1),this.words[C]|=x,this;for(var S=x,T=C;S!==0&&T<this.length;T++){var E=0|this.words[T];S=(E+=S)>>>26,E&=67108863,this.words[T]=E}return S!==0&&(this.words[T]=S,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(R){var P,C=R<0;if(this.negative!==0&&!C)return-1;if(this.negative===0&&C)return 1;if(this.strip(),this.length>1)P=1;else{C&&(R=-R),h(R<=67108863,"Number is too big");var x=0|this.words[0];P=x===R?0:x<R?-1:1}return this.negative!==0?0|-P:P},n.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var P=this.ucmp(R);return this.negative!==0?0|-P:P},n.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var P=0,C=this.length-1;C>=0;C--){var x=0|this.words[C],S=0|R.words[C];if(x!==S){x<S?P=-1:x>S&&(P=1);break}}return P},n.prototype.gtn=function(R){return this.cmpn(R)===1},n.prototype.gt=function(R){return this.cmp(R)===1},n.prototype.gten=function(R){return this.cmpn(R)>=0},n.prototype.gte=function(R){return this.cmp(R)>=0},n.prototype.ltn=function(R){return this.cmpn(R)===-1},n.prototype.lt=function(R){return this.cmp(R)===-1},n.prototype.lten=function(R){return this.cmpn(R)<=0},n.prototype.lte=function(R){return this.cmp(R)<=0},n.prototype.eqn=function(R){return this.cmpn(R)===0},n.prototype.eq=function(R){return this.cmp(R)===0},n.red=function(R){return new X(R)},n.prototype.toRed=function(R){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},n.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(R){return this.red=R,this},n.prototype.forceRed=function(R){return h(!this.red,"Already a number in reduction context"),this._forceRed(R)},n.prototype.redAdd=function(R){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},n.prototype.redIAdd=function(R){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},n.prototype.redSub=function(R){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},n.prototype.redISub=function(R){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},n.prototype.redShl=function(R){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},n.prototype.redMul=function(R){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},n.prototype.redIMul=function(R){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},n.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(R){return h(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var L={k256:null,p224:null,p192:null,p25519:null};function G(R,P){this.name=R,this.p=new n(P,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){G.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){G.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function U(){G.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function q(){G.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function X(R){if(typeof R=="string"){var P=n._prime(R);this.m=P.p,this.prime=P}else h(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function $(R){X.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}G.prototype._tmp=function(){var R=new n(null);return R.words=new Array(Math.ceil(this.n/13)),R},G.prototype.ireduce=function(R){var P,C=R;do this.split(C,this.tmp),P=(C=(C=this.imulK(C)).iadd(this.tmp)).bitLength();while(P>this.n);var x=P<this.n?-1:C.ucmp(this.p);return x===0?(C.words[0]=0,C.length=1):x>0?C.isub(this.p):C.strip!==void 0?C.strip():C._strip(),C},G.prototype.split=function(R,P){R.iushrn(this.n,0,P)},G.prototype.imulK=function(R){return R.imul(this.k)},a(F,G),F.prototype.split=function(R,P){for(var C=Math.min(R.length,9),x=0;x<C;x++)P.words[x]=R.words[x];if(P.length=C,R.length<=9)return R.words[0]=0,void(R.length=1);var S=R.words[9];for(P.words[P.length++]=4194303&S,x=10;x<R.length;x++){var T=0|R.words[x];R.words[x-10]=(4194303&T)<<4|S>>>22,S=T}S>>>=22,R.words[x-10]=S,S===0&&R.length>10?R.length-=10:R.length-=9},F.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var P=0,C=0;C<R.length;C++){var x=0|R.words[C];P+=977*x,R.words[C]=67108863&P,P=64*x+(P/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},a(j,G),a(U,G),a(q,G),q.prototype.imulK=function(R){for(var P=0,C=0;C<R.length;C++){var x=19*(0|R.words[C])+P,S=67108863&x;x>>>=26,R.words[C]=S,P=x}return P!==0&&(R.words[R.length++]=P),R},n._prime=function(R){if(L[R])return L[R];var P;if(R==="k256")P=new F;else if(R==="p224")P=new j;else if(R==="p192")P=new U;else{if(R!=="p25519")throw new Error("Unknown prime "+R);P=new q}return L[R]=P,P},X.prototype._verify1=function(R){h(R.negative===0,"red works only with positives"),h(R.red,"red works only with red numbers")},X.prototype._verify2=function(R,P){h((R.negative|P.negative)==0,"red works only with positives"),h(R.red&&R.red===P.red,"red works only with red numbers")},X.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},X.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},X.prototype.add=function(R,P){this._verify2(R,P);var C=R.add(P);return C.cmp(this.m)>=0&&C.isub(this.m),C._forceRed(this)},X.prototype.iadd=function(R,P){this._verify2(R,P);var C=R.iadd(P);return C.cmp(this.m)>=0&&C.isub(this.m),C},X.prototype.sub=function(R,P){this._verify2(R,P);var C=R.sub(P);return C.cmpn(0)<0&&C.iadd(this.m),C._forceRed(this)},X.prototype.isub=function(R,P){this._verify2(R,P);var C=R.isub(P);return C.cmpn(0)<0&&C.iadd(this.m),C},X.prototype.shl=function(R,P){return this._verify1(R),this.imod(R.ushln(P))},X.prototype.imul=function(R,P){return this._verify2(R,P),this.imod(R.imul(P))},X.prototype.mul=function(R,P){return this._verify2(R,P),this.imod(R.mul(P))},X.prototype.isqr=function(R){return this.imul(R,R.clone())},X.prototype.sqr=function(R){return this.mul(R,R)},X.prototype.sqrt=function(R){if(R.isZero())return R.clone();var P=this.m.andln(3);if(h(P%2==1),P===3){var C=this.m.add(new n(1)).iushrn(2);return this.pow(R,C)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);h(!x.isZero());var T=new n(1).toRed(this),E=T.redNeg(),N=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new n(2*I*I).toRed(this);this.pow(I,N).cmp(E)!==0;)I.redIAdd(E);for(var B=this.pow(I,x),K=this.pow(R,x.addn(1).iushrn(1)),Z=this.pow(R,x),nt=S;Z.cmp(T)!==0;){for(var H=Z,tt=0;H.cmp(T)!==0;tt++)H=H.redSqr();h(tt<nt);var V=this.pow(B,new n(1).iushln(nt-tt-1));K=K.redMul(V),B=V.redSqr(),Z=Z.redMul(B),nt=tt}return K},X.prototype.invm=function(R){var P=R._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},X.prototype.pow=function(R,P){if(P.isZero())return new n(1).toRed(this);if(P.cmpn(1)===0)return R.clone();var C=new Array(16);C[0]=new n(1).toRed(this),C[1]=R;for(var x=2;x<C.length;x++)C[x]=this.mul(C[x-1],R);var S=C[0],T=0,E=0,N=P.bitLength()%26;for(N===0&&(N=26),x=P.length-1;x>=0;x--){for(var I=P.words[x],B=N-1;B>=0;B--){var K=I>>B&1;S!==C[0]&&(S=this.sqr(S)),K!==0||T!==0?(T<<=1,T|=K,(++E===4||x===0&&B===0)&&(S=this.mul(S,C[T]),E=0,T=0)):E=0}N=26}return S},X.prototype.convertTo=function(R){var P=R.umod(this.m);return P===R?P.clone():P},X.prototype.convertFrom=function(R){var P=R.clone();return P.red=null,P},n.mont=function(R){return new $(R)},a($,X),$.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},$.prototype.convertFrom=function(R){var P=this.imod(R.mul(this.rinv));return P.red=null,P},$.prototype.imul=function(R,P){if(R.isZero()||P.isZero())return R.words[0]=0,R.length=1,R;var C=R.imul(P),x=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(x).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},$.prototype.mul=function(R,P){if(R.isZero()||P.isZero())return new n(0)._forceRed(this);var C=R.mul(P),x=C.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=C.isub(x).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},$.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(i===void 0||i)},{buffer:188}],185:[function(t,i,c){c.byteLength=function(d){var y=p(d),v=y[0],g=y[1];return 3*(v+g)/4-g},c.toByteArray=function(d){var y,v,g=p(d),w=g[0],_=g[1],k=new h((function(G,F,j){return 3*(F+j)/4-j})(0,w,_)),M=0,L=_>0?w-4:w;for(v=0;v<L;v+=4)y=s[d.charCodeAt(v)]<<18|s[d.charCodeAt(v+1)]<<12|s[d.charCodeAt(v+2)]<<6|s[d.charCodeAt(v+3)],k[M++]=y>>16&255,k[M++]=y>>8&255,k[M++]=255&y;return _===2&&(y=s[d.charCodeAt(v)]<<2|s[d.charCodeAt(v+1)]>>4,k[M++]=255&y),_===1&&(y=s[d.charCodeAt(v)]<<10|s[d.charCodeAt(v+1)]<<4|s[d.charCodeAt(v+2)]>>2,k[M++]=y>>8&255,k[M++]=255&y),k},c.fromByteArray=function(d){for(var y,v=d.length,g=v%3,w=[],_=0,k=v-g;_<k;_+=16383)w.push(f(d,_,_+16383>k?k:_+16383));return g===1?(y=d[v-1],w.push(l[y>>2]+l[y<<4&63]+"==")):g===2&&(y=(d[v-2]<<8)+d[v-1],w.push(l[y>>10]+l[y>>4&63]+l[y<<2&63]+"=")),w.join("")};for(var l=[],s=[],h=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,u=a.length;n<u;++n)l[n]=a[n],s[a.charCodeAt(n)]=n;function p(d){var y=d.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=d.indexOf("=");return v===-1&&(v=y),[v,v===y?0:4-v%4]}function f(d,y,v){for(var g,w,_=[],k=y;k<v;k+=3)g=(d[k]<<16&16711680)+(d[k+1]<<8&65280)+(255&d[k+2]),_.push(l[(w=g)>>18&63]+l[w>>12&63]+l[w>>6&63]+l[63&w]);return _.join("")}s[45]=62,s[95]=63},{}],186:[function(t,i,c){(function(l,s){function h(C,x){if(!C)throw new Error(x||"Assertion failed")}function a(C,x){C.super_=x;var S=function(){};S.prototype=x.prototype,C.prototype=new S,C.prototype.constructor=C}function n(C,x,S){if(n.isBN(C))return C;this.negative=0,this.words=null,this.length=0,this.red=null,C!==null&&(x!=="le"&&x!=="be"||(S=x,x=10),this._init(C||0,x||10,S||"be"))}var u;typeof l=="object"?l.exports=n:(void 0).BN=n,n.BN=n,n.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function p(C,x){var S=C.charCodeAt(x);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void h(!1,"Invalid character in "+C)}function f(C,x,S){var T=p(C,S);return S-1>=x&&(T|=p(C,S-1)<<4),T}function d(C,x,S,T){for(var E=0,N=0,I=Math.min(C.length,S),B=x;B<I;B++){var K=C.charCodeAt(B)-48;E*=T,N=K>=49?K-49+10:K>=17?K-17+10:K,h(K>=0&&N<T,"Invalid character"),E+=N}return E}function y(C,x){C.words=x.words,C.length=x.length,C.negative=x.negative,C.red=x.red}if(n.isBN=function(C){return C instanceof n||C!==null&&typeof C=="object"&&C.constructor.wordSize===n.wordSize&&Array.isArray(C.words)},n.max=function(C,x){return C.cmp(x)>0?C:x},n.min=function(C,x){return C.cmp(x)<0?C:x},n.prototype._init=function(C,x,S){if(typeof C=="number")return this._initNumber(C,x,S);if(typeof C=="object")return this._initArray(C,x,S);x==="hex"&&(x=16),h(x===(0|x)&&x>=2&&x<=36);var T=0;(C=C.toString().replace(/\s+/g,""))[0]==="-"&&(T++,this.negative=1),T<C.length&&(x===16?this._parseHex(C,T,S):(this._parseBase(C,x,T),S==="le"&&this._initArray(this.toArray(),x,S)))},n.prototype._initNumber=function(C,x,S){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[67108863&C],this.length=1):C<4503599627370496?(this.words=[67108863&C,C/67108864&67108863],this.length=2):(h(C<9007199254740992),this.words=[67108863&C,C/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),x,S)},n.prototype._initArray=function(C,x,S){if(h(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var E,N,I=0;if(S==="be")for(T=C.length-1,E=0;T>=0;T-=3)N=C[T]|C[T-1]<<8|C[T-2]<<16,this.words[E]|=N<<I&67108863,this.words[E+1]=N>>>26-I&67108863,(I+=24)>=26&&(I-=26,E++);else if(S==="le")for(T=0,E=0;T<C.length;T+=3)N=C[T]|C[T+1]<<8|C[T+2]<<16,this.words[E]|=N<<I&67108863,this.words[E+1]=N>>>26-I&67108863,(I+=24)>=26&&(I-=26,E++);return this._strip()},n.prototype._parseHex=function(C,x,S){this.length=Math.ceil((C.length-x)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var E,N=0,I=0;if(S==="be")for(T=C.length-1;T>=x;T-=2)E=f(C,x,T)<<N,this.words[I]|=67108863&E,N>=18?(N-=18,I+=1,this.words[I]|=E>>>26):N+=8;else for(T=(C.length-x)%2==0?x+1:x;T<C.length;T+=2)E=f(C,x,T)<<N,this.words[I]|=67108863&E,N>=18?(N-=18,I+=1,this.words[I]|=E>>>26):N+=8;this._strip()},n.prototype._parseBase=function(C,x,S){this.words=[0],this.length=1;for(var T=0,E=1;E<=67108863;E*=x)T++;T--,E=E/x|0;for(var N=C.length-S,I=N%T,B=Math.min(N,N-I)+S,K=0,Z=S;Z<B;Z+=T)K=d(C,Z,Z+T,x),this.imuln(E),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(I!==0){var nt=1;for(K=d(C,Z,C.length,x),Z=0;Z<I;Z++)nt*=x;this.imuln(nt),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},n.prototype.copy=function(C){C.words=new Array(this.length);for(var x=0;x<this.length;x++)C.words[x]=this.words[x];C.length=this.length,C.negative=this.negative,C.red=this.red},n.prototype._move=function(C){y(C,this)},n.prototype.clone=function(){var C=new n(null);return this.copy(C),C},n.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{n.prototype.inspect=v}else n.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(C,x){var S;if(x=0|x||1,(C=C||10)===16||C==="hex"){S="";for(var T=0,E=0,N=0;N<this.length;N++){var I=this.words[N],B=(16777215&(I<<T|E)).toString(16);E=I>>>24-T&16777215,(T+=2)>=26&&(T-=26,N--),S=E!==0||N!==this.length-1?g[6-B.length]+B+S:B+S}for(E!==0&&(S=E.toString(16)+S);S.length%x!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(C===(0|C)&&C>=2&&C<=36){var K=w[C],Z=_[C];S="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var H=nt.modrn(Z).toString(C);S=(nt=nt.idivn(Z)).isZero()?H+S:g[K-H.length]+H+S}for(this.isZero()&&(S="0"+S);S.length%x!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}h(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=67108864*this.words[1]:this.length===3&&this.words[2]===1?C+=4503599627370496+67108864*this.words[1]:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},n.prototype.toJSON=function(){return this.toString(16,2)},u&&(n.prototype.toBuffer=function(C,x){return this.toArrayLike(u,C,x)}),n.prototype.toArray=function(C,x){return this.toArrayLike(Array,C,x)};function k(C,x,S){S.negative=x.negative^C.negative;var T=C.length+x.length|0;S.length=T,T=T-1|0;var E=0|C.words[0],N=0|x.words[0],I=E*N,B=67108863&I,K=I/67108864|0;S.words[0]=B;for(var Z=1;Z<T;Z++){for(var nt=K>>>26,H=67108863&K,tt=Math.min(Z,x.length-1),V=Math.max(0,Z-C.length+1);V<=tt;V++){var D=Z-V|0;nt+=(I=(E=0|C.words[D])*(N=0|x.words[V])+H)/67108864|0,H=67108863&I}S.words[Z]=0|H,K=0|nt}return K!==0?S.words[Z]=0|K:S.length--,S._strip()}n.prototype.toArrayLike=function(C,x,S){this._strip();var T=this.byteLength(),E=S||Math.max(1,T);h(T<=E,"byte array longer than desired length"),h(E>0,"Requested array length <= 0");var N=(function(I,B){return I.allocUnsafe?I.allocUnsafe(B):new I(B)})(C,E);return this["_toArrayLike"+(x==="le"?"LE":"BE")](N,T),N},n.prototype._toArrayLikeLE=function(C,x){for(var S=0,T=0,E=0,N=0;E<this.length;E++){var I=this.words[E]<<N|T;C[S++]=255&I,S<C.length&&(C[S++]=I>>8&255),S<C.length&&(C[S++]=I>>16&255),N===6?(S<C.length&&(C[S++]=I>>24&255),T=0,N=0):(T=I>>>24,N+=2)}if(S<C.length)for(C[S++]=T;S<C.length;)C[S++]=0},n.prototype._toArrayLikeBE=function(C,x){for(var S=C.length-1,T=0,E=0,N=0;E<this.length;E++){var I=this.words[E]<<N|T;C[S--]=255&I,S>=0&&(C[S--]=I>>8&255),S>=0&&(C[S--]=I>>16&255),N===6?(S>=0&&(C[S--]=I>>24&255),T=0,N=0):(T=I>>>24,N+=2)}if(S>=0)for(C[S--]=T;S>=0;)C[S--]=0},Math.clz32?n.prototype._countBits=function(C){return 32-Math.clz32(C)}:n.prototype._countBits=function(C){var x=C,S=0;return x>=4096&&(S+=13,x>>>=13),x>=64&&(S+=7,x>>>=7),x>=8&&(S+=4,x>>>=4),x>=2&&(S+=2,x>>>=2),S+x},n.prototype._zeroBits=function(C){if(C===0)return 26;var x=C,S=0;return(8191&x)==0&&(S+=13,x>>>=13),(127&x)==0&&(S+=7,x>>>=7),(15&x)==0&&(S+=4,x>>>=4),(3&x)==0&&(S+=2,x>>>=2),(1&x)==0&&S++,S},n.prototype.bitLength=function(){var C=this.words[this.length-1],x=this._countBits(C);return 26*(this.length-1)+x},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,x=0;x<this.length;x++){var S=this._zeroBits(this.words[x]);if(C+=S,S!==26)break}return C},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},n.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var x=0;x<C.length;x++)this.words[x]=this.words[x]|C.words[x];return this._strip()},n.prototype.ior=function(C){return h((this.negative|C.negative)==0),this.iuor(C)},n.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},n.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},n.prototype.iuand=function(C){var x;x=this.length>C.length?C:this;for(var S=0;S<x.length;S++)this.words[S]=this.words[S]&C.words[S];return this.length=x.length,this._strip()},n.prototype.iand=function(C){return h((this.negative|C.negative)==0),this.iuand(C)},n.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},n.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},n.prototype.iuxor=function(C){var x,S;this.length>C.length?(x=this,S=C):(x=C,S=this);for(var T=0;T<S.length;T++)this.words[T]=x.words[T]^S.words[T];if(this!==x)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=x.length,this._strip()},n.prototype.ixor=function(C){return h((this.negative|C.negative)==0),this.iuxor(C)},n.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},n.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},n.prototype.inotn=function(C){h(typeof C=="number"&&C>=0);var x=0|Math.ceil(C/26),S=C%26;this._expand(x),S>0&&x--;for(var T=0;T<x;T++)this.words[T]=67108863&~this.words[T];return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},n.prototype.notn=function(C){return this.clone().inotn(C)},n.prototype.setn=function(C,x){h(typeof C=="number"&&C>=0);var S=C/26|0,T=C%26;return this._expand(S+1),this.words[S]=x?this.words[S]|1<<T:this.words[S]&~(1<<T),this._strip()},n.prototype.iadd=function(C){var x,S,T;if(this.negative!==0&&C.negative===0)return this.negative=0,x=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,x=this.isub(C),C.negative=1,x._normSign();this.length>C.length?(S=this,T=C):(S=C,T=this);for(var E=0,N=0;N<T.length;N++)x=(0|S.words[N])+(0|T.words[N])+E,this.words[N]=67108863&x,E=x>>>26;for(;E!==0&&N<S.length;N++)x=(0|S.words[N])+E,this.words[N]=67108863&x,E=x>>>26;if(this.length=S.length,E!==0)this.words[this.length]=E,this.length++;else if(S!==this)for(;N<S.length;N++)this.words[N]=S.words[N];return this},n.prototype.add=function(C){var x;return C.negative!==0&&this.negative===0?(C.negative=0,x=this.sub(C),C.negative^=1,x):C.negative===0&&this.negative!==0?(this.negative=0,x=C.sub(this),this.negative=1,x):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},n.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var x=this.iadd(C);return C.negative=1,x._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var S,T,E=this.cmp(C);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(S=this,T=C):(S=C,T=this);for(var N=0,I=0;I<T.length;I++)N=(x=(0|S.words[I])-(0|T.words[I])+N)>>26,this.words[I]=67108863&x;for(;N!==0&&I<S.length;I++)N=(x=(0|S.words[I])+N)>>26,this.words[I]=67108863&x;if(N===0&&I<S.length&&S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this.length=Math.max(this.length,I),S!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(C){return this.clone().isub(C)};var M=function(C,x,S){var T,E,N,I=C.words,B=x.words,K=S.words,Z=0,nt=0|I[0],H=8191&nt,tt=nt>>>13,V=0|I[1],D=8191&V,Q=V>>>13,it=0|I[2],ht=8191&it,st=it>>>13,ut=0|I[3],yt=8191&ut,bt=ut>>>13,at=0|I[4],pt=8191&at,dt=at>>>13,vt=0|I[5],xt=8191&vt,Et=vt>>>13,It=0|I[6],Nt=8191&It,$t=It>>>13,se=0|I[7],re=8191&se,Zt=se>>>13,te=0|I[8],we=8191&te,_e=te>>>13,Se=0|I[9],ee=8191&Se,Ft=Se>>>13,ie=0|B[0],ae=8191&ie,he=ie>>>13,Le=0|B[1],Fe=8191&Le,ge=Le>>>13,Ge=0|B[2],Ee=8191&Ge,Ae=Ge>>>13,Qe=0|B[3],Be=8191&Qe,ke=Qe>>>13,qe=0|B[4],He=8191&qe,xe=qe>>>13,Xe=0|B[5],Je=8191&Xe,Oe=Xe>>>13,gt=0|B[6],Tt=8191&gt,Pt=gt>>>13,ne=0|B[7],ye=8191&ne,Jt=ne>>>13,fe=0|B[8],oe=8191&fe,ce=fe>>>13,Me=0|B[9],Ie=8191&Me,Ve=Me>>>13;S.negative=C.negative^x.negative,S.length=19;var yr=(Z+(T=Math.imul(H,ae))|0)+((8191&(E=(E=Math.imul(H,he))+Math.imul(tt,ae)|0))<<13)|0;Z=((N=Math.imul(tt,he))+(E>>>13)|0)+(yr>>>26)|0,yr&=67108863,T=Math.imul(D,ae),E=(E=Math.imul(D,he))+Math.imul(Q,ae)|0,N=Math.imul(Q,he);var Ze=(Z+(T=T+Math.imul(H,Fe)|0)|0)+((8191&(E=(E=E+Math.imul(H,ge)|0)+Math.imul(tt,Fe)|0))<<13)|0;Z=((N=N+Math.imul(tt,ge)|0)+(E>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,T=Math.imul(ht,ae),E=(E=Math.imul(ht,he))+Math.imul(st,ae)|0,N=Math.imul(st,he),T=T+Math.imul(D,Fe)|0,E=(E=E+Math.imul(D,ge)|0)+Math.imul(Q,Fe)|0,N=N+Math.imul(Q,ge)|0;var zt=(Z+(T=T+Math.imul(H,Ee)|0)|0)+((8191&(E=(E=E+Math.imul(H,Ae)|0)+Math.imul(tt,Ee)|0))<<13)|0;Z=((N=N+Math.imul(tt,Ae)|0)+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,T=Math.imul(yt,ae),E=(E=Math.imul(yt,he))+Math.imul(bt,ae)|0,N=Math.imul(bt,he),T=T+Math.imul(ht,Fe)|0,E=(E=E+Math.imul(ht,ge)|0)+Math.imul(st,Fe)|0,N=N+Math.imul(st,ge)|0,T=T+Math.imul(D,Ee)|0,E=(E=E+Math.imul(D,Ae)|0)+Math.imul(Q,Ee)|0,N=N+Math.imul(Q,Ae)|0;var de=(Z+(T=T+Math.imul(H,Be)|0)|0)+((8191&(E=(E=E+Math.imul(H,ke)|0)+Math.imul(tt,Be)|0))<<13)|0;Z=((N=N+Math.imul(tt,ke)|0)+(E>>>13)|0)+(de>>>26)|0,de&=67108863,T=Math.imul(pt,ae),E=(E=Math.imul(pt,he))+Math.imul(dt,ae)|0,N=Math.imul(dt,he),T=T+Math.imul(yt,Fe)|0,E=(E=E+Math.imul(yt,ge)|0)+Math.imul(bt,Fe)|0,N=N+Math.imul(bt,ge)|0,T=T+Math.imul(ht,Ee)|0,E=(E=E+Math.imul(ht,Ae)|0)+Math.imul(st,Ee)|0,N=N+Math.imul(st,Ae)|0,T=T+Math.imul(D,Be)|0,E=(E=E+Math.imul(D,ke)|0)+Math.imul(Q,Be)|0,N=N+Math.imul(Q,ke)|0;var Re=(Z+(T=T+Math.imul(H,He)|0)|0)+((8191&(E=(E=E+Math.imul(H,xe)|0)+Math.imul(tt,He)|0))<<13)|0;Z=((N=N+Math.imul(tt,xe)|0)+(E>>>13)|0)+(Re>>>26)|0,Re&=67108863,T=Math.imul(xt,ae),E=(E=Math.imul(xt,he))+Math.imul(Et,ae)|0,N=Math.imul(Et,he),T=T+Math.imul(pt,Fe)|0,E=(E=E+Math.imul(pt,ge)|0)+Math.imul(dt,Fe)|0,N=N+Math.imul(dt,ge)|0,T=T+Math.imul(yt,Ee)|0,E=(E=E+Math.imul(yt,Ae)|0)+Math.imul(bt,Ee)|0,N=N+Math.imul(bt,Ae)|0,T=T+Math.imul(ht,Be)|0,E=(E=E+Math.imul(ht,ke)|0)+Math.imul(st,Be)|0,N=N+Math.imul(st,ke)|0,T=T+Math.imul(D,He)|0,E=(E=E+Math.imul(D,xe)|0)+Math.imul(Q,He)|0,N=N+Math.imul(Q,xe)|0;var ct=(Z+(T=T+Math.imul(H,Je)|0)|0)+((8191&(E=(E=E+Math.imul(H,Oe)|0)+Math.imul(tt,Je)|0))<<13)|0;Z=((N=N+Math.imul(tt,Oe)|0)+(E>>>13)|0)+(ct>>>26)|0,ct&=67108863,T=Math.imul(Nt,ae),E=(E=Math.imul(Nt,he))+Math.imul($t,ae)|0,N=Math.imul($t,he),T=T+Math.imul(xt,Fe)|0,E=(E=E+Math.imul(xt,ge)|0)+Math.imul(Et,Fe)|0,N=N+Math.imul(Et,ge)|0,T=T+Math.imul(pt,Ee)|0,E=(E=E+Math.imul(pt,Ae)|0)+Math.imul(dt,Ee)|0,N=N+Math.imul(dt,Ae)|0,T=T+Math.imul(yt,Be)|0,E=(E=E+Math.imul(yt,ke)|0)+Math.imul(bt,Be)|0,N=N+Math.imul(bt,ke)|0,T=T+Math.imul(ht,He)|0,E=(E=E+Math.imul(ht,xe)|0)+Math.imul(st,He)|0,N=N+Math.imul(st,xe)|0,T=T+Math.imul(D,Je)|0,E=(E=E+Math.imul(D,Oe)|0)+Math.imul(Q,Je)|0,N=N+Math.imul(Q,Oe)|0;var St=(Z+(T=T+Math.imul(H,Tt)|0)|0)+((8191&(E=(E=E+Math.imul(H,Pt)|0)+Math.imul(tt,Tt)|0))<<13)|0;Z=((N=N+Math.imul(tt,Pt)|0)+(E>>>13)|0)+(St>>>26)|0,St&=67108863,T=Math.imul(re,ae),E=(E=Math.imul(re,he))+Math.imul(Zt,ae)|0,N=Math.imul(Zt,he),T=T+Math.imul(Nt,Fe)|0,E=(E=E+Math.imul(Nt,ge)|0)+Math.imul($t,Fe)|0,N=N+Math.imul($t,ge)|0,T=T+Math.imul(xt,Ee)|0,E=(E=E+Math.imul(xt,Ae)|0)+Math.imul(Et,Ee)|0,N=N+Math.imul(Et,Ae)|0,T=T+Math.imul(pt,Be)|0,E=(E=E+Math.imul(pt,ke)|0)+Math.imul(dt,Be)|0,N=N+Math.imul(dt,ke)|0,T=T+Math.imul(yt,He)|0,E=(E=E+Math.imul(yt,xe)|0)+Math.imul(bt,He)|0,N=N+Math.imul(bt,xe)|0,T=T+Math.imul(ht,Je)|0,E=(E=E+Math.imul(ht,Oe)|0)+Math.imul(st,Je)|0,N=N+Math.imul(st,Oe)|0,T=T+Math.imul(D,Tt)|0,E=(E=E+Math.imul(D,Pt)|0)+Math.imul(Q,Tt)|0,N=N+Math.imul(Q,Pt)|0;var Lt=(Z+(T=T+Math.imul(H,ye)|0)|0)+((8191&(E=(E=E+Math.imul(H,Jt)|0)+Math.imul(tt,ye)|0))<<13)|0;Z=((N=N+Math.imul(tt,Jt)|0)+(E>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,T=Math.imul(we,ae),E=(E=Math.imul(we,he))+Math.imul(_e,ae)|0,N=Math.imul(_e,he),T=T+Math.imul(re,Fe)|0,E=(E=E+Math.imul(re,ge)|0)+Math.imul(Zt,Fe)|0,N=N+Math.imul(Zt,ge)|0,T=T+Math.imul(Nt,Ee)|0,E=(E=E+Math.imul(Nt,Ae)|0)+Math.imul($t,Ee)|0,N=N+Math.imul($t,Ae)|0,T=T+Math.imul(xt,Be)|0,E=(E=E+Math.imul(xt,ke)|0)+Math.imul(Et,Be)|0,N=N+Math.imul(Et,ke)|0,T=T+Math.imul(pt,He)|0,E=(E=E+Math.imul(pt,xe)|0)+Math.imul(dt,He)|0,N=N+Math.imul(dt,xe)|0,T=T+Math.imul(yt,Je)|0,E=(E=E+Math.imul(yt,Oe)|0)+Math.imul(bt,Je)|0,N=N+Math.imul(bt,Oe)|0,T=T+Math.imul(ht,Tt)|0,E=(E=E+Math.imul(ht,Pt)|0)+Math.imul(st,Tt)|0,N=N+Math.imul(st,Pt)|0,T=T+Math.imul(D,ye)|0,E=(E=E+Math.imul(D,Jt)|0)+Math.imul(Q,ye)|0,N=N+Math.imul(Q,Jt)|0;var Kt=(Z+(T=T+Math.imul(H,oe)|0)|0)+((8191&(E=(E=E+Math.imul(H,ce)|0)+Math.imul(tt,oe)|0))<<13)|0;Z=((N=N+Math.imul(tt,ce)|0)+(E>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,T=Math.imul(ee,ae),E=(E=Math.imul(ee,he))+Math.imul(Ft,ae)|0,N=Math.imul(Ft,he),T=T+Math.imul(we,Fe)|0,E=(E=E+Math.imul(we,ge)|0)+Math.imul(_e,Fe)|0,N=N+Math.imul(_e,ge)|0,T=T+Math.imul(re,Ee)|0,E=(E=E+Math.imul(re,Ae)|0)+Math.imul(Zt,Ee)|0,N=N+Math.imul(Zt,Ae)|0,T=T+Math.imul(Nt,Be)|0,E=(E=E+Math.imul(Nt,ke)|0)+Math.imul($t,Be)|0,N=N+Math.imul($t,ke)|0,T=T+Math.imul(xt,He)|0,E=(E=E+Math.imul(xt,xe)|0)+Math.imul(Et,He)|0,N=N+Math.imul(Et,xe)|0,T=T+Math.imul(pt,Je)|0,E=(E=E+Math.imul(pt,Oe)|0)+Math.imul(dt,Je)|0,N=N+Math.imul(dt,Oe)|0,T=T+Math.imul(yt,Tt)|0,E=(E=E+Math.imul(yt,Pt)|0)+Math.imul(bt,Tt)|0,N=N+Math.imul(bt,Pt)|0,T=T+Math.imul(ht,ye)|0,E=(E=E+Math.imul(ht,Jt)|0)+Math.imul(st,ye)|0,N=N+Math.imul(st,Jt)|0,T=T+Math.imul(D,oe)|0,E=(E=E+Math.imul(D,ce)|0)+Math.imul(Q,oe)|0,N=N+Math.imul(Q,ce)|0;var pe=(Z+(T=T+Math.imul(H,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(H,Ve)|0)+Math.imul(tt,Ie)|0))<<13)|0;Z=((N=N+Math.imul(tt,Ve)|0)+(E>>>13)|0)+(pe>>>26)|0,pe&=67108863,T=Math.imul(ee,Fe),E=(E=Math.imul(ee,ge))+Math.imul(Ft,Fe)|0,N=Math.imul(Ft,ge),T=T+Math.imul(we,Ee)|0,E=(E=E+Math.imul(we,Ae)|0)+Math.imul(_e,Ee)|0,N=N+Math.imul(_e,Ae)|0,T=T+Math.imul(re,Be)|0,E=(E=E+Math.imul(re,ke)|0)+Math.imul(Zt,Be)|0,N=N+Math.imul(Zt,ke)|0,T=T+Math.imul(Nt,He)|0,E=(E=E+Math.imul(Nt,xe)|0)+Math.imul($t,He)|0,N=N+Math.imul($t,xe)|0,T=T+Math.imul(xt,Je)|0,E=(E=E+Math.imul(xt,Oe)|0)+Math.imul(Et,Je)|0,N=N+Math.imul(Et,Oe)|0,T=T+Math.imul(pt,Tt)|0,E=(E=E+Math.imul(pt,Pt)|0)+Math.imul(dt,Tt)|0,N=N+Math.imul(dt,Pt)|0,T=T+Math.imul(yt,ye)|0,E=(E=E+Math.imul(yt,Jt)|0)+Math.imul(bt,ye)|0,N=N+Math.imul(bt,Jt)|0,T=T+Math.imul(ht,oe)|0,E=(E=E+Math.imul(ht,ce)|0)+Math.imul(st,oe)|0,N=N+Math.imul(st,ce)|0;var ot=(Z+(T=T+Math.imul(D,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(D,Ve)|0)+Math.imul(Q,Ie)|0))<<13)|0;Z=((N=N+Math.imul(Q,Ve)|0)+(E>>>13)|0)+(ot>>>26)|0,ot&=67108863,T=Math.imul(ee,Ee),E=(E=Math.imul(ee,Ae))+Math.imul(Ft,Ee)|0,N=Math.imul(Ft,Ae),T=T+Math.imul(we,Be)|0,E=(E=E+Math.imul(we,ke)|0)+Math.imul(_e,Be)|0,N=N+Math.imul(_e,ke)|0,T=T+Math.imul(re,He)|0,E=(E=E+Math.imul(re,xe)|0)+Math.imul(Zt,He)|0,N=N+Math.imul(Zt,xe)|0,T=T+Math.imul(Nt,Je)|0,E=(E=E+Math.imul(Nt,Oe)|0)+Math.imul($t,Je)|0,N=N+Math.imul($t,Oe)|0,T=T+Math.imul(xt,Tt)|0,E=(E=E+Math.imul(xt,Pt)|0)+Math.imul(Et,Tt)|0,N=N+Math.imul(Et,Pt)|0,T=T+Math.imul(pt,ye)|0,E=(E=E+Math.imul(pt,Jt)|0)+Math.imul(dt,ye)|0,N=N+Math.imul(dt,Jt)|0,T=T+Math.imul(yt,oe)|0,E=(E=E+Math.imul(yt,ce)|0)+Math.imul(bt,oe)|0,N=N+Math.imul(bt,ce)|0;var wt=(Z+(T=T+Math.imul(ht,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(ht,Ve)|0)+Math.imul(st,Ie)|0))<<13)|0;Z=((N=N+Math.imul(st,Ve)|0)+(E>>>13)|0)+(wt>>>26)|0,wt&=67108863,T=Math.imul(ee,Be),E=(E=Math.imul(ee,ke))+Math.imul(Ft,Be)|0,N=Math.imul(Ft,ke),T=T+Math.imul(we,He)|0,E=(E=E+Math.imul(we,xe)|0)+Math.imul(_e,He)|0,N=N+Math.imul(_e,xe)|0,T=T+Math.imul(re,Je)|0,E=(E=E+Math.imul(re,Oe)|0)+Math.imul(Zt,Je)|0,N=N+Math.imul(Zt,Oe)|0,T=T+Math.imul(Nt,Tt)|0,E=(E=E+Math.imul(Nt,Pt)|0)+Math.imul($t,Tt)|0,N=N+Math.imul($t,Pt)|0,T=T+Math.imul(xt,ye)|0,E=(E=E+Math.imul(xt,Jt)|0)+Math.imul(Et,ye)|0,N=N+Math.imul(Et,Jt)|0,T=T+Math.imul(pt,oe)|0,E=(E=E+Math.imul(pt,ce)|0)+Math.imul(dt,oe)|0,N=N+Math.imul(dt,ce)|0;var jt=(Z+(T=T+Math.imul(yt,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(yt,Ve)|0)+Math.imul(bt,Ie)|0))<<13)|0;Z=((N=N+Math.imul(bt,Ve)|0)+(E>>>13)|0)+(jt>>>26)|0,jt&=67108863,T=Math.imul(ee,He),E=(E=Math.imul(ee,xe))+Math.imul(Ft,He)|0,N=Math.imul(Ft,xe),T=T+Math.imul(we,Je)|0,E=(E=E+Math.imul(we,Oe)|0)+Math.imul(_e,Je)|0,N=N+Math.imul(_e,Oe)|0,T=T+Math.imul(re,Tt)|0,E=(E=E+Math.imul(re,Pt)|0)+Math.imul(Zt,Tt)|0,N=N+Math.imul(Zt,Pt)|0,T=T+Math.imul(Nt,ye)|0,E=(E=E+Math.imul(Nt,Jt)|0)+Math.imul($t,ye)|0,N=N+Math.imul($t,Jt)|0,T=T+Math.imul(xt,oe)|0,E=(E=E+Math.imul(xt,ce)|0)+Math.imul(Et,oe)|0,N=N+Math.imul(Et,ce)|0;var Xt=(Z+(T=T+Math.imul(pt,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(pt,Ve)|0)+Math.imul(dt,Ie)|0))<<13)|0;Z=((N=N+Math.imul(dt,Ve)|0)+(E>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,T=Math.imul(ee,Je),E=(E=Math.imul(ee,Oe))+Math.imul(Ft,Je)|0,N=Math.imul(Ft,Oe),T=T+Math.imul(we,Tt)|0,E=(E=E+Math.imul(we,Pt)|0)+Math.imul(_e,Tt)|0,N=N+Math.imul(_e,Pt)|0,T=T+Math.imul(re,ye)|0,E=(E=E+Math.imul(re,Jt)|0)+Math.imul(Zt,ye)|0,N=N+Math.imul(Zt,Jt)|0,T=T+Math.imul(Nt,oe)|0,E=(E=E+Math.imul(Nt,ce)|0)+Math.imul($t,oe)|0,N=N+Math.imul($t,ce)|0;var Ut=(Z+(T=T+Math.imul(xt,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(xt,Ve)|0)+Math.imul(Et,Ie)|0))<<13)|0;Z=((N=N+Math.imul(Et,Ve)|0)+(E>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,T=Math.imul(ee,Tt),E=(E=Math.imul(ee,Pt))+Math.imul(Ft,Tt)|0,N=Math.imul(Ft,Pt),T=T+Math.imul(we,ye)|0,E=(E=E+Math.imul(we,Jt)|0)+Math.imul(_e,ye)|0,N=N+Math.imul(_e,Jt)|0,T=T+Math.imul(re,oe)|0,E=(E=E+Math.imul(re,ce)|0)+Math.imul(Zt,oe)|0,N=N+Math.imul(Zt,ce)|0;var Gt=(Z+(T=T+Math.imul(Nt,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(Nt,Ve)|0)+Math.imul($t,Ie)|0))<<13)|0;Z=((N=N+Math.imul($t,Ve)|0)+(E>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,T=Math.imul(ee,ye),E=(E=Math.imul(ee,Jt))+Math.imul(Ft,ye)|0,N=Math.imul(Ft,Jt),T=T+Math.imul(we,oe)|0,E=(E=E+Math.imul(we,ce)|0)+Math.imul(_e,oe)|0,N=N+Math.imul(_e,ce)|0;var le=(Z+(T=T+Math.imul(re,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(re,Ve)|0)+Math.imul(Zt,Ie)|0))<<13)|0;Z=((N=N+Math.imul(Zt,Ve)|0)+(E>>>13)|0)+(le>>>26)|0,le&=67108863,T=Math.imul(ee,oe),E=(E=Math.imul(ee,ce))+Math.imul(Ft,oe)|0,N=Math.imul(Ft,ce);var Qt=(Z+(T=T+Math.imul(we,Ie)|0)|0)+((8191&(E=(E=E+Math.imul(we,Ve)|0)+Math.imul(_e,Ie)|0))<<13)|0;Z=((N=N+Math.imul(_e,Ve)|0)+(E>>>13)|0)+(Qt>>>26)|0,Qt&=67108863;var be=(Z+(T=Math.imul(ee,Ie))|0)+((8191&(E=(E=Math.imul(ee,Ve))+Math.imul(Ft,Ie)|0))<<13)|0;return Z=((N=Math.imul(Ft,Ve))+(E>>>13)|0)+(be>>>26)|0,be&=67108863,K[0]=yr,K[1]=Ze,K[2]=zt,K[3]=de,K[4]=Re,K[5]=ct,K[6]=St,K[7]=Lt,K[8]=Kt,K[9]=pe,K[10]=ot,K[11]=wt,K[12]=jt,K[13]=Xt,K[14]=Ut,K[15]=Gt,K[16]=le,K[17]=Qt,K[18]=be,Z!==0&&(K[19]=Z,S.length++),S};function L(C,x,S){S.negative=x.negative^C.negative,S.length=C.length+x.length;for(var T=0,E=0,N=0;N<S.length-1;N++){var I=E;E=0;for(var B=67108863&T,K=Math.min(N,x.length-1),Z=Math.max(0,N-C.length+1);Z<=K;Z++){var nt=N-Z,H=(0|C.words[nt])*(0|x.words[Z]),tt=67108863&H;B=67108863&(tt=tt+B|0),E+=(I=(I=I+(H/67108864|0)|0)+(tt>>>26)|0)>>>26,I&=67108863}S.words[N]=B,T=I,I=E}return T!==0?S.words[N]=T:S.length--,S._strip()}function G(C,x,S){return L(C,x,S)}Math.imul||(M=k),n.prototype.mulTo=function(C,x){var S=this.length+C.length;return this.length===10&&C.length===10?M(this,C,x):S<63?k(this,C,x):S<1024?L(this,C,x):G(this,C,x)},n.prototype.mul=function(C){var x=new n(null);return x.words=new Array(this.length+C.length),this.mulTo(C,x)},n.prototype.mulf=function(C){var x=new n(null);return x.words=new Array(this.length+C.length),G(this,C,x)},n.prototype.imul=function(C){return this.clone().mulTo(C,this)},n.prototype.imuln=function(C){var x=C<0;x&&(C=-C),h(typeof C=="number"),h(C<67108864);for(var S=0,T=0;T<this.length;T++){var E=(0|this.words[T])*C,N=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=N>>>26,this.words[T]=67108863&N}return S!==0&&(this.words[T]=S,this.length++),x?this.ineg():this},n.prototype.muln=function(C){return this.clone().imuln(C)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(C){var x=(function(N){for(var I=new Array(N.bitLength()),B=0;B<I.length;B++){var K=B/26|0,Z=B%26;I[B]=N.words[K]>>>Z&1}return I})(C);if(x.length===0)return new n(1);for(var S=this,T=0;T<x.length&&x[T]===0;T++,S=S.sqr());if(++T<x.length)for(var E=S.sqr();T<x.length;T++,E=E.sqr())x[T]!==0&&(S=S.mul(E));return S},n.prototype.iushln=function(C){h(typeof C=="number"&&C>=0);var x,S=C%26,T=(C-S)/26,E=67108863>>>26-S<<26-S;if(S!==0){var N=0;for(x=0;x<this.length;x++){var I=this.words[x]&E,B=(0|this.words[x])-I<<S;this.words[x]=B|N,N=I>>>26-S}N&&(this.words[x]=N,this.length++)}if(T!==0){for(x=this.length-1;x>=0;x--)this.words[x+T]=this.words[x];for(x=0;x<T;x++)this.words[x]=0;this.length+=T}return this._strip()},n.prototype.ishln=function(C){return h(this.negative===0),this.iushln(C)},n.prototype.iushrn=function(C,x,S){var T;h(typeof C=="number"&&C>=0),T=x?(x-x%26)/26:0;var E=C%26,N=Math.min((C-E)/26,this.length),I=67108863^67108863>>>E<<E,B=S;if(T-=N,T=Math.max(0,T),B){for(var K=0;K<N;K++)B.words[K]=this.words[K];B.length=N}if(N!==0)if(this.length>N)for(this.length-=N,K=0;K<this.length;K++)this.words[K]=this.words[K+N];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=T);K--){var nt=0|this.words[K];this.words[K]=Z<<26-E|nt>>>E,Z=nt&I}return B&&Z!==0&&(B.words[B.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(C,x,S){return h(this.negative===0),this.iushrn(C,x,S)},n.prototype.shln=function(C){return this.clone().ishln(C)},n.prototype.ushln=function(C){return this.clone().iushln(C)},n.prototype.shrn=function(C){return this.clone().ishrn(C)},n.prototype.ushrn=function(C){return this.clone().iushrn(C)},n.prototype.testn=function(C){h(typeof C=="number"&&C>=0);var x=C%26,S=(C-x)/26,T=1<<x;return!(this.length<=S)&&!!(this.words[S]&T)},n.prototype.imaskn=function(C){h(typeof C=="number"&&C>=0);var x=C%26,S=(C-x)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(x!==0&&S++,this.length=Math.min(S,this.length),x!==0){var T=67108863^67108863>>>x<<x;this.words[this.length-1]&=T}return this._strip()},n.prototype.maskn=function(C){return this.clone().imaskn(C)},n.prototype.iaddn=function(C){return h(typeof C=="number"),h(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(0|this.words[0])<=C?(this.words[0]=C-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},n.prototype._iaddn=function(C){this.words[0]+=C;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},n.prototype.isubn=function(C){if(h(typeof C=="number"),h(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},n.prototype.addn=function(C){return this.clone().iaddn(C)},n.prototype.subn=function(C){return this.clone().isubn(C)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(C,x,S){var T,E,N=C.length+S;this._expand(N);var I=0;for(T=0;T<C.length;T++){E=(0|this.words[T+S])+I;var B=(0|C.words[T])*x;I=((E-=67108863&B)>>26)-(B/67108864|0),this.words[T+S]=67108863&E}for(;T<this.length-S;T++)I=(E=(0|this.words[T+S])+I)>>26,this.words[T+S]=67108863&E;if(I===0)return this._strip();for(h(I===-1),I=0,T=0;T<this.length;T++)I=(E=-(0|this.words[T])+I)>>26,this.words[T]=67108863&E;return this.negative=1,this._strip()},n.prototype._wordDiv=function(C,x){var S=(this.length,C.length),T=this.clone(),E=C,N=0|E.words[E.length-1];(S=26-this._countBits(N))!==0&&(E=E.ushln(S),T.iushln(S),N=0|E.words[E.length-1]);var I,B=T.length-E.length;if(x!=="mod"){(I=new n(null)).length=B+1,I.words=new Array(I.length);for(var K=0;K<I.length;K++)I.words[K]=0}var Z=T.clone()._ishlnsubmul(E,1,B);Z.negative===0&&(T=Z,I&&(I.words[B]=1));for(var nt=B-1;nt>=0;nt--){var H=67108864*(0|T.words[E.length+nt])+(0|T.words[E.length+nt-1]);for(H=Math.min(H/N|0,67108863),T._ishlnsubmul(E,H,nt);T.negative!==0;)H--,T.negative=0,T._ishlnsubmul(E,1,nt),T.isZero()||(T.negative^=1);I&&(I.words[nt]=H)}return I&&I._strip(),T._strip(),x!=="div"&&S!==0&&T.iushrn(S),{div:I||null,mod:T}},n.prototype.divmod=function(C,x,S){return h(!C.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&C.negative===0?(N=this.neg().divmod(C,x),x!=="mod"&&(T=N.div.neg()),x!=="div"&&(E=N.mod.neg(),S&&E.negative!==0&&E.iadd(C)),{div:T,mod:E}):this.negative===0&&C.negative!==0?(N=this.divmod(C.neg(),x),x!=="mod"&&(T=N.div.neg()),{div:T,mod:N.mod}):(this.negative&C.negative)!=0?(N=this.neg().divmod(C.neg(),x),x!=="div"&&(E=N.mod.neg(),S&&E.negative!==0&&E.isub(C)),{div:N.div,mod:E}):C.length>this.length||this.cmp(C)<0?{div:new n(0),mod:this}:C.length===1?x==="div"?{div:this.divn(C.words[0]),mod:null}:x==="mod"?{div:null,mod:new n(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new n(this.modrn(C.words[0]))}:this._wordDiv(C,x);var T,E,N},n.prototype.div=function(C){return this.divmod(C,"div",!1).div},n.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},n.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},n.prototype.divRound=function(C){var x=this.divmod(C);if(x.mod.isZero())return x.div;var S=x.div.negative!==0?x.mod.isub(C):x.mod,T=C.ushrn(1),E=C.andln(1),N=S.cmp(T);return N<0||E===1&&N===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},n.prototype.modrn=function(C){var x=C<0;x&&(C=-C),h(C<=67108863);for(var S=(1<<26)%C,T=0,E=this.length-1;E>=0;E--)T=(S*T+(0|this.words[E]))%C;return x?-T:T},n.prototype.modn=function(C){return this.modrn(C)},n.prototype.idivn=function(C){var x=C<0;x&&(C=-C),h(C<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var E=(0|this.words[T])+67108864*S;this.words[T]=E/C|0,S=E%C}return this._strip(),x?this.ineg():this},n.prototype.divn=function(C){return this.clone().idivn(C)},n.prototype.egcd=function(C){h(C.negative===0),h(!C.isZero());var x=this,S=C.clone();x=x.negative!==0?x.umod(C):x.clone();for(var T=new n(1),E=new n(0),N=new n(0),I=new n(1),B=0;x.isEven()&&S.isEven();)x.iushrn(1),S.iushrn(1),++B;for(var K=S.clone(),Z=x.clone();!x.isZero();){for(var nt=0,H=1;(x.words[0]&H)==0&&nt<26;++nt,H<<=1);if(nt>0)for(x.iushrn(nt);nt-- >0;)(T.isOdd()||E.isOdd())&&(T.iadd(K),E.isub(Z)),T.iushrn(1),E.iushrn(1);for(var tt=0,V=1;(S.words[0]&V)==0&&tt<26;++tt,V<<=1);if(tt>0)for(S.iushrn(tt);tt-- >0;)(N.isOdd()||I.isOdd())&&(N.iadd(K),I.isub(Z)),N.iushrn(1),I.iushrn(1);x.cmp(S)>=0?(x.isub(S),T.isub(N),E.isub(I)):(S.isub(x),N.isub(T),I.isub(E))}return{a:N,b:I,gcd:S.iushln(B)}},n.prototype._invmp=function(C){h(C.negative===0),h(!C.isZero());var x=this,S=C.clone();x=x.negative!==0?x.umod(C):x.clone();for(var T,E=new n(1),N=new n(0),I=S.clone();x.cmpn(1)>0&&S.cmpn(1)>0;){for(var B=0,K=1;(x.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(x.iushrn(B);B-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);for(var Z=0,nt=1;(S.words[0]&nt)==0&&Z<26;++Z,nt<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(I),N.iushrn(1);x.cmp(S)>=0?(x.isub(S),E.isub(N)):(S.isub(x),N.isub(E))}return(T=x.cmpn(1)===0?E:N).cmpn(0)<0&&T.iadd(C),T},n.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var x=this.clone(),S=C.clone();x.negative=0,S.negative=0;for(var T=0;x.isEven()&&S.isEven();T++)x.iushrn(1),S.iushrn(1);for(;;){for(;x.isEven();)x.iushrn(1);for(;S.isEven();)S.iushrn(1);var E=x.cmp(S);if(E<0){var N=x;x=S,S=N}else if(E===0||S.cmpn(1)===0)break;x.isub(S)}return S.iushln(T)},n.prototype.invm=function(C){return this.egcd(C).a.umod(C)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(C){return this.words[0]&C},n.prototype.bincn=function(C){h(typeof C=="number");var x=C%26,S=(C-x)/26,T=1<<x;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var E=T,N=S;E!==0&&N<this.length;N++){var I=0|this.words[N];E=(I+=E)>>>26,I&=67108863,this.words[N]=I}return E!==0&&(this.words[N]=E,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(C){var x,S=C<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)x=1;else{S&&(C=-C),h(C<=67108863,"Number is too big");var T=0|this.words[0];x=T===C?0:T<C?-1:1}return this.negative!==0?0|-x:x},n.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var x=this.ucmp(C);return this.negative!==0?0|-x:x},n.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var x=0,S=this.length-1;S>=0;S--){var T=0|this.words[S],E=0|C.words[S];if(T!==E){T<E?x=-1:T>E&&(x=1);break}}return x},n.prototype.gtn=function(C){return this.cmpn(C)===1},n.prototype.gt=function(C){return this.cmp(C)===1},n.prototype.gten=function(C){return this.cmpn(C)>=0},n.prototype.gte=function(C){return this.cmp(C)>=0},n.prototype.ltn=function(C){return this.cmpn(C)===-1},n.prototype.lt=function(C){return this.cmp(C)===-1},n.prototype.lten=function(C){return this.cmpn(C)<=0},n.prototype.lte=function(C){return this.cmp(C)<=0},n.prototype.eqn=function(C){return this.cmpn(C)===0},n.prototype.eq=function(C){return this.cmp(C)===0},n.red=function(C){return new R(C)},n.prototype.toRed=function(C){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},n.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(C){return this.red=C,this},n.prototype.forceRed=function(C){return h(!this.red,"Already a number in reduction context"),this._forceRed(C)},n.prototype.redAdd=function(C){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},n.prototype.redIAdd=function(C){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},n.prototype.redSub=function(C){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},n.prototype.redISub=function(C){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},n.prototype.redShl=function(C){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},n.prototype.redMul=function(C){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},n.prototype.redIMul=function(C){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},n.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(C){return h(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var F={k256:null,p224:null,p192:null,p25519:null};function j(C,x){this.name=C,this.p=new n(x,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function U(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function q(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function X(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function $(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(C){if(typeof C=="string"){var x=n._prime(C);this.m=x.p,this.prime=x}else h(C.gtn(1),"modulus must be greater than 1"),this.m=C,this.prime=null}function P(C){R.call(this,C),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var C=new n(null);return C.words=new Array(Math.ceil(this.n/13)),C},j.prototype.ireduce=function(C){var x,S=C;do this.split(S,this.tmp),x=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(x>this.n);var T=x<this.n?-1:S.ucmp(this.p);return T===0?(S.words[0]=0,S.length=1):T>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},j.prototype.split=function(C,x){C.iushrn(this.n,0,x)},j.prototype.imulK=function(C){return C.imul(this.k)},a(U,j),U.prototype.split=function(C,x){for(var S=Math.min(C.length,9),T=0;T<S;T++)x.words[T]=C.words[T];if(x.length=S,C.length<=9)return C.words[0]=0,void(C.length=1);var E=C.words[9];for(x.words[x.length++]=4194303&E,T=10;T<C.length;T++){var N=0|C.words[T];C.words[T-10]=(4194303&N)<<4|E>>>22,E=N}E>>>=22,C.words[T-10]=E,E===0&&C.length>10?C.length-=10:C.length-=9},U.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var x=0,S=0;S<C.length;S++){var T=0|C.words[S];x+=977*T,C.words[S]=67108863&x,x=64*T+(x/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C},a(q,j),a(X,j),a($,j),$.prototype.imulK=function(C){for(var x=0,S=0;S<C.length;S++){var T=19*(0|C.words[S])+x,E=67108863&T;T>>>=26,C.words[S]=E,x=T}return x!==0&&(C.words[C.length++]=x),C},n._prime=function(C){if(F[C])return F[C];var x;if(C==="k256")x=new U;else if(C==="p224")x=new q;else if(C==="p192")x=new X;else{if(C!=="p25519")throw new Error("Unknown prime "+C);x=new $}return F[C]=x,x},R.prototype._verify1=function(C){h(C.negative===0,"red works only with positives"),h(C.red,"red works only with red numbers")},R.prototype._verify2=function(C,x){h((C.negative|x.negative)==0,"red works only with positives"),h(C.red&&C.red===x.red,"red works only with red numbers")},R.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(y(C,C.umod(this.m)._forceRed(this)),C)},R.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},R.prototype.add=function(C,x){this._verify2(C,x);var S=C.add(x);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},R.prototype.iadd=function(C,x){this._verify2(C,x);var S=C.iadd(x);return S.cmp(this.m)>=0&&S.isub(this.m),S},R.prototype.sub=function(C,x){this._verify2(C,x);var S=C.sub(x);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},R.prototype.isub=function(C,x){this._verify2(C,x);var S=C.isub(x);return S.cmpn(0)<0&&S.iadd(this.m),S},R.prototype.shl=function(C,x){return this._verify1(C),this.imod(C.ushln(x))},R.prototype.imul=function(C,x){return this._verify2(C,x),this.imod(C.imul(x))},R.prototype.mul=function(C,x){return this._verify2(C,x),this.imod(C.mul(x))},R.prototype.isqr=function(C){return this.imul(C,C.clone())},R.prototype.sqr=function(C){return this.mul(C,C)},R.prototype.sqrt=function(C){if(C.isZero())return C.clone();var x=this.m.andln(3);if(h(x%2==1),x===3){var S=this.m.add(new n(1)).iushrn(2);return this.pow(C,S)}for(var T=this.m.subn(1),E=0;!T.isZero()&&T.andln(1)===0;)E++,T.iushrn(1);h(!T.isZero());var N=new n(1).toRed(this),I=N.redNeg(),B=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new n(2*K*K).toRed(this);this.pow(K,B).cmp(I)!==0;)K.redIAdd(I);for(var Z=this.pow(K,T),nt=this.pow(C,T.addn(1).iushrn(1)),H=this.pow(C,T),tt=E;H.cmp(N)!==0;){for(var V=H,D=0;V.cmp(N)!==0;D++)V=V.redSqr();h(D<tt);var Q=this.pow(Z,new n(1).iushln(tt-D-1));nt=nt.redMul(Q),Z=Q.redSqr(),H=H.redMul(Z),tt=D}return nt},R.prototype.invm=function(C){var x=C._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},R.prototype.pow=function(C,x){if(x.isZero())return new n(1).toRed(this);if(x.cmpn(1)===0)return C.clone();var S=new Array(16);S[0]=new n(1).toRed(this),S[1]=C;for(var T=2;T<S.length;T++)S[T]=this.mul(S[T-1],C);var E=S[0],N=0,I=0,B=x.bitLength()%26;for(B===0&&(B=26),T=x.length-1;T>=0;T--){for(var K=x.words[T],Z=B-1;Z>=0;Z--){var nt=K>>Z&1;E!==S[0]&&(E=this.sqr(E)),nt!==0||N!==0?(N<<=1,N|=nt,(++I===4||T===0&&Z===0)&&(E=this.mul(E,S[N]),I=0,N=0)):I=0}B=26}return E},R.prototype.convertTo=function(C){var x=C.umod(this.m);return x===C?x.clone():x},R.prototype.convertFrom=function(C){var x=C.clone();return x.red=null,x},n.mont=function(C){return new P(C)},a(P,R),P.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},P.prototype.convertFrom=function(C){var x=this.imod(C.mul(this.rinv));return x.red=null,x},P.prototype.imul=function(C,x){if(C.isZero()||x.isZero())return C.words[0]=0,C.length=1,C;var S=C.imul(x),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(T).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},P.prototype.mul=function(C,x){if(C.isZero()||x.isZero())return new n(0)._forceRed(this);var S=C.mul(x),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(T).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},P.prototype.invm=function(C){return this.imod(C._invmp(this.m).mul(this.r2))._forceRed(this)}})(i===void 0||i)},{buffer:188}],187:[function(t,i,c){var l;function s(a){this.rand=a}if(i.exports=function(a){return l||(l=new s(null)),l.generate(a)},i.exports.Rand=s,s.prototype.generate=function(a){return this._rand(a)},s.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var n=new Uint8Array(a),u=0;u<n.length;u++)n[u]=this.rand.getByte();return n},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(a){var n=new Uint8Array(a);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(a){var n=new Uint8Array(a);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var h=t("crypto");if(typeof h.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(a){return h.randomBytes(a)}}catch{}},{crypto:188}],188:[function(t,i,c){},{}],189:[function(t,i,c){var l=t("safe-buffer").Buffer;function s(f){l.isBuffer(f)||(f=l.from(f));for(var d=f.length/4|0,y=new Array(d),v=0;v<d;v++)y[v]=f.readUInt32BE(4*v);return y}function h(f){for(;0<f.length;f++)f[0]=0}function a(f,d,y,v,g){for(var w,_,k,M,L=y[0],G=y[1],F=y[2],j=y[3],U=f[0]^d[0],q=f[1]^d[1],X=f[2]^d[2],$=f[3]^d[3],R=4,P=1;P<g;P++)w=L[U>>>24]^G[q>>>16&255]^F[X>>>8&255]^j[255&$]^d[R++],_=L[q>>>24]^G[X>>>16&255]^F[$>>>8&255]^j[255&U]^d[R++],k=L[X>>>24]^G[$>>>16&255]^F[U>>>8&255]^j[255&q]^d[R++],M=L[$>>>24]^G[U>>>16&255]^F[q>>>8&255]^j[255&X]^d[R++],U=w,q=_,X=k,$=M;return w=(v[U>>>24]<<24|v[q>>>16&255]<<16|v[X>>>8&255]<<8|v[255&$])^d[R++],_=(v[q>>>24]<<24|v[X>>>16&255]<<16|v[$>>>8&255]<<8|v[255&U])^d[R++],k=(v[X>>>24]<<24|v[$>>>16&255]<<16|v[U>>>8&255]<<8|v[255&q])^d[R++],M=(v[$>>>24]<<24|v[U>>>16&255]<<16|v[q>>>8&255]<<8|v[255&X])^d[R++],[w>>>=0,_>>>=0,k>>>=0,M>>>=0]}var n=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var f=new Array(256),d=0;d<256;d++)f[d]=d<128?d<<1:d<<1^283;for(var y=[],v=[],g=[[],[],[],[]],w=[[],[],[],[]],_=0,k=0,M=0;M<256;++M){var L=k^k<<1^k<<2^k<<3^k<<4;L=L>>>8^255&L^99,y[_]=L,v[L]=_;var G=f[_],F=f[G],j=f[F],U=257*f[L]^16843008*L;g[0][_]=U<<24|U>>>8,g[1][_]=U<<16|U>>>16,g[2][_]=U<<8|U>>>24,g[3][_]=U,U=16843009*j^65537*F^257*G^16843008*_,w[0][L]=U<<24|U>>>8,w[1][L]=U<<16|U>>>16,w[2][L]=U<<8|U>>>24,w[3][L]=U,_===0?_=k=1:(_=G^f[f[f[j^G]]],k^=f[f[k]])}return{SBOX:y,INV_SBOX:v,SUB_MIX:g,INV_SUB_MIX:w}})();function p(f){this._key=s(f),this._reset()}p.blockSize=16,p.keySize=32,p.prototype.blockSize=p.blockSize,p.prototype.keySize=p.keySize,p.prototype._reset=function(){for(var f=this._key,d=f.length,y=d+6,v=4*(y+1),g=[],w=0;w<d;w++)g[w]=f[w];for(w=d;w<v;w++){var _=g[w-1];w%d==0?(_=_<<8|_>>>24,_=u.SBOX[_>>>24]<<24|u.SBOX[_>>>16&255]<<16|u.SBOX[_>>>8&255]<<8|u.SBOX[255&_],_^=n[w/d|0]<<24):d>6&&w%d==4&&(_=u.SBOX[_>>>24]<<24|u.SBOX[_>>>16&255]<<16|u.SBOX[_>>>8&255]<<8|u.SBOX[255&_]),g[w]=g[w-d]^_}for(var k=[],M=0;M<v;M++){var L=v-M,G=g[L-(M%4?0:4)];k[M]=M<4||L<=4?G:u.INV_SUB_MIX[0][u.SBOX[G>>>24]]^u.INV_SUB_MIX[1][u.SBOX[G>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[G>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&G]]}this._nRounds=y,this._keySchedule=g,this._invKeySchedule=k},p.prototype.encryptBlockRaw=function(f){return a(f=s(f),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},p.prototype.encryptBlock=function(f){var d=this.encryptBlockRaw(f),y=l.allocUnsafe(16);return y.writeUInt32BE(d[0],0),y.writeUInt32BE(d[1],4),y.writeUInt32BE(d[2],8),y.writeUInt32BE(d[3],12),y},p.prototype.decryptBlock=function(f){var d=(f=s(f))[1];f[1]=f[3],f[3]=d;var y=a(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),v=l.allocUnsafe(16);return v.writeUInt32BE(y[0],0),v.writeUInt32BE(y[3],4),v.writeUInt32BE(y[2],8),v.writeUInt32BE(y[1],12),v},p.prototype.scrub=function(){h(this._keySchedule),h(this._invKeySchedule),h(this._key)},i.exports.AES=p},{"safe-buffer":494}],190:[function(t,i,c){var l=t("./aes"),s=t("safe-buffer").Buffer,h=t("cipher-base"),a=t("inherits"),n=t("./ghash"),u=t("buffer-xor"),p=t("./incr32");function f(d,y,v,g){h.call(this);var w=s.alloc(4,0);this._cipher=new l.AES(y);var _=this._cipher.encryptBlock(w);this._ghash=new n(_),v=(function(k,M,L){if(M.length===12)return k._finID=s.concat([M,s.from([0,0,0,1])]),s.concat([M,s.from([0,0,0,2])]);var G=new n(L),F=M.length,j=F%16;G.update(M),j&&(j=16-j,G.update(s.alloc(j,0))),G.update(s.alloc(8,0));var U=8*F,q=s.alloc(8);q.writeUIntBE(U,0,8),G.update(q),k._finID=G.state;var X=s.from(k._finID);return p(X),X})(this,v,_),this._prev=s.from(v),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}a(f,h),f.prototype._update=function(d){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=s.alloc(y,0),this._ghash.update(y))}this._called=!0;var v=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(v),this._len+=d.length,v},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(y,v){var g=0;y.length!==v.length&&g++;for(var w=Math.min(y.length,v.length),_=0;_<w;++_)g+=y[_]^v[_];return g})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},f.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},i.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,i,c){var l=t("./encrypter"),s=t("./decrypter"),h=t("./modes/list.json");c.createCipher=c.Cipher=l.createCipher,c.createCipheriv=c.Cipheriv=l.createCipheriv,c.createDecipher=c.Decipher=s.createDecipher,c.createDecipheriv=c.Decipheriv=s.createDecipheriv,c.listCiphers=c.getCiphers=function(){return Object.keys(h)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,i,c){var l=t("./authCipher"),s=t("safe-buffer").Buffer,h=t("./modes"),a=t("./streamCipher"),n=t("cipher-base"),u=t("./aes"),p=t("evp_bytestokey");function f(v,g,w){n.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(g),this._prev=s.from(w),this._mode=v,this._autopadding=!0}function d(){this.cache=s.allocUnsafe(0)}function y(v,g,w){var _=h[v.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=s.from(w)),_.mode!=="GCM"&&w.length!==_.iv)throw new TypeError("invalid iv length "+w.length);if(typeof g=="string"&&(g=s.from(g)),g.length!==_.key/8)throw new TypeError("invalid key length "+g.length);return _.type==="stream"?new a(_.module,g,w,!0):_.type==="auth"?new l(_.module,g,w,!0):new f(_.module,g,w)}t("inherits")(f,n),f.prototype._update=function(v){var g,w;this._cache.add(v);for(var _=[];g=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,g),_.push(w);return s.concat(_)},f.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return(function(g){var w=g[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var _=-1;++_<w;)if(g[_+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return g.slice(0,16-w)})(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},d.prototype.add=function(v){this.cache=s.concat([this.cache,v])},d.prototype.get=function(v){var g;if(v){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},c.createDecipher=function(v,g){var w=h[v.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var _=p(g,!1,w.key,w.iv);return y(v,_.key,_.iv)},c.createDecipheriv=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,i,c){var l=t("./modes"),s=t("./authCipher"),h=t("safe-buffer").Buffer,a=t("./streamCipher"),n=t("cipher-base"),u=t("./aes"),p=t("evp_bytestokey");function f(g,w,_){n.call(this),this._cache=new y,this._cipher=new u.AES(w),this._prev=h.from(_),this._mode=g,this._autopadding=!0}t("inherits")(f,n),f.prototype._update=function(g){var w,_;this._cache.add(g);for(var k=[];w=this._cache.get();)_=this._mode.encrypt(this,w),k.push(_);return h.concat(k)};var d=h.alloc(16,16);function y(){this.cache=h.allocUnsafe(0)}function v(g,w,_){var k=l[g.toLowerCase()];if(!k)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=h.from(w)),w.length!==k.key/8)throw new TypeError("invalid key length "+w.length);if(typeof _=="string"&&(_=h.from(_)),k.mode!=="GCM"&&_.length!==k.iv)throw new TypeError("invalid iv length "+_.length);return k.type==="stream"?new a(k.module,w,_):k.type==="auth"?new s(k.module,w,_):new f(k.module,w,_)}f.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},y.prototype.add=function(g){this.cache=h.concat([this.cache,g])},y.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},y.prototype.flush=function(){for(var g=16-this.cache.length,w=h.allocUnsafe(g),_=-1;++_<g;)w.writeUInt8(g,_);return h.concat([this.cache,w])},c.createCipheriv=v,c.createCipher=function(g,w){var _=l[g.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var k=p(w,!1,_.key,_.iv);return v(g,k.key,k.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,i,c){var l=t("safe-buffer").Buffer,s=l.alloc(16,0);function h(n){var u=l.allocUnsafe(16);return u.writeUInt32BE(n[0]>>>0,0),u.writeUInt32BE(n[1]>>>0,4),u.writeUInt32BE(n[2]>>>0,8),u.writeUInt32BE(n[3]>>>0,12),u}function a(n){this.h=n,this.state=l.alloc(16,0),this.cache=l.allocUnsafe(0)}a.prototype.ghash=function(n){for(var u=-1;++u<n.length;)this.state[u]^=n[u];this._multiply()},a.prototype._multiply=function(){for(var n,u,p,f=[(n=this.h).readUInt32BE(0),n.readUInt32BE(4),n.readUInt32BE(8),n.readUInt32BE(12)],d=[0,0,0,0],y=-1;++y<128;){for((this.state[~~(y/8)]&1<<7-y%8)!=0&&(d[0]^=f[0],d[1]^=f[1],d[2]^=f[2],d[3]^=f[3]),p=(1&f[3])!=0,u=3;u>0;u--)f[u]=f[u]>>>1|(1&f[u-1])<<31;f[0]=f[0]>>>1,p&&(f[0]=f[0]^225<<24)}this.state=h(d)},a.prototype.update=function(n){var u;for(this.cache=l.concat([this.cache,n]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},a.prototype.final=function(n,u){return this.cache.length&&this.ghash(l.concat([this.cache,s],16)),this.ghash(h([0,n,0,u])),this.state},i.exports=a},{"safe-buffer":494}],195:[function(t,i,c){i.exports=function(l){for(var s,h=l.length;h--;){if((s=l.readUInt8(h))!==255){s++,l.writeUInt8(s,h);break}l.writeUInt8(0,h)}}},{}],196:[function(t,i,c){var l=t("buffer-xor");c.encrypt=function(s,h){var a=l(h,s._prev);return s._prev=s._cipher.encryptBlock(a),s._prev},c.decrypt=function(s,h){var a=s._prev;s._prev=h;var n=s._cipher.decryptBlock(h);return l(n,a)}},{"buffer-xor":219}],197:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("buffer-xor");function h(a,n,u){var p=n.length,f=s(n,a._cache);return a._cache=a._cache.slice(p),a._prev=l.concat([a._prev,u?n:f]),f}c.encrypt=function(a,n,u){for(var p,f=l.allocUnsafe(0);n.length;){if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=l.allocUnsafe(0)),!(a._cache.length<=n.length)){f=l.concat([f,h(a,n,u)]);break}p=a._cache.length,f=l.concat([f,h(a,n.slice(0,p),u)]),n=n.slice(p)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,i,c){var l=t("safe-buffer").Buffer;function s(a,n,u){for(var p,f,d=-1,y=0;++d<8;)p=n&1<<7-d?128:0,y+=(128&(f=a._cipher.encryptBlock(a._prev)[0]^p))>>d%8,a._prev=h(a._prev,u?p:f);return y}function h(a,n){var u=a.length,p=-1,f=l.allocUnsafe(a.length);for(a=l.concat([a,l.from([n])]);++p<u;)f[p]=a[p]<<1|a[p+1]>>7;return f}c.encrypt=function(a,n,u){for(var p=n.length,f=l.allocUnsafe(p),d=-1;++d<p;)f[d]=s(a,n[d],u);return f}},{"safe-buffer":494}],199:[function(t,i,c){var l=t("safe-buffer").Buffer;function s(h,a,n){var u=h._cipher.encryptBlock(h._prev)[0]^a;return h._prev=l.concat([h._prev.slice(1),l.from([n?a:u])]),u}c.encrypt=function(h,a,n){for(var u=a.length,p=l.allocUnsafe(u),f=-1;++f<u;)p[f]=s(h,a[f],n);return p}},{"safe-buffer":494}],200:[function(t,i,c){var l=t("buffer-xor"),s=t("safe-buffer").Buffer,h=t("../incr32");function a(n){var u=n._cipher.encryptBlockRaw(n._prev);return h(n._prev),u}c.encrypt=function(n,u){var p=Math.ceil(u.length/16),f=n._cache.length;n._cache=s.concat([n._cache,s.allocUnsafe(16*p)]);for(var d=0;d<p;d++){var y=a(n),v=f+16*d;n._cache.writeUInt32BE(y[0],v+0),n._cache.writeUInt32BE(y[1],v+4),n._cache.writeUInt32BE(y[2],v+8),n._cache.writeUInt32BE(y[3],v+12)}var g=n._cache.slice(0,u.length);return n._cache=n._cache.slice(u.length),l(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,i,c){c.encrypt=function(l,s){return l._cipher.encryptBlock(s)},c.decrypt=function(l,s){return l._cipher.decryptBlock(s)}},{}],202:[function(t,i,c){var l={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},s=t("./list.json");for(var h in s)s[h].module=l[s[h].mode];i.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,i,c){i.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,i,c){(function(l){(function(){var s=t("buffer-xor");function h(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}c.encrypt=function(a,n){for(;a._cache.length<n.length;)a._cache=l.concat([a._cache,h(a)]);var u=a._cache.slice(0,n.length);return a._cache=a._cache.slice(n.length),s(n,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,i,c){var l=t("./aes"),s=t("safe-buffer").Buffer,h=t("cipher-base");function a(n,u,p,f){h.call(this),this._cipher=new l.AES(u),this._prev=s.from(p),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=f,this._mode=n}t("inherits")(a,h),a.prototype._update=function(n){return this._mode.encrypt(this,n,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},i.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,i,c){var l=t("browserify-des"),s=t("browserify-aes/browser"),h=t("browserify-aes/modes"),a=t("browserify-des/modes"),n=t("evp_bytestokey");function u(f,d,y){if(f=f.toLowerCase(),h[f])return s.createCipheriv(f,d,y);if(a[f])return new l({key:d,iv:y,mode:f});throw new TypeError("invalid suite type")}function p(f,d,y){if(f=f.toLowerCase(),h[f])return s.createDecipheriv(f,d,y);if(a[f])return new l({key:d,iv:y,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}c.createCipher=c.Cipher=function(f,d){var y,v;if(f=f.toLowerCase(),h[f])y=h[f].key,v=h[f].iv;else{if(!a[f])throw new TypeError("invalid suite type");y=8*a[f].key,v=a[f].iv}var g=n(d,!1,y,v);return u(f,g.key,g.iv)},c.createCipheriv=c.Cipheriv=u,c.createDecipher=c.Decipher=function(f,d){var y,v;if(f=f.toLowerCase(),h[f])y=h[f].key,v=h[f].iv;else{if(!a[f])throw new TypeError("invalid suite type");y=8*a[f].key,v=a[f].iv}var g=n(d,!1,y,v);return p(f,g.key,g.iv)},c.createDecipheriv=c.Decipheriv=p,c.listCiphers=c.getCiphers=function(){return Object.keys(a).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,i,c){var l=t("cipher-base"),s=t("des.js"),h=t("inherits"),a=t("safe-buffer").Buffer,n={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function u(p){l.call(this);var f,d=p.mode.toLowerCase(),y=n[d];f=p.decrypt?"decrypt":"encrypt";var v=p.key;a.isBuffer(v)||(v=a.from(v)),d!=="des-ede"&&d!=="des-ede-cbc"||(v=a.concat([v,v.slice(0,8)]));var g=p.iv;a.isBuffer(g)||(g=a.from(g)),this._des=y.create({key:v,iv:g,type:f})}n.des=n["des-cbc"],n.des3=n["des-ede3-cbc"],i.exports=u,h(u,l),u.prototype._update=function(p){return a.from(this._des.update(p))},u.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,i,c){c["des-ecb"]={key:8,iv:0},c["des-cbc"]=c.des={key:8,iv:8},c["des-ede3-cbc"]=c.des3={key:24,iv:8},c["des-ede3"]={key:24,iv:0},c["des-ede-cbc"]={key:16,iv:8},c["des-ede"]={key:16,iv:0}},{}],209:[function(t,i,c){(function(l){(function(){var s=t("bn.js"),h=t("randombytes");function a(u){var p,f=u.modulus.byteLength();do p=new s(h(f));while(p.cmp(u.modulus)>=0||!p.umod(u.prime1)||!p.umod(u.prime2));return p}function n(u,p){var f=(function(F){var j=a(F);return{blinder:j.toRed(s.mont(F.modulus)).redPow(new s(F.publicExponent)).fromRed(),unblinder:j.invm(F.modulus)}})(p),d=p.modulus.byteLength(),y=new s(u).mul(f.blinder).umod(p.modulus),v=y.toRed(s.mont(p.prime1)),g=y.toRed(s.mont(p.prime2)),w=p.coefficient,_=p.prime1,k=p.prime2,M=v.redPow(p.exponent1).fromRed(),L=g.redPow(p.exponent2).fromRed(),G=M.isub(L).imul(w).umod(_).imul(k);return L.iadd(G).imul(f.unblinder).umod(p.modulus).toArrayLike(l,"be",d)}n.getr=a,i.exports=n}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,i,c){i.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,i,c){i.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,i,c){i.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("create-hash"),h=t("readable-stream"),a=t("inherits"),n=t("./sign"),u=t("./verify"),p=t("./algorithms.json");function f(g){h.Writable.call(this);var w=p[g];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=s(w.hash),this._tag=w.id,this._signType=w.sign}function d(g){h.Writable.call(this);var w=p[g];if(!w)throw new Error("Unknown message digest");this._hash=s(w.hash),this._tag=w.id,this._signType=w.sign}function y(g){return new f(g)}function v(g){return new d(g)}Object.keys(p).forEach((function(g){p[g].id=l.from(p[g].id,"hex"),p[g.toLowerCase()]=p[g]})),a(f,h.Writable),f.prototype._write=function(g,w,_){this._hash.update(g),_()},f.prototype.update=function(g,w){return typeof g=="string"&&(g=l.from(g,w)),this._hash.update(g),this},f.prototype.sign=function(g,w){this.end();var _=this._hash.digest(),k=n(_,g,this._hashType,this._signType,this._tag);return w?k.toString(w):k},a(d,h.Writable),d.prototype._write=function(g,w,_){this._hash.update(g),_()},d.prototype.update=function(g,w){return typeof g=="string"&&(g=l.from(g,w)),this._hash.update(g),this},d.prototype.verify=function(g,w,_){typeof w=="string"&&(w=l.from(w,_)),this.end();var k=this._hash.digest();return u(w,k,g,this._signType,this._tag)},i.exports={Sign:y,Verify:v,createSign:y,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("create-hmac"),h=t("browserify-rsa"),a=t("elliptic").ec,n=t("bn.js"),u=t("parse-asn1"),p=t("./curves.json");function f(g,w,_,k){if((g=l.from(g.toArray())).length<w.byteLength()){var M=l.alloc(w.byteLength()-g.length);g=l.concat([M,g])}var L=_.length,G=(function(U,q){U=(U=d(U,q)).mod(q);var X=l.from(U.toArray());if(X.length<q.byteLength()){var $=l.alloc(q.byteLength()-X.length);X=l.concat([$,X])}return X})(_,w),F=l.alloc(L);F.fill(1);var j=l.alloc(L);return j=s(k,j).update(F).update(l.from([0])).update(g).update(G).digest(),F=s(k,j).update(F).digest(),{k:j=s(k,j).update(F).update(l.from([1])).update(g).update(G).digest(),v:F=s(k,j).update(F).digest()}}function d(g,w){var _=new n(g),k=(g.length<<3)-w.bitLength();return k>0&&_.ishrn(k),_}function y(g,w,_){var k,M;do{for(k=l.alloc(0);8*k.length<g.bitLength();)w.v=s(_,w.k).update(w.v).digest(),k=l.concat([k,w.v]);M=d(k,g),w.k=s(_,w.k).update(w.v).update(l.from([0])).digest(),w.v=s(_,w.k).update(w.v).digest()}while(M.cmp(g)!==-1);return M}function v(g,w,_,k){return g.toRed(n.mont(_)).redPow(w).fromRed().mod(k)}i.exports=function(g,w,_,k,M){var L=u(w);if(L.curve){if(k!=="ecdsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(U,q){var X=p[q.curve.join(".")];if(!X)throw new Error("unknown curve "+q.curve.join("."));var $=new a(X).keyFromPrivate(q.privateKey).sign(U);return l.from($.toDER())})(g,L)}if(L.type==="dsa"){if(k!=="dsa")throw new Error("wrong private key type");return(function(U,q,X){for(var $,R=q.params.priv_key,P=q.params.p,C=q.params.q,x=q.params.g,S=new n(0),T=d(U,C).mod(C),E=!1,N=f(R,C,U,X);E===!1;)$=y(C,N,X),S=v(x,$,P,C),(E=$.invm(C).imul(T.add(R.mul(S))).mod(C)).cmpn(0)===0&&(E=!1,S=new n(0));return(function(I,B){I=I.toArray(),B=B.toArray(),128&I[0]&&(I=[0].concat(I)),128&B[0]&&(B=[0].concat(B));var K=[48,I.length+B.length+4,2,I.length];return K=K.concat(I,[2,B.length],B),l.from(K)})(S,E)})(g,L,_)}if(k!=="rsa"&&k!=="ecdsa/rsa")throw new Error("wrong private key type");g=l.concat([M,g]);for(var G=L.modulus.byteLength(),F=[0,1];g.length+F.length+1<G;)F.push(255);F.push(0);for(var j=-1;++j<g.length;)F.push(g[j]);return h(F,L)},i.exports.getKey=f,i.exports.makeKey=y},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("bn.js"),h=t("elliptic").ec,a=t("parse-asn1"),n=t("./curves.json");function u(p,f){if(p.cmpn(0)<=0)throw new Error("invalid sig");if(p.cmp(f)>=f)throw new Error("invalid sig")}i.exports=function(p,f,d,y,v){var g=a(d);if(g.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(F,j,U){var q=n[U.data.algorithm.curve.join(".")];if(!q)throw new Error("unknown curve "+U.data.algorithm.curve.join("."));var X=new h(q),$=U.data.subjectPrivateKey.data;return X.verify(j,F,$)})(p,f,g)}if(g.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return(function(F,j,U){var q=U.data.p,X=U.data.q,$=U.data.g,R=U.data.pub_key,P=a.signature.decode(F,"der"),C=P.s,x=P.r;u(C,X),u(x,X);var S=s.mont(q),T=C.invm(X);return $.toRed(S).redPow(new s(j).mul(T).mod(X)).fromRed().mul(R.toRed(S).redPow(x.mul(T).mod(X)).fromRed()).mod(q).mod(X).cmp(x)===0})(p,f,g)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");f=l.concat([v,f]);for(var w=g.modulus.byteLength(),_=[1],k=0;f.length+_.length+2<w;)_.push(255),k++;_.push(0);for(var M=-1;++M<f.length;)_.push(f[M]);_=l.from(_);var L=s.mont(g.modulus);p=(p=new s(p).toRed(L)).redPow(new s(g.publicExponent)),p=l.from(p.fromRed().toArray());var G=k<8?1:0;for(w=Math.min(p.length,_.length),p.length!==_.length&&(G=1),M=-1;++M<w;)G|=p[M]^_[M];return G===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,i,c){},{}],217:[function(t,i,c){var l=t("buffer"),s=l.Buffer;function h(n,u){for(var p in n)u[p]=n[p]}function a(n,u,p){return s(n,u,p)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=l:(h(l,c),c.Buffer=a),h(s,a),a.from=function(n,u,p){if(typeof n=="number")throw new TypeError("Argument must not be a number");return s(n,u,p)},a.alloc=function(n,u,p){if(typeof n!="number")throw new TypeError("Argument must be a number");var f=s(n);return u!==void 0?typeof p=="string"?f.fill(u,p):f.fill(u):f.fill(0),f},a.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return s(n)},a.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(n)}},{buffer:220}],218:[function(t,i,c){var l=t("safe-buffer").Buffer,s=l.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(g){var w;switch(this.encoding=(function(_){var k=(function(M){if(!M)return"utf8";for(var L;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(L)return;M=(""+M).toLowerCase(),L=!0}})(_);if(typeof k!="string"&&(l.isEncoding===s||!s(_)))throw new Error("Unknown encoding: "+_);return k||_})(g),this.encoding){case"utf16le":this.text=u,this.end=p,w=4;break;case"utf8":this.fillLast=n,w=4;break;case"base64":this.text=f,this.end=d,w=3;break;default:return this.write=y,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=l.allocUnsafe(w)}function a(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function n(g){var w=this.lastTotal-this.lastNeed,_=(function(k,M,L){if((192&M[0])!=128)return k.lastNeed=0,"";if(k.lastNeed>1&&M.length>1){if((192&M[1])!=128)return k.lastNeed=1,"";if(k.lastNeed>2&&M.length>2&&(192&M[2])!=128)return k.lastNeed=2,""}})(this,g);return _!==void 0?_:this.lastNeed<=g.length?(g.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,w,0,g.length),void(this.lastNeed-=g.length))}function u(g,w){if((g.length-w)%2==0){var _=g.toString("utf16le",w);if(_){var k=_.charCodeAt(_.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",w,g.length-1)}function p(g){var w=g&&g.length?this.write(g):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,_)}return w}function f(g,w){var _=(g.length-w)%3;return _===0?g.toString("base64",w):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",w,g.length-_))}function d(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function y(g){return g.toString(this.encoding)}function v(g){return g&&g.length?this.write(g):""}c.StringDecoder=h,h.prototype.write=function(g){if(g.length===0)return"";var w,_;if(this.lastNeed){if((w=this.fillLast(g))===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<g.length?w?w+this.text(g,_):this.text(g,_):w||""},h.prototype.end=function(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+"":w},h.prototype.text=function(g,w){var _=(function(M,L,G){var F=L.length-1;if(F<G)return 0;var j=a(L[F]);return j>=0?(j>0&&(M.lastNeed=j-1),j):--F<G||j===-2?0:(j=a(L[F]))>=0?(j>0&&(M.lastNeed=j-2),j):--F<G||j===-2?0:(j=a(L[F]))>=0?(j>0&&(j===2?j=0:M.lastNeed=j-3),j):0})(this,g,w);if(!this.lastNeed)return g.toString("utf8",w);this.lastTotal=_;var k=g.length-(_-this.lastNeed);return g.copy(this.lastChar,0,k),g.toString("utf8",w,k)},h.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(t,i,c){(function(l){(function(){i.exports=function(s,h){for(var a=Math.min(s.length,h.length),n=new l(a),u=0;u<a;++u)n[u]=s[u]^h[u];return n}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,i,c){(function(l){(function(){var s=t("base64-js"),h=t("ieee754");c.Buffer=n,c.SlowBuffer=function(V){return+V!=V&&(V=0),n.alloc(+V)},c.INSPECT_MAX_BYTES=50;function a(V){if(V>2147483647)throw new RangeError('The value "'+V+'" is invalid for option "size"');var D=new Uint8Array(V);return D.__proto__=n.prototype,D}function n(V,D,Q){if(typeof V=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(V)}return u(V,D,Q)}function u(V,D,Q){if(typeof V=="string")return(function(st,ut){if(typeof ut=="string"&&ut!==""||(ut="utf8"),!n.isEncoding(ut))throw new TypeError("Unknown encoding: "+ut);var yt=0|v(st,ut),bt=a(yt),at=bt.write(st,ut);return at!==yt&&(bt=bt.slice(0,at)),bt})(V,D);if(ArrayBuffer.isView(V))return d(V);if(V==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(H(V,ArrayBuffer)||V&&H(V.buffer,ArrayBuffer))return(function(st,ut,yt){if(ut<0||st.byteLength<ut)throw new RangeError('"offset" is outside of buffer bounds');if(st.byteLength<ut+(yt||0))throw new RangeError('"length" is outside of buffer bounds');var bt;return bt=ut===void 0&&yt===void 0?new Uint8Array(st):yt===void 0?new Uint8Array(st,ut):new Uint8Array(st,ut,yt),bt.__proto__=n.prototype,bt})(V,D,Q);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var it=V.valueOf&&V.valueOf();if(it!=null&&it!==V)return n.from(it,D,Q);var ht=(function(st){if(n.isBuffer(st)){var ut=0|y(st.length),yt=a(ut);return yt.length===0||st.copy(yt,0,0,ut),yt}if(st.length!==void 0)return typeof st.length!="number"||tt(st.length)?a(0):d(st);if(st.type==="Buffer"&&Array.isArray(st.data))return d(st.data)})(V);if(ht)return ht;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return n.from(V[Symbol.toPrimitive]("string"),D,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}function p(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function f(V){return p(V),a(V<0?0:0|y(V))}function d(V){for(var D=V.length<0?0:0|y(V.length),Q=a(D),it=0;it<D;it+=1)Q[it]=255&V[it];return Q}function y(V){if(V>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|V}function v(V,D){if(n.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||H(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);var Q=V.length,it=arguments.length>2&&arguments[2]===!0;if(!it&&Q===0)return 0;for(var ht=!1;;)switch(D){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return K(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Z(V).length;default:if(ht)return it?-1:K(V).length;D=(""+D).toLowerCase(),ht=!0}}function g(V,D,Q){var it=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(D>>>=0))return"";for(V||(V="utf8");;)switch(V){case"hex":return P(this,D,Q);case"utf8":case"utf-8":return X(this,D,Q);case"ascii":return $(this,D,Q);case"latin1":case"binary":return R(this,D,Q);case"base64":return q(this,D,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,D,Q);default:if(it)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),it=!0}}function w(V,D,Q){var it=V[D];V[D]=V[Q],V[Q]=it}function _(V,D,Q,it,ht){if(V.length===0)return-1;if(typeof Q=="string"?(it=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),tt(Q=+Q)&&(Q=ht?0:V.length-1),Q<0&&(Q=V.length+Q),Q>=V.length){if(ht)return-1;Q=V.length-1}else if(Q<0){if(!ht)return-1;Q=0}if(typeof D=="string"&&(D=n.from(D,it)),n.isBuffer(D))return D.length===0?-1:k(V,D,Q,it,ht);if(typeof D=="number")return D&=255,typeof Uint8Array.prototype.indexOf=="function"?ht?Uint8Array.prototype.indexOf.call(V,D,Q):Uint8Array.prototype.lastIndexOf.call(V,D,Q):k(V,[D],Q,it,ht);throw new TypeError("val must be string, number or Buffer")}function k(V,D,Q,it,ht){var st,ut=1,yt=V.length,bt=D.length;if(it!==void 0&&((it=String(it).toLowerCase())==="ucs2"||it==="ucs-2"||it==="utf16le"||it==="utf-16le")){if(V.length<2||D.length<2)return-1;ut=2,yt/=2,bt/=2,Q/=2}function at(xt,Et){return ut===1?xt[Et]:xt.readUInt16BE(Et*ut)}if(ht){var pt=-1;for(st=Q;st<yt;st++)if(at(V,st)===at(D,pt===-1?0:st-pt)){if(pt===-1&&(pt=st),st-pt+1===bt)return pt*ut}else pt!==-1&&(st-=st-pt),pt=-1}else for(Q+bt>yt&&(Q=yt-bt),st=Q;st>=0;st--){for(var dt=!0,vt=0;vt<bt;vt++)if(at(V,st+vt)!==at(D,vt)){dt=!1;break}if(dt)return st}return-1}function M(V,D,Q,it){Q=Number(Q)||0;var ht=V.length-Q;it?(it=Number(it))>ht&&(it=ht):it=ht;var st=D.length;it>st/2&&(it=st/2);for(var ut=0;ut<it;++ut){var yt=parseInt(D.substr(2*ut,2),16);if(tt(yt))return ut;V[Q+ut]=yt}return ut}function L(V,D,Q,it){return nt(K(D,V.length-Q),V,Q,it)}function G(V,D,Q,it){return nt((function(ht){for(var st=[],ut=0;ut<ht.length;++ut)st.push(255&ht.charCodeAt(ut));return st})(D),V,Q,it)}function F(V,D,Q,it){return G(V,D,Q,it)}function j(V,D,Q,it){return nt(Z(D),V,Q,it)}function U(V,D,Q,it){return nt((function(ht,st){for(var ut,yt,bt,at=[],pt=0;pt<ht.length&&!((st-=2)<0);++pt)ut=ht.charCodeAt(pt),yt=ut>>8,bt=ut%256,at.push(bt),at.push(yt);return at})(D,V.length-Q),V,Q,it)}function q(V,D,Q){return D===0&&Q===V.length?s.fromByteArray(V):s.fromByteArray(V.slice(D,Q))}function X(V,D,Q){Q=Math.min(V.length,Q);for(var it=[],ht=D;ht<Q;){var st,ut,yt,bt,at=V[ht],pt=null,dt=at>239?4:at>223?3:at>191?2:1;if(ht+dt<=Q)switch(dt){case 1:at<128&&(pt=at);break;case 2:(192&(st=V[ht+1]))==128&&(bt=(31&at)<<6|63&st)>127&&(pt=bt);break;case 3:st=V[ht+1],ut=V[ht+2],(192&st)==128&&(192&ut)==128&&(bt=(15&at)<<12|(63&st)<<6|63&ut)>2047&&(bt<55296||bt>57343)&&(pt=bt);break;case 4:st=V[ht+1],ut=V[ht+2],yt=V[ht+3],(192&st)==128&&(192&ut)==128&&(192&yt)==128&&(bt=(15&at)<<18|(63&st)<<12|(63&ut)<<6|63&yt)>65535&&bt<1114112&&(pt=bt)}pt===null?(pt=65533,dt=1):pt>65535&&(pt-=65536,it.push(pt>>>10&1023|55296),pt=56320|1023&pt),it.push(pt),ht+=dt}return(function(vt){var xt=vt.length;if(xt<=4096)return String.fromCharCode.apply(String,vt);for(var Et="",It=0;It<xt;)Et+=String.fromCharCode.apply(String,vt.slice(It,It+=4096));return Et})(it)}c.kMaxLength=2147483647,n.TYPED_ARRAY_SUPPORT=(function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42}catch{return!1}})(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(V,D,Q){return u(V,D,Q)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,n.alloc=function(V,D,Q){return(function(it,ht,st){return p(it),it<=0?a(it):ht!==void 0?typeof st=="string"?a(it).fill(ht,st):a(it).fill(ht):a(it)})(V,D,Q)},n.allocUnsafe=function(V){return f(V)},n.allocUnsafeSlow=function(V){return f(V)},n.isBuffer=function(V){return V!=null&&V._isBuffer===!0&&V!==n.prototype},n.compare=function(V,D){if(H(V,Uint8Array)&&(V=n.from(V,V.offset,V.byteLength)),H(D,Uint8Array)&&(D=n.from(D,D.offset,D.byteLength)),!n.isBuffer(V)||!n.isBuffer(D))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(V===D)return 0;for(var Q=V.length,it=D.length,ht=0,st=Math.min(Q,it);ht<st;++ht)if(V[ht]!==D[ht]){Q=V[ht],it=D[ht];break}return Q<it?-1:it<Q?1:0},n.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(V,D){if(!Array.isArray(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return n.alloc(0);var Q;if(D===void 0)for(D=0,Q=0;Q<V.length;++Q)D+=V[Q].length;var it=n.allocUnsafe(D),ht=0;for(Q=0;Q<V.length;++Q){var st=V[Q];if(H(st,Uint8Array)&&(st=n.from(st)),!n.isBuffer(st))throw new TypeError('"list" argument must be an Array of Buffers');st.copy(it,ht),ht+=st.length}return it},n.byteLength=v,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<V;D+=2)w(this,D,D+1);return this},n.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<V;D+=4)w(this,D,D+3),w(this,D+1,D+2);return this},n.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<V;D+=8)w(this,D,D+7),w(this,D+1,D+6),w(this,D+2,D+5),w(this,D+3,D+4);return this},n.prototype.toString=function(){var V=this.length;return V===0?"":arguments.length===0?X(this,0,V):g.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(V){if(!n.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||n.compare(this,V)===0},n.prototype.inspect=function(){var V="",D=c.INSPECT_MAX_BYTES;return V=this.toString("hex",0,D).replace(/(.{2})/g,"$1 ").trim(),this.length>D&&(V+=" ... "),"<Buffer "+V+">"},n.prototype.compare=function(V,D,Q,it,ht){if(H(V,Uint8Array)&&(V=n.from(V,V.offset,V.byteLength)),!n.isBuffer(V))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof V);if(D===void 0&&(D=0),Q===void 0&&(Q=V?V.length:0),it===void 0&&(it=0),ht===void 0&&(ht=this.length),D<0||Q>V.length||it<0||ht>this.length)throw new RangeError("out of range index");if(it>=ht&&D>=Q)return 0;if(it>=ht)return-1;if(D>=Q)return 1;if(this===V)return 0;for(var st=(ht>>>=0)-(it>>>=0),ut=(Q>>>=0)-(D>>>=0),yt=Math.min(st,ut),bt=this.slice(it,ht),at=V.slice(D,Q),pt=0;pt<yt;++pt)if(bt[pt]!==at[pt]){st=bt[pt],ut=at[pt];break}return st<ut?-1:ut<st?1:0},n.prototype.includes=function(V,D,Q){return this.indexOf(V,D,Q)!==-1},n.prototype.indexOf=function(V,D,Q){return _(this,V,D,Q,!0)},n.prototype.lastIndexOf=function(V,D,Q){return _(this,V,D,Q,!1)},n.prototype.write=function(V,D,Q,it){if(D===void 0)it="utf8",Q=this.length,D=0;else if(Q===void 0&&typeof D=="string")it=D,Q=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D>>>=0,isFinite(Q)?(Q>>>=0,it===void 0&&(it="utf8")):(it=Q,Q=void 0)}var ht=this.length-D;if((Q===void 0||Q>ht)&&(Q=ht),V.length>0&&(Q<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var st=!1;;)switch(it){case"hex":return M(this,V,D,Q);case"utf8":case"utf-8":return L(this,V,D,Q);case"ascii":return G(this,V,D,Q);case"latin1":case"binary":return F(this,V,D,Q);case"base64":return j(this,V,D,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,V,D,Q);default:if(st)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),st=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(V,D,Q){var it="";Q=Math.min(V.length,Q);for(var ht=D;ht<Q;++ht)it+=String.fromCharCode(127&V[ht]);return it}function R(V,D,Q){var it="";Q=Math.min(V.length,Q);for(var ht=D;ht<Q;++ht)it+=String.fromCharCode(V[ht]);return it}function P(V,D,Q){var it=V.length;(!D||D<0)&&(D=0),(!Q||Q<0||Q>it)&&(Q=it);for(var ht="",st=D;st<Q;++st)ht+=B(V[st]);return ht}function C(V,D,Q){for(var it=V.slice(D,Q),ht="",st=0;st<it.length;st+=2)ht+=String.fromCharCode(it[st]+256*it[st+1]);return ht}function x(V,D,Q){if(V%1!=0||V<0)throw new RangeError("offset is not uint");if(V+D>Q)throw new RangeError("Trying to access beyond buffer length")}function S(V,D,Q,it,ht,st){if(!n.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ht||D<st)throw new RangeError('"value" argument is out of bounds');if(Q+it>V.length)throw new RangeError("Index out of range")}function T(V,D,Q,it,ht,st){if(Q+it>V.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function E(V,D,Q,it,ht){return D=+D,Q>>>=0,ht||T(V,0,Q,4),h.write(V,D,Q,it,23,4),Q+4}function N(V,D,Q,it,ht){return D=+D,Q>>>=0,ht||T(V,0,Q,8),h.write(V,D,Q,it,52,8),Q+8}n.prototype.slice=function(V,D){var Q=this.length;(V=~~V)<0?(V+=Q)<0&&(V=0):V>Q&&(V=Q),(D=D===void 0?Q:~~D)<0?(D+=Q)<0&&(D=0):D>Q&&(D=Q),D<V&&(D=V);var it=this.subarray(V,D);return it.__proto__=n.prototype,it},n.prototype.readUIntLE=function(V,D,Q){V>>>=0,D>>>=0,Q||x(V,D,this.length);for(var it=this[V],ht=1,st=0;++st<D&&(ht*=256);)it+=this[V+st]*ht;return it},n.prototype.readUIntBE=function(V,D,Q){V>>>=0,D>>>=0,Q||x(V,D,this.length);for(var it=this[V+--D],ht=1;D>0&&(ht*=256);)it+=this[V+--D]*ht;return it},n.prototype.readUInt8=function(V,D){return V>>>=0,D||x(V,1,this.length),this[V]},n.prototype.readUInt16LE=function(V,D){return V>>>=0,D||x(V,2,this.length),this[V]|this[V+1]<<8},n.prototype.readUInt16BE=function(V,D){return V>>>=0,D||x(V,2,this.length),this[V]<<8|this[V+1]},n.prototype.readUInt32LE=function(V,D){return V>>>=0,D||x(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},n.prototype.readUInt32BE=function(V,D){return V>>>=0,D||x(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},n.prototype.readIntLE=function(V,D,Q){V>>>=0,D>>>=0,Q||x(V,D,this.length);for(var it=this[V],ht=1,st=0;++st<D&&(ht*=256);)it+=this[V+st]*ht;return it>=(ht*=128)&&(it-=Math.pow(2,8*D)),it},n.prototype.readIntBE=function(V,D,Q){V>>>=0,D>>>=0,Q||x(V,D,this.length);for(var it=D,ht=1,st=this[V+--it];it>0&&(ht*=256);)st+=this[V+--it]*ht;return st>=(ht*=128)&&(st-=Math.pow(2,8*D)),st},n.prototype.readInt8=function(V,D){return V>>>=0,D||x(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},n.prototype.readInt16LE=function(V,D){V>>>=0,D||x(V,2,this.length);var Q=this[V]|this[V+1]<<8;return 32768&Q?4294901760|Q:Q},n.prototype.readInt16BE=function(V,D){V>>>=0,D||x(V,2,this.length);var Q=this[V+1]|this[V]<<8;return 32768&Q?4294901760|Q:Q},n.prototype.readInt32LE=function(V,D){return V>>>=0,D||x(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},n.prototype.readInt32BE=function(V,D){return V>>>=0,D||x(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},n.prototype.readFloatLE=function(V,D){return V>>>=0,D||x(V,4,this.length),h.read(this,V,!0,23,4)},n.prototype.readFloatBE=function(V,D){return V>>>=0,D||x(V,4,this.length),h.read(this,V,!1,23,4)},n.prototype.readDoubleLE=function(V,D){return V>>>=0,D||x(V,8,this.length),h.read(this,V,!0,52,8)},n.prototype.readDoubleBE=function(V,D){return V>>>=0,D||x(V,8,this.length),h.read(this,V,!1,52,8)},n.prototype.writeUIntLE=function(V,D,Q,it){V=+V,D>>>=0,Q>>>=0,it||S(this,V,D,Q,Math.pow(2,8*Q)-1,0);var ht=1,st=0;for(this[D]=255&V;++st<Q&&(ht*=256);)this[D+st]=V/ht&255;return D+Q},n.prototype.writeUIntBE=function(V,D,Q,it){V=+V,D>>>=0,Q>>>=0,it||S(this,V,D,Q,Math.pow(2,8*Q)-1,0);var ht=Q-1,st=1;for(this[D+ht]=255&V;--ht>=0&&(st*=256);)this[D+ht]=V/st&255;return D+Q},n.prototype.writeUInt8=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,1,255,0),this[D]=255&V,D+1},n.prototype.writeUInt16LE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,2,65535,0),this[D]=255&V,this[D+1]=V>>>8,D+2},n.prototype.writeUInt16BE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,2,65535,0),this[D]=V>>>8,this[D+1]=255&V,D+2},n.prototype.writeUInt32LE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,4,4294967295,0),this[D+3]=V>>>24,this[D+2]=V>>>16,this[D+1]=V>>>8,this[D]=255&V,D+4},n.prototype.writeUInt32BE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,4,4294967295,0),this[D]=V>>>24,this[D+1]=V>>>16,this[D+2]=V>>>8,this[D+3]=255&V,D+4},n.prototype.writeIntLE=function(V,D,Q,it){if(V=+V,D>>>=0,!it){var ht=Math.pow(2,8*Q-1);S(this,V,D,Q,ht-1,-ht)}var st=0,ut=1,yt=0;for(this[D]=255&V;++st<Q&&(ut*=256);)V<0&&yt===0&&this[D+st-1]!==0&&(yt=1),this[D+st]=(V/ut>>0)-yt&255;return D+Q},n.prototype.writeIntBE=function(V,D,Q,it){if(V=+V,D>>>=0,!it){var ht=Math.pow(2,8*Q-1);S(this,V,D,Q,ht-1,-ht)}var st=Q-1,ut=1,yt=0;for(this[D+st]=255&V;--st>=0&&(ut*=256);)V<0&&yt===0&&this[D+st+1]!==0&&(yt=1),this[D+st]=(V/ut>>0)-yt&255;return D+Q},n.prototype.writeInt8=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,1,127,-128),V<0&&(V=255+V+1),this[D]=255&V,D+1},n.prototype.writeInt16LE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,2,32767,-32768),this[D]=255&V,this[D+1]=V>>>8,D+2},n.prototype.writeInt16BE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,2,32767,-32768),this[D]=V>>>8,this[D+1]=255&V,D+2},n.prototype.writeInt32LE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,4,2147483647,-2147483648),this[D]=255&V,this[D+1]=V>>>8,this[D+2]=V>>>16,this[D+3]=V>>>24,D+4},n.prototype.writeInt32BE=function(V,D,Q){return V=+V,D>>>=0,Q||S(this,V,D,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),this[D]=V>>>24,this[D+1]=V>>>16,this[D+2]=V>>>8,this[D+3]=255&V,D+4},n.prototype.writeFloatLE=function(V,D,Q){return E(this,V,D,!0,Q)},n.prototype.writeFloatBE=function(V,D,Q){return E(this,V,D,!1,Q)},n.prototype.writeDoubleLE=function(V,D,Q){return N(this,V,D,!0,Q)},n.prototype.writeDoubleBE=function(V,D,Q){return N(this,V,D,!1,Q)},n.prototype.copy=function(V,D,Q,it){if(!n.isBuffer(V))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),it||it===0||(it=this.length),D>=V.length&&(D=V.length),D||(D=0),it>0&&it<Q&&(it=Q),it===Q||V.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),V.length-D<it-Q&&(it=V.length-D+Q);var ht=it-Q;if(this===V&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(D,Q,it);else if(this===V&&Q<D&&D<it)for(var st=ht-1;st>=0;--st)V[st+D]=this[st+Q];else Uint8Array.prototype.set.call(V,this.subarray(Q,it),D);return ht},n.prototype.fill=function(V,D,Q,it){if(typeof V=="string"){if(typeof D=="string"?(it=D,D=0,Q=this.length):typeof Q=="string"&&(it=Q,Q=this.length),it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!n.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(V.length===1){var ht=V.charCodeAt(0);(it==="utf8"&&ht<128||it==="latin1")&&(V=ht)}}else typeof V=="number"&&(V&=255);if(D<0||this.length<D||this.length<Q)throw new RangeError("Out of range index");if(Q<=D)return this;var st;if(D>>>=0,Q=Q===void 0?this.length:Q>>>0,V||(V=0),typeof V=="number")for(st=D;st<Q;++st)this[st]=V;else{var ut=n.isBuffer(V)?V:n.from(V,it),yt=ut.length;if(yt===0)throw new TypeError('The value "'+V+'" is invalid for argument "value"');for(st=0;st<Q-D;++st)this[st+D]=ut[st%yt]}return this};var I=/[^+/0-9A-Za-z-_]/g;function B(V){return V<16?"0"+V.toString(16):V.toString(16)}function K(V,D){var Q;D=D||1/0;for(var it=V.length,ht=null,st=[],ut=0;ut<it;++ut){if((Q=V.charCodeAt(ut))>55295&&Q<57344){if(!ht){if(Q>56319){(D-=3)>-1&&st.push(239,191,189);continue}if(ut+1===it){(D-=3)>-1&&st.push(239,191,189);continue}ht=Q;continue}if(Q<56320){(D-=3)>-1&&st.push(239,191,189),ht=Q;continue}Q=65536+(ht-55296<<10|Q-56320)}else ht&&(D-=3)>-1&&st.push(239,191,189);if(ht=null,Q<128){if((D-=1)<0)break;st.push(Q)}else if(Q<2048){if((D-=2)<0)break;st.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((D-=3)<0)break;st.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;st.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return st}function Z(V){return s.toByteArray((function(D){if((D=(D=D.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D})(V))}function nt(V,D,Q,it){for(var ht=0;ht<it&&!(ht+Q>=D.length||ht>=V.length);++ht)D[ht+Q]=V[ht];return ht}function H(V,D){return V instanceof D||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===D.name}function tt(V){return V!=V}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("stream").Transform,h=t("string_decoder").StringDecoder;function a(n){s.call(this),this.hashMode=typeof n=="string",this.hashMode?this[n]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(a,s),a.prototype.update=function(n,u,p){typeof n=="string"&&(n=l.from(n,u));var f=this._update(n);return this.hashMode?this:(p&&(f=this._toString(f,p)),f)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(n,u,p){var f;try{this.hashMode?this._update(n):this.push(this._update(n))}catch(d){f=d}finally{p(f)}},a.prototype._flush=function(n){var u;try{this.push(this.__final())}catch(p){u=p}n(u)},a.prototype._finalOrDigest=function(n){var u=this.__final()||l.alloc(0);return n&&(u=this._toString(u,n,!0)),u},a.prototype._toString=function(n,u,p){if(this._decoder||(this._decoder=new h(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var f=this._decoder.write(n);return p&&(f+=this._decoder.end()),f},i.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,i,c){var l=t("../internals/is-callable"),s=t("../internals/try-to-string"),h=TypeError;i.exports=function(a){if(l(a))return a;throw new h(s(a)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,i,c){var l=t("../internals/is-constructor"),s=t("../internals/try-to-string"),h=TypeError;i.exports=function(a){if(l(a))return a;throw new h(s(a)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,i,c){var l=t("../internals/is-callable"),s=String,h=TypeError;i.exports=function(a){if(typeof a=="object"||l(a))return a;throw new h("Can't set "+s(a)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,i,c){var l=t("../internals/well-known-symbol"),s=t("../internals/object-create"),h=t("../internals/object-define-property").f,a=l("unscopables"),n=Array.prototype;n[a]===void 0&&h(n,a,{configurable:!0,value:s(null)}),i.exports=function(u){n[a][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,i,c){var l=t("../internals/object-is-prototype-of"),s=TypeError;i.exports=function(h,a){if(l(a,h))return h;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,i,c){var l=t("../internals/is-object"),s=String,h=TypeError;i.exports=function(a){if(l(a))return a;throw new h(s(a)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,i,c){var l=t("../internals/to-indexed-object"),s=t("../internals/to-absolute-index"),h=t("../internals/length-of-array-like"),a=function(n){return function(u,p,f){var d,y=l(u),v=h(y),g=s(f,v);if(n&&p!=p){for(;v>g;)if((d=y[g++])!=d)return!0}else for(;v>g;g++)if((n||g in y)&&y[g]===p)return n||g||0;return!n&&-1}};i.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,i,c){var l=t("../internals/function-bind-context"),s=t("../internals/function-uncurry-this"),h=t("../internals/indexed-object"),a=t("../internals/to-object"),n=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),p=s([].push),f=function(d){var y=d===1,v=d===2,g=d===3,w=d===4,_=d===6,k=d===7,M=d===5||_;return function(L,G,F,j){for(var U,q,X=a(L),$=h(X),R=l(G,F),P=n($),C=0,x=j||u,S=y?x(L,P):v||k?x(L,0):void 0;P>C;C++)if((M||C in $)&&(q=R(U=$[C],C,X),d))if(y)S[C]=q;else if(q)switch(d){case 3:return!0;case 5:return U;case 6:return C;case 2:p(S,U)}else switch(d){case 4:return!1;case 7:p(S,U)}return _?-1:g||w?w:S}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,i,c){var l=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),h=t("../internals/create-property"),a=Array,n=Math.max;i.exports=function(u,p,f){for(var d=s(u),y=l(p,d),v=l(f===void 0?d:f,d),g=a(n(v-y,0)),w=0;y<v;y++,w++)h(g,w,u[y]);return g.length=w,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,i,c){var l=t("../internals/function-uncurry-this");i.exports=l([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,i,c){var l=t("../internals/is-array"),s=t("../internals/is-constructor"),h=t("../internals/is-object"),a=t("../internals/well-known-symbol")("species"),n=Array;i.exports=function(u){var p;return l(u)&&(p=u.constructor,(s(p)&&(p===n||l(p.prototype))||h(p)&&(p=p[a])===null)&&(p=void 0)),p===void 0?n:p}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,i,c){var l=t("../internals/array-species-constructor");i.exports=function(s,h){return new(l(s))(h===0?0:h)}},{"../internals/array-species-constructor":232}],234:[function(t,i,c){var l=t("../internals/well-known-symbol")("iterator"),s=!1;try{var h=0,a={next:function(){return{done:!!h++}},return:function(){s=!0}};a[l]=function(){return this},Array.from(a,(function(){throw 2}))}catch{}i.exports=function(n,u){try{if(!u&&!s)return!1}catch{return!1}var p=!1;try{var f={};f[l]=function(){return{next:function(){return{done:p=!0}}}},n(f)}catch{}return p}},{"../internals/well-known-symbol":357}],235:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=l({}.toString),h=l("".slice);i.exports=function(a){return h(s(a),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,i,c){var l=t("../internals/to-string-tag-support"),s=t("../internals/is-callable"),h=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("toStringTag"),n=Object,u=h((function(){return arguments})())==="Arguments";i.exports=l?h:function(p){var f,d,y;return p===void 0?"Undefined":p===null?"Null":typeof(d=(function(v,g){try{return v[g]}catch{}})(f=n(p),a))=="string"?d:u?h(f):(y=h(f))==="Object"&&s(f.callee)?"Arguments":y}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,i,c){var l=t("../internals/has-own-property"),s=t("../internals/own-keys"),h=t("../internals/object-get-own-property-descriptor"),a=t("../internals/object-define-property");i.exports=function(n,u,p){for(var f=s(u),d=a.f,y=h.f,v=0;v<f.length;v++){var g=f[v];l(n,g)||p&&l(p,g)||d(n,g,y(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,i,c){var l=t("../internals/well-known-symbol")("match");i.exports=function(s){var h=/./;try{"/./"[s](h)}catch{try{return h[l]=!1,"/./"[s](h)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,i,c){var l=t("../internals/fails");i.exports=!l((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(t,i,c){i.exports=function(l,s){return{value:l,done:s}}},{}],241:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/object-define-property"),h=t("../internals/create-property-descriptor");i.exports=l?function(a,n,u){return s.f(a,n,h(1,u))}:function(a,n,u){return a[n]=u,a}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,i,c){i.exports=function(l,s){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:s}}},{}],243:[function(t,i,c){var l=t("../internals/to-property-key"),s=t("../internals/object-define-property"),h=t("../internals/create-property-descriptor");i.exports=function(a,n,u){var p=l(n);p in a?s.f(a,p,h(0,u)):a[p]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,i,c){var l=t("../internals/make-built-in"),s=t("../internals/object-define-property");i.exports=function(h,a,n){return n.get&&l(n.get,a,{getter:!0}),n.set&&l(n.set,a,{setter:!0}),s.f(h,a,n)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,i,c){var l=t("../internals/is-callable"),s=t("../internals/object-define-property"),h=t("../internals/make-built-in"),a=t("../internals/define-global-property");i.exports=function(n,u,p,f){f||(f={});var d=f.enumerable,y=f.name!==void 0?f.name:u;if(l(p)&&h(p,y,f),f.global)d?n[u]=p:a(u,p);else{try{f.unsafe?n[u]&&(d=!0):delete n[u]}catch{}d?n[u]=p:s.f(n,u,{value:p,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return n}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,i,c){var l=t("../internals/global"),s=Object.defineProperty;i.exports=function(h,a){try{s(l,h,{value:a,configurable:!0,writable:!0})}catch{l[h]=a}return a}},{"../internals/global":274}],247:[function(t,i,c){var l=t("../internals/fails");i.exports=!l((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,i,c){var l=typeof document=="object"&&document.all,s=l===void 0&&l!==void 0;i.exports={all:l,IS_HTMLDDA:s}},{}],249:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/is-object"),h=l.document,a=s(h)&&s(h.createElement);i.exports=function(n){return a?h.createElement(n):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,i,c){var l=t("../internals/engine-is-deno"),s=t("../internals/engine-is-node");i.exports=!l&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,i,c){i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,i,c){var l=t("../internals/engine-user-agent");i.exports=/ipad|iphone|ipod/i.test(l)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,i,c){var l=t("../internals/engine-user-agent");i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(l)},{"../internals/engine-user-agent":256}],254:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/classof-raw");i.exports=s(l.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,i,c){var l=t("../internals/engine-user-agent");i.exports=/web0s(?!.*chrome)/i.test(l)},{"../internals/engine-user-agent":256}],256:[function(t,i,c){i.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,i,c){var l,s,h=t("../internals/global"),a=t("../internals/engine-user-agent"),n=h.process,u=h.Deno,p=n&&n.versions||u&&u.version,f=p&&p.v8;f&&(s=(l=f.split("."))[0]>0&&l[0]<4?1:+(l[0]+l[1])),!s&&a&&(!(l=a.match(/Edge\/(\d+)/))||l[1]>=74)&&(l=a.match(/Chrome\/(\d+)/))&&(s=+l[1]),i.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,i,c){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/create-non-enumerable-property"),a=t("../internals/define-built-in"),n=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),p=t("../internals/is-forced");i.exports=function(f,d){var y,v,g,w,_,k=f.target,M=f.global,L=f.stat;if(y=M?l:L?l[k]||n(k,{}):(l[k]||{}).prototype)for(v in d){if(w=d[v],g=f.dontCallGetSet?(_=s(y,v))&&_.value:y[v],!p(M?v:k+(L?".":"#")+v,f.forced)&&g!==void 0){if(typeof w==typeof g)continue;u(w,g)}(f.sham||g&&g.sham)&&h(w,"sham",!0),a(y,v,w,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,i,c){i.exports=function(l){try{return!!l()}catch{return!0}}},{}],261:[function(t,i,c){var l=t("../internals/function-bind-native"),s=Function.prototype,h=s.apply,a=s.call;i.exports=typeof Reflect=="object"&&Reflect.apply||(l?a.bind(h):function(){return a.apply(h,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,i,c){var l=t("../internals/function-uncurry-this-clause"),s=t("../internals/a-callable"),h=t("../internals/function-bind-native"),a=l(l.bind);i.exports=function(n,u){return s(n),u===void 0?n:h?a(n,u):function(){return n.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,i,c){var l=t("../internals/fails");i.exports=!l((function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,i,c){var l=t("../internals/function-bind-native"),s=Function.prototype.call;i.exports=l?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/has-own-property"),h=Function.prototype,a=l&&Object.getOwnPropertyDescriptor,n=s(h,"name"),u=n&&(function(){}).name==="something",p=n&&(!l||l&&a(h,"name").configurable);i.exports={EXISTS:n,PROPER:u,CONFIGURABLE:p}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/a-callable");i.exports=function(h,a,n){try{return l(s(Object.getOwnPropertyDescriptor(h,a)[n]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,i,c){var l=t("../internals/classof-raw"),s=t("../internals/function-uncurry-this");i.exports=function(h){if(l(h)==="Function")return s(h)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,i,c){var l=t("../internals/function-bind-native"),s=Function.prototype,h=s.call,a=l&&s.bind.bind(h,h);i.exports=l?a:function(n){return function(){return h.apply(n,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/is-callable"),h=function(a){return s(a)?a:void 0};i.exports=function(a,n){return arguments.length<2?h(l[a]):l[a]&&l[a][n]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,i,c){var l=t("../internals/classof"),s=t("../internals/get-method"),h=t("../internals/is-null-or-undefined"),a=t("../internals/iterators"),n=t("../internals/well-known-symbol")("iterator");i.exports=function(u){if(!h(u))return s(u,n)||s(u,"@@iterator")||a[l(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,i,c){var l=t("../internals/function-call"),s=t("../internals/a-callable"),h=t("../internals/an-object"),a=t("../internals/try-to-string"),n=t("../internals/get-iterator-method"),u=TypeError;i.exports=function(p,f){var d=arguments.length<2?n(p):f;if(s(d))return h(l(d,p));throw new u(a(p)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/is-array"),h=t("../internals/is-callable"),a=t("../internals/classof-raw"),n=t("../internals/to-string"),u=l([].push);i.exports=function(p){if(h(p))return p;if(s(p)){for(var f=p.length,d=[],y=0;y<f;y++){var v=p[y];typeof v=="string"?u(d,v):typeof v!="number"&&a(v)!=="Number"&&a(v)!=="String"||u(d,n(v))}var g=d.length,w=!0;return function(_,k){if(w)return w=!1,k;if(s(this))return k;for(var M=0;M<g;M++)if(d[M]===_)return k}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,i,c){var l=t("../internals/a-callable"),s=t("../internals/is-null-or-undefined");i.exports=function(h,a){var n=h[a];return s(n)?void 0:l(n)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,i,c){(function(l){(function(){var s=function(h){return h&&h.Math===Math&&h};i.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof l=="object"&&l)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/to-object"),h=l({}.hasOwnProperty);i.exports=Object.hasOwn||function(a,n){return h(s(a),n)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,i,c){i.exports={}},{}],277:[function(t,i,c){i.exports=function(l,s){try{arguments.length===1?console.error(l):console.error(l,s)}catch{}}},{}],278:[function(t,i,c){var l=t("../internals/get-built-in");i.exports=l("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/fails"),h=t("../internals/document-create-element");i.exports=!l&&!s((function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/fails"),h=t("../internals/classof-raw"),a=Object,n=l("".split);i.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(u){return h(u)==="String"?n(u,""):a(u)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/is-callable"),h=t("../internals/shared-store"),a=l(Function.toString);s(h.inspectSource)||(h.inspectSource=function(n){return a(n)}),i.exports=h.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,i,c){var l,s,h,a=t("../internals/weak-map-basic-detection"),n=t("../internals/global"),u=t("../internals/is-object"),p=t("../internals/create-non-enumerable-property"),f=t("../internals/has-own-property"),d=t("../internals/shared-store"),y=t("../internals/shared-key"),v=t("../internals/hidden-keys"),g=n.TypeError,w=n.WeakMap;if(a||d.state){var _=d.state||(d.state=new w);_.get=_.get,_.has=_.has,_.set=_.set,l=function(M,L){if(_.has(M))throw new g("Object already initialized");return L.facade=M,_.set(M,L),L},s=function(M){return _.get(M)||{}},h=function(M){return _.has(M)}}else{var k=y("state");v[k]=!0,l=function(M,L){if(f(M,k))throw new g("Object already initialized");return L.facade=M,p(M,k,L),L},s=function(M){return f(M,k)?M[k]:{}},h=function(M){return f(M,k)}}i.exports={set:l,get:s,has:h,enforce:function(M){return h(M)?s(M):l(M,{})},getterFor:function(M){return function(L){var G;if(!u(L)||(G=s(L)).type!==M)throw new g("Incompatible receiver, "+M+" required");return G}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,i,c){var l=t("../internals/well-known-symbol"),s=t("../internals/iterators"),h=l("iterator"),a=Array.prototype;i.exports=function(n){return n!==void 0&&(s.Array===n||a[h]===n)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,i,c){var l=t("../internals/classof-raw");i.exports=Array.isArray||function(s){return l(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,i,c){var l=t("../internals/document-all"),s=l.all;i.exports=l.IS_HTMLDDA?function(h){return typeof h=="function"||h===s}:function(h){return typeof h=="function"}},{"../internals/document-all":248}],286:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/fails"),h=t("../internals/is-callable"),a=t("../internals/classof"),n=t("../internals/get-built-in"),u=t("../internals/inspect-source"),p=function(){},f=[],d=n("Reflect","construct"),y=/^\s*(?:class|function)\b/,v=l(y.exec),g=!y.test(p),w=function(k){if(!h(k))return!1;try{return d(p,f,k),!0}catch{return!1}},_=function(k){if(!h(k))return!1;switch(a(k)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!v(y,u(k))}catch{return!0}};_.sham=!0,i.exports=!d||s((function(){var k;return w(w.call)||!w(Object)||!w((function(){k=!0}))||k}))?_:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,i,c){var l=t("../internals/fails"),s=t("../internals/is-callable"),h=/#|\.prototype\./,a=function(d,y){var v=u[n(d)];return v===f||v!==p&&(s(y)?l(y):!!y)},n=a.normalize=function(d){return String(d).replace(h,".").toLowerCase()},u=a.data={},p=a.NATIVE="N",f=a.POLYFILL="P";i.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,i,c){i.exports=function(l){return l==null}},{}],289:[function(t,i,c){var l=t("../internals/is-callable"),s=t("../internals/document-all"),h=s.all;i.exports=s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:l(a)||a===h}:function(a){return typeof a=="object"?a!==null:l(a)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,i,c){i.exports=!1},{}],291:[function(t,i,c){var l=t("../internals/is-object"),s=t("../internals/classof-raw"),h=t("../internals/well-known-symbol")("match");i.exports=function(a){var n;return l(a)&&((n=a[h])!==void 0?!!n:s(a)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,i,c){var l=t("../internals/get-built-in"),s=t("../internals/is-callable"),h=t("../internals/object-is-prototype-of"),a=t("../internals/use-symbol-as-uid"),n=Object;i.exports=a?function(u){return typeof u=="symbol"}:function(u){var p=l("Symbol");return s(p)&&h(p.prototype,n(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,i,c){var l=t("../internals/function-bind-context"),s=t("../internals/function-call"),h=t("../internals/an-object"),a=t("../internals/try-to-string"),n=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),p=t("../internals/object-is-prototype-of"),f=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),y=t("../internals/iterator-close"),v=TypeError,g=function(_,k){this.stopped=_,this.result=k},w=g.prototype;i.exports=function(_,k,M){var L,G,F,j,U,q,X,$=M&&M.that,R=!(!M||!M.AS_ENTRIES),P=!(!M||!M.IS_RECORD),C=!(!M||!M.IS_ITERATOR),x=!(!M||!M.INTERRUPTED),S=l(k,$),T=function(N){return L&&y(L,"normal",N),new g(!0,N)},E=function(N){return R?(h(N),x?S(N[0],N[1],T):S(N[0],N[1])):x?S(N,T):S(N)};if(P)L=_.iterator;else if(C)L=_;else{if(!(G=d(_)))throw new v(a(_)+" is not iterable");if(n(G)){for(F=0,j=u(_);j>F;F++)if((U=E(_[F]))&&p(w,U))return U;return new g(!1)}L=f(_,G)}for(q=P?_.next:L.next;!(X=s(q,L)).done;){try{U=E(X.value)}catch(N){y(L,"throw",N)}if(typeof U=="object"&&U&&p(w,U))return U}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,i,c){var l=t("../internals/function-call"),s=t("../internals/an-object"),h=t("../internals/get-method");i.exports=function(a,n,u){var p,f;s(a);try{if(!(p=h(a,"return"))){if(n==="throw")throw u;return u}p=l(p,a)}catch(d){f=!0,p=d}if(n==="throw")throw u;if(f)throw p;return s(p),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,i,c){var l=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),h=t("../internals/create-property-descriptor"),a=t("../internals/set-to-string-tag"),n=t("../internals/iterators"),u=function(){return this};i.exports=function(p,f,d,y){var v=f+" Iterator";return p.prototype=s(l,{next:h(+!y,d)}),a(p,v,!1,!0),n[v]=u,p}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/is-pure"),a=t("../internals/function-name"),n=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),p=t("../internals/object-get-prototype-of"),f=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),y=t("../internals/create-non-enumerable-property"),v=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),w=t("../internals/iterators"),_=t("../internals/iterators-core"),k=a.PROPER,M=a.CONFIGURABLE,L=_.IteratorPrototype,G=_.BUGGY_SAFARI_ITERATORS,F=g("iterator"),j=function(){return this};i.exports=function(U,q,X,$,R,P,C){u(X,q,$);var x,S,T,E=function(H){if(H===R&&Z)return Z;if(!G&&H&&H in B)return B[H];switch(H){case"keys":case"values":case"entries":return function(){return new X(this,H)}}return function(){return new X(this)}},N=q+" Iterator",I=!1,B=U.prototype,K=B[F]||B["@@iterator"]||R&&B[R],Z=!G&&K||E(R),nt=q==="Array"&&B.entries||K;if(nt&&(x=p(nt.call(new U)))!==Object.prototype&&x.next&&(h||p(x)===L||(f?f(x,L):n(x[F])||v(x,F,j)),d(x,N,!0,!0),h&&(w[N]=j)),k&&R==="values"&&K&&K.name!=="values"&&(!h&&M?y(B,"name","values"):(I=!0,Z=function(){return s(K,this)})),R)if(S={values:E("values"),keys:P?Z:E("keys"),entries:E("entries")},C)for(T in S)(G||I||!(T in B))&&v(B,T,S[T]);else l({target:q,proto:!0,forced:G||I},S);return h&&!C||B[F]===Z||v(B,F,Z,{name:R}),w[q]=Z,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,i,c){var l,s,h,a=t("../internals/fails"),n=t("../internals/is-callable"),u=t("../internals/is-object"),p=t("../internals/object-create"),f=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),y=t("../internals/well-known-symbol"),v=t("../internals/is-pure"),g=y("iterator"),w=!1;[].keys&&("next"in(h=[].keys())?(s=f(f(h)))!==Object.prototype&&(l=s):w=!0),!u(l)||a((function(){var _={};return l[g].call(_)!==_}))?l={}:v&&(l=p(l)),n(l[g])||d(l,g,(function(){return this})),i.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,i,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],299:[function(t,i,c){var l=t("../internals/to-length");i.exports=function(s){return l(s.length)}},{"../internals/to-length":343}],300:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/fails"),h=t("../internals/is-callable"),a=t("../internals/has-own-property"),n=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,p=t("../internals/inspect-source"),f=t("../internals/internal-state"),d=f.enforce,y=f.get,v=String,g=Object.defineProperty,w=l("".slice),_=l("".replace),k=l([].join),M=n&&!s((function(){return g((function(){}),"length",{value:8}).length!==8})),L=String(String).split("String"),G=i.exports=function(F,j,U){w(v(j),0,7)==="Symbol("&&(j="["+_(v(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),U&&U.getter&&(j="get "+j),U&&U.setter&&(j="set "+j),(!a(F,"name")||u&&F.name!==j)&&(n?g(F,"name",{value:j,configurable:!0}):F.name=j),M&&U&&a(U,"arity")&&F.length!==U.arity&&g(F,"length",{value:U.arity});try{U&&a(U,"constructor")&&U.constructor?n&&g(F,"prototype",{writable:!1}):F.prototype&&(F.prototype=void 0)}catch{}var q=d(F);return a(q,"source")||(q.source=k(L,typeof j=="string"?j:"")),F};Function.prototype.toString=G((function(){return h(this)&&y(this).source||p(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,i,c){var l=Math.ceil,s=Math.floor;i.exports=Math.trunc||function(h){var a=+h;return(a>0?s:l)(a)}},{}],302:[function(t,i,c){var l,s,h,a,n,u=t("../internals/global"),p=t("../internals/function-bind-context"),f=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,y=t("../internals/queue"),v=t("../internals/engine-is-ios"),g=t("../internals/engine-is-ios-pebble"),w=t("../internals/engine-is-webos-webkit"),_=t("../internals/engine-is-node"),k=u.MutationObserver||u.WebKitMutationObserver,M=u.document,L=u.process,G=u.Promise,F=f(u,"queueMicrotask"),j=F&&F.value;if(!j){var U=new y,q=function(){var X,$;for(_&&(X=L.domain)&&X.exit();$=U.get();)try{$()}catch(R){throw U.head&&l(),R}X&&X.enter()};v||_||w||!k||!M?!g&&G&&G.resolve?((a=G.resolve(void 0)).constructor=G,n=p(a.then,a),l=function(){n(q)}):_?l=function(){L.nextTick(q)}:(d=p(d,u),l=function(){d(q)}):(s=!0,h=M.createTextNode(""),new k(q).observe(h,{characterData:!0}),l=function(){h.data=s=!s}),j=function(X){U.head||l(),U.add(X)}}i.exports=j},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,i,c){var l=t("../internals/a-callable"),s=TypeError,h=function(a){var n,u;this.promise=new a((function(p,f){if(n!==void 0||u!==void 0)throw new s("Bad Promise constructor");n=p,u=f})),this.resolve=l(n),this.reject=l(u)};i.exports.f=function(a){return new h(a)}},{"../internals/a-callable":222}],304:[function(t,i,c){var l=t("../internals/is-regexp"),s=TypeError;i.exports=function(h){if(l(h))throw new s("The method doesn't accept regular expressions");return h}},{"../internals/is-regexp":291}],305:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/function-uncurry-this"),h=t("../internals/function-call"),a=t("../internals/fails"),n=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),p=t("../internals/object-property-is-enumerable"),f=t("../internals/to-object"),d=t("../internals/indexed-object"),y=Object.assign,v=Object.defineProperty,g=s([].concat);i.exports=!y||a((function(){if(l&&y({b:1},y(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},_={},k=Symbol("assign detection");return w[k]=7,"abcdefghijklmnopqrst".split("").forEach((function(M){_[M]=M})),y({},w)[k]!==7||n(y({},_)).join("")!=="abcdefghijklmnopqrst"}))?function(w,_){for(var k=f(w),M=arguments.length,L=1,G=u.f,F=p.f;M>L;)for(var j,U=d(arguments[L++]),q=G?g(n(U),G(U)):n(U),X=q.length,$=0;X>$;)j=q[$++],l&&!h(F,U,j)||(k[j]=U[j]);return k}:y},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,i,c){var l,s=t("../internals/an-object"),h=t("../internals/object-define-properties"),a=t("../internals/enum-bug-keys"),n=t("../internals/hidden-keys"),u=t("../internals/html"),p=t("../internals/document-create-element"),f=t("../internals/shared-key"),d=f("IE_PROTO"),y=function(){},v=function(_){return"<script>"+_+"<\/script>"},g=function(_){_.write(v("")),_.close();var k=_.parentWindow.Object;return _=null,k},w=function(){try{l=new ActiveXObject("htmlfile")}catch{}var _,k;w=typeof document<"u"?document.domain&&l?g(l):((k=p("iframe")).style.display="none",u.appendChild(k),k.src="javascript:",(_=k.contentWindow.document).open(),_.write(v("document.F=Object")),_.close(),_.F):g(l);for(var M=a.length;M--;)delete w.prototype[a[M]];return w()};n[d]=!0,i.exports=Object.create||function(_,k){var M;return _!==null?(y.prototype=s(_),M=new y,y.prototype=null,M[d]=_):M=w(),k===void 0?M:h.f(M,k)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/v8-prototype-define-bug"),h=t("../internals/object-define-property"),a=t("../internals/an-object"),n=t("../internals/to-indexed-object"),u=t("../internals/object-keys");c.f=l&&!s?Object.defineProperties:function(p,f){a(p);for(var d,y=n(f),v=u(f),g=v.length,w=0;g>w;)h.f(p,d=v[w++],y[d]);return p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),h=t("../internals/v8-prototype-define-bug"),a=t("../internals/an-object"),n=t("../internals/to-property-key"),u=TypeError,p=Object.defineProperty,f=Object.getOwnPropertyDescriptor;c.f=l?h?function(d,y,v){if(a(d),y=n(y),a(v),typeof d=="function"&&y==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var g=f(d,y);g&&g.writable&&(d[y]=v.value,v={configurable:"configurable"in v?v.configurable:g.configurable,enumerable:"enumerable"in v?v.enumerable:g.enumerable,writable:!1})}return p(d,y,v)}:p:function(d,y,v){if(a(d),y=n(y),a(v),s)try{return p(d,y,v)}catch{}if("get"in v||"set"in v)throw new u("Accessors not supported");return"value"in v&&(d[y]=v.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/function-call"),h=t("../internals/object-property-is-enumerable"),a=t("../internals/create-property-descriptor"),n=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),p=t("../internals/has-own-property"),f=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;c.f=l?d:function(y,v){if(y=n(y),v=u(v),f)try{return d(y,v)}catch{}if(p(y,v))return a(!s(h.f,y,v),y[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,i,c){var l=t("../internals/classof-raw"),s=t("../internals/to-indexed-object"),h=t("../internals/object-get-own-property-names").f,a=t("../internals/array-slice-simple"),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(u){return n&&l(u)==="Window"?(function(p){try{return h(p)}catch{return a(n)}})(u):h(s(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,i,c){var l=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(h){return l(h,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,i,c){c.f=Object.getOwnPropertySymbols},{}],313:[function(t,i,c){var l=t("../internals/has-own-property"),s=t("../internals/is-callable"),h=t("../internals/to-object"),a=t("../internals/shared-key"),n=t("../internals/correct-prototype-getter"),u=a("IE_PROTO"),p=Object,f=p.prototype;i.exports=n?p.getPrototypeOf:function(d){var y=h(d);if(l(y,u))return y[u];var v=y.constructor;return s(v)&&y instanceof v?v.prototype:y instanceof p?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,i,c){var l=t("../internals/function-uncurry-this");i.exports=l({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=t("../internals/has-own-property"),h=t("../internals/to-indexed-object"),a=t("../internals/array-includes").indexOf,n=t("../internals/hidden-keys"),u=l([].push);i.exports=function(p,f){var d,y=h(p),v=0,g=[];for(d in y)!s(n,d)&&s(y,d)&&u(g,d);for(;f.length>v;)s(y,d=f[v++])&&(~a(g,d)||u(g,d));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,i,c){var l=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");i.exports=Object.keys||function(h){return l(h,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,i,c){var l={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,h=s&&!l.call({1:2},1);c.f=h?function(a){var n=s(this,a);return!!n&&n.enumerable}:l},{}],318:[function(t,i,c){var l=t("../internals/function-uncurry-this-accessor"),s=t("../internals/an-object"),h=t("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var a,n=!1,u={};try{(a=l(Object.prototype,"__proto__","set"))(u,[]),n=u instanceof Array}catch{}return function(p,f){return s(p),h(f),n?a(p,f):p.__proto__=f,p}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/fails"),h=t("../internals/function-uncurry-this"),a=t("../internals/object-get-prototype-of"),n=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),p=h(t("../internals/object-property-is-enumerable").f),f=h([].push),d=l&&s((function(){var v=Object.create(null);return v[2]=2,!p(v,2)})),y=function(v){return function(g){for(var w,_=u(g),k=n(_),M=d&&a(_)===null,L=k.length,G=0,F=[];L>G;)w=k[G++],l&&!(M?w in _:p(_,w))||f(F,v?[w,_[w]]:_[w]);return F}};i.exports={entries:y(!0),values:y(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,i,c){var l=t("../internals/function-call"),s=t("../internals/is-callable"),h=t("../internals/is-object"),a=TypeError;i.exports=function(n,u){var p,f;if(u==="string"&&s(p=n.toString)&&!h(f=l(p,n))||s(p=n.valueOf)&&!h(f=l(p,n))||u!=="string"&&s(p=n.toString)&&!h(f=l(p,n)))return f;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,i,c){var l=t("../internals/get-built-in"),s=t("../internals/function-uncurry-this"),h=t("../internals/object-get-own-property-names"),a=t("../internals/object-get-own-property-symbols"),n=t("../internals/an-object"),u=s([].concat);i.exports=l("Reflect","ownKeys")||function(p){var f=h.f(n(p)),d=a.f;return d?u(f,d(p)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,i,c){var l=t("../internals/global");i.exports=l},{"../internals/global":274}],323:[function(t,i,c){i.exports=function(l){try{return{error:!1,value:l()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/promise-native-constructor"),h=t("../internals/is-callable"),a=t("../internals/is-forced"),n=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),p=t("../internals/engine-is-browser"),f=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),y=t("../internals/engine-v8-version"),v=s&&s.prototype,g=u("species"),w=!1,_=h(l.PromiseRejectionEvent),k=a("Promise",(function(){var M=n(s),L=M!==String(s);if(!L&&y===66||d&&(!v.catch||!v.finally))return!0;if(!y||y<51||!/native code/.test(M)){var G=new s((function(j){j(1)})),F=function(j){j((function(){}),(function(){}))};if((G.constructor={})[g]=F,!(w=G.then((function(){}))instanceof F))return!0}return!L&&(p||f)&&!_}));i.exports={CONSTRUCTOR:k,REJECTION_EVENT:_,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,i,c){var l=t("../internals/global");i.exports=l.Promise},{"../internals/global":274}],326:[function(t,i,c){var l=t("../internals/an-object"),s=t("../internals/is-object"),h=t("../internals/new-promise-capability");i.exports=function(a,n){if(l(a),s(n)&&n.constructor===a)return n;var u=h.f(a);return(0,u.resolve)(n),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,i,c){var l=t("../internals/promise-native-constructor"),s=t("../internals/check-correctness-of-iteration"),h=t("../internals/promise-constructor-detection").CONSTRUCTOR;i.exports=h||!s((function(a){l.all(a).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,i,c){var l=function(){this.head=null,this.tail=null};l.prototype={add:function(s){var h={item:s,next:null},a=this.tail;a?a.next=h:this.head=h,this.tail=h},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},i.exports=l},{}],329:[function(t,i,c){var l=t("../internals/is-null-or-undefined"),s=TypeError;i.exports=function(h){if(l(h))throw new s("Can't call method on "+h);return h}},{"../internals/is-null-or-undefined":288}],330:[function(t,i,c){var l=t("../internals/get-built-in"),s=t("../internals/define-built-in-accessor"),h=t("../internals/well-known-symbol"),a=t("../internals/descriptors"),n=h("species");i.exports=function(u){var p=l(u);a&&p&&!p[n]&&s(p,n,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,i,c){var l=t("../internals/object-define-property").f,s=t("../internals/has-own-property"),h=t("../internals/well-known-symbol")("toStringTag");i.exports=function(a,n,u){a&&!u&&(a=a.prototype),a&&!s(a,h)&&l(a,h,{configurable:!0,value:n})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,i,c){var l=t("../internals/shared"),s=t("../internals/uid"),h=l("keys");i.exports=function(a){return h[a]||(h[a]=s(a))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/define-global-property"),h=l["__core-js_shared__"]||s("__core-js_shared__",{});i.exports=h},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,i,c){var l=t("../internals/is-pure"),s=t("../internals/shared-store");(i.exports=function(h,a){return s[h]||(s[h]=a!==void 0?a:{})})("versions",[]).push({version:"3.33.0",mode:l?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,i,c){var l=t("../internals/an-object"),s=t("../internals/a-constructor"),h=t("../internals/is-null-or-undefined"),a=t("../internals/well-known-symbol")("species");i.exports=function(n,u){var p,f=l(n).constructor;return f===void 0||h(p=l(f)[a])?u:s(p)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,i,c){var l=t("../internals/engine-v8-version"),s=t("../internals/fails"),h=t("../internals/global").String;i.exports=!!Object.getOwnPropertySymbols&&!s((function(){var a=Symbol("symbol detection");return!h(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&l&&l<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,i,c){var l=t("../internals/function-call"),s=t("../internals/get-built-in"),h=t("../internals/well-known-symbol"),a=t("../internals/define-built-in");i.exports=function(){var n=s("Symbol"),u=n&&n.prototype,p=u&&u.valueOf,f=h("toPrimitive");u&&!u[f]&&a(u,f,(function(d){return l(p,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,i,c){var l=t("../internals/symbol-constructor-detection");i.exports=l&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,i,c){var l,s,h,a,n=t("../internals/global"),u=t("../internals/function-apply"),p=t("../internals/function-bind-context"),f=t("../internals/is-callable"),d=t("../internals/has-own-property"),y=t("../internals/fails"),v=t("../internals/html"),g=t("../internals/array-slice"),w=t("../internals/document-create-element"),_=t("../internals/validate-arguments-length"),k=t("../internals/engine-is-ios"),M=t("../internals/engine-is-node"),L=n.setImmediate,G=n.clearImmediate,F=n.process,j=n.Dispatch,U=n.Function,q=n.MessageChannel,X=n.String,$=0,R={};y((function(){l=n.location}));var P=function(T){if(d(R,T)){var E=R[T];delete R[T],E()}},C=function(T){return function(){P(T)}},x=function(T){P(T.data)},S=function(T){n.postMessage(X(T),l.protocol+"//"+l.host)};L&&G||(L=function(T){_(arguments.length,1);var E=f(T)?T:U(T),N=g(arguments,1);return R[++$]=function(){u(E,void 0,N)},s($),$},G=function(T){delete R[T]},M?s=function(T){F.nextTick(C(T))}:j&&j.now?s=function(T){j.now(C(T))}:q&&!k?(a=(h=new q).port2,h.port1.onmessage=x,s=p(a.postMessage,a)):n.addEventListener&&f(n.postMessage)&&!n.importScripts&&l&&l.protocol!=="file:"&&!y(S)?(s=S,n.addEventListener("message",x,!1)):s="onreadystatechange"in w("script")?function(T){v.appendChild(w("script")).onreadystatechange=function(){v.removeChild(this),P(T)}}:function(T){setTimeout(C(T),0)}),i.exports={set:L,clear:G}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,i,c){var l=t("../internals/to-integer-or-infinity"),s=Math.max,h=Math.min;i.exports=function(a,n){var u=l(a);return u<0?s(u+n,0):h(u,n)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,i,c){var l=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");i.exports=function(h){return l(s(h))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,i,c){var l=t("../internals/math-trunc");i.exports=function(s){var h=+s;return h!=h||h===0?0:l(h)}},{"../internals/math-trunc":301}],343:[function(t,i,c){var l=t("../internals/to-integer-or-infinity"),s=Math.min;i.exports=function(h){return h>0?s(l(h),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,i,c){var l=t("../internals/require-object-coercible"),s=Object;i.exports=function(h){return s(l(h))}},{"../internals/require-object-coercible":329}],345:[function(t,i,c){var l=t("../internals/function-call"),s=t("../internals/is-object"),h=t("../internals/is-symbol"),a=t("../internals/get-method"),n=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),p=TypeError,f=u("toPrimitive");i.exports=function(d,y){if(!s(d)||h(d))return d;var v,g=a(d,f);if(g){if(y===void 0&&(y="default"),v=l(g,d,y),!s(v)||h(v))return v;throw new p("Can't convert object to primitive value")}return y===void 0&&(y="number"),n(d,y)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,i,c){var l=t("../internals/to-primitive"),s=t("../internals/is-symbol");i.exports=function(h){var a=l(h,"string");return s(a)?a:a+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,i,c){var l={};l[t("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(l)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,i,c){var l=t("../internals/classof"),s=String;i.exports=function(h){if(l(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(h)}},{"../internals/classof":236}],349:[function(t,i,c){var l=String;i.exports=function(s){try{return l(s)}catch{return"Object"}}},{}],350:[function(t,i,c){var l=t("../internals/function-uncurry-this"),s=0,h=Math.random(),a=l(1 .toString);i.exports=function(n){return"Symbol("+(n===void 0?"":n)+")_"+a(++s+h,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,i,c){var l=t("../internals/symbol-constructor-detection");i.exports=l&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,i,c){var l=t("../internals/descriptors"),s=t("../internals/fails");i.exports=l&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,i,c){var l=TypeError;i.exports=function(s,h){if(s<h)throw new l("Not enough arguments");return s}},{}],354:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/is-callable"),h=l.WeakMap;i.exports=s(h)&&/native code/.test(String(h))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,i,c){var l=t("../internals/path"),s=t("../internals/has-own-property"),h=t("../internals/well-known-symbol-wrapped"),a=t("../internals/object-define-property").f;i.exports=function(n){var u=l.Symbol||(l.Symbol={});s(u,n)||a(u,n,{value:h.f(n)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,i,c){var l=t("../internals/well-known-symbol");c.f=l},{"../internals/well-known-symbol":357}],357:[function(t,i,c){var l=t("../internals/global"),s=t("../internals/shared"),h=t("../internals/has-own-property"),a=t("../internals/uid"),n=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),p=l.Symbol,f=s("wks"),d=u?p.for||p:p&&p.withoutSetter||a;i.exports=function(y){return h(f,y)||(f[y]=n&&h(p,y)?p[y]:d("Symbol."+y)),f[y]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/array-iteration").findIndex,h=t("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),l({target:"Array",proto:!0,forced:a},{findIndex:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}}),h("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/array-iteration").find,h=t("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),l({target:"Array",proto:!0,forced:a},{find:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}}),h("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/array-includes").includes,h=t("../internals/fails"),a=t("../internals/add-to-unscopables");l({target:"Array",proto:!0,forced:h((function(){return!Array(1).includes()}))},{includes:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,i,c){var l=t("../internals/to-indexed-object"),s=t("../internals/add-to-unscopables"),h=t("../internals/iterators"),a=t("../internals/internal-state"),n=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),p=t("../internals/create-iter-result-object"),f=t("../internals/is-pure"),d=t("../internals/descriptors"),y=a.set,v=a.getterFor("Array Iterator");i.exports=u(Array,"Array",(function(w,_){y(this,{type:"Array Iterator",target:l(w),index:0,kind:_})}),(function(){var w=v(this),_=w.target,k=w.kind,M=w.index++;if(!_||M>=_.length)return w.target=void 0,p(void 0,!0);switch(k){case"keys":return p(M,!1);case"values":return p(_[M],!1)}return p([M,_[M]],!1)}),"values");var g=h.Arguments=h.Array;if(s("keys"),s("values"),s("entries"),!f&&d&&g.name!=="values")try{n(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/get-built-in"),h=t("../internals/function-apply"),a=t("../internals/function-call"),n=t("../internals/function-uncurry-this"),u=t("../internals/fails"),p=t("../internals/is-callable"),f=t("../internals/is-symbol"),d=t("../internals/array-slice"),y=t("../internals/get-json-replacer-function"),v=t("../internals/symbol-constructor-detection"),g=String,w=s("JSON","stringify"),_=n(/./.exec),k=n("".charAt),M=n("".charCodeAt),L=n("".replace),G=n(1 .toString),F=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,U=/^[\uDC00-\uDFFF]$/,q=!v||u((function(){var P=s("Symbol")("stringify detection");return w([P])!=="[null]"||w({a:P})!=="{}"||w(Object(P))!=="{}"})),X=u((function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'})),$=function(P,C){var x=d(arguments),S=y(C);if(p(S)||P!==void 0&&!f(P))return x[1]=function(T,E){if(p(S)&&(E=a(S,this,g(T),E)),!f(E))return E},h(w,null,x)},R=function(P,C,x){var S=k(x,C-1),T=k(x,C+1);return _(j,P)&&!_(U,T)||_(U,P)&&!_(j,S)?"\\u"+G(M(P,0),16):P};w&&l({target:"JSON",stat:!0,arity:3,forced:q||X},{stringify:function(P,C,x){var S=d(arguments),T=h(q?$:w,null,S);return X&&typeof T=="string"?L(T,F,R):T}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,i,c){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(l){return l!=l}})},{"../internals/export":259}],364:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/object-assign");l({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),a=t("../internals/object-get-own-property-symbols"),n=t("../internals/to-object");l({target:"Object",stat:!0,forced:!s||h((function(){a.f(1)}))},{getOwnPropertySymbols:function(u){var p=a.f;return p?p(n(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/to-object"),h=t("../internals/object-keys");l({target:"Object",stat:!0,forced:t("../internals/fails")((function(){h(1)}))},{keys:function(a){return h(s(a))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/object-to-array").values;l({target:"Object",stat:!0},{values:function(h){return s(h)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/a-callable"),a=t("../internals/new-promise-capability"),n=t("../internals/perform"),u=t("../internals/iterate");l({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(p){var f=this,d=a.f(f),y=d.resolve,v=d.reject,g=n((function(){var w=h(f.resolve),_=[],k=0,M=1;u(p,(function(L){var G=k++,F=!1;M++,s(w,f,L).then((function(j){F||(F=!0,_[G]=j,--M||y(_))}),v)})),--M||y(_)}));return g.error&&v(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/is-pure"),h=t("../internals/promise-constructor-detection").CONSTRUCTOR,a=t("../internals/promise-native-constructor"),n=t("../internals/get-built-in"),u=t("../internals/is-callable"),p=t("../internals/define-built-in"),f=a&&a.prototype;if(l({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(y){return this.then(void 0,y)}}),!s&&u(a)){var d=n("Promise").prototype.catch;f.catch!==d&&p(f,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,i,c){var l,s,h,a=t("../internals/export"),n=t("../internals/is-pure"),u=t("../internals/engine-is-node"),p=t("../internals/global"),f=t("../internals/function-call"),d=t("../internals/define-built-in"),y=t("../internals/object-set-prototype-of"),v=t("../internals/set-to-string-tag"),g=t("../internals/set-species"),w=t("../internals/a-callable"),_=t("../internals/is-callable"),k=t("../internals/is-object"),M=t("../internals/an-instance"),L=t("../internals/species-constructor"),G=t("../internals/task").set,F=t("../internals/microtask"),j=t("../internals/host-report-errors"),U=t("../internals/perform"),q=t("../internals/queue"),X=t("../internals/internal-state"),$=t("../internals/promise-native-constructor"),R=t("../internals/promise-constructor-detection"),P=t("../internals/new-promise-capability"),C=R.CONSTRUCTOR,x=R.REJECTION_EVENT,S=R.SUBCLASSING,T=X.getterFor("Promise"),E=X.set,N=$&&$.prototype,I=$,B=N,K=p.TypeError,Z=p.document,nt=p.process,H=P.f,tt=H,V=!!(Z&&Z.createEvent&&p.dispatchEvent),D=function(dt){var vt;return!(!k(dt)||!_(vt=dt.then))&&vt},Q=function(dt,vt){var xt,Et,It,Nt=vt.value,$t=vt.state===1,se=$t?dt.ok:dt.fail,re=dt.resolve,Zt=dt.reject,te=dt.domain;try{se?($t||(vt.rejection===2&&yt(vt),vt.rejection=1),se===!0?xt=Nt:(te&&te.enter(),xt=se(Nt),te&&(te.exit(),It=!0)),xt===dt.promise?Zt(new K("Promise-chain cycle")):(Et=D(xt))?f(Et,xt,re,Zt):re(xt)):Zt(Nt)}catch(we){te&&!It&&te.exit(),Zt(we)}},it=function(dt,vt){dt.notified||(dt.notified=!0,F((function(){for(var xt,Et=dt.reactions;xt=Et.get();)Q(xt,dt);dt.notified=!1,vt&&!dt.rejection&&st(dt)})))},ht=function(dt,vt,xt){var Et,It;V?((Et=Z.createEvent("Event")).promise=vt,Et.reason=xt,Et.initEvent(dt,!1,!0),p.dispatchEvent(Et)):Et={promise:vt,reason:xt},!x&&(It=p["on"+dt])?It(Et):dt==="unhandledrejection"&&j("Unhandled promise rejection",xt)},st=function(dt){f(G,p,(function(){var vt,xt=dt.facade,Et=dt.value;if(ut(dt)&&(vt=U((function(){u?nt.emit("unhandledRejection",Et,xt):ht("unhandledrejection",xt,Et)})),dt.rejection=u||ut(dt)?2:1,vt.error))throw vt.value}))},ut=function(dt){return dt.rejection!==1&&!dt.parent},yt=function(dt){f(G,p,(function(){var vt=dt.facade;u?nt.emit("rejectionHandled",vt):ht("rejectionhandled",vt,dt.value)}))},bt=function(dt,vt,xt){return function(Et){dt(vt,Et,xt)}},at=function(dt,vt,xt){dt.done||(dt.done=!0,xt&&(dt=xt),dt.value=vt,dt.state=2,it(dt,!0))},pt=function(dt,vt,xt){if(!dt.done){dt.done=!0,xt&&(dt=xt);try{if(dt.facade===vt)throw new K("Promise can't be resolved itself");var Et=D(vt);Et?F((function(){var It={done:!1};try{f(Et,vt,bt(pt,It,dt),bt(at,It,dt))}catch(Nt){at(It,Nt,dt)}})):(dt.value=vt,dt.state=1,it(dt,!1))}catch(It){at({done:!1},It,dt)}}};if(C&&(B=(I=function(dt){M(this,B),w(dt),f(l,this);var vt=T(this);try{dt(bt(pt,vt),bt(at,vt))}catch(xt){at(vt,xt)}}).prototype,(l=function(dt){E(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new q,rejection:!1,state:0,value:void 0})}).prototype=d(B,"then",(function(dt,vt){var xt=T(this),Et=H(L(this,I));return xt.parent=!0,Et.ok=!_(dt)||dt,Et.fail=_(vt)&&vt,Et.domain=u?nt.domain:void 0,xt.state===0?xt.reactions.add(Et):F((function(){Q(Et,xt)})),Et.promise})),s=function(){var dt=new l,vt=T(dt);this.promise=dt,this.resolve=bt(pt,vt),this.reject=bt(at,vt)},P.f=H=function(dt){return dt===I||dt===void 0?new s(dt):tt(dt)},!n&&_($)&&N!==Object.prototype)){h=N.then,S||d(N,"then",(function(dt,vt){var xt=this;return new I((function(Et,It){f(h,xt,Et,It)})).then(dt,vt)}),{unsafe:!0});try{delete N.constructor}catch{}y&&y(N,B)}a({global:!0,constructor:!0,wrap:!0,forced:C},{Promise:I}),v(I,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/is-pure"),h=t("../internals/promise-native-constructor"),a=t("../internals/fails"),n=t("../internals/get-built-in"),u=t("../internals/is-callable"),p=t("../internals/species-constructor"),f=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),y=h&&h.prototype;if(l({target:"Promise",proto:!0,real:!0,forced:!!h&&a((function(){y.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var w=p(this,n("Promise")),_=u(g);return this.then(_?function(k){return f(w,g()).then((function(){return k}))}:g,_?function(k){return f(w,g()).then((function(){throw k}))}:g)}}),!s&&u(h)){var v=n("Promise").prototype.finally;y.finally!==v&&d(y,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,i,c){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/a-callable"),a=t("../internals/new-promise-capability"),n=t("../internals/perform"),u=t("../internals/iterate");l({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(p){var f=this,d=a.f(f),y=d.reject,v=n((function(){var g=h(f.resolve);u(p,(function(w){s(g,f,w).then(d.resolve,y)}))}));return v.error&&y(v.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/new-promise-capability");l({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(a){var n=h.f(this);return s(n.reject,void 0,a),n.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/get-built-in"),h=t("../internals/is-pure"),a=t("../internals/promise-native-constructor"),n=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),p=s("Promise"),f=h&&!n;l({target:"Promise",stat:!0,forced:h||n},{resolve:function(d){return u(f&&this===p?a:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/function-uncurry-this"),h=t("../internals/to-absolute-index"),a=RangeError,n=String.fromCharCode,u=String.fromCodePoint,p=s([].join);l({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(f){for(var d,y=[],v=arguments.length,g=0;v>g;){if(d=+arguments[g++],h(d,1114111)!==d)throw new a(d+" is not a valid code point");y[g]=d<65536?n(d):n(55296+((d-=65536)>>10),d%1024+56320)}return p(y,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/function-uncurry-this"),h=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible"),n=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),p=s("".indexOf);l({target:"String",proto:!0,forced:!u("includes")},{includes:function(f){return!!~p(n(a(this)),n(h(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,i,c){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/global"),h=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),n=t("../internals/is-pure"),u=t("../internals/descriptors"),p=t("../internals/symbol-constructor-detection"),f=t("../internals/fails"),d=t("../internals/has-own-property"),y=t("../internals/object-is-prototype-of"),v=t("../internals/an-object"),g=t("../internals/to-indexed-object"),w=t("../internals/to-property-key"),_=t("../internals/to-string"),k=t("../internals/create-property-descriptor"),M=t("../internals/object-create"),L=t("../internals/object-keys"),G=t("../internals/object-get-own-property-names"),F=t("../internals/object-get-own-property-names-external"),j=t("../internals/object-get-own-property-symbols"),U=t("../internals/object-get-own-property-descriptor"),q=t("../internals/object-define-property"),X=t("../internals/object-define-properties"),$=t("../internals/object-property-is-enumerable"),R=t("../internals/define-built-in"),P=t("../internals/define-built-in-accessor"),C=t("../internals/shared"),x=t("../internals/shared-key"),S=t("../internals/hidden-keys"),T=t("../internals/uid"),E=t("../internals/well-known-symbol"),N=t("../internals/well-known-symbol-wrapped"),I=t("../internals/well-known-symbol-define"),B=t("../internals/symbol-define-to-primitive"),K=t("../internals/set-to-string-tag"),Z=t("../internals/internal-state"),nt=t("../internals/array-iteration").forEach,H=x("hidden"),tt=Z.set,V=Z.getterFor("Symbol"),D=Object.prototype,Q=s.Symbol,it=Q&&Q.prototype,ht=s.RangeError,st=s.TypeError,ut=s.QObject,yt=U.f,bt=q.f,at=F.f,pt=$.f,dt=a([].push),vt=C("symbols"),xt=C("op-symbols"),Et=C("wks"),It=!ut||!ut.prototype||!ut.prototype.findChild,Nt=function(ee,Ft,ie){var ae=yt(D,Ft);ae&&delete D[Ft],bt(ee,Ft,ie),ae&&ee!==D&&bt(D,Ft,ae)},$t=u&&f((function(){return M(bt({},"a",{get:function(){return bt(this,"a",{value:7}).a}})).a!==7}))?Nt:bt,se=function(ee,Ft){var ie=vt[ee]=M(it);return tt(ie,{type:"Symbol",tag:ee,description:Ft}),u||(ie.description=Ft),ie},re=function(ee,Ft,ie){ee===D&&re(xt,Ft,ie),v(ee);var ae=w(Ft);return v(ie),d(vt,ae)?(ie.enumerable?(d(ee,H)&&ee[H][ae]&&(ee[H][ae]=!1),ie=M(ie,{enumerable:k(0,!1)})):(d(ee,H)||bt(ee,H,k(1,{})),ee[H][ae]=!0),$t(ee,ae,ie)):bt(ee,ae,ie)},Zt=function(ee,Ft){v(ee);var ie=g(Ft),ae=L(ie).concat(Se(ie));return nt(ae,(function(he){u&&!h(te,ie,he)||re(ee,he,ie[he])})),ee},te=function(ee){var Ft=w(ee),ie=h(pt,this,Ft);return!(this===D&&d(vt,Ft)&&!d(xt,Ft))&&(!(ie||!d(this,Ft)||!d(vt,Ft)||d(this,H)&&this[H][Ft])||ie)},we=function(ee,Ft){var ie=g(ee),ae=w(Ft);if(ie!==D||!d(vt,ae)||d(xt,ae)){var he=yt(ie,ae);return!he||!d(vt,ae)||d(ie,H)&&ie[H][ae]||(he.enumerable=!0),he}},_e=function(ee){var Ft=at(g(ee)),ie=[];return nt(Ft,(function(ae){d(vt,ae)||d(S,ae)||dt(ie,ae)})),ie},Se=function(ee){var Ft=ee===D,ie=at(Ft?xt:g(ee)),ae=[];return nt(ie,(function(he){!d(vt,he)||Ft&&!d(D,he)||dt(ae,vt[he])})),ae};p||(R(it=(Q=function(){if(y(it,this))throw new st("Symbol is not a constructor");var ee=arguments.length&&arguments[0]!==void 0?_(arguments[0]):void 0,Ft=T(ee),ie=function(ae){this===D&&h(ie,xt,ae),d(this,H)&&d(this[H],Ft)&&(this[H][Ft]=!1);var he=k(1,ae);try{$t(this,Ft,he)}catch(Le){if(!(Le instanceof ht))throw Le;Nt(this,Ft,he)}};return u&&It&&$t(D,Ft,{configurable:!0,set:ie}),se(Ft,ee)}).prototype,"toString",(function(){return V(this).tag})),R(Q,"withoutSetter",(function(ee){return se(T(ee),ee)})),$.f=te,q.f=re,X.f=Zt,U.f=we,G.f=F.f=_e,j.f=Se,N.f=function(ee){return se(E(ee),ee)},u&&(P(it,"description",{configurable:!0,get:function(){return V(this).description}}),n||R(D,"propertyIsEnumerable",te,{unsafe:!0}))),l({global:!0,constructor:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Q}),nt(L(Et),(function(ee){I(ee)})),l({target:"Symbol",stat:!0,forced:!p},{useSetter:function(){It=!0},useSimple:function(){It=!1}}),l({target:"Object",stat:!0,forced:!p,sham:!u},{create:function(ee,Ft){return Ft===void 0?M(ee):Zt(M(ee),Ft)},defineProperty:re,defineProperties:Zt,getOwnPropertyDescriptor:we}),l({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:_e}),B(),K(Q,"Symbol"),S[H]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/get-built-in"),h=t("../internals/has-own-property"),a=t("../internals/to-string"),n=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),p=n("string-to-symbol-registry"),f=n("symbol-to-string-registry");l({target:"Symbol",stat:!0,forced:!u},{for:function(d){var y=a(d);if(h(p,y))return p[y];var v=s("Symbol")(y);return p[y]=v,f[v]=y,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,i,c){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,i,c){var l=t("../internals/export"),s=t("../internals/has-own-property"),h=t("../internals/is-symbol"),a=t("../internals/try-to-string"),n=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),p=n("symbol-to-string-registry");l({target:"Symbol",stat:!0,forced:!u},{keyFor:function(f){if(!h(f))throw new TypeError(a(f)+" is not a symbol");if(s(p,f))return p[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,i,c){function l(s){return Object.prototype.toString.call(s)}c.isArray=function(s){return Array.isArray?Array.isArray(s):l(s)==="[object Array]"},c.isBoolean=function(s){return typeof s=="boolean"},c.isNull=function(s){return s===null},c.isNullOrUndefined=function(s){return s==null},c.isNumber=function(s){return typeof s=="number"},c.isString=function(s){return typeof s=="string"},c.isSymbol=function(s){return typeof s=="symbol"},c.isUndefined=function(s){return s===void 0},c.isRegExp=function(s){return l(s)==="[object RegExp]"},c.isObject=function(s){return typeof s=="object"&&s!==null},c.isDate=function(s){return l(s)==="[object Date]"},c.isError=function(s){return l(s)==="[object Error]"||s instanceof Error},c.isFunction=function(s){return typeof s=="function"},c.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},c.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,i,c){(function(l){(function(){var s=t("elliptic"),h=t("bn.js");i.exports=function(p){return new n(p)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(p){this.curveType=a[p],this.curveType||(this.curveType={name:p}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function u(p,f,d){Array.isArray(p)||(p=p.toArray());var y=new l(p);if(d&&y.length<d){var v=new l(d-y.length);v.fill(0),y=l.concat([v,y])}return f?y.toString(f):y}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,n.prototype.generateKeys=function(p,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(p,f)},n.prototype.computeSecret=function(p,f,d){return f=f||"utf8",l.isBuffer(p)||(p=new l(p,f)),u(this.curve.keyFromPublic(p).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},n.prototype.getPublicKey=function(p,f){var d=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,p)},n.prototype.getPrivateKey=function(p){return u(this.keys.getPrivate(),p)},n.prototype.setPublicKey=function(p,f){return f=f||"utf8",l.isBuffer(p)||(p=new l(p,f)),this.keys._importPublic(p),this},n.prototype.setPrivateKey=function(p,f){f=f||"utf8",l.isBuffer(p)||(p=new l(p,f));var d=new h(p);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],386:[function(t,i,c){var l=t("inherits"),s=t("md5.js"),h=t("ripemd160"),a=t("sha.js"),n=t("cipher-base");function u(p){n.call(this,"digest"),this._hash=p}l(u,n),u.prototype._update=function(p){this._hash.update(p)},u.prototype._final=function(){return this._hash.digest()},i.exports=function(p){return(p=p.toLowerCase())==="md5"?new s:p==="rmd160"||p==="ripemd160"?new h:new u(a(p))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,i,c){var l=t("md5.js");i.exports=function(s){return new l().update(s).digest()}},{"md5.js":450}],388:[function(t,i,c){var l=t("inherits"),s=t("./legacy"),h=t("cipher-base"),a=t("safe-buffer").Buffer,n=t("create-hash/md5"),u=t("ripemd160"),p=t("sha.js"),f=a.alloc(128);function d(y,v){h.call(this,"digest"),typeof v=="string"&&(v=a.from(v));var g=y==="sha512"||y==="sha384"?128:64;this._alg=y,this._key=v,v.length>g?v=(y==="rmd160"?new u:p(y)).update(v).digest():v.length<g&&(v=a.concat([v,f],g));for(var w=this._ipad=a.allocUnsafe(g),_=this._opad=a.allocUnsafe(g),k=0;k<g;k++)w[k]=54^v[k],_[k]=92^v[k];this._hash=y==="rmd160"?new u:p(y),this._hash.update(w)}l(d,h),d.prototype._update=function(y){this._hash.update(y)},d.prototype._final=function(){var y=this._hash.digest();return(this._alg==="rmd160"?new u:p(this._alg)).update(this._opad).update(y).digest()},i.exports=function(y,v){return(y=y.toLowerCase())==="rmd160"||y==="ripemd160"?new d("rmd160",v):y==="md5"?new s(n,v):new d(y,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,i,c){var l=t("inherits"),s=t("safe-buffer").Buffer,h=t("cipher-base"),a=s.alloc(128);function n(u,p){h.call(this,"digest"),typeof p=="string"&&(p=s.from(p)),this._alg=u,this._key=p,p.length>64?p=u(p):p.length<64&&(p=s.concat([p,a],64));for(var f=this._ipad=s.allocUnsafe(64),d=this._opad=s.allocUnsafe(64),y=0;y<64;y++)f[y]=54^p[y],d[y]=92^p[y];this._hash=[f]}l(n,h),n.prototype._update=function(u){this._hash.push(u)},n.prototype._final=function(){var u=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,u]))},i.exports=n},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,i,c){c.randomBytes=c.rng=c.pseudoRandomBytes=c.prng=t("randombytes"),c.createHash=c.Hash=t("create-hash"),c.createHmac=c.Hmac=t("create-hmac");var l=t("browserify-sign/algos"),s=Object.keys(l),h=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);c.getHashes=function(){return h};var a=t("pbkdf2");c.pbkdf2=a.pbkdf2,c.pbkdf2Sync=a.pbkdf2Sync;var n=t("browserify-cipher");c.Cipher=n.Cipher,c.createCipher=n.createCipher,c.Cipheriv=n.Cipheriv,c.createCipheriv=n.createCipheriv,c.Decipher=n.Decipher,c.createDecipher=n.createDecipher,c.Decipheriv=n.Decipheriv,c.createDecipheriv=n.createDecipheriv,c.getCiphers=n.getCiphers,c.listCiphers=n.listCiphers;var u=t("diffie-hellman");c.DiffieHellmanGroup=u.DiffieHellmanGroup,c.createDiffieHellmanGroup=u.createDiffieHellmanGroup,c.getDiffieHellman=u.getDiffieHellman,c.createDiffieHellman=u.createDiffieHellman,c.DiffieHellman=u.DiffieHellman;var p=t("browserify-sign");c.createSign=p.createSign,c.Sign=p.Sign,c.createVerify=p.createVerify,c.Verify=p.Verify,c.createECDH=t("create-ecdh");var f=t("public-encrypt");c.publicEncrypt=f.publicEncrypt,c.privateEncrypt=f.privateEncrypt,c.publicDecrypt=f.publicDecrypt,c.privateDecrypt=f.privateDecrypt;var d=t("randomfill");c.randomFill=d.randomFill,c.randomFillSync=d.randomFillSync,c.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},c.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,i,c){(function(l,s){typeof c=="object"&&i!==void 0?i.exports=s():(l=typeof globalThis<"u"?globalThis:l||self).dayjs=s()})(void 0,(function(){var l=6e4,s=36e5,h="millisecond",a="second",n="minute",u="hour",p="day",f="week",d="month",y="quarter",v="year",g="date",w="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var S=["th","st","nd","rd"],T=x%100;return"["+x+(S[(T-20)%10]||S[T]||S[0])+"]"}},L=function(x,S,T){var E=String(x);return!E||E.length>=S?x:""+Array(S+1-E.length).join(T)+x},G={s:L,z:function(x){var S=-x.utcOffset(),T=Math.abs(S),E=Math.floor(T/60),N=T%60;return(S<=0?"+":"-")+L(E,2,"0")+":"+L(N,2,"0")},m:function x(S,T){if(S.date()<T.date())return-x(T,S);var E=12*(T.year()-S.year())+(T.month()-S.month()),N=S.clone().add(E,d),I=T-N<0,B=S.clone().add(E+(I?-1:1),d);return+(-(E+(T-N)/(I?N-B:B-N))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:d,y:v,w:f,d:p,D:g,h:u,m:n,s:a,ms:h,Q:y}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},F="en",j={};j[F]=M;var U="$isDayjsObject",q=function(x){return x instanceof P||!(!x||!x[U])},X=function x(S,T,E){var N;if(!S)return F;if(typeof S=="string"){var I=S.toLowerCase();j[I]&&(N=I),T&&(j[I]=T,N=I);var B=S.split("-");if(!N&&B.length>1)return x(B[0])}else{var K=S.name;j[K]=S,N=K}return!E&&N&&(F=N),N||!E&&F},$=function(x,S){if(q(x))return x.clone();var T=typeof S=="object"?S:{};return T.date=x,T.args=arguments,new P(T)},R=G;R.l=X,R.i=q,R.w=function(x,S){return $(x,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var P=(function(){function x(T){this.$L=X(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[U]=!0}var S=x.prototype;return S.parse=function(T){this.$d=(function(E){var N=E.date,I=E.utc;if(N===null)return new Date(NaN);if(R.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var B=N.match(_);if(B){var K=B[2]-1||0,Z=(B[7]||"0").substring(0,3);return I?new Date(Date.UTC(B[1],K,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)):new Date(B[1],K,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)}}return new Date(N)})(T),this.init()},S.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},S.$utils=function(){return R},S.isValid=function(){return this.$d.toString()!==w},S.isSame=function(T,E){var N=$(T);return this.startOf(E)<=N&&N<=this.endOf(E)},S.isAfter=function(T,E){return $(T)<this.startOf(E)},S.isBefore=function(T,E){return this.endOf(E)<$(T)},S.$g=function(T,E,N){return R.u(T)?this[E]:this.set(N,T)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(T,E){var N=this,I=!!R.u(E)||E,B=R.p(T),K=function(it,ht){var st=R.w(N.$u?Date.UTC(N.$y,ht,it):new Date(N.$y,ht,it),N);return I?st:st.endOf(p)},Z=function(it,ht){return R.w(N.toDate()[it].apply(N.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ht)),N)},nt=this.$W,H=this.$M,tt=this.$D,V="set"+(this.$u?"UTC":"");switch(B){case v:return I?K(1,0):K(31,11);case d:return I?K(1,H):K(0,H+1);case f:var D=this.$locale().weekStart||0,Q=(nt<D?nt+7:nt)-D;return K(I?tt-Q:tt+(6-Q),H);case p:case g:return Z(V+"Hours",0);case u:return Z(V+"Minutes",1);case n:return Z(V+"Seconds",2);case a:return Z(V+"Milliseconds",3);default:return this.clone()}},S.endOf=function(T){return this.startOf(T,!1)},S.$set=function(T,E){var N,I=R.p(T),B="set"+(this.$u?"UTC":""),K=(N={},N[p]=B+"Date",N[g]=B+"Date",N[d]=B+"Month",N[v]=B+"FullYear",N[u]=B+"Hours",N[n]=B+"Minutes",N[a]=B+"Seconds",N[h]=B+"Milliseconds",N)[I],Z=I===p?this.$D+(E-this.$W):E;if(I===d||I===v){var nt=this.clone().set(g,1);nt.$d[K](Z),nt.init(),this.$d=nt.set(g,Math.min(this.$D,nt.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},S.set=function(T,E){return this.clone().$set(T,E)},S.get=function(T){return this[R.p(T)]()},S.add=function(T,E){var N,I=this;T=Number(T);var B=R.p(E),K=function(H){var tt=$(I);return R.w(tt.date(tt.date()+Math.round(H*T)),I)};if(B===d)return this.set(d,this.$M+T);if(B===v)return this.set(v,this.$y+T);if(B===p)return K(1);if(B===f)return K(7);var Z=(N={},N[n]=l,N[u]=s,N[a]=1e3,N)[B]||1,nt=this.$d.getTime()+T*Z;return R.w(nt,this)},S.subtract=function(T,E){return this.add(-1*T,E)},S.format=function(T){var E=this,N=this.$locale();if(!this.isValid())return N.invalidDate||w;var I=T||"YYYY-MM-DDTHH:mm:ssZ",B=R.z(this),K=this.$H,Z=this.$m,nt=this.$M,H=N.weekdays,tt=N.months,V=N.meridiem,D=function(ht,st,ut,yt){return ht&&(ht[st]||ht(E,I))||ut[st].slice(0,yt)},Q=function(ht){return R.s(K%12||12,ht,"0")},it=V||function(ht,st,ut){var yt=ht<12?"AM":"PM";return ut?yt.toLowerCase():yt};return I.replace(k,(function(ht,st){return st||(function(ut){switch(ut){case"YY":return String(E.$y).slice(-2);case"YYYY":return R.s(E.$y,4,"0");case"M":return nt+1;case"MM":return R.s(nt+1,2,"0");case"MMM":return D(N.monthsShort,nt,tt,3);case"MMMM":return D(tt,nt);case"D":return E.$D;case"DD":return R.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return D(N.weekdaysMin,E.$W,H,2);case"ddd":return D(N.weekdaysShort,E.$W,H,3);case"dddd":return H[E.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return it(K,Z,!0);case"A":return it(K,Z,!1);case"m":return String(Z);case"mm":return R.s(Z,2,"0");case"s":return String(E.$s);case"ss":return R.s(E.$s,2,"0");case"SSS":return R.s(E.$ms,3,"0");case"Z":return B}return null})(ht)||B.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(T,E,N){var I,B=this,K=R.p(E),Z=$(T),nt=(Z.utcOffset()-this.utcOffset())*l,H=this-Z,tt=function(){return R.m(B,Z)};switch(K){case v:I=tt()/12;break;case d:I=tt();break;case y:I=tt()/3;break;case f:I=(H-nt)/6048e5;break;case p:I=(H-nt)/864e5;break;case u:I=H/s;break;case n:I=H/l;break;case a:I=H/1e3;break;default:I=H}return N?I:R.a(I)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return j[this.$L]},S.locale=function(T,E){if(!T)return this.$L;var N=this.clone(),I=X(T,E,!0);return I&&(N.$L=I),N},S.clone=function(){return R.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},x})(),C=P.prototype;return $.prototype=C,[["$ms",h],["$s",a],["$m",n],["$H",u],["$W",p],["$M",d],["$y",v],["$D",g]].forEach((function(x){C[x[1]]=function(S){return this.$g(S,x[0],x[1])}})),$.extend=function(x,S){return x.$i||(x(S,P,$),x.$i=!0),$},$.locale=X,$.isDayjs=q,$.unix=function(x){return $(1e3*x)},$.en=j[F],$.Ls=j,$.p={},$}))},{}],392:[function(t,i,c){(function(l,s){typeof c=="object"&&i!==void 0?i.exports=s():(l=typeof globalThis<"u"?globalThis:l||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,h=/\d\d/,a=/\d\d?/,n=/\d*[^-_:/,()\s\d]+/,u={},p=function(_){return(_=+_)+(_>68?1900:2e3)},f=function(_){return function(k){this[_]=+k}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(_){(this.zone||(this.zone={})).offset=(function(k){if(!k||k==="Z")return 0;var M=k.match(/([+-]|\d\d)/g),L=60*M[1]+(+M[2]||0);return L===0?0:M[0]==="+"?-L:L})(_)}],y=function(_){var k=u[_];return k&&(k.indexOf?k:k.s.concat(k.f))},v=function(_,k){var M,L=u.meridiem;if(L){for(var G=1;G<=24;G+=1)if(_.indexOf(L(G,0,k))>-1){M=G>12;break}}else M=_===(k?"pm":"PM");return M},g={A:[n,function(_){this.afternoon=v(_,!1)}],a:[n,function(_){this.afternoon=v(_,!0)}],S:[/\d/,function(_){this.milliseconds=100*+_}],SS:[h,function(_){this.milliseconds=10*+_}],SSS:[/\d{3}/,function(_){this.milliseconds=+_}],s:[a,f("seconds")],ss:[a,f("seconds")],m:[a,f("minutes")],mm:[a,f("minutes")],H:[a,f("hours")],h:[a,f("hours")],HH:[a,f("hours")],hh:[a,f("hours")],D:[a,f("day")],DD:[h,f("day")],Do:[n,function(_){var k=u.ordinal,M=_.match(/\d+/);if(this.day=M[0],k)for(var L=1;L<=31;L+=1)k(L).replace(/\[|\]/g,"")===_&&(this.day=L)}],M:[a,f("month")],MM:[h,f("month")],MMM:[n,function(_){var k=y("months"),M=(y("monthsShort")||k.map((function(L){return L.slice(0,3)}))).indexOf(_)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[n,function(_){var k=y("months").indexOf(_)+1;if(k<1)throw new Error;this.month=k%12||k}],Y:[/[+-]?\d+/,f("year")],YY:[h,function(_){this.year=p(_)}],YYYY:[/\d{4}/,f("year")],Z:d,ZZ:d};function w(_){var k,M;k=_,M=u&&u.formats;for(var L=(_=k.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function($,R,P){var C=P&&P.toUpperCase();return R||M[P]||l[P]||M[C].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(x,S,T){return S||T.slice(1)}))}))).match(s),G=L.length,F=0;F<G;F+=1){var j=L[F],U=g[j],q=U&&U[0],X=U&&U[1];L[F]=X?{regex:q,parser:X}:j.replace(/^\[|\]$/g,"")}return function($){for(var R={},P=0,C=0;P<G;P+=1){var x=L[P];if(typeof x=="string")C+=x.length;else{var S=x.regex,T=x.parser,E=$.slice(C),N=S.exec(E)[0];T.call(R,N),$=$.replace(N,"")}}return(function(I){var B=I.afternoon;if(B!==void 0){var K=I.hours;B?K<12&&(I.hours+=12):K===12&&(I.hours=0),delete I.afternoon}})(R),R}}return function(_,k,M){M.p.customParseFormat=!0,_&&_.parseTwoDigitYear&&(p=_.parseTwoDigitYear);var L=k.prototype,G=L.parse;L.parse=function(F){var j=F.date,U=F.utc,q=F.args;this.$u=U;var X=q[1];if(typeof X=="string"){var $=q[2]===!0,R=q[3]===!0,P=$||R,C=q[2];R&&(C=q[2]),u=this.$locale(),!$&&C&&(u=M.Ls[C]),this.$d=(function(E,N,I){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*E);var B=w(N)(E),K=B.year,Z=B.month,nt=B.day,H=B.hours,tt=B.minutes,V=B.seconds,D=B.milliseconds,Q=B.zone,it=new Date,ht=nt||(K||Z?1:it.getDate()),st=K||it.getFullYear(),ut=0;K&&!Z||(ut=Z>0?Z-1:it.getMonth());var yt=H||0,bt=tt||0,at=V||0,pt=D||0;return Q?new Date(Date.UTC(st,ut,ht,yt,bt,at,pt+60*Q.offset*1e3)):I?new Date(Date.UTC(st,ut,ht,yt,bt,at,pt)):new Date(st,ut,ht,yt,bt,at,pt)}catch{return new Date("")}})(j,X,U),this.init(),C&&C!==!0&&(this.$L=this.locale(C).$L),P&&j!=this.format(X)&&(this.$d=new Date("")),u={}}else if(X instanceof Array)for(var x=X.length,S=1;S<=x;S+=1){q[1]=X[S-1];var T=M.apply(this,q);if(T.isValid()){this.$d=T.$d,this.$L=T.$L,this.init();break}S===x&&(this.$d=new Date(""))}else G.call(this,F)}}}))},{}],393:[function(t,i,c){(function(l,s){typeof c=="object"&&i!==void 0?i.exports=s():(l=typeof globalThis<"u"?globalThis:l||self).dayjs_plugin_utc=s()})(void 0,(function(){var l="minute",s=/[+-]\d\d(?::?\d\d)?/g,h=/([+-]|\d\d)/g;return function(a,n,u){var p=n.prototype;u.utc=function(_){var k={date:_,utc:!0,args:arguments};return new n(k)},p.utc=function(_){var k=u(this.toDate(),{locale:this.$L,utc:!0});return _?k.add(this.utcOffset(),l):k},p.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var f=p.parse;p.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),f.call(this,_)};var d=p.init;p.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else d.call(this)};var y=p.utcOffset;p.utcOffset=function(_,k){var M=this.$utils().u;if(M(_))return this.$u?0:M(this.$offset)?y.call(this):this.$offset;if(typeof _=="string"&&(_=(function(j){j===void 0&&(j="");var U=j.match(s);if(!U)return null;var q=(""+U[0]).match(h)||["-",0,0],X=q[0],$=60*+q[1]+ +q[2];return $===0?0:X==="+"?$:-$})(_))===null)return this;var L=Math.abs(_)<=16?60*_:_,G=this;if(k)return G.$offset=L,G.$u=_===0,G;if(_!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(G=this.local().add(L+F,l)).$offset=L,G.$x.$localOffset=F}else G=this.utc();return G};var v=p.format;p.format=function(_){var k=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,k)},p.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},p.isUTC=function(){return!!this.$u},p.toISOString=function(){return this.toDate().toISOString()},p.toString=function(){return this.toDate().toUTCString()};var g=p.toDate;p.toDate=function(_){return _==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=p.diff;p.diff=function(_,k,M){if(_&&this.$u===_.$u)return w.call(this,_,k,M);var L=this.local(),G=u(_).local();return w.call(L,G,k,M)}}}))},{}],394:[function(t,i,c){c.utils=t("./des/utils"),c.Cipher=t("./des/cipher"),c.DES=t("./des/des"),c.CBC=t("./des/cbc"),c.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,i,c){var l=t("minimalistic-assert"),s=t("inherits"),h={};function a(n){l.equal(n.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=n[u]}c.instantiate=function(n){function u(y){n.call(this,y),this._cbcInit()}s(u,n);for(var p=Object.keys(h),f=0;f<p.length;f++){var d=p[f];u.prototype[d]=h[d]}return u.create=function(y){return new u(y)},u},h._cbcInit=function(){var n=new a(this.options.iv);this._cbcState=n},h._update=function(n,u,p,f){var d=this._cbcState,y=this.constructor.super_.prototype,v=d.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)v[g]^=n[u+g];for(y._update.call(this,v,0,p,f),g=0;g<this.blockSize;g++)v[g]=p[f+g]}else{for(y._update.call(this,n,u,p,f),g=0;g<this.blockSize;g++)p[f+g]^=v[g];for(g=0;g<this.blockSize;g++)v[g]=n[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,i,c){var l=t("minimalistic-assert");function s(h){this.options=h,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=h.padding!==!1}i.exports=s,s.prototype._init=function(){},s.prototype.update=function(h){return h.length===0?[]:this.type==="decrypt"?this._updateDecrypt(h):this._updateEncrypt(h)},s.prototype._buffer=function(h,a){for(var n=Math.min(this.buffer.length-this.bufferOff,h.length-a),u=0;u<n;u++)this.buffer[this.bufferOff+u]=h[a+u];return this.bufferOff+=n,n},s.prototype._flushBuffer=function(h,a){return this._update(this.buffer,0,h,a),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(h){var a=0,n=0,u=(this.bufferOff+h.length)/this.blockSize|0,p=new Array(u*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(h,a),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(p,n)));for(var f=h.length-(h.length-a)%this.blockSize;a<f;a+=this.blockSize)this._update(h,a,p,n),n+=this.blockSize;for(;a<h.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=h[a];return p},s.prototype._updateDecrypt=function(h){for(var a=0,n=0,u=Math.ceil((this.bufferOff+h.length)/this.blockSize)-1,p=new Array(u*this.blockSize);u>0;u--)a+=this._buffer(h,a),n+=this._flushBuffer(p,n);return a+=this._buffer(h,a),p},s.prototype.final=function(h){var a,n;return h&&(a=this.update(h)),n=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),a?a.concat(n):n},s.prototype._pad=function(h,a){if(a===0)return!1;for(;a<h.length;)h[a++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var h=new Array(this.blockSize);return this._update(this.buffer,0,h,0),h},s.prototype._unpad=function(h){return h},s.prototype._finalDecrypt=function(){l.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var h=new Array(this.blockSize);return this._flushBuffer(h,0),this._unpad(h)}},{"minimalistic-assert":453}],397:[function(t,i,c){var l=t("minimalistic-assert"),s=t("inherits"),h=t("./utils"),a=t("./cipher");function n(){this.tmp=new Array(2),this.keys=null}function u(f){a.call(this,f);var d=new n;this._desState=d,this.deriveKeys(d,f.key)}s(u,a),i.exports=u,u.create=function(f){return new u(f)};var p=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(f,d){f.keys=new Array(32),l.equal(d.length,this.blockSize,"Invalid key length");var y=h.readUInt32BE(d,0),v=h.readUInt32BE(d,4);h.pc1(y,v,f.tmp,0),y=f.tmp[0],v=f.tmp[1];for(var g=0;g<f.keys.length;g+=2){var w=p[g>>>1];y=h.r28shl(y,w),v=h.r28shl(v,w),h.pc2(y,v,f.keys,g)}},u.prototype._update=function(f,d,y,v){var g=this._desState,w=h.readUInt32BE(f,d),_=h.readUInt32BE(f,d+4);h.ip(w,_,g.tmp,0),w=g.tmp[0],_=g.tmp[1],this.type==="encrypt"?this._encrypt(g,w,_,g.tmp,0):this._decrypt(g,w,_,g.tmp,0),w=g.tmp[0],_=g.tmp[1],h.writeUInt32BE(y,w,v),h.writeUInt32BE(y,_,v+4)},u.prototype._pad=function(f,d){if(this.padding===!1)return!1;for(var y=f.length-d,v=d;v<f.length;v++)f[v]=y;return!0},u.prototype._unpad=function(f){if(this.padding===!1)return f;for(var d=f[f.length-1],y=f.length-d;y<f.length;y++)l.equal(f[y],d);return f.slice(0,f.length-d)},u.prototype._encrypt=function(f,d,y,v,g){for(var w=d,_=y,k=0;k<f.keys.length;k+=2){var M=f.keys[k],L=f.keys[k+1];h.expand(_,f.tmp,0),M^=f.tmp[0],L^=f.tmp[1];var G=h.substitute(M,L),F=_;_=(w^h.permute(G))>>>0,w=F}h.rip(_,w,v,g)},u.prototype._decrypt=function(f,d,y,v,g){for(var w=y,_=d,k=f.keys.length-2;k>=0;k-=2){var M=f.keys[k],L=f.keys[k+1];h.expand(w,f.tmp,0),M^=f.tmp[0],L^=f.tmp[1];var G=h.substitute(M,L),F=w;w=(_^h.permute(G))>>>0,_=F}h.rip(w,_,v,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,i,c){var l=t("minimalistic-assert"),s=t("inherits"),h=t("./cipher"),a=t("./des");function n(p,f){l.equal(f.length,24,"Invalid key length");var d=f.slice(0,8),y=f.slice(8,16),v=f.slice(16,24);this.ciphers=p==="encrypt"?[a.create({type:"encrypt",key:d}),a.create({type:"decrypt",key:y}),a.create({type:"encrypt",key:v})]:[a.create({type:"decrypt",key:v}),a.create({type:"encrypt",key:y}),a.create({type:"decrypt",key:d})]}function u(p){h.call(this,p);var f=new n(this.type,this.options.key);this._edeState=f}s(u,h),i.exports=u,u.create=function(p){return new u(p)},u.prototype._update=function(p,f,d,y){var v=this._edeState;v.ciphers[0]._update(p,f,d,y),v.ciphers[1]._update(d,y,d,y),v.ciphers[2]._update(d,y,d,y)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,i,c){c.readUInt32BE=function(a,n){return(a[0+n]<<24|a[1+n]<<16|a[2+n]<<8|a[3+n])>>>0},c.writeUInt32BE=function(a,n,u){a[0+u]=n>>>24,a[1+u]=n>>>16&255,a[2+u]=n>>>8&255,a[3+u]=255&n},c.ip=function(a,n,u,p){for(var f=0,d=0,y=6;y>=0;y-=2){for(var v=0;v<=24;v+=8)f<<=1,f|=n>>>v+y&1;for(v=0;v<=24;v+=8)f<<=1,f|=a>>>v+y&1}for(y=6;y>=0;y-=2){for(v=1;v<=25;v+=8)d<<=1,d|=n>>>v+y&1;for(v=1;v<=25;v+=8)d<<=1,d|=a>>>v+y&1}u[p+0]=f>>>0,u[p+1]=d>>>0},c.rip=function(a,n,u,p){for(var f=0,d=0,y=0;y<4;y++)for(var v=24;v>=0;v-=8)f<<=1,f|=n>>>v+y&1,f<<=1,f|=a>>>v+y&1;for(y=4;y<8;y++)for(v=24;v>=0;v-=8)d<<=1,d|=n>>>v+y&1,d<<=1,d|=a>>>v+y&1;u[p+0]=f>>>0,u[p+1]=d>>>0},c.pc1=function(a,n,u,p){for(var f=0,d=0,y=7;y>=5;y--){for(var v=0;v<=24;v+=8)f<<=1,f|=n>>v+y&1;for(v=0;v<=24;v+=8)f<<=1,f|=a>>v+y&1}for(v=0;v<=24;v+=8)f<<=1,f|=n>>v+y&1;for(y=1;y<=3;y++){for(v=0;v<=24;v+=8)d<<=1,d|=n>>v+y&1;for(v=0;v<=24;v+=8)d<<=1,d|=a>>v+y&1}for(v=0;v<=24;v+=8)d<<=1,d|=a>>v+y&1;u[p+0]=f>>>0,u[p+1]=d>>>0},c.r28shl=function(a,n){return a<<n&268435455|a>>>28-n};var l=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];c.pc2=function(a,n,u,p){for(var f=0,d=0,y=l.length>>>1,v=0;v<y;v++)f<<=1,f|=a>>>l[v]&1;for(v=y;v<l.length;v++)d<<=1,d|=n>>>l[v]&1;u[p+0]=f>>>0,u[p+1]=d>>>0},c.expand=function(a,n,u){var p=0,f=0;p=(1&a)<<5|a>>>27;for(var d=23;d>=15;d-=4)p<<=6,p|=a>>>d&63;for(d=11;d>=3;d-=4)f|=a>>>d&63,f<<=6;f|=(31&a)<<1|a>>>31,n[u+0]=p>>>0,n[u+1]=f>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];c.substitute=function(a,n){for(var u=0,p=0;p<4;p++)u<<=4,u|=s[64*p+(a>>>18-6*p&63)];for(p=0;p<4;p++)u<<=4,u|=s[256+64*p+(n>>>18-6*p&63)];return u>>>0};var h=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];c.permute=function(a){for(var n=0,u=0;u<h.length;u++)n<<=1,n|=a>>>h[u]&1;return n>>>0},c.padSplit=function(a,n,u){for(var p=a.toString(2);p.length<n;)p="0"+p;for(var f=[],d=0;d<n;d+=u)f.push(p.slice(d,d+u));return f.join(" ")}},{}],400:[function(t,i,c){(function(l){(function(){var s=t("./lib/generatePrime"),h=t("./lib/primes.json"),a=t("./lib/dh"),n={binary:!0,hex:!0,base64:!0};c.DiffieHellmanGroup=c.createDiffieHellmanGroup=c.getDiffieHellman=function(u){var p=new l(h[u].prime,"hex"),f=new l(h[u].gen,"hex");return new a(p,f)},c.createDiffieHellman=c.DiffieHellman=function u(p,f,d,y){return l.isBuffer(f)||n[f]===void 0?u(p,"binary",f,d):(f=f||"binary",y=y||"binary",d=d||new l([2]),l.isBuffer(d)||(d=new l(d,y)),typeof p=="number"?new a(s(p,d),d,!0):(l.isBuffer(p)||(p=new l(p,f)),new a(p,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,i,c){(function(l){(function(){var s=t("bn.js"),h=new(t("miller-rabin")),a=new s(24),n=new s(11),u=new s(10),p=new s(3),f=new s(7),d=t("./generatePrime"),y=t("randombytes");function v(M,L){return L=L||"utf8",l.isBuffer(M)||(M=new l(M,L)),this._pub=new s(M),this}function g(M,L){return L=L||"utf8",l.isBuffer(M)||(M=new l(M,L)),this._priv=new s(M),this}i.exports=_;var w={};function _(M,L,G){this.setGenerator(L),this.__prime=new s(M),this._prime=s.mont(this.__prime),this._primeLen=M.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,G?(this.setPublicKey=v,this.setPrivateKey=g):this._primeCode=8}function k(M,L){var G=new l(M.toArray());return L?G.toString(L):G}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(M,L){var G=L.toString("hex"),F=[G,M.toString(16)].join("_");if(F in w)return w[F];var j,U=0;if(M.isEven()||!d.simpleSieve||!d.fermatTest(M)||!h.test(M))return U+=1,U+=G==="02"||G==="05"?8:4,w[F]=U,U;switch(h.test(M.shrn(1))||(U+=2),G){case"02":M.mod(a).cmp(n)&&(U+=8);break;case"05":(j=M.mod(u)).cmp(p)&&j.cmp(f)&&(U+=8);break;default:U+=4}return w[F]=U,U})(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new s(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(M){var L=(M=(M=new s(M)).toRed(this._prime)).redPow(this._priv).fromRed(),G=new l(L.toArray()),F=this.getPrime();if(G.length<F.length){var j=new l(F.length-G.length);j.fill(0),G=l.concat([j,G])}return G},_.prototype.getPublicKey=function(M){return k(this._pub,M)},_.prototype.getPrivateKey=function(M){return k(this._priv,M)},_.prototype.getPrime=function(M){return k(this.__prime,M)},_.prototype.getGenerator=function(M){return k(this._gen,M)},_.prototype.setGenerator=function(M,L){return L=L||"utf8",l.isBuffer(M)||(M=new l(M,L)),this.__gen=M,this._gen=new s(M),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,i,c){var l=t("randombytes");i.exports=M,M.simpleSieve=_,M.fermatTest=k;var s=t("bn.js"),h=new s(24),a=new(t("miller-rabin")),n=new s(1),u=new s(2),p=new s(5),f=(new s(16),new s(8),new s(10)),d=new s(3),y=(new s(7),new s(11)),v=new s(4),g=(new s(12),null);function w(){if(g!==null)return g;var L=[];L[0]=2;for(var G=1,F=3;F<1048576;F+=2){for(var j=Math.ceil(Math.sqrt(F)),U=0;U<G&&L[U]<=j&&F%L[U]!=0;U++);G!==U&&L[U]<=j||(L[G++]=F)}return g=L,L}function _(L){for(var G=w(),F=0;F<G.length;F++)if(L.modn(G[F])===0)return L.cmpn(G[F])===0;return!0}function k(L){var G=s.mont(L);return u.toRed(G).redPow(L.subn(1)).fromRed().cmpn(1)===0}function M(L,G){if(L<16)return new s(G===2||G===5?[140,123]:[140,39]);var F,j;for(G=new s(G);;){for(F=new s(l(Math.ceil(L/8)));F.bitLength()>L;)F.ishrn(1);if(F.isEven()&&F.iadd(n),F.testn(1)||F.iadd(u),G.cmp(u)){if(!G.cmp(p))for(;F.mod(f).cmp(d);)F.iadd(v)}else for(;F.mod(h).cmp(y);)F.iadd(v);if(_(j=F.shrn(1))&&_(F)&&k(j)&&k(F)&&a.test(j)&&a.test(F))return F}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,i,c){i.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],405:[function(t,i,c){var l=c;l.version=t("../package.json").version,l.utils=t("./elliptic/utils"),l.rand=t("brorand"),l.curve=t("./elliptic/curve"),l.curves=t("./elliptic/curves"),l.ec=t("./elliptic/ec"),l.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,i,c){var l=t("bn.js"),s=t("../utils"),h=s.getNAF,a=s.getJSF,n=s.assert;function u(f,d){this.type=f,this.p=new l(d.p,16),this.red=d.prime?l.red(d.prime):l.mont(this.p),this.zero=new l(0).toRed(this.red),this.one=new l(1).toRed(this.red),this.two=new l(2).toRed(this.red),this.n=d.n&&new l(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function p(f,d){this.curve=f,this.type=d,this.precomputed=null}i.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(f,d){n(f.precomputed);var y=f._getDoubles(),v=h(d,1,this._bitLength),g=(1<<y.step+1)-(y.step%2==0?2:1);g/=3;var w,_,k=[];for(w=0;w<v.length;w+=y.step){_=0;for(var M=w+y.step-1;M>=w;M--)_=(_<<1)+v[M];k.push(_)}for(var L=this.jpoint(null,null,null),G=this.jpoint(null,null,null),F=g;F>0;F--){for(w=0;w<k.length;w++)(_=k[w])===F?G=G.mixedAdd(y.points[w]):_===-F&&(G=G.mixedAdd(y.points[w].neg()));L=L.add(G)}return L.toP()},u.prototype._wnafMul=function(f,d){var y=4,v=f._getNAFPoints(y);y=v.wnd;for(var g=v.points,w=h(d,y,this._bitLength),_=this.jpoint(null,null,null),k=w.length-1;k>=0;k--){for(var M=0;k>=0&&w[k]===0;k--)M++;if(k>=0&&M++,_=_.dblp(M),k<0)break;var L=w[k];n(L!==0),_=f.type==="affine"?L>0?_.mixedAdd(g[L-1>>1]):_.mixedAdd(g[-L-1>>1].neg()):L>0?_.add(g[L-1>>1]):_.add(g[-L-1>>1].neg())}return f.type==="affine"?_.toP():_},u.prototype._wnafMulAdd=function(f,d,y,v,g){var w,_,k,M=this._wnafT1,L=this._wnafT2,G=this._wnafT3,F=0;for(w=0;w<v;w++){var j=(k=d[w])._getNAFPoints(f);M[w]=j.wnd,L[w]=j.points}for(w=v-1;w>=1;w-=2){var U=w-1,q=w;if(M[U]===1&&M[q]===1){var X=[d[U],null,null,d[q]];d[U].y.cmp(d[q].y)===0?(X[1]=d[U].add(d[q]),X[2]=d[U].toJ().mixedAdd(d[q].neg())):d[U].y.cmp(d[q].y.redNeg())===0?(X[1]=d[U].toJ().mixedAdd(d[q]),X[2]=d[U].add(d[q].neg())):(X[1]=d[U].toJ().mixedAdd(d[q]),X[2]=d[U].toJ().mixedAdd(d[q].neg()));var $=[-3,-1,-5,-7,0,7,5,1,3],R=a(y[U],y[q]);for(F=Math.max(R[0].length,F),G[U]=new Array(F),G[q]=new Array(F),_=0;_<F;_++){var P=0|R[0][_],C=0|R[1][_];G[U][_]=$[3*(P+1)+(C+1)],G[q][_]=0,L[U]=X}}else G[U]=h(y[U],M[U],this._bitLength),G[q]=h(y[q],M[q],this._bitLength),F=Math.max(G[U].length,F),F=Math.max(G[q].length,F)}var x=this.jpoint(null,null,null),S=this._wnafT4;for(w=F;w>=0;w--){for(var T=0;w>=0;){var E=!0;for(_=0;_<v;_++)S[_]=0|G[_][w],S[_]!==0&&(E=!1);if(!E)break;T++,w--}if(w>=0&&T++,x=x.dblp(T),w<0)break;for(_=0;_<v;_++){var N=S[_];N!==0&&(N>0?k=L[_][N-1>>1]:N<0&&(k=L[_][-N-1>>1].neg()),x=k.type==="affine"?x.mixedAdd(k):x.add(k))}}for(w=0;w<v;w++)L[w]=null;return g?x:x.toP()},u.BasePoint=p,p.prototype.eq=function(){throw new Error("Not implemented")},p.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(f,d){f=s.toArray(f,d);var y=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*y)return f[0]===6?n(f[f.length-1]%2==0):f[0]===7&&n(f[f.length-1]%2==1),this.point(f.slice(1,1+y),f.slice(1+y,1+2*y));if((f[0]===2||f[0]===3)&&f.length-1===y)return this.pointFromX(f.slice(1,1+y),f[0]===3);throw new Error("Unknown point format")},p.prototype.encodeCompressed=function(f){return this.encode(f,!0)},p.prototype._encode=function(f){var d=this.curve.p.byteLength(),y=this.getX().toArray("be",d);return f?[this.getY().isEven()?2:3].concat(y):[4].concat(y,this.getY().toArray("be",d))},p.prototype.encode=function(f,d){return s.encode(this._encode(d),f)},p.prototype.precompute=function(f){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,f),d.beta=this._getBeta(),this.precomputed=d,this},p.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((f.bitLength()+1)/d.step)},p.prototype._getDoubles=function(f,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var y=[this],v=this,g=0;g<d;g+=f){for(var w=0;w<f;w++)v=v.dbl();y.push(v)}return{step:f,points:y}},p.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],y=(1<<f)-1,v=y===1?null:this.dbl(),g=1;g<y;g++)d[g]=d[g-1].add(v);return{wnd:f,points:d}},p.prototype._getBeta=function(){return null},p.prototype.dblp=function(f){for(var d=this,y=0;y<f;y++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,i,c){var l=t("../utils"),s=t("bn.js"),h=t("inherits"),a=t("./base"),n=l.assert;function u(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",f),this.a=new s(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),n(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function p(f,d,y,v,g){a.BasePoint.call(this,f,"projective"),d===null&&y===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(d,16),this.y=new s(y,16),this.z=v?new s(v,16):this.curve.one,this.t=g&&new s(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}h(u,a),i.exports=u,u.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},u.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},u.prototype.jpoint=function(f,d,y,v){return this.point(f,d,y,v)},u.prototype.pointFromX=function(f,d){(f=new s(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr(),v=this.c2.redSub(this.a.redMul(y)),g=this.one.redSub(this.c2.redMul(this.d).redMul(y)),w=v.redMul(g.redInvm()),_=w.redSqrt();if(_.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var k=_.fromRed().isOdd();return(d&&!k||!d&&k)&&(_=_.redNeg()),this.point(f,_)},u.prototype.pointFromY=function(f,d){(f=new s(f,16)).red||(f=f.toRed(this.red));var y=f.redSqr(),v=y.redSub(this.c2),g=y.redMul(this.d).redMul(this.c2).redSub(this.a),w=v.redMul(g.redInvm());if(w.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,f)}var _=w.redSqrt();if(_.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return _.fromRed().isOdd()!==d&&(_=_.redNeg()),this.point(_,f)},u.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var d=f.x.redSqr(),y=f.y.redSqr(),v=d.redMul(this.a).redAdd(y),g=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(y)));return v.cmp(g)===0},h(p,a.BasePoint),u.prototype.pointFromJSON=function(f){return p.fromJSON(this,f)},u.prototype.point=function(f,d,y,v){return new p(this,f,d,y,v)},p.fromJSON=function(f,d){return new p(f,d[0],d[1],d[2])},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},p.prototype._extDbl=function(){var f=this.x.redSqr(),d=this.y.redSqr(),y=this.z.redSqr();y=y.redIAdd(y);var v=this.curve._mulA(f),g=this.x.redAdd(this.y).redSqr().redISub(f).redISub(d),w=v.redAdd(d),_=w.redSub(y),k=v.redSub(d),M=g.redMul(_),L=w.redMul(k),G=g.redMul(k),F=_.redMul(w);return this.curve.point(M,L,F,G)},p.prototype._projDbl=function(){var f,d,y,v,g,w,_=this.x.redAdd(this.y).redSqr(),k=this.x.redSqr(),M=this.y.redSqr();if(this.curve.twisted){var L=(v=this.curve._mulA(k)).redAdd(M);this.zOne?(f=_.redSub(k).redSub(M).redMul(L.redSub(this.curve.two)),d=L.redMul(v.redSub(M)),y=L.redSqr().redSub(L).redSub(L)):(g=this.z.redSqr(),w=L.redSub(g).redISub(g),f=_.redSub(k).redISub(M).redMul(w),d=L.redMul(v.redSub(M)),y=L.redMul(w))}else v=k.redAdd(M),g=this.curve._mulC(this.z).redSqr(),w=v.redSub(g).redSub(g),f=this.curve._mulC(_.redISub(v)).redMul(w),d=this.curve._mulC(v).redMul(k.redISub(M)),y=v.redMul(w);return this.curve.point(f,d,y)},p.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},p.prototype._extAdd=function(f){var d=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),y=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),v=this.t.redMul(this.curve.dd).redMul(f.t),g=this.z.redMul(f.z.redAdd(f.z)),w=y.redSub(d),_=g.redSub(v),k=g.redAdd(v),M=y.redAdd(d),L=w.redMul(_),G=k.redMul(M),F=w.redMul(M),j=_.redMul(k);return this.curve.point(L,G,j,F)},p.prototype._projAdd=function(f){var d,y,v=this.z.redMul(f.z),g=v.redSqr(),w=this.x.redMul(f.x),_=this.y.redMul(f.y),k=this.curve.d.redMul(w).redMul(_),M=g.redSub(k),L=g.redAdd(k),G=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(w).redISub(_),F=v.redMul(M).redMul(G);return this.curve.twisted?(d=v.redMul(L).redMul(_.redSub(this.curve._mulA(w))),y=M.redMul(L)):(d=v.redMul(L).redMul(_.redSub(w)),y=this.curve._mulC(M).redMul(L)),this.curve.point(F,d,y)},p.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},p.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},p.prototype.mulAdd=function(f,d,y){return this.curve._wnafMulAdd(1,[this,d],[f,y],2,!1)},p.prototype.jmulAdd=function(f,d,y){return this.curve._wnafMulAdd(1,[this,d],[f,y],2,!0)},p.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},p.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},p.prototype.getX=function(){return this.normalize(),this.x.fromRed()},p.prototype.getY=function(){return this.normalize(),this.y.fromRed()},p.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},p.prototype.eqXToP=function(f){var d=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var y=f.clone(),v=this.curve.redN.redMul(this.z);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(v),this.x.cmp(d)===0)return!0}},p.prototype.toP=p.prototype.normalize,p.prototype.mixedAdd=p.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,i,c){var l=c;l.base=t("./base"),l.short=t("./short"),l.mont=t("./mont"),l.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,i,c){var l=t("bn.js"),s=t("inherits"),h=t("./base"),a=t("../utils");function n(p){h.call(this,"mont",p),this.a=new l(p.a,16).toRed(this.red),this.b=new l(p.b,16).toRed(this.red),this.i4=new l(4).toRed(this.red).redInvm(),this.two=new l(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(p,f,d){h.BasePoint.call(this,p,"projective"),f===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new l(f,16),this.z=new l(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(n,h),i.exports=n,n.prototype.validate=function(p){var f=p.normalize().x,d=f.redSqr(),y=d.redMul(f).redAdd(d.redMul(this.a)).redAdd(f);return y.redSqrt().redSqr().cmp(y)===0},s(u,h.BasePoint),n.prototype.decodePoint=function(p,f){return this.point(a.toArray(p,f),1)},n.prototype.point=function(p,f){return new u(this,p,f)},n.prototype.pointFromJSON=function(p){return u.fromJSON(this,p)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(p,f){return new u(p,f[0],f[1]||p.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var p=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),d=p.redSub(f),y=p.redMul(f),v=d.redMul(f.redAdd(this.curve.a24.redMul(d)));return this.curve.point(y,v)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(p,f){var d=this.x.redAdd(this.z),y=this.x.redSub(this.z),v=p.x.redAdd(p.z),g=p.x.redSub(p.z).redMul(d),w=v.redMul(y),_=f.z.redMul(g.redAdd(w).redSqr()),k=f.x.redMul(g.redISub(w).redSqr());return this.curve.point(_,k)},u.prototype.mul=function(p){for(var f=p.clone(),d=this,y=this.curve.point(null,null),v=[];f.cmpn(0)!==0;f.iushrn(1))v.push(f.andln(1));for(var g=v.length-1;g>=0;g--)v[g]===0?(d=d.diffAdd(y,this),y=y.dbl()):(y=d.diffAdd(y,this),d=d.dbl());return y},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(p){return this.getX().cmp(p.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,i,c){var l=t("../utils"),s=t("bn.js"),h=t("inherits"),a=t("./base"),n=l.assert;function u(d){a.call(this,"short",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function p(d,y,v,g){a.BasePoint.call(this,d,"affine"),y===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(y,16),this.y=new s(v,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(d,y,v,g){a.BasePoint.call(this,d,"jacobian"),y===null&&v===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(y,16),this.y=new s(v,16),this.z=new s(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}h(u,a),i.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var y,v;if(d.beta)y=new s(d.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);y=(y=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(d.lambda)v=new s(d.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(y))===0?v=w[0]:(v=w[1],n(this.g.mul(v).x.cmp(this.g.x.redMul(y))===0))}return{beta:y,lambda:v,basis:d.basis?d.basis.map((function(_){return{a:new s(_.a,16),b:new s(_.b,16)}})):this._getEndoBasis(v)}}},u.prototype._getEndoRoots=function(d){var y=d===this.p?this.red:s.mont(d),v=new s(2).toRed(y).redInvm(),g=v.redNeg(),w=new s(3).toRed(y).redNeg().redSqrt().redMul(v);return[g.redAdd(w).fromRed(),g.redSub(w).fromRed()]},u.prototype._getEndoBasis=function(d){for(var y,v,g,w,_,k,M,L,G,F=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=d,U=this.n.clone(),q=new s(1),X=new s(0),$=new s(0),R=new s(1),P=0;j.cmpn(0)!==0;){var C=U.div(j);L=U.sub(C.mul(j)),G=$.sub(C.mul(q));var x=R.sub(C.mul(X));if(!g&&L.cmp(F)<0)y=M.neg(),v=q,g=L.neg(),w=G;else if(g&&++P==2)break;M=L,U=j,j=L,$=q,q=G,R=X,X=x}_=L.neg(),k=G;var S=g.sqr().add(w.sqr());return _.sqr().add(k.sqr()).cmp(S)>=0&&(_=y,k=v),g.negative&&(g=g.neg(),w=w.neg()),_.negative&&(_=_.neg(),k=k.neg()),[{a:g,b:w},{a:_,b:k}]},u.prototype._endoSplit=function(d){var y=this.endo.basis,v=y[0],g=y[1],w=g.b.mul(d).divRound(this.n),_=v.b.neg().mul(d).divRound(this.n),k=w.mul(v.a),M=_.mul(g.a),L=w.mul(v.b),G=_.mul(g.b);return{k1:d.sub(k).sub(M),k2:L.add(G).neg()}},u.prototype.pointFromX=function(d,y){(d=new s(d,16)).red||(d=d.toRed(this.red));var v=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),g=v.redSqrt();if(g.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var w=g.fromRed().isOdd();return(y&&!w||!y&&w)&&(g=g.redNeg()),this.point(d,g)},u.prototype.validate=function(d){if(d.inf)return!0;var y=d.x,v=d.y,g=this.a.redMul(y),w=y.redSqr().redMul(y).redIAdd(g).redIAdd(this.b);return v.redSqr().redISub(w).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,y,v){for(var g=this._endoWnafT1,w=this._endoWnafT2,_=0;_<d.length;_++){var k=this._endoSplit(y[_]),M=d[_],L=M._getBeta();k.k1.negative&&(k.k1.ineg(),M=M.neg(!0)),k.k2.negative&&(k.k2.ineg(),L=L.neg(!0)),g[2*_]=M,g[2*_+1]=L,w[2*_]=k.k1,w[2*_+1]=k.k2}for(var G=this._wnafMulAdd(1,g,w,2*_,v),F=0;F<2*_;F++)g[F]=null,w[F]=null;return G},h(p,a.BasePoint),u.prototype.point=function(d,y,v){return new p(this,d,y,v)},u.prototype.pointFromJSON=function(d,y){return p.fromJSON(this,d,y)},p.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var y=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var v=this.curve,g=function(w){return v.point(w.x.redMul(v.endo.beta),w.y)};d.beta=y,y.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(g)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(g)}}}return y}},p.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},p.fromJSON=function(d,y,v){typeof y=="string"&&(y=JSON.parse(y));var g=d.point(y[0],y[1],v);if(!y[2])return g;function w(k){return d.point(k[0],k[1],v)}var _=y[2];return g.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[g].concat(_.doubles.points.map(w))},naf:_.naf&&{wnd:_.naf.wnd,points:[g].concat(_.naf.points.map(w))}},g},p.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},p.prototype.isInfinity=function(){return this.inf},p.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var y=this.y.redSub(d.y);y.cmpn(0)!==0&&(y=y.redMul(this.x.redSub(d.x).redInvm()));var v=y.redSqr().redISub(this.x).redISub(d.x),g=y.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,g)},p.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var y=this.curve.a,v=this.x.redSqr(),g=d.redInvm(),w=v.redAdd(v).redIAdd(v).redIAdd(y).redMul(g),_=w.redSqr().redISub(this.x.redAdd(this.x)),k=w.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,k)},p.prototype.getX=function(){return this.x.fromRed()},p.prototype.getY=function(){return this.y.fromRed()},p.prototype.mul=function(d){return d=new s(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},p.prototype.mulAdd=function(d,y,v){var g=[this,y],w=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(g,w):this.curve._wnafMulAdd(1,g,w,2)},p.prototype.jmulAdd=function(d,y,v){var g=[this,y],w=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(g,w,!0):this.curve._wnafMulAdd(1,g,w,2,!0)},p.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},p.prototype.neg=function(d){if(this.inf)return this;var y=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var v=this.precomputed,g=function(w){return w.neg()};y.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(g)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(g)}}}return y},p.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},h(f,a.BasePoint),u.prototype.jpoint=function(d,y,v){return new f(this,d,y,v)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),y=d.redSqr(),v=this.x.redMul(y),g=this.y.redMul(y).redMul(d);return this.curve.point(v,g)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var y=d.z.redSqr(),v=this.z.redSqr(),g=this.x.redMul(y),w=d.x.redMul(v),_=this.y.redMul(y.redMul(d.z)),k=d.y.redMul(v.redMul(this.z)),M=g.redSub(w),L=_.redSub(k);if(M.cmpn(0)===0)return L.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var G=M.redSqr(),F=G.redMul(M),j=g.redMul(G),U=L.redSqr().redIAdd(F).redISub(j).redISub(j),q=L.redMul(j.redISub(U)).redISub(_.redMul(F)),X=this.z.redMul(d.z).redMul(M);return this.curve.jpoint(U,q,X)},f.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var y=this.z.redSqr(),v=this.x,g=d.x.redMul(y),w=this.y,_=d.y.redMul(y).redMul(this.z),k=v.redSub(g),M=w.redSub(_);if(k.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=k.redSqr(),G=L.redMul(k),F=v.redMul(L),j=M.redSqr().redIAdd(G).redISub(F).redISub(F),U=M.redMul(F.redISub(j)).redISub(w.redMul(G)),q=this.z.redMul(k);return this.curve.jpoint(j,U,q)},f.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var y;if(this.curve.zeroA||this.curve.threeA){var v=this;for(y=0;y<d;y++)v=v.dbl();return v}var g=this.curve.a,w=this.curve.tinv,_=this.x,k=this.y,M=this.z,L=M.redSqr().redSqr(),G=k.redAdd(k);for(y=0;y<d;y++){var F=_.redSqr(),j=G.redSqr(),U=j.redSqr(),q=F.redAdd(F).redIAdd(F).redIAdd(g.redMul(L)),X=_.redMul(j),$=q.redSqr().redISub(X.redAdd(X)),R=X.redISub($),P=q.redMul(R);P=P.redIAdd(P).redISub(U);var C=G.redMul(M);y+1<d&&(L=L.redMul(U)),_=$,M=C,G=P}return this.curve.jpoint(_,G.redMul(w),M)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var d,y,v;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),k=this.x.redAdd(w).redSqr().redISub(g).redISub(_);k=k.redIAdd(k);var M=g.redAdd(g).redIAdd(g),L=M.redSqr().redISub(k).redISub(k),G=_.redIAdd(_);G=(G=G.redIAdd(G)).redIAdd(G),d=L,y=M.redMul(k.redISub(L)).redISub(G),v=this.y.redAdd(this.y)}else{var F=this.x.redSqr(),j=this.y.redSqr(),U=j.redSqr(),q=this.x.redAdd(j).redSqr().redISub(F).redISub(U);q=q.redIAdd(q);var X=F.redAdd(F).redIAdd(F),$=X.redSqr(),R=U.redIAdd(U);R=(R=R.redIAdd(R)).redIAdd(R),d=$.redISub(q).redISub(q),y=X.redMul(q.redISub(d)).redISub(R),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(d,y,v)},f.prototype._threeDbl=function(){var d,y,v;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),k=this.x.redAdd(w).redSqr().redISub(g).redISub(_);k=k.redIAdd(k);var M=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),L=M.redSqr().redISub(k).redISub(k);d=L;var G=_.redIAdd(_);G=(G=G.redIAdd(G)).redIAdd(G),y=M.redMul(k.redISub(L)).redISub(G),v=this.y.redAdd(this.y)}else{var F=this.z.redSqr(),j=this.y.redSqr(),U=this.x.redMul(j),q=this.x.redSub(F).redMul(this.x.redAdd(F));q=q.redAdd(q).redIAdd(q);var X=U.redIAdd(U),$=(X=X.redIAdd(X)).redAdd(X);d=q.redSqr().redISub($),v=this.y.redAdd(this.z).redSqr().redISub(j).redISub(F);var R=j.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R),y=q.redMul(X.redISub(d)).redISub(R)}return this.curve.jpoint(d,y,v)},f.prototype._dbl=function(){var d=this.curve.a,y=this.x,v=this.y,g=this.z,w=g.redSqr().redSqr(),_=y.redSqr(),k=v.redSqr(),M=_.redAdd(_).redIAdd(_).redIAdd(d.redMul(w)),L=y.redAdd(y),G=(L=L.redIAdd(L)).redMul(k),F=M.redSqr().redISub(G.redAdd(G)),j=G.redISub(F),U=k.redSqr();U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var q=M.redMul(j).redISub(U),X=v.redAdd(v).redMul(g);return this.curve.jpoint(F,q,X)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),y=this.y.redSqr(),v=this.z.redSqr(),g=y.redSqr(),w=d.redAdd(d).redIAdd(d),_=w.redSqr(),k=this.x.redAdd(y).redSqr().redISub(d).redISub(g),M=(k=(k=(k=k.redIAdd(k)).redAdd(k).redIAdd(k)).redISub(_)).redSqr(),L=g.redIAdd(g);L=(L=(L=L.redIAdd(L)).redIAdd(L)).redIAdd(L);var G=w.redIAdd(k).redSqr().redISub(_).redISub(M).redISub(L),F=y.redMul(G);F=(F=F.redIAdd(F)).redIAdd(F);var j=this.x.redMul(M).redISub(F);j=(j=j.redIAdd(j)).redIAdd(j);var U=this.y.redMul(G.redMul(L.redISub(G)).redISub(k.redMul(M)));U=(U=(U=U.redIAdd(U)).redIAdd(U)).redIAdd(U);var q=this.z.redAdd(k).redSqr().redISub(v).redISub(M);return this.curve.jpoint(j,U,q)},f.prototype.mul=function(d,y){return d=new s(d,y),this.curve._wnafMul(this,d)},f.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var y=this.z.redSqr(),v=d.z.redSqr();if(this.x.redMul(v).redISub(d.x.redMul(y)).cmpn(0)!==0)return!1;var g=y.redMul(this.z),w=v.redMul(d.z);return this.y.redMul(w).redISub(d.y.redMul(g)).cmpn(0)===0},f.prototype.eqXToP=function(d){var y=this.z.redSqr(),v=d.toRed(this.curve.red).redMul(y);if(this.x.cmp(v)===0)return!0;for(var g=d.clone(),w=this.curve.redN.redMul(y);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(w),this.x.cmp(v)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,i,c){var l,s=c,h=t("hash.js"),a=t("./curve"),n=t("./utils").assert;function u(f){f.type==="short"?this.curve=new a.short(f):f.type==="edwards"?this.curve=new a.edwards(f):this.curve=new a.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function p(f,d){Object.defineProperty(s,f,{configurable:!0,enumerable:!0,get:function(){var y=new u(d);return Object.defineProperty(s,f,{configurable:!0,enumerable:!0,value:y}),y}})}s.PresetCurve=u,p("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:h.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),p("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:h.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),p("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:h.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),p("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:h.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),p("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:h.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),p("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["9"]}),p("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{l=t("./precomputed/secp256k1")}catch{l=void 0}p("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:h.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,i,c){var l=t("bn.js"),s=t("hmac-drbg"),h=t("../utils"),a=t("../curves"),n=t("brorand"),u=h.assert,p=t("./key"),f=t("./signature");function d(y){if(!(this instanceof d))return new d(y);typeof y=="string"&&(u(Object.prototype.hasOwnProperty.call(a,y),"Unknown curve "+y),y=a[y]),y instanceof a.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}i.exports=d,d.prototype.keyPair=function(y){return new p(this,y)},d.prototype.keyFromPrivate=function(y,v){return p.fromPrivate(this,y,v)},d.prototype.keyFromPublic=function(y,v){return p.fromPublic(this,y,v)},d.prototype.genKeyPair=function(y){y||(y={});for(var v=new s({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||n(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),w=this.n.sub(new l(2));;){var _=new l(v.generate(g));if(!(_.cmp(w)>0))return _.iaddn(1),this.keyFromPrivate(_)}},d.prototype._truncateToN=function(y,v){var g=8*y.byteLength()-this.n.bitLength();return g>0&&(y=y.ushrn(g)),!v&&y.cmp(this.n)>=0?y.sub(this.n):y},d.prototype.sign=function(y,v,g,w){typeof g=="object"&&(w=g,g=null),w||(w={}),v=this.keyFromPrivate(v,g),y=this._truncateToN(new l(y,16));for(var _=this.n.byteLength(),k=v.getPrivate().toArray("be",_),M=y.toArray("be",_),L=new s({hash:this.hash,entropy:k,nonce:M,pers:w.pers,persEnc:w.persEnc||"utf8"}),G=this.n.sub(new l(1)),F=0;;F++){var j=w.k?w.k(F):new l(L.generate(this.n.byteLength()));if(!((j=this._truncateToN(j,!0)).cmpn(1)<=0||j.cmp(G)>=0)){var U=this.g.mul(j);if(!U.isInfinity()){var q=U.getX(),X=q.umod(this.n);if(X.cmpn(0)!==0){var $=j.invm(this.n).mul(X.mul(v.getPrivate()).iadd(y));if(($=$.umod(this.n)).cmpn(0)!==0){var R=(U.getY().isOdd()?1:0)|(q.cmp(X)!==0?2:0);return w.canonical&&$.cmp(this.nh)>0&&($=this.n.sub($),R^=1),new f({r:X,s:$,recoveryParam:R})}}}}}},d.prototype.verify=function(y,v,g,w){y=this._truncateToN(new l(y,16)),g=this.keyFromPublic(g,w);var _=(v=new f(v,"hex")).r,k=v.s;if(_.cmpn(1)<0||_.cmp(this.n)>=0||k.cmpn(1)<0||k.cmp(this.n)>=0)return!1;var M,L=k.invm(this.n),G=L.mul(y).umod(this.n),F=L.mul(_).umod(this.n);return this.curve._maxwellTrick?!(M=this.g.jmulAdd(G,g.getPublic(),F)).isInfinity()&&M.eqXToP(_):!(M=this.g.mulAdd(G,g.getPublic(),F)).isInfinity()&&M.getX().umod(this.n).cmp(_)===0},d.prototype.recoverPubKey=function(y,v,g,w){u((3&g)===g,"The recovery param is more than two bits"),v=new f(v,w);var _=this.n,k=new l(y),M=v.r,L=v.s,G=1&g,F=g>>1;if(M.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");M=F?this.curve.pointFromX(M.add(this.curve.n),G):this.curve.pointFromX(M,G);var j=v.r.invm(_),U=_.sub(k).mul(j).umod(_),q=L.mul(j).umod(_);return this.g.mulAdd(U,M,q)},d.prototype.getKeyRecoveryParam=function(y,v,g,w){if((v=new f(v,w)).recoveryParam!==null)return v.recoveryParam;for(var _=0;_<4;_++){var k;try{k=this.recoverPubKey(y,v,_)}catch{continue}if(k.eq(g))return _}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,i,c){var l=t("bn.js"),s=t("../utils").assert;function h(a,n){this.ec=a,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}i.exports=h,h.fromPublic=function(a,n,u){return n instanceof h?n:new h(a,{pub:n,pubEnc:u})},h.fromPrivate=function(a,n,u){return n instanceof h?n:new h(a,{priv:n,privEnc:u})},h.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},h.prototype.getPublic=function(a,n){return typeof a=="string"&&(n=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,a):this.pub},h.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},h.prototype._importPrivate=function(a,n){this.priv=new l(a,n||16),this.priv=this.priv.umod(this.ec.curve.n)},h.prototype._importPublic=function(a,n){if(a.x||a.y)return this.ec.curve.type==="mont"?s(a.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(a.x&&a.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(a.x,a.y));this.pub=this.ec.curve.decodePoint(a,n)},h.prototype.derive=function(a){return a.validate()||s(a.validate(),"public point not validated"),a.mul(this.priv).getX()},h.prototype.sign=function(a,n,u){return this.ec.sign(a,this,n,u)},h.prototype.verify=function(a,n){return this.ec.verify(a,n,this)},h.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,i,c){var l=t("bn.js"),s=t("../utils"),h=s.assert;function a(d,y){if(d instanceof a)return d;this._importDER(d,y)||(h(d.r&&d.s,"Signature without r or s"),this.r=new l(d.r,16),this.s=new l(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function n(){this.place=0}function u(d,y){var v=d[y.place++];if(!(128&v))return v;var g=15&v;if(g===0||g>4)return!1;for(var w=0,_=0,k=y.place;_<g;_++,k++)w<<=8,w|=d[k],w>>>=0;return!(w<=127)&&(y.place=k,w)}function p(d){for(var y=0,v=d.length-1;!d[y]&&!(128&d[y+1])&&y<v;)y++;return y===0?d:d.slice(y)}function f(d,y){if(y<128)d.push(y);else{var v=1+(Math.log(y)/Math.LN2>>>3);for(d.push(128|v);--v;)d.push(y>>>(v<<3)&255);d.push(y)}}i.exports=a,a.prototype._importDER=function(d,y){d=s.toArray(d,y);var v=new n;if(d[v.place++]!==48)return!1;var g=u(d,v);if(g===!1||g+v.place!==d.length||d[v.place++]!==2)return!1;var w=u(d,v);if(w===!1)return!1;var _=d.slice(v.place,w+v.place);if(v.place+=w,d[v.place++]!==2)return!1;var k=u(d,v);if(k===!1||d.length!==k+v.place)return!1;var M=d.slice(v.place,k+v.place);if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}if(M[0]===0){if(!(128&M[1]))return!1;M=M.slice(1)}return this.r=new l(_),this.s=new l(M),this.recoveryParam=null,!0},a.prototype.toDER=function(d){var y=this.r.toArray(),v=this.s.toArray();for(128&y[0]&&(y=[0].concat(y)),128&v[0]&&(v=[0].concat(v)),y=p(y),v=p(v);!(v[0]||128&v[1]);)v=v.slice(1);var g=[2];f(g,y.length),(g=g.concat(y)).push(2),f(g,v.length);var w=g.concat(v),_=[48];return f(_,w.length),_=_.concat(w),s.encode(_,d)}},{"../utils":419,"bn.js":420}],415:[function(t,i,c){var l=t("hash.js"),s=t("../curves"),h=t("../utils"),a=h.assert,n=h.parseBytes,u=t("./key"),p=t("./signature");function f(d){if(a(d==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(d);d=s[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=l.sha512}i.exports=f,f.prototype.sign=function(d,y){d=n(d);var v=this.keyFromSecret(y),g=this.hashInt(v.messagePrefix(),d),w=this.g.mul(g),_=this.encodePoint(w),k=this.hashInt(_,v.pubBytes(),d).mul(v.priv()),M=g.add(k).umod(this.curve.n);return this.makeSignature({R:w,S:M,Rencoded:_})},f.prototype.verify=function(d,y,v){d=n(d),y=this.makeSignature(y);var g=this.keyFromPublic(v),w=this.hashInt(y.Rencoded(),g.pubBytes(),d),_=this.g.mul(y.S());return y.R().add(g.pub().mul(w)).eq(_)},f.prototype.hashInt=function(){for(var d=this.hash(),y=0;y<arguments.length;y++)d.update(arguments[y]);return h.intFromLE(d.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},f.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},f.prototype.makeSignature=function(d){return d instanceof p?d:new p(this,d)},f.prototype.encodePoint=function(d){var y=d.getY().toArray("le",this.encodingLength);return y[this.encodingLength-1]|=d.getX().isOdd()?128:0,y},f.prototype.decodePoint=function(d){var y=(d=h.parseBytes(d)).length-1,v=d.slice(0,y).concat(-129&d[y]),g=(128&d[y])!=0,w=h.intFromLE(v);return this.curve.pointFromY(w,g)},f.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(d){return h.intFromLE(d)},f.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,i,c){var l=t("../utils"),s=l.assert,h=l.parseBytes,a=l.cachedProperty;function n(u,p){this.eddsa=u,this._secret=h(p.secret),u.isPoint(p.pub)?this._pub=p.pub:this._pubBytes=h(p.pub)}n.fromPublic=function(u,p){return p instanceof n?p:new n(u,{pub:p})},n.fromSecret=function(u,p){return p instanceof n?p:new n(u,{secret:p})},n.prototype.secret=function(){return this._secret},a(n,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(n,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(n,"privBytes",(function(){var u=this.eddsa,p=this.hash(),f=u.encodingLength-1,d=p.slice(0,u.encodingLength);return d[0]&=248,d[f]&=127,d[f]|=64,d})),a(n,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(n,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(n,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),n.prototype.sign=function(u){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},n.prototype.verify=function(u,p){return this.eddsa.verify(u,p,this)},n.prototype.getSecret=function(u){return s(this._secret,"KeyPair is public only"),l.encode(this.secret(),u)},n.prototype.getPublic=function(u){return l.encode(this.pubBytes(),u)},i.exports=n},{"../utils":419}],417:[function(t,i,c){var l=t("bn.js"),s=t("../utils"),h=s.assert,a=s.cachedProperty,n=s.parseBytes;function u(p,f){this.eddsa=p,typeof f!="object"&&(f=n(f)),Array.isArray(f)&&(f={R:f.slice(0,p.encodingLength),S:f.slice(p.encodingLength)}),h(f.R&&f.S,"Signature without R or S"),p.isPoint(f.R)&&(this._R=f.R),f.S instanceof l&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},i.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,i,c){i.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,i,c){var l=c,s=t("bn.js"),h=t("minimalistic-assert"),a=t("minimalistic-crypto-utils");l.assert=h,l.toArray=a.toArray,l.zero2=a.zero2,l.toHex=a.toHex,l.encode=a.encode,l.getNAF=function(n,u,p){var f=new Array(Math.max(n.bitLength(),p)+1);f.fill(0);for(var d=1<<u+1,y=n.clone(),v=0;v<f.length;v++){var g,w=y.andln(d-1);y.isOdd()?(g=w>(d>>1)-1?(d>>1)-w:w,y.isubn(g)):g=0,f[v]=g,y.iushrn(1)}return f},l.getJSF=function(n,u){var p=[[],[]];n=n.clone(),u=u.clone();for(var f,d=0,y=0;n.cmpn(-d)>0||u.cmpn(-y)>0;){var v,g,w=n.andln(3)+d&3,_=u.andln(3)+y&3;w===3&&(w=-1),_===3&&(_=-1),v=(1&w)==0?0:(f=n.andln(7)+d&7)!==3&&f!==5||_!==2?w:-w,p[0].push(v),g=(1&_)==0?0:(f=u.andln(7)+y&7)!==3&&f!==5||w!==2?_:-_,p[1].push(g),2*d===v+1&&(d=1-d),2*y===g+1&&(y=1-y),n.iushrn(1),u.iushrn(1)}return p},l.cachedProperty=function(n,u,p){var f="_"+u;n.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=p.call(this)}},l.parseBytes=function(n){return typeof n=="string"?l.toArray(n,"hex"):n},l.intFromLE=function(n){return new s(n,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],421:[function(t,i,c){i.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,i,c){var l=Object.create||function(j){var U=function(){};return U.prototype=j,new U},s=Object.keys||function(j){var U=[];for(var q in j)Object.prototype.hasOwnProperty.call(j,q)&&U.push(q);return q},h=Function.prototype.bind||function(j){var U=this;return function(){return U.apply(j,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=l(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var n,u=10;try{var p={};Object.defineProperty&&Object.defineProperty(p,"x",{value:0}),n=p.x===0}catch{n=!1}function f(j){return j._maxListeners===void 0?a.defaultMaxListeners:j._maxListeners}function d(j,U,q){if(U)j.call(q);else for(var X=j.length,$=F(j,X),R=0;R<X;++R)$[R].call(q)}function y(j,U,q,X){if(U)j.call(q,X);else for(var $=j.length,R=F(j,$),P=0;P<$;++P)R[P].call(q,X)}function v(j,U,q,X,$){if(U)j.call(q,X,$);else for(var R=j.length,P=F(j,R),C=0;C<R;++C)P[C].call(q,X,$)}function g(j,U,q,X,$,R){if(U)j.call(q,X,$,R);else for(var P=j.length,C=F(j,P),x=0;x<P;++x)C[x].call(q,X,$,R)}function w(j,U,q,X){if(U)j.apply(q,X);else for(var $=j.length,R=F(j,$),P=0;P<$;++P)R[P].apply(q,X)}function _(j,U,q,X){var $,R,P;if(typeof q!="function")throw new TypeError('"listener" argument must be a function');if((R=j._events)?(R.newListener&&(j.emit("newListener",U,q.listener?q.listener:q),R=j._events),P=R[U]):(R=j._events=l(null),j._eventsCount=0),P){if(typeof P=="function"?P=R[U]=X?[q,P]:[P,q]:X?P.unshift(q):P.push(q),!P.warned&&($=f(j))&&$>0&&P.length>$){P.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(U)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');C.name="MaxListenersExceededWarning",C.emitter=j,C.type=U,C.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",C.name,C.message)}}else P=R[U]=q,++j._eventsCount;return j}function k(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var j=new Array(arguments.length),U=0;U<j.length;++U)j[U]=arguments[U];this.listener.apply(this.target,j)}}function M(j,U,q){var X={fired:!1,wrapFn:void 0,target:j,type:U,listener:q},$=h.call(k,X);return $.listener=q,X.wrapFn=$,$}function L(j,U,q){var X=j._events;if(!X)return[];var $=X[U];return $?typeof $=="function"?q?[$.listener||$]:[$]:q?(function(R){for(var P=new Array(R.length),C=0;C<P.length;++C)P[C]=R[C].listener||R[C];return P})($):F($,$.length):[]}function G(j){var U=this._events;if(U){var q=U[j];if(typeof q=="function")return 1;if(q)return q.length}return 0}function F(j,U){for(var q=new Array(U),X=0;X<U;++X)q[X]=j[X];return q}n?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||j!=j)throw new TypeError('"defaultMaxListeners" must be a positive number');u=j}}):a.defaultMaxListeners=u,a.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(j){var U,q,X,$,R,P,C=j==="error";if(P=this._events)C=C&&P.error==null;else if(!C)return!1;if(C){if(arguments.length>1&&(U=arguments[1]),U instanceof Error)throw U;var x=new Error('Unhandled "error" event. ('+U+")");throw x.context=U,x}if(!(q=P[j]))return!1;var S=typeof q=="function";switch(X=arguments.length){case 1:d(q,S,this);break;case 2:y(q,S,this,arguments[1]);break;case 3:v(q,S,this,arguments[1],arguments[2]);break;case 4:g(q,S,this,arguments[1],arguments[2],arguments[3]);break;default:for($=new Array(X-1),R=1;R<X;R++)$[R-1]=arguments[R];w(q,S,this,$)}return!0},a.prototype.addListener=function(j,U){return _(this,j,U,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(j,U){return _(this,j,U,!0)},a.prototype.once=function(j,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,M(this,j,U)),this},a.prototype.prependOnceListener=function(j,U){if(typeof U!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,M(this,j,U)),this},a.prototype.removeListener=function(j,U){var q,X,$,R,P;if(typeof U!="function")throw new TypeError('"listener" argument must be a function');if(!(X=this._events))return this;if(!(q=X[j]))return this;if(q===U||q.listener===U)--this._eventsCount==0?this._events=l(null):(delete X[j],X.removeListener&&this.emit("removeListener",j,q.listener||U));else if(typeof q!="function"){for($=-1,R=q.length-1;R>=0;R--)if(q[R]===U||q[R].listener===U){P=q[R].listener,$=R;break}if($<0)return this;$===0?q.shift():(function(C,x){for(var S=x,T=S+1,E=C.length;T<E;S+=1,T+=1)C[S]=C[T];C.pop()})(q,$),q.length===1&&(X[j]=q[0]),X.removeListener&&this.emit("removeListener",j,P||U)}return this},a.prototype.removeAllListeners=function(j){var U,q,X;if(!(q=this._events))return this;if(!q.removeListener)return arguments.length===0?(this._events=l(null),this._eventsCount=0):q[j]&&(--this._eventsCount==0?this._events=l(null):delete q[j]),this;if(arguments.length===0){var $,R=s(q);for(X=0;X<R.length;++X)($=R[X])!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=l(null),this._eventsCount=0,this}if(typeof(U=q[j])=="function")this.removeListener(j,U);else if(U)for(X=U.length-1;X>=0;X--)this.removeListener(j,U[X]);return this},a.prototype.listeners=function(j){return L(this,j,!0)},a.prototype.rawListeners=function(j){return L(this,j,!1)},a.listenerCount=function(j,U){return typeof j.listenerCount=="function"?j.listenerCount(U):G.call(j,U)},a.prototype.listenerCount=G,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("md5.js");i.exports=function(h,a,n,u){if(l.isBuffer(h)||(h=l.from(h,"binary")),a&&(l.isBuffer(a)||(a=l.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var p=n/8,f=l.alloc(p),d=l.alloc(u||0),y=l.alloc(0);p>0||u>0;){var v=new s;v.update(y),v.update(h),a&&v.update(a),y=v.digest();var g=0;if(p>0){var w=f.length-p;g=Math.min(p,y.length),y.copy(f,w,0,g),p-=g}if(g<y.length&&u>0){var _=d.length-u,k=Math.min(u,y.length-g);y.copy(d,_,g,g+k),u-=k}}return y.fill(0),{key:f,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.CsvParserStream=c.ParserOptions=c.parseFile=c.parseStream=c.parseString=c.parse=c.FormatterOptions=c.CsvFormatterStream=c.writeToPath=c.writeToString=c.writeToBuffer=c.writeToStream=c.write=c.format=void 0;var l=t("@fast-csv/format");Object.defineProperty(c,"format",{enumerable:!0,get:function(){return l.format}}),Object.defineProperty(c,"write",{enumerable:!0,get:function(){return l.write}}),Object.defineProperty(c,"writeToStream",{enumerable:!0,get:function(){return l.writeToStream}}),Object.defineProperty(c,"writeToBuffer",{enumerable:!0,get:function(){return l.writeToBuffer}}),Object.defineProperty(c,"writeToString",{enumerable:!0,get:function(){return l.writeToString}}),Object.defineProperty(c,"writeToPath",{enumerable:!0,get:function(){return l.writeToPath}}),Object.defineProperty(c,"CsvFormatterStream",{enumerable:!0,get:function(){return l.CsvFormatterStream}}),Object.defineProperty(c,"FormatterOptions",{enumerable:!0,get:function(){return l.FormatterOptions}});var s=t("@fast-csv/parse");Object.defineProperty(c,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(c,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(c,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(c,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(c,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(c,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("readable-stream").Transform;function h(a){s.call(this),this._block=l.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(h,s),h.prototype._transform=function(a,n,u){var p=null;try{this.update(a,n)}catch(f){p=f}u(p)},h.prototype._flush=function(a){var n=null;try{this.push(this.digest())}catch(u){n=u}a(n)},h.prototype.update=function(a,n){if((function(v,g){if(!l.isBuffer(v)&&typeof v!="string")throw new TypeError(g+" must be a string or a buffer")})(a,"Data"),this._finalized)throw new Error("Digest already called");l.isBuffer(a)||(a=l.from(a,n));for(var u=this._block,p=0;this._blockOffset+a.length-p>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f++]=a[p++];this._update(),this._blockOffset=0}for(;p<a.length;)u[this._blockOffset++]=a[p++];for(var d=0,y=8*a.length;y>0;++d)this._length[d]+=y,(y=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*y);return this},h.prototype._update=function(){throw new Error("_update is not implemented")},h.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var n=this._digest();a!==void 0&&(n=n.toString(a)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return n},h.prototype._digest=function(){throw new Error("_digest is not implemented")},i.exports=h},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,i,c){var l=c;l.utils=t("./hash/utils"),l.common=t("./hash/common"),l.sha=t("./hash/sha"),l.ripemd=t("./hash/ripemd"),l.hmac=t("./hash/hmac"),l.sha1=l.sha.sha1,l.sha256=l.sha.sha256,l.sha224=l.sha.sha224,l.sha384=l.sha.sha384,l.sha512=l.sha.sha512,l.ripemd160=l.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,i,c){var l=t("./utils"),s=t("minimalistic-assert");function h(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}c.BlockHash=h,h.prototype.update=function(a,n){if(a=l.toArray(a,n),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var u=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-u,a.length),this.pending.length===0&&(this.pending=null),a=l.join32(a,0,a.length-u,this.endian);for(var p=0;p<a.length;p+=this._delta32)this._update(a,p,p+this._delta32)}return this},h.prototype.digest=function(a){return this.update(this._pad()),s(this.pending===null),this._digest(a)},h.prototype._pad=function(){var a=this.pendingTotal,n=this._delta8,u=n-(a+this.padLength)%n,p=new Array(u+this.padLength);p[0]=128;for(var f=1;f<u;f++)p[f]=0;if(a<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)p[f++]=0;p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=a>>>24&255,p[f++]=a>>>16&255,p[f++]=a>>>8&255,p[f++]=255&a}else for(p[f++]=255&a,p[f++]=a>>>8&255,p[f++]=a>>>16&255,p[f++]=a>>>24&255,p[f++]=0,p[f++]=0,p[f++]=0,p[f++]=0,d=8;d<this.padLength;d++)p[f++]=0;return p}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,i,c){var l=t("./utils"),s=t("minimalistic-assert");function h(a,n,u){if(!(this instanceof h))return new h(a,n,u);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(l.toArray(n,u))}i.exports=h,h.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),s(a.length<=this.blockSize);for(var n=a.length;n<this.blockSize;n++)a.push(0);for(n=0;n<a.length;n++)a[n]^=54;for(this.inner=new this.Hash().update(a),n=0;n<a.length;n++)a[n]^=106;this.outer=new this.Hash().update(a)},h.prototype.update=function(a,n){return this.inner.update(a,n),this},h.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,i,c){var l=t("./utils"),s=t("./common"),h=l.rotl32,a=l.sum32,n=l.sum32_3,u=l.sum32_4,p=s.BlockHash;function f(){if(!(this instanceof f))return new f;p.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(M,L,G,F){return M<=15?L^G^F:M<=31?L&G|~L&F:M<=47?(L|~G)^F:M<=63?L&F|G&~F:L^(G|~F)}function y(M){return M<=15?0:M<=31?1518500249:M<=47?1859775393:M<=63?2400959708:2840853838}function v(M){return M<=15?1352829926:M<=31?1548603684:M<=47?1836072691:M<=63?2053994217:0}l.inherits(f,p),c.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(M,L){for(var G=this.h[0],F=this.h[1],j=this.h[2],U=this.h[3],q=this.h[4],X=G,$=F,R=j,P=U,C=q,x=0;x<80;x++){var S=a(h(u(G,d(x,F,j,U),M[g[x]+L],y(x)),_[x]),q);G=q,q=U,U=h(j,10),j=F,F=S,S=a(h(u(X,d(79-x,$,R,P),M[w[x]+L],v(x)),k[x]),C),X=C,C=P,P=h(R,10),R=$,$=S}S=n(this.h[1],j,P),this.h[1]=n(this.h[2],U,C),this.h[2]=n(this.h[3],q,X),this.h[3]=n(this.h[4],G,$),this.h[4]=n(this.h[0],F,R),this.h[0]=S},f.prototype._digest=function(M){return M==="hex"?l.toHex32(this.h,"little"):l.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],k=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,i,c){c.sha1=t("./sha/1"),c.sha224=t("./sha/224"),c.sha256=t("./sha/256"),c.sha384=t("./sha/384"),c.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,i,c){var l=t("../utils"),s=t("../common"),h=t("./common"),a=l.rotl32,n=l.sum32,u=l.sum32_5,p=h.ft_1,f=s.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}l.inherits(y,f),i.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(v,g){for(var w=this.W,_=0;_<16;_++)w[_]=v[g+_];for(;_<w.length;_++)w[_]=a(w[_-3]^w[_-8]^w[_-14]^w[_-16],1);var k=this.h[0],M=this.h[1],L=this.h[2],G=this.h[3],F=this.h[4];for(_=0;_<w.length;_++){var j=~~(_/20),U=u(a(k,5),p(j,M,L,G),F,w[_],d[j]);F=G,G=L,L=a(M,30),M=k,k=U}this.h[0]=n(this.h[0],k),this.h[1]=n(this.h[1],M),this.h[2]=n(this.h[2],L),this.h[3]=n(this.h[3],G),this.h[4]=n(this.h[4],F)},y.prototype._digest=function(v){return v==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,i,c){var l=t("../utils"),s=t("./256");function h(){if(!(this instanceof h))return new h;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}l.inherits(h,s),i.exports=h,h.blockSize=512,h.outSize=224,h.hmacStrength=192,h.padLength=64,h.prototype._digest=function(a){return a==="hex"?l.toHex32(this.h.slice(0,7),"big"):l.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,i,c){var l=t("../utils"),s=t("../common"),h=t("./common"),a=t("minimalistic-assert"),n=l.sum32,u=l.sum32_4,p=l.sum32_5,f=h.ch32,d=h.maj32,y=h.s0_256,v=h.s1_256,g=h.g0_256,w=h.g1_256,_=s.BlockHash,k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function M(){if(!(this instanceof M))return new M;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=k,this.W=new Array(64)}l.inherits(M,_),i.exports=M,M.blockSize=512,M.outSize=256,M.hmacStrength=192,M.padLength=64,M.prototype._update=function(L,G){for(var F=this.W,j=0;j<16;j++)F[j]=L[G+j];for(;j<F.length;j++)F[j]=u(w(F[j-2]),F[j-7],g(F[j-15]),F[j-16]);var U=this.h[0],q=this.h[1],X=this.h[2],$=this.h[3],R=this.h[4],P=this.h[5],C=this.h[6],x=this.h[7];for(a(this.k.length===F.length),j=0;j<F.length;j++){var S=p(x,v(R),f(R,P,C),this.k[j],F[j]),T=n(y(U),d(U,q,X));x=C,C=P,P=R,R=n($,S),$=X,X=q,q=U,U=n(S,T)}this.h[0]=n(this.h[0],U),this.h[1]=n(this.h[1],q),this.h[2]=n(this.h[2],X),this.h[3]=n(this.h[3],$),this.h[4]=n(this.h[4],R),this.h[5]=n(this.h[5],P),this.h[6]=n(this.h[6],C),this.h[7]=n(this.h[7],x)},M.prototype._digest=function(L){return L==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,i,c){var l=t("../utils"),s=t("./512");function h(){if(!(this instanceof h))return new h;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}l.inherits(h,s),i.exports=h,h.blockSize=1024,h.outSize=384,h.hmacStrength=192,h.padLength=128,h.prototype._digest=function(a){return a==="hex"?l.toHex32(this.h.slice(0,12),"big"):l.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,i,c){var l=t("../utils"),s=t("../common"),h=t("minimalistic-assert"),a=l.rotr64_hi,n=l.rotr64_lo,u=l.shr64_hi,p=l.shr64_lo,f=l.sum64,d=l.sum64_hi,y=l.sum64_lo,v=l.sum64_4_hi,g=l.sum64_4_lo,w=l.sum64_5_hi,_=l.sum64_5_lo,k=s.BlockHash,M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function L(){if(!(this instanceof L))return new L;k.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=M,this.W=new Array(160)}function G(T,E,N,I,B){var K=T&N^~T&B;return K<0&&(K+=4294967296),K}function F(T,E,N,I,B,K){var Z=E&I^~E&K;return Z<0&&(Z+=4294967296),Z}function j(T,E,N,I,B){var K=T&N^T&B^N&B;return K<0&&(K+=4294967296),K}function U(T,E,N,I,B,K){var Z=E&I^E&K^I&K;return Z<0&&(Z+=4294967296),Z}function q(T,E){var N=a(T,E,28)^a(E,T,2)^a(E,T,7);return N<0&&(N+=4294967296),N}function X(T,E){var N=n(T,E,28)^n(E,T,2)^n(E,T,7);return N<0&&(N+=4294967296),N}function $(T,E){var N=a(T,E,14)^a(T,E,18)^a(E,T,9);return N<0&&(N+=4294967296),N}function R(T,E){var N=n(T,E,14)^n(T,E,18)^n(E,T,9);return N<0&&(N+=4294967296),N}function P(T,E){var N=a(T,E,1)^a(T,E,8)^u(T,E,7);return N<0&&(N+=4294967296),N}function C(T,E){var N=n(T,E,1)^n(T,E,8)^p(T,E,7);return N<0&&(N+=4294967296),N}function x(T,E){var N=a(T,E,19)^a(E,T,29)^u(T,E,6);return N<0&&(N+=4294967296),N}function S(T,E){var N=n(T,E,19)^n(E,T,29)^p(T,E,6);return N<0&&(N+=4294967296),N}l.inherits(L,k),i.exports=L,L.blockSize=1024,L.outSize=512,L.hmacStrength=192,L.padLength=128,L.prototype._prepareBlock=function(T,E){for(var N=this.W,I=0;I<32;I++)N[I]=T[E+I];for(;I<N.length;I+=2){var B=x(N[I-4],N[I-3]),K=S(N[I-4],N[I-3]),Z=N[I-14],nt=N[I-13],H=P(N[I-30],N[I-29]),tt=C(N[I-30],N[I-29]),V=N[I-32],D=N[I-31];N[I]=v(B,K,Z,nt,H,tt,V,D),N[I+1]=g(B,K,Z,nt,H,tt,V,D)}},L.prototype._update=function(T,E){this._prepareBlock(T,E);var N=this.W,I=this.h[0],B=this.h[1],K=this.h[2],Z=this.h[3],nt=this.h[4],H=this.h[5],tt=this.h[6],V=this.h[7],D=this.h[8],Q=this.h[9],it=this.h[10],ht=this.h[11],st=this.h[12],ut=this.h[13],yt=this.h[14],bt=this.h[15];h(this.k.length===N.length);for(var at=0;at<N.length;at+=2){var pt=yt,dt=bt,vt=$(D,Q),xt=R(D,Q),Et=G(D,Q,it,ht,st),It=F(D,Q,it,ht,st,ut),Nt=this.k[at],$t=this.k[at+1],se=N[at],re=N[at+1],Zt=w(pt,dt,vt,xt,Et,It,Nt,$t,se,re),te=_(pt,dt,vt,xt,Et,It,Nt,$t,se,re);pt=q(I,B),dt=X(I,B),vt=j(I,B,K,Z,nt),xt=U(I,B,K,Z,nt,H);var we=d(pt,dt,vt,xt),_e=y(pt,dt,vt,xt);yt=st,bt=ut,st=it,ut=ht,it=D,ht=Q,D=d(tt,V,Zt,te),Q=y(V,V,Zt,te),tt=nt,V=H,nt=K,H=Z,K=I,Z=B,I=d(Zt,te,we,_e),B=y(Zt,te,we,_e)}f(this.h,0,I,B),f(this.h,2,K,Z),f(this.h,4,nt,H),f(this.h,6,tt,V),f(this.h,8,D,Q),f(this.h,10,it,ht),f(this.h,12,st,ut),f(this.h,14,yt,bt)},L.prototype._digest=function(T){return T==="hex"?l.toHex32(this.h,"big"):l.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,i,c){var l=t("../utils").rotr32;function s(n,u,p){return n&u^~n&p}function h(n,u,p){return n&u^n&p^u&p}function a(n,u,p){return n^u^p}c.ft_1=function(n,u,p,f){return n===0?s(u,p,f):n===1||n===3?a(u,p,f):n===2?h(u,p,f):void 0},c.ch32=s,c.maj32=h,c.p32=a,c.s0_256=function(n){return l(n,2)^l(n,13)^l(n,22)},c.s1_256=function(n){return l(n,6)^l(n,11)^l(n,25)},c.g0_256=function(n){return l(n,7)^l(n,18)^n>>>3},c.g1_256=function(n){return l(n,17)^l(n,19)^n>>>10}},{"../utils":437}],437:[function(t,i,c){var l=t("minimalistic-assert"),s=t("inherits");function h(p,f){return(64512&p.charCodeAt(f))==55296&&!(f<0||f+1>=p.length)&&(64512&p.charCodeAt(f+1))==56320}function a(p){return(p>>>24|p>>>8&65280|p<<8&16711680|(255&p)<<24)>>>0}function n(p){return p.length===1?"0"+p:p}function u(p){return p.length===7?"0"+p:p.length===6?"00"+p:p.length===5?"000"+p:p.length===4?"0000"+p:p.length===3?"00000"+p:p.length===2?"000000"+p:p.length===1?"0000000"+p:p}c.inherits=s,c.toArray=function(p,f){if(Array.isArray(p))return p.slice();if(!p)return[];var d=[];if(typeof p=="string")if(f){if(f==="hex")for((p=p.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(p="0"+p),v=0;v<p.length;v+=2)d.push(parseInt(p[v]+p[v+1],16))}else for(var y=0,v=0;v<p.length;v++){var g=p.charCodeAt(v);g<128?d[y++]=g:g<2048?(d[y++]=g>>6|192,d[y++]=63&g|128):h(p,v)?(g=65536+((1023&g)<<10)+(1023&p.charCodeAt(++v)),d[y++]=g>>18|240,d[y++]=g>>12&63|128,d[y++]=g>>6&63|128,d[y++]=63&g|128):(d[y++]=g>>12|224,d[y++]=g>>6&63|128,d[y++]=63&g|128)}else for(v=0;v<p.length;v++)d[v]=0|p[v];return d},c.toHex=function(p){for(var f="",d=0;d<p.length;d++)f+=n(p[d].toString(16));return f},c.htonl=a,c.toHex32=function(p,f){for(var d="",y=0;y<p.length;y++){var v=p[y];f==="little"&&(v=a(v)),d+=u(v.toString(16))}return d},c.zero2=n,c.zero8=u,c.join32=function(p,f,d,y){var v=d-f;l(v%4==0);for(var g=new Array(v/4),w=0,_=f;w<g.length;w++,_+=4){var k;k=y==="big"?p[_]<<24|p[_+1]<<16|p[_+2]<<8|p[_+3]:p[_+3]<<24|p[_+2]<<16|p[_+1]<<8|p[_],g[w]=k>>>0}return g},c.split32=function(p,f){for(var d=new Array(4*p.length),y=0,v=0;y<p.length;y++,v+=4){var g=p[y];f==="big"?(d[v]=g>>>24,d[v+1]=g>>>16&255,d[v+2]=g>>>8&255,d[v+3]=255&g):(d[v+3]=g>>>24,d[v+2]=g>>>16&255,d[v+1]=g>>>8&255,d[v]=255&g)}return d},c.rotr32=function(p,f){return p>>>f|p<<32-f},c.rotl32=function(p,f){return p<<f|p>>>32-f},c.sum32=function(p,f){return p+f>>>0},c.sum32_3=function(p,f,d){return p+f+d>>>0},c.sum32_4=function(p,f,d,y){return p+f+d+y>>>0},c.sum32_5=function(p,f,d,y,v){return p+f+d+y+v>>>0},c.sum64=function(p,f,d,y){var v=p[f],g=y+p[f+1]>>>0,w=(g<y?1:0)+d+v;p[f]=w>>>0,p[f+1]=g},c.sum64_hi=function(p,f,d,y){return(f+y>>>0<f?1:0)+p+d>>>0},c.sum64_lo=function(p,f,d,y){return f+y>>>0},c.sum64_4_hi=function(p,f,d,y,v,g,w,_){var k=0,M=f;return k+=(M=M+y>>>0)<f?1:0,k+=(M=M+g>>>0)<g?1:0,p+d+v+w+(k+=(M=M+_>>>0)<_?1:0)>>>0},c.sum64_4_lo=function(p,f,d,y,v,g,w,_){return f+y+g+_>>>0},c.sum64_5_hi=function(p,f,d,y,v,g,w,_,k,M){var L=0,G=f;return L+=(G=G+y>>>0)<f?1:0,L+=(G=G+g>>>0)<g?1:0,L+=(G=G+_>>>0)<_?1:0,p+d+v+w+k+(L+=(G=G+M>>>0)<M?1:0)>>>0},c.sum64_5_lo=function(p,f,d,y,v,g,w,_,k,M){return f+y+g+_+M>>>0},c.rotr64_hi=function(p,f,d){return(f<<32-d|p>>>d)>>>0},c.rotr64_lo=function(p,f,d){return(p<<32-d|f>>>d)>>>0},c.shr64_hi=function(p,f,d){return p>>>d},c.shr64_lo=function(p,f,d){return(p<<32-d|f>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,i,c){var l=t("hash.js"),s=t("minimalistic-crypto-utils"),h=t("minimalistic-assert");function a(n){if(!(this instanceof a))return new a(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(n.entropy,n.entropyEnc||"hex"),p=s.toArray(n.nonce,n.nonceEnc||"hex"),f=s.toArray(n.pers,n.persEnc||"hex");h(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,p,f)}i.exports=a,a.prototype._init=function(n,u,p){var f=n.concat(u).concat(p);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new l.hmac(this.hash,this.K)},a.prototype._update=function(n){var u=this._hmac().update(this.V).update([0]);n&&(u=u.update(n)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(n,u,p,f){typeof u!="string"&&(f=p,p=u,u=null),n=s.toArray(n,u),p=s.toArray(p,f),h(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(n.concat(p||[])),this._reseed=1},a.prototype.generate=function(n,u,p,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(f=p,p=u,u=null),p&&(p=s.toArray(p,f||"hex"),this._update(p));for(var d=[];d.length<n;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var y=d.slice(0,n);return this._update(p),this._reseed++,s.encode(y,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,i,c){c.read=function(l,s,h,a,n){var u,p,f=8*n-a-1,d=(1<<f)-1,y=d>>1,v=-7,g=h?n-1:0,w=h?-1:1,_=l[s+g];for(g+=w,u=_&(1<<-v)-1,_>>=-v,v+=f;v>0;u=256*u+l[s+g],g+=w,v-=8);for(p=u&(1<<-v)-1,u>>=-v,v+=a;v>0;p=256*p+l[s+g],g+=w,v-=8);if(u===0)u=1-y;else{if(u===d)return p?NaN:1/0*(_?-1:1);p+=Math.pow(2,a),u-=y}return(_?-1:1)*p*Math.pow(2,u-a)},c.write=function(l,s,h,a,n,u){var p,f,d,y=8*u-n-1,v=(1<<y)-1,g=v>>1,w=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=a?0:u-1,k=a?1:-1,M=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(f=isNaN(s)?1:0,p=v):(p=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-p))<1&&(p--,d*=2),(s+=p+g>=1?w/d:w*Math.pow(2,1-g))*d>=2&&(p++,d/=2),p+g>=v?(f=0,p=v):p+g>=1?(f=(s*d-1)*Math.pow(2,n),p+=g):(f=s*Math.pow(2,g-1)*Math.pow(2,n),p=0));n>=8;l[h+_]=255&f,_+=k,f/=256,n-=8);for(p=p<<n|f,y+=n;y>0;l[h+_]=255&p,_+=k,p/=256,y-=8);l[h+_-k]|=128*M}},{}],440:[function(t,i,c){typeof Object.create=="function"?i.exports=function(l,s){s&&(l.super_=s,l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(l,s){if(s){l.super_=s;var h=function(){};h.prototype=s.prototype,l.prototype=new h,l.prototype.constructor=l}}},{}],441:[function(t,i,c){(function(l,s,h,a,n,u,p,f){(function(){(function(d){typeof c=="object"&&i!==void 0?i.exports=d():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(y,v,g){function w(M,L){if(!v[M]){if(!y[M]){var G=typeof t=="function"&&t;if(!L&&G)return G(M,!0);if(_)return _(M,!0);var F=new Error("Cannot find module '"+M+"'");throw F.code="MODULE_NOT_FOUND",F}var j=v[M]={exports:{}};y[M][0].call(j.exports,(function(U){return w(y[M][1][U]||U)}),j,j.exports,d,y,v,g)}return v[M].exports}for(var _=typeof t=="function"&&t,k=0;k<g.length;k++)w(g[k]);return w})({1:[function(d,y,v){var g=d("./utils"),w=d("./support"),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(k){for(var M,L,G,F,j,U,q,X=[],$=0,R=k.length,P=R,C=g.getTypeOf(k)!=="string";$<k.length;)P=R-$,G=C?(M=k[$++],L=$<R?k[$++]:0,$<R?k[$++]:0):(M=k.charCodeAt($++),L=$<R?k.charCodeAt($++):0,$<R?k.charCodeAt($++):0),F=M>>2,j=(3&M)<<4|L>>4,U=1<P?(15&L)<<2|G>>6:64,q=2<P?63&G:64,X.push(_.charAt(F)+_.charAt(j)+_.charAt(U)+_.charAt(q));return X.join("")},v.decode=function(k){var M,L,G,F,j,U,q=0,X=0,$="data:";if(k.substr(0,$.length)===$)throw new Error("Invalid base64 input, it looks like a data url.");var R,P=3*(k=k.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(k.charAt(k.length-1)===_.charAt(64)&&P--,k.charAt(k.length-2)===_.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=w.uint8array?new Uint8Array(0|P):new Array(0|P);q<k.length;)M=_.indexOf(k.charAt(q++))<<2|(F=_.indexOf(k.charAt(q++)))>>4,L=(15&F)<<4|(j=_.indexOf(k.charAt(q++)))>>2,G=(3&j)<<6|(U=_.indexOf(k.charAt(q++))),R[X++]=M,j!==64&&(R[X++]=L),U!==64&&(R[X++]=G);return R}},{"./support":30,"./utils":32}],2:[function(d,y,v){var g=d("./external"),w=d("./stream/DataWorker"),_=d("./stream/Crc32Probe"),k=d("./stream/DataLengthProbe");function M(L,G,F,j,U){this.compressedSize=L,this.uncompressedSize=G,this.crc32=F,this.compression=j,this.compressedContent=U}M.prototype={getContentWorker:function(){var L=new w(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new k("data_length")),G=this;return L.on("end",(function(){if(this.streamInfo.data_length!==G.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),L},getCompressedWorker:function(){return new w(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},M.createWorkerFrom=function(L,G,F){return L.pipe(new _).pipe(new k("uncompressedSize")).pipe(G.compressWorker(F)).pipe(new k("compressedSize")).withStreamInfo("compression",G)},y.exports=M},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,y,v){var g=d("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},v.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,y,v){var g=d("./utils"),w=(function(){for(var _,k=[],M=0;M<256;M++){_=M;for(var L=0;L<8;L++)_=1&_?3988292384^_>>>1:_>>>1;k[M]=_}return k})();y.exports=function(_,k){return _!==void 0&&_.length?g.getTypeOf(_)!=="string"?(function(M,L,G,F){var j=w,U=0+G;M^=-1;for(var q=0;q<U;q++)M=M>>>8^j[255&(M^L[q])];return-1^M})(0|k,_,_.length):(function(M,L,G,F){var j=w,U=0+G;M^=-1;for(var q=0;q<U;q++)M=M>>>8^j[255&(M^L.charCodeAt(q))];return-1^M})(0|k,_,_.length):0}},{"./utils":32}],5:[function(d,y,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(d,y,v){var g;g=typeof Promise<"u"?Promise:d("lie"),y.exports={Promise:g}},{lie:37}],7:[function(d,y,v){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=d("pako"),_=d("./utils"),k=d("./stream/GenericWorker"),M=g?"uint8array":"array";function L(G,F){k.call(this,"FlateWorker/"+G),this._pako=null,this._pakoAction=G,this._pakoOptions=F,this.meta={}}v.magic="\b\0",_.inherits(L,k),L.prototype.processChunk=function(G){this.meta=G.meta,this._pako===null&&this._createPako(),this._pako.push(_.transformTo(M,G.data),!1)},L.prototype.flush=function(){k.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},L.prototype.cleanUp=function(){k.prototype.cleanUp.call(this),this._pako=null},L.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var G=this;this._pako.onData=function(F){G.push({data:F,meta:G.meta})}},v.compressWorker=function(G){return new L("Deflate",G)},v.uncompressWorker=function(){return new L("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,y,v){function g(j,U){var q,X="";for(q=0;q<U;q++)X+=String.fromCharCode(255&j),j>>>=8;return X}function w(j,U,q,X,$,R){var P,C,x=j.file,S=j.compression,T=R!==M.utf8encode,E=_.transformTo("string",R(x.name)),N=_.transformTo("string",M.utf8encode(x.name)),I=x.comment,B=_.transformTo("string",R(I)),K=_.transformTo("string",M.utf8encode(I)),Z=N.length!==x.name.length,nt=K.length!==I.length,H="",tt="",V="",D=x.dir,Q=x.date,it={crc32:0,compressedSize:0,uncompressedSize:0};U&&!q||(it.crc32=j.crc32,it.compressedSize=j.compressedSize,it.uncompressedSize=j.uncompressedSize);var ht=0;U&&(ht|=8),T||!Z&&!nt||(ht|=2048);var st=0,ut=0;D&&(st|=16),$==="UNIX"?(ut=798,st|=(function(bt,at){var pt=bt;return bt||(pt=at?16893:33204),(65535&pt)<<16})(x.unixPermissions,D)):(ut=20,st|=(function(bt){return 63&(bt||0)})(x.dosPermissions)),P=Q.getUTCHours(),P<<=6,P|=Q.getUTCMinutes(),P<<=5,P|=Q.getUTCSeconds()/2,C=Q.getUTCFullYear()-1980,C<<=4,C|=Q.getUTCMonth()+1,C<<=5,C|=Q.getUTCDate(),Z&&(tt=g(1,1)+g(L(E),4)+N,H+="up"+g(tt.length,2)+tt),nt&&(V=g(1,1)+g(L(B),4)+K,H+="uc"+g(V.length,2)+V);var yt="";return yt+=`
\0`,yt+=g(ht,2),yt+=S.magic,yt+=g(P,2),yt+=g(C,2),yt+=g(it.crc32,4),yt+=g(it.compressedSize,4),yt+=g(it.uncompressedSize,4),yt+=g(E.length,2),yt+=g(H.length,2),{fileRecord:G.LOCAL_FILE_HEADER+yt+E+H,dirRecord:G.CENTRAL_FILE_HEADER+g(ut,2)+yt+g(B.length,2)+"\0\0\0\0"+g(st,4)+g(X,4)+E+H+B}}var _=d("../utils"),k=d("../stream/GenericWorker"),M=d("../utf8"),L=d("../crc32"),G=d("../signature");function F(j,U,q,X){k.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=U,this.zipPlatform=q,this.encodeFileName=X,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}_.inherits(F,k),F.prototype.push=function(j){var U=j.meta.percent||0,q=this.entriesCount,X=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,k.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:q?(U+100*(q-X-1))/q:100}}))},F.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var U=this.streamFiles&&!j.file.dir;if(U){var q=w(j,U,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:q.fileRecord,meta:{percent:0}})}else this.accumulate=!0},F.prototype.closedSource=function(j){this.accumulate=!1;var U=this.streamFiles&&!j.file.dir,q=w(j,U,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(q.dirRecord),U)this.push({data:(function(X){return G.DATA_DESCRIPTOR+g(X.crc32,4)+g(X.compressedSize,4)+g(X.uncompressedSize,4)})(j),meta:{percent:100}});else for(this.push({data:q.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},F.prototype.flush=function(){for(var j=this.bytesWritten,U=0;U<this.dirRecords.length;U++)this.push({data:this.dirRecords[U],meta:{percent:100}});var q=this.bytesWritten-j,X=(function($,R,P,C,x){var S=_.transformTo("string",x(C));return G.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g($,2)+g($,2)+g(R,4)+g(P,4)+g(S.length,2)+S})(this.dirRecords.length,q,j,this.zipComment,this.encodeFileName);this.push({data:X,meta:{percent:100}})},F.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},F.prototype.registerPrevious=function(j){this._sources.push(j);var U=this;return j.on("data",(function(q){U.processChunk(q)})),j.on("end",(function(){U.closedSource(U.previous.streamInfo),U._sources.length?U.prepareNextSource():U.end()})),j.on("error",(function(q){U.error(q)})),this},F.prototype.resume=function(){return!!k.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},F.prototype.error=function(j){var U=this._sources;if(!k.prototype.error.call(this,j))return!1;for(var q=0;q<U.length;q++)try{U[q].error(j)}catch{}return!0},F.prototype.lock=function(){k.prototype.lock.call(this);for(var j=this._sources,U=0;U<j.length;U++)j[U].lock()},y.exports=F},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,y,v){var g=d("../compressions"),w=d("./ZipFileWorker");v.generateWorker=function(_,k,M){var L=new w(k.streamFiles,M,k.platform,k.encodeFileName),G=0;try{_.forEach((function(F,j){G++;var U=(function(R,P){var C=R||P,x=g[C];if(!x)throw new Error(C+" is not a valid compression method !");return x})(j.options.compression,k.compression),q=j.options.compressionOptions||k.compressionOptions||{},X=j.dir,$=j.date;j._compressWorker(U,q).withStreamInfo("file",{name:F,dir:X,date:$,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(L)})),L.entriesCount=G}catch(F){L.error(F)}return L}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,y,v){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new g;for(var _ in this)typeof this[_]!="function"&&(w[_]=this[_]);return w}}(g.prototype=d("./object")).loadAsync=d("./load"),g.support=d("./support"),g.defaults=d("./defaults"),g.version="3.10.1",g.loadAsync=function(w,_){return new g().loadAsync(w,_)},g.external=d("./external"),y.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,y,v){var g=d("./utils"),w=d("./external"),_=d("./utf8"),k=d("./zipEntries"),M=d("./stream/Crc32Probe"),L=d("./nodejsUtils");function G(F){return new w.Promise((function(j,U){var q=F.decompressed.getContentWorker().pipe(new M);q.on("error",(function(X){U(X)})).on("end",(function(){q.streamInfo.crc32!==F.decompressed.crc32?U(new Error("Corrupted zip : CRC32 mismatch")):j()})).resume()}))}y.exports=function(F,j){var U=this;return j=g.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:_.utf8decode}),L.isNode&&L.isStream(F)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",F,!0,j.optimizedBinaryString,j.base64).then((function(q){var X=new k(j);return X.load(q),X})).then((function(q){var X=[w.Promise.resolve(q)],$=q.files;if(j.checkCRC32)for(var R=0;R<$.length;R++)X.push(G($[R]));return w.Promise.all(X)})).then((function(q){for(var X=q.shift(),$=X.files,R=0;R<$.length;R++){var P=$[R],C=P.fileNameStr,x=g.resolve(P.fileNameStr);U.file(x,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:j.createFolders}),P.dir||(U.file(x).unsafeOriginalName=C)}return X.zipComment.length&&(U.comment=X.zipComment),U}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,y,v){var g=d("../utils"),w=d("../stream/GenericWorker");function _(k,M){w.call(this,"Nodejs stream input adapter for "+k),this._upstreamEnded=!1,this._bindStream(M)}g.inherits(_,w),_.prototype._bindStream=function(k){var M=this;(this._stream=k).pause(),k.on("data",(function(L){M.push({data:L,meta:{percent:0}})})).on("error",(function(L){M.isPaused?this.generatedError=L:M.error(L)})).on("end",(function(){M.isPaused?M._upstreamEnded=!0:M.end()}))},_.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},_.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=_},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,y,v){var g=d("readable-stream").Readable;function w(_,k,M){g.call(this,k),this._helper=_;var L=this;_.on("data",(function(G,F){L.push(G)||L._helper.pause(),M&&M(F)})).on("error",(function(G){L.emit("error",G)})).on("end",(function(){L.push(null)}))}d("../utils").inherits(w,g),w.prototype._read=function(){this._helper.resume()},y.exports=w},{"../utils":32,"readable-stream":16}],14:[function(d,y,v){y.exports={isNode:h!==void 0,newBufferFrom:function(g,w){if(h.from&&h.from!==Uint8Array.from)return h.from(g,w);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new h(g,w)},allocBuffer:function(g){if(h.alloc)return h.alloc(g);var w=new h(g);return w.fill(0),w},isBuffer:function(g){return h.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(d,y,v){function g(x,S,T){var E,N=_.getTypeOf(S),I=_.extend(T||{},L);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(x=$(x)),I.createFolders&&(E=X(x))&&R.call(this,E,!0);var B=N==="string"&&I.binary===!1&&I.base64===!1;T&&T.binary!==void 0||(I.binary=!B),(S instanceof G&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",N="string");var K;K=S instanceof G||S instanceof k?S:U.isNode&&U.isStream(S)?new q(x,S):_.prepareContent(x,S,I.binary,I.optimizedBinaryString,I.base64);var Z=new F(x,K,I);this.files[x]=Z}var w=d("./utf8"),_=d("./utils"),k=d("./stream/GenericWorker"),M=d("./stream/StreamHelper"),L=d("./defaults"),G=d("./compressedObject"),F=d("./zipObject"),j=d("./generate"),U=d("./nodejsUtils"),q=d("./nodejs/NodejsStreamInputAdapter"),X=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var S=x.lastIndexOf("/");return 0<S?x.substring(0,S):""},$=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},R=function(x,S){return S=S!==void 0?S:L.createFolders,x=$(x),this.files[x]||g.call(this,x,null,{dir:!0,createFolders:S}),this.files[x]};function P(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var S,T,E;for(S in this.files)E=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&x(T,E)},filter:function(x){var S=[];return this.forEach((function(T,E){x(T,E)&&S.push(E)})),S},file:function(x,S,T){if(arguments.length!==1)return x=this.root+x,g.call(this,x,S,T),this;if(P(x)){var E=x;return this.filter((function(I,B){return!B.dir&&E.test(I)}))}var N=this.files[this.root+x];return N&&!N.dir?N:null},folder:function(x){if(!x)return this;if(P(x))return this.filter((function(N,I){return I.dir&&x.test(N)}));var S=this.root+x,T=R.call(this,S),E=this.clone();return E.root=T.name,E},remove:function(x){x=this.root+x;var S=this.files[x];if(S||(x.slice(-1)!=="/"&&(x+="/"),S=this.files[x]),S&&!S.dir)delete this.files[x];else for(var T=this.filter((function(N,I){return I.name.slice(0,x.length)===x})),E=0;E<T.length;E++)delete this.files[T[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var S,T={};try{if((T=_.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");_.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var E=T.comment||this.comment||"";S=j.generateWorker(this,T,E)}catch(N){(S=new k("error")).error(N)}return new M(S,T.type||"string",T.mimeType)},generateAsync:function(x,S){return this.generateInternalStream(x).accumulate(S)},generateNodeStream:function(x,S){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(S)}};y.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,y,v){y.exports=d("stream")},{stream:void 0}],17:[function(d,y,v){var g=d("./DataReader");function w(_){g.call(this,_);for(var k=0;k<this.data.length;k++)_[k]=255&_[k]}d("../utils").inherits(w,g),w.prototype.byteAt=function(_){return this.data[this.zero+_]},w.prototype.lastIndexOfSignature=function(_){for(var k=_.charCodeAt(0),M=_.charCodeAt(1),L=_.charCodeAt(2),G=_.charCodeAt(3),F=this.length-4;0<=F;--F)if(this.data[F]===k&&this.data[F+1]===M&&this.data[F+2]===L&&this.data[F+3]===G)return F-this.zero;return-1},w.prototype.readAndCheckSignature=function(_){var k=_.charCodeAt(0),M=_.charCodeAt(1),L=_.charCodeAt(2),G=_.charCodeAt(3),F=this.readData(4);return k===F[0]&&M===F[1]&&L===F[2]&&G===F[3]},w.prototype.readData=function(_){if(this.checkOffset(_),_===0)return[];var k=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,k},y.exports=w},{"../utils":32,"./DataReader":18}],18:[function(d,y,v){var g=d("../utils");function w(_){this.data=_,this.length=_.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(_){this.checkIndex(this.index+_)},checkIndex:function(_){if(this.length<this.zero+_||_<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+_+"). Corrupted zip ?")},setIndex:function(_){this.checkIndex(_),this.index=_},skip:function(_){this.setIndex(this.index+_)},byteAt:function(){},readInt:function(_){var k,M=0;for(this.checkOffset(_),k=this.index+_-1;k>=this.index;k--)M=(M<<8)+this.byteAt(k);return this.index+=_,M},readString:function(_){return g.transformTo("string",this.readData(_))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var _=this.readInt(4);return new Date(Date.UTC(1980+(_>>25&127),(_>>21&15)-1,_>>16&31,_>>11&31,_>>5&63,(31&_)<<1))}},y.exports=w},{"../utils":32}],19:[function(d,y,v){var g=d("./Uint8ArrayReader");function w(_){g.call(this,_)}d("../utils").inherits(w,g),w.prototype.readData=function(_){this.checkOffset(_);var k=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,k},y.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,y,v){var g=d("./DataReader");function w(_){g.call(this,_)}d("../utils").inherits(w,g),w.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},w.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},w.prototype.readAndCheckSignature=function(_){return _===this.readData(4)},w.prototype.readData=function(_){this.checkOffset(_);var k=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,k},y.exports=w},{"../utils":32,"./DataReader":18}],21:[function(d,y,v){var g=d("./ArrayReader");function w(_){g.call(this,_)}d("../utils").inherits(w,g),w.prototype.readData=function(_){if(this.checkOffset(_),_===0)return new Uint8Array(0);var k=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,k},y.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(d,y,v){var g=d("../utils"),w=d("../support"),_=d("./ArrayReader"),k=d("./StringReader"),M=d("./NodeBufferReader"),L=d("./Uint8ArrayReader");y.exports=function(G){var F=g.getTypeOf(G);return g.checkSupport(F),F!=="string"||w.uint8array?F==="nodebuffer"?new M(G):w.uint8array?new L(g.transformTo("uint8array",G)):new _(g.transformTo("array",G)):new k(G)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,y,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,y,v){var g=d("./GenericWorker"),w=d("../utils");function _(k){g.call(this,"ConvertWorker to "+k),this.destType=k}w.inherits(_,g),_.prototype.processChunk=function(k){this.push({data:w.transformTo(this.destType,k.data),meta:k.meta})},y.exports=_},{"../utils":32,"./GenericWorker":28}],25:[function(d,y,v){var g=d("./GenericWorker"),w=d("../crc32");function _(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(_,g),_.prototype.processChunk=function(k){this.streamInfo.crc32=w(k.data,this.streamInfo.crc32||0),this.push(k)},y.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,y,v){var g=d("../utils"),w=d("./GenericWorker");function _(k){w.call(this,"DataLengthProbe for "+k),this.propName=k,this.withStreamInfo(k,0)}g.inherits(_,w),_.prototype.processChunk=function(k){if(k){var M=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=M+k.data.length}w.prototype.processChunk.call(this,k)},y.exports=_},{"../utils":32,"./GenericWorker":28}],27:[function(d,y,v){var g=d("../utils"),w=d("./GenericWorker");function _(k){w.call(this,"DataWorker");var M=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,k.then((function(L){M.dataIsReady=!0,M.data=L,M.max=L&&L.length||0,M.type=g.getTypeOf(L),M.isPaused||M._tickAndRepeat()}),(function(L){M.error(L)}))}g.inherits(_,w),_.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var k=null,M=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":k=this.data.substring(this.index,M);break;case"uint8array":k=this.data.subarray(this.index,M);break;case"array":case"nodebuffer":k=this.data.slice(this.index,M)}return this.index=M,this.push({data:k,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(d,y,v){function g(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,_){return this._listeners[w].push(_),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,_){if(this._listeners[w])for(var k=0;k<this._listeners[w].length;k++)this._listeners[w][k].call(this,_)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var _=this;return w.on("data",(function(k){_.processChunk(k)})),w.on("end",(function(){_.end()})),w.on("error",(function(k){_.error(k)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,_){return this.extraStreamInfo[w]=_,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},y.exports=g},{}],29:[function(d,y,v){var g=d("../utils"),w=d("./ConvertWorker"),_=d("./GenericWorker"),k=d("../base64"),M=d("../support"),L=d("../external"),G=null;if(M.nodestream)try{G=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function F(j,U,q){var X=U;switch(U){case"blob":case"arraybuffer":X="uint8array";break;case"base64":X="string"}try{this._internalType=X,this._outputType=U,this._mimeType=q,g.checkSupport(X),this._worker=j.pipe(new w(X)),j.lock()}catch($){this._worker=new _("error"),this._worker.error($)}}F.prototype={accumulate:function(j){return(function(U,q){return new L.Promise((function(X,$){var R=[],P=U._internalType,C=U._outputType,x=U._mimeType;U.on("data",(function(S,T){R.push(S),q&&q(T)})).on("error",(function(S){R=[],$(S)})).on("end",(function(){try{var S=(function(T,E,N){switch(T){case"blob":return g.newBlob(g.transformTo("arraybuffer",E),N);case"base64":return k.encode(E);default:return g.transformTo(T,E)}})(C,(function(T,E){var N,I=0,B=null,K=0;for(N=0;N<E.length;N++)K+=E[N].length;switch(T){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(B=new Uint8Array(K),N=0;N<E.length;N++)B.set(E[N],I),I+=E[N].length;return B;case"nodebuffer":return h.concat(E);default:throw new Error("concat : unsupported type '"+T+"'")}})(P,R),x);X(S)}catch(T){$(T)}R=[]})).resume()}))})(this,j)},on:function(j,U){var q=this;return j==="data"?this._worker.on(j,(function(X){U.call(q,X.data,X.meta)})):this._worker.on(j,(function(){g.delay(U,arguments,q)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new G(this,{objectMode:this._outputType!=="nodebuffer"},j)}},y.exports=F},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,y,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=h!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var g=new ArrayBuffer(0);try{v.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(g),v.blob=w.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!d("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(d,y,v){for(var g=d("./utils"),w=d("./support"),_=d("./nodejsUtils"),k=d("./stream/GenericWorker"),M=new Array(256),L=0;L<256;L++)M[L]=252<=L?6:248<=L?5:240<=L?4:224<=L?3:192<=L?2:1;function G(){k.call(this,"utf-8 decode"),this.leftOver=null}function F(){k.call(this,"utf-8 encode")}M[254]=M[254]=1,v.utf8encode=function(j){return w.nodebuffer?_.newBufferFrom(j,"utf-8"):(function(U){var q,X,$,R,P,C=U.length,x=0;for(R=0;R<C;R++)(64512&(X=U.charCodeAt(R)))==55296&&R+1<C&&(64512&($=U.charCodeAt(R+1)))==56320&&(X=65536+(X-55296<<10)+($-56320),R++),x+=X<128?1:X<2048?2:X<65536?3:4;for(q=w.uint8array?new Uint8Array(x):new Array(x),R=P=0;P<x;R++)(64512&(X=U.charCodeAt(R)))==55296&&R+1<C&&(64512&($=U.charCodeAt(R+1)))==56320&&(X=65536+(X-55296<<10)+($-56320),R++),X<128?q[P++]=X:(X<2048?q[P++]=192|X>>>6:(X<65536?q[P++]=224|X>>>12:(q[P++]=240|X>>>18,q[P++]=128|X>>>12&63),q[P++]=128|X>>>6&63),q[P++]=128|63&X);return q})(j)},v.utf8decode=function(j){return w.nodebuffer?g.transformTo("nodebuffer",j).toString("utf-8"):(function(U){var q,X,$,R,P=U.length,C=new Array(2*P);for(q=X=0;q<P;)if(($=U[q++])<128)C[X++]=$;else if(4<(R=M[$]))C[X++]=65533,q+=R-1;else{for($&=R===2?31:R===3?15:7;1<R&&q<P;)$=$<<6|63&U[q++],R--;1<R?C[X++]=65533:$<65536?C[X++]=$:($-=65536,C[X++]=55296|$>>10&1023,C[X++]=56320|1023&$)}return C.length!==X&&(C.subarray?C=C.subarray(0,X):C.length=X),g.applyFromCharCode(C)})(j=g.transformTo(w.uint8array?"uint8array":"array",j))},g.inherits(G,k),G.prototype.processChunk=function(j){var U=g.transformTo(w.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var q=U;(U=new Uint8Array(q.length+this.leftOver.length)).set(this.leftOver,0),U.set(q,this.leftOver.length)}else U=this.leftOver.concat(U);this.leftOver=null}var X=(function(R,P){var C;for((P=P||R.length)>R.length&&(P=R.length),C=P-1;0<=C&&(192&R[C])==128;)C--;return C<0||C===0?P:C+M[R[C]]>P?C:P})(U),$=U;X!==U.length&&(w.uint8array?($=U.subarray(0,X),this.leftOver=U.subarray(X,U.length)):($=U.slice(0,X),this.leftOver=U.slice(X,U.length))),this.push({data:v.utf8decode($),meta:j.meta})},G.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=G,g.inherits(F,k),F.prototype.processChunk=function(j){this.push({data:v.utf8encode(j.data),meta:j.meta})},v.Utf8EncodeWorker=F},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,y,v){var g=d("./support"),w=d("./base64"),_=d("./nodejsUtils"),k=d("./external");function M(q){return q}function L(q,X){for(var $=0;$<q.length;++$)X[$]=255&q.charCodeAt($);return X}d("setimmediate"),v.newBlob=function(q,X){v.checkSupport("blob");try{return new Blob([q],{type:X})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(q),$.getBlob(X)}catch{throw new Error("Bug : can't construct the Blob.")}}};var G={stringifyByChunk:function(q,X,$){var R=[],P=0,C=q.length;if(C<=$)return String.fromCharCode.apply(null,q);for(;P<C;)X==="array"||X==="nodebuffer"?R.push(String.fromCharCode.apply(null,q.slice(P,Math.min(P+$,C)))):R.push(String.fromCharCode.apply(null,q.subarray(P,Math.min(P+$,C)))),P+=$;return R.join("")},stringifyByChar:function(q){for(var X="",$=0;$<q.length;$++)X+=String.fromCharCode(q[$]);return X},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,_.allocBuffer(1)).length===1}catch{return!1}})()}};function F(q){var X=65536,$=v.getTypeOf(q),R=!0;if($==="uint8array"?R=G.applyCanBeUsed.uint8array:$==="nodebuffer"&&(R=G.applyCanBeUsed.nodebuffer),R)for(;1<X;)try{return G.stringifyByChunk(q,$,X)}catch{X=Math.floor(X/2)}return G.stringifyByChar(q)}function j(q,X){for(var $=0;$<q.length;$++)X[$]=q[$];return X}v.applyFromCharCode=F;var U={};U.string={string:M,array:function(q){return L(q,new Array(q.length))},arraybuffer:function(q){return U.string.uint8array(q).buffer},uint8array:function(q){return L(q,new Uint8Array(q.length))},nodebuffer:function(q){return L(q,_.allocBuffer(q.length))}},U.array={string:F,array:M,arraybuffer:function(q){return new Uint8Array(q).buffer},uint8array:function(q){return new Uint8Array(q)},nodebuffer:function(q){return _.newBufferFrom(q)}},U.arraybuffer={string:function(q){return F(new Uint8Array(q))},array:function(q){return j(new Uint8Array(q),new Array(q.byteLength))},arraybuffer:M,uint8array:function(q){return new Uint8Array(q)},nodebuffer:function(q){return _.newBufferFrom(new Uint8Array(q))}},U.uint8array={string:F,array:function(q){return j(q,new Array(q.length))},arraybuffer:function(q){return q.buffer},uint8array:M,nodebuffer:function(q){return _.newBufferFrom(q)}},U.nodebuffer={string:F,array:function(q){return j(q,new Array(q.length))},arraybuffer:function(q){return U.nodebuffer.uint8array(q).buffer},uint8array:function(q){return j(q,new Uint8Array(q.length))},nodebuffer:M},v.transformTo=function(q,X){if(X=X||"",!q)return X;v.checkSupport(q);var $=v.getTypeOf(X);return U[$][q](X)},v.resolve=function(q){for(var X=q.split("/"),$=[],R=0;R<X.length;R++){var P=X[R];P==="."||P===""&&R!==0&&R!==X.length-1||(P===".."?$.pop():$.push(P))}return $.join("/")},v.getTypeOf=function(q){return typeof q=="string"?"string":Object.prototype.toString.call(q)==="[object Array]"?"array":g.nodebuffer&&_.isBuffer(q)?"nodebuffer":g.uint8array&&q instanceof Uint8Array?"uint8array":g.arraybuffer&&q instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(q){if(!g[q.toLowerCase()])throw new Error(q+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(q){var X,$,R="";for($=0;$<(q||"").length;$++)R+="\\x"+((X=q.charCodeAt($))<16?"0":"")+X.toString(16).toUpperCase();return R},v.delay=function(q,X,$){f((function(){q.apply($||null,X||[])}))},v.inherits=function(q,X){function $(){}$.prototype=X.prototype,q.prototype=new $},v.extend=function(){var q,X,$={};for(q=0;q<arguments.length;q++)for(X in arguments[q])Object.prototype.hasOwnProperty.call(arguments[q],X)&&$[X]===void 0&&($[X]=arguments[q][X]);return $},v.prepareContent=function(q,X,$,R,P){return k.Promise.resolve(X).then((function(C){return g.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new k.Promise((function(x,S){var T=new FileReader;T.onload=function(E){x(E.target.result)},T.onerror=function(E){S(E.target.error)},T.readAsArrayBuffer(C)})):C})).then((function(C){var x=v.getTypeOf(C);return x?(x==="arraybuffer"?C=v.transformTo("uint8array",C):x==="string"&&(P?C=w.decode(C):$&&R!==!0&&(C=(function(S){return L(S,g.uint8array?new Uint8Array(S.length):new Array(S.length))})(C))),C):k.Promise.reject(new Error("Can't read the data of '"+q+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,y,v){var g=d("./reader/readerFor"),w=d("./utils"),_=d("./signature"),k=d("./zipEntry"),M=d("./support");function L(G){this.files=[],this.loadOptions=G}L.prototype={checkSignature:function(G){if(!this.reader.readAndCheckSignature(G)){this.reader.index-=4;var F=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(F)+", expected "+w.pretty(G)+")")}},isSignature:function(G,F){var j=this.reader.index;this.reader.setIndex(G);var U=this.reader.readString(4)===F;return this.reader.setIndex(j),U},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var G=this.reader.readData(this.zipCommentLength),F=M.uint8array?"uint8array":"array",j=w.transformTo(F,G);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var G,F,j,U=this.zip64EndOfCentralSize-44;0<U;)G=this.reader.readInt(2),F=this.reader.readInt(4),j=this.reader.readData(F),this.zip64ExtensibleData[G]={id:G,length:F,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var G,F;for(G=0;G<this.files.length;G++)F=this.files[G],this.reader.setIndex(F.localHeaderOffset),this.checkSignature(_.LOCAL_FILE_HEADER),F.readLocalPart(this.reader),F.handleUTF8(),F.processAttributes()},readCentralDir:function(){var G;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_.CENTRAL_FILE_HEADER);)(G=new k({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(G);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var G=this.reader.lastIndexOfSignature(_.CENTRAL_DIRECTORY_END);if(G<0)throw this.isSignature(0,_.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(G);var F=G;if(this.checkSignature(_.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(G=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(G),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var U=F-j;if(0<U)this.isSignature(F,_.CENTRAL_FILE_HEADER)||(this.reader.zero=U);else if(U<0)throw new Error("Corrupted zip: missing "+Math.abs(U)+" bytes.")},prepareReader:function(G){this.reader=g(G)},load:function(G){this.prepareReader(G),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=L},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,y,v){var g=d("./reader/readerFor"),w=d("./utils"),_=d("./compressedObject"),k=d("./crc32"),M=d("./utf8"),L=d("./compressions"),G=d("./support");function F(j,U){this.options=j,this.loadOptions=U}F.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var U,q;if(j.skip(22),this.fileNameLength=j.readInt(2),q=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(q),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((U=(function(X){for(var $ in L)if(Object.prototype.hasOwnProperty.call(L,$)&&L[$].magic===X)return L[$];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new _(this.compressedSize,this.uncompressedSize,this.crc32,U,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var U=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(U),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=g(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var U,q,X,$=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<$;)U=j.readInt(2),q=j.readInt(2),X=j.readData(q),this.extraFields[U]={id:U,length:q,value:X};j.setIndex($)},handleUTF8:function(){var j=G.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=M.utf8decode(this.fileName),this.fileCommentStr=M.utf8decode(this.fileComment);else{var U=this.findExtraFieldUnicodePath();if(U!==null)this.fileNameStr=U;else{var q=w.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(q)}var X=this.findExtraFieldUnicodeComment();if(X!==null)this.fileCommentStr=X;else{var $=w.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var U=g(j.value);return U.readInt(1)!==1||k(this.fileName)!==U.readInt(4)?null:M.utf8decode(U.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var U=g(j.value);return U.readInt(1)!==1||k(this.fileComment)!==U.readInt(4)?null:M.utf8decode(U.readData(j.length-5))}return null}},y.exports=F},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,y,v){function g(U,q,X){this.name=U,this.dir=X.dir,this.date=X.date,this.comment=X.comment,this.unixPermissions=X.unixPermissions,this.dosPermissions=X.dosPermissions,this._data=q,this._dataBinary=X.binary,this.options={compression:X.compression,compressionOptions:X.compressionOptions}}var w=d("./stream/StreamHelper"),_=d("./stream/DataWorker"),k=d("./utf8"),M=d("./compressedObject"),L=d("./stream/GenericWorker");g.prototype={internalStream:function(U){var q=null,X="string";try{if(!U)throw new Error("No output type specified.");var $=(X=U.toLowerCase())==="string"||X==="text";X!=="binarystring"&&X!=="text"||(X="string"),q=this._decompressWorker();var R=!this._dataBinary;R&&!$&&(q=q.pipe(new k.Utf8EncodeWorker)),!R&&$&&(q=q.pipe(new k.Utf8DecodeWorker))}catch(P){(q=new L("error")).error(P)}return new w(q,X,"")},async:function(U,q){return this.internalStream(U).accumulate(q)},nodeStream:function(U,q){return this.internalStream(U||"nodebuffer").toNodejsStream(q)},_compressWorker:function(U,q){if(this._data instanceof M&&this._data.compression.magic===U.magic)return this._data.getCompressedWorker();var X=this._decompressWorker();return this._dataBinary||(X=X.pipe(new k.Utf8EncodeWorker)),M.createWorkerFrom(X,U,q)},_decompressWorker:function(){return this._data instanceof M?this._data.getContentWorker():this._data instanceof L?this._data:new _(this._data)}};for(var G=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],F=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<G.length;j++)g.prototype[G[j]]=F;y.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,y,v){(function(g){var w,_,k=g.MutationObserver||g.WebKitMutationObserver;if(k){var M=0,L=new k(U),G=g.document.createTextNode("");L.observe(G,{characterData:!0}),w=function(){G.data=M=++M%2}}else if(g.setImmediate||g.MessageChannel===void 0)w="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var q=g.document.createElement("script");q.onreadystatechange=function(){U(),q.onreadystatechange=null,q.parentNode.removeChild(q),q=null},g.document.documentElement.appendChild(q)}:function(){setTimeout(U,0)};else{var F=new g.MessageChannel;F.port1.onmessage=U,w=function(){F.port2.postMessage(0)}}var j=[];function U(){var q,X;_=!0;for(var $=j.length;$;){for(X=j,j=[],q=-1;++q<$;)X[q]();$=j.length}_=!1}y.exports=function(q){j.push(q)!==1||_||w()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,y,v){var g=d("immediate");function w(){}var _={},k=["REJECTED"],M=["FULFILLED"],L=["PENDING"];function G($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=L,this.queue=[],this.outcome=void 0,$!==w&&q(this,$)}function F($,R,P){this.promise=$,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function j($,R,P){g((function(){var C;try{C=R(P)}catch(x){return _.reject($,x)}C===$?_.reject($,new TypeError("Cannot resolve promise with itself")):_.resolve($,C)}))}function U($){var R=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof R=="function")return function(){R.apply($,arguments)}}function q($,R){var P=!1;function C(T){P||(P=!0,_.reject($,T))}function x(T){P||(P=!0,_.resolve($,T))}var S=X((function(){R(x,C)}));S.status==="error"&&C(S.value)}function X($,R){var P={};try{P.value=$(R),P.status="success"}catch(C){P.status="error",P.value=C}return P}(y.exports=G).prototype.finally=function($){if(typeof $!="function")return this;var R=this.constructor;return this.then((function(P){return R.resolve($()).then((function(){return P}))}),(function(P){return R.resolve($()).then((function(){throw P}))}))},G.prototype.catch=function($){return this.then(null,$)},G.prototype.then=function($,R){if(typeof $!="function"&&this.state===M||typeof R!="function"&&this.state===k)return this;var P=new this.constructor(w);return this.state!==L?j(P,this.state===M?$:R,this.outcome):this.queue.push(new F(P,$,R)),P},F.prototype.callFulfilled=function($){_.resolve(this.promise,$)},F.prototype.otherCallFulfilled=function($){j(this.promise,this.onFulfilled,$)},F.prototype.callRejected=function($){_.reject(this.promise,$)},F.prototype.otherCallRejected=function($){j(this.promise,this.onRejected,$)},_.resolve=function($,R){var P=X(U,R);if(P.status==="error")return _.reject($,P.value);var C=P.value;if(C)q($,C);else{$.state=M,$.outcome=R;for(var x=-1,S=$.queue.length;++x<S;)$.queue[x].callFulfilled(R)}return $},_.reject=function($,R){$.state=k,$.outcome=R;for(var P=-1,C=$.queue.length;++P<C;)$.queue[P].callRejected(R);return $},G.resolve=function($){return $ instanceof this?$:_.resolve(new this(w),$)},G.reject=function($){var R=new this(w);return _.reject(R,$)},G.all=function($){var R=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=$.length,C=!1;if(!P)return this.resolve([]);for(var x=new Array(P),S=0,T=-1,E=new this(w);++T<P;)N($[T],T);return E;function N(I,B){R.resolve(I).then((function(K){x[B]=K,++S!==P||C||(C=!0,_.resolve(E,x))}),(function(K){C||(C=!0,_.reject(E,K))}))}},G.race=function($){if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=$.length,P=!1;if(!R)return this.resolve([]);for(var C,x=-1,S=new this(w);++x<R;)C=$[x],this.resolve(C).then((function(T){P||(P=!0,_.resolve(S,T))}),(function(T){P||(P=!0,_.reject(S,T))}));return S}},{immediate:36}],38:[function(d,y,v){var g={};(0,d("./lib/utils/common").assign)(g,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),y.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,y,v){var g=d("./zlib/deflate"),w=d("./utils/common"),_=d("./utils/strings"),k=d("./zlib/messages"),M=d("./zlib/zstream"),L=Object.prototype.toString;function G(j){if(!(this instanceof G))return new G(j);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var U=this.options;U.raw&&0<U.windowBits?U.windowBits=-U.windowBits:U.gzip&&0<U.windowBits&&U.windowBits<16&&(U.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var q=g.deflateInit2(this.strm,U.level,U.method,U.windowBits,U.memLevel,U.strategy);if(q!==0)throw new Error(k[q]);if(U.header&&g.deflateSetHeader(this.strm,U.header),U.dictionary){var X;if(X=typeof U.dictionary=="string"?_.string2buf(U.dictionary):L.call(U.dictionary)==="[object ArrayBuffer]"?new Uint8Array(U.dictionary):U.dictionary,(q=g.deflateSetDictionary(this.strm,X))!==0)throw new Error(k[q]);this._dict_set=!0}}function F(j,U){var q=new G(U);if(q.push(j,!0),q.err)throw q.msg||k[q.err];return q.result}G.prototype.push=function(j,U){var q,X,$=this.strm,R=this.options.chunkSize;if(this.ended)return!1;X=U===~~U?U:U===!0?4:0,typeof j=="string"?$.input=_.string2buf(j):L.call(j)==="[object ArrayBuffer]"?$.input=new Uint8Array(j):$.input=j,$.next_in=0,$.avail_in=$.input.length;do{if($.avail_out===0&&($.output=new w.Buf8(R),$.next_out=0,$.avail_out=R),(q=g.deflate($,X))!==1&&q!==0)return this.onEnd(q),!(this.ended=!0);$.avail_out!==0&&($.avail_in!==0||X!==4&&X!==2)||(this.options.to==="string"?this.onData(_.buf2binstring(w.shrinkBuf($.output,$.next_out))):this.onData(w.shrinkBuf($.output,$.next_out)))}while((0<$.avail_in||$.avail_out===0)&&q!==1);return X===4?(q=g.deflateEnd(this.strm),this.onEnd(q),this.ended=!0,q===0):X!==2||(this.onEnd(0),!($.avail_out=0))},G.prototype.onData=function(j){this.chunks.push(j)},G.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},v.Deflate=G,v.deflate=F,v.deflateRaw=function(j,U){return(U=U||{}).raw=!0,F(j,U)},v.gzip=function(j,U){return(U=U||{}).gzip=!0,F(j,U)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,y,v){var g=d("./zlib/inflate"),w=d("./utils/common"),_=d("./utils/strings"),k=d("./zlib/constants"),M=d("./zlib/messages"),L=d("./zlib/zstream"),G=d("./zlib/gzheader"),F=Object.prototype.toString;function j(q){if(!(this instanceof j))return new j(q);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},q||{});var X=this.options;X.raw&&0<=X.windowBits&&X.windowBits<16&&(X.windowBits=-X.windowBits,X.windowBits===0&&(X.windowBits=-15)),!(0<=X.windowBits&&X.windowBits<16)||q&&q.windowBits||(X.windowBits+=32),15<X.windowBits&&X.windowBits<48&&(15&X.windowBits)==0&&(X.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new L,this.strm.avail_out=0;var $=g.inflateInit2(this.strm,X.windowBits);if($!==k.Z_OK)throw new Error(M[$]);this.header=new G,g.inflateGetHeader(this.strm,this.header)}function U(q,X){var $=new j(X);if($.push(q,!0),$.err)throw $.msg||M[$.err];return $.result}j.prototype.push=function(q,X){var $,R,P,C,x,S,T=this.strm,E=this.options.chunkSize,N=this.options.dictionary,I=!1;if(this.ended)return!1;R=X===~~X?X:X===!0?k.Z_FINISH:k.Z_NO_FLUSH,typeof q=="string"?T.input=_.binstring2buf(q):F.call(q)==="[object ArrayBuffer]"?T.input=new Uint8Array(q):T.input=q,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new w.Buf8(E),T.next_out=0,T.avail_out=E),($=g.inflate(T,k.Z_NO_FLUSH))===k.Z_NEED_DICT&&N&&(S=typeof N=="string"?_.string2buf(N):F.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,$=g.inflateSetDictionary(this.strm,S)),$===k.Z_BUF_ERROR&&I===!0&&($=k.Z_OK,I=!1),$!==k.Z_STREAM_END&&$!==k.Z_OK)return this.onEnd($),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&$!==k.Z_STREAM_END&&(T.avail_in!==0||R!==k.Z_FINISH&&R!==k.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=_.utf8border(T.output,T.next_out),C=T.next_out-P,x=_.buf2string(T.output,P),T.next_out=C,T.avail_out=E-C,C&&w.arraySet(T.output,T.output,P,C,0),this.onData(x)):this.onData(w.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(I=!0)}while((0<T.avail_in||T.avail_out===0)&&$!==k.Z_STREAM_END);return $===k.Z_STREAM_END&&(R=k.Z_FINISH),R===k.Z_FINISH?($=g.inflateEnd(this.strm),this.onEnd($),this.ended=!0,$===k.Z_OK):R!==k.Z_SYNC_FLUSH||(this.onEnd(k.Z_OK),!(T.avail_out=0))},j.prototype.onData=function(q){this.chunks.push(q)},j.prototype.onEnd=function(q){q===k.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=q,this.msg=this.strm.msg},v.Inflate=j,v.inflate=U,v.inflateRaw=function(q,X){return(X=X||{}).raw=!0,U(q,X)},v.ungzip=U},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,y,v){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(k){for(var M=Array.prototype.slice.call(arguments,1);M.length;){var L=M.shift();if(L){if(typeof L!="object")throw new TypeError(L+"must be non-object");for(var G in L)L.hasOwnProperty(G)&&(k[G]=L[G])}}return k},v.shrinkBuf=function(k,M){return k.length===M?k:k.subarray?k.subarray(0,M):(k.length=M,k)};var w={arraySet:function(k,M,L,G,F){if(M.subarray&&k.subarray)k.set(M.subarray(L,L+G),F);else for(var j=0;j<G;j++)k[F+j]=M[L+j]},flattenChunks:function(k){var M,L,G,F,j,U;for(M=G=0,L=k.length;M<L;M++)G+=k[M].length;for(U=new Uint8Array(G),M=F=0,L=k.length;M<L;M++)j=k[M],U.set(j,F),F+=j.length;return U}},_={arraySet:function(k,M,L,G,F){for(var j=0;j<G;j++)k[F+j]=M[L+j]},flattenChunks:function(k){return[].concat.apply([],k)}};v.setTyped=function(k){k?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,w)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,_))},v.setTyped(g)},{}],42:[function(d,y,v){var g=d("./common"),w=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var k=new g.Buf8(256),M=0;M<256;M++)k[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function L(G,F){if(F<65537&&(G.subarray&&_||!G.subarray&&w))return String.fromCharCode.apply(null,g.shrinkBuf(G,F));for(var j="",U=0;U<F;U++)j+=String.fromCharCode(G[U]);return j}k[254]=k[254]=1,v.string2buf=function(G){var F,j,U,q,X,$=G.length,R=0;for(q=0;q<$;q++)(64512&(j=G.charCodeAt(q)))==55296&&q+1<$&&(64512&(U=G.charCodeAt(q+1)))==56320&&(j=65536+(j-55296<<10)+(U-56320),q++),R+=j<128?1:j<2048?2:j<65536?3:4;for(F=new g.Buf8(R),q=X=0;X<R;q++)(64512&(j=G.charCodeAt(q)))==55296&&q+1<$&&(64512&(U=G.charCodeAt(q+1)))==56320&&(j=65536+(j-55296<<10)+(U-56320),q++),j<128?F[X++]=j:(j<2048?F[X++]=192|j>>>6:(j<65536?F[X++]=224|j>>>12:(F[X++]=240|j>>>18,F[X++]=128|j>>>12&63),F[X++]=128|j>>>6&63),F[X++]=128|63&j);return F},v.buf2binstring=function(G){return L(G,G.length)},v.binstring2buf=function(G){for(var F=new g.Buf8(G.length),j=0,U=F.length;j<U;j++)F[j]=G.charCodeAt(j);return F},v.buf2string=function(G,F){var j,U,q,X,$=F||G.length,R=new Array(2*$);for(j=U=0;j<$;)if((q=G[j++])<128)R[U++]=q;else if(4<(X=k[q]))R[U++]=65533,j+=X-1;else{for(q&=X===2?31:X===3?15:7;1<X&&j<$;)q=q<<6|63&G[j++],X--;1<X?R[U++]=65533:q<65536?R[U++]=q:(q-=65536,R[U++]=55296|q>>10&1023,R[U++]=56320|1023&q)}return L(R,U)},v.utf8border=function(G,F){var j;for((F=F||G.length)>G.length&&(F=G.length),j=F-1;0<=j&&(192&G[j])==128;)j--;return j<0||j===0?F:j+k[G[j]]>F?j:F}},{"./common":41}],43:[function(d,y,v){y.exports=function(g,w,_,k){for(var M=65535&g|0,L=g>>>16&65535|0,G=0;_!==0;){for(_-=G=2e3<_?2e3:_;L=L+(M=M+w[k++]|0)|0,--G;);M%=65521,L%=65521}return M|L<<16|0}},{}],44:[function(d,y,v){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,y,v){var g=(function(){for(var w,_=[],k=0;k<256;k++){w=k;for(var M=0;M<8;M++)w=1&w?3988292384^w>>>1:w>>>1;_[k]=w}return _})();y.exports=function(w,_,k,M){var L=g,G=M+k;w^=-1;for(var F=M;F<G;F++)w=w>>>8^L[255&(w^_[F])];return-1^w}},{}],46:[function(d,y,v){var g,w=d("../utils/common"),_=d("./trees"),k=d("./adler32"),M=d("./crc32"),L=d("./messages"),G=-2,F=258,j=262,U=113;function q(H,tt){return H.msg=L[tt],tt}function X(H){return(H<<1)-(4<H?9:0)}function $(H){for(var tt=H.length;0<=--tt;)H[tt]=0}function R(H){var tt=H.state,V=tt.pending;V>H.avail_out&&(V=H.avail_out),V!==0&&(w.arraySet(H.output,tt.pending_buf,tt.pending_out,V,H.next_out),H.next_out+=V,tt.pending_out+=V,H.total_out+=V,H.avail_out-=V,tt.pending-=V,tt.pending===0&&(tt.pending_out=0))}function P(H,tt){_._tr_flush_block(H,0<=H.block_start?H.block_start:-1,H.strstart-H.block_start,tt),H.block_start=H.strstart,R(H.strm)}function C(H,tt){H.pending_buf[H.pending++]=tt}function x(H,tt){H.pending_buf[H.pending++]=tt>>>8&255,H.pending_buf[H.pending++]=255&tt}function S(H,tt){var V,D,Q=H.max_chain_length,it=H.strstart,ht=H.prev_length,st=H.nice_match,ut=H.strstart>H.w_size-j?H.strstart-(H.w_size-j):0,yt=H.window,bt=H.w_mask,at=H.prev,pt=H.strstart+F,dt=yt[it+ht-1],vt=yt[it+ht];H.prev_length>=H.good_match&&(Q>>=2),st>H.lookahead&&(st=H.lookahead);do if(yt[(V=tt)+ht]===vt&&yt[V+ht-1]===dt&&yt[V]===yt[it]&&yt[++V]===yt[it+1]){it+=2,V++;do;while(yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&yt[++it]===yt[++V]&&it<pt);if(D=F-(pt-it),it=pt-F,ht<D){if(H.match_start=tt,st<=(ht=D))break;dt=yt[it+ht-1],vt=yt[it+ht]}}while((tt=at[tt&bt])>ut&&--Q!=0);return ht<=H.lookahead?ht:H.lookahead}function T(H){var tt,V,D,Q,it,ht,st,ut,yt,bt,at=H.w_size;do{if(Q=H.window_size-H.lookahead-H.strstart,H.strstart>=at+(at-j)){for(w.arraySet(H.window,H.window,at,at,0),H.match_start-=at,H.strstart-=at,H.block_start-=at,tt=V=H.hash_size;D=H.head[--tt],H.head[tt]=at<=D?D-at:0,--V;);for(tt=V=at;D=H.prev[--tt],H.prev[tt]=at<=D?D-at:0,--V;);Q+=at}if(H.strm.avail_in===0)break;if(ht=H.strm,st=H.window,ut=H.strstart+H.lookahead,bt=void 0,(yt=Q)<(bt=ht.avail_in)&&(bt=yt),V=bt===0?0:(ht.avail_in-=bt,w.arraySet(st,ht.input,ht.next_in,bt,ut),ht.state.wrap===1?ht.adler=k(ht.adler,st,bt,ut):ht.state.wrap===2&&(ht.adler=M(ht.adler,st,bt,ut)),ht.next_in+=bt,ht.total_in+=bt,bt),H.lookahead+=V,H.lookahead+H.insert>=3)for(it=H.strstart-H.insert,H.ins_h=H.window[it],H.ins_h=(H.ins_h<<H.hash_shift^H.window[it+1])&H.hash_mask;H.insert&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[it+3-1])&H.hash_mask,H.prev[it&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=it,it++,H.insert--,!(H.lookahead+H.insert<3)););}while(H.lookahead<j&&H.strm.avail_in!==0)}function E(H,tt){for(var V,D;;){if(H.lookahead<j){if(T(H),H.lookahead<j&&tt===0)return 1;if(H.lookahead===0)break}if(V=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,V=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),V!==0&&H.strstart-V<=H.w_size-j&&(H.match_length=S(H,V)),H.match_length>=3)if(D=_._tr_tally(H,H.strstart-H.match_start,H.match_length-3),H.lookahead-=H.match_length,H.match_length<=H.max_lazy_match&&H.lookahead>=3){for(H.match_length--;H.strstart++,H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,V=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart,--H.match_length!=0;);H.strstart++}else H.strstart+=H.match_length,H.match_length=0,H.ins_h=H.window[H.strstart],H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+1])&H.hash_mask;else D=_._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++;if(D&&(P(H,!1),H.strm.avail_out===0))return 1}return H.insert=H.strstart<2?H.strstart:2,tt===4?(P(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(P(H,!1),H.strm.avail_out===0)?1:2}function N(H,tt){for(var V,D,Q;;){if(H.lookahead<j){if(T(H),H.lookahead<j&&tt===0)return 1;if(H.lookahead===0)break}if(V=0,H.lookahead>=3&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,V=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),H.prev_length=H.match_length,H.prev_match=H.match_start,H.match_length=2,V!==0&&H.prev_length<H.max_lazy_match&&H.strstart-V<=H.w_size-j&&(H.match_length=S(H,V),H.match_length<=5&&(H.strategy===1||H.match_length===3&&4096<H.strstart-H.match_start)&&(H.match_length=2)),H.prev_length>=3&&H.match_length<=H.prev_length){for(Q=H.strstart+H.lookahead-3,D=_._tr_tally(H,H.strstart-1-H.prev_match,H.prev_length-3),H.lookahead-=H.prev_length-1,H.prev_length-=2;++H.strstart<=Q&&(H.ins_h=(H.ins_h<<H.hash_shift^H.window[H.strstart+3-1])&H.hash_mask,V=H.prev[H.strstart&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=H.strstart),--H.prev_length!=0;);if(H.match_available=0,H.match_length=2,H.strstart++,D&&(P(H,!1),H.strm.avail_out===0))return 1}else if(H.match_available){if((D=_._tr_tally(H,0,H.window[H.strstart-1]))&&P(H,!1),H.strstart++,H.lookahead--,H.strm.avail_out===0)return 1}else H.match_available=1,H.strstart++,H.lookahead--}return H.match_available&&(D=_._tr_tally(H,0,H.window[H.strstart-1]),H.match_available=0),H.insert=H.strstart<2?H.strstart:2,tt===4?(P(H,!0),H.strm.avail_out===0?3:4):H.last_lit&&(P(H,!1),H.strm.avail_out===0)?1:2}function I(H,tt,V,D,Q){this.good_length=H,this.max_lazy=tt,this.nice_length=V,this.max_chain=D,this.func=Q}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K(H){var tt;return H&&H.state?(H.total_in=H.total_out=0,H.data_type=2,(tt=H.state).pending=0,tt.pending_out=0,tt.wrap<0&&(tt.wrap=-tt.wrap),tt.status=tt.wrap?42:U,H.adler=tt.wrap===2?0:1,tt.last_flush=0,_._tr_init(tt),0):q(H,G)}function Z(H){var tt=K(H);return tt===0&&(function(V){V.window_size=2*V.w_size,$(V.head),V.max_lazy_match=g[V.level].max_lazy,V.good_match=g[V.level].good_length,V.nice_match=g[V.level].nice_length,V.max_chain_length=g[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=2,V.match_available=0,V.ins_h=0})(H.state),tt}function nt(H,tt,V,D,Q,it){if(!H)return G;var ht=1;if(tt===-1&&(tt=6),D<0?(ht=0,D=-D):15<D&&(ht=2,D-=16),Q<1||9<Q||V!==8||D<8||15<D||tt<0||9<tt||it<0||4<it)return q(H,G);D===8&&(D=9);var st=new B;return(H.state=st).strm=H,st.wrap=ht,st.gzhead=null,st.w_bits=D,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=Q+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+3-1)/3),st.window=new w.Buf8(2*st.w_size),st.head=new w.Buf16(st.hash_size),st.prev=new w.Buf16(st.w_size),st.lit_bufsize=1<<Q+6,st.pending_buf_size=4*st.lit_bufsize,st.pending_buf=new w.Buf8(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=3*st.lit_bufsize,st.level=tt,st.strategy=it,st.method=V,Z(H)}g=[new I(0,0,0,0,(function(H,tt){var V=65535;for(V>H.pending_buf_size-5&&(V=H.pending_buf_size-5);;){if(H.lookahead<=1){if(T(H),H.lookahead===0&&tt===0)return 1;if(H.lookahead===0)break}H.strstart+=H.lookahead,H.lookahead=0;var D=H.block_start+V;if((H.strstart===0||H.strstart>=D)&&(H.lookahead=H.strstart-D,H.strstart=D,P(H,!1),H.strm.avail_out===0)||H.strstart-H.block_start>=H.w_size-j&&(P(H,!1),H.strm.avail_out===0))return 1}return H.insert=0,tt===4?(P(H,!0),H.strm.avail_out===0?3:4):(H.strstart>H.block_start&&(P(H,!1),H.strm.avail_out),1)})),new I(4,4,8,4,E),new I(4,5,16,8,E),new I(4,6,32,32,E),new I(4,4,16,16,N),new I(8,16,32,32,N),new I(8,16,128,128,N),new I(8,32,128,256,N),new I(32,128,258,1024,N),new I(32,258,258,4096,N)],v.deflateInit=function(H,tt){return nt(H,tt,8,15,8,0)},v.deflateInit2=nt,v.deflateReset=Z,v.deflateResetKeep=K,v.deflateSetHeader=function(H,tt){return H&&H.state?H.state.wrap!==2?G:(H.state.gzhead=tt,0):G},v.deflate=function(H,tt){var V,D,Q,it;if(!H||!H.state||5<tt||tt<0)return H?q(H,G):G;if(D=H.state,!H.output||!H.input&&H.avail_in!==0||D.status===666&&tt!==4)return q(H,H.avail_out===0?-5:G);if(D.strm=H,V=D.last_flush,D.last_flush=tt,D.status===42)if(D.wrap===2)H.adler=0,C(D,31),C(D,139),C(D,8),D.gzhead?(C(D,(D.gzhead.text?1:0)+(D.gzhead.hcrc?2:0)+(D.gzhead.extra?4:0)+(D.gzhead.name?8:0)+(D.gzhead.comment?16:0)),C(D,255&D.gzhead.time),C(D,D.gzhead.time>>8&255),C(D,D.gzhead.time>>16&255),C(D,D.gzhead.time>>24&255),C(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),C(D,255&D.gzhead.os),D.gzhead.extra&&D.gzhead.extra.length&&(C(D,255&D.gzhead.extra.length),C(D,D.gzhead.extra.length>>8&255)),D.gzhead.hcrc&&(H.adler=M(H.adler,D.pending_buf,D.pending,0)),D.gzindex=0,D.status=69):(C(D,0),C(D,0),C(D,0),C(D,0),C(D,0),C(D,D.level===9?2:2<=D.strategy||D.level<2?4:0),C(D,3),D.status=U);else{var ht=8+(D.w_bits-8<<4)<<8;ht|=(2<=D.strategy||D.level<2?0:D.level<6?1:D.level===6?2:3)<<6,D.strstart!==0&&(ht|=32),ht+=31-ht%31,D.status=U,x(D,ht),D.strstart!==0&&(x(D,H.adler>>>16),x(D,65535&H.adler)),H.adler=1}if(D.status===69)if(D.gzhead.extra){for(Q=D.pending;D.gzindex<(65535&D.gzhead.extra.length)&&(D.pending!==D.pending_buf_size||(D.gzhead.hcrc&&D.pending>Q&&(H.adler=M(H.adler,D.pending_buf,D.pending-Q,Q)),R(H),Q=D.pending,D.pending!==D.pending_buf_size));)C(D,255&D.gzhead.extra[D.gzindex]),D.gzindex++;D.gzhead.hcrc&&D.pending>Q&&(H.adler=M(H.adler,D.pending_buf,D.pending-Q,Q)),D.gzindex===D.gzhead.extra.length&&(D.gzindex=0,D.status=73)}else D.status=73;if(D.status===73)if(D.gzhead.name){Q=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>Q&&(H.adler=M(H.adler,D.pending_buf,D.pending-Q,Q)),R(H),Q=D.pending,D.pending===D.pending_buf_size)){it=1;break}it=D.gzindex<D.gzhead.name.length?255&D.gzhead.name.charCodeAt(D.gzindex++):0,C(D,it)}while(it!==0);D.gzhead.hcrc&&D.pending>Q&&(H.adler=M(H.adler,D.pending_buf,D.pending-Q,Q)),it===0&&(D.gzindex=0,D.status=91)}else D.status=91;if(D.status===91)if(D.gzhead.comment){Q=D.pending;do{if(D.pending===D.pending_buf_size&&(D.gzhead.hcrc&&D.pending>Q&&(H.adler=M(H.adler,D.pending_buf,D.pending-Q,Q)),R(H),Q=D.pending,D.pending===D.pending_buf_size)){it=1;break}it=D.gzindex<D.gzhead.comment.length?255&D.gzhead.comment.charCodeAt(D.gzindex++):0,C(D,it)}while(it!==0);D.gzhead.hcrc&&D.pending>Q&&(H.adler=M(H.adler,D.pending_buf,D.pending-Q,Q)),it===0&&(D.status=103)}else D.status=103;if(D.status===103&&(D.gzhead.hcrc?(D.pending+2>D.pending_buf_size&&R(H),D.pending+2<=D.pending_buf_size&&(C(D,255&H.adler),C(D,H.adler>>8&255),H.adler=0,D.status=U)):D.status=U),D.pending!==0){if(R(H),H.avail_out===0)return D.last_flush=-1,0}else if(H.avail_in===0&&X(tt)<=X(V)&&tt!==4)return q(H,-5);if(D.status===666&&H.avail_in!==0)return q(H,-5);if(H.avail_in!==0||D.lookahead!==0||tt!==0&&D.status!==666){var st=D.strategy===2?(function(ut,yt){for(var bt;;){if(ut.lookahead===0&&(T(ut),ut.lookahead===0)){if(yt===0)return 1;break}if(ut.match_length=0,bt=_._tr_tally(ut,0,ut.window[ut.strstart]),ut.lookahead--,ut.strstart++,bt&&(P(ut,!1),ut.strm.avail_out===0))return 1}return ut.insert=0,yt===4?(P(ut,!0),ut.strm.avail_out===0?3:4):ut.last_lit&&(P(ut,!1),ut.strm.avail_out===0)?1:2})(D,tt):D.strategy===3?(function(ut,yt){for(var bt,at,pt,dt,vt=ut.window;;){if(ut.lookahead<=F){if(T(ut),ut.lookahead<=F&&yt===0)return 1;if(ut.lookahead===0)break}if(ut.match_length=0,ut.lookahead>=3&&0<ut.strstart&&(at=vt[pt=ut.strstart-1])===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]){dt=ut.strstart+F;do;while(at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&pt<dt);ut.match_length=F-(dt-pt),ut.match_length>ut.lookahead&&(ut.match_length=ut.lookahead)}if(ut.match_length>=3?(bt=_._tr_tally(ut,1,ut.match_length-3),ut.lookahead-=ut.match_length,ut.strstart+=ut.match_length,ut.match_length=0):(bt=_._tr_tally(ut,0,ut.window[ut.strstart]),ut.lookahead--,ut.strstart++),bt&&(P(ut,!1),ut.strm.avail_out===0))return 1}return ut.insert=0,yt===4?(P(ut,!0),ut.strm.avail_out===0?3:4):ut.last_lit&&(P(ut,!1),ut.strm.avail_out===0)?1:2})(D,tt):g[D.level].func(D,tt);if(st!==3&&st!==4||(D.status=666),st===1||st===3)return H.avail_out===0&&(D.last_flush=-1),0;if(st===2&&(tt===1?_._tr_align(D):tt!==5&&(_._tr_stored_block(D,0,0,!1),tt===3&&($(D.head),D.lookahead===0&&(D.strstart=0,D.block_start=0,D.insert=0))),R(H),H.avail_out===0))return D.last_flush=-1,0}return tt!==4?0:D.wrap<=0?1:(D.wrap===2?(C(D,255&H.adler),C(D,H.adler>>8&255),C(D,H.adler>>16&255),C(D,H.adler>>24&255),C(D,255&H.total_in),C(D,H.total_in>>8&255),C(D,H.total_in>>16&255),C(D,H.total_in>>24&255)):(x(D,H.adler>>>16),x(D,65535&H.adler)),R(H),0<D.wrap&&(D.wrap=-D.wrap),D.pending!==0?0:1)},v.deflateEnd=function(H){var tt;return H&&H.state?(tt=H.state.status)!==42&&tt!==69&&tt!==73&&tt!==91&&tt!==103&&tt!==U&&tt!==666?q(H,G):(H.state=null,tt===U?q(H,-3):0):G},v.deflateSetDictionary=function(H,tt){var V,D,Q,it,ht,st,ut,yt,bt=tt.length;if(!H||!H.state||(it=(V=H.state).wrap)===2||it===1&&V.status!==42||V.lookahead)return G;for(it===1&&(H.adler=k(H.adler,tt,bt,0)),V.wrap=0,bt>=V.w_size&&(it===0&&($(V.head),V.strstart=0,V.block_start=0,V.insert=0),yt=new w.Buf8(V.w_size),w.arraySet(yt,tt,bt-V.w_size,V.w_size,0),tt=yt,bt=V.w_size),ht=H.avail_in,st=H.next_in,ut=H.input,H.avail_in=bt,H.next_in=0,H.input=tt,T(V);V.lookahead>=3;){for(D=V.strstart,Q=V.lookahead-2;V.ins_h=(V.ins_h<<V.hash_shift^V.window[D+3-1])&V.hash_mask,V.prev[D&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=D,D++,--Q;);V.strstart=D,V.lookahead=2,T(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=2,V.match_available=0,H.next_in=st,H.input=ut,H.avail_in=ht,V.wrap=it,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,y,v){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,y,v){y.exports=function(g,w){var _,k,M,L,G,F,j,U,q,X,$,R,P,C,x,S,T,E,N,I,B,K,Z,nt,H;_=g.state,k=g.next_in,nt=g.input,M=k+(g.avail_in-5),L=g.next_out,H=g.output,G=L-(w-g.avail_out),F=L+(g.avail_out-257),j=_.dmax,U=_.wsize,q=_.whave,X=_.wnext,$=_.window,R=_.hold,P=_.bits,C=_.lencode,x=_.distcode,S=(1<<_.lenbits)-1,T=(1<<_.distbits)-1;t:do{P<15&&(R+=nt[k++]<<P,P+=8,R+=nt[k++]<<P,P+=8),E=C[R&S];e:for(;;){if(R>>>=N=E>>>24,P-=N,(N=E>>>16&255)==0)H[L++]=65535&E;else{if(!(16&N)){if((64&N)==0){E=C[(65535&E)+(R&(1<<N)-1)];continue e}if(32&N){_.mode=12;break t}g.msg="invalid literal/length code",_.mode=30;break t}I=65535&E,(N&=15)&&(P<N&&(R+=nt[k++]<<P,P+=8),I+=R&(1<<N)-1,R>>>=N,P-=N),P<15&&(R+=nt[k++]<<P,P+=8,R+=nt[k++]<<P,P+=8),E=x[R&T];r:for(;;){if(R>>>=N=E>>>24,P-=N,!(16&(N=E>>>16&255))){if((64&N)==0){E=x[(65535&E)+(R&(1<<N)-1)];continue r}g.msg="invalid distance code",_.mode=30;break t}if(B=65535&E,P<(N&=15)&&(R+=nt[k++]<<P,(P+=8)<N&&(R+=nt[k++]<<P,P+=8)),j<(B+=R&(1<<N)-1)){g.msg="invalid distance too far back",_.mode=30;break t}if(R>>>=N,P-=N,(N=L-G)<B){if(q<(N=B-N)&&_.sane){g.msg="invalid distance too far back",_.mode=30;break t}if(Z=$,(K=0)===X){if(K+=U-N,N<I){for(I-=N;H[L++]=$[K++],--N;);K=L-B,Z=H}}else if(X<N){if(K+=U+X-N,(N-=X)<I){for(I-=N;H[L++]=$[K++],--N;);if(K=0,X<I){for(I-=N=X;H[L++]=$[K++],--N;);K=L-B,Z=H}}}else if(K+=X-N,N<I){for(I-=N;H[L++]=$[K++],--N;);K=L-B,Z=H}for(;2<I;)H[L++]=Z[K++],H[L++]=Z[K++],H[L++]=Z[K++],I-=3;I&&(H[L++]=Z[K++],1<I&&(H[L++]=Z[K++]))}else{for(K=L-B;H[L++]=H[K++],H[L++]=H[K++],H[L++]=H[K++],2<(I-=3););I&&(H[L++]=H[K++],1<I&&(H[L++]=H[K++]))}break}}break}}while(k<M&&L<F);k-=I=P>>3,R&=(1<<(P-=I<<3))-1,g.next_in=k,g.next_out=L,g.avail_in=k<M?M-k+5:5-(k-M),g.avail_out=L<F?F-L+257:257-(L-F),_.hold=R,_.bits=P}},{}],49:[function(d,y,v){var g=d("../utils/common"),w=d("./adler32"),_=d("./crc32"),k=d("./inffast"),M=d("./inftrees"),L=-2;function G(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function F(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(S){var T;return S&&S.state?(T=S.state,S.total_in=S.total_out=T.total=0,S.msg="",T.wrap&&(S.adler=1&T.wrap),T.mode=1,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new g.Buf32(852),T.distcode=T.distdyn=new g.Buf32(592),T.sane=1,T.back=-1,0):L}function U(S){var T;return S&&S.state?((T=S.state).wsize=0,T.whave=0,T.wnext=0,j(S)):L}function q(S,T){var E,N;return S&&S.state?(N=S.state,T<0?(E=0,T=-T):(E=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?L:(N.window!==null&&N.wbits!==T&&(N.window=null),N.wrap=E,N.wbits=T,U(S))):L}function X(S,T){var E,N;return S?(N=new F,(S.state=N).window=null,(E=q(S,T))!==0&&(S.state=null),E):L}var $,R,P=!0;function C(S){if(P){var T;for($=new g.Buf32(512),R=new g.Buf32(32),T=0;T<144;)S.lens[T++]=8;for(;T<256;)S.lens[T++]=9;for(;T<280;)S.lens[T++]=7;for(;T<288;)S.lens[T++]=8;for(M(1,S.lens,0,288,$,0,S.work,{bits:9}),T=0;T<32;)S.lens[T++]=5;M(2,S.lens,0,32,R,0,S.work,{bits:5}),P=!1}S.lencode=$,S.lenbits=9,S.distcode=R,S.distbits=5}function x(S,T,E,N){var I,B=S.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new g.Buf8(B.wsize)),N>=B.wsize?(g.arraySet(B.window,T,E-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(N<(I=B.wsize-B.wnext)&&(I=N),g.arraySet(B.window,T,E-N,I,B.wnext),(N-=I)?(g.arraySet(B.window,T,E-N,N,0),B.wnext=N,B.whave=B.wsize):(B.wnext+=I,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=I))),0}v.inflateReset=U,v.inflateReset2=q,v.inflateResetKeep=j,v.inflateInit=function(S){return X(S,15)},v.inflateInit2=X,v.inflate=function(S,T){var E,N,I,B,K,Z,nt,H,tt,V,D,Q,it,ht,st,ut,yt,bt,at,pt,dt,vt,xt,Et,It=0,Nt=new g.Buf8(4),$t=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return L;(E=S.state).mode===12&&(E.mode=13),K=S.next_out,I=S.output,nt=S.avail_out,B=S.next_in,N=S.input,Z=S.avail_in,H=E.hold,tt=E.bits,V=Z,D=nt,vt=0;t:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;tt<16;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(2&E.wrap&&H===35615){Nt[E.check=0]=255&H,Nt[1]=H>>>8&255,E.check=_(E.check,Nt,2,0),tt=H=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&H)<<8)+(H>>8))%31){S.msg="incorrect header check",E.mode=30;break}if((15&H)!=8){S.msg="unknown compression method",E.mode=30;break}if(tt-=4,dt=8+(15&(H>>>=4)),E.wbits===0)E.wbits=dt;else if(dt>E.wbits){S.msg="invalid window size",E.mode=30;break}E.dmax=1<<dt,S.adler=E.check=1,E.mode=512&H?10:12,tt=H=0;break;case 2:for(;tt<16;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(E.flags=H,(255&E.flags)!=8){S.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){S.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=H>>8&1),512&E.flags&&(Nt[0]=255&H,Nt[1]=H>>>8&255,E.check=_(E.check,Nt,2,0)),tt=H=0,E.mode=3;case 3:for(;tt<32;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}E.head&&(E.head.time=H),512&E.flags&&(Nt[0]=255&H,Nt[1]=H>>>8&255,Nt[2]=H>>>16&255,Nt[3]=H>>>24&255,E.check=_(E.check,Nt,4,0)),tt=H=0,E.mode=4;case 4:for(;tt<16;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}E.head&&(E.head.xflags=255&H,E.head.os=H>>8),512&E.flags&&(Nt[0]=255&H,Nt[1]=H>>>8&255,E.check=_(E.check,Nt,2,0)),tt=H=0,E.mode=5;case 5:if(1024&E.flags){for(;tt<16;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}E.length=H,E.head&&(E.head.extra_len=H),512&E.flags&&(Nt[0]=255&H,Nt[1]=H>>>8&255,E.check=_(E.check,Nt,2,0)),tt=H=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(Q=E.length)&&(Q=Z),Q&&(E.head&&(dt=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),g.arraySet(E.head.extra,N,B,Q,dt)),512&E.flags&&(E.check=_(E.check,N,Q,B)),Z-=Q,B+=Q,E.length-=Q),E.length))break t;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break t;for(Q=0;dt=N[B+Q++],E.head&&dt&&E.length<65536&&(E.head.name+=String.fromCharCode(dt)),dt&&Q<Z;);if(512&E.flags&&(E.check=_(E.check,N,Q,B)),Z-=Q,B+=Q,dt)break t}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break t;for(Q=0;dt=N[B+Q++],E.head&&dt&&E.length<65536&&(E.head.comment+=String.fromCharCode(dt)),dt&&Q<Z;);if(512&E.flags&&(E.check=_(E.check,N,Q,B)),Z-=Q,B+=Q,dt)break t}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;tt<16;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(H!==(65535&E.check)){S.msg="header crc mismatch",E.mode=30;break}tt=H=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),S.adler=E.check=0,E.mode=12;break;case 10:for(;tt<32;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}S.adler=E.check=G(H),tt=H=0,E.mode=11;case 11:if(E.havedict===0)return S.next_out=K,S.avail_out=nt,S.next_in=B,S.avail_in=Z,E.hold=H,E.bits=tt,2;S.adler=E.check=1,E.mode=12;case 12:if(T===5||T===6)break t;case 13:if(E.last){H>>>=7&tt,tt-=7&tt,E.mode=27;break}for(;tt<3;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}switch(E.last=1&H,tt-=1,3&(H>>>=1)){case 0:E.mode=14;break;case 1:if(C(E),E.mode=20,T!==6)break;H>>>=2,tt-=2;break t;case 2:E.mode=17;break;case 3:S.msg="invalid block type",E.mode=30}H>>>=2,tt-=2;break;case 14:for(H>>>=7&tt,tt-=7&tt;tt<32;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if((65535&H)!=(H>>>16^65535)){S.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&H,tt=H=0,E.mode=15,T===6)break t;case 15:E.mode=16;case 16:if(Q=E.length){if(Z<Q&&(Q=Z),nt<Q&&(Q=nt),Q===0)break t;g.arraySet(I,N,B,Q,K),Z-=Q,B+=Q,nt-=Q,K+=Q,E.length-=Q;break}E.mode=12;break;case 17:for(;tt<14;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(E.nlen=257+(31&H),H>>>=5,tt-=5,E.ndist=1+(31&H),H>>>=5,tt-=5,E.ncode=4+(15&H),H>>>=4,tt-=4,286<E.nlen||30<E.ndist){S.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;tt<3;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}E.lens[$t[E.have++]]=7&H,H>>>=3,tt-=3}for(;E.have<19;)E.lens[$t[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,xt={bits:E.lenbits},vt=M(0,E.lens,0,19,E.lencode,0,E.work,xt),E.lenbits=xt.bits,vt){S.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;ut=(It=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,yt=65535&It,!((st=It>>>24)<=tt);){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(yt<16)H>>>=st,tt-=st,E.lens[E.have++]=yt;else{if(yt===16){for(Et=st+2;tt<Et;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(H>>>=st,tt-=st,E.have===0){S.msg="invalid bit length repeat",E.mode=30;break}dt=E.lens[E.have-1],Q=3+(3&H),H>>>=2,tt-=2}else if(yt===17){for(Et=st+3;tt<Et;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}tt-=st,dt=0,Q=3+(7&(H>>>=st)),H>>>=3,tt-=3}else{for(Et=st+7;tt<Et;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}tt-=st,dt=0,Q=11+(127&(H>>>=st)),H>>>=7,tt-=7}if(E.have+Q>E.nlen+E.ndist){S.msg="invalid bit length repeat",E.mode=30;break}for(;Q--;)E.lens[E.have++]=dt}}if(E.mode===30)break;if(E.lens[256]===0){S.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,xt={bits:E.lenbits},vt=M(1,E.lens,0,E.nlen,E.lencode,0,E.work,xt),E.lenbits=xt.bits,vt){S.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,xt={bits:E.distbits},vt=M(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,xt),E.distbits=xt.bits,vt){S.msg="invalid distances set",E.mode=30;break}if(E.mode=20,T===6)break t;case 20:E.mode=21;case 21:if(6<=Z&&258<=nt){S.next_out=K,S.avail_out=nt,S.next_in=B,S.avail_in=Z,E.hold=H,E.bits=tt,k(S,D),K=S.next_out,I=S.output,nt=S.avail_out,B=S.next_in,N=S.input,Z=S.avail_in,H=E.hold,tt=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;ut=(It=E.lencode[H&(1<<E.lenbits)-1])>>>16&255,yt=65535&It,!((st=It>>>24)<=tt);){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(ut&&(240&ut)==0){for(bt=st,at=ut,pt=yt;ut=(It=E.lencode[pt+((H&(1<<bt+at)-1)>>bt)])>>>16&255,yt=65535&It,!(bt+(st=It>>>24)<=tt);){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}H>>>=bt,tt-=bt,E.back+=bt}if(H>>>=st,tt-=st,E.back+=st,E.length=yt,ut===0){E.mode=26;break}if(32&ut){E.back=-1,E.mode=12;break}if(64&ut){S.msg="invalid literal/length code",E.mode=30;break}E.extra=15&ut,E.mode=22;case 22:if(E.extra){for(Et=E.extra;tt<Et;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}E.length+=H&(1<<E.extra)-1,H>>>=E.extra,tt-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;ut=(It=E.distcode[H&(1<<E.distbits)-1])>>>16&255,yt=65535&It,!((st=It>>>24)<=tt);){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if((240&ut)==0){for(bt=st,at=ut,pt=yt;ut=(It=E.distcode[pt+((H&(1<<bt+at)-1)>>bt)])>>>16&255,yt=65535&It,!(bt+(st=It>>>24)<=tt);){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}H>>>=bt,tt-=bt,E.back+=bt}if(H>>>=st,tt-=st,E.back+=st,64&ut){S.msg="invalid distance code",E.mode=30;break}E.offset=yt,E.extra=15&ut,E.mode=24;case 24:if(E.extra){for(Et=E.extra;tt<Et;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}E.offset+=H&(1<<E.extra)-1,H>>>=E.extra,tt-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){S.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(nt===0)break t;if(Q=D-nt,E.offset>Q){if((Q=E.offset-Q)>E.whave&&E.sane){S.msg="invalid distance too far back",E.mode=30;break}it=Q>E.wnext?(Q-=E.wnext,E.wsize-Q):E.wnext-Q,Q>E.length&&(Q=E.length),ht=E.window}else ht=I,it=K-E.offset,Q=E.length;for(nt<Q&&(Q=nt),nt-=Q,E.length-=Q;I[K++]=ht[it++],--Q;);E.length===0&&(E.mode=21);break;case 26:if(nt===0)break t;I[K++]=E.length,nt--,E.mode=21;break;case 27:if(E.wrap){for(;tt<32;){if(Z===0)break t;Z--,H|=N[B++]<<tt,tt+=8}if(D-=nt,S.total_out+=D,E.total+=D,D&&(S.adler=E.check=E.flags?_(E.check,I,D,K-D):w(E.check,I,D,K-D)),D=nt,(E.flags?H:G(H))!==E.check){S.msg="incorrect data check",E.mode=30;break}tt=H=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;tt<32;){if(Z===0)break t;Z--,H+=N[B++]<<tt,tt+=8}if(H!==(4294967295&E.total)){S.msg="incorrect length check",E.mode=30;break}tt=H=0}E.mode=29;case 29:vt=1;break t;case 30:vt=-3;break t;case 31:return-4;default:return L}return S.next_out=K,S.avail_out=nt,S.next_in=B,S.avail_in=Z,E.hold=H,E.bits=tt,(E.wsize||D!==S.avail_out&&E.mode<30&&(E.mode<27||T!==4))&&x(S,S.output,S.next_out,D-S.avail_out)?(E.mode=31,-4):(V-=S.avail_in,D-=S.avail_out,S.total_in+=V,S.total_out+=D,E.total+=D,E.wrap&&D&&(S.adler=E.check=E.flags?_(E.check,I,D,S.next_out-D):w(E.check,I,D,S.next_out-D)),S.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(V==0&&D===0||T===4)&&vt===0&&(vt=-5),vt)},v.inflateEnd=function(S){if(!S||!S.state)return L;var T=S.state;return T.window&&(T.window=null),S.state=null,0},v.inflateGetHeader=function(S,T){var E;return S&&S.state?(2&(E=S.state).wrap)==0?L:((E.head=T).done=!1,0):L},v.inflateSetDictionary=function(S,T){var E,N=T.length;return S&&S.state?(E=S.state).wrap!==0&&E.mode!==11?L:E.mode===11&&w(1,T,N,0)!==E.check?-3:x(S,T,N,N)?(E.mode=31,-4):(E.havedict=1,0):L},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,y,v){var g=d("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],k=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],M=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(L,G,F,j,U,q,X,$){var R,P,C,x,S,T,E,N,I,B=$.bits,K=0,Z=0,nt=0,H=0,tt=0,V=0,D=0,Q=0,it=0,ht=0,st=null,ut=0,yt=new g.Buf16(16),bt=new g.Buf16(16),at=null,pt=0;for(K=0;K<=15;K++)yt[K]=0;for(Z=0;Z<j;Z++)yt[G[F+Z]]++;for(tt=B,H=15;1<=H&&yt[H]===0;H--);if(H<tt&&(tt=H),H===0)return U[q++]=20971520,U[q++]=20971520,$.bits=1,0;for(nt=1;nt<H&&yt[nt]===0;nt++);for(tt<nt&&(tt=nt),K=Q=1;K<=15;K++)if(Q<<=1,(Q-=yt[K])<0)return-1;if(0<Q&&(L===0||H!==1))return-1;for(bt[1]=0,K=1;K<15;K++)bt[K+1]=bt[K]+yt[K];for(Z=0;Z<j;Z++)G[F+Z]!==0&&(X[bt[G[F+Z]]++]=Z);if(T=L===0?(st=at=X,19):L===1?(st=w,ut-=257,at=_,pt-=257,256):(st=k,at=M,-1),K=nt,S=q,D=Z=ht=0,C=-1,x=(it=1<<(V=tt))-1,L===1&&852<it||L===2&&592<it)return 1;for(;;){for(E=K-D,I=X[Z]<T?(N=0,X[Z]):X[Z]>T?(N=at[pt+X[Z]],st[ut+X[Z]]):(N=96,0),R=1<<K-D,nt=P=1<<V;U[S+(ht>>D)+(P-=R)]=E<<24|N<<16|I|0,P!==0;);for(R=1<<K-1;ht&R;)R>>=1;if(R!==0?(ht&=R-1,ht+=R):ht=0,Z++,--yt[K]==0){if(K===H)break;K=G[F+X[Z]]}if(tt<K&&(ht&x)!==C){for(D===0&&(D=tt),S+=nt,Q=1<<(V=K-D);V+D<H&&!((Q-=yt[V+D])<=0);)V++,Q<<=1;if(it+=1<<V,L===1&&852<it||L===2&&592<it)return 1;U[C=ht&x]=tt<<24|V<<16|S-q|0}}return ht!==0&&(U[S+ht]=K-D<<24|64<<16|0),$.bits=tt,0}},{"../utils/common":41}],51:[function(d,y,v){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,y,v){var g=d("../utils/common");function w(at){for(var pt=at.length;0<=--pt;)at[pt]=0}var _=256,k=286,M=30,L=15,G=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(576);w(q);var X=new Array(60);w(X);var $=new Array(512);w($);var R=new Array(256);w(R);var P=new Array(29);w(P);var C,x,S,T=new Array(M);function E(at,pt,dt,vt,xt){this.static_tree=at,this.extra_bits=pt,this.extra_base=dt,this.elems=vt,this.max_length=xt,this.has_stree=at&&at.length}function N(at,pt){this.dyn_tree=at,this.max_code=0,this.stat_desc=pt}function I(at){return at<256?$[at]:$[256+(at>>>7)]}function B(at,pt){at.pending_buf[at.pending++]=255&pt,at.pending_buf[at.pending++]=pt>>>8&255}function K(at,pt,dt){at.bi_valid>16-dt?(at.bi_buf|=pt<<at.bi_valid&65535,B(at,at.bi_buf),at.bi_buf=pt>>16-at.bi_valid,at.bi_valid+=dt-16):(at.bi_buf|=pt<<at.bi_valid&65535,at.bi_valid+=dt)}function Z(at,pt,dt){K(at,dt[2*pt],dt[2*pt+1])}function nt(at,pt){for(var dt=0;dt|=1&at,at>>>=1,dt<<=1,0<--pt;);return dt>>>1}function H(at,pt,dt){var vt,xt,Et=new Array(16),It=0;for(vt=1;vt<=L;vt++)Et[vt]=It=It+dt[vt-1]<<1;for(xt=0;xt<=pt;xt++){var Nt=at[2*xt+1];Nt!==0&&(at[2*xt]=nt(Et[Nt]++,Nt))}}function tt(at){var pt;for(pt=0;pt<k;pt++)at.dyn_ltree[2*pt]=0;for(pt=0;pt<M;pt++)at.dyn_dtree[2*pt]=0;for(pt=0;pt<19;pt++)at.bl_tree[2*pt]=0;at.dyn_ltree[512]=1,at.opt_len=at.static_len=0,at.last_lit=at.matches=0}function V(at){8<at.bi_valid?B(at,at.bi_buf):0<at.bi_valid&&(at.pending_buf[at.pending++]=at.bi_buf),at.bi_buf=0,at.bi_valid=0}function D(at,pt,dt,vt){var xt=2*pt,Et=2*dt;return at[xt]<at[Et]||at[xt]===at[Et]&&vt[pt]<=vt[dt]}function Q(at,pt,dt){for(var vt=at.heap[dt],xt=dt<<1;xt<=at.heap_len&&(xt<at.heap_len&&D(pt,at.heap[xt+1],at.heap[xt],at.depth)&&xt++,!D(pt,vt,at.heap[xt],at.depth));)at.heap[dt]=at.heap[xt],dt=xt,xt<<=1;at.heap[dt]=vt}function it(at,pt,dt){var vt,xt,Et,It,Nt=0;if(at.last_lit!==0)for(;vt=at.pending_buf[at.d_buf+2*Nt]<<8|at.pending_buf[at.d_buf+2*Nt+1],xt=at.pending_buf[at.l_buf+Nt],Nt++,vt===0?Z(at,xt,pt):(Z(at,(Et=R[xt])+_+1,pt),(It=G[Et])!==0&&K(at,xt-=P[Et],It),Z(at,Et=I(--vt),dt),(It=F[Et])!==0&&K(at,vt-=T[Et],It)),Nt<at.last_lit;);Z(at,256,pt)}function ht(at,pt){var dt,vt,xt,Et=pt.dyn_tree,It=pt.stat_desc.static_tree,Nt=pt.stat_desc.has_stree,$t=pt.stat_desc.elems,se=-1;for(at.heap_len=0,at.heap_max=573,dt=0;dt<$t;dt++)Et[2*dt]!==0?(at.heap[++at.heap_len]=se=dt,at.depth[dt]=0):Et[2*dt+1]=0;for(;at.heap_len<2;)Et[2*(xt=at.heap[++at.heap_len]=se<2?++se:0)]=1,at.depth[xt]=0,at.opt_len--,Nt&&(at.static_len-=It[2*xt+1]);for(pt.max_code=se,dt=at.heap_len>>1;1<=dt;dt--)Q(at,Et,dt);for(xt=$t;dt=at.heap[1],at.heap[1]=at.heap[at.heap_len--],Q(at,Et,1),vt=at.heap[1],at.heap[--at.heap_max]=dt,at.heap[--at.heap_max]=vt,Et[2*xt]=Et[2*dt]+Et[2*vt],at.depth[xt]=(at.depth[dt]>=at.depth[vt]?at.depth[dt]:at.depth[vt])+1,Et[2*dt+1]=Et[2*vt+1]=xt,at.heap[1]=xt++,Q(at,Et,1),2<=at.heap_len;);at.heap[--at.heap_max]=at.heap[1],(function(re,Zt){var te,we,_e,Se,ee,Ft,ie=Zt.dyn_tree,ae=Zt.max_code,he=Zt.stat_desc.static_tree,Le=Zt.stat_desc.has_stree,Fe=Zt.stat_desc.extra_bits,ge=Zt.stat_desc.extra_base,Ge=Zt.stat_desc.max_length,Ee=0;for(Se=0;Se<=L;Se++)re.bl_count[Se]=0;for(ie[2*re.heap[re.heap_max]+1]=0,te=re.heap_max+1;te<573;te++)Ge<(Se=ie[2*ie[2*(we=re.heap[te])+1]+1]+1)&&(Se=Ge,Ee++),ie[2*we+1]=Se,ae<we||(re.bl_count[Se]++,ee=0,ge<=we&&(ee=Fe[we-ge]),Ft=ie[2*we],re.opt_len+=Ft*(Se+ee),Le&&(re.static_len+=Ft*(he[2*we+1]+ee)));if(Ee!==0){do{for(Se=Ge-1;re.bl_count[Se]===0;)Se--;re.bl_count[Se]--,re.bl_count[Se+1]+=2,re.bl_count[Ge]--,Ee-=2}while(0<Ee);for(Se=Ge;Se!==0;Se--)for(we=re.bl_count[Se];we!==0;)ae<(_e=re.heap[--te])||(ie[2*_e+1]!==Se&&(re.opt_len+=(Se-ie[2*_e+1])*ie[2*_e],ie[2*_e+1]=Se),we--)}})(at,pt),H(Et,se,at.bl_count)}function st(at,pt,dt){var vt,xt,Et=-1,It=pt[1],Nt=0,$t=7,se=4;for(It===0&&($t=138,se=3),pt[2*(dt+1)+1]=65535,vt=0;vt<=dt;vt++)xt=It,It=pt[2*(vt+1)+1],++Nt<$t&&xt===It||(Nt<se?at.bl_tree[2*xt]+=Nt:xt!==0?(xt!==Et&&at.bl_tree[2*xt]++,at.bl_tree[32]++):Nt<=10?at.bl_tree[34]++:at.bl_tree[36]++,Et=xt,se=(Nt=0)===It?($t=138,3):xt===It?($t=6,3):($t=7,4))}function ut(at,pt,dt){var vt,xt,Et=-1,It=pt[1],Nt=0,$t=7,se=4;for(It===0&&($t=138,se=3),vt=0;vt<=dt;vt++)if(xt=It,It=pt[2*(vt+1)+1],!(++Nt<$t&&xt===It)){if(Nt<se)for(;Z(at,xt,at.bl_tree),--Nt!=0;);else xt!==0?(xt!==Et&&(Z(at,xt,at.bl_tree),Nt--),Z(at,16,at.bl_tree),K(at,Nt-3,2)):Nt<=10?(Z(at,17,at.bl_tree),K(at,Nt-3,3)):(Z(at,18,at.bl_tree),K(at,Nt-11,7));Et=xt,se=(Nt=0)===It?($t=138,3):xt===It?($t=6,3):($t=7,4)}}w(T);var yt=!1;function bt(at,pt,dt,vt){K(at,0+(vt?1:0),3),(function(xt,Et,It,Nt){V(xt),B(xt,It),B(xt,~It),g.arraySet(xt.pending_buf,xt.window,Et,It,xt.pending),xt.pending+=It})(at,pt,dt)}v._tr_init=function(at){yt||((function(){var pt,dt,vt,xt,Et,It=new Array(16);for(xt=vt=0;xt<28;xt++)for(P[xt]=vt,pt=0;pt<1<<G[xt];pt++)R[vt++]=xt;for(R[vt-1]=xt,xt=Et=0;xt<16;xt++)for(T[xt]=Et,pt=0;pt<1<<F[xt];pt++)$[Et++]=xt;for(Et>>=7;xt<M;xt++)for(T[xt]=Et<<7,pt=0;pt<1<<F[xt]-7;pt++)$[256+Et++]=xt;for(dt=0;dt<=L;dt++)It[dt]=0;for(pt=0;pt<=143;)q[2*pt+1]=8,pt++,It[8]++;for(;pt<=255;)q[2*pt+1]=9,pt++,It[9]++;for(;pt<=279;)q[2*pt+1]=7,pt++,It[7]++;for(;pt<=287;)q[2*pt+1]=8,pt++,It[8]++;for(H(q,287,It),pt=0;pt<M;pt++)X[2*pt+1]=5,X[2*pt]=nt(pt,5);C=new E(q,G,257,k,L),x=new E(X,F,0,M,L),S=new E(new Array(0),j,0,19,7)})(),yt=!0),at.l_desc=new N(at.dyn_ltree,C),at.d_desc=new N(at.dyn_dtree,x),at.bl_desc=new N(at.bl_tree,S),at.bi_buf=0,at.bi_valid=0,tt(at)},v._tr_stored_block=bt,v._tr_flush_block=function(at,pt,dt,vt){var xt,Et,It=0;0<at.level?(at.strm.data_type===2&&(at.strm.data_type=(function(Nt){var $t,se=4093624447;for($t=0;$t<=31;$t++,se>>>=1)if(1&se&&Nt.dyn_ltree[2*$t]!==0)return 0;if(Nt.dyn_ltree[18]!==0||Nt.dyn_ltree[20]!==0||Nt.dyn_ltree[26]!==0)return 1;for($t=32;$t<_;$t++)if(Nt.dyn_ltree[2*$t]!==0)return 1;return 0})(at)),ht(at,at.l_desc),ht(at,at.d_desc),It=(function(Nt){var $t;for(st(Nt,Nt.dyn_ltree,Nt.l_desc.max_code),st(Nt,Nt.dyn_dtree,Nt.d_desc.max_code),ht(Nt,Nt.bl_desc),$t=18;3<=$t&&Nt.bl_tree[2*U[$t]+1]===0;$t--);return Nt.opt_len+=3*($t+1)+5+5+4,$t})(at),xt=at.opt_len+3+7>>>3,(Et=at.static_len+3+7>>>3)<=xt&&(xt=Et)):xt=Et=dt+5,dt+4<=xt&&pt!==-1?bt(at,pt,dt,vt):at.strategy===4||Et===xt?(K(at,2+(vt?1:0),3),it(at,q,X)):(K(at,4+(vt?1:0),3),(function(Nt,$t,se,re){var Zt;for(K(Nt,$t-257,5),K(Nt,se-1,5),K(Nt,re-4,4),Zt=0;Zt<re;Zt++)K(Nt,Nt.bl_tree[2*U[Zt]+1],3);ut(Nt,Nt.dyn_ltree,$t-1),ut(Nt,Nt.dyn_dtree,se-1)})(at,at.l_desc.max_code+1,at.d_desc.max_code+1,It+1),it(at,at.dyn_ltree,at.dyn_dtree)),tt(at),vt&&V(at)},v._tr_tally=function(at,pt,dt){return at.pending_buf[at.d_buf+2*at.last_lit]=pt>>>8&255,at.pending_buf[at.d_buf+2*at.last_lit+1]=255&pt,at.pending_buf[at.l_buf+at.last_lit]=255&dt,at.last_lit++,pt===0?at.dyn_ltree[2*dt]++:(at.matches++,pt--,at.dyn_ltree[2*(R[dt]+_+1)]++,at.dyn_dtree[2*I(pt)]++),at.last_lit===at.lit_bufsize-1},v._tr_align=function(at){K(at,2,3),Z(at,256,q),(function(pt){pt.bi_valid===16?(B(pt,pt.bi_buf),pt.bi_buf=0,pt.bi_valid=0):8<=pt.bi_valid&&(pt.pending_buf[pt.pending++]=255&pt.bi_buf,pt.bi_buf>>=8,pt.bi_valid-=8)})(at)}},{"../utils/common":41}],53:[function(d,y,v){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,y,v){(function(g){(function(w,_){if(!w.setImmediate){var k,M,L,G,F=1,j={},U=!1,q=w.document,X=Object.getPrototypeOf&&Object.getPrototypeOf(w);X=X&&X.setTimeout?X:w,k={}.toString.call(w.process)==="[object process]"?function(C){l.nextTick((function(){R(C)}))}:(function(){if(w.postMessage&&!w.importScripts){var C=!0,x=w.onmessage;return w.onmessage=function(){C=!1},w.postMessage("","*"),w.onmessage=x,C}})()?(G="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",P,!1):w.attachEvent("onmessage",P),function(C){w.postMessage(G+C,"*")}):w.MessageChannel?((L=new MessageChannel).port1.onmessage=function(C){R(C.data)},function(C){L.port2.postMessage(C)}):q&&"onreadystatechange"in q.createElement("script")?(M=q.documentElement,function(C){var x=q.createElement("script");x.onreadystatechange=function(){R(C),x.onreadystatechange=null,M.removeChild(x),x=null},M.appendChild(x)}):function(C){setTimeout(R,0,C)},X.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var x=new Array(arguments.length-1),S=0;S<x.length;S++)x[S]=arguments[S+1];var T={callback:C,args:x};return j[F]=T,k(F),F++},X.clearImmediate=$}function $(C){delete j[C]}function R(C){if(U)setTimeout(R,0,C);else{var x=j[C];if(x){U=!0;try{(function(S){var T=S.callback,E=S.args;switch(E.length){case 0:T();break;case 1:T(E[0]);break;case 2:T(E[0],E[1]);break;case 3:T(E[0],E[1],E[2]);break;default:T.apply(void 0,E)}})(x)}finally{$(C),U=!1}}}}function P(C){C.source===w&&typeof C.data=="string"&&C.data.indexOf(G)===0&&R(+C.data.slice(G.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,i,c){(function(l){(function(){var s=/[\\^$.*+?()[\]{}|]/g,h=RegExp(s.source),a=typeof l=="object"&&l&&l.Object===Object&&l,n=typeof self=="object"&&self&&self.Object===Object&&self,u=a||n||Function("return this")(),p=Object.prototype.toString,f=u.Symbol,d=f?f.prototype:void 0,y=d?d.toString:void 0;function v(g){if(typeof g=="string")return g;if((function(_){return typeof _=="symbol"||(function(k){return!!k&&typeof k=="object"})(_)&&p.call(_)=="[object Symbol]"})(g))return y?y.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}i.exports=function(g){var w;return(g=(w=g)==null?"":v(w))&&h.test(g)?g.replace(s,"\\$&"):g}}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,i,c){(function(l){(function(){var s="[object Arguments]",h="[object Map]",a="[object Object]",n="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[s]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[h]=w["[object Number]"]=w[a]=w["[object RegExp]"]=w[n]=w["[object String]"]=w["[object WeakMap]"]=!1;var _=typeof l=="object"&&l&&l.Object===Object&&l,k=typeof self=="object"&&self&&self.Object===Object&&self,M=_||k||Function("return this")(),L=typeof c=="object"&&c&&!c.nodeType&&c,G=L&&typeof i=="object"&&i&&!i.nodeType&&i,F=G&&G.exports===L&&_.process,j=(function(){try{return F&&F.binding("util")}catch{}})(),U=j&&j.isTypedArray;function q(ct,St,Lt,Kt){for(var pe=-1,ot=ct?ct.length:0;++pe<ot;){var wt=ct[pe];St(Kt,wt,Lt(wt),ct)}return Kt}function X(ct,St){for(var Lt=-1,Kt=ct?ct.length:0;++Lt<Kt;)if(St(ct[Lt],Lt,ct))return!0;return!1}function $(ct){var St=!1;if(ct!=null&&typeof ct.toString!="function")try{St=!!(ct+"")}catch{}return St}function R(ct){var St=-1,Lt=Array(ct.size);return ct.forEach((function(Kt,pe){Lt[++St]=[pe,Kt]})),Lt}function P(ct){var St=-1,Lt=Array(ct.size);return ct.forEach((function(Kt){Lt[++St]=Kt})),Lt}var C,x,S,T=Array.prototype,E=Function.prototype,N=Object.prototype,I=M["__core-js_shared__"],B=(C=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"",K=E.toString,Z=N.hasOwnProperty,nt=N.toString,H=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=M.Symbol,V=M.Uint8Array,D=N.propertyIsEnumerable,Q=T.splice,it=(x=Object.keys,S=Object,function(ct){return x(S(ct))}),ht=ke(M,"DataView"),st=ke(M,"Map"),ut=ke(M,"Promise"),yt=ke(M,"Set"),bt=ke(M,"WeakMap"),at=ke(Object,"create"),pt=Tt(ht),dt=Tt(st),vt=Tt(ut),xt=Tt(yt),Et=Tt(bt),It=tt?tt.prototype:void 0,Nt=It?It.valueOf:void 0,$t=It?It.toString:void 0;function se(ct){var St=-1,Lt=ct?ct.length:0;for(this.clear();++St<Lt;){var Kt=ct[St];this.set(Kt[0],Kt[1])}}function re(ct){var St=-1,Lt=ct?ct.length:0;for(this.clear();++St<Lt;){var Kt=ct[St];this.set(Kt[0],Kt[1])}}function Zt(ct){var St=-1,Lt=ct?ct.length:0;for(this.clear();++St<Lt;){var Kt=ct[St];this.set(Kt[0],Kt[1])}}function te(ct){var St=-1,Lt=ct?ct.length:0;for(this.__data__=new Zt;++St<Lt;)this.add(ct[St])}function we(ct){this.__data__=new re(ct)}function _e(ct,St){var Lt=oe(ct)||fe(ct)?(function(wt,jt){for(var Xt=-1,Ut=Array(wt);++Xt<wt;)Ut[Xt]=jt(Xt);return Ut})(ct.length,String):[],Kt=Lt.length,pe=!!Kt;for(var ot in ct)!Z.call(ct,ot)||pe&&(ot=="length"||He(ot,Kt))||Lt.push(ot);return Lt}function Se(ct,St){for(var Lt=ct.length;Lt--;)if(Jt(ct[Lt][0],St))return Lt;return-1}function ee(ct,St,Lt,Kt){return ie(ct,(function(pe,ot,wt){St(Kt,pe,Lt(pe),wt)})),Kt}se.prototype.clear=function(){this.__data__=at?at(null):{}},se.prototype.delete=function(ct){return this.has(ct)&&delete this.__data__[ct]},se.prototype.get=function(ct){var St=this.__data__;if(at){var Lt=St[ct];return Lt==="__lodash_hash_undefined__"?void 0:Lt}return Z.call(St,ct)?St[ct]:void 0},se.prototype.has=function(ct){var St=this.__data__;return at?St[ct]!==void 0:Z.call(St,ct)},se.prototype.set=function(ct,St){return this.__data__[ct]=at&&St===void 0?"__lodash_hash_undefined__":St,this},re.prototype.clear=function(){this.__data__=[]},re.prototype.delete=function(ct){var St=this.__data__,Lt=Se(St,ct);return!(Lt<0)&&(Lt==St.length-1?St.pop():Q.call(St,Lt,1),!0)},re.prototype.get=function(ct){var St=this.__data__,Lt=Se(St,ct);return Lt<0?void 0:St[Lt][1]},re.prototype.has=function(ct){return Se(this.__data__,ct)>-1},re.prototype.set=function(ct,St){var Lt=this.__data__,Kt=Se(Lt,ct);return Kt<0?Lt.push([ct,St]):Lt[Kt][1]=St,this},Zt.prototype.clear=function(){this.__data__={hash:new se,map:new(st||re),string:new se}},Zt.prototype.delete=function(ct){return Be(this,ct).delete(ct)},Zt.prototype.get=function(ct){return Be(this,ct).get(ct)},Zt.prototype.has=function(ct){return Be(this,ct).has(ct)},Zt.prototype.set=function(ct,St){return Be(this,ct).set(ct,St),this},te.prototype.add=te.prototype.push=function(ct){return this.__data__.set(ct,"__lodash_hash_undefined__"),this},te.prototype.has=function(ct){return this.__data__.has(ct)},we.prototype.clear=function(){this.__data__=new re},we.prototype.delete=function(ct){return this.__data__.delete(ct)},we.prototype.get=function(ct){return this.__data__.get(ct)},we.prototype.has=function(ct){return this.__data__.has(ct)},we.prototype.set=function(ct,St){var Lt=this.__data__;if(Lt instanceof re){var Kt=Lt.__data__;if(!st||Kt.length<199)return Kt.push([ct,St]),this;Lt=this.__data__=new Zt(Kt)}return Lt.set(ct,St),this};var Ft,ie=(Ft=function(ct,St){return ct&&ae(ct,St,de)},function(ct,St){if(ct==null)return ct;if(!ce(ct))return Ft(ct,St);for(var Lt=ct.length,Kt=-1,pe=Object(ct);++Kt<Lt&&St(pe[Kt],Kt,pe)!==!1;);return ct}),ae=(function(ct){return function(St,Lt,Kt){for(var pe=-1,ot=Object(St),wt=Kt(St),jt=wt.length;jt--;){var Xt=wt[++pe];if(Lt(ot[Xt],Xt,ot)===!1)break}return St}})();function he(ct,St){for(var Lt=0,Kt=(St=xe(St,ct)?[St]:Ae(St)).length;ct!=null&&Lt<Kt;)ct=ct[gt(St[Lt++])];return Lt&&Lt==Kt?ct:void 0}function Le(ct,St){return ct!=null&&St in Object(ct)}function Fe(ct,St,Lt,Kt,pe){return ct===St||(ct==null||St==null||!Ve(ct)&&!yr(St)?ct!=ct&&St!=St:(function(ot,wt,jt,Xt,Ut,Gt){var le=oe(ot),Qt=oe(wt),be="[object Array]",Ne="[object Array]";le||(be=(be=qe(ot))==s?a:be),Qt||(Ne=(Ne=qe(wt))==s?a:Ne);var xr=be==a&&!$(ot),Br=Ne==a&&!$(wt),$e=be==Ne;if($e&&!xr)return Gt||(Gt=new we),le||zt(ot)?Qe(ot,wt,jt,Xt,Ut,Gt):(function(ar,sr,Nn,vn,Wi,zr,Dr){switch(Nn){case"[object DataView]":if(ar.byteLength!=sr.byteLength||ar.byteOffset!=sr.byteOffset)return!1;ar=ar.buffer,sr=sr.buffer;case"[object ArrayBuffer]":return!(ar.byteLength!=sr.byteLength||!vn(new V(ar),new V(sr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Jt(+ar,+sr);case"[object Error]":return ar.name==sr.name&&ar.message==sr.message;case"[object RegExp]":case"[object String]":return ar==sr+"";case h:var zn=R;case n:var di=2&zr;if(zn||(zn=P),ar.size!=sr.size&&!di)return!1;var Ri=Dr.get(ar);if(Ri)return Ri==sr;zr|=1,Dr.set(ar,sr);var Un=Qe(zn(ar),zn(sr),vn,Wi,zr,Dr);return Dr.delete(ar),Un;case"[object Symbol]":if(Nt)return Nt.call(ar)==Nt.call(sr)}return!1})(ot,wt,be,jt,Xt,Ut,Gt);if(!(2&Ut)){var an=xr&&Z.call(ot,"__wrapped__"),un=Br&&Z.call(wt,"__wrapped__");if(an||un){var Mn=an?ot.value():ot,qr=un?wt.value():wt;return Gt||(Gt=new we),jt(Mn,qr,Xt,Ut,Gt)}}return $e?(Gt||(Gt=new we),(function(ar,sr,Nn,vn,Wi,zr){var Dr=2&Wi,zn=de(ar),di=zn.length,Ri=de(sr).length;if(di!=Ri&&!Dr)return!1;for(var Un=di;Un--;){var Fn=zn[Un];if(!(Dr?Fn in sr:Z.call(sr,Fn)))return!1}var pi=zr.get(ar);if(pi&&zr.get(sr))return pi==sr;var mi=!0;zr.set(ar,sr),zr.set(sr,ar);for(var An=Dr;++Un<di;){Fn=zn[Un];var Mi=ar[Fn],cn=sr[Fn];if(vn)var gi=Dr?vn(cn,Mi,Fn,sr,ar,zr):vn(Mi,cn,Fn,ar,sr,zr);if(!(gi===void 0?Mi===cn||Nn(Mi,cn,vn,Wi,zr):gi)){mi=!1;break}An||(An=Fn=="constructor")}if(mi&&!An){var kn=ar.constructor,Zn=sr.constructor;kn==Zn||!("constructor"in ar)||!("constructor"in sr)||typeof kn=="function"&&kn instanceof kn&&typeof Zn=="function"&&Zn instanceof Zn||(mi=!1)}return zr.delete(ar),zr.delete(sr),mi})(ot,wt,jt,Xt,Ut,Gt)):!1})(ct,St,Fe,Lt,Kt,pe))}function ge(ct){return!(!Ve(ct)||(function(St){return!!B&&B in St})(ct))&&(Me(ct)||$(ct)?H:v).test(Tt(ct))}function Ge(ct){return typeof ct=="function"?ct:ct==null?Re:typeof ct=="object"?oe(ct)?(function(Kt,pe){return xe(Kt)&&Xe(pe)?Je(gt(Kt),pe):function(ot){var wt=(function(jt,Xt,Ut){var Gt=jt==null?void 0:he(jt,Xt);return Gt===void 0?Ut:Gt})(ot,Kt);return wt===void 0&&wt===pe?(function(jt,Xt){return jt!=null&&(function(Ut,Gt,le){Gt=xe(Gt,Ut)?[Gt]:Ae(Gt);for(var Qt,be=-1,Ne=Gt.length;++be<Ne;){var xr=gt(Gt[be]);if(!(Qt=Ut!=null&&le(Ut,xr)))break;Ut=Ut[xr]}return Qt||!!(Ne=Ut?Ut.length:0)&&Ie(Ne)&&He(xr,Ne)&&(oe(Ut)||fe(Ut))})(jt,Xt,Le)})(ot,Kt):Fe(pe,wt,void 0,3)}})(ct[0],ct[1]):(function(Kt){var pe=(function(ot){for(var wt=de(ot),jt=wt.length;jt--;){var Xt=wt[jt],Ut=ot[Xt];wt[jt]=[Xt,Ut,Xe(Ut)]}return wt})(Kt);return pe.length==1&&pe[0][2]?Je(pe[0][0],pe[0][1]):function(ot){return ot===Kt||(function(wt,jt,Xt,Ut){var Gt=Xt.length,le=Gt;if(wt==null)return!le;for(wt=Object(wt);Gt--;){var Qt=Xt[Gt];if(Qt[2]?Qt[1]!==wt[Qt[0]]:!(Qt[0]in wt))return!1}for(;++Gt<le;){var be=(Qt=Xt[Gt])[0],Ne=wt[be],xr=Qt[1];if(Qt[2]){if(Ne===void 0&&!(be in wt))return!1}else{var Br=new we,$e;if(!($e===void 0?Fe(xr,Ne,Ut,3,Br):$e))return!1}}return!0})(ot,Kt,pe)}})(ct):xe(St=ct)?(Lt=gt(St),function(Kt){return Kt?.[Lt]}):(function(Kt){return function(pe){return he(pe,Kt)}})(St);var St,Lt}function Ee(ct){if(Lt=(St=ct)&&St.constructor,Kt=typeof Lt=="function"&&Lt.prototype||N,St!==Kt)return it(ct);var St,Lt,Kt,pe=[];for(var ot in Object(ct))Z.call(ct,ot)&&ot!="constructor"&&pe.push(ot);return pe}function Ae(ct){return oe(ct)?ct:Oe(ct)}function Qe(ct,St,Lt,Kt,pe,ot){var wt=2&pe,jt=ct.length,Xt=St.length;if(jt!=Xt&&!(wt&&Xt>jt))return!1;var Ut=ot.get(ct);if(Ut&&ot.get(St))return Ut==St;var Gt=-1,le=!0,Qt=1&pe?new te:void 0;for(ot.set(ct,St),ot.set(St,ct);++Gt<jt;){var be=ct[Gt],Ne=St[Gt];if(Kt)var xr=wt?Kt(Ne,be,Gt,St,ct,ot):Kt(be,Ne,Gt,ct,St,ot);if(xr!==void 0){if(xr)continue;le=!1;break}if(Qt){if(!X(St,(function(Br,$e){if(!Qt.has($e)&&(be===Br||Lt(be,Br,Kt,pe,ot)))return Qt.add($e)}))){le=!1;break}}else if(be!==Ne&&!Lt(be,Ne,Kt,pe,ot)){le=!1;break}}return ot.delete(ct),ot.delete(St),le}function Be(ct,St){var Lt,Kt,pe=ct.__data__;return((Kt=typeof(Lt=St))=="string"||Kt=="number"||Kt=="symbol"||Kt=="boolean"?Lt!=="__proto__":Lt===null)?pe[typeof St=="string"?"string":"hash"]:pe.map}function ke(ct,St){var Lt=(function(Kt,pe){return Kt?.[pe]})(ct,St);return ge(Lt)?Lt:void 0}var qe=function(ct){return nt.call(ct)};function He(ct,St){return!!(St=St??9007199254740991)&&(typeof ct=="number"||g.test(ct))&&ct>-1&&ct%1==0&&ct<St}function xe(ct,St){if(oe(ct))return!1;var Lt=typeof ct;return!(Lt!="number"&&Lt!="symbol"&&Lt!="boolean"&&ct!=null&&!Ze(ct))||p.test(ct)||!u.test(ct)||St!=null&&ct in Object(St)}function Xe(ct){return ct==ct&&!Ve(ct)}function Je(ct,St){return function(Lt){return Lt!=null&&Lt[ct]===St&&(St!==void 0||ct in Object(Lt))}}(ht&&qe(new ht(new ArrayBuffer(1)))!="[object DataView]"||st&&qe(new st)!=h||ut&&qe(ut.resolve())!="[object Promise]"||yt&&qe(new yt)!=n||bt&&qe(new bt)!="[object WeakMap]")&&(qe=function(ct){var St=nt.call(ct),Lt=St==a?ct.constructor:void 0,Kt=Lt?Tt(Lt):void 0;if(Kt)switch(Kt){case pt:return"[object DataView]";case dt:return h;case vt:return"[object Promise]";case xt:return n;case Et:return"[object WeakMap]"}return St});var Oe=ye((function(ct){var St;ct=(St=ct)==null?"":(function(Kt){if(typeof Kt=="string")return Kt;if(Ze(Kt))return $t?$t.call(Kt):"";var pe=Kt+"";return pe=="0"&&1/Kt==-1/0?"-0":pe})(St);var Lt=[];return f.test(ct)&&Lt.push(""),ct.replace(d,(function(Kt,pe,ot,wt){Lt.push(ot?wt.replace(y,"$1"):pe||Kt)})),Lt}));function gt(ct){if(typeof ct=="string"||Ze(ct))return ct;var St=ct+"";return St=="0"&&1/ct==-1/0?"-0":St}function Tt(ct){if(ct!=null){try{return K.call(ct)}catch{}try{return ct+""}catch{}}return""}var Pt,ne=(Pt=function(ct,St,Lt){Z.call(ct,Lt)?ct[Lt].push(St):ct[Lt]=[St]},function(ct,St){var Lt=oe(ct)?q:ee,Kt={};return Lt(ct,Pt,Ge(St),Kt)});function ye(ct,St){if(typeof ct!="function"||St&&typeof St!="function")throw new TypeError("Expected a function");var Lt=function(){var Kt=arguments,pe=St?St.apply(this,Kt):Kt[0],ot=Lt.cache;if(ot.has(pe))return ot.get(pe);var wt=ct.apply(this,Kt);return Lt.cache=ot.set(pe,wt),wt};return Lt.cache=new(ye.Cache||Zt),Lt}function Jt(ct,St){return ct===St||ct!=ct&&St!=St}function fe(ct){return(function(St){return yr(St)&&ce(St)})(ct)&&Z.call(ct,"callee")&&(!D.call(ct,"callee")||nt.call(ct)==s)}ye.Cache=Zt;var oe=Array.isArray;function ce(ct){return ct!=null&&Ie(ct.length)&&!Me(ct)}function Me(ct){var St=Ve(ct)?nt.call(ct):"";return St=="[object Function]"||St=="[object GeneratorFunction]"}function Ie(ct){return typeof ct=="number"&&ct>-1&&ct%1==0&&ct<=9007199254740991}function Ve(ct){var St=typeof ct;return!!ct&&(St=="object"||St=="function")}function yr(ct){return!!ct&&typeof ct=="object"}function Ze(ct){return typeof ct=="symbol"||yr(ct)&&nt.call(ct)=="[object Symbol]"}var zt=U?(function(ct){return function(St){return ct(St)}})(U):function(ct){return yr(ct)&&Ie(ct.length)&&!!w[nt.call(ct)]};function de(ct){return ce(ct)?_e(ct):Ee(ct)}function Re(ct){return ct}i.exports=ne}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,i,c){var l=Object.prototype.toString;i.exports=function(s){return s===!0||s===!1||(function(h){return!!h&&typeof h=="object"})(s)&&l.call(s)=="[object Boolean]"}},{}],445:[function(t,i,c){(function(l){(function(){var s="[object Arguments]",h="[object Map]",a="[object Object]",n="[object Set]",u=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[s]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[h]=f["[object Number]"]=f[a]=f["[object RegExp]"]=f[n]=f["[object String]"]=f["[object WeakMap]"]=!1;var d=typeof l=="object"&&l&&l.Object===Object&&l,y=typeof self=="object"&&self&&self.Object===Object&&self,v=d||y||Function("return this")(),g=typeof c=="object"&&c&&!c.nodeType&&c,w=g&&typeof i=="object"&&i&&!i.nodeType&&i,_=w&&w.exports===g,k=_&&d.process,M=(function(){try{return k&&k.binding&&k.binding("util")}catch{}})(),L=M&&M.isTypedArray;function G(gt,Tt){for(var Pt=-1,ne=gt==null?0:gt.length;++Pt<ne;)if(Tt(gt[Pt],Pt,gt))return!0;return!1}function F(gt){var Tt=-1,Pt=Array(gt.size);return gt.forEach((function(ne,ye){Pt[++Tt]=[ye,ne]})),Pt}function j(gt){var Tt=-1,Pt=Array(gt.size);return gt.forEach((function(ne){Pt[++Tt]=ne})),Pt}var U,q,X,$=Array.prototype,R=Function.prototype,P=Object.prototype,C=v["__core-js_shared__"],x=R.toString,S=P.hasOwnProperty,T=(U=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||""))?"Symbol(src)_1."+U:"",E=P.toString,N=RegExp("^"+x.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=_?v.Buffer:void 0,B=v.Symbol,K=v.Uint8Array,Z=P.propertyIsEnumerable,nt=$.splice,H=B?B.toStringTag:void 0,tt=Object.getOwnPropertySymbols,V=I?I.isBuffer:void 0,D=(q=Object.keys,X=Object,function(gt){return q(X(gt))}),Q=Le(v,"DataView"),it=Le(v,"Map"),ht=Le(v,"Promise"),st=Le(v,"Set"),ut=Le(v,"WeakMap"),yt=Le(Object,"create"),bt=Ee(Q),at=Ee(it),pt=Ee(ht),dt=Ee(st),vt=Ee(ut),xt=B?B.prototype:void 0,Et=xt?xt.valueOf:void 0;function It(gt){var Tt=-1,Pt=gt==null?0:gt.length;for(this.clear();++Tt<Pt;){var ne=gt[Tt];this.set(ne[0],ne[1])}}function Nt(gt){var Tt=-1,Pt=gt==null?0:gt.length;for(this.clear();++Tt<Pt;){var ne=gt[Tt];this.set(ne[0],ne[1])}}function $t(gt){var Tt=-1,Pt=gt==null?0:gt.length;for(this.clear();++Tt<Pt;){var ne=gt[Tt];this.set(ne[0],ne[1])}}function se(gt){var Tt=-1,Pt=gt==null?0:gt.length;for(this.__data__=new $t;++Tt<Pt;)this.add(gt[Tt])}function re(gt){var Tt=this.__data__=new Nt(gt);this.size=Tt.size}function Zt(gt,Tt){var Pt=Be(gt),ne=!Pt&&Qe(gt),ye=!Pt&&!ne&&ke(gt),Jt=!Pt&&!ne&&!ye&&Je(gt),fe=Pt||ne||ye||Jt,oe=fe?(function(Ie,Ve){for(var yr=-1,Ze=Array(Ie);++yr<Ie;)Ze[yr]=Ve(yr);return Ze})(gt.length,String):[],ce=oe.length;for(var Me in gt)!S.call(gt,Me)||fe&&(Me=="length"||ye&&(Me=="offset"||Me=="parent")||Jt&&(Me=="buffer"||Me=="byteLength"||Me=="byteOffset")||Ge(Me,ce))||oe.push(Me);return oe}function te(gt,Tt){for(var Pt=gt.length;Pt--;)if(Ae(gt[Pt][0],Tt))return Pt;return-1}function we(gt){return gt==null?gt===void 0?"[object Undefined]":"[object Null]":H&&H in Object(gt)?(function(Tt){var Pt=S.call(Tt,H),ne=Tt[H];try{Tt[H]=void 0;var ye=!0}catch{}var Jt=E.call(Tt);return ye&&(Pt?Tt[H]=ne:delete Tt[H]),Jt})(gt):(function(Tt){return E.call(Tt)})(gt)}function _e(gt){return Xe(gt)&&we(gt)==s}function Se(gt,Tt,Pt,ne,ye){return gt===Tt||(gt==null||Tt==null||!Xe(gt)&&!Xe(Tt)?gt!=gt&&Tt!=Tt:(function(Jt,fe,oe,ce,Me,Ie){var Ve=Be(Jt),yr=Be(fe),Ze=Ve?"[object Array]":ge(Jt),zt=yr?"[object Array]":ge(fe),de=(Ze=Ze==s?a:Ze)==a,Re=(zt=zt==s?a:zt)==a,ct=Ze==zt;if(ct&&ke(Jt)){if(!ke(fe))return!1;Ve=!0,de=!1}if(ct&&!de)return Ie||(Ie=new re),Ve||Je(Jt)?ie(Jt,fe,oe,ce,Me,Ie):(function(ot,wt,jt,Xt,Ut,Gt,le){switch(jt){case"[object DataView]":if(ot.byteLength!=wt.byteLength||ot.byteOffset!=wt.byteOffset)return!1;ot=ot.buffer,wt=wt.buffer;case"[object ArrayBuffer]":return!(ot.byteLength!=wt.byteLength||!Gt(new K(ot),new K(wt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+ot,+wt);case"[object Error]":return ot.name==wt.name&&ot.message==wt.message;case"[object RegExp]":case"[object String]":return ot==wt+"";case h:var Qt=F;case n:var be=1&Xt;if(Qt||(Qt=j),ot.size!=wt.size&&!be)return!1;var Ne=le.get(ot);if(Ne)return Ne==wt;Xt|=2,le.set(ot,wt);var xr=ie(Qt(ot),Qt(wt),Xt,Ut,Gt,le);return le.delete(ot),xr;case"[object Symbol]":if(Et)return Et.call(ot)==Et.call(wt)}return!1})(Jt,fe,Ze,oe,ce,Me,Ie);if(!(1&oe)){var St=de&&S.call(Jt,"__wrapped__"),Lt=Re&&S.call(fe,"__wrapped__");if(St||Lt){var Kt=St?Jt.value():Jt,pe=Lt?fe.value():fe;return Ie||(Ie=new re),Me(Kt,pe,oe,ce,Ie)}}return ct?(Ie||(Ie=new re),(function(ot,wt,jt,Xt,Ut,Gt){var le=1&jt,Qt=ae(ot),be=Qt.length,Ne=ae(wt).length;if(be!=Ne&&!le)return!1;for(var xr=be;xr--;){var Br=Qt[xr];if(!(le?Br in wt:S.call(wt,Br)))return!1}var $e=Gt.get(ot);if($e&&Gt.get(wt))return $e==wt;var an=!0;Gt.set(ot,wt),Gt.set(wt,ot);for(var un=le;++xr<be;){Br=Qt[xr];var Mn=ot[Br],qr=wt[Br];if(Xt)var ar=le?Xt(qr,Mn,Br,wt,ot,Gt):Xt(Mn,qr,Br,ot,wt,Gt);if(!(ar===void 0?Mn===qr||Ut(Mn,qr,jt,Xt,Gt):ar)){an=!1;break}un||(un=Br=="constructor")}if(an&&!un){var sr=ot.constructor,Nn=wt.constructor;sr==Nn||!("constructor"in ot)||!("constructor"in wt)||typeof sr=="function"&&sr instanceof sr&&typeof Nn=="function"&&Nn instanceof Nn||(an=!1)}return Gt.delete(ot),Gt.delete(wt),an})(Jt,fe,oe,ce,Me,Ie)):!1})(gt,Tt,Pt,ne,Se,ye))}function ee(gt){return!(!xe(gt)||(function(Tt){return!!T&&T in Tt})(gt))&&(qe(gt)?N:u).test(Ee(gt))}function Ft(gt){if(Pt=(Tt=gt)&&Tt.constructor,ne=typeof Pt=="function"&&Pt.prototype||P,Tt!==ne)return D(gt);var Tt,Pt,ne,ye=[];for(var Jt in Object(gt))S.call(gt,Jt)&&Jt!="constructor"&&ye.push(Jt);return ye}function ie(gt,Tt,Pt,ne,ye,Jt){var fe=1&Pt,oe=gt.length,ce=Tt.length;if(oe!=ce&&!(fe&&ce>oe))return!1;var Me=Jt.get(gt);if(Me&&Jt.get(Tt))return Me==Tt;var Ie=-1,Ve=!0,yr=2&Pt?new se:void 0;for(Jt.set(gt,Tt),Jt.set(Tt,gt);++Ie<oe;){var Ze=gt[Ie],zt=Tt[Ie];if(ne)var de=fe?ne(zt,Ze,Ie,Tt,gt,Jt):ne(Ze,zt,Ie,gt,Tt,Jt);if(de!==void 0){if(de)continue;Ve=!1;break}if(yr){if(!G(Tt,(function(Re,ct){if(St=ct,!yr.has(St)&&(Ze===Re||ye(Ze,Re,Pt,ne,Jt)))return yr.push(ct);var St}))){Ve=!1;break}}else if(Ze!==zt&&!ye(Ze,zt,Pt,ne,Jt)){Ve=!1;break}}return Jt.delete(gt),Jt.delete(Tt),Ve}function ae(gt){return(function(Tt,Pt,ne){var ye=Pt(Tt);return Be(Tt)?ye:(function(Jt,fe){for(var oe=-1,ce=fe.length,Me=Jt.length;++oe<ce;)Jt[Me+oe]=fe[oe];return Jt})(ye,ne(Tt))})(gt,Oe,Fe)}function he(gt,Tt){var Pt,ne,ye=gt.__data__;return((ne=typeof(Pt=Tt))=="string"||ne=="number"||ne=="symbol"||ne=="boolean"?Pt!=="__proto__":Pt===null)?ye[typeof Tt=="string"?"string":"hash"]:ye.map}function Le(gt,Tt){var Pt=(function(ne,ye){return ne?.[ye]})(gt,Tt);return ee(Pt)?Pt:void 0}It.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},It.prototype.delete=function(gt){var Tt=this.has(gt)&&delete this.__data__[gt];return this.size-=Tt?1:0,Tt},It.prototype.get=function(gt){var Tt=this.__data__;if(yt){var Pt=Tt[gt];return Pt==="__lodash_hash_undefined__"?void 0:Pt}return S.call(Tt,gt)?Tt[gt]:void 0},It.prototype.has=function(gt){var Tt=this.__data__;return yt?Tt[gt]!==void 0:S.call(Tt,gt)},It.prototype.set=function(gt,Tt){var Pt=this.__data__;return this.size+=this.has(gt)?0:1,Pt[gt]=yt&&Tt===void 0?"__lodash_hash_undefined__":Tt,this},Nt.prototype.clear=function(){this.__data__=[],this.size=0},Nt.prototype.delete=function(gt){var Tt=this.__data__,Pt=te(Tt,gt);return!(Pt<0)&&(Pt==Tt.length-1?Tt.pop():nt.call(Tt,Pt,1),--this.size,!0)},Nt.prototype.get=function(gt){var Tt=this.__data__,Pt=te(Tt,gt);return Pt<0?void 0:Tt[Pt][1]},Nt.prototype.has=function(gt){return te(this.__data__,gt)>-1},Nt.prototype.set=function(gt,Tt){var Pt=this.__data__,ne=te(Pt,gt);return ne<0?(++this.size,Pt.push([gt,Tt])):Pt[ne][1]=Tt,this},$t.prototype.clear=function(){this.size=0,this.__data__={hash:new It,map:new(it||Nt),string:new It}},$t.prototype.delete=function(gt){var Tt=he(this,gt).delete(gt);return this.size-=Tt?1:0,Tt},$t.prototype.get=function(gt){return he(this,gt).get(gt)},$t.prototype.has=function(gt){return he(this,gt).has(gt)},$t.prototype.set=function(gt,Tt){var Pt=he(this,gt),ne=Pt.size;return Pt.set(gt,Tt),this.size+=Pt.size==ne?0:1,this},se.prototype.add=se.prototype.push=function(gt){return this.__data__.set(gt,"__lodash_hash_undefined__"),this},se.prototype.has=function(gt){return this.__data__.has(gt)},re.prototype.clear=function(){this.__data__=new Nt,this.size=0},re.prototype.delete=function(gt){var Tt=this.__data__,Pt=Tt.delete(gt);return this.size=Tt.size,Pt},re.prototype.get=function(gt){return this.__data__.get(gt)},re.prototype.has=function(gt){return this.__data__.has(gt)},re.prototype.set=function(gt,Tt){var Pt=this.__data__;if(Pt instanceof Nt){var ne=Pt.__data__;if(!it||ne.length<199)return ne.push([gt,Tt]),this.size=++Pt.size,this;Pt=this.__data__=new $t(ne)}return Pt.set(gt,Tt),this.size=Pt.size,this};var Fe=tt?function(gt){return gt==null?[]:(gt=Object(gt),(function(Tt,Pt){for(var ne=-1,ye=Tt==null?0:Tt.length,Jt=0,fe=[];++ne<ye;){var oe=Tt[ne];Pt(oe,ne,Tt)&&(fe[Jt++]=oe)}return fe})(tt(gt),(function(Tt){return Z.call(gt,Tt)})))}:function(){return[]},ge=we;function Ge(gt,Tt){return!!(Tt=Tt??9007199254740991)&&(typeof gt=="number"||p.test(gt))&&gt>-1&&gt%1==0&&gt<Tt}function Ee(gt){if(gt!=null){try{return x.call(gt)}catch{}try{return gt+""}catch{}}return""}function Ae(gt,Tt){return gt===Tt||gt!=gt&&Tt!=Tt}(Q&&ge(new Q(new ArrayBuffer(1)))!="[object DataView]"||it&&ge(new it)!=h||ht&&ge(ht.resolve())!="[object Promise]"||st&&ge(new st)!=n||ut&&ge(new ut)!="[object WeakMap]")&&(ge=function(gt){var Tt=we(gt),Pt=Tt==a?gt.constructor:void 0,ne=Pt?Ee(Pt):"";if(ne)switch(ne){case bt:return"[object DataView]";case at:return h;case pt:return"[object Promise]";case dt:return n;case vt:return"[object WeakMap]"}return Tt});var Qe=_e((function(){return arguments})())?_e:function(gt){return Xe(gt)&&S.call(gt,"callee")&&!Z.call(gt,"callee")},Be=Array.isArray,ke=V||function(){return!1};function qe(gt){if(!xe(gt))return!1;var Tt=we(gt);return Tt=="[object Function]"||Tt=="[object GeneratorFunction]"||Tt=="[object AsyncFunction]"||Tt=="[object Proxy]"}function He(gt){return typeof gt=="number"&&gt>-1&&gt%1==0&&gt<=9007199254740991}function xe(gt){var Tt=typeof gt;return gt!=null&&(Tt=="object"||Tt=="function")}function Xe(gt){return gt!=null&&typeof gt=="object"}var Je=L?(function(gt){return function(Tt){return gt(Tt)}})(L):function(gt){return Xe(gt)&&He(gt.length)&&!!f[we(gt)]};function Oe(gt){return(Tt=gt)!=null&&He(Tt.length)&&!qe(Tt)?Zt(gt):Ft(gt);var Tt}i.exports=function(gt,Tt){return Se(gt,Tt)}}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,i,c){(function(l){(function(){var s=typeof l=="object"&&l&&l.Object===Object&&l,h=typeof self=="object"&&self&&self.Object===Object&&self,a=s||h||Function("return this")(),n=Object.prototype,u=n.hasOwnProperty,p=n.toString,f=a.Symbol,d=f?f.toStringTag:void 0;function y(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":d&&d in Object(v)?(function(g){var w=u.call(g,d),_=g[d];try{g[d]=void 0;var k=!0}catch{}var M=p.call(g);return k&&(w?g[d]=_:delete g[d]),M})(v):(function(g){return p.call(g)})(v)}i.exports=function(v){if(!(function(w){var _=typeof w;return w!=null&&(_=="object"||_=="function")})(v))return!1;var g=y(v);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,i,c){i.exports=function(l){return l==null}},{}],448:[function(t,i,c){i.exports=function(l){return l===void 0}},{}],449:[function(t,i,c){(function(l){(function(){var s=/^\[object .+?Constructor\]$/,h=typeof l=="object"&&l&&l.Object===Object&&l,a=typeof self=="object"&&self&&self.Object===Object&&self,n=h||a||Function("return this")();function u(B,K){return!!(B&&B.length)&&(function(Z,nt,H){if(nt!=nt)return(function(D,Q,it,ht){for(var st=D.length,ut=it+-1;++ut<st;)if(Q(D[ut],ut,D))return ut;return-1})(Z,p,H);for(var tt=H-1,V=Z.length;++tt<V;)if(Z[tt]===nt)return tt;return-1})(B,K,0)>-1}function p(B){return B!=B}function f(B,K){return B.has(K)}function d(B){var K=-1,Z=Array(B.size);return B.forEach((function(nt){Z[++K]=nt})),Z}var y,v=Array.prototype,g=Function.prototype,w=Object.prototype,_=n["__core-js_shared__"],k=(y=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",M=g.toString,L=w.hasOwnProperty,G=w.toString,F=RegExp("^"+M.call(L).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=v.splice,U=N(n,"Map"),q=N(n,"Set"),X=N(Object,"create");function $(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var nt=B[K];this.set(nt[0],nt[1])}}function R(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var nt=B[K];this.set(nt[0],nt[1])}}function P(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var nt=B[K];this.set(nt[0],nt[1])}}function C(B){var K=-1,Z=B?B.length:0;for(this.__data__=new P;++K<Z;)this.add(B[K])}function x(B,K){for(var Z,nt,H=B.length;H--;)if((Z=B[H][0])===(nt=K)||Z!=Z&&nt!=nt)return H;return-1}function S(B){return!(!I(B)||(K=B,k&&k in K))&&((function(Z){var nt=I(Z)?G.call(Z):"";return nt=="[object Function]"||nt=="[object GeneratorFunction]"})(B)||(function(Z){var nt=!1;if(Z!=null&&typeof Z.toString!="function")try{nt=!!(Z+"")}catch{}return nt})(B)?F:s).test((function(Z){if(Z!=null){try{return M.call(Z)}catch{}try{return Z+""}catch{}}return""})(B));var K}$.prototype.clear=function(){this.__data__=X?X(null):{}},$.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},$.prototype.get=function(B){var K=this.__data__;if(X){var Z=K[B];return Z==="__lodash_hash_undefined__"?void 0:Z}return L.call(K,B)?K[B]:void 0},$.prototype.has=function(B){var K=this.__data__;return X?K[B]!==void 0:L.call(K,B)},$.prototype.set=function(B,K){return this.__data__[B]=X&&K===void 0?"__lodash_hash_undefined__":K,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(B){var K=this.__data__,Z=x(K,B);return!(Z<0)&&(Z==K.length-1?K.pop():j.call(K,Z,1),!0)},R.prototype.get=function(B){var K=this.__data__,Z=x(K,B);return Z<0?void 0:K[Z][1]},R.prototype.has=function(B){return x(this.__data__,B)>-1},R.prototype.set=function(B,K){var Z=this.__data__,nt=x(Z,B);return nt<0?Z.push([B,K]):Z[nt][1]=K,this},P.prototype.clear=function(){this.__data__={hash:new $,map:new(U||R),string:new $}},P.prototype.delete=function(B){return E(this,B).delete(B)},P.prototype.get=function(B){return E(this,B).get(B)},P.prototype.has=function(B){return E(this,B).has(B)},P.prototype.set=function(B,K){return E(this,B).set(B,K),this},C.prototype.add=C.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},C.prototype.has=function(B){return this.__data__.has(B)};var T=q&&1/d(new q([,-0]))[1]==1/0?function(B){return new q(B)}:function(){};function E(B,K){var Z,nt,H=B.__data__;return((nt=typeof(Z=K))=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?Z!=="__proto__":Z===null)?H[typeof K=="string"?"string":"hash"]:H.map}function N(B,K){var Z=(function(nt,H){return nt?.[H]})(B,K);return S(Z)?Z:void 0}function I(B){var K=typeof B;return!!B&&(K=="object"||K=="function")}i.exports=function(B){return B&&B.length?(function(K,Z,nt){var H=-1,tt=u,V=K.length,D=!0,Q=[],it=Q;if(V>=200){var ht=T(K);if(ht)return d(ht);D=!1,tt=f,it=new C}else it=Q;t:for(;++H<V;){var st=K[H],ut=st;if(st=st!==0?st:0,D&&ut==ut){for(var yt=it.length;yt--;)if(it[yt]===ut)continue t;Q.push(st)}else tt(it,ut,nt)||(it!==Q&&it.push(ut),Q.push(st))}return Q})(B):[]}}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,i,c){var l=t("inherits"),s=t("hash-base"),h=t("safe-buffer").Buffer,a=new Array(16);function n(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(v,g){return v<<g|v>>>32-g}function p(v,g,w,_,k,M,L){return u(v+(g&w|~g&_)+k+M|0,L)+g|0}function f(v,g,w,_,k,M,L){return u(v+(g&_|w&~_)+k+M|0,L)+g|0}function d(v,g,w,_,k,M,L){return u(v+(g^w^_)+k+M|0,L)+g|0}function y(v,g,w,_,k,M,L){return u(v+(w^(g|~_))+k+M|0,L)+g|0}l(n,s),n.prototype._update=function(){for(var v=a,g=0;g<16;++g)v[g]=this._block.readInt32LE(4*g);var w=this._a,_=this._b,k=this._c,M=this._d;w=p(w,_,k,M,v[0],3614090360,7),M=p(M,w,_,k,v[1],3905402710,12),k=p(k,M,w,_,v[2],606105819,17),_=p(_,k,M,w,v[3],3250441966,22),w=p(w,_,k,M,v[4],4118548399,7),M=p(M,w,_,k,v[5],1200080426,12),k=p(k,M,w,_,v[6],2821735955,17),_=p(_,k,M,w,v[7],4249261313,22),w=p(w,_,k,M,v[8],1770035416,7),M=p(M,w,_,k,v[9],2336552879,12),k=p(k,M,w,_,v[10],4294925233,17),_=p(_,k,M,w,v[11],2304563134,22),w=p(w,_,k,M,v[12],1804603682,7),M=p(M,w,_,k,v[13],4254626195,12),k=p(k,M,w,_,v[14],2792965006,17),w=f(w,_=p(_,k,M,w,v[15],1236535329,22),k,M,v[1],4129170786,5),M=f(M,w,_,k,v[6],3225465664,9),k=f(k,M,w,_,v[11],643717713,14),_=f(_,k,M,w,v[0],3921069994,20),w=f(w,_,k,M,v[5],3593408605,5),M=f(M,w,_,k,v[10],38016083,9),k=f(k,M,w,_,v[15],3634488961,14),_=f(_,k,M,w,v[4],3889429448,20),w=f(w,_,k,M,v[9],568446438,5),M=f(M,w,_,k,v[14],3275163606,9),k=f(k,M,w,_,v[3],4107603335,14),_=f(_,k,M,w,v[8],1163531501,20),w=f(w,_,k,M,v[13],2850285829,5),M=f(M,w,_,k,v[2],4243563512,9),k=f(k,M,w,_,v[7],1735328473,14),w=d(w,_=f(_,k,M,w,v[12],2368359562,20),k,M,v[5],4294588738,4),M=d(M,w,_,k,v[8],2272392833,11),k=d(k,M,w,_,v[11],1839030562,16),_=d(_,k,M,w,v[14],4259657740,23),w=d(w,_,k,M,v[1],2763975236,4),M=d(M,w,_,k,v[4],1272893353,11),k=d(k,M,w,_,v[7],4139469664,16),_=d(_,k,M,w,v[10],3200236656,23),w=d(w,_,k,M,v[13],681279174,4),M=d(M,w,_,k,v[0],3936430074,11),k=d(k,M,w,_,v[3],3572445317,16),_=d(_,k,M,w,v[6],76029189,23),w=d(w,_,k,M,v[9],3654602809,4),M=d(M,w,_,k,v[12],3873151461,11),k=d(k,M,w,_,v[15],530742520,16),w=y(w,_=d(_,k,M,w,v[2],3299628645,23),k,M,v[0],4096336452,6),M=y(M,w,_,k,v[7],1126891415,10),k=y(k,M,w,_,v[14],2878612391,15),_=y(_,k,M,w,v[5],4237533241,21),w=y(w,_,k,M,v[12],1700485571,6),M=y(M,w,_,k,v[3],2399980690,10),k=y(k,M,w,_,v[10],4293915773,15),_=y(_,k,M,w,v[1],2240044497,21),w=y(w,_,k,M,v[8],1873313359,6),M=y(M,w,_,k,v[15],4264355552,10),k=y(k,M,w,_,v[6],2734768916,15),_=y(_,k,M,w,v[13],1309151649,21),w=y(w,_,k,M,v[4],4149444226,6),M=y(M,w,_,k,v[11],3174756917,10),k=y(k,M,w,_,v[2],718787259,15),_=y(_,k,M,w,v[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+_|0,this._c=this._c+k|0,this._d=this._d+M|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=h.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},i.exports=n},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,i,c){var l=t("bn.js"),s=t("brorand");function h(a){this.rand=a||new s.Rand}i.exports=h,h.create=function(a){return new h(a)},h.prototype._randbelow=function(a){var n=a.bitLength(),u=Math.ceil(n/8);do var p=new l(this.rand.generate(u));while(p.cmp(a)>=0);return p},h.prototype._randrange=function(a,n){var u=n.sub(a);return a.add(this._randbelow(u))},h.prototype.test=function(a,n,u){var p=a.bitLength(),f=l.mont(a),d=new l(1).toRed(f);n||(n=Math.max(1,p/48|0));for(var y=a.subn(1),v=0;!y.testn(v);v++);for(var g=a.shrn(v),w=y.toRed(f);n>0;n--){var _=this._randrange(new l(2),y);u&&u(_);var k=_.toRed(f).redPow(g);if(k.cmp(d)!==0&&k.cmp(w)!==0){for(var M=1;M<v;M++){if((k=k.redSqr()).cmp(d)===0)return!1;if(k.cmp(w)===0)break}if(M===v)return!1}}return!0},h.prototype.getDivisor=function(a,n){var u=a.bitLength(),p=l.mont(a),f=new l(1).toRed(p);n||(n=Math.max(1,u/48|0));for(var d=a.subn(1),y=0;!d.testn(y);y++);for(var v=a.shrn(y),g=d.toRed(p);n>0;n--){var w=this._randrange(new l(2),d),_=a.gcd(w);if(_.cmpn(1)!==0)return _;var k=w.toRed(p).redPow(v);if(k.cmp(f)!==0&&k.cmp(g)!==0){for(var M=1;M<y;M++){if((k=k.redSqr()).cmp(f)===0)return k.fromRed().subn(1).gcd(a);if(k.cmp(g)===0)break}if(M===y)return(k=k.redSqr()).fromRed().subn(1).gcd(a)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],453:[function(t,i,c){function l(s,h){if(!s)throw new Error(h||"Assertion failed")}i.exports=l,l.equal=function(s,h,a){if(s!=h)throw new Error(a||"Assertion failed: "+s+" != "+h)}},{}],454:[function(t,i,c){var l=c;function s(a){return a.length===1?"0"+a:a}function h(a){for(var n="",u=0;u<a.length;u++)n+=s(a[u].toString(16));return n}l.toArray=function(a,n){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var p=0;p<a.length;p++)u[p]=0|a[p];return u}if(n==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),p=0;p<a.length;p+=2)u.push(parseInt(a[p]+a[p+1],16));else for(p=0;p<a.length;p++){var f=a.charCodeAt(p),d=f>>8,y=255&f;d?u.push(d,y):u.push(y)}return u},l.zero2=s,l.toHex=h,l.encode=function(a,n){return n==="hex"?h(a):a}},{}],455:[function(t,i,c){i.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,i,c){var l=t("asn1.js");c.certificate=t("./certificate");var s=l.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));c.RSAPrivateKey=s;var h=l.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));c.RSAPublicKey=h;var a=l.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}));c.PublicKey=a;var n=l.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=l.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())}));c.PrivateKey=u;var p=l.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));c.EncryptedPrivateKey=p;var f=l.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));c.DSAPrivateKey=f,c.DSAparam=l.define("DSAparam",(function(){this.int()}));var d=l.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())}));c.ECPrivateKey=d;var y=l.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));c.signature=l.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,i,c){var l=t("asn1.js"),s=l.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),h=l.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=l.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),n=l.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=l.define("RelativeDistinguishedName",(function(){this.setof(h)})),p=l.define("RDNSequence",(function(){this.seqof(u)})),f=l.define("Name",(function(){this.choice({rdnSequence:this.use(p)})})),d=l.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),y=l.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),v=l.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(f),this.key("validity").use(d),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())})),g=l.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));i.exports=g},{"asn1.js":170}],458:[function(t,i,c){var l=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,h=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=t("evp_bytestokey"),n=t("browserify-aes"),u=t("safe-buffer").Buffer;i.exports=function(p,f){var d,y=p.toString(),v=y.match(l);if(v){var g="aes"+v[1],w=u.from(v[2],"hex"),_=u.from(v[3].replace(/[\r\n]/g,""),"base64"),k=a(f,w.slice(0,8),parseInt(v[1],10)).key,M=[],L=n.createDecipheriv(g,k,w);M.push(L.update(_)),M.push(L.final()),d=u.concat(M)}else{var G=y.match(h);d=u.from(G[2].replace(/[\r\n]/g,""),"base64")}return{tag:y.match(s)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,i,c){var l=t("./asn1"),s=t("./aesid.json"),h=t("./fixProc"),a=t("browserify-aes"),n=t("pbkdf2"),u=t("safe-buffer").Buffer;function p(f){var d;typeof f!="object"||u.isBuffer(f)||(d=f.passphrase,f=f.key),typeof f=="string"&&(f=u.from(f));var y,v,g=h(f,d),w=g.tag,_=g.data;switch(w){case"CERTIFICATE":v=l.certificate.decode(_,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=l.PublicKey.decode(_,"der")),y=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return l.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=l.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":_=(function(k,M){var L=k.algorithm.decrypt.kde.kdeparams.salt,G=parseInt(k.algorithm.decrypt.kde.kdeparams.iters.toString(),10),F=s[k.algorithm.decrypt.cipher.algo.join(".")],j=k.algorithm.decrypt.cipher.iv,U=k.subjectPrivateKey,q=parseInt(F.split("-")[1],10)/8,X=n.pbkdf2Sync(M,L,G,q,"sha1"),$=a.createDecipheriv(F,X,j),R=[];return R.push($.update(U)),R.push($.final()),u.concat(R)})(_=l.EncryptedPrivateKey.decode(_,"der"),d);case"PRIVATE KEY":switch(y=(v=l.PrivateKey.decode(_,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return l.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:l.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=l.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return l.RSAPublicKey.decode(_,"der");case"RSA PRIVATE KEY":return l.RSAPrivateKey.decode(_,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:l.DSAPrivateKey.decode(_,"der")};case"EC PRIVATE KEY":return{curve:(_=l.ECPrivateKey.decode(_,"der")).parameters.value,privateKey:_.privateKey};default:throw new Error("unknown key type "+w)}}i.exports=p,p.signature=l.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,i,c){c.pbkdf2=t("./lib/async"),c.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,i,c){(function(l){(function(){var s,h,a=t("safe-buffer").Buffer,n=t("./precondition"),u=t("./default-encoding"),p=t("./sync"),f=t("./to-buffer"),d=l.crypto&&l.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function g(){return h||(h=l.process&&l.process.nextTick?l.process.nextTick:l.queueMicrotask?l.queueMicrotask:l.setImmediate?l.setImmediate:l.setTimeout)}function w(_,k,M,L,G){return d.importKey("raw",_,{name:"PBKDF2"},!1,["deriveBits"]).then((function(F){return d.deriveBits({name:"PBKDF2",salt:k,iterations:M,hash:{name:G}},F,L<<3)})).then((function(F){return a.from(F)}))}i.exports=function(_,k,M,L,G,F){typeof G=="function"&&(F=G,G=void 0);var j=y[(G=G||"sha1").toLowerCase()];if(j&&typeof l.Promise=="function"){if(n(M,L),_=f(_,u,"Password"),k=f(k,u,"Salt"),typeof F!="function")throw new Error("No callback provided to pbkdf2");(function(U,q){U.then((function(X){g()((function(){q(null,X)}))}),(function(X){g()((function(){q(X)}))}))})((function(U){if(l.process&&!l.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(v[U]!==void 0)return v[U];var q=w(s=s||a.alloc(8),s,10,128,U).then((function(){return!0})).catch((function(){return!1}));return v[U]=q,q})(j).then((function(U){return U?w(_,k,M,L,j):p(_,k,M,L,G)})),F)}else g()((function(){var U;try{U=p(_,k,M,L,G)}catch(q){return F(q)}F(null,U)}))}}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,i,c){(function(l,s){(function(){var h;s.process&&s.process.browser?h="utf-8":s.process&&s.process.version?h=parseInt(l.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":h="utf-8",i.exports=h}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,i,c){var l=Math.pow(2,30)-1;i.exports=function(s,h){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof h!="number")throw new TypeError("Key length not a number");if(h<0||h>l||h!=h)throw new TypeError("Bad key length")}},{}],464:[function(t,i,c){var l=t("create-hash/md5"),s=t("ripemd160"),h=t("sha.js"),a=t("safe-buffer").Buffer,n=t("./precondition"),u=t("./default-encoding"),p=t("./to-buffer"),f=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(v,g,w){var _=(function(j){function U(q){return h(j).update(q).digest()}return j==="rmd160"||j==="ripemd160"?function(q){return new s().update(q).digest()}:j==="md5"?l:U})(v),k=v==="sha512"||v==="sha384"?128:64;g.length>k?g=_(g):g.length<k&&(g=a.concat([g,f],k));for(var M=a.allocUnsafe(k+d[v]),L=a.allocUnsafe(k+d[v]),G=0;G<k;G++)M[G]=54^g[G],L[G]=92^g[G];var F=a.allocUnsafe(k+w+4);M.copy(F,0,0,k),this.ipad1=F,this.ipad2=M,this.opad=L,this.alg=v,this.blocksize=k,this.hash=_,this.size=d[v]}y.prototype.run=function(v,g){return v.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},i.exports=function(v,g,w,_,k){n(w,_);var M=new y(k=k||"sha1",v=p(v,u,"Password"),(g=p(g,u,"Salt")).length),L=a.allocUnsafe(_),G=a.allocUnsafe(g.length+4);g.copy(G,0,0,g.length);for(var F=0,j=d[k],U=Math.ceil(_/j),q=1;q<=U;q++){G.writeUInt32BE(q,g.length);for(var X=M.run(G,M.ipad1),$=X,R=1;R<w;R++){$=M.run($,M.ipad2);for(var P=0;P<j;P++)X[P]^=$[P]}X.copy(L,F),F+=j}return L}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,i,c){var l=t("safe-buffer").Buffer;i.exports=function(s,h,a){if(l.isBuffer(s))return s;if(typeof s=="string")return l.from(s,h);if(ArrayBuffer.isView(s))return l.from(s.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,i,c){(function(l){(function(){l===void 0||!l.version||l.version.indexOf("v0.")===0||l.version.indexOf("v1.")===0&&l.version.indexOf("v1.8.")!==0?i.exports={nextTick:function(s,h,a,n){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var u,p,f=arguments.length;switch(f){case 0:case 1:return l.nextTick(s);case 2:return l.nextTick((function(){s.call(null,h)}));case 3:return l.nextTick((function(){s.call(null,h,a)}));case 4:return l.nextTick((function(){s.call(null,h,a,n)}));default:for(u=new Array(f-1),p=0;p<u.length;)u[p++]=arguments[p];return l.nextTick((function(){s.apply(null,u)}))}}}:i.exports=l}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,i,c){var l,s,h=i.exports={};function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function u(k){if(l===setTimeout)return setTimeout(k,0);if((l===a||!l)&&setTimeout)return l=setTimeout,setTimeout(k,0);try{return l(k,0)}catch{try{return l.call(null,k,0)}catch{return l.call(this,k,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:a}catch{l=a}try{s=typeof clearTimeout=="function"?clearTimeout:n}catch{s=n}})();var p,f=[],d=!1,y=-1;function v(){d&&p&&(d=!1,p.length?f=p.concat(f):y=-1,f.length&&g())}function g(){if(!d){var k=u(v);d=!0;for(var M=f.length;M;){for(p=f,f=[];++y<M;)p&&p[y].run();y=-1,M=f.length}p=null,d=!1,(function(L){if(s===clearTimeout)return clearTimeout(L);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(L);try{s(L)}catch{try{return s.call(null,L)}catch{return s.call(this,L)}}})(k)}}function w(k,M){this.fun=k,this.array=M}function _(){}h.nextTick=function(k){var M=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)M[L-1]=arguments[L];f.push(new w(k,M)),f.length!==1||d||u(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=_,h.addListener=_,h.once=_,h.off=_,h.removeListener=_,h.removeAllListeners=_,h.emit=_,h.prependListener=_,h.prependOnceListener=_,h.listeners=function(k){return[]},h.binding=function(k){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(k){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],468:[function(t,i,c){c.publicEncrypt=t("./publicEncrypt"),c.privateDecrypt=t("./privateDecrypt"),c.privateEncrypt=function(l,s){return c.publicEncrypt(l,s,!0)},c.publicDecrypt=function(l,s){return c.privateDecrypt(l,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,i,c){var l=t("create-hash"),s=t("safe-buffer").Buffer;function h(a){var n=s.allocUnsafe(4);return n.writeUInt32BE(a,0),n}i.exports=function(a,n){for(var u,p=s.alloc(0),f=0;p.length<n;)u=h(f++),p=s.concat([p,l("sha1").update(a).update(u).digest()]);return p.slice(0,n)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],471:[function(t,i,c){var l=t("parse-asn1"),s=t("./mgf"),h=t("./xor"),a=t("bn.js"),n=t("browserify-rsa"),u=t("create-hash"),p=t("./withPublic"),f=t("safe-buffer").Buffer;i.exports=function(d,y,v){var g;g=d.padding?d.padding:v?1:4;var w,_=l(d),k=_.modulus.byteLength();if(y.length>k||new a(y).cmp(_.modulus)>=0)throw new Error("decryption error");w=v?p(new a(y),_):n(y,_);var M=f.alloc(k-w.length);if(w=f.concat([M,w],k),g===4)return(function(L,G){var F=L.modulus.byteLength(),j=u("sha1").update(f.alloc(0)).digest(),U=j.length;if(G[0]!==0)throw new Error("decryption error");var q=G.slice(1,U+1),X=G.slice(U+1),$=h(q,s(X,U)),R=h(X,s($,F-U-1));if((function(C,x){C=f.from(C),x=f.from(x);var S=0,T=C.length;C.length!==x.length&&(S++,T=Math.min(C.length,x.length));for(var E=-1;++E<T;)S+=C[E]^x[E];return S})(j,R.slice(0,U)))throw new Error("decryption error");for(var P=U;R[P]===0;)P++;if(R[P++]!==1)throw new Error("decryption error");return R.slice(P)})(_,w);if(g===1)return(function(L,G,F){for(var j=G.slice(0,2),U=2,q=0;G[U++]!==0;)if(U>=G.length){q++;break}var X=G.slice(2,U-1);if((j.toString("hex")!=="0002"&&!F||j.toString("hex")!=="0001"&&F)&&q++,X.length<8&&q++,q)throw new Error("decryption error");return G.slice(U)})(0,w,v);if(g===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,i,c){var l=t("parse-asn1"),s=t("randombytes"),h=t("create-hash"),a=t("./mgf"),n=t("./xor"),u=t("bn.js"),p=t("./withPublic"),f=t("browserify-rsa"),d=t("safe-buffer").Buffer;i.exports=function(y,v,g){var w;w=y.padding?y.padding:g?1:4;var _,k=l(y);if(w===4)_=(function(M,L){var G=M.modulus.byteLength(),F=L.length,j=h("sha1").update(d.alloc(0)).digest(),U=j.length,q=2*U;if(F>G-q-2)throw new Error("message too long");var X=d.alloc(G-F-q-2),$=G-U-1,R=s(U),P=n(d.concat([j,X,d.alloc(1,1),L],$),a(R,$)),C=n(R,a(P,U));return new u(d.concat([d.alloc(1),C,P],G))})(k,v);else if(w===1)_=(function(M,L,G){var F,j=L.length,U=M.modulus.byteLength();if(j>U-11)throw new Error("message too long");return F=G?d.alloc(U-j-3,255):(function(q){for(var X,$=d.allocUnsafe(q),R=0,P=s(2*q),C=0;R<q;)C===P.length&&(P=s(2*q),C=0),(X=P[C++])&&($[R++]=X);return $})(U-j-3),new u(d.concat([d.from([0,G?1:2]),F,d.alloc(1),L],U))})(k,v,g);else{if(w!==3)throw new Error("unknown padding");if((_=new u(v)).cmp(k.modulus)>=0)throw new Error("data too long for modulus")}return g?f(_,k):p(_,k)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,i,c){var l=t("bn.js"),s=t("safe-buffer").Buffer;i.exports=function(h,a){return s.from(h.toRed(l.mont(a.modulus)).redPow(new l(a.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,i,c){i.exports=function(l,s){for(var h=l.length,a=-1;++a<h;)l[a]^=s[a];return l}},{}],475:[function(t,i,c){(function(l,s){(function(){var h=t("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?i.exports=function(n,u){if(n>4294967295)throw new RangeError("requested too many random bytes");var p=h.allocUnsafe(n);if(n>0)if(n>65536)for(var f=0;f<n;f+=65536)a.getRandomValues(p.slice(f,f+65536));else a.getRandomValues(p);return typeof u=="function"?l.nextTick((function(){u(null,p)})):p}:i.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,i,c){(function(l,s){(function(){function h(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=t("safe-buffer"),n=t("randombytes"),u=a.Buffer,p=a.kMaxLength,f=s.crypto||s.msCrypto,d=Math.pow(2,32)-1;function y(w,_){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>d||w<0)throw new TypeError("offset must be a uint32");if(w>p||w>_)throw new RangeError("offset out of range")}function v(w,_,k){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>d||w<0)throw new TypeError("size must be a uint32");if(w+_>k||w>p)throw new RangeError("buffer too small")}function g(w,_,k,M){if(l.browser){var L=w.buffer,G=new Uint8Array(L,_,k);return f.getRandomValues(G),M?void l.nextTick((function(){M(null,w)})):w}if(!M)return n(k).copy(w,_),w;n(k,(function(F,j){if(F)return M(F);j.copy(w,_),M(null,w)}))}f&&f.getRandomValues||!l.browser?(c.randomFill=function(w,_,k,M){if(!(u.isBuffer(w)||w instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof _=="function")M=_,_=0,k=w.length;else if(typeof k=="function")M=k,k=w.length-_;else if(typeof M!="function")throw new TypeError('"cb" argument must be a function');return y(_,w.length),v(k,_,w.length),g(w,_,k,M)},c.randomFillSync=function(w,_,k){if(_===void 0&&(_=0),!(u.isBuffer(w)||w instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(_,w.length),k===void 0&&(k=w.length-_),v(k,_,w.length),g(w,_,k)}):(c.randomFill=h,c.randomFillSync=h)}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,i,c){var l={};function s(a,n,u){u||(u=Error);var p=(function(f){var d,y;function v(g,w,_){return f.call(this,(function(k,M,L){return typeof n=="string"?n:n(k,M,L)})(g,w,_))||this}return y=f,(d=v).prototype=Object.create(y.prototype),d.prototype.constructor=d,d.__proto__=y,v})(u);p.prototype.name=u.name,p.prototype.code=a,l[a]=p}function h(a,n){if(Array.isArray(a)){var u=a.length;return a=a.map((function(p){return String(p)})),u>2?"one of ".concat(n," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(n," ").concat(a[0]," or ").concat(a[1]):"of ".concat(n," ").concat(a[0])}return"of ".concat(n," ").concat(String(a))}s("ERR_INVALID_OPT_VALUE",(function(a,n){return'The value "'+n+'" is invalid for option "'+a+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(a,n,u){var p,f,d;if(typeof n=="string"&&(f="not ",n.substr(0,f.length)===f)?(p="must not be",n=n.replace(/^not /,"")):p="must be",(function(v,g,w){return(w===void 0||w>v.length)&&(w=v.length),v.substring(w-g.length,w)===g})(a," argument"))d="The ".concat(a," ").concat(p," ").concat(h(n,"type"));else{var y=(function(v,g,w){return typeof w!="number"&&(w=0),!(w+g.length>v.length)&&v.indexOf(g,w)!==-1})(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(y," ").concat(p," ").concat(h(n,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(a){return"The "+a+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(a){return"Cannot call "+a+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(a){return"Unknown encoding: "+a}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=l},{}],478:[function(t,i,c){(function(l){(function(){var s=Object.keys||function(v){var g=[];for(var w in v)g.push(w);return g};i.exports=f;var h=t("./_stream_readable"),a=t("./_stream_writable");t("inherits")(f,h);for(var n=s(a.prototype),u=0;u<n.length;u++){var p=n[u];f.prototype[p]||(f.prototype[p]=a.prototype[p])}function f(v){if(!(this instanceof f))return new f(v);h.call(this,v),a.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||l.nextTick(y,this)}function y(v){v.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,i,c){i.exports=s;var l=t("./_stream_transform");function s(h){if(!(this instanceof s))return new s(h);l.call(this,h)}t("inherits")(s,l),s.prototype._transform=function(h,a,n){n(null,h)}},{"./_stream_transform":481,inherits:440}],480:[function(t,i,c){(function(l,s){(function(){var h;i.exports=$,$.ReadableState=X,t("events").EventEmitter;var a=function(V,D){return V.listeners(D).length},n=t("./internal/streams/stream"),u=t("buffer").Buffer,p=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,d=t("util");f=d&&d.debuglog?d.debuglog("stream"):function(){};var y,v,g,w=t("./internal/streams/buffer_list"),_=t("./internal/streams/destroy"),k=t("./internal/streams/state").getHighWaterMark,M=t("../errors").codes,L=M.ERR_INVALID_ARG_TYPE,G=M.ERR_STREAM_PUSH_AFTER_EOF,F=M.ERR_METHOD_NOT_IMPLEMENTED,j=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")($,n);var U=_.errorOrDestroy,q=["error","close","destroy","pause","resume"];function X(V,D,Q){h=h||t("./_stream_duplex"),V=V||{},typeof Q!="boolean"&&(Q=D instanceof h),this.objectMode=!!V.objectMode,Q&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=k(this,V,"readableHighWaterMark",Q),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(y||(y=t("string_decoder/").StringDecoder),this.decoder=new y(V.encoding),this.encoding=V.encoding)}function $(V){if(h=h||t("./_stream_duplex"),!(this instanceof $))return new $(V);var D=this instanceof h;this._readableState=new X(V,this,D),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),n.call(this)}function R(V,D,Q,it,ht){f("readableAddChunk",D);var st,ut=V._readableState;if(D===null)ut.reading=!1,(function(yt,bt){if(f("onEofChunk"),!bt.ended){if(bt.decoder){var at=bt.decoder.end();at&&at.length&&(bt.buffer.push(at),bt.length+=bt.objectMode?1:at.length)}bt.ended=!0,bt.sync?x(yt):(bt.needReadable=!1,bt.emittedReadable||(bt.emittedReadable=!0,S(yt)))}})(V,ut);else if(ht||(st=(function(yt,bt){var at;pt=bt,u.isBuffer(pt)||pt instanceof p||typeof bt=="string"||bt===void 0||yt.objectMode||(at=new L("chunk",["string","Buffer","Uint8Array"],bt));var pt;return at})(ut,D)),st)U(V,st);else if(ut.objectMode||D&&D.length>0)if(typeof D=="string"||ut.objectMode||Object.getPrototypeOf(D)===u.prototype||(D=(function(yt){return u.from(yt)})(D)),it)ut.endEmitted?U(V,new j):P(V,ut,D,!0);else if(ut.ended)U(V,new G);else{if(ut.destroyed)return!1;ut.reading=!1,ut.decoder&&!Q?(D=ut.decoder.write(D),ut.objectMode||D.length!==0?P(V,ut,D,!1):T(V,ut)):P(V,ut,D,!1)}else it||(ut.reading=!1,T(V,ut));return!ut.ended&&(ut.length<ut.highWaterMark||ut.length===0)}function P(V,D,Q,it){D.flowing&&D.length===0&&!D.sync?(D.awaitDrain=0,V.emit("data",Q)):(D.length+=D.objectMode?1:Q.length,it?D.buffer.unshift(Q):D.buffer.push(Q),D.needReadable&&x(V)),T(V,D)}Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(V){this._readableState&&(this._readableState.destroyed=V)}}),$.prototype.destroy=_.destroy,$.prototype._undestroy=_.undestroy,$.prototype._destroy=function(V,D){D(V)},$.prototype.push=function(V,D){var Q,it=this._readableState;return it.objectMode?Q=!0:typeof V=="string"&&((D=D||it.defaultEncoding)!==it.encoding&&(V=u.from(V,D),D=""),Q=!0),R(this,V,D,!1,Q)},$.prototype.unshift=function(V){return R(this,V,null,!0,!1)},$.prototype.isPaused=function(){return this._readableState.flowing===!1},$.prototype.setEncoding=function(V){y||(y=t("string_decoder/").StringDecoder);var D=new y(V);this._readableState.decoder=D,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,it="";Q!==null;)it+=D.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),it!==""&&this._readableState.buffer.push(it),this._readableState.length=it.length,this};function C(V,D){return V<=0||D.length===0&&D.ended?0:D.objectMode?1:V!=V?D.flowing&&D.length?D.buffer.head.data.length:D.length:(V>D.highWaterMark&&(D.highWaterMark=(function(Q){return Q>=1073741824?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(V)),V<=D.length?V:D.ended?D.length:(D.needReadable=!0,0))}function x(V){var D=V._readableState;f("emitReadable",D.needReadable,D.emittedReadable),D.needReadable=!1,D.emittedReadable||(f("emitReadable",D.flowing),D.emittedReadable=!0,l.nextTick(S,V))}function S(V){var D=V._readableState;f("emitReadable_",D.destroyed,D.length,D.ended),D.destroyed||!D.length&&!D.ended||(V.emit("readable"),D.emittedReadable=!1),D.needReadable=!D.flowing&&!D.ended&&D.length<=D.highWaterMark,K(V)}function T(V,D){D.readingMore||(D.readingMore=!0,l.nextTick(E,V,D))}function E(V,D){for(;!D.reading&&!D.ended&&(D.length<D.highWaterMark||D.flowing&&D.length===0);){var Q=D.length;if(f("maybeReadMore read 0"),V.read(0),Q===D.length)break}D.readingMore=!1}function N(V){var D=V._readableState;D.readableListening=V.listenerCount("readable")>0,D.resumeScheduled&&!D.paused?D.flowing=!0:V.listenerCount("data")>0&&V.resume()}function I(V){f("readable nexttick read 0"),V.read(0)}function B(V,D){f("resume",D.reading),D.reading||V.read(0),D.resumeScheduled=!1,V.emit("resume"),K(V),D.flowing&&!D.reading&&V.read(0)}function K(V){var D=V._readableState;for(f("flow",D.flowing);D.flowing&&V.read()!==null;);}function Z(V,D){return D.length===0?null:(D.objectMode?Q=D.buffer.shift():!V||V>=D.length?(Q=D.decoder?D.buffer.join(""):D.buffer.length===1?D.buffer.first():D.buffer.concat(D.length),D.buffer.clear()):Q=D.buffer.consume(V,D.decoder),Q);var Q}function nt(V){var D=V._readableState;f("endReadable",D.endEmitted),D.endEmitted||(D.ended=!0,l.nextTick(H,D,V))}function H(V,D){if(f("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,D.readable=!1,D.emit("end"),V.autoDestroy)){var Q=D._writableState;(!Q||Q.autoDestroy&&Q.finished)&&D.destroy()}}function tt(V,D){for(var Q=0,it=V.length;Q<it;Q++)if(V[Q]===D)return Q;return-1}$.prototype.read=function(V){f("read",V),V=parseInt(V,10);var D=this._readableState,Q=V;if(V!==0&&(D.emittedReadable=!1),V===0&&D.needReadable&&((D.highWaterMark!==0?D.length>=D.highWaterMark:D.length>0)||D.ended))return f("read: emitReadable",D.length,D.ended),D.length===0&&D.ended?nt(this):x(this),null;if((V=C(V,D))===0&&D.ended)return D.length===0&&nt(this),null;var it,ht=D.needReadable;return f("need readable",ht),(D.length===0||D.length-V<D.highWaterMark)&&f("length less than watermark",ht=!0),D.ended||D.reading?f("reading or ended",ht=!1):ht&&(f("do read"),D.reading=!0,D.sync=!0,D.length===0&&(D.needReadable=!0),this._read(D.highWaterMark),D.sync=!1,D.reading||(V=C(Q,D))),(it=V>0?Z(V,D):null)===null?(D.needReadable=D.length<=D.highWaterMark,V=0):(D.length-=V,D.awaitDrain=0),D.length===0&&(D.ended||(D.needReadable=!0),Q!==V&&D.ended&&nt(this)),it!==null&&this.emit("data",it),it},$.prototype._read=function(V){U(this,new F("_read()"))},$.prototype.pipe=function(V,D){var Q=this,it=this._readableState;switch(it.pipesCount){case 0:it.pipes=V;break;case 1:it.pipes=[it.pipes,V];break;default:it.pipes.push(V)}it.pipesCount+=1,f("pipe count=%d opts=%j",it.pipesCount,D);var ht=(!D||D.end!==!1)&&V!==l.stdout&&V!==l.stderr?ut:xt;function st(Et,It){f("onunpipe"),Et===Q&&It&&It.hasUnpiped===!1&&(It.hasUnpiped=!0,f("cleanup"),V.removeListener("close",dt),V.removeListener("finish",vt),V.removeListener("drain",yt),V.removeListener("error",pt),V.removeListener("unpipe",st),Q.removeListener("end",ut),Q.removeListener("end",xt),Q.removeListener("data",at),bt=!0,!it.awaitDrain||V._writableState&&!V._writableState.needDrain||yt())}function ut(){f("onend"),V.end()}it.endEmitted?l.nextTick(ht):Q.once("end",ht),V.on("unpipe",st);var yt=(function(Et){return function(){var It=Et._readableState;f("pipeOnDrain",It.awaitDrain),It.awaitDrain&&It.awaitDrain--,It.awaitDrain===0&&a(Et,"data")&&(It.flowing=!0,K(Et))}})(Q);V.on("drain",yt);var bt=!1;function at(Et){f("ondata");var It=V.write(Et);f("dest.write",It),It===!1&&((it.pipesCount===1&&it.pipes===V||it.pipesCount>1&&tt(it.pipes,V)!==-1)&&!bt&&(f("false write response, pause",it.awaitDrain),it.awaitDrain++),Q.pause())}function pt(Et){f("onerror",Et),xt(),V.removeListener("error",pt),a(V,"error")===0&&U(V,Et)}function dt(){V.removeListener("finish",vt),xt()}function vt(){f("onfinish"),V.removeListener("close",dt),xt()}function xt(){f("unpipe"),Q.unpipe(V)}return Q.on("data",at),(function(Et,It,Nt){if(typeof Et.prependListener=="function")return Et.prependListener(It,Nt);Et._events&&Et._events[It]?Array.isArray(Et._events[It])?Et._events[It].unshift(Nt):Et._events[It]=[Nt,Et._events[It]]:Et.on(It,Nt)})(V,"error",pt),V.once("close",dt),V.once("finish",vt),V.emit("pipe",Q),it.flowing||(f("pipe resume"),Q.resume()),V},$.prototype.unpipe=function(V){var D=this._readableState,Q={hasUnpiped:!1};if(D.pipesCount===0)return this;if(D.pipesCount===1)return V&&V!==D.pipes||(V||(V=D.pipes),D.pipes=null,D.pipesCount=0,D.flowing=!1,V&&V.emit("unpipe",this,Q)),this;if(!V){var it=D.pipes,ht=D.pipesCount;D.pipes=null,D.pipesCount=0,D.flowing=!1;for(var st=0;st<ht;st++)it[st].emit("unpipe",this,{hasUnpiped:!1});return this}var ut=tt(D.pipes,V);return ut===-1||(D.pipes.splice(ut,1),D.pipesCount-=1,D.pipesCount===1&&(D.pipes=D.pipes[0]),V.emit("unpipe",this,Q)),this},$.prototype.on=function(V,D){var Q=n.prototype.on.call(this,V,D),it=this._readableState;return V==="data"?(it.readableListening=this.listenerCount("readable")>0,it.flowing!==!1&&this.resume()):V==="readable"&&(it.endEmitted||it.readableListening||(it.readableListening=it.needReadable=!0,it.flowing=!1,it.emittedReadable=!1,f("on readable",it.length,it.reading),it.length?x(this):it.reading||l.nextTick(I,this))),Q},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(V,D){var Q=n.prototype.removeListener.call(this,V,D);return V==="readable"&&l.nextTick(N,this),Q},$.prototype.removeAllListeners=function(V){var D=n.prototype.removeAllListeners.apply(this,arguments);return V!=="readable"&&V!==void 0||l.nextTick(N,this),D},$.prototype.resume=function(){var V=this._readableState;return V.flowing||(f("resume"),V.flowing=!V.readableListening,(function(D,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,l.nextTick(B,D,Q))})(this,V)),V.paused=!1,this},$.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},$.prototype.wrap=function(V){var D=this,Q=this._readableState,it=!1;for(var ht in V.on("end",(function(){if(f("wrapped end"),Q.decoder&&!Q.ended){var ut=Q.decoder.end();ut&&ut.length&&D.push(ut)}D.push(null)})),V.on("data",(function(ut){f("wrapped data"),Q.decoder&&(ut=Q.decoder.write(ut)),Q.objectMode&&ut==null||(Q.objectMode||ut&&ut.length)&&(D.push(ut)||(it=!0,V.pause()))})),V)this[ht]===void 0&&typeof V[ht]=="function"&&(this[ht]=(function(ut){return function(){return V[ut].apply(V,arguments)}})(ht));for(var st=0;st<q.length;st++)V.on(q[st],this.emit.bind(this,q[st]));return this._read=function(ut){f("wrapped _read",ut),it&&(it=!1,V.resume())},this},typeof Symbol=="function"&&($.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=t("./internal/streams/async_iterator")),v(this)}),Object.defineProperty($.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty($.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty($.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(V){this._readableState&&(this._readableState.flowing=V)}}),$._fromList=Z,Object.defineProperty($.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&($.from=function(V,D){return g===void 0&&(g=t("./internal/streams/from")),g($,V,D)})}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,i,c){i.exports=f;var l=t("../errors").codes,s=l.ERR_METHOD_NOT_IMPLEMENTED,h=l.ERR_MULTIPLE_CALLBACK,a=l.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=l.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function p(v,g){var w=this._transformState;w.transforming=!1;var _=w.writecb;if(_===null)return this.emit("error",new h);w.writechunk=null,w.writecb=null,g!=null&&this.push(g),_(v);var k=this._readableState;k.reading=!1,(k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}function f(v){if(!(this instanceof f))return new f(v);u.call(this,v),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",d)}function d(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush((function(g,w){y(v,g,w)}))}function y(v,g,w){if(g)return v.emit("error",g);if(w!=null&&v.push(w),v._writableState.length)throw new n;if(v._transformState.transforming)throw new a;return v.push(null)}t("inherits")(f,u),f.prototype.push=function(v,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,v,g)},f.prototype._transform=function(v,g,w){w(new s("_transform()"))},f.prototype._write=function(v,g,w){var _=this._transformState;if(_.writecb=w,_.writechunk=v,_.writeencoding=g,!_.transforming){var k=this._readableState;(_.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},f.prototype._read=function(v){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},f.prototype._destroy=function(v,g){u.prototype._destroy.call(this,v,(function(w){g(w)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,i,c){(function(l,s){(function(){function h(E){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(I,B,K){var Z=I.entry;for(I.entry=null;Z;){var nt=Z.callback;B.pendingcb--,nt(K),Z=Z.next}B.corkedRequestsFree.next=I})(N,E)}}var a;i.exports=$,$.WritableState=X;var n={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),p=t("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,y=t("./internal/streams/destroy"),v=t("./internal/streams/state").getHighWaterMark,g=t("../errors").codes,w=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,k=g.ERR_MULTIPLE_CALLBACK,M=g.ERR_STREAM_CANNOT_PIPE,L=g.ERR_STREAM_DESTROYED,G=g.ERR_STREAM_NULL_VALUES,F=g.ERR_STREAM_WRITE_AFTER_END,j=g.ERR_UNKNOWN_ENCODING,U=y.errorOrDestroy;function q(){}function X(E,N,I){a=a||t("./_stream_duplex"),E=E||{},typeof I!="boolean"&&(I=N instanceof a),this.objectMode=!!E.objectMode,I&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=v(this,E,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=E.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,nt){var H=Z._writableState,tt=H.sync,V=H.writecb;if(typeof V!="function")throw new k;if((function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0})(H),nt)(function(Q,it,ht,st,ut){--it.pendingcb,ht?(l.nextTick(ut,st),l.nextTick(T,Q,it),Q._writableState.errorEmitted=!0,U(Q,st)):(ut(st),Q._writableState.errorEmitted=!0,U(Q,st),T(Q,it))})(Z,H,tt,nt,V);else{var D=x(H)||Z.destroyed;D||H.corked||H.bufferProcessing||!H.bufferedRequest||C(Z,H),tt?l.nextTick(P,Z,H,D,V):P(Z,H,D,V)}})(N,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function $(E){var N=this instanceof(a=a||t("./_stream_duplex"));if(!N&&!d.call($,this))return new $(E);this._writableState=new X(E,this,N),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),u.call(this)}function R(E,N,I,B,K,Z,nt){N.writelen=B,N.writecb=nt,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new L("write")):I?E._writev(K,N.onwrite):E._write(K,Z,N.onwrite),N.sync=!1}function P(E,N,I,B){I||(function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))})(E,N),N.pendingcb--,B(),T(E,N)}function C(E,N){N.bufferProcessing=!0;var I=N.bufferedRequest;if(E._writev&&I&&I.next){var B=N.bufferedRequestCount,K=new Array(B),Z=N.corkedRequestsFree;Z.entry=I;for(var nt=0,H=!0;I;)K[nt]=I,I.isBuf||(H=!1),I=I.next,nt+=1;K.allBuffers=H,R(E,N,!0,N.length,K,"",Z.finish),N.pendingcb++,N.lastBufferedRequest=null,Z.next?(N.corkedRequestsFree=Z.next,Z.next=null):N.corkedRequestsFree=new h(N),N.bufferedRequestCount=0}else{for(;I;){var tt=I.chunk,V=I.encoding,D=I.callback;if(R(E,N,!1,N.objectMode?1:tt.length,tt,V,D),I=I.next,N.bufferedRequestCount--,N.writing)break}I===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=I,N.bufferProcessing=!1}function x(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function S(E,N){E._final((function(I){N.pendingcb--,I&&U(E,I),N.prefinished=!0,E.emit("prefinish"),T(E,N)}))}function T(E,N){var I=x(N);if(I&&((function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,l.nextTick(S,K,Z)))})(E,N),N.pendingcb===0&&(N.finished=!0,E.emit("finish"),N.autoDestroy))){var B=E._readableState;(!B||B.autoDestroy&&B.endEmitted)&&E.destroy()}return I}t("inherits")($,u),X.prototype.getBuffer=function(){for(var E=this.bufferedRequest,N=[];E;)N.push(E),E=E.next;return N},(function(){try{Object.defineProperty(X.prototype,"buffer",{get:n.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty($,Symbol.hasInstance,{value:function(E){return!!d.call(this,E)||this===$&&E&&E._writableState instanceof X}})):d=function(E){return E instanceof this},$.prototype.pipe=function(){U(this,new M)},$.prototype.write=function(E,N,I){var B,K=this._writableState,Z=!1,nt=!K.objectMode&&(B=E,p.isBuffer(B)||B instanceof f);return nt&&!p.isBuffer(E)&&(E=(function(H){return p.from(H)})(E)),typeof N=="function"&&(I=N,N=null),nt?N="buffer":N||(N=K.defaultEncoding),typeof I!="function"&&(I=q),K.ending?(function(H,tt){var V=new F;U(H,V),l.nextTick(tt,V)})(this,I):(nt||(function(H,tt,V,D){var Q;return V===null?Q=new G:typeof V=="string"||tt.objectMode||(Q=new w("chunk",["string","Buffer"],V)),!Q||(U(H,Q),l.nextTick(D,Q),!1)})(this,K,E,I))&&(K.pendingcb++,Z=(function(H,tt,V,D,Q,it){if(!V){var ht=(function(bt,at,pt){return bt.objectMode||bt.decodeStrings===!1||typeof at!="string"||(at=p.from(at,pt)),at})(tt,D,Q);D!==ht&&(V=!0,Q="buffer",D=ht)}var st=tt.objectMode?1:D.length;tt.length+=st;var ut=tt.length<tt.highWaterMark;if(ut||(tt.needDrain=!0),tt.writing||tt.corked){var yt=tt.lastBufferedRequest;tt.lastBufferedRequest={chunk:D,encoding:Q,isBuf:V,callback:it,next:null},yt?yt.next=tt.lastBufferedRequest:tt.bufferedRequest=tt.lastBufferedRequest,tt.bufferedRequestCount+=1}else R(H,tt,!1,st,D,Q,it);return ut})(this,K,nt,E,N,I)),Z},$.prototype.cork=function(){this._writableState.corked++},$.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||C(this,E))},$.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new j(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty($.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty($.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),$.prototype._write=function(E,N,I){I(new _("_write()"))},$.prototype._writev=null,$.prototype.end=function(E,N,I){var B=this._writableState;return typeof E=="function"?(I=E,E=null,N=null):typeof N=="function"&&(I=N,N=null),E!=null&&this.write(E,N),B.corked&&(B.corked=1,this.uncork()),B.ending||(function(K,Z,nt){Z.ending=!0,T(K,Z),nt&&(Z.finished?l.nextTick(nt):K.once("finish",nt)),Z.ended=!0,K.writable=!1})(this,B,I),this},Object.defineProperty($.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty($.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),$.prototype.destroy=y.destroy,$.prototype._undestroy=y.undestroy,$.prototype._destroy=function(E,N){N(E)}}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,i,c){(function(l){(function(){var s;function h(L,G,F){return(G=(function(j){var U=(function(q,X){if(typeof q!="object"||q===null)return q;var $=q[Symbol.toPrimitive];if($!==void 0){var R=$.call(q,X);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(q)})(j,"string");return typeof U=="symbol"?U:String(U)})(G))in L?Object.defineProperty(L,G,{value:F,enumerable:!0,configurable:!0,writable:!0}):L[G]=F,L}var a=t("./end-of-stream"),n=Symbol("lastResolve"),u=Symbol("lastReject"),p=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),y=Symbol("handlePromise"),v=Symbol("stream");function g(L,G){return{value:L,done:G}}function w(L){var G=L[n];if(G!==null){var F=L[v].read();F!==null&&(L[d]=null,L[n]=null,L[u]=null,G(g(F,!1)))}}function _(L){l.nextTick(w,L)}var k=Object.getPrototypeOf((function(){})),M=Object.setPrototypeOf((h(s={get stream(){return this[v]},next:function(){var L=this,G=this[p];if(G!==null)return Promise.reject(G);if(this[f])return Promise.resolve(g(void 0,!0));if(this[v].destroyed)return new Promise((function(q,X){l.nextTick((function(){L[p]?X(L[p]):q(g(void 0,!0))}))}));var F,j=this[d];if(j)F=new Promise((function(q,X){return function($,R){q.then((function(){X[f]?$(g(void 0,!0)):X[y]($,R)}),R)}})(j,this));else{var U=this[v].read();if(U!==null)return Promise.resolve(g(U,!1));F=new Promise(this[y])}return this[d]=F,F}},Symbol.asyncIterator,(function(){return this})),h(s,"return",(function(){var L=this;return new Promise((function(G,F){L[v].destroy(null,(function(j){j?F(j):G(g(void 0,!0))}))}))})),s),k);i.exports=function(L){var G,F=Object.create(M,(h(G={},v,{value:L,writable:!0}),h(G,n,{value:null,writable:!0}),h(G,u,{value:null,writable:!0}),h(G,p,{value:null,writable:!0}),h(G,f,{value:L._readableState.endEmitted,writable:!0}),h(G,y,{value:function(j,U){var q=F[v].read();q?(F[d]=null,F[n]=null,F[u]=null,j(g(q,!1))):(F[n]=j,F[u]=U)},writable:!0}),G));return F[d]=null,a(L,(function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var U=F[u];return U!==null&&(F[d]=null,F[n]=null,F[u]=null,U(j)),void(F[p]=j)}var q=F[n];q!==null&&(F[d]=null,F[n]=null,F[u]=null,q(g(void 0,!0))),F[f]=!0})),L.on("readable",_.bind(null,F)),F}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,i,c){function l(d,y){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);y&&(g=g.filter((function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}))),v.push.apply(v,g)}return v}function s(d){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?l(Object(v),!0).forEach((function(g){h(d,g,v[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):l(Object(v)).forEach((function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(v,g))}))}return d}function h(d,y,v){return(y=n(y))in d?Object.defineProperty(d,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[y]=v,d}function a(d,y){for(var v=0;v<y.length;v++){var g=y[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,n(g.key),g)}}function n(d){var y=(function(v,g){if(typeof v!="object"||v===null)return v;var w=v[Symbol.toPrimitive];if(w!==void 0){var _=w.call(v,g);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(v)})(d,"string");return typeof y=="symbol"?y:String(y)}var u=t("buffer").Buffer,p=t("util").inspect,f=p&&p.custom||"inspect";i.exports=(function(){function d(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var y,v;return y=d,(v=[{key:"push",value:function(g){var w={data:g,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(g){var w={data:g,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=g+w.data;return _}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var w,_,k,M=u.allocUnsafe(g>>>0),L=this.head,G=0;L;)w=L.data,_=M,k=G,u.prototype.copy.call(w,_,k),G+=L.data.length,L=L.next;return M}},{key:"consume",value:function(g,w){var _;return g<this.head.data.length?(_=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):_=g===this.head.data.length?this.shift():w?this._getString(g):this._getBuffer(g),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var w=this.head,_=1,k=w.data;for(g-=k.length;w=w.next;){var M=w.data,L=g>M.length?M.length:g;if(L===M.length?k+=M:k+=M.slice(0,g),(g-=L)==0){L===M.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(L));break}++_}return this.length-=_,k}},{key:"_getBuffer",value:function(g){var w=u.allocUnsafe(g),_=this.head,k=1;for(_.data.copy(w),g-=_.data.length;_=_.next;){var M=_.data,L=g>M.length?M.length:g;if(M.copy(w,w.length-g,0,L),(g-=L)==0){L===M.length?(++k,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(L));break}++k}return this.length-=k,w}},{key:f,value:function(g,w){return p(this,s(s({},w),{},{depth:0,customInspect:!1}))}}])&&a(y.prototype,v),Object.defineProperty(y,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(t,i,c){(function(l){(function(){function s(n,u){a(n,u),h(n)}function h(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function a(n,u){n.emit("error",u)}i.exports={destroy:function(n,u){var p=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(u?u(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,l.nextTick(a,this,n)):l.nextTick(a,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,(function(y){!u&&y?p._writableState?p._writableState.errorEmitted?l.nextTick(h,p):(p._writableState.errorEmitted=!0,l.nextTick(s,p,y)):l.nextTick(s,p,y):u?(l.nextTick(h,p),u(y)):l.nextTick(h,p)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(n,u){var p=n._readableState,f=n._writableState;p&&p.autoDestroy||f&&f.autoDestroy?n.destroy(u):n.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,i,c){var l=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}i.exports=function h(a,n,u){if(typeof n=="function")return h(a,null,n);n||(n={}),u=(function(L){var G=!1;return function(){if(!G){G=!0;for(var F=arguments.length,j=new Array(F),U=0;U<F;U++)j[U]=arguments[U];L.apply(this,j)}}})(u||s);var p=n.readable||n.readable!==!1&&a.readable,f=n.writable||n.writable!==!1&&a.writable,d=function(){a.writable||v()},y=a._writableState&&a._writableState.finished,v=function(){f=!1,y=!0,p||u.call(a)},g=a._readableState&&a._readableState.endEmitted,w=function(){p=!1,g=!0,f||u.call(a)},_=function(L){u.call(a,L)},k=function(){var L;return p&&!g?(a._readableState&&a._readableState.ended||(L=new l),u.call(a,L)):f&&!y?(a._writableState&&a._writableState.ended||(L=new l),u.call(a,L)):void 0},M=function(){a.req.on("finish",v)};return(function(L){return L.setHeader&&typeof L.abort=="function"})(a)?(a.on("complete",v),a.on("abort",k),a.req?M():a.on("request",M)):f&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",w),a.on("finish",v),n.error!==!1&&a.on("error",_),a.on("close",k),function(){a.removeListener("complete",v),a.removeListener("abort",k),a.removeListener("request",M),a.req&&a.req.removeListener("finish",v),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",v),a.removeListener("end",w),a.removeListener("error",_),a.removeListener("close",k)}}},{"../../../errors":477}],487:[function(t,i,c){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,i,c){var l,s=t("../../../errors").codes,h=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function n(y){if(y)throw y}function u(y,v,g,w){w=(function(M){var L=!1;return function(){L||(L=!0,M.apply(void 0,arguments))}})(w);var _=!1;y.on("close",(function(){_=!0})),l===void 0&&(l=t("./end-of-stream")),l(y,{readable:v,writable:g},(function(M){if(M)return w(M);_=!0,w()}));var k=!1;return function(M){if(!_&&!k)return k=!0,(function(L){return L.setHeader&&typeof L.abort=="function"})(y)?y.abort():typeof y.destroy=="function"?y.destroy():void w(M||new a("pipe"))}}function p(y){y()}function f(y,v){return y.pipe(v)}function d(y){return y.length?typeof y[y.length-1]!="function"?n:y.pop():n}i.exports=function(){for(var y=arguments.length,v=new Array(y),g=0;g<y;g++)v[g]=arguments[g];var w,_=d(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new h("streams");var k=v.map((function(M,L){var G=L<v.length-1;return u(M,G,L>0,(function(F){w||(w=F),F&&k.forEach(p),G||(k.forEach(p),_(w))}))}));return v.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,i,c){var l=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function(s,h,a,n){var u=(function(p,f,d){return p.highWaterMark!=null?p.highWaterMark:f?p[d]:null})(h,n,a);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new l(n?a:"highWaterMark",u);return Math.floor(u)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,i,c){i.exports=t("events").EventEmitter},{events:422}],491:[function(t,i,c){(c=i.exports=t("./lib/_stream_readable.js")).Stream=c,c.Readable=c,c.Writable=t("./lib/_stream_writable.js"),c.Duplex=t("./lib/_stream_duplex.js"),c.Transform=t("./lib/_stream_transform.js"),c.PassThrough=t("./lib/_stream_passthrough.js"),c.finished=t("./lib/internal/streams/end-of-stream.js"),c.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,i,c){var l=(function(s){var h=Object.prototype,a=h.hasOwnProperty,n=Object.defineProperty||function(T,E,N){T[E]=N.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function y(T,E,N){return Object.defineProperty(T,E,{value:N,enumerable:!0,configurable:!0,writable:!0}),T[E]}try{y({},"")}catch{y=function(E,N,I){return E[N]=I}}function v(T,E,N,I){var B=E&&E.prototype instanceof _?E:_,K=Object.create(B.prototype),Z=new C(I||[]);return n(K,"_invoke",{value:X(T,N,Z)}),K}function g(T,E,N){try{return{type:"normal",arg:T.call(E,N)}}catch(I){return{type:"throw",arg:I}}}s.wrap=v;var w={};function _(){}function k(){}function M(){}var L={};y(L,p,(function(){return this}));var G=Object.getPrototypeOf,F=G&&G(G(x([])));F&&F!==h&&a.call(F,p)&&(L=F);var j=M.prototype=_.prototype=Object.create(L);function U(T){["next","throw","return"].forEach((function(E){y(T,E,(function(N){return this._invoke(E,N)}))}))}function q(T,E){var N;n(this,"_invoke",{value:function(I,B){function K(){return new E((function(Z,nt){(function H(tt,V,D,Q){var it=g(T[tt],T,V);if(it.type!=="throw"){var ht=it.arg,st=ht.value;return st&&typeof st=="object"&&a.call(st,"__await")?E.resolve(st.__await).then((function(ut){H("next",ut,D,Q)}),(function(ut){H("throw",ut,D,Q)})):E.resolve(st).then((function(ut){ht.value=ut,D(ht)}),(function(ut){return H("throw",ut,D,Q)}))}Q(it.arg)})(I,B,Z,nt)}))}return N=N?N.then(K,K):K()}})}function X(T,E,N){var I="suspendedStart";return function(B,K){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(B==="throw")throw K;return S()}for(N.method=B,N.arg=K;;){var Z=N.delegate;if(Z){var nt=$(Z,N);if(nt){if(nt===w)continue;return nt}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(I==="suspendedStart")throw I="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);I="executing";var H=g(T,E,N);if(H.type==="normal"){if(I=N.done?"completed":"suspendedYield",H.arg===w)continue;return{value:H.arg,done:N.done}}H.type==="throw"&&(I="completed",N.method="throw",N.arg=H.arg)}}}function $(T,E){var N=E.method,I=T.iterator[N];if(I===void 0)return E.delegate=null,N==="throw"&&T.iterator.return&&(E.method="return",E.arg=void 0,$(T,E),E.method==="throw")||N!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+N+"' method")),w;var B=g(I,T.iterator,E.arg);if(B.type==="throw")return E.method="throw",E.arg=B.arg,E.delegate=null,w;var K=B.arg;return K?K.done?(E[T.resultName]=K.value,E.next=T.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,w):K:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,w)}function R(T){var E={tryLoc:T[0]};1 in T&&(E.catchLoc=T[1]),2 in T&&(E.finallyLoc=T[2],E.afterLoc=T[3]),this.tryEntries.push(E)}function P(T){var E=T.completion||{};E.type="normal",delete E.arg,T.completion=E}function C(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(R,this),this.reset(!0)}function x(T){if(T){var E=T[p];if(E)return E.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var N=-1,I=function B(){for(;++N<T.length;)if(a.call(T,N))return B.value=T[N],B.done=!1,B;return B.value=void 0,B.done=!0,B};return I.next=I}}return{next:S}}function S(){return{value:void 0,done:!0}}return k.prototype=M,n(j,"constructor",{value:M,configurable:!0}),n(M,"constructor",{value:k,configurable:!0}),k.displayName=y(M,d,"GeneratorFunction"),s.isGeneratorFunction=function(T){var E=typeof T=="function"&&T.constructor;return!!E&&(E===k||(E.displayName||E.name)==="GeneratorFunction")},s.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,M):(T.__proto__=M,y(T,d,"GeneratorFunction")),T.prototype=Object.create(j),T},s.awrap=function(T){return{__await:T}},U(q.prototype),y(q.prototype,f,(function(){return this})),s.AsyncIterator=q,s.async=function(T,E,N,I,B){B===void 0&&(B=Promise);var K=new q(v(T,E,N,I),B);return s.isGeneratorFunction(E)?K:K.next().then((function(Z){return Z.done?Z.value:K.next()}))},U(j),y(j,d,"Generator"),y(j,p,(function(){return this})),y(j,"toString",(function(){return"[object Generator]"})),s.keys=function(T){var E=Object(T),N=[];for(var I in E)N.push(I);return N.reverse(),function B(){for(;N.length;){var K=N.pop();if(K in E)return B.value=K,B.done=!1,B}return B.done=!0,B}},s.values=x,C.prototype={constructor:C,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!T)for(var E in this)E.charAt(0)==="t"&&a.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var E=this;function N(H,tt){return K.type="throw",K.arg=T,E.next=H,tt&&(E.method="next",E.arg=void 0),!!tt}for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I],K=B.completion;if(B.tryLoc==="root")return N("end");if(B.tryLoc<=this.prev){var Z=a.call(B,"catchLoc"),nt=a.call(B,"finallyLoc");if(Z&&nt){if(this.prev<B.catchLoc)return N(B.catchLoc,!0);if(this.prev<B.finallyLoc)return N(B.finallyLoc)}else if(Z){if(this.prev<B.catchLoc)return N(B.catchLoc,!0)}else{if(!nt)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return N(B.finallyLoc)}}}},abrupt:function(T,E){for(var N=this.tryEntries.length-1;N>=0;--N){var I=this.tryEntries[N];if(I.tryLoc<=this.prev&&a.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var B=I;break}}B&&(T==="break"||T==="continue")&&B.tryLoc<=E&&E<=B.finallyLoc&&(B=null);var K=B?B.completion:{};return K.type=T,K.arg=E,B?(this.method="next",this.next=B.finallyLoc,w):this.complete(K)},complete:function(T,E){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&E&&(this.next=E),w},finish:function(T){for(var E=this.tryEntries.length-1;E>=0;--E){var N=this.tryEntries[E];if(N.finallyLoc===T)return this.complete(N.completion,N.afterLoc),P(N),w}},catch:function(T){for(var E=this.tryEntries.length-1;E>=0;--E){var N=this.tryEntries[E];if(N.tryLoc===T){var I=N.completion;if(I.type==="throw"){var B=I.arg;P(N)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(T,E,N){return this.delegate={iterator:x(T),resultName:E,nextLoc:N},this.method==="next"&&(this.arg=void 0),w}},s})(typeof i=="object"?i.exports:{});try{regeneratorRuntime=l}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}},{}],493:[function(t,i,c){var l=t("buffer").Buffer,s=t("inherits"),h=t("hash-base"),a=new Array(16),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function v(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(G,F){return G<<F|G>>>32-F}function w(G,F,j,U,q,X,$,R){return g(G+(F^j^U)+X+$|0,R)+q|0}function _(G,F,j,U,q,X,$,R){return g(G+(F&j|~F&U)+X+$|0,R)+q|0}function k(G,F,j,U,q,X,$,R){return g(G+((F|~j)^U)+X+$|0,R)+q|0}function M(G,F,j,U,q,X,$,R){return g(G+(F&U|j&~U)+X+$|0,R)+q|0}function L(G,F,j,U,q,X,$,R){return g(G+(F^(j|~U))+X+$|0,R)+q|0}s(v,h),v.prototype._update=function(){for(var G=a,F=0;F<16;++F)G[F]=this._block.readInt32LE(4*F);for(var j=0|this._a,U=0|this._b,q=0|this._c,X=0|this._d,$=0|this._e,R=0|this._a,P=0|this._b,C=0|this._c,x=0|this._d,S=0|this._e,T=0;T<80;T+=1){var E,N;T<16?(E=w(j,U,q,X,$,G[n[T]],d[0],p[T]),N=L(R,P,C,x,S,G[u[T]],y[0],f[T])):T<32?(E=_(j,U,q,X,$,G[n[T]],d[1],p[T]),N=M(R,P,C,x,S,G[u[T]],y[1],f[T])):T<48?(E=k(j,U,q,X,$,G[n[T]],d[2],p[T]),N=k(R,P,C,x,S,G[u[T]],y[2],f[T])):T<64?(E=M(j,U,q,X,$,G[n[T]],d[3],p[T]),N=_(R,P,C,x,S,G[u[T]],y[3],f[T])):(E=L(j,U,q,X,$,G[n[T]],d[4],p[T]),N=w(R,P,C,x,S,G[u[T]],y[4],f[T])),j=$,$=X,X=g(q,10),q=U,U=E,R=S,S=x,x=g(C,10),C=P,P=N}var I=this._b+q+x|0;this._b=this._c+X+S|0,this._c=this._d+$+R|0,this._d=this._e+j+P|0,this._e=this._a+U+C|0,this._a=I},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var G=l.alloc?l.alloc(20):new l(20);return G.writeInt32LE(this._a,0),G.writeInt32LE(this._b,4),G.writeInt32LE(this._c,8),G.writeInt32LE(this._d,12),G.writeInt32LE(this._e,16),G},i.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,i,c){var l=t("buffer"),s=l.Buffer;function h(n,u){for(var p in n)u[p]=n[p]}function a(n,u,p){return s(n,u,p)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=l:(h(l,c),c.Buffer=a),a.prototype=Object.create(s.prototype),h(s,a),a.from=function(n,u,p){if(typeof n=="number")throw new TypeError("Argument must not be a number");return s(n,u,p)},a.alloc=function(n,u,p){if(typeof n!="number")throw new TypeError("Argument must be a number");var f=s(n);return u!==void 0?typeof p=="string"?f.fill(u,p):f.fill(u):f.fill(0),f},a.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return s(n)},a.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return l.SlowBuffer(n)}},{buffer:220}],495:[function(t,i,c){(function(l){(function(){var s,h=t("buffer"),a=h.Buffer,n={};for(s in h)h.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(n[s]=h[s]);var u=n.Buffer={};for(s in a)a.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(u[s]=a[s]);if(n.Buffer.prototype=a.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(p,f,d){if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof p);if(p&&p.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);return a(p,f,d)}),u.alloc||(u.alloc=function(p,f,d){if(typeof p!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof p);if(p<0||p>=2*(1<<30))throw new RangeError('The value "'+p+'" is invalid for option "size"');var y=a(p);return f&&f.length!==0?typeof d=="string"?y.fill(f,d):y.fill(f):y.fill(0),y}),!n.kStringMaxLength)try{n.kStringMaxLength=l.binding("buffer").kStringMaxLength}catch{}n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),i.exports=n}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0});const l=t("xmlchars/xml/1.0/ed5"),s=t("xmlchars/xml/1.1/ed2"),h=t("xmlchars/xmlns/1.0/ed3");var a=l.isS,n=l.isChar,u=l.isNameStartChar,p=l.isNameChar,f=l.S_LIST,d=l.NAME_RE,y=s.isChar,v=h.isNCNameStartChar,g=h.isNCNameChar,w=h.NC_NAME_RE;const _="http://www.w3.org/XML/1998/namespace",k="http://www.w3.org/2000/xmlns/",M={__proto__:null,xml:_,xmlns:k},L={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},G=x=>x===34||x===39,F=[34,39],j=[...F,91,62],U=[...F,60,93],q=[61,63,...f],X=[...f,62,38,60];function $(x,S,T){switch(S){case"xml":T!==_&&x.fail(`xml prefix must be bound to ${_}.`);break;case"xmlns":T!==k&&x.fail(`xmlns prefix must be bound to ${k}.`)}switch(T){case k:x.fail(S===""?`the default namespace may not be set to ${T}.`:`may not assign a prefix (even "xmlns") to the URI ${k}.`);break;case _:switch(S){case"xml":break;case"":x.fail(`the default namespace may not be set to ${T}.`);break;default:x.fail("may not assign the xml namespace to another prefix.")}}}const R=x=>w.test(x),P=x=>d.test(x);c.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const C={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};c.SaxesParser=class{constructor(x){this.opt=x??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=v,this.nameCheck=g,this.isName=R,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},M);const T=this.opt.additionalNamespaces;T!=null&&((function(E,N){for(const I of Object.keys(N))$(E,I,N[I])})(this,T),Object.assign(this.ns,T))}else this.nameStartCheck=u,this.nameCheck=p,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var x;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:T}=this.opt;if(T===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");T="1.0"}this.setXMLVersion(T),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(L),(x=this.readyHandler)===null||x===void 0||x.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(x,S){this[C[x]]=S}off(x){this[C[x]]=void 0}makeError(x){var S;let T=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(T.length>0&&(T+=":"),T+=`${this.line}:${this.column}`),T.length>0&&(T+=": "),new Error(T+x)}fail(x){const S=this.makeError(x),T=this.errorHandler;if(T===void 0)throw S;return T(S),this}write(x){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;x===null?(S=!0,x=""):typeof x=="object"&&(x=x.toString()),this.carriedFromPrevious!==void 0&&(x=`${this.carriedFromPrevious}${x}`,this.carriedFromPrevious=void 0);let T=x.length;const E=x.charCodeAt(T-1);!S&&(E===13||E>=55296&&E<=56319)&&(this.carriedFromPrevious=x[T-1],T--,x=x.slice(0,T));const{stateTable:N}=this;for(this.chunk=x,this.i=0;this.i<T;)N[this.state].call(this);return this.chunkPosition+=T,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:x,i:S}=this;if(this.prevI=S,this.i=S+1,S>=x.length)return-1;const T=x.charCodeAt(S);if(this.column++,T<55296){if(T>=32||T===9)return T;switch(T){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return x.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),T}}if(T>56319)return T>=57344&&T<=65533||this.fail("disallowed character."),T;const E=65536+1024*(T-55296)+(x.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCode11(){const{chunk:x,i:S}=this;if(this.prevI=S,this.i=S+1,S>=x.length)return-1;const T=x.charCodeAt(S);if(this.column++,T<55296){if(T>31&&T<127||T>159&&T!==8232||T===9)return T;switch(T){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const N=x.charCodeAt(S+1);N!==10&&N!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),T}}if(T>56319)return T>=57344&&T<=65533||this.fail("disallowed character."),T;const E=65536+1024*(T-55296)+(x.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCodeNorm(){const x=this.getCode();return x===-2?10:x}unget(){this.i=this.prevI,this.column--}captureTo(x){let{i:S}=this;const{chunk:T}=this;for(;;){const E=this.getCode(),N=E===-2,I=N?10:E;if(I===-1||x.includes(I))return this.text+=T.slice(S,this.prevI),I;N&&(this.text+=T.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(x){let{i:S}=this;const{chunk:T}=this;for(;;){let E=this.getCode();switch(E){case-2:this.text+=T.slice(S,this.prevI)+`
`,S=this.i,E=10;break;case-1:return this.text+=T.slice(S),!1}if(E===x)return this.text+=T.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:x,i:S}=this;for(;;){const T=this.getCode();if(T===-1)return this.name+=x.slice(S),-1;if(!p(T))return this.name+=x.slice(S,this.prevI),T===-2?10:T}}skipSpaces(){for(;;){const x=this.getCodeNorm();if(x===-1||!a(x))return x}}setXMLVersion(x){this.currentXMLVersion=x,x==="1.0"?(this.isChar=n,this.getCode=this.getCode10):(this.isChar=y,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const x=this.i,S=this.skipSpaces();switch(this.prevI!==x&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var x;const S=this.captureTo(j);switch(S){case 62:(x=this.doctypeHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:G(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.q=null,this.state=2)}sDTD(){const x=this.captureTo(U);x!==-1&&(this.text+=String.fromCodePoint(x),x===93?this.state=2:x===60?this.state=6:G(x)&&(this.state=5,this.q=x))}sDTDQuoted(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.state=4,this.q=null)}sDTDOpenWaka(){const x=this.getCodeNorm();switch(this.text+=String.fromCodePoint(x),x){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const x=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=x;this.text+=x,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),this.state=x===45?10:8}sDTDCommentEnded(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:x}=this;const{chunk:S}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(x,this.prevI)+`
`,x=this.i;break;case 59:{const{entityReturnState:T}=this,E=this.entity+S.slice(x,this.prevI);let N;this.state=T,E===""?(this.fail("empty entity name."),N="&;"):(N=this.parseEntity(E),this.entity=""),T===13&&this.textHandler===void 0||(this.text+=N);break t}case-1:this.entity+=S.slice(x);break t}}sOpenWaka(){const x=this.getCode();if(u(x))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(x){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var x;const S=this.getCodeNorm();S===45?(this.state=19,(x=this.commentHandler)===null||x===void 0||x.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const x=this.getCodeNorm();x!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(x),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const x=this.getCodeNorm();x===93?this.state=22:(this.text+="]"+String.fromCodePoint(x),this.state=20)}sCDataEnding2(){var x;const S=this.getCodeNorm();switch(S){case 62:(x=this.cdataHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const x=this.getCodeNorm();this.nameStartCheck(x)?(this.piTarget+=String.fromCodePoint(x),this.state=24):x===63||a(x)?(this.fail("processing instruction without a target."),this.state=x===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x),this.state=24)}sPIRest(){const{chunk:x,i:S}=this;for(;;){const T=this.getCodeNorm();if(T===-1)return void(this.piTarget+=x.slice(S));if(!this.nameCheck(T)){this.piTarget+=x.slice(S,this.prevI);const E=T===63;E||a(T)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=E?33:27):this.state=E?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(T));break}}}sPIBody(){if(this.text.length===0){const x=this.getCodeNorm();x===63?this.state=26:a(x)||(this.text=String.fromCodePoint(x))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var x;const S=this.getCodeNorm();if(S===62){const{piTarget:T}=this;T.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(x=this.piHandler)===null||x===void 0||x.call(this,{target:T,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const x=this.skipSpaces();x!==63?x!==-1&&(this.state=28,this.name=String.fromCodePoint(x)):this.state=33}sXMLDeclName(){const x=this.captureTo(q);if(x===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(x)||x===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=x===61?30:29}}sXMLDeclEq(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(x)||(x!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(x)||(G(x)?this.q=x:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const x=this.captureTo([this.q,63]);if(x===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(x===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const T=S;this.xmlDecl.version=T,/^1\.[0-9]+$/.test(T)?this.opt.forceXMLVersion||this.setXMLVersion(T):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const x=this.getCodeNorm();x!==63?(a(x)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var x;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(x=this.xmldeclHandler)===null||x===void 0||x.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var x;const S=this.captureNameChars();if(S===-1)return;const T=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=T.ns=Object.create(null)),(x=this.openTagStartHandler)===null||x===void 0||x.call(this,T),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:a(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const x=this.skipSpaces();x!==-1&&(u(x)?(this.unget(),this.state=37):x===62?this.openTag():x===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const x=this.captureNameChars();x===61?this.state=39:a(x)?this.state=38:x===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):x!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const x=this.skipSpaces();switch(x){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",x===62?this.openTag():u(x)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const x=this.getCodeNorm();G(x)?(this.q=x,this.state=40):a(x)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:x,chunk:S}=this;let{i:T}=this;for(;;)switch(this.getCode()){case x:return this.pushAttrib(this.name,this.text+S.slice(T,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(T,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(T,this.prevI)+" ",T=this.i;break;case 60:return this.text+=S.slice(T,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(T))}}sAttribValueClosed(){const x=this.getCodeNorm();a(x)?this.state=36:x===62?this.openTag():x===47?this.state=35:u(x)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const x=this.captureTo(X);switch(x){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",x===62?this.openTag():this.state=36}}sCloseTag(){const x=this.captureNameChars();x===62?this.closeTag():a(x)?this.state=44:x!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:x,forbiddenState:S}=this;const{chunk:T,textHandler:E}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,E!==void 0){const{text:N}=this,I=T.slice(x,this.prevI);N.length!==0?(E(N+I),this.text=""):I.length!==0&&E(I)}S=0;break t;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=T.slice(x,this.prevI)),S=0;break t;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:E!==void 0&&(this.text+=T.slice(x,this.prevI)+`
`),x=this.i,S=0;break;case-1:E!==void 0&&(this.text+=T.slice(x));break t;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:x}=this;const{chunk:S,textHandler:T}=this;let E=!1;t:for(;;){const N=this.getCode();switch(N){case 60:if(this.state=15,T!==void 0){const{text:I}=this,B=S.slice(x,this.prevI);I.length!==0?(T(I+B),this.text=""):B.length!==0&&T(B)}break t;case 38:this.state=14,this.entityReturnState=13,T!==void 0&&(this.text+=S.slice(x,this.prevI)),E=!0;break t;case-2:T!==void 0&&(this.text+=S.slice(x,this.prevI)+`
`),x=this.i;break;case-1:T!==void 0&&(this.text+=S.slice(x));break t;default:a(N)||(E=!0)}}E&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(x,S){var T;const{prefix:E,local:N}=this.qname(x),I={name:x,prefix:E,local:N,value:S};if(this.attribList.push(I),(T=this.attributeHandler)===null||T===void 0||T.call(this,I),E==="xmlns"){const B=S.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[N]=B,$(this,N,B)}else if(x==="xmlns"){const B=S.trim();this.topNS[""]=B,$(this,"",B)}}pushAttribPlain(x,S){var T;const E={name:x,value:S};this.attribList.push(E),(T=this.attributeHandler)===null||T===void 0||T.call(this,E)}end(){var x,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:T}=this;for(;T.length>0;){const N=T.pop();this.fail("unclosed tag: "+N.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:E}=this;return E.length!==0&&((x=this.textHandler)===null||x===void 0||x.call(this,E),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(x){var S,T;let E=this.topNS[x];if(E!==void 0)return E;const{tags:N}=this;for(let I=N.length-1;I>=0;I--)if(E=N[I].ns[x],E!==void 0)return E;return E=this.ns[x],E!==void 0?E:(T=(S=this.opt).resolvePrefix)===null||T===void 0?void 0:T.call(S,x)}qname(x){const S=x.indexOf(":");if(S===-1)return{prefix:"",local:x};const T=x.slice(S+1),E=x.slice(0,S);return(E===""||T===""||T.includes(":"))&&this.fail(`malformed name: ${x}.`),{prefix:E,local:T}}processAttribsNS(){var x;const{attribList:S}=this,T=this.tag;{const{prefix:I,local:B}=this.qname(T.name);T.prefix=I,T.local=B;const K=T.uri=(x=this.resolve(I))!==null&&x!==void 0?x:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),T.uri=I))}if(S.length===0)return;const{attributes:E}=T,N=new Set;for(const I of S){const{name:B,prefix:K,local:Z}=I;let nt,H;K===""?(nt=B==="xmlns"?k:"",H=B):(nt=this.resolve(K),nt===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),nt=K),H=`{${nt}}${Z}`),N.has(H)&&this.fail(`duplicate attribute: ${H}.`),N.add(H),I.uri=nt,E[B]=I}this.attribList=[]}processAttribsPlain(){const{attribList:x}=this,S=this.tag.attributes;for(const{name:T,value:E}of x)S[T]!==void 0&&this.fail(`duplicate attribute: ${T}.`),S[T]=E;this.attribList=[]}openTag(){var x;this.processAttribs();const{tags:S}=this,T=this.tag;T.isSelfClosing=!1,(x=this.openTagHandler)===null||x===void 0||x.call(this,T),S.push(T),this.state=13,this.name=""}openSelfClosingTag(){var x,S,T;this.processAttribs();const{tags:E}=this,N=this.tag;N.isSelfClosing=!0,(x=this.openTagHandler)===null||x===void 0||x.call(this,N),(S=this.closeTagHandler)===null||S===void 0||S.call(this,N),(this.tag=(T=E[E.length-1])!==null&&T!==void 0?T:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:x,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const T=this.closeTagHandler;let E=x.length;for(;E-- >0;){const N=this.tag=x.pop();if(this.topNS=N.ns,T?.(N),N.name===S)break;this.fail("unexpected close tag.")}E===0?this.closedRoot=!0:E<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(x){if(x[0]!=="#"){const T=this.ENTITIES[x];return T!==void 0?T:(this.fail(this.isName(x)?"undefined entity.":"disallowed character in entity name."),`&${x};`)}let S=NaN;return x[1]==="x"&&/^#x[0-9a-f]+$/i.test(x)?S=parseInt(x.slice(2),16):/^#[0-9]+$/.test(x)&&(S=parseInt(x.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${x};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,i,c){var l=t("safe-buffer").Buffer;function s(h,a){this._block=l.alloc(h),this._finalSize=a,this._blockSize=h,this._len=0}s.prototype.update=function(h,a){typeof h=="string"&&(a=a||"utf8",h=l.from(h,a));for(var n=this._block,u=this._blockSize,p=h.length,f=this._len,d=0;d<p;){for(var y=f%u,v=Math.min(p-d,u-y),g=0;g<v;g++)n[y+g]=h[d+g];d+=v,(f+=v)%u==0&&this._update(n)}return this._len+=p,this},s.prototype.digest=function(h){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var u=(4294967295&n)>>>0,p=(n-u)/4294967296;this._block.writeUInt32BE(p,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return h?f.toString(h):f},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},i.exports=s},{"safe-buffer":494}],498:[function(t,i,c){var l=i.exports=function(s){s=s.toLowerCase();var h=l[s];if(!h)throw new Error(s+" is not supported (we accept pull requests)");return new h};l.sha=t("./sha"),l.sha1=t("./sha1"),l.sha224=t("./sha224"),l.sha256=t("./sha256"),l.sha384=t("./sha384"),l.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,i,c){var l=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],n=new Array(80);function u(){this.init(),this._w=n,s.call(this,64,56)}function p(d){return d<<30|d>>>2}function f(d,y,v,g){return d===0?y&v|~y&g:d===2?y&v|y&g|v&g:y^v^g}l(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var y,v=this._w,g=0|this._a,w=0|this._b,_=0|this._c,k=0|this._d,M=0|this._e,L=0;L<16;++L)v[L]=d.readInt32BE(4*L);for(;L<80;++L)v[L]=v[L-3]^v[L-8]^v[L-14]^v[L-16];for(var G=0;G<80;++G){var F=~~(G/20),j=0|((y=g)<<5|y>>>27)+f(F,w,_,k)+M+v[G]+a[F];M=k,k=_,_=p(w),w=g,g=j}this._a=g+this._a|0,this._b=w+this._b|0,this._c=_+this._c|0,this._d=k+this._d|0,this._e=M+this._e|0},u.prototype._hash=function(){var d=h.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,i,c){var l=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],n=new Array(80);function u(){this.init(),this._w=n,s.call(this,64,56)}function p(y){return y<<5|y>>>27}function f(y){return y<<30|y>>>2}function d(y,v,g,w){return y===0?v&g|~v&w:y===2?v&g|v&w|g&w:v^g^w}l(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(y){for(var v,g=this._w,w=0|this._a,_=0|this._b,k=0|this._c,M=0|this._d,L=0|this._e,G=0;G<16;++G)g[G]=y.readInt32BE(4*G);for(;G<80;++G)g[G]=(v=g[G-3]^g[G-8]^g[G-14]^g[G-16])<<1|v>>>31;for(var F=0;F<80;++F){var j=~~(F/20),U=p(w)+d(j,_,k,M)+L+g[F]+a[j]|0;L=M,M=k,k=f(_),_=w,w=U}this._a=w+this._a|0,this._b=_+this._b|0,this._c=k+this._c|0,this._d=M+this._d|0,this._e=L+this._e|0},u.prototype._hash=function(){var y=h.allocUnsafe(20);return y.writeInt32BE(0|this._a,0),y.writeInt32BE(0|this._b,4),y.writeInt32BE(0|this._c,8),y.writeInt32BE(0|this._d,12),y.writeInt32BE(0|this._e,16),y},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,i,c){var l=t("inherits"),s=t("./sha256"),h=t("./hash"),a=t("safe-buffer").Buffer,n=new Array(64);function u(){this.init(),this._w=n,h.call(this,64,56)}l(u,s),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var p=a.allocUnsafe(28);return p.writeInt32BE(this._a,0),p.writeInt32BE(this._b,4),p.writeInt32BE(this._c,8),p.writeInt32BE(this._d,12),p.writeInt32BE(this._e,16),p.writeInt32BE(this._f,20),p.writeInt32BE(this._g,24),p},i.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,i,c){var l=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=new Array(64);function u(){this.init(),this._w=n,s.call(this,64,56)}function p(g,w,_){return _^g&(w^_)}function f(g,w,_){return g&w|_&(g|w)}function d(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function y(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function v(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}l(u,s),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var w,_=this._w,k=0|this._a,M=0|this._b,L=0|this._c,G=0|this._d,F=0|this._e,j=0|this._f,U=0|this._g,q=0|this._h,X=0;X<16;++X)_[X]=g.readInt32BE(4*X);for(;X<64;++X)_[X]=0|(((w=_[X-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+_[X-7]+v(_[X-15])+_[X-16];for(var $=0;$<64;++$){var R=q+y(F)+p(F,j,U)+a[$]+_[$]|0,P=d(k)+f(k,M,L)|0;q=U,U=j,j=F,F=G+R|0,G=L,L=M,M=k,k=R+P|0}this._a=k+this._a|0,this._b=M+this._b|0,this._c=L+this._c|0,this._d=G+this._d|0,this._e=F+this._e|0,this._f=j+this._f|0,this._g=U+this._g|0,this._h=q+this._h|0},u.prototype._hash=function(){var g=h.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,i,c){var l=t("inherits"),s=t("./sha512"),h=t("./hash"),a=t("safe-buffer").Buffer,n=new Array(160);function u(){this.init(),this._w=n,h.call(this,128,112)}l(u,s),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var p=a.allocUnsafe(48);function f(d,y,v){p.writeInt32BE(d,v),p.writeInt32BE(y,v+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),p},i.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,i,c){var l=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],n=new Array(160);function u(){this.init(),this._w=n,s.call(this,128,112)}function p(M,L,G){return G^M&(L^G)}function f(M,L,G){return M&L|G&(M|L)}function d(M,L){return(M>>>28|L<<4)^(L>>>2|M<<30)^(L>>>7|M<<25)}function y(M,L){return(M>>>14|L<<18)^(M>>>18|L<<14)^(L>>>9|M<<23)}function v(M,L){return(M>>>1|L<<31)^(M>>>8|L<<24)^M>>>7}function g(M,L){return(M>>>1|L<<31)^(M>>>8|L<<24)^(M>>>7|L<<25)}function w(M,L){return(M>>>19|L<<13)^(L>>>29|M<<3)^M>>>6}function _(M,L){return(M>>>19|L<<13)^(L>>>29|M<<3)^(M>>>6|L<<26)}function k(M,L){return M>>>0<L>>>0?1:0}l(u,s),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(M){for(var L=this._w,G=0|this._ah,F=0|this._bh,j=0|this._ch,U=0|this._dh,q=0|this._eh,X=0|this._fh,$=0|this._gh,R=0|this._hh,P=0|this._al,C=0|this._bl,x=0|this._cl,S=0|this._dl,T=0|this._el,E=0|this._fl,N=0|this._gl,I=0|this._hl,B=0;B<32;B+=2)L[B]=M.readInt32BE(4*B),L[B+1]=M.readInt32BE(4*B+4);for(;B<160;B+=2){var K=L[B-30],Z=L[B-30+1],nt=v(K,Z),H=g(Z,K),tt=w(K=L[B-4],Z=L[B-4+1]),V=_(Z,K),D=L[B-14],Q=L[B-14+1],it=L[B-32],ht=L[B-32+1],st=H+Q|0,ut=nt+D+k(st,H)|0;ut=(ut=ut+tt+k(st=st+V|0,V)|0)+it+k(st=st+ht|0,ht)|0,L[B]=ut,L[B+1]=st}for(var yt=0;yt<160;yt+=2){ut=L[yt],st=L[yt+1];var bt=f(G,F,j),at=f(P,C,x),pt=d(G,P),dt=d(P,G),vt=y(q,T),xt=y(T,q),Et=a[yt],It=a[yt+1],Nt=p(q,X,$),$t=p(T,E,N),se=I+xt|0,re=R+vt+k(se,I)|0;re=(re=(re=re+Nt+k(se=se+$t|0,$t)|0)+Et+k(se=se+It|0,It)|0)+ut+k(se=se+st|0,st)|0;var Zt=dt+at|0,te=pt+bt+k(Zt,dt)|0;R=$,I=N,$=X,N=E,X=q,E=T,q=U+re+k(T=S+se|0,S)|0,U=j,S=x,j=F,x=C,F=G,C=P,G=re+te+k(P=se+Zt|0,se)|0}this._al=this._al+P|0,this._bl=this._bl+C|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+E|0,this._gl=this._gl+N|0,this._hl=this._hl+I|0,this._ah=this._ah+G+k(this._al,P)|0,this._bh=this._bh+F+k(this._bl,C)|0,this._ch=this._ch+j+k(this._cl,x)|0,this._dh=this._dh+U+k(this._dl,S)|0,this._eh=this._eh+q+k(this._el,T)|0,this._fh=this._fh+X+k(this._fl,E)|0,this._gh=this._gh+$+k(this._gl,N)|0,this._hh=this._hh+R+k(this._hl,I)|0},u.prototype._hash=function(){var M=h.allocUnsafe(64);function L(G,F,j){M.writeInt32BE(G,j),M.writeInt32BE(F,j+4)}return L(this._ah,this._al,0),L(this._bh,this._bl,8),L(this._ch,this._cl,16),L(this._dh,this._dl,24),L(this._eh,this._el,32),L(this._fh,this._fl,40),L(this._gh,this._gl,48),L(this._hh,this._hl,56),M},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,i,c){i.exports=s;var l=t("events").EventEmitter;function s(){l.call(this)}t("inherits")(s,l),s.Readable=t("readable-stream/readable.js"),s.Writable=t("readable-stream/writable.js"),s.Duplex=t("readable-stream/duplex.js"),s.Transform=t("readable-stream/transform.js"),s.PassThrough=t("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(h,a){var n=this;function u(w){h.writable&&h.write(w)===!1&&n.pause&&n.pause()}function p(){n.readable&&n.resume&&n.resume()}n.on("data",u),h.on("drain",p),h._isStdio||a&&a.end===!1||(n.on("end",d),n.on("close",y));var f=!1;function d(){f||(f=!0,h.end())}function y(){f||(f=!0,typeof h.destroy=="function"&&h.destroy())}function v(w){if(g(),l.listenerCount(this,"error")===0)throw w}function g(){n.removeListener("data",u),h.removeListener("drain",p),n.removeListener("end",d),n.removeListener("close",y),n.removeListener("error",v),h.removeListener("error",v),n.removeListener("end",g),n.removeListener("close",g),h.removeListener("close",g)}return n.on("error",v),h.on("error",v),n.on("end",g),n.on("close",g),h.on("close",g),h.emit("pipe",n),h}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,i,c){var l={}.toString;i.exports=Array.isArray||function(s){return l.call(s)=="[object Array]"}},{}],507:[function(t,i,c){i.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,i,c){var l=t("process-nextick-args"),s=Object.keys||function(g){var w=[];for(var _ in g)w.push(_);return w};i.exports=d;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var a=t("./_stream_readable"),n=t("./_stream_writable");h.inherits(d,a);for(var u=s(n.prototype),p=0;p<u.length;p++){var f=u[p];d.prototype[f]||(d.prototype[f]=n.prototype[f])}function d(g){if(!(this instanceof d))return new d(g);a.call(this,g),n.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||l.nextTick(v,this)}function v(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),d.prototype._destroy=function(g,w){this.push(null),this.end(),l.nextTick(w,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,i,c){i.exports=h;var l=t("./_stream_transform"),s=Object.create(t("core-util-is"));function h(a){if(!(this instanceof h))return new h(a);l.call(this,a)}s.inherits=t("inherits"),s.inherits(h,l),h.prototype._transform=function(a,n,u){u(null,a)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,i,c){(function(l,s){(function(){var h=t("process-nextick-args");i.exports=G;var a,n=t("isarray");G.ReadableState=L,t("events").EventEmitter;var u=function(I,B){return I.listeners(B).length},p=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y=Object.create(t("core-util-is"));y.inherits=t("inherits");var v=t("util"),g=void 0;g=v&&v.debuglog?v.debuglog("stream"):function(){};var w,_=t("./internal/streams/BufferList"),k=t("./internal/streams/destroy");y.inherits(G,p);var M=["error","close","destroy","pause","resume"];function L(I,B){I=I||{};var K=B instanceof(a=a||t("./_stream_duplex"));this.objectMode=!!I.objectMode,K&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var Z=I.highWaterMark,nt=I.readableHighWaterMark,H=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(nt||nt===0)?nt:H,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(w||(w=t("string_decoder/").StringDecoder),this.decoder=new w(I.encoding),this.encoding=I.encoding)}function G(I){if(a=a||t("./_stream_duplex"),!(this instanceof G))return new G(I);this._readableState=new L(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),p.call(this)}function F(I,B,K,Z,nt){var H,tt=I._readableState;return B===null?(tt.reading=!1,(function(V,D){if(!D.ended){if(D.decoder){var Q=D.decoder.end();Q&&Q.length&&(D.buffer.push(Q),D.length+=D.objectMode?1:Q.length)}D.ended=!0,q(V)}})(I,tt)):(nt||(H=(function(V,D){var Q;it=D,f.isBuffer(it)||it instanceof d||typeof D=="string"||D===void 0||V.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk"));var it;return Q})(tt,B)),H?I.emit("error",H):tt.objectMode||B&&B.length>0?(typeof B=="string"||tt.objectMode||Object.getPrototypeOf(B)===f.prototype||(B=(function(V){return f.from(V)})(B)),Z?tt.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):j(I,tt,B,!0):tt.ended?I.emit("error",new Error("stream.push() after EOF")):(tt.reading=!1,tt.decoder&&!K?(B=tt.decoder.write(B),tt.objectMode||B.length!==0?j(I,tt,B,!1):$(I,tt)):j(I,tt,B,!1))):Z||(tt.reading=!1)),(function(V){return!V.ended&&(V.needReadable||V.length<V.highWaterMark||V.length===0)})(tt)}function j(I,B,K,Z){B.flowing&&B.length===0&&!B.sync?(I.emit("data",K),I.read(0)):(B.length+=B.objectMode?1:K.length,Z?B.buffer.unshift(K):B.buffer.push(K),B.needReadable&&q(I)),$(I,B)}Object.defineProperty(G.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),G.prototype.destroy=k.destroy,G.prototype._undestroy=k.undestroy,G.prototype._destroy=function(I,B){this.push(null),B(I)},G.prototype.push=function(I,B){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof I=="string"&&((B=B||Z.defaultEncoding)!==Z.encoding&&(I=f.from(I,B),B=""),K=!0),F(this,I,B,!1,K)},G.prototype.unshift=function(I){return F(this,I,null,!0,!1)},G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(I){return w||(w=t("string_decoder/").StringDecoder),this._readableState.decoder=new w(I),this._readableState.encoding=I,this};function U(I,B){return I<=0||B.length===0&&B.ended?0:B.objectMode?1:I!=I?B.flowing&&B.length?B.buffer.head.data.length:B.length:(I>B.highWaterMark&&(B.highWaterMark=(function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})(I)),I<=B.length?I:B.ended?B.length:(B.needReadable=!0,0))}function q(I){var B=I._readableState;B.needReadable=!1,B.emittedReadable||(g("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?h.nextTick(X,I):X(I))}function X(I){g("emit readable"),I.emit("readable"),x(I)}function $(I,B){B.readingMore||(B.readingMore=!0,h.nextTick(R,I,B))}function R(I,B){for(var K=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(g("maybeReadMore read 0"),I.read(0),K!==B.length);)K=B.length;B.readingMore=!1}function P(I){g("readable nexttick read 0"),I.read(0)}function C(I,B){B.reading||(g("resume read 0"),I.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,I.emit("resume"),x(I),B.flowing&&!B.reading&&I.read(0)}function x(I){var B=I._readableState;for(g("flow",B.flowing);B.flowing&&I.read()!==null;);}function S(I,B){return B.length===0?null:(B.objectMode?K=B.buffer.shift():!I||I>=B.length?(K=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):K=(function(Z,nt,H){var tt;return Z<nt.head.data.length?(tt=nt.head.data.slice(0,Z),nt.head.data=nt.head.data.slice(Z)):tt=Z===nt.head.data.length?nt.shift():H?(function(V,D){var Q=D.head,it=1,ht=Q.data;for(V-=ht.length;Q=Q.next;){var st=Q.data,ut=V>st.length?st.length:V;if(ut===st.length?ht+=st:ht+=st.slice(0,V),(V-=ut)===0){ut===st.length?(++it,Q.next?D.head=Q.next:D.head=D.tail=null):(D.head=Q,Q.data=st.slice(ut));break}++it}return D.length-=it,ht})(Z,nt):(function(V,D){var Q=f.allocUnsafe(V),it=D.head,ht=1;for(it.data.copy(Q),V-=it.data.length;it=it.next;){var st=it.data,ut=V>st.length?st.length:V;if(st.copy(Q,Q.length-V,0,ut),(V-=ut)===0){ut===st.length?(++ht,it.next?D.head=it.next:D.head=D.tail=null):(D.head=it,it.data=st.slice(ut));break}++ht}return D.length-=ht,Q})(Z,nt),tt})(I,B.buffer,B.decoder),K);var K}function T(I){var B=I._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,h.nextTick(E,B,I))}function E(I,B){I.endEmitted||I.length!==0||(I.endEmitted=!0,B.readable=!1,B.emit("end"))}function N(I,B){for(var K=0,Z=I.length;K<Z;K++)if(I[K]===B)return K;return-1}G.prototype.read=function(I){g("read",I),I=parseInt(I,10);var B=this._readableState,K=I;if(I!==0&&(B.emittedReadable=!1),I===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return g("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?T(this):q(this),null;if((I=U(I,B))===0&&B.ended)return B.length===0&&T(this),null;var Z,nt=B.needReadable;return g("need readable",nt),(B.length===0||B.length-I<B.highWaterMark)&&g("length less than watermark",nt=!0),B.ended||B.reading?g("reading or ended",nt=!1):nt&&(g("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(I=U(K,B))),(Z=I>0?S(I,B):null)===null?(B.needReadable=!0,I=0):B.length-=I,B.length===0&&(B.ended||(B.needReadable=!0),K!==I&&B.ended&&T(this)),Z!==null&&this.emit("data",Z),Z},G.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},G.prototype.pipe=function(I,B){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=I;break;case 1:Z.pipes=[Z.pipes,I];break;default:Z.pipes.push(I)}Z.pipesCount+=1,g("pipe count=%d opts=%j",Z.pipesCount,B);var nt=(!B||B.end!==!1)&&I!==l.stdout&&I!==l.stderr?tt:yt;function H(bt,at){g("onunpipe"),bt===K&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,g("cleanup"),I.removeListener("close",st),I.removeListener("finish",ut),I.removeListener("drain",V),I.removeListener("error",ht),I.removeListener("unpipe",H),K.removeListener("end",tt),K.removeListener("end",yt),K.removeListener("data",it),D=!0,!Z.awaitDrain||I._writableState&&!I._writableState.needDrain||V())}function tt(){g("onend"),I.end()}Z.endEmitted?h.nextTick(nt):K.once("end",nt),I.on("unpipe",H);var V=(function(bt){return function(){var at=bt._readableState;g("pipeOnDrain",at.awaitDrain),at.awaitDrain&&at.awaitDrain--,at.awaitDrain===0&&u(bt,"data")&&(at.flowing=!0,x(bt))}})(K);I.on("drain",V);var D=!1,Q=!1;function it(bt){g("ondata"),Q=!1,I.write(bt)!==!1||Q||((Z.pipesCount===1&&Z.pipes===I||Z.pipesCount>1&&N(Z.pipes,I)!==-1)&&!D&&(g("false write response, pause",Z.awaitDrain),Z.awaitDrain++,Q=!0),K.pause())}function ht(bt){g("onerror",bt),yt(),I.removeListener("error",ht),u(I,"error")===0&&I.emit("error",bt)}function st(){I.removeListener("finish",ut),yt()}function ut(){g("onfinish"),I.removeListener("close",st),yt()}function yt(){g("unpipe"),K.unpipe(I)}return K.on("data",it),(function(bt,at,pt){if(typeof bt.prependListener=="function")return bt.prependListener(at,pt);bt._events&&bt._events[at]?n(bt._events[at])?bt._events[at].unshift(pt):bt._events[at]=[pt,bt._events[at]]:bt.on(at,pt)})(I,"error",ht),I.once("close",st),I.once("finish",ut),I.emit("pipe",K),Z.flowing||(g("pipe resume"),K.resume()),I},G.prototype.unpipe=function(I){var B=this._readableState,K={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return I&&I!==B.pipes||(I||(I=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,I&&I.emit("unpipe",this,K)),this;if(!I){var Z=B.pipes,nt=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var H=0;H<nt;H++)Z[H].emit("unpipe",this,{hasUnpiped:!1});return this}var tt=N(B.pipes,I);return tt===-1||(B.pipes.splice(tt,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),I.emit("unpipe",this,K)),this},G.prototype.on=function(I,B){var K=p.prototype.on.call(this,I,B);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&q(this):h.nextTick(P,this))}return K},G.prototype.addListener=G.prototype.on,G.prototype.resume=function(){var I=this._readableState;return I.flowing||(g("resume"),I.flowing=!0,(function(B,K){K.resumeScheduled||(K.resumeScheduled=!0,h.nextTick(C,B,K))})(this,I)),this},G.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},G.prototype.wrap=function(I){var B=this,K=this._readableState,Z=!1;for(var nt in I.on("end",(function(){if(g("wrapped end"),K.decoder&&!K.ended){var tt=K.decoder.end();tt&&tt.length&&B.push(tt)}B.push(null)})),I.on("data",(function(tt){g("wrapped data"),K.decoder&&(tt=K.decoder.write(tt)),K.objectMode&&tt==null||(K.objectMode||tt&&tt.length)&&(B.push(tt)||(Z=!0,I.pause()))})),I)this[nt]===void 0&&typeof I[nt]=="function"&&(this[nt]=(function(tt){return function(){return I[tt].apply(I,arguments)}})(nt));for(var H=0;H<M.length;H++)I.on(M[H],this.emit.bind(this,M[H]));return this._read=function(tt){g("wrapped _read",tt),Z&&(Z=!1,I.resume())},this},Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),G._fromList=S}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,i,c){i.exports=a;var l=t("./_stream_duplex"),s=Object.create(t("core-util-is"));function h(p,f){var d=this._transformState;d.transforming=!1;var y=d.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,f!=null&&this.push(f),y(p);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function a(p){if(!(this instanceof a))return new a(p);l.call(this,p),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,p&&(typeof p.transform=="function"&&(this._transform=p.transform),typeof p.flush=="function"&&(this._flush=p.flush)),this.on("prefinish",n)}function n(){var p=this;typeof this._flush=="function"?this._flush((function(f,d){u(p,f,d)})):u(this,null,null)}function u(p,f,d){if(f)return p.emit("error",f);if(d!=null&&p.push(d),p._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(p._transformState.transforming)throw new Error("Calling transform done when still transforming");return p.push(null)}s.inherits=t("inherits"),s.inherits(a,l),a.prototype.push=function(p,f){return this._transformState.needTransform=!1,l.prototype.push.call(this,p,f)},a.prototype._transform=function(p,f,d){throw new Error("_transform() is not implemented")},a.prototype._write=function(p,f,d){var y=this._transformState;if(y.writecb=d,y.writechunk=p,y.writeencoding=f,!y.transforming){var v=this._readableState;(y.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},a.prototype._read=function(p){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(p,f){var d=this;l.prototype._destroy.call(this,p,(function(y){f(y),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,i,c){(function(l,s,h){(function(){var a=t("process-nextick-args");function n($){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(P,C,x){var S=P.entry;for(P.entry=null;S;){var T=S.callback;C.pendingcb--,T(x),S=S.next}C.corkedRequestsFree.next=P})(R,$)}}i.exports=L;var u,p=!l.browser&&["v0.10","v0.9."].indexOf(l.version.slice(0,5))>-1?h:a.nextTick;L.WritableState=M;var f=Object.create(t("core-util-is"));f.inherits=t("inherits");var d={deprecate:t("util-deprecate")},y=t("./internal/streams/stream"),v=t("safe-buffer").Buffer,g=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,_=t("./internal/streams/destroy");function k(){}function M($,R){u=u||t("./_stream_duplex"),$=$||{};var P=R instanceof u;this.objectMode=!!$.objectMode,P&&(this.objectMode=this.objectMode||!!$.writableObjectMode);var C=$.highWaterMark,x=$.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=C||C===0?C:P&&(x||x===0)?x:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=$.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(N,I){var B=N._writableState,K=B.sync,Z=B.writecb;if((function(H){H.writing=!1,H.writecb=null,H.length-=H.writelen,H.writelen=0})(B),I)(function(H,tt,V,D,Q){--tt.pendingcb,V?(a.nextTick(Q,D),a.nextTick(X,H,tt),H._writableState.errorEmitted=!0,H.emit("error",D)):(Q(D),H._writableState.errorEmitted=!0,H.emit("error",D),X(H,tt))})(N,B,K,I,Z);else{var nt=U(B);nt||B.corked||B.bufferProcessing||!B.bufferedRequest||j(N,B),K?p(F,N,B,nt,Z):F(N,B,nt,Z)}})(R,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function L($){if(u=u||t("./_stream_duplex"),!(w.call(L,this)||this instanceof u))return new L($);this._writableState=new M($,this),this.writable=!0,$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final)),y.call(this)}function G($,R,P,C,x,S,T){R.writelen=C,R.writecb=T,R.writing=!0,R.sync=!0,P?$._writev(x,R.onwrite):$._write(x,S,R.onwrite),R.sync=!1}function F($,R,P,C){P||(function(x,S){S.length===0&&S.needDrain&&(S.needDrain=!1,x.emit("drain"))})($,R),R.pendingcb--,C(),X($,R)}function j($,R){R.bufferProcessing=!0;var P=R.bufferedRequest;if($._writev&&P&&P.next){var C=R.bufferedRequestCount,x=new Array(C),S=R.corkedRequestsFree;S.entry=P;for(var T=0,E=!0;P;)x[T]=P,P.isBuf||(E=!1),P=P.next,T+=1;x.allBuffers=E,G($,R,!0,R.length,x,"",S.finish),R.pendingcb++,R.lastBufferedRequest=null,S.next?(R.corkedRequestsFree=S.next,S.next=null):R.corkedRequestsFree=new n(R),R.bufferedRequestCount=0}else{for(;P;){var N=P.chunk,I=P.encoding,B=P.callback;if(G($,R,!1,R.objectMode?1:N.length,N,I,B),P=P.next,R.bufferedRequestCount--,R.writing)break}P===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=P,R.bufferProcessing=!1}function U($){return $.ending&&$.length===0&&$.bufferedRequest===null&&!$.finished&&!$.writing}function q($,R){$._final((function(P){R.pendingcb--,P&&$.emit("error",P),R.prefinished=!0,$.emit("prefinish"),X($,R)}))}function X($,R){var P=U(R);return P&&((function(C,x){x.prefinished||x.finalCalled||(typeof C._final=="function"?(x.pendingcb++,x.finalCalled=!0,a.nextTick(q,C,x)):(x.prefinished=!0,C.emit("prefinish")))})($,R),R.pendingcb===0&&(R.finished=!0,$.emit("finish"))),P}f.inherits(L,y),M.prototype.getBuffer=function(){for(var $=this.bufferedRequest,R=[];$;)R.push($),$=$.next;return R},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(L,Symbol.hasInstance,{value:function($){return!!w.call(this,$)||this===L&&$&&$._writableState instanceof M}})):w=function($){return $ instanceof this},L.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},L.prototype.write=function($,R,P){var C,x=this._writableState,S=!1,T=!x.objectMode&&(C=$,v.isBuffer(C)||C instanceof g);return T&&!v.isBuffer($)&&($=(function(E){return v.from(E)})($)),typeof R=="function"&&(P=R,R=null),T?R="buffer":R||(R=x.defaultEncoding),typeof P!="function"&&(P=k),x.ended?(function(E,N){var I=new Error("write after end");E.emit("error",I),a.nextTick(N,I)})(this,P):(T||(function(E,N,I,B){var K=!0,Z=!1;return I===null?Z=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||N.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(E.emit("error",Z),a.nextTick(B,Z),K=!1),K})(this,x,$,P))&&(x.pendingcb++,S=(function(E,N,I,B,K,Z){if(!I){var nt=(function(D,Q,it){return D.objectMode||D.decodeStrings===!1||typeof Q!="string"||(Q=v.from(Q,it)),Q})(N,B,K);B!==nt&&(I=!0,K="buffer",B=nt)}var H=N.objectMode?1:B.length;N.length+=H;var tt=N.length<N.highWaterMark;if(tt||(N.needDrain=!0),N.writing||N.corked){var V=N.lastBufferedRequest;N.lastBufferedRequest={chunk:B,encoding:K,isBuf:I,callback:Z,next:null},V?V.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else G(E,N,!1,H,B,K,Z);return tt})(this,x,T,$,R,P)),S},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){var $=this._writableState;$.corked&&($.corked--,$.writing||$.corked||$.bufferProcessing||!$.bufferedRequest||j(this,$))},L.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+$);return this._writableState.defaultEncoding=$,this},Object.defineProperty(L.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),L.prototype._write=function($,R,P){P(new Error("_write() is not implemented"))},L.prototype._writev=null,L.prototype.end=function($,R,P){var C=this._writableState;typeof $=="function"?(P=$,$=null,R=null):typeof R=="function"&&(P=R,R=null),$!=null&&this.write($,R),C.corked&&(C.corked=1,this.uncork()),C.ending||(function(x,S,T){S.ending=!0,X(x,S),T&&(S.finished?a.nextTick(T):x.once("finish",T)),S.ended=!0,x.writable=!1})(this,C,P)},Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),L.prototype.destroy=_.destroy,L.prototype._undestroy=_.undestroy,L.prototype._destroy=function($,R){this.end(),R($)}}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,i,c){var l=t("safe-buffer").Buffer,s=t("util");i.exports=(function(){function h(){(function(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}return h.prototype.push=function(a){var n={data:a,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},h.prototype.unshift=function(a){var n={data:a,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},h.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},h.prototype.clear=function(){this.head=this.tail=null,this.length=0},h.prototype.join=function(a){if(this.length===0)return"";for(var n=this.head,u=""+n.data;n=n.next;)u+=a+n.data;return u},h.prototype.concat=function(a){if(this.length===0)return l.alloc(0);for(var n,u,p,f=l.allocUnsafe(a>>>0),d=this.head,y=0;d;)n=d.data,u=f,p=y,n.copy(u,p),y+=d.data.length,d=d.next;return f},h})(),s&&s.inspect&&s.inspect.custom&&(i.exports.prototype[s.inspect.custom]=function(){var h=s.inspect({length:this.length});return this.constructor.name+" "+h})},{"safe-buffer":520,util:188}],514:[function(t,i,c){var l=t("process-nextick-args");function s(h,a){h.emit("error",a)}i.exports={destroy:function(h,a){var n=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(a?a(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,l.nextTick(s,this,h)):l.nextTick(s,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,(function(f){!a&&f?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,l.nextTick(s,n,f)):l.nextTick(s,n,f):a&&a(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,i,c){arguments[4][490][0].apply(c,arguments)},{dup:490,events:422}],516:[function(t,i,c){i.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,i,c){(c=i.exports=t("./lib/_stream_readable.js")).Stream=c,c.Readable=c,c.Writable=t("./lib/_stream_writable.js"),c.Duplex=t("./lib/_stream_duplex.js"),c.Transform=t("./lib/_stream_transform.js"),c.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,i,c){i.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,i,c){i.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,i,c){arguments[4][217][0].apply(c,arguments)},{buffer:220,dup:217}],521:[function(t,i,c){arguments[4][218][0].apply(c,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,i,c){arguments[4][218][0].apply(c,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,i,c){(function(l,s){(function(){var h=t("process/browser.js").nextTick,a=Function.prototype.apply,n=Array.prototype.slice,u={},p=0;function f(d,y){this._id=d,this._clearFn=y}c.setTimeout=function(){return new f(a.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new f(a.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(d){d.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(d,y){clearTimeout(d._idleTimeoutId),d._idleTimeout=y},c.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},c._unrefActive=c.active=function(d){clearTimeout(d._idleTimeoutId);var y=d._idleTimeout;y>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),y))},c.setImmediate=typeof l=="function"?l:function(d){var y=p++,v=!(arguments.length<2)&&n.call(arguments,1);return u[y]=!0,h((function(){u[y]&&(v?d.apply(null,v):d.call(null),c.clearImmediate(y))})),y},c.clearImmediate=typeof s=="function"?s:function(d){delete u[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,i,c){(function(l){(function(){function s(h){try{if(!l.localStorage)return!1}catch{return!1}var a=l.localStorage[h];return a!=null&&String(a).toLowerCase()==="true"}i.exports=function(h,a){if(s("noDeprecation"))return h;var n=!1;return function(){if(!n){if(s("throwDeprecation"))throw new Error(a);s("traceDeprecation")?console.trace(a):console.warn(a),n=!0}return h.apply(this,arguments)}}}).call(this)}).call(this,typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,i,c){typeof Object.create=="function"?i.exports=function(l,s){l.super_=s,l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(l,s){l.super_=s;var h=function(){};h.prototype=s.prototype,l.prototype=new h,l.prototype.constructor=l}},{}],526:[function(t,i,c){i.exports=function(l){return l&&typeof l=="object"&&typeof l.copy=="function"&&typeof l.fill=="function"&&typeof l.readUInt8=="function"}},{}],527:[function(t,i,c){(function(l,s){(function(){var h=/%[sdj%]/g;c.format=function(x){if(!M(x)){for(var S=[],T=0;T<arguments.length;T++)S.push(u(arguments[T]));return S.join(" ")}T=1;for(var E=arguments,N=E.length,I=String(x).replace(h,(function(K){if(K==="%%")return"%";if(T>=N)return K;switch(K){case"%s":return String(E[T++]);case"%d":return Number(E[T++]);case"%j":try{return JSON.stringify(E[T++])}catch{return"[Circular]"}default:return K}})),B=E[T];T<N;B=E[++T])_(B)||!F(B)?I+=" "+B:I+=" "+u(B);return I},c.deprecate=function(x,S){if(L(s.process))return function(){return c.deprecate(x,S).apply(this,arguments)};if(l.noDeprecation===!0)return x;var T=!1;return function(){if(!T){if(l.throwDeprecation)throw new Error(S);l.traceDeprecation?console.trace(S):console.error(S),T=!0}return x.apply(this,arguments)}};var a,n={};function u(x,S){var T={seen:[],stylize:f};return arguments.length>=3&&(T.depth=arguments[2]),arguments.length>=4&&(T.colors=arguments[3]),w(S)?T.showHidden=S:S&&c._extend(T,S),L(T.showHidden)&&(T.showHidden=!1),L(T.depth)&&(T.depth=2),L(T.colors)&&(T.colors=!1),L(T.customInspect)&&(T.customInspect=!0),T.colors&&(T.stylize=p),d(T,x,T.depth)}function p(x,S){var T=u.styles[S];return T?"\x1B["+u.colors[T][0]+"m"+x+"\x1B["+u.colors[T][1]+"m":x}function f(x,S){return x}function d(x,S,T){if(x.customInspect&&S&&q(S.inspect)&&S.inspect!==c.inspect&&(!S.constructor||S.constructor.prototype!==S)){var E=S.inspect(T,x);return M(E)||(E=d(x,E,T)),E}var N=(function(V,D){if(L(D))return V.stylize("undefined","undefined");if(M(D)){var Q="'"+JSON.stringify(D).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return V.stylize(Q,"string")}if(k(D))return V.stylize(""+D,"number");if(w(D))return V.stylize(""+D,"boolean");if(_(D))return V.stylize("null","null")})(x,S);if(N)return N;var I=Object.keys(S),B=(function(V){var D={};return V.forEach((function(Q,it){D[Q]=!0})),D})(I);if(x.showHidden&&(I=Object.getOwnPropertyNames(S)),U(S)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return y(S);if(I.length===0){if(q(S)){var K=S.name?": "+S.name:"";return x.stylize("[Function"+K+"]","special")}if(G(S))return x.stylize(RegExp.prototype.toString.call(S),"regexp");if(j(S))return x.stylize(Date.prototype.toString.call(S),"date");if(U(S))return y(S)}var Z,nt="",H=!1,tt=["{","}"];return g(S)&&(H=!0,tt=["[","]"]),q(S)&&(nt=" [Function"+(S.name?": "+S.name:"")+"]"),G(S)&&(nt=" "+RegExp.prototype.toString.call(S)),j(S)&&(nt=" "+Date.prototype.toUTCString.call(S)),U(S)&&(nt=" "+y(S)),I.length!==0||H&&S.length!=0?T<0?G(S)?x.stylize(RegExp.prototype.toString.call(S),"regexp"):x.stylize("[Object]","special"):(x.seen.push(S),Z=H?(function(V,D,Q,it,ht){for(var st=[],ut=0,yt=D.length;ut<yt;++ut)C(D,String(ut))?st.push(v(V,D,Q,it,String(ut),!0)):st.push("");return ht.forEach((function(bt){bt.match(/^\d+$/)||st.push(v(V,D,Q,it,bt,!0))})),st})(x,S,T,B,I):I.map((function(V){return v(x,S,T,B,V,H)})),x.seen.pop(),(function(V,D,Q){return V.reduce((function(it,ht){return ht.indexOf(`
`)>=0,it+ht.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Q[0]+(D===""?"":D+`
 `)+" "+V.join(`,
  `)+" "+Q[1]:Q[0]+D+" "+V.join(", ")+" "+Q[1]})(Z,nt,tt)):tt[0]+nt+tt[1]}function y(x){return"["+Error.prototype.toString.call(x)+"]"}function v(x,S,T,E,N,I){var B,K,Z;if((Z=Object.getOwnPropertyDescriptor(S,N)||{value:S[N]}).get?K=Z.set?x.stylize("[Getter/Setter]","special"):x.stylize("[Getter]","special"):Z.set&&(K=x.stylize("[Setter]","special")),C(E,N)||(B="["+N+"]"),K||(x.seen.indexOf(Z.value)<0?(K=_(T)?d(x,Z.value,null):d(x,Z.value,T-1)).indexOf(`
`)>-1&&(K=I?K.split(`
`).map((function(nt){return"  "+nt})).join(`
`).substr(2):`
`+K.split(`
`).map((function(nt){return"   "+nt})).join(`
`)):K=x.stylize("[Circular]","special")),L(B)){if(I&&N.match(/^\d+$/))return K;(B=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=x.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=x.stylize(B,"string"))}return B+": "+K}function g(x){return Array.isArray(x)}function w(x){return typeof x=="boolean"}function _(x){return x===null}function k(x){return typeof x=="number"}function M(x){return typeof x=="string"}function L(x){return x===void 0}function G(x){return F(x)&&X(x)==="[object RegExp]"}function F(x){return typeof x=="object"&&x!==null}function j(x){return F(x)&&X(x)==="[object Date]"}function U(x){return F(x)&&(X(x)==="[object Error]"||x instanceof Error)}function q(x){return typeof x=="function"}function X(x){return Object.prototype.toString.call(x)}function $(x){return x<10?"0"+x.toString(10):x.toString(10)}c.debuglog=function(x){if(L(a)&&(a=l.env.NODE_DEBUG||""),x=x.toUpperCase(),!n[x])if(new RegExp("\\b"+x+"\\b","i").test(a)){var S=l.pid;n[x]=function(){var T=c.format.apply(c,arguments);console.error("%s %d: %s",x,S,T)}}else n[x]=function(){};return n[x]},c.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=g,c.isBoolean=w,c.isNull=_,c.isNullOrUndefined=function(x){return x==null},c.isNumber=k,c.isString=M,c.isSymbol=function(x){return typeof x=="symbol"},c.isUndefined=L,c.isRegExp=G,c.isObject=F,c.isDate=j,c.isError=U,c.isFunction=q,c.isPrimitive=function(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||x===void 0},c.isBuffer=t("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var x=new Date,S=[$(x.getHours()),$(x.getMinutes()),$(x.getSeconds())].join(":");return[x.getDate(),R[x.getMonth()],S].join(" ")}function C(x,S){return Object.prototype.hasOwnProperty.call(x,S)}c.log=function(){console.log("%s - %s",P(),c.format.apply(c,arguments))},c.inherits=t("inherits"),c._extend=function(x,S){if(!S||!F(S))return x;for(var T=Object.keys(S),E=T.length;E--;)x[T[E]]=S[T[E]];return x}}).call(this)}).call(this,t("_process"),typeof ir<"u"?ir:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"v1",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(c,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(c,"v4",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(c,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(c,"NIL",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(c,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(c,"validate",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(c,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(c,"parse",{enumerable:!0,get:function(){return d.default}});var l=y(t("./v1.js")),s=y(t("./v3.js")),h=y(t("./v4.js")),a=y(t("./v5.js")),n=y(t("./nil.js")),u=y(t("./version.js")),p=y(t("./validate.js")),f=y(t("./stringify.js")),d=y(t("./parse.js"));function y(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,i,c){function l(d){return 14+(d+64>>>9<<4)+1}function s(d,y){const v=(65535&d)+(65535&y);return(d>>16)+(y>>16)+(v>>16)<<16|65535&v}function h(d,y,v,g,w,_){return s((k=s(s(y,d),s(g,_)))<<(M=w)|k>>>32-M,v);var k,M}function a(d,y,v,g,w,_,k){return h(y&v|~y&g,d,y,w,_,k)}function n(d,y,v,g,w,_,k){return h(y&g|v&~g,d,y,w,_,k)}function u(d,y,v,g,w,_,k){return h(y^v^g,d,y,w,_,k)}function p(d,y,v,g,w,_,k){return h(v^(y|~g),d,y,w,_,k)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=function(d){if(typeof d=="string"){const y=unescape(encodeURIComponent(d));d=new Uint8Array(y.length);for(let v=0;v<y.length;++v)d[v]=y.charCodeAt(v)}return(function(y){const v=[],g=32*y.length;for(let w=0;w<g;w+=8){const _=y[w>>5]>>>w%32&255,k=parseInt("0123456789abcdef".charAt(_>>>4&15)+"0123456789abcdef".charAt(15&_),16);v.push(k)}return v})((function(y,v){y[v>>5]|=128<<v%32,y[l(v)-1]=v;let g=1732584193,w=-271733879,_=-1732584194,k=271733878;for(let M=0;M<y.length;M+=16){const L=g,G=w,F=_,j=k;g=a(g,w,_,k,y[M],7,-680876936),k=a(k,g,w,_,y[M+1],12,-389564586),_=a(_,k,g,w,y[M+2],17,606105819),w=a(w,_,k,g,y[M+3],22,-1044525330),g=a(g,w,_,k,y[M+4],7,-176418897),k=a(k,g,w,_,y[M+5],12,1200080426),_=a(_,k,g,w,y[M+6],17,-1473231341),w=a(w,_,k,g,y[M+7],22,-45705983),g=a(g,w,_,k,y[M+8],7,1770035416),k=a(k,g,w,_,y[M+9],12,-1958414417),_=a(_,k,g,w,y[M+10],17,-42063),w=a(w,_,k,g,y[M+11],22,-1990404162),g=a(g,w,_,k,y[M+12],7,1804603682),k=a(k,g,w,_,y[M+13],12,-40341101),_=a(_,k,g,w,y[M+14],17,-1502002290),w=a(w,_,k,g,y[M+15],22,1236535329),g=n(g,w,_,k,y[M+1],5,-165796510),k=n(k,g,w,_,y[M+6],9,-1069501632),_=n(_,k,g,w,y[M+11],14,643717713),w=n(w,_,k,g,y[M],20,-373897302),g=n(g,w,_,k,y[M+5],5,-701558691),k=n(k,g,w,_,y[M+10],9,38016083),_=n(_,k,g,w,y[M+15],14,-660478335),w=n(w,_,k,g,y[M+4],20,-405537848),g=n(g,w,_,k,y[M+9],5,568446438),k=n(k,g,w,_,y[M+14],9,-1019803690),_=n(_,k,g,w,y[M+3],14,-187363961),w=n(w,_,k,g,y[M+8],20,1163531501),g=n(g,w,_,k,y[M+13],5,-1444681467),k=n(k,g,w,_,y[M+2],9,-51403784),_=n(_,k,g,w,y[M+7],14,1735328473),w=n(w,_,k,g,y[M+12],20,-1926607734),g=u(g,w,_,k,y[M+5],4,-378558),k=u(k,g,w,_,y[M+8],11,-2022574463),_=u(_,k,g,w,y[M+11],16,1839030562),w=u(w,_,k,g,y[M+14],23,-35309556),g=u(g,w,_,k,y[M+1],4,-1530992060),k=u(k,g,w,_,y[M+4],11,1272893353),_=u(_,k,g,w,y[M+7],16,-155497632),w=u(w,_,k,g,y[M+10],23,-1094730640),g=u(g,w,_,k,y[M+13],4,681279174),k=u(k,g,w,_,y[M],11,-358537222),_=u(_,k,g,w,y[M+3],16,-722521979),w=u(w,_,k,g,y[M+6],23,76029189),g=u(g,w,_,k,y[M+9],4,-640364487),k=u(k,g,w,_,y[M+12],11,-421815835),_=u(_,k,g,w,y[M+15],16,530742520),w=u(w,_,k,g,y[M+2],23,-995338651),g=p(g,w,_,k,y[M],6,-198630844),k=p(k,g,w,_,y[M+7],10,1126891415),_=p(_,k,g,w,y[M+14],15,-1416354905),w=p(w,_,k,g,y[M+5],21,-57434055),g=p(g,w,_,k,y[M+12],6,1700485571),k=p(k,g,w,_,y[M+3],10,-1894986606),_=p(_,k,g,w,y[M+10],15,-1051523),w=p(w,_,k,g,y[M+1],21,-2054922799),g=p(g,w,_,k,y[M+8],6,1873313359),k=p(k,g,w,_,y[M+15],10,-30611744),_=p(_,k,g,w,y[M+6],15,-1560198380),w=p(w,_,k,g,y[M+13],21,1309151649),g=p(g,w,_,k,y[M+4],6,-145523070),k=p(k,g,w,_,y[M+11],10,-1120210379),_=p(_,k,g,w,y[M+2],15,718787259),w=p(w,_,k,g,y[M+9],21,-343485551),g=s(g,L),w=s(w,G),_=s(_,F),k=s(k,j)}return[g,w,_,k]})((function(y){if(y.length===0)return[];const v=8*y.length,g=new Uint32Array(l(v));for(let w=0;w<v;w+=8)g[w>>5]|=(255&y[w/8])<<w%32;return g})(d),8*d.length))};c.default=f},{}],530:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l,s=(l=t("./validate.js"))&&l.__esModule?l:{default:l},h=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");let n;const u=new Uint8Array(16);return u[0]=(n=parseInt(a.slice(0,8),16))>>>24,u[1]=n>>>16&255,u[2]=n>>>8&255,u[3]=255&n,u[4]=(n=parseInt(a.slice(9,13),16))>>>8,u[5]=255&n,u[6]=(n=parseInt(a.slice(14,18),16))>>>8,u[7]=255&n,u[8]=(n=parseInt(a.slice(19,23),16))>>>8,u[9]=255&n,u[10]=(n=parseInt(a.slice(24,36),16))/1099511627776&255,u[11]=n/4294967296&255,u[12]=n>>>24&255,u[13]=n>>>16&255,u[14]=n>>>8&255,u[15]=255&n,u};c.default=h},{"./validate.js":541}],532:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,i,c){let l;Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){if(!l&&(l=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!l))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(s)};const s=new Uint8Array(16)},{}],534:[function(t,i,c){function l(a,n,u,p){switch(a){case 0:return n&u^~n&p;case 1:return n^u^p;case 2:return n&u^n&p^u&p;case 3:return n^u^p}}function s(a,n){return a<<n|a>>>32-n}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=function(a){const n=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const y=unescape(encodeURIComponent(a));a=[];for(let v=0;v<y.length;++v)a.push(y.charCodeAt(v))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const p=a.length/4+2,f=Math.ceil(p/16),d=new Array(f);for(let y=0;y<f;++y){const v=new Uint32Array(16);for(let g=0;g<16;++g)v[g]=a[64*y+4*g]<<24|a[64*y+4*g+1]<<16|a[64*y+4*g+2]<<8|a[64*y+4*g+3];d[y]=v}d[f-1][14]=8*(a.length-1)/Math.pow(2,32),d[f-1][14]=Math.floor(d[f-1][14]),d[f-1][15]=8*(a.length-1)&4294967295;for(let y=0;y<f;++y){const v=new Uint32Array(80);for(let L=0;L<16;++L)v[L]=d[y][L];for(let L=16;L<80;++L)v[L]=s(v[L-3]^v[L-8]^v[L-14]^v[L-16],1);let g=u[0],w=u[1],_=u[2],k=u[3],M=u[4];for(let L=0;L<80;++L){const G=Math.floor(L/20),F=s(g,5)+l(G,w,_,k)+M+n[G]+v[L]>>>0;M=k,k=_,_=s(w,30)>>>0,w=g,g=F}u[0]=u[0]+g>>>0,u[1]=u[1]+w>>>0,u[2]=u[2]+_>>>0,u[3]=u[3]+k>>>0,u[4]=u[4]+M>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};c.default=h},{}],535:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l,s=(l=t("./validate.js"))&&l.__esModule?l:{default:l};const h=[];for(let n=0;n<256;++n)h.push((n+256).toString(16).substr(1));var a=function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const p=(h[n[u+0]]+h[n[u+1]]+h[n[u+2]]+h[n[u+3]]+"-"+h[n[u+4]]+h[n[u+5]]+"-"+h[n[u+6]]+h[n[u+7]]+"-"+h[n[u+8]]+h[n[u+9]]+"-"+h[n[u+10]]+h[n[u+11]]+h[n[u+12]]+h[n[u+13]]+h[n[u+14]]+h[n[u+15]]).toLowerCase();if(!(0,s.default)(p))throw TypeError("Stringified UUID is invalid");return p};c.default=a},{"./validate.js":541}],536:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=h(t("./rng.js")),s=h(t("./stringify.js"));function h(d){return d&&d.__esModule?d:{default:d}}let a,n,u=0,p=0;var f=function(d,y,v){let g=y&&v||0;const w=y||new Array(16);let _=(d=d||{}).node||a,k=d.clockseq!==void 0?d.clockseq:n;if(_==null||k==null){const U=d.random||(d.rng||l.default)();_==null&&(_=a=[1|U[0],U[1],U[2],U[3],U[4],U[5]]),k==null&&(k=n=16383&(U[6]<<8|U[7]))}let M=d.msecs!==void 0?d.msecs:Date.now(),L=d.nsecs!==void 0?d.nsecs:p+1;const G=M-u+(L-p)/1e4;if(G<0&&d.clockseq===void 0&&(k=k+1&16383),(G<0||M>u)&&d.nsecs===void 0&&(L=0),L>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=M,p=L,n=k,M+=122192928e5;const F=(1e4*(268435455&M)+L)%4294967296;w[g++]=F>>>24&255,w[g++]=F>>>16&255,w[g++]=F>>>8&255,w[g++]=255&F;const j=M/4294967296*1e4&268435455;w[g++]=j>>>8&255,w[g++]=255&j,w[g++]=j>>>24&15|16,w[g++]=j>>>16&255,w[g++]=k>>>8|128,w[g++]=255&k;for(let U=0;U<6;++U)w[g+U]=_[U];return y||(0,s.default)(w)};c.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=h(t("./v35.js")),s=h(t("./md5.js"));function h(n){return n&&n.__esModule?n:{default:n}}var a=(0,l.default)("v3",48,s.default);c.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(u,p,f){function d(y,v,g,w){if(typeof y=="string"&&(y=(function(k){k=unescape(encodeURIComponent(k));const M=[];for(let L=0;L<k.length;++L)M.push(k.charCodeAt(L));return M})(y)),typeof v=="string"&&(v=(0,s.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _=new Uint8Array(16+y.length);if(_.set(v),_.set(y,v.length),_=f(_),_[6]=15&_[6]|p,_[8]=63&_[8]|128,g){w=w||0;for(let k=0;k<16;++k)g[w+k]=_[k];return g}return(0,l.default)(_)}try{d.name=u}catch{}return d.DNS=a,d.URL=n,d},c.URL=c.DNS=void 0;var l=h(t("./stringify.js")),s=h(t("./parse.js"));function h(u){return u&&u.__esModule?u:{default:u}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";c.DNS=a;const n="6ba7b811-9dad-11d1-80b4-00c04fd430c8";c.URL=n},{"./parse.js":531,"./stringify.js":535}],539:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=h(t("./rng.js")),s=h(t("./stringify.js"));function h(n){return n&&n.__esModule?n:{default:n}}var a=function(n,u,p){const f=(n=n||{}).random||(n.rng||l.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,u){p=p||0;for(let d=0;d<16;++d)u[p+d]=f[d];return u}return(0,s.default)(f)};c.default=a},{"./rng.js":533,"./stringify.js":535}],540:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l=h(t("./v35.js")),s=h(t("./sha1.js"));function h(n){return n&&n.__esModule?n:{default:n}}var a=(0,l.default)("v5",80,s.default);c.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l,s=(l=t("./regex.js"))&&l.__esModule?l:{default:l},h=function(a){return typeof a=="string"&&s.default.test(a)};c.default=h},{"./regex.js":532}],542:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var l,s=(l=t("./validate.js"))&&l.__esModule?l:{default:l},h=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)};c.default=h},{"./validate.js":541}],543:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.CHAR=`	
\r ---`,c.S=` 	\r
`,c.NAME_START_CHAR=":A-Z_a-z-----------",c.NAME_CHAR="-"+c.NAME_START_CHAR+".0-9--",c.CHAR_RE=new RegExp("^["+c.CHAR+"]$","u"),c.S_RE=new RegExp("^["+c.S+"]+$","u"),c.NAME_START_CHAR_RE=new RegExp("^["+c.NAME_START_CHAR+"]$","u"),c.NAME_CHAR_RE=new RegExp("^["+c.NAME_CHAR+"]$","u"),c.NAME_RE=new RegExp("^["+c.NAME_START_CHAR+"]["+c.NAME_CHAR+"]*$","u"),c.NMTOKEN_RE=new RegExp("^["+c.NAME_CHAR+"]+$","u");function l(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}c.S_LIST=[32,10,13,9],c.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},c.isS=function(s){return s===32||s===10||s===13||s===9},c.isNameStartChar=l,c.isNameChar=function(s){return l(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.CHAR="---",c.RESTRICTED_CHAR="-\b\v\f---",c.S=` 	\r
`,c.NAME_START_CHAR=":A-Z_a-z-----------",c.NAME_CHAR="-"+c.NAME_START_CHAR+".0-9--",c.CHAR_RE=new RegExp("^["+c.CHAR+"]$","u"),c.RESTRICTED_CHAR_RE=new RegExp("^["+c.RESTRICTED_CHAR+"]$","u"),c.S_RE=new RegExp("^["+c.S+"]+$","u"),c.NAME_START_CHAR_RE=new RegExp("^["+c.NAME_START_CHAR+"]$","u"),c.NAME_CHAR_RE=new RegExp("^["+c.NAME_CHAR+"]$","u"),c.NAME_RE=new RegExp("^["+c.NAME_START_CHAR+"]["+c.NAME_CHAR+"]*$","u"),c.NMTOKEN_RE=new RegExp("^["+c.NAME_CHAR+"]+$","u");function l(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}c.S_LIST=[32,10,13,9],c.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},c.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},c.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},c.isS=function(s){return s===32||s===10||s===13||s===9},c.isNameStartChar=l,c.isNameChar=function(s){return l(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(t,i,c){function l(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(c,"__esModule",{value:!0}),c.NC_NAME_START_CHAR="A-Z_a-z------------",c.NC_NAME_CHAR="-"+c.NC_NAME_START_CHAR+".0-9--",c.NC_NAME_START_CHAR_RE=new RegExp("^["+c.NC_NAME_START_CHAR+"]$","u"),c.NC_NAME_CHAR_RE=new RegExp("^["+c.NC_NAME_CHAR+"]$","u"),c.NC_NAME_RE=new RegExp("^["+c.NC_NAME_START_CHAR+"]["+c.NC_NAME_CHAR+"]*$","u"),c.isNCNameStartChar=l,c.isNCNameChar=function(s){return l(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(vp)),vp.exports}var hT=cT();const fT=sv(hT);var ph={exports:{}},dT=ph.exports,iv;function pT(){return iv||(iv=1,(function(m,e){(function(t,i){i()})(dT,function(){function t(n,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function i(n,u,p){var f=new XMLHttpRequest;f.open("GET",n),f.responseType="blob",f.onload=function(){a(f.response,u,p)},f.onerror=function(){console.error("could not download file")},f.send()}function c(n){var u=new XMLHttpRequest;u.open("HEAD",n,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function l(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof ir=="object"&&ir.global===ir?ir:void 0,h=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(n,u,p){var f=s.URL||s.webkitURL,d=document.createElement("a");u=u||n.name||"download",d.download=u,d.rel="noopener",typeof n=="string"?(d.href=n,d.origin===location.origin?l(d):c(d.href)?i(n,u,p):l(d,d.target="_blank")):(d.href=f.createObjectURL(n),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){l(d)},0))}:"msSaveOrOpenBlob"in navigator?function(n,u,p){if(u=u||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(t(n,p),u);else if(c(n))i(n,u,p);else{var f=document.createElement("a");f.href=n,f.target="_blank",setTimeout(function(){l(f)})}}:function(n,u,p,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof n=="string")return i(n,u,p);var d=n.type==="application/octet-stream",y=/constructor/i.test(s.HTMLElement)||s.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&y||h)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var k=g.result;k=v?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=k:location=k,f=null},g.readAsDataURL(n)}else{var w=s.URL||s.webkitURL,_=w.createObjectURL(n);f?f.location=_:location.href=_,f=null,setTimeout(function(){w.revokeObjectURL(_)},4e4)}});s.saveAs=a.saveAs=a,m.exports=a})})(ph)),ph.exports}var mT=pT();const gT=({isOpen:m,onClose:e,pastReports:t,hourlyRate:i,setHourlyRate:c,themeClasses:l})=>{if(!m)return null;const[s,h]=Mt.useState([]),a=y=>{s.includes(y)?h(v=>v.filter(g=>g!==y)):h(v=>[...v,y])},n=(y,v)=>{v==="add"?h(g=>{const w=new Set([...g,...y]);return Array.from(w)}):v==="remove"&&h(g=>g.filter(w=>!y.includes(w)))},u=Mt.useMemo(()=>{let y=0,v=0;s.forEach(w=>{const _=t.find(k=>k.id===w);if(_){const k=Xp(_.content);k>0&&(y+=k,v++)}});const g=y*(parseFloat(i)||0);return{totalHours:y,daysCount:v,totalEarnings:g}},[s,t,i]),p=y=>{let v=Math.floor(y),g=Math.round((y-v)*60);return g===60&&(v++,g=0),`${v}h ${g}m`},f=y=>{let v=Math.floor(y),g=Math.round((y-v)*60);return g===60&&(v++,g=0),`${v.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`},d=async()=>{if(s.length===0){alert("Selecciona al menos un da para exportar.");return}const y=parseFloat(i)||0,v=new fT.Workbook,g=v.addWorksheet("Reporte Salarial");g.columns=[{header:"Fecha",key:"date",width:15},{header:"Tiempo Trabajado",key:"time",width:20},{header:"Tarifa por Hora (USD)",key:"rate",width:25},{header:"Total (USD)",key:"total",width:20}],[...s].sort().forEach(L=>{const G=t.find(U=>U.id===L);let F=0;G&&(F=Xp(G.content));const j=F*y;g.addRow({date:L,time:f(F),rate:y,total:j})}),g.addRow({});const _=g.addRow({date:"TOTALES",time:f(u.totalHours),rate:"",total:u.totalEarnings});_.font={bold:!0};const k=await v.xlsx.writeBuffer(),M=new Blob([k],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});mT.saveAs(M,`Reporte_Salario_${Dh()}.xlsx`)};return Y.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:Y.jsxs("div",{className:`relative w-full max-w-lg p-6 rounded-2xl shadow-2xl border-2 modal-content max-h-[90vh] overflow-y-auto ${l.modalBg}`,children:[Y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[Y.jsxs("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-emerald-400 to-teal-400 flex items-center gap-2",children:[Y.jsx("span",{className:"text-3xl",children:""})," Calculadora Salarial "]}),Y.jsx("button",{onClick:e,className:`text-gray-400 hover:${l.primaryText}`,children:""})]}),Y.jsxs("div",{className:`mb-6 p-4 rounded-xl border ${l.itemBg} ${l.inputBorder}`,children:[Y.jsx("label",{className:`block text-sm font-semibold mb-2 ${l.secondaryText}`,children:"Tu Tarifa por Hora ($):"}),Y.jsx("input",{type:"number",value:i,onChange:y=>c(y.target.value),className:`w-full px-4 py-3 rounded-lg bg-gray-900 border text-xl font-mono focus:outline-none focus:ring-2 ${l.inputBorder} ${l.primaryText}`,placeholder:"Ej: 5.50"})]}),Y.jsxs("div",{className:"mb-6",children:[Y.jsx("p",{className:`text-sm mb-2 ${l.secondaryText}`,children:"Selecciona los das a liquidar:"}),Y.jsx(sT,{reports:t,selectedDates:s,onToggleDate:a,onBatchUpdate:n,themeClasses:l})]}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[Y.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center ${l.itemBg} ${l.inputBorder}`,children:[Y.jsx("span",{className:`text-xs uppercase tracking-wide ${l.secondaryText}`,children:"Horas Totales"}),Y.jsx("span",{className:`text-2xl font-bold mt-1 ${l.primaryText}`,children:p(u.totalHours)}),Y.jsxs("span",{className:`text-xs opacity-70 ${l.secondaryText}`,children:["en ",u.daysCount," das"]})]}),Y.jsxs("div",{className:"bg-green-900/40 p-4 rounded-xl border border-green-500 flex flex-col items-center justify-center relative overflow-hidden",children:[Y.jsx("div",{className:"absolute top-0 right-0 p-1 opacity-20",children:Y.jsx("span",{className:"text-4xl",children:""})}),Y.jsx("span",{className:"text-green-300 text-xs uppercase tracking-wide font-bold",children:"Total a Cobrar"}),Y.jsxs("span",{className:"text-3xl font-extrabold text-green-400 mt-1",children:["$",u.totalEarnings.toFixed(2)]})]})]}),Y.jsxs("button",{onClick:d,className:"w-full py-3 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-95 bg-green-700 hover:bg-green-600",children:[Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Exportar a Excel"]})]})})},bT=({isOpen:m,onClose:e,onConfirm:t,themeClasses:i})=>m?Y.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:Y.jsx("div",{className:`relative w-full max-w-sm p-6 rounded-2xl shadow-2xl ${i.modalBg||"bg-gray-800 border-gray-600"} border-2 modal-content`,children:Y.jsxs("div",{className:"flex flex-col items-center text-center animate-pulse",children:[Y.jsx("div",{className:"bg-red-500/20 p-4 rounded-full mb-3 border-2 border-red-500",children:Y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),Y.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Empezar Da Nuevo?"}),Y.jsxs("p",{className:`${i.secondaryText||"text-gray-300"} mb-6 text-sm`,children:["Ests a punto de borrar ",Y.jsx("strong",{children:"todas las tareas"})," de la lista. ",Y.jsx("br",{}),Y.jsx("br",{})," ",Y.jsx("span",{className:"text-xs opacity-70",children:"Asegrate de haber generado tu E.O.D.R. antes de continuar. Esta accin no se puede deshacer."})]}),Y.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[Y.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl font-bold text-white bg-red-600 hover:bg-red-700 transition shadow-lg",children:"S, Limpiar Todo"}),Y.jsx("button",{onClick:e,className:"w-full py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition",children:"Cancelar"})]})]})})}):null,yT=[{id:"default",name:"Concepto: Original",description:"La experiencia base. Diseo limpio.",price:0,category:"theme",icon:""},{id:"lofi",name:"Concepto: Mystic Cafe",description:"Atmsfera mstica. Lluvia, niebla y luces vivas.",price:500,category:"theme",icon:""},{id:"winter",name:"Concepto: Winter Frost",description:"Aurora polar y nieve eterna.",price:500,category:"theme",icon:""},{id:"forest",name:"Concepto: Deep Woods",description:"Bosque antiguo y denso.",price:500,category:"theme",icon:""},{id:"crimson",name:"Concepto: Vampire Lord",description:"Elegancia gtica. Rojo sangre y niebla.",price:600,category:"theme",icon:""},{id:"neko",name:"Concepto: Neko Tokyo",description:"Estilo Cartoon Pop felino.",price:600,category:"theme",icon:""},{id:"neon",name:"Concepto: Cyber City",description:"Inmersin total en nen futurista.",price:650,category:"theme",icon:""},{id:"galaxy",name:"Concepto: Cosmic Voyager",description:"Viaje interestelar. Nebulosas y vaco.",price:1500,category:"theme",icon:""},{id:"royal",name:"Concepto: Royal Treasury",description:"Oro, prpura imperial y riqueza.",price:2e3,category:"theme",icon:""},{id:"border_blue",name:"Azul Elctrico",description:"Azul intenso.",price:50,category:"border",icon:""},{id:"border_red",name:"Rojo Pasin",description:"Rojo intenso.",price:50,category:"border",icon:""},{id:"border_green",name:"Verde Matrix",description:"Verde digital.",price:50,category:"border",icon:""},{id:"border_neon",name:"Ultra Nen",description:"Resplandor pulsante.",price:200,category:"border",icon:""},{id:"border_rgb",name:"RGB Gamer",description:"Luces LED animadas.",price:250,category:"border",icon:""},{id:"border_glitch",name:"Cyber Glitch",description:"Error digital.",price:250,category:"border",icon:""},{id:"border_electric",name:"Electro Shock",description:"Alto voltaje inestable.",price:300,category:"border",icon:""},{id:"border_fire",name:"Fuego Mstico",description:"Llamas animadas.",price:350,category:"border",icon:""},{id:"border_gold",name:"Marco de Oro",description:"Oro slido. Solo para el Top 1%.",price:2500,category:"border",icon:""},{id:"rain",name:"Lluvia",description:"Capa de lluvia suave.",price:100,category:"effect",icon:""},{id:"snow_effect",name:"Nieve",description:"Nevada invernal.",price:150,category:"effect",icon:""},{id:"lofi_notes",name:"Notas Musicales",description:"Meloda visual flotante.",price:300,category:"effect",icon:""},{id:"forest_flora",name:"Bosque Vivo",description:"Lucirnagas y hojas cayendo.",price:350,category:"effect",icon:""},{id:"cozy_lights",name:"Luces Cozy",description:"Orbes clidos y mgicos.",price:400,category:"effect",icon:""},{id:"mystic_fog",name:"Niebla Mstica",description:"Bruma densa y misteriosa.",price:600,category:"effect",icon:""},{id:"shooting_stars",name:"Lluvia de Estrellas",description:"Meteoritos cruzando el cielo.",price:800,category:"effect",icon:""},{id:"golden_dust",name:"Polvo de Oro",description:"Partculas de riqueza flotante.",price:1e3,category:"effect",icon:""},{id:"matrix_effect",name:"Matrix Code",description:"El cdigo fuente real.",price:1200,category:"effect",icon:""}],vT=({isOpen:m,onClose:e,userCoins:t,ownedItems:i,currentTheme:c,activePet:l,activeBorder:s,activeEffect:h,onBuy:a,onEquip:n,onPreview:u})=>{const[p,f]=Mt.useState("theme");if(!m)return null;const d=yT.filter(w=>w.category===p),y=w=>i.includes(w)||w==="default",v=w=>w.category==="theme"?c===w.id:w.category==="pet"?l===w.id:w.category==="border"?s===w.id:w.category==="effect"?h===w.id:!1,g=[{id:"theme",label:"Temas",icon:""},{id:"border",label:"Marcos",icon:""},{id:"effect",label:"Efectos",icon:""}];return Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-md animate-fadeIn",children:Y.jsxs("div",{className:"w-full max-w-6xl bg-[#0B0F19] rounded-3xl shadow-2xl border border-white/5 flex flex-col max-h-[85vh] overflow-hidden relative",children:[Y.jsxs("div",{className:"px-8 py-5 border-b border-white/5 flex justify-between items-center shrink-0 bg-black/20",children:[Y.jsxs("div",{children:[Y.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-200 to-white tracking-tight",children:"Tienda LofiDex"}),Y.jsx("p",{className:"text-slate-400 text-xs mt-0.5 font-light",children:"Mejora tu espacio de trabajo"})]}),Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsxs("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-1.5 rounded-full border border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.15)]",children:[Y.jsx("div",{className:"w-8 h-8 bg-[#d1c4e9] rounded-full flex items-center justify-center overflow-hidden shadow-sm border border-white/20",children:Y.jsx("img",{src:Bw,alt:"Lofi Coins",className:"w-full h-full object-cover transform scale-[1.7]"})}),Y.jsxs("div",{className:"flex flex-col items-start mr-1",children:[Y.jsx("span",{className:"text-[9px] font-bold text-purple-300 uppercase tracking-wider leading-none opacity-80",children:"COINS"}),Y.jsx("span",{className:"text-lg font-bold text-white leading-none",children:t})]})]}),Y.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white flex items-center justify-center transition-all duration-300 border border-white/5",children:""})]})]}),Y.jsx("div",{className:"flex px-6 py-4 gap-3 shrink-0 bg-white/[0.02]",children:g.map(w=>Y.jsxs("button",{onClick:()=>f(w.id),className:`flex items-center gap-2 px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 border ${p===w.id?"bg-purple-600/20 border-purple-500/50 text-purple-100 shadow-[0_0_10px_rgba(147,51,234,0.1)]":"bg-transparent border-transparent text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[Y.jsx("span",{className:"text-base",children:w.icon}),w.label]},w.id))}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:Y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(w=>{const _=y(w.id),k=v(w);return Y.jsxs("div",{className:`group relative p-4 rounded-2xl border transition-all duration-300 flex flex-col h-full bg-gradient-to-b from-white/[0.03] to-transparent hover:from-white/[0.07] hover:to-white/[0.02] hover:-translate-y-1 ${k?"border-green-500/50 shadow-[0_0_20px_rgba(34,197,94,0.1)]":"border-white/5 hover:border-white/20 hover:shadow-lg"}`,children:[Y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Y.jsx("div",{className:"w-10 h-10 rounded-xl bg-black/40 flex items-center justify-center text-2xl border border-white/5 shadow-inner",children:w.icon}),k&&Y.jsx("span",{className:"bg-green-500/20 text-green-300 text-[10px] font-bold px-2 py-0.5 rounded-full border border-green-500/30 uppercase tracking-wide",children:"En uso"}),_&&!k&&Y.jsx("span",{className:"bg-blue-500/20 text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-full border border-blue-500/30 uppercase tracking-wide",children:"Adquirido"})]}),Y.jsx("h3",{className:"font-semibold text-white text-sm tracking-wide mb-1 group-hover:text-purple-300 transition-colors",children:w.name}),Y.jsx("p",{className:"text-slate-400 text-xs leading-relaxed mb-4 flex-1 line-clamp-2",children:w.description}),Y.jsx("div",{className:"mt-auto pt-3 border-t border-white/5",children:_?Y.jsx("button",{onClick:()=>n(w),className:`w-full py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all ${k?"bg-white/5 text-slate-500 cursor-default":"bg-blue-600/80 hover:bg-blue-500 text-white shadow-md"}`,children:k?"Equipado":"Equipar"}):Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx("button",{onClick:()=>u(w),className:"px-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-slate-300 hover:text-white border border-white/5 transition-colors",title:"Vista previa",children:""}),Y.jsxs("button",{onClick:()=>a(w),className:"flex-1 py-2 rounded-lg bg-gradient-to-r from-violet-700 to-indigo-700 hover:from-violet-600 hover:to-indigo-600 text-white shadow-lg flex items-center justify-center gap-2 group/btn transition-all border border-white/10",children:[Y.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Comprar"}),Y.jsx("span",{className:"bg-black/30 px-1.5 py-0.5 rounded text-[10px] font-mono text-violet-200 group-hover/btn:text-white",children:w.price})]})]})})]},w.id)})})}),Y.jsx("div",{className:"py-3 bg-black/40 border-t border-white/5 text-center shrink-0",children:Y.jsx("p",{className:"text-[10px] text-slate-600 uppercase tracking-widest",children:"LofiDex Marketplace"})})]})})},wp=["Columna CONFIRMADO","Columna UPSELL","Columna DATOS ENTREGA","Columna RESPONDER","Columna REMINDER","Chat en vivo (filtro Pendiente)","Columna LATE VERIFICATION","Chat en vivo (filtro Abiertos)","Ordenes confirmadas sheet (CHECK info)","CHAT Pending Orders","CALL Pending Orders","Facebook/Instagram Comments & Chats"],wT=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],_T={Lunes:"Monday",Martes:"Tuesday",Mircoles:"Wednesday",Jueves:"Thursday",Viernes:"Friday",Sbado:"Saturday",Domingo:"Sunday"},xT=({onLogout:m,currentUserTeam:e,isAdmin:t})=>{const i=Mt.useMemo(()=>{const ot={team1:["Tienda Lujosa","Clara Tienda","Bella Divina"],team2:["Clara Tierra"],all:["Tienda Lujosa","Clara Tienda","Bella Divina","Clara Tierra"]};if(t)return ot.all;const wt=e?.replace("_","")||"team1";return ot[wt]||ot.team1},[e,t]),[c,l]=Mt.useState("planner"),[s,h]=Mt.useState([]),[a,n]=Mt.useState("Lunes"),[u,p]=Mt.useState({}),[f,d]=Mt.useState(null),[y,v]=Mt.useState({}),g=Pw(),[w,_]=Mt.useState([]),[k,M]=Mt.useState(!1),[L,G]=Mt.useState([]),[F,j]=Mt.useState(new Date().toISOString().split("T")[0]),[U,q]=Mt.useState("daily"),[X,$]=Mt.useState("ALL"),[R,P]=Mt.useState(e),[C,x]=Mt.useState(null),[S,T]=Mt.useState(!1),[E,N]=Mt.useState([]),[I,B]=Mt.useState(wp),[K,Z]=Mt.useState(()=>{try{return JSON.parse(localStorage.getItem("specificTaskGoals"))||{}}catch{return{}}}),[nt,H]=Mt.useState(!1),[tt,V]=Mt.useState(""),[D,Q]=Mt.useState([]),[it,ht]=Mt.useState(!1),[st,ut]=Mt.useState(!1),[yt,bt]=Mt.useState(""),[at,pt]=Mt.useState(!1),[dt,vt]=Mt.useState(!1),[xt,Et]=Mt.useState(""),[It,Nt]=Mt.useState("monday"),[$t,se]=Mt.useState([]),[re,Zt]=Mt.useState(""),[te,we]=Mt.useState("info"),[_e,Se]=Mt.useState([]),[ee,Ft]=Mt.useState(null),[ie,ae]=Mt.useState([]),[he,Le]=Mt.useState(null),[Fe,ge]=Mt.useState({role:"",team:""}),[Ge,Ee]=Mt.useState(0);Mt.useEffect(()=>{(async()=>{const jt=(await su(xn(nr,"users"))).docs.map(le=>({id:le.id,...le.data()}));ae(jt),h(jt);try{const le=Mr(nr,"weekly_plans",g),Qt=await Wm(le);Qt.exists()&&p(Qt.data().plan||{})}catch(le){console.error("Error loading plan:",le)}try{const le=ds(xn(nr,"weekly_schedules"),fs("weekId","==",g)),Qt=await su(le),be={};Qt.docs.forEach(Ne=>{be[Ne.data().uid]=Ne.data().schedule}),v(be)}catch(le){console.error("Error loading schedules:",le)}const Xt=$a(ds(xn(nr,"schedule_requests"),fs("status","==","pending")),le=>{_(le.docs.map(Qt=>({id:Qt.id,...Qt.data()})))}),Ut=$a(ds(xn(nr,"news_ticker"),jh("createdAt","desc")),le=>se(le.docs.map(Qt=>({id:Qt.id,...Qt.data()})))),Gt=$a(xn(nr,"training_modules"),le=>Se(le.docs.map(Qt=>({id:Qt.id,...Qt.data()}))));return c==="dashboard"&&ke(),(c==="ideas"||c==="dev")&&qe(),()=>{Xt(),Ut(),Gt()}})()},[c,g,F,R,U]);const Ae=(ot,wt)=>{d(wt),ot.dataTransfer.setData("agent",JSON.stringify(wt))},Qe=async(ot,wt,jt)=>{ot.preventDefault();try{const Xt=JSON.parse(ot.dataTransfer.getData("agent")),Ut={...u};Ut[a]||(Ut[a]={}),Ut[a][wt]||(Ut[a][wt]={}),Ut[a][wt][jt]||(Ut[a][wt][jt]=[]);const Gt=Ut[a][wt][jt];Xt.id==="ALL"?s.forEach(le=>{Gt.find(Qt=>Qt.id===le.id)||Gt.push({id:le.id,name:le.name||le.email})}):Gt.find(le=>le.id===Xt.id)||Gt.push({id:Xt.id,name:Xt.name||Xt.email}),p(Ut),await ta(Mr(nr,"weekly_plans",g),{weekId:g,plan:Ut,updatedAt:Date.now()},{merge:!0})}catch(Xt){console.error(Xt),alert("Error de permisos.")}},Be=async(ot,wt,jt)=>{const Xt={...u};Xt[a][ot][wt]=Xt[a][ot][wt].filter(Ut=>Ut.id!==jt),p(Xt);try{await ta(Mr(nr,"weekly_plans",g),{plan:Xt},{merge:!0})}catch(Ut){console.error(Ut)}},ke=async()=>{T(!0),G([]),N([]);try{const ot=He(),wt=xn(nr,"daily_reports");let jt=R==="ALL_TEAMS"?ds(wt,fs("date",">=",ot.start),fs("date","<=",ot.end)):ds(wt,fs("team","==",R),fs("date",">=",ot.start),fs("date","<=",ot.end));const Ut=(await su(jt)).docs.map(Qt=>({id:Qt.id,...Qt.data()}));G(Ut);const Gt={};Ut.forEach(Qt=>{Gt[Qt.uid]||(Gt[Qt.uid]={id:Qt.uid,uid:Qt.uid,userName:Qt.userName,team:Qt.team,totalTasks:0,totalTimeMs:0,taskBreakdownMap:{},lastUpdate:Qt.timestampStr});const be=Gt[Qt.uid];be.totalTasks+=Qt.metrics?.totalTasks||0,be.totalTimeMs+=Qt.metrics?.totalTimeMs||0,be.lastUpdate=Qt.timestampStr||xe(Qt.date),Qt.taskBreakdown&&Qt.taskBreakdown.forEach(Ne=>{be.taskBreakdownMap[Ne.name]||(be.taskBreakdownMap[Ne.name]={count:0,timeMs:0}),be.taskBreakdownMap[Ne.name].count+=Ne.count||0,be.taskBreakdownMap[Ne.name].timeMs+=Ne.timeMs||0})});const le=Object.values(Gt).map(Qt=>{const be=Object.entries(Qt.taskBreakdownMap).map(([Br,$e])=>{const an=$e.timeMs/36e5;return{name:Br,count:$e.count,timeMs:$e.timeMs,speed:an>0?($e.count/an).toFixed(2):"0.00"}}),Ne=Qt.totalTimeMs/36e5,xr=Ne>0?(Qt.totalTasks/Ne).toFixed(2):"0.00";return{...Qt,metrics:{totalTasks:Qt.totalTasks,totalTimeMs:Qt.totalTimeMs,globalSpeed:xr},taskBreakdown:be,timestampStr:Qt.lastUpdate}});N(le)}catch(ot){console.error("Error cargando reportes:",ot)}T(!1)},qe=async()=>{ht(!0);try{let ot=ds(xn(nr,"monday_ideas"),jh("timestamp","desc")),jt=(await su(ot)).docs.map(Xt=>({id:Xt.id,...Xt.data()}));t||(jt=jt.filter(Xt=>Xt.type!=="dev")),Q(jt)}catch(ot){console.error(ot)}ht(!1)},He=()=>{const[ot,wt,jt]=F.split("-"),Xt=new Date(parseInt(ot),parseInt(wt)-1,parseInt(jt)),Ut=Gt=>`${Gt.getFullYear()}-${String(Gt.getMonth()+1).padStart(2,"0")}-${String(Gt.getDate()).padStart(2,"0")}`;if(U==="daily")return{start:F,end:F};if(U==="weekly"){const Gt=Xt.getDay(),le=Xt.getDate()-Gt+(Gt===0?-6:1),Qt=new Date(Xt);Qt.setDate(le),Qt.setHours(0,0,0,0);const be=new Date(Qt);return be.setDate(Qt.getDate()+6),be.setHours(23,59,59,999),{start:Ut(Qt),end:Ut(be),startDateObj:Qt,endDateObj:be}}if(U==="monthly"){const Gt=new Date(Xt.getFullYear(),Xt.getMonth(),1),le=new Date(Xt.getFullYear(),Xt.getMonth()+1,0);return{start:Ut(Gt),end:Ut(le),startDateObj:Gt,endDateObj:le}}return{start:F,end:F}},xe=ot=>{if(!ot)return"-";if(ot.includes("/"))return ot;const[wt,jt,Xt]=ot.split("-");return`${Xt}/${jt}/${wt}`},Xe=(ot,wt)=>{if(wt===-1||wt===void 0)return"text-blue-400 font-normal italic";const jt=parseFloat(ot)||0,Xt=parseFloat(wt)||1;return jt>=Xt?"text-green-400 font-bold drop-shadow-[0_0_5px_rgba(74,222,128,0.5)]":jt>=Xt*.7?"text-yellow-400 font-bold":"text-red-500 font-bold drop-shadow-[0_0_5px_rgba(239,68,68,0.5)]"},Je=(ot,wt)=>{const jt={...K,[ot]:parseFloat(wt)};Z(jt),localStorage.setItem("specificTaskGoals",JSON.stringify(jt))},Oe=ot=>{const wt=K[ot];Je(ot,wt===-1?0:-1)},gt=()=>{tt.trim()&&!I.includes(tt)&&B(ot=>[...ot,tt].sort()),V("")},Tt=ot=>x(C===ot?null:ot),Pt=ot=>{if(!ot)return"0h 0m";const wt=Math.floor(ot/36e5),jt=Math.floor(ot%36e5/6e4);return`${wt}h ${jt}m`},ne=()=>{const ot=He();let wt=D;if(c==="ideas"?wt=wt.filter(jt=>jt.type==="monday"):c==="dev"&&(wt=wt.filter(jt=>jt.type==="dev")),U!=="daily"){const jt=ot.startDateObj?ot.startDateObj.getTime():0,Xt=ot.endDateObj?ot.endDateObj.getTime():9999999999999;wt=wt.filter(Ut=>Ut.timestamp>=jt&&Ut.timestamp<=Xt)}return wt=wt.filter(jt=>at?jt.isArchived:!jt.isArchived),wt};Mt.useEffect(()=>{const ot=new Set([...wp,...I,...Object.keys(K)]);E.forEach(jt=>jt.taskBreakdown?.forEach(Xt=>ot.add(Xt.name)));const wt=Array.from(ot).sort();wt.length!==I.length&&B(wt)},[E,nt]);const ye=async()=>{re&&(await Wo(xn(nr,"news_ticker"),{text:re,type:te,createdAt:Date.now()}),Zt(""))},Jt=async ot=>{await Zl(Mr(nr,"news_ticker",ot))},fe=async ot=>{const wt={...ot,active:!0,version:ot.version||1};ot.id?(ot.isMajorUpdate&&(wt.version+=1),await zi(Mr(nr,"training_modules",ot.id),wt)):await Wo(xn(nr,"training_modules"),wt),Ft(null)},oe=async ot=>{window.confirm("Borrar?")&&await Zl(Mr(nr,"training_modules",ot))},ce=async ot=>{await zi(Mr(nr,"training_modules",ot.id),{active:!ot.active})},Me=async ot=>{try{await ta(Mr(nr,"weekly_schedules",`${ot.uid}_${ot.weekId}`),{uid:ot.uid,userName:ot.userName,weekId:ot.weekId,schedule:ot.proposedSchedule,updatedAt:Date.now()}),await Zl(Mr(nr,"schedule_requests",ot.id)),alert(" Solicitud Aprobada")}catch{alert("Error al aprobar.")}},Ie=async ot=>{if(window.confirm("Rechazar?"))try{await Zl(Mr(nr,"schedule_requests",ot))}catch{alert("Error al rechazar.")}},Ve=()=>{const wt=D.filter(Ut=>Ut.type==="monday"&&!Ut.isArchived).filter(Ut=>Ut.status==="approved");if(wt.length===0){alert("No hay ideas aprobadas.");return}const jt=He();let Xt=` *RESUMEN DE IDEAS*
 Periodo: ${jt.start} al ${jt.end}


`;wt.forEach((Ut,Gt)=>{Xt+=` *TEMA #${Gt+1}* (${Ut.userName})
 "${Ut.content}"

`}),bt(Xt),ut(!0)},yr=async()=>{if(!xt.trim())return;const ot=ev.currentUser;if(!ot)return;const jt=new Date().toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Xt={uid:ot.uid,userName:ot.displayName||ot.email||"Admin",team:e||"admin",content:xt,type:It,timestamp:Date.now(),timestampStr:jt,analysis:{pros:"",cons:""},status:"new",isArchived:!1};try{await Wo(xn(nr,"monday_ideas"),Xt),Et(""),alert("Enviado."),vt(!1),qe()}catch{alert("Error.")}},Ze=async(ot,wt)=>{if(ot.status==="new"){if(!ot.uid){alert("Error: La idea no tiene UID asociado.");return}try{if(wt==="approved"){await zi(Mr(nr,"monday_ideas",ot.id),{status:"approved"});const jt=Mr(nr,"users",ot.uid,"data","wallet");await ta(jt,{val:{value:Lo(50),coins:Lo(50),lofiCoins:Lo(50)}},{merge:!0}),alert(" Aprobada +50 Coins (Solo en 'val')")}else await zi(Mr(nr,"monday_ideas",ot.id),{status:"rejected"}),alert("Rechazada.");Q(jt=>jt.map(Xt=>Xt.id===ot.id?{...Xt,status:wt}:Xt))}catch(jt){console.error("Error completo:",jt),alert(`Error: ${jt.message}`)}}},zt=async ot=>{if(window.confirm("Archivar?"))try{await zi(Mr(nr,"monday_ideas",ot),{isArchived:!0}),Q(wt=>wt.map(jt=>jt.id===ot?{...jt,isArchived:!0}:jt))}catch{alert("Error.")}},de=async ot=>{try{await zi(Mr(nr,"monday_ideas",ot),{isArchived:!1}),Q(wt=>wt.map(jt=>jt.id===ot?{...jt,isArchived:!1}:jt))}catch{alert("Error.")}},Re=async ot=>{if(window.confirm(" ELIMINAR DEFINITIVAMENTE?"))try{await Zl(Mr(nr,"monday_ideas",ot)),Q(wt=>wt.filter(jt=>jt.id!==ot))}catch{alert("Error.")}},ct=async(ot,wt)=>{try{await zi(Mr(nr,"monday_ideas",ot),{analysis:wt}),alert("Guardado.")}catch{alert("Error.")}},St=(ot,wt,jt)=>{Q(Xt=>Xt.map(Ut=>Ut.id===ot?{...Ut,analysis:{...Ut.analysis||{pros:"",cons:""},[wt]:jt}}:Ut))},Lt=ot=>{Le(ot.id),ge({role:ot.role||"agent",team:ot.team||"default"})},Kt=async ot=>{if(ot===ev.currentUser.uid&&Fe.role!=="admin"){alert("No puedes quitarte tus permisos.");return}try{await zi(Mr(nr,"users",ot),{role:Fe.role,team:Fe.team}),ae(wt=>wt.map(jt=>jt.id===ot?{...jt,...Fe}:jt)),Le(null),alert("Guardado.")}catch{alert("Error al guardar.")}},pe=async ot=>{const wt=parseInt(Ge);if(!wt||isNaN(wt)||wt===0)return alert("Ingresa una cantidad vlida.");if(!ot)return alert("Error: ID de usuario invlido.");try{const jt=Mr(nr,"users",ot,"data","wallet");await ta(jt,{val:{value:Lo(wt),coins:Lo(wt),lofiCoins:Lo(wt)}},{merge:!0}),alert(` Se enviaron ${wt} monedas (Solo en 'val').`),Ee(0)}catch(jt){console.error("Error al enviar puntos:",jt),alert(`Error: ${jt.message}`)}};return Y.jsxs("div",{className:"min-h-screen w-full bg-slate-950 text-white font-inter animate-fadeIn pb-20 relative overflow-x-hidden selection:bg-indigo-500 selection:text-white",children:[Y.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-900/30 via-slate-950 to-black pointer-events-none"}),Y.jsx("div",{className:"relative z-10 w-full bg-slate-900/80 backdrop-blur-md border-b border-white/5 sticky top-0 shadow-2xl",children:Y.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-indigo-500/30",children:Y.jsx("span",{className:"text-xl",children:""})}),Y.jsxs("div",{children:[Y.jsx("h1",{className:"text-xl font-bold tracking-tight text-white uppercase",children:"Nexus Control"}),Y.jsx("p",{className:"text-[10px] text-slate-400 font-mono tracking-widest uppercase",children:t?"Administrator Access":"Team Leader Access"})]})]}),Y.jsxs("div",{className:"flex gap-3",children:[Y.jsxs("button",{onClick:()=>H(!0),className:"px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-300 text-xs font-bold border border-white/5 transition-all flex items-center gap-2 hover:text-white",children:[Y.jsx("span",{children:""})," METAS"]}),Y.jsx("button",{onClick:m,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold border border-blue-500/20 transition-all flex items-center gap-2",children:" ATRS"})]})]})}),Y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto p-4 md:p-8",children:[Y.jsx("div",{className:"flex flex-wrap gap-2 mb-8 p-1 bg-slate-900/50 backdrop-blur rounded-xl border border-white/5 w-fit",children:["dashboard","planner","news","academy","ideas",t?"dev":null,t?"users":null].filter(Boolean).map(ot=>Y.jsx("button",{onClick:()=>l(ot),className:`px-5 py-2.5 rounded-lg font-bold text-xs uppercase tracking-wide transition-all ${c===ot?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/50":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:{dashboard:" Reportes",planner:" Planner",news:" Noticias",academy:" Academy",ideas:" Ideas",dev:" Dev Tickets",users:" Usuarios"}[ot]},ot))}),c==="dashboard"&&Y.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[Y.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 bg-slate-900 border border-white/10 p-4 rounded-xl shadow-xl",children:[Y.jsxs("div",{className:"flex items-center gap-3 w-full xl:w-auto bg-black/30 p-1.5 rounded-lg border border-white/5",children:[Y.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase px-2",children:"Filtrar:"}),Y.jsxs("select",{value:X,onChange:ot=>$(ot.target.value),className:"bg-transparent text-white text-xs font-bold outline-none w-full xl:w-64 cursor-pointer hover:text-indigo-400 transition-colors",children:[Y.jsx("option",{value:"ALL",className:"bg-slate-900",children:" TODAS LAS TAREAS"}),I.map(ot=>Y.jsx("option",{value:ot,className:"bg-slate-900",children:ot},ot))]})]}),Y.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full xl:w-auto",children:[Y.jsx("div",{className:"flex bg-black/30 rounded-lg p-1 border border-white/5",children:["daily","weekly","monthly"].map(ot=>Y.jsx("button",{onClick:()=>q(ot),className:`px-3 py-1.5 rounded text-[10px] font-bold uppercase transition-all ${U===ot?"bg-indigo-600 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:{daily:"Da",weekly:"Semana",monthly:"Mes"}[ot]},ot))}),Y.jsxs("div",{className:"relative group",children:[Y.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Y.jsx("span",{className:"text-indigo-400 text-xs",children:""})}),Y.jsx("input",{type:"date",value:F,onChange:ot=>j(ot.target.value),className:"bg-black/30 border border-white/10 text-white text-xs font-bold rounded-lg py-2 pl-9 pr-3 outline-none focus:border-indigo-500 transition-all cursor-pointer hover:bg-black/50"})]}),Y.jsx("button",{onClick:ke,disabled:S,className:"bg-indigo-600 hover:bg-indigo-500 text-white p-2 rounded-lg transition-all shadow-lg active:scale-95 border border-indigo-400/50",children:S?"...":""})]})]}),Y.jsx("div",{className:"bg-slate-900/50 backdrop-blur border border-white/5 rounded-2xl overflow-hidden shadow-2xl",children:Y.jsx("div",{className:"overflow-x-auto",children:Y.jsxs("table",{className:"w-full text-left border-collapse",children:[Y.jsx("thead",{children:Y.jsxs("tr",{className:"bg-black/40 text-slate-400 text-[10px] uppercase tracking-wider border-b border-white/5",children:[Y.jsx("th",{className:"p-5 font-bold",children:"Agente"}),Y.jsx("th",{className:"p-5 font-bold text-center",children:"Tareas"}),Y.jsx("th",{className:"p-5 font-bold text-center text-indigo-400",children:"Velocidad"}),Y.jsx("th",{className:"p-5 font-bold text-center",children:"Tiempo"}),Y.jsx("th",{className:"p-5 font-bold text-center",children:"Estado"}),Y.jsx("th",{className:"p-5 text-right",children:"Accin"})]})}),Y.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:E.length>0?E.map(ot=>{let wt=ot.metrics.totalTasks,jt=ot.metrics.globalSpeed,Xt=ot.metrics.totalTimeMs,Ut="text-slate-300";if(X!=="ALL"){const Gt=ot.taskBreakdown.find(le=>le.name===X);if(Gt){wt=Gt.count,jt=Gt.speed,Xt=Gt.timeMs;let le=K[X];le===void 0&&(le=-1),Ut=Xe(jt,le)}else wt=0,jt="0.00",Xt=0,Ut="text-slate-600"}else Ut="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 font-bold";return Y.jsxs(v3.Fragment,{children:[Y.jsxs("tr",{className:"hover:bg-white/[0.03] transition-colors group cursor-pointer",onClick:()=>Tt(ot.id),children:[Y.jsxs("td",{className:"p-5 font-medium text-slate-200 flex items-center gap-3",children:[Y.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-800 border border-white/5 flex items-center justify-center text-xs text-indigo-400 font-bold",children:ot.userName?.charAt(0)||"?"}),Y.jsxs("div",{children:[Y.jsx("div",{children:ot.userName}),R==="ALL_TEAMS"&&Y.jsx("div",{className:"text-[9px] text-slate-500 uppercase",children:ot.team})]})]}),Y.jsx("td",{className:"p-5 text-center font-mono text-slate-300",children:wt}),Y.jsxs("td",{className:"p-5 text-center",children:[Y.jsx("span",{className:`text-lg ${Ut}`,children:jt}),Y.jsx("span",{className:"text-[10px] text-slate-600 ml-1",children:"/h"})]}),Y.jsx("td",{className:"p-5 text-center text-slate-500 font-mono",children:Pt(Xt)}),Y.jsx("td",{className:"p-5 text-center",children:Y.jsx("span",{className:"bg-green-900/30 text-green-400 text-[10px] px-2 py-1 rounded border border-green-500/20",children:"ACTIVO"})}),Y.jsx("td",{className:"p-5 text-right",children:Y.jsx("button",{className:"text-[10px] bg-white/5 hover:bg-white/10 text-slate-400 px-3 py-1.5 rounded transition-all",children:C===ot.id?"Cerrar ":"Ver "})})]}),C===ot.id&&Y.jsx("tr",{className:"bg-black/30",children:Y.jsx("td",{colSpan:6,className:"p-4",children:Y.jsxs("div",{className:"bg-slate-900 rounded-xl p-4 border border-white/5 shadow-inner",children:[Y.jsx("h4",{className:"text-xs font-bold text-slate-500 mb-3 uppercase flex items-center gap-2",children:" Desglose Detallado"}),ot.taskBreakdown?.length>0?Y.jsxs("table",{className:"w-full text-xs",children:[Y.jsx("thead",{children:Y.jsxs("tr",{className:"text-slate-600 border-b border-white/5 text-left",children:[Y.jsx("th",{className:"pb-2 pl-2",children:"Tarea"}),Y.jsx("th",{className:"pb-2 text-center",children:"Cant."}),Y.jsx("th",{className:"pb-2 text-center",children:"Tiempo"}),Y.jsx("th",{className:"pb-2 text-right pr-4",children:"Rendimiento"})]})}),Y.jsx("tbody",{className:"divide-y divide-white/5",children:ot.taskBreakdown.map((Gt,le)=>{let Qt=K[Gt.name];Qt===void 0&&(Qt=-1);const be=Xe(Gt.speed,Qt),Ne=Qt===-1;return Y.jsxs("tr",{className:`text-slate-300 hover:bg-white/5 transition-colors ${X===Gt.name?"bg-indigo-900/20":""}`,children:[Y.jsx("td",{className:"py-2 pl-2 font-medium",children:Gt.name}),Y.jsx("td",{className:"py-2 text-center font-mono text-slate-500",children:Gt.count}),Y.jsx("td",{className:"py-2 text-center font-mono text-slate-500",children:Pt(Gt.timeMs)}),Y.jsxs("td",{className:"py-2 text-right pr-4",children:[Y.jsxs("span",{className:be,children:[Gt.speed," /h"]})," ",Y.jsx("span",{className:"text-[9px] text-slate-600 ml-1",children:Ne?"":`(Meta: ${Qt})`})]})]},le)})})]}):Y.jsx("p",{className:"text-xs text-slate-500 italic",children:"Sin datos."})]})})})]},ot.id)}):Y.jsx("tr",{children:Y.jsx("td",{colSpan:6,className:"p-12 text-center text-slate-500 text-sm italic border-t border-white/5",children:S?"Cargando datos...":"No hay actividad registrada en este periodo."})})})]})})})]}),c==="planner"&&Y.jsxs("div",{className:"flex gap-6 h-[75vh] animate-fadeIn",children:[Y.jsxs("div",{className:"w-64 min-w-[250px] bg-slate-900 border border-white/10 rounded-xl p-4 overflow-y-auto flex flex-col gap-2",children:[Y.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Mi Squad"}),Y.jsxs("div",{draggable:!0,onDragStart:ot=>Ae(ot,{id:"ALL",name:"TODOS"}),className:"bg-yellow-600 hover:bg-yellow-500 text-white p-3 rounded-lg cursor-grab active:cursor-grabbing font-bold text-center border border-yellow-400 shadow-lg mb-4 flex items-center justify-center gap-2",children:[Y.jsx("span",{children:""})," ASIGNAR A TODOS"]}),s.map(ot=>{const wt=_T[a],jt=y[ot.id],Xt=jt?jt[wt]:null;let Ut=Y.jsx("span",{className:"text-[9px] text-slate-600",children:"?"});return Xt&&(Xt.off?Ut=Y.jsx("span",{className:"text-[9px] bg-red-900/40 text-red-400 px-1 rounded font-bold border border-red-500/20",children:"OFF"}):Ut=Y.jsxs("span",{className:"text-[9px] bg-green-900/40 text-green-400 px-1 rounded font-bold border border-green-500/20",children:[Xt.hours,"h"]})),Y.jsxs("div",{draggable:!0,onDragStart:Gt=>Ae(Gt,{id:ot.id,name:ot.name||ot.email}),className:"bg-slate-800 hover:bg-slate-700 p-3 rounded-lg cursor-grab active:cursor-grabbing border border-white/5 flex items-center gap-3 transition-colors",children:[Y.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center font-bold text-xs text-white",children:(ot.name||ot.email).substring(0,2).toUpperCase()}),Y.jsxs("div",{className:"flex-1 min-w-0",children:[Y.jsx("div",{className:"text-sm truncate font-medium text-slate-300",children:ot.name||ot.email}),Y.jsx("div",{className:"flex justify-end",children:Ut})]})]},ot.id)}),Y.jsxs("button",{onClick:()=>M(!0),className:"w-full mt-auto bg-blue-900/30 text-blue-400 border border-blue-500/30 rounded py-3 text-xs font-bold hover:bg-blue-900/50 transition",children:[" Solicitudes (",w.length,")"]})]}),Y.jsxs("div",{className:"flex-1 flex flex-col bg-slate-900 border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[Y.jsx("div",{className:"flex bg-black/40 border-b border-white/10",children:wT.map(ot=>Y.jsx("button",{onClick:()=>n(ot),className:`flex-1 py-3 text-xs font-bold uppercase transition-colors ${a===ot?"bg-indigo-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:ot},ot))}),Y.jsx("div",{className:"flex-1 overflow-auto p-4 bg-[#0b0e14]",children:Y.jsxs("table",{className:"w-full border-collapse",children:[Y.jsx("thead",{children:Y.jsxs("tr",{children:[Y.jsx("th",{className:"text-left p-3 text-slate-500 text-xs uppercase w-48 min-w-[200px] border-b border-white/10 sticky top-0 bg-[#0b0e14] z-10",children:"Tarea"}),i.map(ot=>Y.jsx("th",{className:"p-3 text-indigo-400 text-xs uppercase border-l border-white/5 min-w-[180px] text-center border-b border-white/10 sticky top-0 bg-[#0b0e14] z-10",children:ot},ot))]})}),Y.jsx("tbody",{children:wp.map(ot=>Y.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[Y.jsx("td",{className:"p-3 text-xs font-medium text-slate-300",children:ot}),i.map(wt=>Y.jsx("td",{onDragOver:jt=>jt.preventDefault(),onDrop:jt=>Qe(jt,ot,wt),className:"p-2 border-l border-white/5 min-h-[50px] relative hover:bg-white/5 transition-colors",children:Y.jsxs("div",{className:"min-h-[40px] rounded p-1 flex flex-wrap gap-1",children:[u[a]?.[ot]?.[wt]?.map(jt=>Y.jsxs("div",{className:"bg-indigo-600/30 text-indigo-200 border border-indigo-500/40 text-[10px] px-2 py-1 rounded flex items-center gap-1 font-bold shadow-sm",children:[jt.name,Y.jsx("button",{onClick:()=>Be(ot,wt,jt.id),className:"ml-1 text-indigo-400 hover:text-red-400 font-bold",children:""})]},jt.id)),(!u[a]?.[ot]?.[wt]||u[a]?.[ot]?.[wt].length===0)&&Y.jsx("span",{className:"text-[10px] text-slate-700 italic w-full text-center mt-1",children:"-"})]})},wt))]},ot))})]})})]})]}),c==="news"&&Y.jsxs("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:[Y.jsx("div",{className:"bg-slate-900 p-6 rounded-xl border border-white/10 mb-6",children:Y.jsxs("div",{className:"flex gap-4",children:[Y.jsx("input",{value:re,onChange:ot=>Zt(ot.target.value),placeholder:"Mensaje...",className:"flex-1 bg-black/30 border border-white/10 rounded-lg p-3 text-white outline-none"}),Y.jsxs("select",{value:te,onChange:ot=>we(ot.target.value),className:"bg-black/30 border border-white/10 rounded-lg p-3 text-white",children:[Y.jsx("option",{value:"info",children:"Info"}),Y.jsx("option",{value:"critical",children:"Crtico"}),Y.jsx("option",{value:"party",children:"Fiesta"})]}),Y.jsx("button",{onClick:ye,className:"bg-indigo-600 px-6 rounded-lg font-bold hover:bg-indigo-500",children:"Publicar"})]})}),Y.jsx("div",{className:"space-y-3",children:$t.map(ot=>Y.jsxs("div",{className:"flex justify-between items-center bg-slate-900/50 p-4 rounded-xl border border-white/5",children:[Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase ${ot.type==="critical"?"bg-red-900 text-red-300":ot.type==="party"?"bg-yellow-900 text-yellow-300":"bg-blue-900 text-blue-300"}`,children:ot.type}),Y.jsx("span",{className:"text-sm",children:ot.text})]}),Y.jsx("button",{onClick:()=>Jt(ot.id),className:"text-red-400 hover:text-red-300 text-xs",children:"Borrar"})]},ot.id))})]}),c==="academy"&&Y.jsx("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:ee?Y.jsx(ST,{quiz:ee,onSave:fe,onCancel:()=>Ft(null)}):Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>Ft({title:"",reward:100,questions:[],version:1}),className:"bg-green-600 px-4 py-2 rounded-lg font-bold text-sm mb-6",children:"+ Nuevo Mdulo"}),Y.jsx("div",{className:"grid gap-4",children:_e.map(ot=>Y.jsxs("div",{className:"bg-slate-900 p-5 rounded-xl border border-white/10 flex justify-between items-center",children:[Y.jsxs("div",{children:[Y.jsx("h3",{className:"font-bold text-lg",children:ot.title}),Y.jsxs("div",{className:"text-xs text-slate-500",children:["Reward: ",ot.reward," | v",ot.version]})]}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx("button",{onClick:()=>Ft(ot),className:"text-indigo-400 text-xs bg-indigo-900/30 px-3 py-1 rounded",children:"Edit"}),Y.jsx("button",{onClick:()=>ce(ot),className:`text-xs px-3 py-1 rounded ${ot.active?"bg-green-900/30 text-green-400":"bg-slate-700 text-slate-400"}`,children:ot.active?"Activo":"Inactivo"}),Y.jsx("button",{onClick:()=>oe(ot.id),className:"text-red-400 text-xs bg-red-900/30 px-3 py-1 rounded",children:"Del"})]})]},ot.id))})]})}),(c==="ideas"||c==="dev")&&Y.jsxs("div",{className:"max-w-7xl mx-auto animate-fadeIn",children:[Y.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 gap-4",children:[Y.jsxs("div",{children:[Y.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:c==="ideas"?" Laboratorio de Ideas":" Tickets de Soporte & Bugs"}),Y.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Estado: ",Y.jsx("span",{className:"text-indigo-400 font-bold",children:at?"ARCHIVADOS":"ACTIVOS"})]})]}),Y.jsxs("div",{className:"flex items-center gap-3",children:[c==="ideas"&&Y.jsx("button",{onClick:Ve,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-500 transition-colors shadow-lg flex items-center gap-2 border border-indigo-400/50",children:" RESUMEN"}),Y.jsx("button",{onClick:()=>pt(!at),className:`px-3 py-2 rounded-lg text-[10px] font-bold uppercase transition-all border ${at?"bg-slate-700 text-white border-slate-500":"bg-black/40 text-slate-500 border-slate-700 hover:text-white"}`,children:at?" Ver Activos":" Ver Archivados"}),Y.jsx("button",{onClick:qe,className:"bg-white/5 hover:bg-white/10 px-3 py-2 rounded-lg text-xs text-slate-300 border border-white/10",children:""})]})]}),Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ne().map(ot=>{const wt=ot.status==="approved",jt=ot.status==="rejected",Xt=ot.status==="new",Ut=ot.type==="dev";return Y.jsxs("div",{className:`bg-slate-900 border rounded-xl p-5 flex flex-col gap-3 relative group transition-all animate-fadeIn hover:shadow-xl ${Ut?"border-purple-500/20 shadow-[0_0_10px_rgba(147,51,234,0.05)]":"border-white/10"}`,children:[Y.jsxs("div",{className:"flex justify-between items-start",children:[Y.jsxs("div",{children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("h4",{className:`font-bold text-sm ${Ut?"text-purple-300 font-mono":"text-white"}`,children:ot.userName}),Ut&&Y.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 rounded border bg-purple-900/30 text-purple-300 border-purple-500/30",children:"BUG/DEV"})]}),Y.jsx("p",{className:"text-[10px] text-slate-500 font-mono mt-1",children:ot.timestampStr})]}),wt&&Y.jsx("span",{className:"text-[10px] bg-green-900/30 text-green-400 px-2 py-1 rounded border border-green-500/20 font-bold",children:" APROBADA"})," ",jt&&Y.jsx("span",{className:"text-[10px] bg-red-900/30 text-red-400 px-2 py-1 rounded border border-red-500/20 font-bold",children:" RECHAZADA"})," ",Xt&&Y.jsx("span",{className:"text-[10px] bg-yellow-900/30 text-yellow-500 px-2 py-1 rounded border border-yellow-500/20 font-bold",children:" PENDIENTE"})]}),Y.jsxs("div",{className:`p-4 rounded-lg border min-h-[80px] ${Ut?"bg-black/60 border-purple-900/30 font-mono text-xs text-green-400":"bg-black/30 border-white/5 text-sm text-slate-300 italic"}`,children:['"',ot.content,'"']}),!Ut&&Y.jsxs("div",{className:"space-y-2 mt-2",children:[Y.jsxs("div",{className:"relative",children:[Y.jsx("span",{className:"absolute top-2 left-2 text-[10px] text-green-500 font-bold",children:"PROS"}),Y.jsx("textarea",{className:"w-full bg-slate-950 border border-white/10 rounded p-2 pt-6 text-xs text-slate-300 focus:border-green-500 outline-none h-16 resize-none",value:ot.analysis?.pros||"",onChange:Gt=>St(ot.id,"pros",Gt.target.value)})]}),Y.jsxs("div",{className:"relative",children:[Y.jsx("span",{className:"absolute top-2 left-2 text-[10px] text-red-500 font-bold",children:"CONS"}),Y.jsx("textarea",{className:"w-full bg-slate-950 border border-white/10 rounded p-2 pt-6 text-xs text-slate-300 focus:border-red-500 outline-none h-16 resize-none",value:ot.analysis?.cons||"",onChange:Gt=>St(ot.id,"cons",Gt.target.value)})]})]}),Y.jsxs("div",{className:"flex gap-2 mt-auto pt-4 border-t border-white/5",children:[!Ut&&Y.jsx("button",{onClick:()=>ct(ot.id,ot.analysis),className:"flex-1 bg-white/5 hover:bg-white/10 text-slate-400 text-xs font-bold py-2 rounded transition-colors",children:" Guardar"}),Xt&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>Ze(ot,"approved"),className:"flex-1 bg-green-600/20 hover:bg-green-600 hover:text-white text-green-400 text-xs font-bold py-2 rounded transition-colors border border-green-600/30",children:" Aprobar"}),Y.jsx("button",{onClick:()=>Ze(ot,"rejected"),className:"w-10 flex items-center justify-center bg-red-600/20 hover:bg-red-600 hover:text-white text-red-400 font-bold rounded transition-colors border border-red-600/30",children:""})]}),(wt||jt)&&!at&&Y.jsxs(Y.Fragment,{children:[Y.jsx("button",{onClick:()=>zt(ot.id),className:"w-10 flex items-center justify-center bg-slate-800 hover:bg-slate-700 text-slate-400 font-bold rounded transition-colors border border-slate-600",title:"Archivar",children:""}),Y.jsx("button",{onClick:()=>Re(ot.id),className:"w-10 flex items-center justify-center bg-red-900/20 hover:bg-red-900/80 text-red-500 hover:text-white font-bold rounded transition-colors border border-red-900/30",title:"Eliminar",children:""})]}),at&&Y.jsx("button",{onClick:()=>de(ot.id),className:"w-full flex items-center justify-center bg-blue-900/30 hover:bg-blue-600 text-blue-400 hover:text-white font-bold py-2 rounded transition-colors border border-blue-500/20",children:" Restaurar"})]})]},ot.id)})})]}),c==="users"&&t&&Y.jsx("div",{className:"max-w-7xl mx-auto animate-fadeIn",children:Y.jsx("div",{className:"bg-slate-900 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:Y.jsxs("table",{className:"w-full text-left",children:[Y.jsx("thead",{className:"bg-black/30 text-slate-400 text-[10px] uppercase font-bold",children:Y.jsxs("tr",{className:"border-b border-white/5",children:[Y.jsx("th",{className:"p-4",children:"Usuario"}),Y.jsx("th",{className:"p-4",children:"Rol Actual"}),Y.jsx("th",{className:"p-4",children:"Equipo"}),Y.jsx("th",{className:"p-4 text-right",children:"Gestin"})]})}),Y.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:ie.map(ot=>Y.jsxs("tr",{className:"hover:bg-white/[0.02]",children:[Y.jsxs("td",{className:"p-4",children:[Y.jsx("div",{className:"font-bold text-white",children:ot.name}),Y.jsx("div",{className:"text-xs text-slate-500",children:ot.email})]}),he===ot.id?Y.jsxs(Y.Fragment,{children:[Y.jsx("td",{className:"p-4",children:Y.jsxs("select",{value:Fe.role,onChange:wt=>ge({...Fe,role:wt.target.value}),className:"bg-slate-950 border border-white/10 rounded px-2 py-1 text-xs text-white outline-none focus:border-indigo-500",children:[Y.jsx("option",{value:"agent",children:"Agente"}),Y.jsx("option",{value:"team_leader",children:"TL"}),Y.jsx("option",{value:"admin",children:"Admin"}),Y.jsx("option",{value:"tester",children:"Tester"})]})}),Y.jsx("td",{className:"p-4",children:Y.jsxs("select",{value:Fe.team,onChange:wt=>ge({...Fe,team:wt.target.value}),className:"bg-slate-950 border border-white/10 rounded px-2 py-1 text-xs text-white outline-none focus:border-indigo-500",children:[Y.jsx("option",{value:"default",children:"Default"}),Y.jsx("option",{value:"team1",children:"Team 1"}),Y.jsx("option",{value:"team2",children:"Team 2"})]})}),Y.jsxs("td",{className:"p-4 text-right flex items-center justify-end gap-2",children:[Y.jsxs("div",{className:"flex items-center bg-black/20 rounded-lg p-1 border border-white/5",children:[Y.jsx("input",{type:"number",placeholder:"Bonus",className:"w-16 bg-transparent text-xs text-yellow-400 text-center outline-none",onChange:wt=>Ee(wt.target.value)}),Y.jsx("button",{onClick:()=>pe(ot.id),className:"bg-yellow-600 text-black px-2 py-1 rounded text-[10px] font-bold hover:bg-yellow-500",children:" ENVIAR"})]}),Y.jsx("button",{onClick:()=>Kt(ot.id),className:"text-green-400 text-xs font-bold hover:underline ml-2",children:"GUARDAR"}),Y.jsx("button",{onClick:()=>Le(null),className:"text-red-400 text-xs font-bold hover:underline ml-2",children:"CANCELAR"})]})]}):Y.jsxs(Y.Fragment,{children:[Y.jsx("td",{className:"p-4",children:Y.jsx("span",{className:`text-[10px] uppercase font-bold px-2 py-1 rounded border ${ot.role==="admin"?"bg-purple-900/30 text-purple-300 border-purple-500/30":ot.role==="team_leader"?"bg-blue-900/30 text-blue-300 border-blue-500/30":"bg-slate-800 text-slate-400 border-slate-700"}`,children:ot.role})}),Y.jsx("td",{className:"p-4 text-xs text-slate-400",children:ot.team}),Y.jsx("td",{className:"p-4 text-right",children:Y.jsx("button",{onClick:()=>Lt(ot),className:"text-indigo-400 text-xs font-bold hover:text-white transition-colors",children:"EDITAR "})})]})]},ot.id))})]})})})]}),Y.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col gap-3 z-50",children:[Y.jsx("button",{onClick:()=>{Nt("dev"),vt(!0)},className:"flex items-center justify-center w-12 h-12 bg-purple-600 hover:bg-purple-500 text-white rounded-full shadow-lg shadow-purple-900/50 transition-transform hover:scale-110 active:scale-95 border border-white/20 tooltip-trigger",title:"Soporte Dev",children:""}),Y.jsx("button",{onClick:()=>{Nt("monday"),vt(!0)},className:"flex items-center justify-center w-14 h-14 bg-yellow-500 hover:bg-yellow-400 text-black rounded-full shadow-lg shadow-yellow-900/50 transition-transform hover:scale-110 active:scale-95 border border-white/20 font-bold text-xl",title:"Nueva Idea",children:""})]}),dt&&Y.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/80 backdrop-blur-md p-4 animate-fadeIn",children:Y.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden",children:[Y.jsxs("div",{className:`p-5 flex justify-between items-center bg-gradient-to-r ${It==="monday"?"from-yellow-600/20 to-orange-600/20 border-b border-yellow-500/20":"from-purple-600/20 to-indigo-600/20 border-b border-purple-500/20"}`,children:[Y.jsx("h3",{className:`text-lg font-bold flex items-center gap-2 ${It==="monday"?"text-yellow-400":"text-purple-400"}`,children:It==="monday"?" Nueva Idea Operativa":" Ticket de Soporte / Bug"}),Y.jsx("button",{onClick:()=>vt(!1),className:"text-slate-400 hover:text-white text-xl",children:""})]}),Y.jsxs("div",{className:"p-6",children:[Y.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm outline-none h-40 resize-none focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 transition-all placeholder:text-slate-600",placeholder:It==="monday"?"Describe tu propuesta...":"Describe el error...",value:xt,onChange:ot=>Et(ot.target.value)}),Y.jsx("button",{onClick:yr,className:`w-full font-bold py-3 rounded-xl transition-all mt-4 shadow-lg active:scale-95 ${It==="monday"?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:"ENVIAR AHORA"})]})]})}),st&&Y.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:Y.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[Y.jsxs("div",{className:"p-5 border-b border-white/10 flex justify-between items-center bg-indigo-900/20",children:[Y.jsx("h3",{className:"text-lg font-bold text-white",children:" Resumen Ejecutivo"}),Y.jsx("button",{onClick:()=>ut(!1),className:"text-slate-400 hover:text-white",children:""})]}),Y.jsx("div",{className:"p-0 overflow-hidden flex-1 relative",children:Y.jsx("textarea",{readOnly:!0,value:yt,className:"w-full h-full bg-slate-950 p-6 text-sm font-mono text-green-400 focus:outline-none resize-none leading-relaxed"})}),Y.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-end gap-3 bg-slate-900",children:[Y.jsx("button",{onClick:()=>ut(!1),className:"px-4 py-2 text-slate-400 hover:text-white text-xs font-bold",children:"CERRAR"}),Y.jsx("button",{onClick:()=>{navigator.clipboard.writeText(yt),alert("Copiado.")},className:"bg-indigo-600 hover:bg-indigo-500 text-white px-5 py-2 rounded-lg font-bold text-xs shadow-lg",children:"COPIAR TEXTO"})]})]})}),nt&&Y.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:Y.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[85vh]",children:[Y.jsxs("div",{className:"p-5 border-b border-white/10 flex justify-between items-center",children:[Y.jsx("h3",{className:"text-lg font-bold text-white",children:" Objetivos de Equipo"}),Y.jsx("button",{onClick:()=>H(!1),className:"text-slate-400 hover:text-white",children:""})]}),Y.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-3",children:[Y.jsxs("div",{className:"flex gap-2 mb-4",children:[Y.jsx("input",{type:"text",value:tt,onChange:ot=>V(ot.target.value),placeholder:"Nueva tarea...",className:"flex-1 bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:border-indigo-500 outline-none"}),Y.jsx("button",{onClick:gt,className:"bg-indigo-600 hover:bg-indigo-500 text-white px-4 py-2 rounded-lg text-xs font-bold",children:"+"})]}),I.map(ot=>{const wt=K[ot]===-1;return Y.jsxs("div",{className:"flex items-center justify-between gap-4 p-3 bg-white/5 rounded-lg border border-white/5 hover:border-white/10 transition-colors",children:[Y.jsx("span",{className:"text-xs font-medium text-slate-300 flex-1",children:ot}),Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("button",{onClick:()=>Oe(ot),className:`w-6 h-6 rounded text-[10px] font-bold ${wt?"bg-blue-500 text-white":"bg-slate-700 text-slate-400"}`,children:""}),Y.jsxs("div",{className:`flex items-center gap-2 ${wt?"opacity-20 pointer-events-none":""}`,children:[Y.jsx("input",{type:"number",placeholder:"0",value:wt?"":K[ot]||"",onChange:jt=>Je(ot,jt.target.value),className:"bg-black/30 border border-white/10 rounded px-2 py-1 w-16 text-right text-green-400 font-mono text-xs outline-none focus:border-green-500"}),Y.jsx("span",{className:"text-[10px] text-slate-500",children:"/h"})]})]})]},ot)})]}),Y.jsx("div",{className:"p-4 border-t border-white/10 flex justify-end",children:Y.jsx("button",{onClick:()=>H(!1),className:"bg-white text-black px-6 py-2 rounded-lg font-bold text-xs hover:bg-slate-200",children:"LISTO"})})]})}),k&&Y.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4",children:Y.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[Y.jsxs("div",{className:"p-5 border-b border-white/10 flex justify-between items-center bg-yellow-900/20",children:[Y.jsx("h3",{className:"text-lg font-bold text-yellow-400",children:" Solicitudes de Cambio de Horario"}),Y.jsx("button",{onClick:()=>M(!1),className:"text-slate-400 hover:text-white",children:""})]}),Y.jsx("div",{className:"p-6 overflow-y-auto flex-1 space-y-4",children:w.length===0?Y.jsx("p",{className:"text-center text-slate-500 italic py-10",children:"No hay solicitudes pendientes."}):w.map(ot=>Y.jsxs("div",{className:"bg-white/5 border border-white/5 rounded-xl p-4",children:[Y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"font-bold text-white",children:ot.userName}),Y.jsxs("p",{className:"text-xs text-slate-500",children:["Semana: ",ot.weekId]})]}),Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx("button",{onClick:()=>Me(ot),className:"bg-green-600 hover:bg-green-500 text-white px-3 py-1 rounded text-xs font-bold",children:" APROBAR"}),Y.jsx("button",{onClick:()=>Ie(ot.id),className:"bg-red-600 hover:bg-red-500 text-white px-3 py-1 rounded text-xs font-bold",children:" RECHAZAR"})]})]}),Y.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.keys(ot.proposedSchedule).map(wt=>{const jt=ot.proposedSchedule[wt];return jt.off?Y.jsxs("div",{className:"flex justify-between bg-black/20 p-2 rounded",children:[Y.jsx("span",{className:"text-slate-400",children:wt}),Y.jsx("span",{className:"text-red-400 font-bold",children:"OFF"})]},wt):jt.hours>0?Y.jsxs("div",{className:"flex justify-between bg-black/20 p-2 rounded",children:[Y.jsx("span",{className:"text-slate-400",children:wt}),Y.jsxs("span",{className:"text-green-400 font-bold",children:[jt.hours,"h"]})]},wt):null})})]},ot.id))})]})})]})},ST=({quiz:m,onSave:e,onCancel:t})=>{const[i,c]=Mt.useState(m),[l,s]=Mt.useState(!1),h=()=>c({...i,questions:[...i.questions||[],{text:"",options:["",""],correct:0}]}),a=(u,p,f)=>{const d=[...i.questions];d[u]={...d[u],[p]:f},c({...i,questions:d})},n=(u,p,f)=>{const d=[...i.questions];d[u].options[p]=f,c({...i,questions:d})};return Y.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-white/10 space-y-4 animate-fadeIn",children:[Y.jsx("h2",{className:"font-bold text-xl border-b border-white/10 pb-2",children:"Editor de Mdulo"}),Y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[Y.jsx("input",{value:i.title,onChange:u=>c({...i,title:u.target.value}),placeholder:"Ttulo",className:"bg-black/30 border border-white/10 p-2 rounded text-white"}),Y.jsx("input",{type:"number",value:i.reward,onChange:u=>c({...i,reward:parseInt(u.target.value)}),placeholder:"Reward",className:"bg-black/30 border border-white/10 p-2 rounded text-white"})]}),m.id&&Y.jsxs("label",{className:"flex items-center gap-2 text-yellow-200 text-xs",children:[Y.jsx("input",{type:"checkbox",checked:l,onChange:u=>s(u.target.checked)})," Actualizacin Mayor (Reinicia progress)"]}),Y.jsxs("div",{className:"space-y-4",children:[i.questions?.map((u,p)=>Y.jsxs("div",{className:"bg-black/20 p-4 rounded border border-white/5",children:[Y.jsx("input",{value:u.text,onChange:f=>a(p,"text",f.target.value),placeholder:"Pregunta",className:"w-full bg-transparent border-b border-white/10 mb-2 font-bold"}),Y.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.options.map((f,d)=>Y.jsxs("div",{className:"flex gap-2",children:[Y.jsx("input",{type:"radio",checked:u.correct===d,onChange:()=>a(p,"correct",d)}),Y.jsx("input",{value:f,onChange:y=>n(p,d,y.target.value),className:"bg-white/5 rounded px-2 text-xs w-full"})]},d))})]},p)),Y.jsx("button",{onClick:h,className:"w-full py-2 border border-dashed border-white/20 text-slate-400 text-xs rounded",children:"+ Pregunta"})]}),Y.jsxs("div",{className:"flex gap-4",children:[Y.jsx("button",{onClick:()=>e({...i,isMajorUpdate:l}),className:"flex-1 bg-green-600 py-2 rounded font-bold",children:"Guardar"}),Y.jsx("button",{onClick:t,className:"bg-slate-700 px-4 rounded",children:"Cancelar"})]})]})},TT=()=>{const m=Array.from({length:50}).map((e,t)=>{const i={left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+5}s`,opacity:Math.random()*.7+.3,width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`};return Y.jsx("div",{className:"snowflake absolute top-[-10px] bg-white rounded-full blur-[1px]",style:i},t)});return Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[Y.jsx("style",{children:`
                @keyframes snowfall {
                    0% { transform: translateY(-10vh) translateX(0); }
                    100% { transform: translateY(110vh) translateX(20px); }
                }
                .snowflake {
                    animation: snowfall linear infinite;
                }
            `}),m]})},ET=()=>{const m=Mt.useMemo(()=>{const e=["#ffb700","#ff6a00","#ff8c00","#ffd700","#ff4500"];return Array.from({length:30}).map((t,i)=>({key:i,left:`${Math.random()*100}vw`,top:`${Math.random()*120}vh`,size:`${Math.random()*400+150}px`,color:e[Math.floor(Math.random()*e.length)],opacity:Math.random()*.3+.3,duration:`${Math.random()*15+15}s`,delay:`-${Math.random()*20}s`,blur:`${Math.random()*60+40}px`}))},[]);return Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-plus-lighter",children:[Y.jsx("style",{children:`
                @keyframes float-pulse {
                    0%, 100% { transform: translate(0, 0) scale(1); opacity: var(--base-opacity); }
                    50% { transform: translate(var(--tx), var(--ty)) scale(1.2); opacity: calc(var(--base-opacity) + 0.2); }
                }
                .cozy-orb {
                    position: absolute;
                    border-radius: 50%;
                    animation: float-pulse infinite ease-in-out alternate;
                    --tx: ${(Math.random()-.5)*100}px;
                    --ty: ${(Math.random()-.5)*100}px;
                }
            `}),m.map(e=>Y.jsx("div",{className:"cozy-orb",style:{left:e.left,top:e.top,width:e.size,height:e.size,backgroundColor:e.color,"--base-opacity":e.opacity,animationDuration:e.duration,animationDelay:e.delay,filter:`blur(${e.blur})`}},e.key))]})},AT=()=>Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-screen opacity-30",children:[Y.jsx("style",{children:`
                @keyframes fog-drift {
                    0% { background-position: 0 0; }
                    100% { background-position: 200% 0; }
                }
                .fog-layer {
                    position: absolute;
                    width: 300%;
                    height: 100%;
                    background-image: url('https://www.transparenttextures.com/patterns/foggy-birds.png'); /* Textura sutil de niebla */
                    background-size: cover;
                    opacity: 0.4;
                    animation: fog-drift 240s linear infinite;
                }
                 .fog-layer.two {
                    animation-direction: reverse;
                    animation-duration: 180s;
                    opacity: 0.2;
                }
            `}),Y.jsx("div",{className:"fog-layer"}),Y.jsx("div",{className:"fog-layer two"})]}),kT=`
    @keyframes firefly-move {
        0%, 100% { transform: translate(0, 0); opacity: 0; }
        25% { opacity: 1; }
        50% { transform: translate(50px, -50px); opacity: 0.5; }
        75% { transform: translate(-30px, 30px); opacity: 1; }
    }
    
    @keyframes flora-fall {
        0% { transform: translateY(-10vh) rotate(0deg) translateX(0); opacity: 0; }
        10% { opacity: 0.8; }
        100% { transform: translateY(110vh) rotate(360deg) translateX(50px); opacity: 0; }
    }

    .firefly {
        position: absolute;
        background: #bef264;
        border-radius: 50%;
        box-shadow: 0 0 10px #bef264;
        animation: firefly-move ease-in-out infinite;
    }

    .flora-particle {
        position: absolute;
        top: -20px;
        border-radius: 4px 10px;
        animation: flora-fall linear infinite;
    }
`,CT=()=>{const m=Mt.useMemo(()=>Array.from({length:20}).map((t,i)=>({key:`fly-${i}`,left:`${Math.random()*100}vw`,top:`${Math.random()*100}vh`,size:`${Math.random()*4+2}px`,duration:`${Math.random()*10+10}s`,delay:`-${Math.random()*10}s`,opacity:Math.random()*.5+.3})),[]),e=Mt.useMemo(()=>{const t=["#86efac","#4ade80","#fbcfe8","#fdf2f8"];return Array.from({length:15}).map((i,c)=>({key:`leaf-${c}`,left:`${Math.random()*100}vw`,size:`${Math.random()*8+4}px`,color:t[Math.floor(Math.random()*t.length)],duration:`${Math.random()*15+10}s`,delay:`-${Math.random()*10}s`,rotation:Math.random()*360}))},[]);return Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[Y.jsx("style",{dangerouslySetInnerHTML:{__html:kT}}),m.map(t=>Y.jsx("div",{className:"firefly",style:{left:t.left,top:t.top,width:t.size,height:t.size,animationDuration:t.duration,animationDelay:t.delay}},t.key)),e.map(t=>Y.jsx("div",{className:"flora-particle",style:{left:t.left,width:t.size,height:t.size,backgroundColor:t.color,animationDuration:t.duration,animationDelay:t.delay}},t.key))]})},RT=`
    /* Fondo de estrellas parpadeantes */
    @keyframes twinkle {
        0%, 100% { opacity: 0.3; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.2); }
    }

    /* Meteorito cruzando la pantalla */
    @keyframes shooting {
        0% { transform: translateX(0) translateY(0) rotate(315deg); opacity: 1; }
        70% { opacity: 1; }
        100% { transform: translateX(-100vw) translateY(100vh) rotate(315deg); opacity: 0; }
    }

    .star-static {
        position: absolute;
        background: white;
        border-radius: 50%;
        animation: twinkle infinite ease-in-out;
    }

    .shooting-star {
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 2px;
        background: linear-gradient(90deg, rgba(255,255,255,1), transparent);
        animation: shooting 4s linear infinite;
        opacity: 0;
    }
    
    /* Cabeza del meteorito */
    .shooting-star::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 4px;
        background: #fff;
        border-radius: 50%;
        box-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #4c1d95;
    }
`,MT=()=>{const m=Mt.useMemo(()=>Array.from({length:50}).map((t,i)=>({key:`s-${i}`,left:`${Math.random()*100}vw`,top:`${Math.random()*100}vh`,size:`${Math.random()*2+1}px`,delay:`${Math.random()*5}s`,duration:`${Math.random()*3+2}s`})),[]),e=Mt.useMemo(()=>Array.from({length:3}).map((t,i)=>({key:`m-${i}`,top:`${Math.random()*50}vh`,right:`${Math.random()*20-20}vw`,delay:`${Math.random()*10+2}s`,duration:`${Math.random()*2+3}s`})),[]);return Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-screen",children:[Y.jsx("style",{dangerouslySetInnerHTML:{__html:RT}}),m.map(t=>Y.jsx("div",{className:"star-static",style:{left:t.left,top:t.top,width:t.size,height:t.size,animationDelay:t.delay,animationDuration:t.duration}},t.key)),e.map(t=>Y.jsx("div",{className:"shooting-star",style:{top:t.top,right:t.right,animationDelay:t.delay,animationDuration:t.duration}},t.key))]})},NT=`
    @keyframes float-up {
        0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
        10% { opacity: 0.8; }
        90% { opacity: 0.8; }
        100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }

    .gold-particle {
        position: absolute;
        background: radial-gradient(circle, #fcd34d 0%, #b45309 100%); /* Degradado dorado */
        border-radius: 50%;
        box-shadow: 0 0 5px #f59e0b;
        animation: float-up linear infinite;
    }
`,IT=()=>{const m=Mt.useMemo(()=>Array.from({length:30}).map((e,t)=>({key:`gold-${t}`,left:`${Math.random()*100}vw`,size:`${Math.random()*4+2}px`,duration:`${Math.random()*15+10}s`,delay:`-${Math.random()*20}s`})),[]);return Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[Y.jsx("style",{dangerouslySetInnerHTML:{__html:NT}}),m.map(e=>Y.jsx("div",{className:"gold-particle",style:{left:e.left,width:e.size,height:e.size,animationDuration:e.duration,animationDelay:e.delay}},e.key))]})},OT=`
    @keyframes float-music {
        0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
        10% { opacity: 0.6; }
        50% { transform: translateY(50vh) translateX(20px) rotate(10deg); opacity: 0.8; }
        100% { transform: translateY(-10vh) translateX(-20px) rotate(-10deg); opacity: 0; }
    }

    .music-note {
        position: absolute;
        color: #d1c4e9; /* Lila suave de tu marca */
        text-shadow: 0 0 10px rgba(209, 196, 233, 0.5);
        font-family: 'Segoe UI Emoji', 'Noto Color Emoji', sans-serif;
        user-select: none;
        animation: float-music linear infinite;
    }
`,jT=()=>{const m=Mt.useMemo(()=>{const e=["","","",""];return Array.from({length:15}).map((t,i)=>({key:`note-${i}`,symbol:e[Math.floor(Math.random()*e.length)],left:`${Math.random()*95}vw`,size:`${Math.random()*20+15}px`,duration:`${Math.random()*10+15}s`,delay:`-${Math.random()*20}s`,opacity:Math.random()*.4+.2}))},[]);return Y.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-screen",children:[Y.jsx("style",{dangerouslySetInnerHTML:{__html:OT}}),m.map(e=>Y.jsx("div",{className:"music-note",style:{left:e.left,fontSize:e.size,animationDuration:e.duration,animationDelay:e.delay,opacity:e.opacity},children:e.symbol},e.key))]})},DT=()=>{const m=Mt.useMemo(()=>Array.from({length:80}).map((e,t)=>({key:t,left:`${Math.random()*100}vw`,size:`${2+Math.random()*5}px`,duration:`${20+Math.random()*20}s`,delay:`${Math.random()*15}s`,randX:`${(Math.random()-.5)*350}`})),[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0",children:m.map(e=>Y.jsx("div",{className:"particle animate-particle",style:{left:e.left,width:e.size,height:e.size,"--duration":e.duration,"--rand-x":e.randX,animationDelay:e.delay}},e.key))})},PT=()=>{const m=Mt.useMemo(()=>{const e=["#f43f5e","#ec4899","#8b5cf6","#38bdf8"];return Array.from({length:100}).map((t,i)=>{const c=Math.random()*8+4,l=Math.random()>.5;return{key:i,left:`${Math.random()*100}vw`,width:`${c}px`,height:`${c}px`,backgroundColor:e[Math.floor(Math.random()*e.length)],borderRadius:l?"2px":"50%",transform:`rotate(${Math.random()*360}deg)`,"--duration":`${Math.random()*5+5}s`,"--delay":`${Math.random()*5}s`}})},[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:m.map(e=>Y.jsx("div",{className:"confetti",style:e},e.key))})},LT=()=>{const m=Mt.useMemo(()=>Array.from({length:150}).map((e,t)=>{const i=Math.random()*4+2;return{key:t,left:`${Math.random()*100}vw`,width:`${i}px`,height:`${i}px`,"--duration":`${Math.random()*10+10}s`,"--delay":`${Math.random()*10}s`,"--drift":Math.random()-.5}}),[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:m.map(e=>Y.jsx("div",{className:"snowflake",style:e},e.key))})},BT=()=>{const m=Mt.useMemo(()=>{const e=["#f44336","#4caf50","#2196f3","#ffeb3b"];return Array.from({length:40}).map((t,i)=>{const c=Math.random()*10+5;return{key:i,top:`${Math.random()*100}vh`,left:`${Math.random()*100}vw`,width:`${c}px`,height:`${c}px`,backgroundColor:e[i%e.length],boxShadow:`0 0 15px 5px ${e[i%e.length]}66`,"--duration":`${Math.random()*2+1.5}s`,animationDelay:`${Math.random()*2}s`}})},[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0",children:m.map(e=>Y.jsx("div",{className:"christmas-light",style:e},e.key))})},VT=()=>{const m=Mt.useMemo(()=>Array.from({length:5}).map((e,t)=>({key:t,"--duration":`${Math.random()*15+10}s`,"--delay":`${Math.random()*10}s`,"--start-x":`${Math.random()*80+10}vw`,"--end-x":`${Math.random()*80+10}vw`,width:`${Math.random()*50+50}px`})),[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:m.map(e=>Y.jsx("svg",{className:"ghost",style:e,viewBox:"0 0 100 125",children:Y.jsx("path",{d:"M10 115 C 10 115, 10 95, 20 95 C 30 95, 30 115, 30 115 C 30 115, 30 95, 40 95 C 50 95, 50 115, 50 115 C 50 115, 50 95, 60 95 C 70 95, 70 115, 70 115 C 70 115, 70 95, 80 95 C 90 95, 90 115, 90 115 L 90 60 C 90 20, 50 10, 50 10 C 50 10, 10 20, 10 60 Z M 30 60 C 35 60, 35 50, 30 50 C 25 50, 25 60, 30 60 Z M 70 60 C 75 60, 75 50, 70 50 C 65 50, 65 60, 70 60 Z"})},e.key))})},zT=()=>{const m=Mt.useMemo(()=>{const e=["","","","","",""];return Array.from({length:100}).map((t,i)=>({key:i,left:`${Math.random()*100}vw`,fontSize:`${Math.random()*1.5+.75}rem`,opacity:Math.random()*.5+.5,emoji:e[i%e.length],"--duration":`${Math.random()*10+8}s`,"--delay":`${Math.random()*8}s`}))},[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:m.map(e=>Y.jsx("div",{className:"magic-particle",style:e,children:e.emoji},e.key))})},UT=()=>{const m=Mt.useMemo(()=>{const e=["","","","","",""];return Array.from({length:50}).map((t,i)=>({key:i,left:`${Math.random()*100}vw`,fontSize:`${Math.random()*1.5+1}rem`,opacity:Math.random()*.5+.3,emoji:e[i%e.length],"--duration":`${Math.random()*5+5}s`,"--delay":`${Math.random()*5}s`}))},[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:m.map(e=>Y.jsx("div",{className:"magic-particle",style:e,children:e.emoji},e.key))})},FT=()=>{const m=Mt.useMemo(()=>Array.from({length:60}).map((e,t)=>({key:t,left:`${Math.random()*100}vw`,height:`${Math.random()*20+10}px`,duration:`${Math.random()*.5+.5}s`,delay:`${Math.random()*2}s`})),[]);return Y.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:m.map(e=>Y.jsx("div",{className:"rain-drop",style:{left:e.left,height:e.height,"--duration":e.duration,"--delay":e.delay}},e.key))})},Vw=()=>Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"spider-web",children:[Y.jsx("div",{className:"line1"}),Y.jsx("div",{className:"line2"})]}),Y.jsxs("div",{className:"spider-web",style:{left:"auto",right:0,transform:"scaleX(-1)"},children:[Y.jsx("div",{className:"line1"}),Y.jsx("div",{className:"line2"})]})]}),HT=()=>{const m=Mt.useRef(null),[e,t]=Mt.useState(!1),i=()=>{m.current&&(e?m.current.pause():m.current.play().catch(c=>console.log("Audio play failed",c)),t(!e))};return Y.jsxs("div",{className:"fixed top-4 right-4 z-50",children:[Y.jsx("audio",{ref:m,loop:!0,src:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112191.mp3"}),Y.jsx("button",{onClick:i,className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-full backdrop-blur-md border border-white/20 transition-all shadow-lg group hover:scale-110 active:scale-95 duration-300",children:Y.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center rounded-full overflow-hidden",children:[Y.jsx("img",{src:"https://i.imgur.com/0YBh5gg.png",alt:"LofiDex Cup",className:`w-full h-full object-cover ${e?"animate-pulse":"opacity-80 grayscale"}`,onError:c=>{c.target.onerror=null,c.target.src="https://placehold.co/100x100?text="}}),!e&&Y.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-bold text-xs bg-black/40 rounded-full",children:"OFF"})]})})]})},qT={particles:DT,ghost:VT,confetti:PT,snow:LT,snow_effect:TT,lights:BT,magic:zT,hearts:UT,rain:FT,mystic_fog:AT,cozy_lights:ET,forest_flora:CT,shooting_stars:MT,golden_dust:IT,lofi_notes:jT,spiderweb:Vw},$T=()=>{const m=Mt.useRef(null);return Mt.useEffect(()=>{const e=m.current,t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%",c=14,l=e.width/c,s=Array(Math.floor(l)).fill(1),a=setInterval(()=>{t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,e.width,e.height),t.fillStyle="#0F0",t.font=`${c}px monospace`;for(let u=0;u<s.length;u++){const p=i[Math.floor(Math.random()*i.length)];t.fillText(p,u*c,s[u]*c),s[u]*c>e.height&&Math.random()>.975&&(s[u]=0),s[u]++}},33),n=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",n),()=>{clearInterval(a),window.removeEventListener("resize",n)}},[]),Y.jsx("canvas",{ref:m,className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none opacity-50"})},GT=(m,e,t)=>{const c={neko:"",lofi:"",winter:"",crimson:"",royal:"",forest:"",neon:"",galaxy:"",halloween:"",default:""}[t]||"",[l,s,h]=e.split("-"),a=new Date(l,s-1,h),n={weekday:"long",year:"numeric",month:"long",day:"numeric"},u=a.toLocaleDateString("en-US",n),p=v=>{const g=Math.floor(v/36e5),w=Math.floor(v%36e5/6e4);return`${g}h ${w}m`};let f=0;const d={};m.forEach(v=>{const g=v.running?v.elapsedTime+(Date.now()-v.lastTime):v.elapsedTime;f+=g;const w=v.category||"General";d[w]||(d[w]=[]),d[w].push({name:v.rawTaskName||v.text,qty:parseInt(v.quantity)||0,timeStr:p(g)})});let y=`End of Day Report: ${u}
`;return y+=`Hours worked: ${p(f)}

`,y+=`Today I worked on the following tasks:
`,Object.keys(d).sort().forEach(v=>{y+=`--- ${v} ---
`,d[v].forEach(g=>{const w=g.qty>0?` (${g.qty} orders)`:"";y+=`${c} ${g.name}${w}: ${g.timeStr}
`})}),y},WT=()=>{const{user:m,loading:e}=$S(),[t,i]=Mt.useState(null),[c,l]=Mt.useState(!1);if(Mt.useEffect(()=>{m&&(async()=>{try{const a=Mr(nr,"users",m.uid),n=await Wm(a);n.exists()?i(n.data()):i({role:"agent",team:"default"})}catch(a){console.error("Error fetching user role",a)}})()},[m]),e)return Y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:"Loading Nexus OS..."});if(!m)return Y.jsx(ZS,{});const s=t&&(t.role==="admin"||t.role==="team_leader");return s&&c?Y.jsx(xT,{onLogout:()=>l(!1),currentUserTeam:t.team||"default",isAdmin:t.role==="admin"}):Y.jsx(XT,{user:m,loading:e,isLeader:s,onOpenDashboard:()=>l(!0),userProfile:t})},XT=({user:m,loading:e,isLeader:t,onOpenDashboard:i,userProfile:c})=>{const l=!e&&m,[s,h]=ui("data","reports",[],l?m:null),[a,n]=ui("config","theme","default",l?m:null),[u,p]=ui("data","wallet",null,l?m:null),f=Mt.useMemo(()=>u?u.val&&u.val.val?Number(u.val.val.value)||0:u.val?Number(u.val.value)||0:Number(u.value)||0:0,[u]),d=zt=>{p({val:{value:zt,coins:zt,lofiCoins:zt},value:zt,coins:zt,lofiCoins:zt})},[y,v]=ui("config","hourlyRate","",l?m:null),[g,w]=ui("config","weeklyGoal",10,l?m:null),[_,k]=ui("data","inventory",["default"],l?m:null);ui("data","lastLoginBonus",null,l?m:null);const[M,L]=ui("data","lastWeeklyBonus","",l?m:null),[G,F]=ui("config","pet",null,l?m:null),[j,U]=ui("config","effect",null,l?m:null),[q,X]=ui("config","border",null,l?m:null),[$,R]=Mt.useState("tasks"),[P,C]=Mt.useState(""),[x,S]=Mt.useState(Dh()),[T,E]=Mt.useState(Dh()),[N,I]=Mt.useState(!1),[B,K]=Mt.useState(!1),[Z,nt]=Mt.useState(!1),[H,tt]=Mt.useState(!1),[V,D]=Mt.useState(!1),[Q,it]=Mt.useState([]),[ht,st]=Mt.useState([]),[ut,yt]=Mt.useState({}),[bt,at]=Mt.useState(null),[pt,dt]=Mt.useState(!1),[vt,xt]=Mt.useState({Monday:{hours:0,off:!1},Tuesday:{hours:0,off:!1},Wednesday:{hours:0,off:!1},Thursday:{hours:0,off:!1},Friday:{hours:0,off:!1},Saturday:{hours:0,off:!0},Sunday:{hours:0,off:!0}}),[Et,It]=Mt.useState(""),[Nt,$t]=Mt.useState("monday"),[se,re]=Mt.useState([]),Zt=KS(GS,s,n,a),{strategy:te,message:we,isUnlocked:_e,weeklyHoursWorked:Se}=Zt,ee=WS(l?m:null),{tasks:Ft,addTask:ie,addMultipleTasks:ae,deleteTask:he,deleteAllTasks:Le,toggleTimer:Fe,updateTaskDetails:ge,resetTaskTimer:Ge,stopAllTimers:Ee,statusMessage:Ae,resumeStoppedTimers:Qe,clearStatusMessage:Be,syncTasksTime:ke,errorMessage:qe,setErrorMessage:He}=ee,xe=async(zt,de={})=>{try{await Wo(xn(nr,"app_analytics"),{eventName:zt,uid:m.uid,timestamp:Date.now(),data:de})}catch(Re){console.error("Log error",Re)}};Mt.useEffect(()=>{if(!m)return;const zt=$a(ds(xn(nr,"news_ticker"),jh("createdAt","desc")),ct=>it(ct.docs.map(St=>({id:St.id,...St.data()})))),de=$a(ds(xn(nr,"training_modules"),fs("active","==",!0)),ct=>st(ct.docs.map(St=>({id:St.id,...St.data()})))),Re=$a(Mr(nr,"users",m.uid),ct=>{ct.exists()&&(yt(ct.data().quizProgress||{}),ct.data().currentSkin!==te.name&&zi(Mr(nr,"users",m.uid),{currentSkin:te.name}))});if(V){const ct=ds(xn(nr,"monday_ideas"),fs("uid","==",m.uid),jh("timestamp","desc"));su(ct).then(St=>re(St.docs.map(Lt=>({id:Lt.id,...Lt.data()}))))}return()=>{zt(),de(),Re()}},[m,te.name,V]);const Xe=Mt.useMemo(()=>{if(ht.length===0)return{isGraduated:!1,isRusted:!1};let zt=0,de=!1;return ht.forEach(Re=>{const ct=ut[Re.id];ct&&ct.passed&&(zt++,ct.version<Re.version&&(de=!0))}),{isGraduated:zt===ht.length,isRusted:de}},[ht,ut]),Je=async()=>{const zt=Pw(),de=`${m.uid}_${zt}`,Re=Mr(nr,"weekly_schedules",de);try{(await Wm(Re)).exists()?(await Wo(xn(nr,"schedule_requests"),{uid:m.uid,userName:c?.name||m.email,weekId:zt,proposedSchedule:vt,status:"pending",createdAt:Date.now()}),alert(` SOLICITUD ENVIADA AL TEAM LEADER

Como ya tenas un horario guardado, este cambio requiere aprobacin.`),xe("SCHEDULE_CHANGE_REQUEST")):(await ta(Re,{uid:m.uid,userName:c?.name||m.email,team:c?.team||"default",weekId:zt,schedule:vt,submittedAt:Date.now()}),new Date().getDay()===5?(d((f||0)+50),alert(` Horario guardado!
 Bonus Viernes: +50 Coins`),xe("AVAILABILITY_BONUS")):alert(" Horario guardado correctamente!")),dt(!1)}catch(ct){console.error("Error availability:",ct),alert("Error al enviar. Verifica tu conexin o permisos.")}},Oe=async zt=>{const de=bt.id,Re=bt.version||1;try{await zi(Mr(nr,"users",m.uid),{[`quizProgress.${de}`]:{passed:!0,version:Re,completedAt:Date.now()}}),d((f||0)+zt),alert(` FELICIDADES!
Has ganado +${zt} Monedas.`),xe("QUIZ_COMPLETE",{quizId:de,reward:zt}),at(null)}catch(ct){console.error(ct)}},gt=async()=>{Ee();const zt=Ft.reduce((Ut,Gt)=>Ut+(Gt.running?Gt.elapsedTime+(Date.now()-Gt.lastTime):Gt.elapsedTime),0),de=Ft.map(Ut=>{const Gt=parseInt(Ut.quantity)||0,le=Ut.running?Ut.elapsedTime+(Date.now()-Ut.lastTime):Ut.elapsedTime,Qt=le/36e5,be=Qt>0?(Gt/Qt).toFixed(2):"0.00";return{id:Ut.id,name:Ut.rawTaskName||Ut.text,category:Ut.category||"General",count:Gt,timeMs:le,speed:be}});let Re=c?.team||"default",ct=c?.name||m.displayName||m.email;const St=new Date().toLocaleString("es-AR");try{const Ut={uid:m.uid,userName:ct,team:Re,date:T,lastUpdated:Date.now(),metrics:{totalTasks:Ft.reduce((Gt,le)=>Gt+(parseInt(le.quantity)||0),0),totalTimeMs:zt,globalSpeed:zt>0?(Ft.reduce((Gt,le)=>Gt+(parseInt(le.quantity)||0),0)/(zt/36e5)).toFixed(2):"0.00"},taskBreakdown:de,timestampStr:St};await ta(Mr(nr,"daily_reports",`${m.uid}_${T}`),Ut)}catch{He("Error de conexin.")}const Lt=zt/(1e3*60*60),pe=Math.floor(Lt*10)+15;pe>0&&d((f||0)+pe);const ot=GT(Ft,T,te.name);C(ot);const wt={id:T,content:ot},jt=[...s],Xt=jt.findIndex(Ut=>Ut.id===T);Xt>-1?jt[Xt]=wt:(jt.push(wt),jt.sort((Ut,Gt)=>Gt.id.localeCompare(Ut.id))),h(jt),S(T),I(!1),xe("REPORT_GENERATED"),alert(` Reporte guardado.
Ganaste: ${pe} Lofi Coins.`)},Tt=async()=>{if(!Et.trim())return;const zt=new Date,de={uid:m.uid,userName:c?.name||m.displayName||m.email,team:c?.team||"default",content:Et,type:Nt,timestamp:Date.now(),timestampStr:zt.toLocaleString("es-AR"),analysis:{pros:"",cons:""},status:"new"};try{const Re=await Wo(xn(nr,"monday_ideas"),de);re(ct=>[{id:Re.id,...de},...ct]),It(""),alert(Nt==="dev"?" Enviado al Dev!":" Guardado para el Lunes!"),D(!1)}catch{alert("Error al enviar.")}},Pt=()=>{const zt=tv();if(M===zt){alert("Ya has cobrado!");return}d((f||0)+100),L(zt),alert(` FELICIDADES!
Meta semanal cumplida. +100 Coins.`)},ne=M===tv(),ye=()=>tt(!1),Jt=zt=>{if((f||0)>=zt.price){const de=(f||0)-zt.price,Re=[..._||[],zt.id];d(de),k(Re),xe("SHOP_BUY",{item:zt.id})}else alert("No tienes suficientes Lofi Coins.")},fe=zt=>{switch(oe.current&&(clearTimeout(oe.current),oe.current=null,ce.current=null),zt.category){case"theme":n(zt.id);break;case"pet":F(G===zt.id?null:zt.id);break;case"effect":U(j===zt.id?null:zt.id);break;case"border":X(q===zt.id?null:zt.id);break;default:n(zt.id)}},oe=Mt.useRef(null),ce=Mt.useRef(null),Me=zt=>{let de=zt.category,Re,ct;if(de==="theme")Re=a,ct=n;else if(de==="border")Re=q,ct=X;else if(de==="effect")Re=j,ct=U;else return;oe.current?ce.current&&ce.current.category!==de&&(ce.current.setter(ce.current.value),ce.current={category:de,value:Re,setter:ct}):ce.current={category:de,value:Re,setter:ct},oe.current&&clearTimeout(oe.current),ct(zt.id),oe.current=setTimeout(()=>{ce.current&&ce.current.category===de&&ct(ce.current.value),oe.current=null,ce.current=null},7e3)};Mt.useEffect(()=>{const zt="min-h-screen transition-colors duration-500",de=`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="%23ff69b4" stroke="%23ffffff" stroke-width="1.5"><path d="M12 2C10.9 2 10 2.9 10 4C10 5.1 10.9 6 12 6C13.1 6 14 5.1 14 4C14 2.9 13.1 2 12 2M7 5C5.9 5 5 5.9 5 7C5 8.1 5.9 9 7 9C8.1 9 9 8.1 9 7C9 5.9 8.1 5 7 5M17 5C15.9 5 15 5.9 15 7C15 8.1 15.9 9 17 9C18.1 9 19 8.1 19 7C19 5.9 18.1 5 17 5M12 8C9.5 8 7.3 9.3 6.1 11.4C5.5 12.4 6.2 13.7 7.3 13.9L8.5 14.1C9.6 14.3 10.7 14.3 11.8 14.1L16.5 13.2C17.7 13 18.5 11.9 18.1 10.8C17.3 9.2 14.9 8 12 8Z"/></svg>') 16 16, auto`;te.rawBg?(document.body.className=zt,document.body.style.background=te.rawBg,document.body.style.backgroundAttachment="fixed",document.body.style.backgroundSize="cover"):(document.body.className=`${te.bodyBg||"bg-gray-900"} ${zt}`,document.body.style.background=""),te.name==="neko"?document.body.style.cursor=de:document.body.style.cursor="auto"},[te]);const Ie=()=>{if(j==="matrix_effect")return Y.jsx($T,{});const zt=[...te.activeEffects||[]];return j&&!zt.includes(j)&&zt.push(j),Y.jsx(Y.Fragment,{children:zt.map(de=>{const Re=qT[de];return Re?Y.jsx(Re,{},de):null})})},Ve=()=>q==="border_neon"?"neon-pulsing-border border-4 border-transparent":"",yr=te.name==="halloween"?"glow-card":"",Ze=Mt.useMemo(()=>{const zt=s.find(de=>de.id===x);return zt?zt.content:null},[s,x]);return Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.05] z-0 mix-blend-overlay",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/stardust.png")'}}),Q.length>0&&Y.jsx("div",{className:"fixed top-0 left-0 w-full z-50 bg-black/80 border-b border-white/10 h-8 flex items-center backdrop-blur-sm",children:Y.jsx("div",{className:"marquee-container w-full",children:Y.jsx("div",{className:"marquee-content flex gap-8",children:Q.map(zt=>Y.jsxs("span",{className:`text-xs font-bold font-mono px-4 ${zt.type==="critical"?"text-red-400 animate-pulse":zt.type==="party"?"text-yellow-400":"text-blue-400"}`,children:[zt.type==="critical"&&""," ",zt.type==="party"&&""," ",zt.type==="info"&&""," ",zt.text]},zt.id))})})}),Xe.isGraduated&&Y.jsxs("div",{className:"fixed top-12 left-4 z-40 flex flex-col items-center animate-fadeIn",children:[Y.jsx("div",{className:`text-4xl ${Xe.isRusted?"grad-badge-rust":"grad-badge-glow"}`,title:Xe.isRusted?"Certificacin Vencida":"Agente Certificado",children:""}),Xe.isRusted&&Y.jsx("span",{className:"text-[9px] bg-red-600 text-white px-1 rounded animate-bounce",children:"UPDATE"})]}),t&&Y.jsx("button",{onClick:i,className:"fixed top-12 right-4 z-50 bg-purple-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:" LDER"}),Y.jsxs("button",{onClick:()=>{$t("dev"),D(!0)},className:"fixed bottom-20 right-4 z-50 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2.5 rounded-full shadow-lg text-xs font-bold transition-transform active:scale-95 flex items-center gap-2",children:[Y.jsx("span",{children:""}),Y.jsx("span",{children:"IDEAS PARA LA APP/BUGS"})]}),Y.jsxs("button",{onClick:()=>{$t("monday"),D(!0)},className:"fixed bottom-4 right-4 z-50 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2.5 rounded-full shadow-lg text-xs font-bold transition-transform active:scale-95 flex items-center gap-2",children:[Y.jsx("span",{children:""}),Y.jsx("span",{children:"IDEAS PARA EL LUNES"})]}),Y.jsxs("button",{onClick:()=>dt(!0),className:"fixed bottom-36 right-4 z-50 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 rounded-full font-bold shadow-lg text-xs flex items-center gap-2",children:[Y.jsx("span",{children:""}),Y.jsx("span",{className:"hidden sm:inline",children:"MI DISPONIBILIDAD"})]}),V&&Y.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:Y.jsxs("div",{className:"bg-[#0f111a] border border-white/10 rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[85vh] overflow-hidden",children:[Y.jsxs("div",{className:`p-6 border-b border-white/10 flex justify-between items-center bg-gradient-to-r ${Nt==="monday"?"from-yellow-900/40 to-orange-900/40":"from-purple-900/40 to-indigo-900/40"}`,children:[Y.jsx("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:Nt==="monday"?" Ideas para el Lunes":" Soporte / Dev Ticket"}),Y.jsx("button",{onClick:()=>D(!1),className:"text-slate-400 hover:text-white",children:""})]}),Y.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[Y.jsx("textarea",{className:`w-full bg-black/50 border rounded-lg p-3 text-white text-sm outline-none mb-3 h-32 resize-none focus:ring-1 ${Nt==="monday"?"border-yellow-900/50 focus:border-yellow-500":"border-purple-900/50 focus:border-purple-500"}`,placeholder:Nt==="monday"?"Las ideas pasan al Team Leader para analizarlas. Si la aprueba, tendrs una recompensa en monedas y se hablar el lunes.":"Ej: El botn de login falla a veces...",value:Et,onChange:zt=>It(zt.target.value)}),Y.jsx("button",{onClick:Tt,className:`w-full font-bold py-3 rounded-lg transition-colors mb-6 shadow-lg ${Nt==="monday"?"bg-yellow-600 hover:bg-yellow-500 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:"ENVIAR"}),Y.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 border-b border-white/10 pb-2",children:"Tu Historial Reciente"}),Y.jsx("div",{className:"space-y-3",children:se.length>0?se.map(zt=>Y.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5",children:[Y.jsxs("div",{className:"flex justify-between items-start mb-1",children:[Y.jsx("span",{className:"text-[10px] text-slate-500",children:zt.timestampStr}),zt.status==="approved"&&Y.jsx("span",{className:"text-[10px] bg-green-900/50 text-green-400 px-2 rounded font-bold",children:"Aprobada"}),zt.status==="rejected"&&Y.jsx("span",{className:"text-[10px] bg-red-900/50 text-red-400 px-2 rounded font-bold",children:"Rechazada"}),zt.status==="new"&&Y.jsx("span",{className:"text-[10px] bg-yellow-900/50 text-yellow-500 px-2 rounded font-bold",children:"Pendiente"})]}),Y.jsx("p",{className:"text-sm text-slate-300",children:zt.content})]},zt.id)):Y.jsx("p",{className:"text-xs text-slate-600 italic",children:"No hay historial an."})})]})]})}),pt&&Y.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:Y.jsxs("div",{className:"bg-[#0f111a] border border-white/10 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden",children:[Y.jsxs("div",{className:"p-6 border-b border-white/10 bg-blue-900/20 flex justify-between items-center",children:[Y.jsx("h3",{className:"text-lg font-bold text-blue-400",children:" Disponibilidad (Prxima Semana)"}),Y.jsx("button",{onClick:()=>dt(!1),className:"text-slate-400 hover:text-white",children:""})]}),Y.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[Y.jsx("div",{className:"text-xs text-slate-400 italic mb-2 bg-white/5 p-2 rounded",children:"Nota: Si ya enviaste tu horario, los cambios pasarn a revisin por el Team Leader."}),new Date().getDay()===5&&Y.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-3 rounded-lg text-center",children:Y.jsx("p",{className:"text-xs text-yellow-300 font-bold",children:" BONUS VIERNES: +50 COINS"})}),Object.keys(vt).map(zt=>Y.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-3 rounded-lg",children:[Y.jsx("span",{className:"w-24 font-bold text-sm text-slate-200",children:zt}),Y.jsxs("div",{className:"flex items-center gap-3",children:[Y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[Y.jsx("input",{type:"checkbox",checked:vt[zt].off,onChange:de=>xt({...vt,[zt]:{...vt[zt],off:de.target.checked}}),className:"accent-red-500"}),Y.jsx("span",{className:"text-xs font-bold text-slate-400",children:"OFF"})]}),!vt[zt].off&&Y.jsx("input",{type:"number",value:vt[zt].hours,onChange:de=>xt({...vt,[zt]:{...vt[zt],hours:parseFloat(de.target.value)}}),className:"w-12 bg-black/50 border border-white/10 rounded px-2 py-1 text-white text-sm"})]})]},zt)),Y.jsx("button",{onClick:Je,className:"w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 rounded-xl shadow-lg mt-4",children:"ENVIAR"})]})]})}),bt&&Y.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:Y.jsx(YT,{quiz:bt,onClose:()=>at(null),onComplete:Oe})}),Ie(),te.name==="lofi"&&Y.jsx(HT,{}),Y.jsx(eT,{message:Ae,resumeAction:Qe,dismissAction:Be}),Y.jsx(JS,{coins:f||0,onOpenShop:()=>tt(!0)}),Y.jsx(oT,{onClick:()=>K(!0)}),Y.jsx(uT,{isOpen:N,onClose:()=>I(!1),onGenerate:gt,tasks:Ft,syncTasksTime:ke,themeClasses:te,selectedReportDate:T,setSelectedReportDate:E,pastReports:s,setReportOutput:C,setIsReportModalOpen:I,logEvent:xe}),Y.jsx(gT,{isOpen:B,onClose:()=>K(!1),pastReports:s,hourlyRate:y,setHourlyRate:v,themeClasses:te}),Y.jsx(bT,{isOpen:Z,onClose:()=>nt(!1),onConfirm:Le,themeClasses:te}),Y.jsx(vT,{isOpen:H,onClose:ye,userCoins:f,ownedItems:_,currentTheme:te.name,activePet:G,activeBorder:q,activeEffect:j,onBuy:Jt,onEquip:fe,onPreview:Me}),Y.jsx("div",{className:"app-container relative z-10 flex flex-col items-center justify-center py-10 mt-8",children:Y.jsx("div",{className:"relative w-11/12 max-w-xl mt-8",children:Y.jsxs("div",{className:`w-full rounded-2xl shadow-2xl p-4 sm:p-8 pt-8 sm:pt-12 transition-all duration-500 ${te.cardBg} min-h-[85vh] relative ${yr} ${Ve()}`,children:[te.activeEffects&&te.activeEffects.includes("spiderweb")&&Y.jsx(Vw,{}),Y.jsxs("div",{className:"relative space-y-6 h-full flex flex-col",children:[Y.jsx(tT,{themeClasses:te,celebrationMessage:we}),ht.length>0&&Y.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:ht.map(zt=>{const de=ut[zt.id],Re=de?.passed,ct=Re&&de.version<zt.version;return Re&&!ct?null:Y.jsxs("button",{onClick:()=>at(zt),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border ${ct?"bg-red-900/30 border-red-500 text-red-300":"bg-indigo-900/30 border-indigo-500 text-indigo-300"}`,children:[Y.jsx("span",{children:""})," ",ct?"UPDATE:":"NUEVO:"," ",zt.title," (+",zt.reward,")"]},zt.id)})}),Y.jsx(aT,{isUnlocked:_e,weeklyHours:Se,targetHours:g,setTargetHours:w,onClaimBonus:Pt,bonusClaimed:ne}),Y.jsxs("div",{className:"flex justify-center gap-4 border-b border-white/10 pb-2 mb-2",children:[Y.jsx("button",{onClick:()=>R("tasks"),className:`px-4 py-2 rounded-lg font-bold text-sm ${$==="tasks"?"bg-white/20 text-white":"text-slate-400"}`,children:" TAREAS"}),Y.jsx("button",{onClick:()=>R("history"),className:`px-4 py-2 rounded-lg font-bold text-sm ${$==="history"?"bg-white/20 text-white":"text-slate-400"}`,children:" HISTORIAL"})]}),$==="tasks"&&Y.jsxs("div",{className:"flex-1 flex flex-col gap-4 animate-fadeIn",children:[Y.jsx(rT,{addTask:ie,addMultipleTasks:ae,errorMessage:qe,setErrorMessage:He,themeClasses:te}),Y.jsx("div",{className:"flex-1 overflow-y-auto task-scroll pr-2 space-y-3 min-h-[50vh] max-h-[65vh] border border-white/5 rounded-xl p-2 bg-black/10",children:Ft.length>0?Ft.map(zt=>Y.jsx(nT,{task:zt,toggleTimer:Fe,deleteTask:he,updateTaskDetails:ge,themeClasses:te,resetTaskTimer:Ge,celebrationThemeName:te.name},zt.id)):Y.jsx("p",{className:`text-center italic mt-10 ${te.secondaryText}`,children:"No hay tareas activas."})}),Y.jsxs("div",{className:"flex flex-col items-center w-full bg-black/20 p-4 rounded-xl border border-white/5 mt-auto",children:[Y.jsx("button",{type:"button",onClick:()=>I(!0),className:`px-6 py-3 rounded-full font-semibold transition duration-300 shadow-lg w-full sm:w-auto ${te.buttonAction}`,children:"Generar E.O.D.R."}),Y.jsx(rv,{content:P,themeClasses:te,placeholder:"El reporte aparecer aqu..."})]})]}),$==="history"&&Y.jsx("div",{className:"flex-1 flex flex-col gap-6 animate-fadeIn",children:Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h2",{className:`text-2xl font-bold text-center ${te.primaryText}`,children:"Calendario de Reportes"}),Y.jsx(iT,{reports:s,selectedDate:x,onSelectDate:S,themeClasses:te}),Y.jsxs("h3",{className:`font-bold mb-2 text-center ${te.accentText}`,children:["Reporte del: ",x.split("-").reverse().join("/")]}),Y.jsx(rv,{content:Ze,themeClasses:te,placeholder:"No hay reporte guardado para este da."})]})})]})]})})})]})},YT=({quiz:m,onClose:e,onComplete:t})=>{const[i,c]=Mt.useState({}),[l,s]=Mt.useState(null),h=()=>{let a=0;m.questions.forEach((u,p)=>{i[p]===u.correct&&a++});const n=a>=m.questions.length*.8;s({correct:a,total:m.questions.length,passed:n}),n&&setTimeout(()=>t(m.reward),1500)};return Y.jsxs("div",{className:"bg-[#1a1c2e] border border-white/20 rounded-xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl relative",children:[Y.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:""}),l?Y.jsxs("div",{className:"text-center py-10",children:[Y.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:l.passed?"":""}),Y.jsx("h3",{className:`text-3xl font-bold mb-2 ${l.passed?"text-green-400":"text-red-400"}`,children:l.passed?"APROBADO!":"INTNTALO DE NUEVO"}),Y.jsxs("p",{className:"text-xl text-slate-300",children:["Puntuacin: ",l.correct," / ",l.total]}),!l.passed&&Y.jsx("button",{onClick:()=>s(null),className:"mt-6 bg-white/10 hover:bg-white/20 text-white px-6 py-2 rounded-lg",children:"Reintentar"})]}):Y.jsxs(Y.Fragment,{children:[Y.jsxs("h2",{className:"text-2xl font-bold text-white mb-2",children:[" ",m.title]}),Y.jsxs("p",{className:"text-slate-400 text-sm mb-6",children:["Responde para ganar ",Y.jsxs("span",{className:"text-yellow-400 font-bold",children:[m.reward," Coins"]}),"."]}),Y.jsx("div",{className:"space-y-6",children:m.questions.map((a,n)=>Y.jsxs("div",{className:"bg-black/30 p-4 rounded-lg border border-white/5",children:[Y.jsxs("p",{className:"font-bold text-slate-200 mb-3",children:[n+1,". ",a.text]}),Y.jsx("div",{className:"space-y-2",children:a.options.map((u,p)=>Y.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer ${i[n]===p?"bg-indigo-600/30 border border-indigo-500":"bg-white/5"}`,children:[Y.jsx("input",{type:"radio",name:`q-${n}`,onChange:()=>c({...i,[n]:p}),className:"accent-indigo-500 w-4 h-4"}),Y.jsx("span",{className:"text-sm text-slate-300",children:u})]},p))})]},n))}),Y.jsx("button",{onClick:h,className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl mt-8",children:"ENVIAR RESPUESTAS"})]})]})};A3.createRoot(document.getElementById("root")).render(Y.jsx(Mt.StrictMode,{children:Y.jsx(WT,{})}));
