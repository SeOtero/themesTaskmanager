(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function t(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(c){if(c.ep)return;c.ep=!0;const o=t(c);fetch(c.href,o)}})();var er=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hv(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var rp={exports:{}},Jl={};var g1;function Sx(){if(g1)return Jl;g1=1;var p=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,c,o){var s=null;if(o!==void 0&&(s=""+o),c.key!==void 0&&(s=""+c.key),"key"in c){o={};for(var h in c)h!=="key"&&(o[h]=c[h])}else o=c;return c=o.ref,{$$typeof:p,type:i,key:s,ref:c!==void 0?c:null,props:o}}return Jl.Fragment=e,Jl.jsx=t,Jl.jsxs=t,Jl}var b1;function Tx(){return b1||(b1=1,rp.exports=Sx()),rp.exports}var W=Tx(),np={exports:{}},$e={};var y1;function Ex(){if(y1)return $e;y1=1;var p=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),n=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),f=Symbol.iterator;function d(I){return I===null||typeof I!="object"?null:(I=f&&I[f]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function w(I,B,K){this.props=I,this.context=B,this.refs=g,this.updater=K||b}w.prototype.isReactComponent={},w.prototype.setState=function(I,B){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,B,"setState")},w.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function _(){}_.prototype=w.prototype;function A(I,B,K){this.props=I,this.context=B,this.refs=g,this.updater=K||b}var M=A.prototype=new _;M.constructor=A,v(M,w.prototype),M.isPureReactComponent=!0;var O=Array.isArray;function q(){}var F={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function V(I,B,K){var Z=K.ref;return{$$typeof:p,type:I,key:B,ref:Z!==void 0?Z:null,props:K}}function G(I,B){return V(I.type,B,I.props)}function X(I){return typeof I=="object"&&I!==null&&I.$$typeof===p}function H(I){var B={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(K){return B[K]})}var R=/\/+/g;function P(I,B){return typeof I=="object"&&I!==null&&I.key!=null?H(""+I.key):B.toString(36)}function k(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(q,q):(I.status="pending",I.then(function(B){I.status==="pending"&&(I.status="fulfilled",I.value=B)},function(B){I.status==="pending"&&(I.status="rejected",I.reason=B)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function x(I,B,K,Z,nt){var $=typeof I;($==="undefined"||$==="boolean")&&(I=null);var tt=!1;if(I===null)tt=!0;else switch($){case"bigint":case"string":case"number":tt=!0;break;case"object":switch(I.$$typeof){case p:case e:tt=!0;break;case u:return tt=I._init,x(tt(I._payload),B,K,Z,nt)}}if(tt)return nt=nt(I),tt=Z===""?"."+P(I,0):Z,O(nt)?(K="",tt!=null&&(K=tt.replace(R,"$&/")+"/"),x(nt,B,K,"",function(Q){return Q})):nt!=null&&(X(nt)&&(nt=G(nt,K+(nt.key==null||I&&I.key===nt.key?"":(""+nt.key).replace(R,"$&/")+"/")+tt)),B.push(nt)),1;tt=0;var U=Z===""?".":Z+":";if(O(I))for(var L=0;L<I.length;L++)Z=I[L],$=U+P(Z,L),tt+=x(Z,B,K,$,nt);else if(L=d(I),typeof L=="function")for(I=L.call(I),L=0;!(Z=I.next()).done;)Z=Z.value,$=U+P(Z,L++),tt+=x(Z,B,K,$,nt);else if($==="object"){if(typeof I.then=="function")return x(k(I),B,K,Z,nt);throw B=String(I),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return tt}function S(I,B,K){if(I==null)return I;var Z=[],nt=0;return x(I,Z,"","",function($){return B.call(K,$,nt++)}),Z}function T(I){if(I._status===-1){var B=I._result;B=B(),B.then(function(K){(I._status===0||I._status===-1)&&(I._status=1,I._result=K)},function(K){(I._status===0||I._status===-1)&&(I._status=2,I._result=K)}),I._status===-1&&(I._status=0,I._result=B)}if(I._status===1)return I._result.default;throw I._result}var E=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},N={map:S,forEach:function(I,B,K){S(I,function(){B.apply(this,arguments)},K)},count:function(I){var B=0;return S(I,function(){B++}),B},toArray:function(I){return S(I,function(B){return B})||[]},only:function(I){if(!X(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return $e.Activity=m,$e.Children=N,$e.Component=w,$e.Fragment=t,$e.Profiler=c,$e.PureComponent=A,$e.StrictMode=i,$e.Suspense=a,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,$e.__COMPILER_RUNTIME={__proto__:null,c:function(I){return F.H.useMemoCache(I)}},$e.cache=function(I){return function(){return I.apply(null,arguments)}},$e.cacheSignal=function(){return null},$e.cloneElement=function(I,B,K){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var Z=v({},I.props),nt=I.key;if(B!=null)for($ in B.key!==void 0&&(nt=""+B.key),B)!j.call(B,$)||$==="key"||$==="__self"||$==="__source"||$==="ref"&&B.ref===void 0||(Z[$]=B[$]);var $=arguments.length-2;if($===1)Z.children=K;else if(1<$){for(var tt=Array($),U=0;U<$;U++)tt[U]=arguments[U+2];Z.children=tt}return V(I.type,nt,Z)},$e.createContext=function(I){return I={$$typeof:s,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},$e.createElement=function(I,B,K){var Z,nt={},$=null;if(B!=null)for(Z in B.key!==void 0&&($=""+B.key),B)j.call(B,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(nt[Z]=B[Z]);var tt=arguments.length-2;if(tt===1)nt.children=K;else if(1<tt){for(var U=Array(tt),L=0;L<tt;L++)U[L]=arguments[L+2];nt.children=U}if(I&&I.defaultProps)for(Z in tt=I.defaultProps,tt)nt[Z]===void 0&&(nt[Z]=tt[Z]);return V(I,$,nt)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(I){return{$$typeof:h,render:I}},$e.isValidElement=X,$e.lazy=function(I){return{$$typeof:u,_payload:{_status:-1,_result:I},_init:T}},$e.memo=function(I,B){return{$$typeof:n,type:I,compare:B===void 0?null:B}},$e.startTransition=function(I){var B=F.T,K={};F.T=K;try{var Z=I(),nt=F.S;nt!==null&&nt(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(q,E)}catch($){E($)}finally{B!==null&&K.types!==null&&(B.types=K.types),F.T=B}},$e.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},$e.use=function(I){return F.H.use(I)},$e.useActionState=function(I,B,K){return F.H.useActionState(I,B,K)},$e.useCallback=function(I,B){return F.H.useCallback(I,B)},$e.useContext=function(I){return F.H.useContext(I)},$e.useDebugValue=function(){},$e.useDeferredValue=function(I,B){return F.H.useDeferredValue(I,B)},$e.useEffect=function(I,B){return F.H.useEffect(I,B)},$e.useEffectEvent=function(I){return F.H.useEffectEvent(I)},$e.useId=function(){return F.H.useId()},$e.useImperativeHandle=function(I,B,K){return F.H.useImperativeHandle(I,B,K)},$e.useInsertionEffect=function(I,B){return F.H.useInsertionEffect(I,B)},$e.useLayoutEffect=function(I,B){return F.H.useLayoutEffect(I,B)},$e.useMemo=function(I,B){return F.H.useMemo(I,B)},$e.useOptimistic=function(I,B){return F.H.useOptimistic(I,B)},$e.useReducer=function(I,B,K){return F.H.useReducer(I,B,K)},$e.useRef=function(I){return F.H.useRef(I)},$e.useState=function(I){return F.H.useState(I)},$e.useSyncExternalStore=function(I,B,K){return F.H.useSyncExternalStore(I,B,K)},$e.useTransition=function(){return F.H.useTransition()},$e.version="19.2.4",$e}var v1;function Qp(){return v1||(v1=1,np.exports=Ex()),np.exports}var Et=Qp();const Ax=hv(Et);var ip={exports:{}},tu={},sp={exports:{}},ap={};var w1;function Cx(){return w1||(w1=1,(function(p){function e(x,S){var T=x.length;x.push(S);t:for(;0<T;){var E=T-1>>>1,N=x[E];if(0<c(N,S))x[E]=S,x[T]=N,T=E;else break t}}function t(x){return x.length===0?null:x[0]}function i(x){if(x.length===0)return null;var S=x[0],T=x.pop();if(T!==S){x[0]=T;t:for(var E=0,N=x.length,I=N>>>1;E<I;){var B=2*(E+1)-1,K=x[B],Z=B+1,nt=x[Z];if(0>c(K,T))Z<N&&0>c(nt,K)?(x[E]=nt,x[Z]=T,E=Z):(x[E]=K,x[B]=T,E=B);else if(Z<N&&0>c(nt,T))x[E]=nt,x[Z]=T,E=Z;else break t}}return S}function c(x,S){var T=x.sortIndex-S.sortIndex;return T!==0?T:x.id-S.id}if(p.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;p.unstable_now=function(){return o.now()}}else{var s=Date,h=s.now();p.unstable_now=function(){return s.now()-h}}var a=[],n=[],u=1,m=null,f=3,d=!1,b=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(x){for(var S=t(n);S!==null;){if(S.callback===null)i(n);else if(S.startTime<=x)i(n),S.sortIndex=S.expirationTime,e(a,S);else break;S=t(n)}}function O(x){if(v=!1,M(x),!b)if(t(a)!==null)b=!0,q||(q=!0,H());else{var S=t(n);S!==null&&k(O,S.startTime-x)}}var q=!1,F=-1,j=5,V=-1;function G(){return g?!0:!(p.unstable_now()-V<j)}function X(){if(g=!1,q){var x=p.unstable_now();V=x;var S=!0;try{t:{b=!1,v&&(v=!1,_(F),F=-1),d=!0;var T=f;try{e:{for(M(x),m=t(a);m!==null&&!(m.expirationTime>x&&G());){var E=m.callback;if(typeof E=="function"){m.callback=null,f=m.priorityLevel;var N=E(m.expirationTime<=x);if(x=p.unstable_now(),typeof N=="function"){m.callback=N,M(x),S=!0;break e}m===t(a)&&i(a),M(x)}else i(a);m=t(a)}if(m!==null)S=!0;else{var I=t(n);I!==null&&k(O,I.startTime-x),S=!1}}break t}finally{m=null,f=T,d=!1}S=void 0}}finally{S?H():q=!1}}}var H;if(typeof A=="function")H=function(){A(X)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,P=R.port2;R.port1.onmessage=X,H=function(){P.postMessage(null)}}else H=function(){w(X,0)};function k(x,S){F=w(function(){x(p.unstable_now())},S)}p.unstable_IdlePriority=5,p.unstable_ImmediatePriority=1,p.unstable_LowPriority=4,p.unstable_NormalPriority=3,p.unstable_Profiling=null,p.unstable_UserBlockingPriority=2,p.unstable_cancelCallback=function(x){x.callback=null},p.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<x?Math.floor(1e3/x):5},p.unstable_getCurrentPriorityLevel=function(){return f},p.unstable_next=function(x){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var T=f;f=S;try{return x()}finally{f=T}},p.unstable_requestPaint=function(){g=!0},p.unstable_runWithPriority=function(x,S){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var T=f;f=x;try{return S()}finally{f=T}},p.unstable_scheduleCallback=function(x,S,T){var E=p.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?E+T:E):T=E,x){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=T+N,x={id:u++,callback:S,priorityLevel:x,startTime:T,expirationTime:N,sortIndex:-1},T>E?(x.sortIndex=T,e(n,x),t(a)===null&&x===t(n)&&(v?(_(F),F=-1):v=!0,k(O,T-E))):(x.sortIndex=N,e(a,x),b||d||(b=!0,q||(q=!0,H()))),x},p.unstable_shouldYield=G,p.unstable_wrapCallback=function(x){var S=f;return function(){var T=f;f=S;try{return x.apply(this,arguments)}finally{f=T}}}})(ap)),ap}var _1;function kx(){return _1||(_1=1,sp.exports=Cx()),sp.exports}var op={exports:{}},wn={};var x1;function Rx(){if(x1)return wn;x1=1;var p=Qp();function e(a){var n="https://react.dev/errors/"+a;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)n+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},c=Symbol.for("react.portal");function o(a,n,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:m==null?null:""+m,children:a,containerInfo:n,implementation:u}}var s=p.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(a,n){if(a==="font")return"";if(typeof n=="string")return n==="use-credentials"?n:""}return wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wn.createPortal=function(a,n){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)throw Error(e(299));return o(a,n,null,u)},wn.flushSync=function(a){var n=s.T,u=i.p;try{if(s.T=null,i.p=2,a)return a()}finally{s.T=n,i.p=u,i.d.f()}},wn.preconnect=function(a,n){typeof a=="string"&&(n?(n=n.crossOrigin,n=typeof n=="string"?n==="use-credentials"?n:"":void 0):n=null,i.d.C(a,n))},wn.prefetchDNS=function(a){typeof a=="string"&&i.d.D(a)},wn.preinit=function(a,n){if(typeof a=="string"&&n&&typeof n.as=="string"){var u=n.as,m=h(u,n.crossOrigin),f=typeof n.integrity=="string"?n.integrity:void 0,d=typeof n.fetchPriority=="string"?n.fetchPriority:void 0;u==="style"?i.d.S(a,typeof n.precedence=="string"?n.precedence:void 0,{crossOrigin:m,integrity:f,fetchPriority:d}):u==="script"&&i.d.X(a,{crossOrigin:m,integrity:f,fetchPriority:d,nonce:typeof n.nonce=="string"?n.nonce:void 0})}},wn.preinitModule=function(a,n){if(typeof a=="string")if(typeof n=="object"&&n!==null){if(n.as==null||n.as==="script"){var u=h(n.as,n.crossOrigin);i.d.M(a,{crossOrigin:u,integrity:typeof n.integrity=="string"?n.integrity:void 0,nonce:typeof n.nonce=="string"?n.nonce:void 0})}}else n==null&&i.d.M(a)},wn.preload=function(a,n){if(typeof a=="string"&&typeof n=="object"&&n!==null&&typeof n.as=="string"){var u=n.as,m=h(u,n.crossOrigin);i.d.L(a,u,{crossOrigin:m,integrity:typeof n.integrity=="string"?n.integrity:void 0,nonce:typeof n.nonce=="string"?n.nonce:void 0,type:typeof n.type=="string"?n.type:void 0,fetchPriority:typeof n.fetchPriority=="string"?n.fetchPriority:void 0,referrerPolicy:typeof n.referrerPolicy=="string"?n.referrerPolicy:void 0,imageSrcSet:typeof n.imageSrcSet=="string"?n.imageSrcSet:void 0,imageSizes:typeof n.imageSizes=="string"?n.imageSizes:void 0,media:typeof n.media=="string"?n.media:void 0})}},wn.preloadModule=function(a,n){if(typeof a=="string")if(n){var u=h(n.as,n.crossOrigin);i.d.m(a,{as:typeof n.as=="string"&&n.as!=="script"?n.as:void 0,crossOrigin:u,integrity:typeof n.integrity=="string"?n.integrity:void 0})}else i.d.m(a)},wn.requestFormReset=function(a){i.d.r(a)},wn.unstable_batchedUpdates=function(a,n){return a(n)},wn.useFormState=function(a,n,u){return s.H.useFormState(a,n,u)},wn.useFormStatus=function(){return s.H.useHostTransitionStatus()},wn.version="19.2.4",wn}var S1;function Mx(){if(S1)return op.exports;S1=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(e){console.error(e)}}return p(),op.exports=Rx(),op.exports}var T1;function Nx(){if(T1)return tu;T1=1;var p=kx(),e=Qp(),t=Mx();function i(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)l+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,y=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(y=l.return),r=l.return;while(r)}return l.tag===3?y:null}function s(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function h(r){if(r.tag===31){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function a(r){if(o(r)!==r)throw Error(i(188))}function n(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(i(188));return l!==r?null:r}for(var y=r,C=l;;){var z=y.return;if(z===null)break;var Y=z.alternate;if(Y===null){if(C=z.return,C!==null){y=C;continue}break}if(z.child===Y.child){for(Y=z.child;Y;){if(Y===y)return a(z),r;if(Y===C)return a(z),l;Y=Y.sibling}throw Error(i(188))}if(y.return!==C.return)y=z,C=Y;else{for(var et=!1,ot=z.child;ot;){if(ot===y){et=!0,y=z,C=Y;break}if(ot===C){et=!0,C=z,y=Y;break}ot=ot.sibling}if(!et){for(ot=Y.child;ot;){if(ot===y){et=!0,y=Y,C=z;break}if(ot===C){et=!0,C=Y,y=z;break}ot=ot.sibling}if(!et)throw Error(i(189))}}if(y.alternate!==C)throw Error(i(190))}if(y.tag!==3)throw Error(i(188));return y.stateNode.current===y?r:l}function u(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=u(r),l!==null)return l;r=r.sibling}return null}var m=Object.assign,f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),A=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),X=Symbol.iterator;function H(r){return r===null||typeof r!="object"?null:(r=X&&r[X]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function P(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case v:return"Fragment";case w:return"Profiler";case g:return"StrictMode";case O:return"Suspense";case q:return"SuspenseList";case V:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case b:return"Portal";case A:return r.displayName||"Context";case _:return(r._context.displayName||"Context")+".Consumer";case M:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case F:return l=r.displayName||null,l!==null?l:P(r.type)||"Memo";case j:l=r._payload,r=r._init;try{return P(r(l))}catch{}}return null}var k=Array.isArray,x=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},E=[],N=-1;function I(r){return{current:r}}function B(r){0>N||(r.current=E[N],E[N]=null,N--)}function K(r,l){N++,E[N]=r.current,r.current=l}var Z=I(null),nt=I(null),$=I(null),tt=I(null);function U(r,l){switch(K($,l),K(nt,r),K(Z,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?Vb(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=Vb(l),r=zb(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}B(Z),K(Z,r)}function L(){B(Z),B(nt),B($)}function Q(r){r.memoizedState!==null&&K(tt,r);var l=Z.current,y=zb(l,r.type);l!==y&&(K(nt,r),K(Z,y))}function it(r){nt.current===r&&(B(Z),B(nt)),tt.current===r&&(B(tt),Xl._currentValue=T)}var ut,st;function lt(r){if(ut===void 0)try{throw Error()}catch(y){var l=y.stack.trim().match(/\n( *(at )?)/);ut=l&&l[1]||"",st=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ut+r+st}var bt=!1;function yt(r,l){if(!r||bt)return"";bt=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var C={DetermineComponentFrameRoot:function(){try{if(l){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(Pt){var Nt=Pt}Reflect.construct(r,[],Ft)}else{try{Ft.call()}catch(Pt){Nt=Pt}r.call(Ft.prototype)}}else{try{throw Error()}catch(Pt){Nt=Pt}(Ft=r())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(Pt){if(Pt&&Nt&&typeof Pt.stack=="string")return[Pt.stack,Nt.stack]}return[null,null]}};C.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var z=Object.getOwnPropertyDescriptor(C.DetermineComponentFrameRoot,"name");z&&z.configurable&&Object.defineProperty(C.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Y=C.DetermineComponentFrameRoot(),et=Y[0],ot=Y[1];if(et&&ot){var gt=et.split(`
`),Rt=ot.split(`
`);for(z=C=0;C<gt.length&&!gt[C].includes("DetermineComponentFrameRoot");)C++;for(;z<Rt.length&&!Rt[z].includes("DetermineComponentFrameRoot");)z++;if(C===gt.length||z===Rt.length)for(C=gt.length-1,z=Rt.length-1;1<=C&&0<=z&&gt[C]!==Rt[z];)z--;for(;1<=C&&0<=z;C--,z--)if(gt[C]!==Rt[z]){if(C!==1||z!==1)do if(C--,z--,0>z||gt[C]!==Rt[z]){var Bt=`
`+gt[C].replace(" at new "," at ");return r.displayName&&Bt.includes("<anonymous>")&&(Bt=Bt.replace("<anonymous>",r.displayName)),Bt}while(1<=C&&0<=z);break}}}finally{bt=!1,Error.prepareStackTrace=y}return(y=r?r.displayName||r.name:"")?lt(y):""}function at(r,l){switch(r.tag){case 26:case 27:case 5:return lt(r.type);case 16:return lt("Lazy");case 13:return r.child!==l&&l!==null?lt("Suspense Fallback"):lt("Suspense");case 19:return lt("SuspenseList");case 0:case 15:return yt(r.type,!1);case 11:return yt(r.type.render,!1);case 1:return yt(r.type,!0);case 31:return lt("Activity");default:return""}}function pt(r){try{var l="",y=null;do l+=at(r,y),y=r,r=r.return;while(r);return l}catch(C){return`
Error generating stack: `+C.message+`
`+C.stack}}var dt=Object.prototype.hasOwnProperty,vt=p.unstable_scheduleCallback,xt=p.unstable_cancelCallback,wt=p.unstable_shouldYield,jt=p.unstable_requestPaint,It=p.unstable_now,Ht=p.unstable_getCurrentPriorityLevel,ee=p.unstable_ImmediatePriority,Qt=p.unstable_UserBlockingPriority,Kt=p.unstable_NormalPriority,be=p.unstable_LowPriority,fe=p.unstable_IdlePriority,de=p.log,ge=p.unstable_setDisableYieldValue,Zt=null,Gt=null;function te(r){if(typeof de=="function"&&ge(r),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Zt,r)}catch{}}var re=Math.clz32?Math.clz32:We,oe=Math.log,Oe=Math.LN2;function We(r){return r>>>=0,r===0?32:31-(oe(r)/Oe|0)|0}var he=256,Ve=262144,ve=4194304;function we(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function ze(r,l,y){var C=r.pendingLanes;if(C===0)return 0;var z=0,Y=r.suspendedLanes,et=r.pingedLanes;r=r.warmLanes;var ot=C&134217727;return ot!==0?(C=ot&~Y,C!==0?z=we(C):(et&=ot,et!==0?z=we(et):y||(y=ot&~r,y!==0&&(z=we(y))))):(ot=C&~Y,ot!==0?z=we(ot):et!==0?z=we(et):y||(y=C&~r,y!==0&&(z=we(y)))),z===0?0:l!==0&&l!==z&&(l&Y)===0&&(Y=z&-z,y=l&-l,Y>=y||Y===32&&(y&4194048)!==0)?l:z}function Ne(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function _e(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function He(){var r=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),r}function qe(r){for(var l=[],y=0;31>y;y++)l.push(r);return l}function Se(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Je(r,l,y,C,z,Y){var et=r.pendingLanes;r.pendingLanes=y,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=y,r.entangledLanes&=y,r.errorRecoveryDisabledLanes&=y,r.shellSuspendCounter=0;var ot=r.entanglements,gt=r.expirationTimes,Rt=r.hiddenUpdates;for(y=et&~y;0<y;){var Bt=31-re(y),Ft=1<<Bt;ot[Bt]=0,gt[Bt]=-1;var Nt=Rt[Bt];if(Nt!==null)for(Rt[Bt]=null,Bt=0;Bt<Nt.length;Bt++){var Pt=Nt[Bt];Pt!==null&&(Pt.lane&=-536870913)}y&=~Ft}C!==0&&Ke(r,C,0),Y!==0&&z===0&&r.tag!==0&&(r.suspendedLanes|=Y&~(et&~l))}function Ke(r,l,y){r.pendingLanes|=l,r.suspendedLanes&=~l;var C=31-re(l);r.entangledLanes|=l,r.entanglements[C]=r.entanglements[C]|1073741824|y&261930}function Ce(r,l){var y=r.entangledLanes|=l;for(r=r.entanglements;y;){var C=31-re(y),z=1<<C;z&l|r[C]&l&&(r[C]|=l),y&=~z}}function mt(r,l){var y=l&-l;return y=(y&42)!==0?1:Tt(y),(y&(r.suspendedLanes|l))!==0?0:y}function Tt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Dt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Jt(){var r=S.p;return r!==0?r:(r=window.event,r===void 0?32:u1(r.type))}function pe(r,l){var y=S.p;try{return S.p=r,l()}finally{S.p=y}}var Xt=Math.random().toString(36).slice(2),le="__reactFiber$"+Xt,Lt="__reactProps$"+Xt,Yt="__reactContainer$"+Xt,ue="__reactEvents$"+Xt,se="__reactListeners$"+Xt,ke="__reactHandles$"+Xt,br="__reactResources$"+Xt,tr="__reactMarker$"+Xt;function Tr(r){delete r[le],delete r[Lt],delete r[ue],delete r[se],delete r[ke]}function dr(r){var l=r[le];if(l)return l;for(var y=r.parentNode;y;){if(l=y[Yt]||y[le]){if(y=l.alternate,l.child!==null||y!==null&&y.child!==null)for(r=Wb(r);r!==null;){if(y=r[le])return y;r=Wb(r)}return l}r=y,y=r.parentNode}return null}function _r(r){if(r=r[le]||r[Yt]){var l=r.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return r}return null}function ht(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(i(33))}function ft(r){var l=r[br];return l||(l=r[br]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function St(r){r[tr]=!0}var Mt=new Set,Wt={};function zt(r,l){qt(r,l),qt(r+"Capture",l)}function qt(r,l){for(Wt[r]=l,r=0;r<l.length;r++)Mt.add(l[r])}var Ie=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ae={},xe={};function ne(r){return dt.call(xe,r)?!0:dt.call(ae,r)?!1:Ie.test(r)?xe[r]=!0:(ae[r]=!0,!1)}function Ae(r,l,y){if(ne(l))if(y===null)r.removeAttribute(l);else{switch(typeof y){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var C=l.toLowerCase().slice(0,5);if(C!=="data-"&&C!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+y)}}function Be(r,l,y){if(y===null)r.removeAttribute(l);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+y)}}function Ee(r,l,y,C){if(C===null)r.removeAttribute(y);else{switch(typeof C){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(y);return}r.setAttributeNS(l,y,""+C)}}function Ue(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Rr(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Hr(r,l,y){var C=Object.getOwnPropertyDescriptor(r.constructor.prototype,l);if(!r.hasOwnProperty(l)&&typeof C<"u"&&typeof C.get=="function"&&typeof C.set=="function"){var z=C.get,Y=C.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return z.call(this)},set:function(et){y=""+et,Y.call(this,et)}}),Object.defineProperty(r,l,{enumerable:C.enumerable}),{getValue:function(){return y},setValue:function(et){y=""+et},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Qe(r){if(!r._valueTracker){var l=Rr(r)?"checked":"value";r._valueTracker=Hr(r,l,""+r[l])}}function An(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var y=l.getValue(),C="";return r&&(C=Rr(r)?r.checked?"true":"false":r.value),r=C,r!==y?(l.setValue(r),!0):!1}function un(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Nn=/[\n"\\]/g;function qr(r){return r.replace(Nn,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function nr(r,l,y,C,z,Y,et,ot){r.name="",et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?r.type=et:r.removeAttribute("type"),l!=null?et==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Ue(l)):r.value!==""+Ue(l)&&(r.value=""+Ue(l)):et!=="submit"&&et!=="reset"||r.removeAttribute("value"),l!=null?In(r,et,Ue(l)):y!=null?In(r,et,Ue(y)):C!=null&&r.removeAttribute("value"),z==null&&Y!=null&&(r.defaultChecked=!!Y),z!=null&&(r.checked=z&&typeof z!="function"&&typeof z!="symbol"),ot!=null&&typeof ot!="function"&&typeof ot!="symbol"&&typeof ot!="boolean"?r.name=""+Ue(ot):r.removeAttribute("name")}function rr(r,l,y,C,z,Y,et,ot){if(Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"&&(r.type=Y),l!=null||y!=null){if(!(Y!=="submit"&&Y!=="reset"||l!=null)){Qe(r);return}y=y!=null?""+Ue(y):"",l=l!=null?""+Ue(l):y,ot||l===r.value||(r.value=l),r.defaultValue=l}C=C??z,C=typeof C!="function"&&typeof C!="symbol"&&!!C,r.checked=ot?r.checked:!!C,r.defaultChecked=!!C,et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"&&(r.name=et),Qe(r)}function In(r,l,y){l==="number"&&un(r.ownerDocument)===r||r.defaultValue===""+y||(r.defaultValue=""+y)}function vn(r,l,y,C){if(r=r.options,l){l={};for(var z=0;z<y.length;z++)l["$"+y[z]]=!0;for(y=0;y<r.length;y++)z=l.hasOwnProperty("$"+r[y].value),r[y].selected!==z&&(r[y].selected=z),z&&C&&(r[y].defaultSelected=!0)}else{for(y=""+Ue(y),l=null,z=0;z<r.length;z++){if(r[z].value===y){r[z].selected=!0,C&&(r[z].defaultSelected=!0);return}l!==null||r[z].disabled||(l=r[z])}l!==null&&(l.selected=!0)}}function Ki(r,l,y){if(l!=null&&(l=""+Ue(l),l!==r.value&&(r.value=l),y==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=y!=null?""+Ue(y):""}function Vr(r,l,y,C){if(l==null){if(C!=null){if(y!=null)throw Error(i(92));if(k(C)){if(1<C.length)throw Error(i(93));C=C[0]}y=C}y==null&&(y=""),l=y}y=Ue(l),r.defaultValue=y,C=r.textContent,C===y&&C!==""&&C!==null&&(r.value=C),Qe(r)}function Dr(r,l){if(l){var y=r.firstChild;if(y&&y===r.lastChild&&y.nodeType===3){y.nodeValue=l;return}}r.textContent=l}var Un=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function di(r,l,y){var C=l.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?C?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":C?r.setProperty(l,y):typeof y!="number"||y===0||Un.has(l)?l==="float"?r.cssFloat=y:r[l]=(""+y).trim():r[l]=y+"px"}function Ni(r,l,y){if(l!=null&&typeof l!="object")throw Error(i(62));if(r=r.style,y!=null){for(var C in y)!y.hasOwnProperty(C)||l!=null&&l.hasOwnProperty(C)||(C.indexOf("--")===0?r.setProperty(C,""):C==="float"?r.cssFloat="":r[C]="");for(var z in l)C=l[z],l.hasOwnProperty(z)&&y[z]!==C&&di(r,z,C)}else for(var Y in l)l.hasOwnProperty(Y)&&di(r,Y,l[Y])}function Fn(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(r){return pi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function Cn(){}var Ii=null;function cn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var gi=null,kn=null;function Jn(r){var l=_r(r);if(l&&(r=l.stateNode)){var y=r[Lt]||null;t:switch(r=l.stateNode,l.type){case"input":if(nr(r,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),l=y.name,y.type==="radio"&&l!=null){for(y=r;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+qr(""+l)+'"][type="radio"]'),l=0;l<y.length;l++){var C=y[l];if(C!==r&&C.form===r.form){var z=C[Lt]||null;if(!z)throw Error(i(90));nr(C,z.value,z.defaultValue,z.defaultValue,z.checked,z.defaultChecked,z.type,z.name)}}for(l=0;l<y.length;l++)C=y[l],C.form===r.form&&An(C)}break t;case"textarea":Ki(r,y.value,y.defaultValue);break t;case"select":l=y.value,l!=null&&vn(r,!!y.multiple,l,!1)}}}var io=!1;function Cs(r,l,y){if(io)return r(l,y);io=!0;try{var C=r(l);return C}finally{if(io=!1,(gi!==null||kn!==null)&&(Ic(),gi&&(l=gi,r=kn,kn=gi=null,Jn(l),r)))for(l=0;l<r.length;l++)Jn(r[l])}}function bi(r,l){var y=r.stateNode;if(y===null)return null;var C=y[Lt]||null;if(C===null)return null;y=C[l];t:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(r=r.type,C=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!C;break t;default:r=!1}if(r)return null;if(y&&typeof y!="function")throw Error(i(231,l,typeof y));return y}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_a=!1;if(ti)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{_a=!1}var ji=null,fl=null,xa=null;function dl(){if(xa)return xa;var r,l=fl,y=l.length,C,z="value"in ji?ji.value:ji.textContent,Y=z.length;for(r=0;r<y&&l[r]===z[r];r++);var et=y-r;for(C=1;C<=et&&l[y-C]===z[Y-C];C++);return xa=z.slice(r,1<C?1-C:void 0)}function Sa(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function Qi(){return!0}function yi(){return!1}function hn(r){function l(y,C,z,Y,et){this._reactName=y,this._targetInst=z,this.type=C,this.nativeEvent=Y,this.target=et,this.currentTarget=null;for(var ot in r)r.hasOwnProperty(ot)&&(y=r[ot],this[ot]=y?y(Y):Y[ot]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?Qi:yi,this.isPropagationStopped=yi,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),l}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=hn(Zi),ks=m({},Zi,{view:0,detail:0}),pl=hn(ks),Rs,so,Di,ao=m({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Di&&(Di&&r.type==="mousemove"?(Rs=r.screenX-Di.screenX,so=r.screenY-Di.screenY):so=Rs=0,Di=r),Rs)},movementY:function(r){return"movementY"in r?r.movementY:so}}),ml=hn(ao),Ta=m({},ao,{dataTransfer:0}),zu=hn(Ta),Uu=m({},ks,{relatedTarget:0}),Ea=hn(Uu),gl=m({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Fu=hn(gl),oo=m({},Zi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hu=hn(oo),qu=m({},Zi,{data:0}),Pi=hn(qu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Wu[r])?!!l[r]:!1}function Ms(){return Yu}var Rn=m({},ks,{key:function(r){if(r.key){var l=$u[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=Sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Gu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(r){return r.type==="keypress"?Sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xu=hn(Rn),Ku=m({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=hn(Ku),D=m({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),J=hn(D),rt=m({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ct=hn(rt),Ct=m({},ao,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ot=hn(Ct),ie=m({},Zi,{newState:0,oldState:0}),Ye=hn(ie),$r=[9,13,27,32],yr=ti&&"CompositionEvent"in window,Pr=null;ti&&"documentMode"in document&&(Pr=document.documentMode);var ei=ti&&"TextEvent"in window&&!Pr,Li=ti&&(!yr||Pr&&8<Pr&&11>=Pr),vi=" ",wi=!1;function Aa(r,l){switch(r){case"keyup":return $r.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var uo=!1;function Ww(r,l){switch(r){case"compositionend":return lo(l);case"keypress":return l.which!==32?null:(wi=!0,vi);case"textInput":return r=l.data,r===vi&&wi?null:r;default:return null}}function Yw(r,l){if(uo)return r==="compositionend"||!yr&&Aa(r,l)?(r=dl(),xa=fl=ji=null,uo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Li&&l.locale!=="ko"?null:l.data;default:return null}}var Xw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Km(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!Xw[r.type]:l==="textarea"}function Qm(r,l,y,C){gi?kn?kn.push(C):kn=[C]:gi=C,l=Vc(l,"onChange"),0<l.length&&(y=new Oi("onChange","change",null,y,C),r.push({event:y,listeners:l}))}var bl=null,yl=null;function Kw(r){jb(r,0)}function Qu(r){var l=ht(r);if(An(l))return r}function Zm(r,l){if(r==="change")return l}var Jm=!1;if(ti){var uf;if(ti){var cf="oninput"in document;if(!cf){var t0=document.createElement("div");t0.setAttribute("oninput","return;"),cf=typeof t0.oninput=="function"}uf=cf}else uf=!1;Jm=uf&&(!document.documentMode||9<document.documentMode)}function e0(){bl&&(bl.detachEvent("onpropertychange",r0),yl=bl=null)}function r0(r){if(r.propertyName==="value"&&Qu(yl)){var l=[];Qm(l,yl,r,cn(r)),Cs(Kw,l)}}function Qw(r,l,y){r==="focusin"?(e0(),bl=l,yl=y,bl.attachEvent("onpropertychange",r0)):r==="focusout"&&e0()}function Zw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qu(yl)}function Jw(r,l){if(r==="click")return Qu(l)}function t_(r,l){if(r==="input"||r==="change")return Qu(l)}function e_(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var qn=typeof Object.is=="function"?Object.is:e_;function vl(r,l){if(qn(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var y=Object.keys(r),C=Object.keys(l);if(y.length!==C.length)return!1;for(C=0;C<y.length;C++){var z=y[C];if(!dt.call(l,z)||!qn(r[z],l[z]))return!1}return!0}function n0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function i0(r,l){var y=n0(r);r=0;for(var C;y;){if(y.nodeType===3){if(C=r+y.textContent.length,r<=l&&C>=l)return{node:y,offset:l-r};r=C}t:{for(;y;){if(y.nextSibling){y=y.nextSibling;break t}y=y.parentNode}y=void 0}y=n0(y)}}function s0(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?s0(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function a0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=un(r.document);l instanceof r.HTMLIFrameElement;){try{var y=typeof l.contentWindow.location.href=="string"}catch{y=!1}if(y)r=l.contentWindow;else break;l=un(r.document)}return l}function hf(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var r_=ti&&"documentMode"in document&&11>=document.documentMode,co=null,ff=null,wl=null,df=!1;function o0(r,l,y){var C=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;df||co==null||co!==un(C)||(C=co,"selectionStart"in C&&hf(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),wl&&vl(wl,C)||(wl=C,C=Vc(ff,"onSelect"),0<C.length&&(l=new Oi("onSelect","select",null,l,y),r.push({event:l,listeners:C}),l.target=co)))}function Ca(r,l){var y={};return y[r.toLowerCase()]=l.toLowerCase(),y["Webkit"+r]="webkit"+l,y["Moz"+r]="moz"+l,y}var ho={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},pf={},l0={};ti&&(l0=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ka(r){if(pf[r])return pf[r];if(!ho[r])return r;var l=ho[r],y;for(y in l)if(l.hasOwnProperty(y)&&y in l0)return pf[r]=l[y];return r}var u0=ka("animationend"),c0=ka("animationiteration"),h0=ka("animationstart"),n_=ka("transitionrun"),i_=ka("transitionstart"),s_=ka("transitioncancel"),f0=ka("transitionend"),d0=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mf.push("scrollEnd");function _i(r,l){d0.set(r,l),zt(l,[r])}var Zu=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ri=[],fo=0,gf=0;function Ju(){for(var r=fo,l=gf=fo=0;l<r;){var y=ri[l];ri[l++]=null;var C=ri[l];ri[l++]=null;var z=ri[l];ri[l++]=null;var Y=ri[l];if(ri[l++]=null,C!==null&&z!==null){var et=C.pending;et===null?z.next=z:(z.next=et.next,et.next=z),C.pending=z}Y!==0&&p0(y,z,Y)}}function tc(r,l,y,C){ri[fo++]=r,ri[fo++]=l,ri[fo++]=y,ri[fo++]=C,gf|=C,r.lanes|=C,r=r.alternate,r!==null&&(r.lanes|=C)}function bf(r,l,y,C){return tc(r,l,y,C),ec(r)}function Ra(r,l){return tc(r,null,null,l),ec(r)}function p0(r,l,y){r.lanes|=y;var C=r.alternate;C!==null&&(C.lanes|=y);for(var z=!1,Y=r.return;Y!==null;)Y.childLanes|=y,C=Y.alternate,C!==null&&(C.childLanes|=y),Y.tag===22&&(r=Y.stateNode,r===null||r._visibility&1||(z=!0)),r=Y,Y=Y.return;return r.tag===3?(Y=r.stateNode,z&&l!==null&&(z=31-re(y),r=Y.hiddenUpdates,C=r[z],C===null?r[z]=[l]:C.push(l),l.lane=y|536870912),Y):null}function ec(r){if(50<Fl)throw Fl=0,Ad=null,Error(i(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var po={};function a_(r,l,y,C){this.tag=r,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(r,l,y,C){return new a_(r,l,y,C)}function yf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ts(r,l){var y=r.alternate;return y===null?(y=$n(r.tag,l,r.key,r.mode),y.elementType=r.elementType,y.type=r.type,y.stateNode=r.stateNode,y.alternate=r,r.alternate=y):(y.pendingProps=l,y.type=r.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=r.flags&65011712,y.childLanes=r.childLanes,y.lanes=r.lanes,y.child=r.child,y.memoizedProps=r.memoizedProps,y.memoizedState=r.memoizedState,y.updateQueue=r.updateQueue,l=r.dependencies,y.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},y.sibling=r.sibling,y.index=r.index,y.ref=r.ref,y.refCleanup=r.refCleanup,y}function m0(r,l){r.flags&=65011714;var y=r.alternate;return y===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=y.childLanes,r.lanes=y.lanes,r.child=y.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=y.memoizedProps,r.memoizedState=y.memoizedState,r.updateQueue=y.updateQueue,r.type=y.type,l=y.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function rc(r,l,y,C,z,Y){var et=0;if(C=r,typeof r=="function")yf(r)&&(et=1);else if(typeof r=="string")et=hx(r,y,Z.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case V:return r=$n(31,y,l,z),r.elementType=V,r.lanes=Y,r;case v:return Ma(y.children,z,Y,l);case g:et=8,z|=24;break;case w:return r=$n(12,y,l,z|2),r.elementType=w,r.lanes=Y,r;case O:return r=$n(13,y,l,z),r.elementType=O,r.lanes=Y,r;case q:return r=$n(19,y,l,z),r.elementType=q,r.lanes=Y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:et=10;break t;case _:et=9;break t;case M:et=11;break t;case F:et=14;break t;case j:et=16,C=null;break t}et=29,y=Error(i(130,r===null?"null":typeof r,"")),C=null}return l=$n(et,y,l,z),l.elementType=r,l.type=C,l.lanes=Y,l}function Ma(r,l,y,C){return r=$n(7,r,C,l),r.lanes=y,r}function vf(r,l,y){return r=$n(6,r,null,l),r.lanes=y,r}function g0(r){var l=$n(18,null,null,0);return l.stateNode=r,l}function wf(r,l,y){return l=$n(4,r.children!==null?r.children:[],r.key,l),l.lanes=y,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var b0=new WeakMap;function ni(r,l){if(typeof r=="object"&&r!==null){var y=b0.get(r);return y!==void 0?y:(l={value:r,source:l,stack:pt(l)},b0.set(r,l),l)}return{value:r,source:l,stack:pt(l)}}var mo=[],go=0,nc=null,_l=0,ii=[],si=0,Ns=null,Bi=1,Vi="";function es(r,l){mo[go++]=_l,mo[go++]=nc,nc=r,_l=l}function y0(r,l,y){ii[si++]=Bi,ii[si++]=Vi,ii[si++]=Ns,Ns=r;var C=Bi;r=Vi;var z=32-re(C)-1;C&=~(1<<z),y+=1;var Y=32-re(l)+z;if(30<Y){var et=z-z%5;Y=(C&(1<<et)-1).toString(32),C>>=et,z-=et,Bi=1<<32-re(l)+z|y<<z|C,Vi=Y+r}else Bi=1<<Y|y<<z|C,Vi=r}function _f(r){r.return!==null&&(es(r,1),y0(r,1,0))}function xf(r){for(;r===nc;)nc=mo[--go],mo[go]=null,_l=mo[--go],mo[go]=null;for(;r===Ns;)Ns=ii[--si],ii[si]=null,Vi=ii[--si],ii[si]=null,Bi=ii[--si],ii[si]=null}function v0(r,l){ii[si++]=Bi,ii[si++]=Vi,ii[si++]=Ns,Bi=l.id,Vi=l.overflow,Ns=r}var fn=null,Ir=null,hr=!1,Is=null,ai=!1,Sf=Error(i(519));function js(r){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xl(ni(l,r)),Sf}function w0(r){var l=r.stateNode,y=r.type,C=r.memoizedProps;switch(l[le]=r,l[Lt]=C,y){case"dialog":sr("cancel",l),sr("close",l);break;case"iframe":case"object":case"embed":sr("load",l);break;case"video":case"audio":for(y=0;y<ql.length;y++)sr(ql[y],l);break;case"source":sr("error",l);break;case"img":case"image":case"link":sr("error",l),sr("load",l);break;case"details":sr("toggle",l);break;case"input":sr("invalid",l),rr(l,C.value,C.defaultValue,C.checked,C.defaultChecked,C.type,C.name,!0);break;case"select":sr("invalid",l);break;case"textarea":sr("invalid",l),Vr(l,C.value,C.defaultValue,C.children)}y=C.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||l.textContent===""+y||C.suppressHydrationWarning===!0||Lb(l.textContent,y)?(C.popover!=null&&(sr("beforetoggle",l),sr("toggle",l)),C.onScroll!=null&&sr("scroll",l),C.onScrollEnd!=null&&sr("scrollend",l),C.onClick!=null&&(l.onclick=Cn),l=!0):l=!1,l||js(r,!0)}function _0(r){for(fn=r.return;fn;)switch(fn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:fn=fn.return}}function bo(r){if(r!==fn)return!1;if(!hr)return _0(r),hr=!0,!1;var l=r.tag,y;if((y=l!==3&&l!==27)&&((y=l===5)&&(y=r.type,y=!(y!=="form"&&y!=="button")||Ud(r.type,r.memoizedProps)),y=!y),y&&Ir&&js(r),_0(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ir=Gb(r)}else if(l===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));Ir=Gb(r)}else l===27?(l=Ir,Ws(r.type)?(r=Gd,Gd=null,Ir=r):Ir=l):Ir=fn?li(r.stateNode.nextSibling):null;return!0}function Na(){Ir=fn=null,hr=!1}function Tf(){var r=Is;return r!==null&&(Pn===null?Pn=r:Pn.push.apply(Pn,r),Is=null),r}function xl(r){Is===null?Is=[r]:Is.push(r)}var Ef=I(null),Ia=null,rs=null;function Os(r,l,y){K(Ef,l._currentValue),l._currentValue=y}function ns(r){r._currentValue=Ef.current,B(Ef)}function Af(r,l,y){for(;r!==null;){var C=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,C!==null&&(C.childLanes|=l)):C!==null&&(C.childLanes&l)!==l&&(C.childLanes|=l),r===y)break;r=r.return}}function Cf(r,l,y,C){var z=r.child;for(z!==null&&(z.return=r);z!==null;){var Y=z.dependencies;if(Y!==null){var et=z.child;Y=Y.firstContext;t:for(;Y!==null;){var ot=Y;Y=z;for(var gt=0;gt<l.length;gt++)if(ot.context===l[gt]){Y.lanes|=y,ot=Y.alternate,ot!==null&&(ot.lanes|=y),Af(Y.return,y,r),C||(et=null);break t}Y=ot.next}}else if(z.tag===18){if(et=z.return,et===null)throw Error(i(341));et.lanes|=y,Y=et.alternate,Y!==null&&(Y.lanes|=y),Af(et,y,r),et=null}else et=z.child;if(et!==null)et.return=z;else for(et=z;et!==null;){if(et===r){et=null;break}if(z=et.sibling,z!==null){z.return=et.return,et=z;break}et=et.return}z=et}}function yo(r,l,y,C){r=null;for(var z=l,Y=!1;z!==null;){if(!Y){if((z.flags&524288)!==0)Y=!0;else if((z.flags&262144)!==0)break}if(z.tag===10){var et=z.alternate;if(et===null)throw Error(i(387));if(et=et.memoizedProps,et!==null){var ot=z.type;qn(z.pendingProps.value,et.value)||(r!==null?r.push(ot):r=[ot])}}else if(z===tt.current){if(et=z.alternate,et===null)throw Error(i(387));et.memoizedState.memoizedState!==z.memoizedState.memoizedState&&(r!==null?r.push(Xl):r=[Xl])}z=z.return}r!==null&&Cf(l,r,y,C),l.flags|=262144}function ic(r){for(r=r.firstContext;r!==null;){if(!qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ja(r){Ia=r,rs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function dn(r){return x0(Ia,r)}function sc(r,l){return Ia===null&&ja(r),x0(r,l)}function x0(r,l){var y=l._currentValue;if(l={context:l,memoizedValue:y,next:null},rs===null){if(r===null)throw Error(i(308));rs=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else rs=rs.next=l;return y}var o_=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(y,C){r.push(C)}};this.abort=function(){l.aborted=!0,r.forEach(function(y){return y()})}},l_=p.unstable_scheduleCallback,u_=p.unstable_NormalPriority,Xr={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new o_,data:new Map,refCount:0}}function Sl(r){r.refCount--,r.refCount===0&&l_(u_,function(){r.controller.abort()})}var Tl=null,Rf=0,vo=0,wo=null;function c_(r,l){if(Tl===null){var y=Tl=[];Rf=0,vo=Id(),wo={status:"pending",value:void 0,then:function(C){y.push(C)}}}return Rf++,l.then(S0,S0),l}function S0(){if(--Rf===0&&Tl!==null){wo!==null&&(wo.status="fulfilled");var r=Tl;Tl=null,vo=0,wo=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function h_(r,l){var y=[],C={status:"pending",value:null,reason:null,then:function(z){y.push(z)}};return r.then(function(){C.status="fulfilled",C.value=l;for(var z=0;z<y.length;z++)(0,y[z])(l)},function(z){for(C.status="rejected",C.reason=z,z=0;z<y.length;z++)(0,y[z])(void 0)}),C}var T0=x.S;x.S=function(r,l){ob=It(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&c_(r,l),T0!==null&&T0(r,l)};var Oa=I(null);function Mf(){var r=Oa.current;return r!==null?r:Mr.pooledCache}function ac(r,l){l===null?K(Oa,Oa.current):K(Oa,l.pool)}function E0(){var r=Mf();return r===null?null:{parent:Xr._currentValue,pool:r}}var _o=Error(i(460)),Nf=Error(i(474)),oc=Error(i(542)),lc={then:function(){}};function A0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function C0(r,l,y){switch(y=r[y],y===void 0?r.push(l):y!==l&&(l.then(Cn,Cn),l=y),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,R0(r),r;default:if(typeof l.status=="string")l.then(Cn,Cn);else{if(r=Mr,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=l,r.status="pending",r.then(function(C){if(l.status==="pending"){var z=l;z.status="fulfilled",z.value=C}},function(C){if(l.status==="pending"){var z=l;z.status="rejected",z.reason=C}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,R0(r),r}throw Pa=l,_o}}function Da(r){try{var l=r._init;return l(r._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(Pa=y,_o):y}}var Pa=null;function k0(){if(Pa===null)throw Error(i(459));var r=Pa;return Pa=null,r}function R0(r){if(r===_o||r===oc)throw Error(i(483))}var xo=null,El=0;function uc(r){var l=El;return El+=1,xo===null&&(xo=[]),C0(xo,r,l)}function Al(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function cc(r,l){throw l.$$typeof===f?Error(i(525)):(r=Object.prototype.toString.call(l),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function M0(r){function l(At,_t){if(r){var kt=At.deletions;kt===null?(At.deletions=[_t],At.flags|=16):kt.push(_t)}}function y(At,_t){if(!r)return null;for(;_t!==null;)l(At,_t),_t=_t.sibling;return null}function C(At){for(var _t=new Map;At!==null;)At.key!==null?_t.set(At.key,At):_t.set(At.index,At),At=At.sibling;return _t}function z(At,_t){return At=ts(At,_t),At.index=0,At.sibling=null,At}function Y(At,_t,kt){return At.index=kt,r?(kt=At.alternate,kt!==null?(kt=kt.index,kt<_t?(At.flags|=67108866,_t):kt):(At.flags|=67108866,_t)):(At.flags|=1048576,_t)}function et(At){return r&&At.alternate===null&&(At.flags|=67108866),At}function ot(At,_t,kt,Vt){return _t===null||_t.tag!==6?(_t=vf(kt,At.mode,Vt),_t.return=At,_t):(_t=z(_t,kt),_t.return=At,_t)}function gt(At,_t,kt,Vt){var Re=kt.type;return Re===v?Bt(At,_t,kt.props.children,Vt,kt.key):_t!==null&&(_t.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===j&&Da(Re)===_t.type)?(_t=z(_t,kt.props),Al(_t,kt),_t.return=At,_t):(_t=rc(kt.type,kt.key,kt.props,null,At.mode,Vt),Al(_t,kt),_t.return=At,_t)}function Rt(At,_t,kt,Vt){return _t===null||_t.tag!==4||_t.stateNode.containerInfo!==kt.containerInfo||_t.stateNode.implementation!==kt.implementation?(_t=wf(kt,At.mode,Vt),_t.return=At,_t):(_t=z(_t,kt.children||[]),_t.return=At,_t)}function Bt(At,_t,kt,Vt,Re){return _t===null||_t.tag!==7?(_t=Ma(kt,At.mode,Vt,Re),_t.return=At,_t):(_t=z(_t,kt),_t.return=At,_t)}function Ft(At,_t,kt){if(typeof _t=="string"&&_t!==""||typeof _t=="number"||typeof _t=="bigint")return _t=vf(""+_t,At.mode,kt),_t.return=At,_t;if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case d:return kt=rc(_t.type,_t.key,_t.props,null,At.mode,kt),Al(kt,_t),kt.return=At,kt;case b:return _t=wf(_t,At.mode,kt),_t.return=At,_t;case j:return _t=Da(_t),Ft(At,_t,kt)}if(k(_t)||H(_t))return _t=Ma(_t,At.mode,kt,null),_t.return=At,_t;if(typeof _t.then=="function")return Ft(At,uc(_t),kt);if(_t.$$typeof===A)return Ft(At,sc(At,_t),kt);cc(At,_t)}return null}function Nt(At,_t,kt,Vt){var Re=_t!==null?_t.key:null;if(typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint")return Re!==null?null:ot(At,_t,""+kt,Vt);if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case d:return kt.key===Re?gt(At,_t,kt,Vt):null;case b:return kt.key===Re?Rt(At,_t,kt,Vt):null;case j:return kt=Da(kt),Nt(At,_t,kt,Vt)}if(k(kt)||H(kt))return Re!==null?null:Bt(At,_t,kt,Vt,null);if(typeof kt.then=="function")return Nt(At,_t,uc(kt),Vt);if(kt.$$typeof===A)return Nt(At,_t,sc(At,kt),Vt);cc(At,kt)}return null}function Pt(At,_t,kt,Vt,Re){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number"||typeof Vt=="bigint")return At=At.get(kt)||null,ot(_t,At,""+Vt,Re);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case d:return At=At.get(Vt.key===null?kt:Vt.key)||null,gt(_t,At,Vt,Re);case b:return At=At.get(Vt.key===null?kt:Vt.key)||null,Rt(_t,At,Vt,Re);case j:return Vt=Da(Vt),Pt(At,_t,kt,Vt,Re)}if(k(Vt)||H(Vt))return At=At.get(kt)||null,Bt(_t,At,Vt,Re,null);if(typeof Vt.then=="function")return Pt(At,_t,kt,uc(Vt),Re);if(Vt.$$typeof===A)return Pt(At,_t,kt,sc(_t,Vt),Re);cc(_t,Vt)}return null}function ye(At,_t,kt,Vt){for(var Re=null,pr=null,Te=_t,Ze=_t=0,or=null;Te!==null&&Ze<kt.length;Ze++){Te.index>Ze?(or=Te,Te=null):or=Te.sibling;var mr=Nt(At,Te,kt[Ze],Vt);if(mr===null){Te===null&&(Te=or);break}r&&Te&&mr.alternate===null&&l(At,Te),_t=Y(mr,_t,Ze),pr===null?Re=mr:pr.sibling=mr,pr=mr,Te=or}if(Ze===kt.length)return y(At,Te),hr&&es(At,Ze),Re;if(Te===null){for(;Ze<kt.length;Ze++)Te=Ft(At,kt[Ze],Vt),Te!==null&&(_t=Y(Te,_t,Ze),pr===null?Re=Te:pr.sibling=Te,pr=Te);return hr&&es(At,Ze),Re}for(Te=C(Te);Ze<kt.length;Ze++)or=Pt(Te,At,Ze,kt[Ze],Vt),or!==null&&(r&&or.alternate!==null&&Te.delete(or.key===null?Ze:or.key),_t=Y(or,_t,Ze),pr===null?Re=or:pr.sibling=or,pr=or);return r&&Te.forEach(function(Zs){return l(At,Zs)}),hr&&es(At,Ze),Re}function je(At,_t,kt,Vt){if(kt==null)throw Error(i(151));for(var Re=null,pr=null,Te=_t,Ze=_t=0,or=null,mr=kt.next();Te!==null&&!mr.done;Ze++,mr=kt.next()){Te.index>Ze?(or=Te,Te=null):or=Te.sibling;var Zs=Nt(At,Te,mr.value,Vt);if(Zs===null){Te===null&&(Te=or);break}r&&Te&&Zs.alternate===null&&l(At,Te),_t=Y(Zs,_t,Ze),pr===null?Re=Zs:pr.sibling=Zs,pr=Zs,Te=or}if(mr.done)return y(At,Te),hr&&es(At,Ze),Re;if(Te===null){for(;!mr.done;Ze++,mr=kt.next())mr=Ft(At,mr.value,Vt),mr!==null&&(_t=Y(mr,_t,Ze),pr===null?Re=mr:pr.sibling=mr,pr=mr);return hr&&es(At,Ze),Re}for(Te=C(Te);!mr.done;Ze++,mr=kt.next())mr=Pt(Te,At,Ze,mr.value,Vt),mr!==null&&(r&&mr.alternate!==null&&Te.delete(mr.key===null?Ze:mr.key),_t=Y(mr,_t,Ze),pr===null?Re=mr:pr.sibling=mr,pr=mr);return r&&Te.forEach(function(xx){return l(At,xx)}),hr&&es(At,Ze),Re}function kr(At,_t,kt,Vt){if(typeof kt=="object"&&kt!==null&&kt.type===v&&kt.key===null&&(kt=kt.props.children),typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case d:t:{for(var Re=kt.key;_t!==null;){if(_t.key===Re){if(Re=kt.type,Re===v){if(_t.tag===7){y(At,_t.sibling),Vt=z(_t,kt.props.children),Vt.return=At,At=Vt;break t}}else if(_t.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===j&&Da(Re)===_t.type){y(At,_t.sibling),Vt=z(_t,kt.props),Al(Vt,kt),Vt.return=At,At=Vt;break t}y(At,_t);break}else l(At,_t);_t=_t.sibling}kt.type===v?(Vt=Ma(kt.props.children,At.mode,Vt,kt.key),Vt.return=At,At=Vt):(Vt=rc(kt.type,kt.key,kt.props,null,At.mode,Vt),Al(Vt,kt),Vt.return=At,At=Vt)}return et(At);case b:t:{for(Re=kt.key;_t!==null;){if(_t.key===Re)if(_t.tag===4&&_t.stateNode.containerInfo===kt.containerInfo&&_t.stateNode.implementation===kt.implementation){y(At,_t.sibling),Vt=z(_t,kt.children||[]),Vt.return=At,At=Vt;break t}else{y(At,_t);break}else l(At,_t);_t=_t.sibling}Vt=wf(kt,At.mode,Vt),Vt.return=At,At=Vt}return et(At);case j:return kt=Da(kt),kr(At,_t,kt,Vt)}if(k(kt))return ye(At,_t,kt,Vt);if(H(kt)){if(Re=H(kt),typeof Re!="function")throw Error(i(150));return kt=Re.call(kt),je(At,_t,kt,Vt)}if(typeof kt.then=="function")return kr(At,_t,uc(kt),Vt);if(kt.$$typeof===A)return kr(At,_t,sc(At,kt),Vt);cc(At,kt)}return typeof kt=="string"&&kt!==""||typeof kt=="number"||typeof kt=="bigint"?(kt=""+kt,_t!==null&&_t.tag===6?(y(At,_t.sibling),Vt=z(_t,kt),Vt.return=At,At=Vt):(y(At,_t),Vt=vf(kt,At.mode,Vt),Vt.return=At,At=Vt),et(At)):y(At,_t)}return function(At,_t,kt,Vt){try{El=0;var Re=kr(At,_t,kt,Vt);return xo=null,Re}catch(Te){if(Te===_o||Te===oc)throw Te;var pr=$n(29,Te,null,At.mode);return pr.lanes=Vt,pr.return=At,pr}}}var La=M0(!0),N0=M0(!1),Ds=!1;function If(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jf(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Ps(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ls(r,l,y){var C=r.updateQueue;if(C===null)return null;if(C=C.shared,(vr&2)!==0){var z=C.pending;return z===null?l.next=l:(l.next=z.next,z.next=l),C.pending=l,l=ec(r),p0(r,null,y),l}return tc(r,C,l,y),ec(r)}function Cl(r,l,y){if(l=l.updateQueue,l!==null&&(l=l.shared,(y&4194048)!==0)){var C=l.lanes;C&=r.pendingLanes,y|=C,l.lanes=y,Ce(r,y)}}function Of(r,l){var y=r.updateQueue,C=r.alternate;if(C!==null&&(C=C.updateQueue,y===C)){var z=null,Y=null;if(y=y.firstBaseUpdate,y!==null){do{var et={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};Y===null?z=Y=et:Y=Y.next=et,y=y.next}while(y!==null);Y===null?z=Y=l:Y=Y.next=l}else z=Y=l;y={baseState:C.baseState,firstBaseUpdate:z,lastBaseUpdate:Y,shared:C.shared,callbacks:C.callbacks},r.updateQueue=y;return}r=y.lastBaseUpdate,r===null?y.firstBaseUpdate=l:r.next=l,y.lastBaseUpdate=l}var Df=!1;function kl(){if(Df){var r=wo;if(r!==null)throw r}}function Rl(r,l,y,C){Df=!1;var z=r.updateQueue;Ds=!1;var Y=z.firstBaseUpdate,et=z.lastBaseUpdate,ot=z.shared.pending;if(ot!==null){z.shared.pending=null;var gt=ot,Rt=gt.next;gt.next=null,et===null?Y=Rt:et.next=Rt,et=gt;var Bt=r.alternate;Bt!==null&&(Bt=Bt.updateQueue,ot=Bt.lastBaseUpdate,ot!==et&&(ot===null?Bt.firstBaseUpdate=Rt:ot.next=Rt,Bt.lastBaseUpdate=gt))}if(Y!==null){var Ft=z.baseState;et=0,Bt=Rt=gt=null,ot=Y;do{var Nt=ot.lane&-536870913,Pt=Nt!==ot.lane;if(Pt?(ar&Nt)===Nt:(C&Nt)===Nt){Nt!==0&&Nt===vo&&(Df=!0),Bt!==null&&(Bt=Bt.next={lane:0,tag:ot.tag,payload:ot.payload,callback:null,next:null});t:{var ye=r,je=ot;Nt=l;var kr=y;switch(je.tag){case 1:if(ye=je.payload,typeof ye=="function"){Ft=ye.call(kr,Ft,Nt);break t}Ft=ye;break t;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=je.payload,Nt=typeof ye=="function"?ye.call(kr,Ft,Nt):ye,Nt==null)break t;Ft=m({},Ft,Nt);break t;case 2:Ds=!0}}Nt=ot.callback,Nt!==null&&(r.flags|=64,Pt&&(r.flags|=8192),Pt=z.callbacks,Pt===null?z.callbacks=[Nt]:Pt.push(Nt))}else Pt={lane:Nt,tag:ot.tag,payload:ot.payload,callback:ot.callback,next:null},Bt===null?(Rt=Bt=Pt,gt=Ft):Bt=Bt.next=Pt,et|=Nt;if(ot=ot.next,ot===null){if(ot=z.shared.pending,ot===null)break;Pt=ot,ot=Pt.next,Pt.next=null,z.lastBaseUpdate=Pt,z.shared.pending=null}}while(!0);Bt===null&&(gt=Ft),z.baseState=gt,z.firstBaseUpdate=Rt,z.lastBaseUpdate=Bt,Y===null&&(z.shared.lanes=0),Fs|=et,r.lanes=et,r.memoizedState=Ft}}function I0(r,l){if(typeof r!="function")throw Error(i(191,r));r.call(l)}function j0(r,l){var y=r.callbacks;if(y!==null)for(r.callbacks=null,r=0;r<y.length;r++)I0(y[r],l)}var So=I(null),hc=I(0);function O0(r,l){r=fs,K(hc,r),K(So,l),fs=r|l.baseLanes}function Pf(){K(hc,fs),K(So,So.current)}function Lf(){fs=hc.current,B(So),B(hc)}var Gn=I(null),oi=null;function Bs(r){var l=r.alternate;K(Gr,Gr.current&1),K(Gn,r),oi===null&&(l===null||So.current!==null||l.memoizedState!==null)&&(oi=r)}function Bf(r){K(Gr,Gr.current),K(Gn,r),oi===null&&(oi=r)}function D0(r){r.tag===22?(K(Gr,Gr.current),K(Gn,r),oi===null&&(oi=r)):Vs()}function Vs(){K(Gr,Gr.current),K(Gn,Gn.current)}function Wn(r){B(Gn),oi===r&&(oi=null),B(Gr)}var Gr=I(0);function fc(r){for(var l=r;l!==null;){if(l.tag===13){var y=l.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||qd(y)||$d(y)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var is=0,Xe=null,Ar=null,Kr=null,dc=!1,To=!1,Ba=!1,pc=0,Ml=0,Eo=null,f_=0;function zr(){throw Error(i(321))}function Vf(r,l){if(l===null)return!1;for(var y=0;y<l.length&&y<r.length;y++)if(!qn(r[y],l[y]))return!1;return!0}function zf(r,l,y,C,z,Y){return is=Y,Xe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,x.H=r===null||r.memoizedState===null?yg:ed,Ba=!1,Y=y(C,z),Ba=!1,To&&(Y=L0(l,y,C,z)),P0(r),Y}function P0(r){x.H=jl;var l=Ar!==null&&Ar.next!==null;if(is=0,Kr=Ar=Xe=null,dc=!1,Ml=0,Eo=null,l)throw Error(i(300));r===null||Qr||(r=r.dependencies,r!==null&&ic(r)&&(Qr=!0))}function L0(r,l,y,C){Xe=r;var z=0;do{if(To&&(Eo=null),Ml=0,To=!1,25<=z)throw Error(i(301));if(z+=1,Kr=Ar=null,r.updateQueue!=null){var Y=r.updateQueue;Y.lastEffect=null,Y.events=null,Y.stores=null,Y.memoCache!=null&&(Y.memoCache.index=0)}x.H=vg,Y=l(y,C)}while(To);return Y}function d_(){var r=x.H,l=r.useState()[0];return l=typeof l.then=="function"?Nl(l):l,r=r.useState()[0],(Ar!==null?Ar.memoizedState:null)!==r&&(Xe.flags|=1024),l}function Uf(){var r=pc!==0;return pc=0,r}function Ff(r,l,y){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~y}function Hf(r){if(dc){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}dc=!1}is=0,Kr=Ar=Xe=null,To=!1,Ml=pc=0,Eo=null}function Mn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Xe.memoizedState=Kr=r:Kr=Kr.next=r,Kr}function Wr(){if(Ar===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=Ar.next;var l=Kr===null?Xe.memoizedState:Kr.next;if(l!==null)Kr=l,Ar=r;else{if(r===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));Ar=r,r={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Kr===null?Xe.memoizedState=Kr=r:Kr=Kr.next=r}return Kr}function mc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(r){var l=Ml;return Ml+=1,Eo===null&&(Eo=[]),r=C0(Eo,r,l),l=Xe,(Kr===null?l.memoizedState:Kr.next)===null&&(l=l.alternate,x.H=l===null||l.memoizedState===null?yg:ed),r}function gc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Nl(r);if(r.$$typeof===A)return dn(r)}throw Error(i(438,String(r)))}function qf(r){var l=null,y=Xe.updateQueue;if(y!==null&&(l=y.memoCache),l==null){var C=Xe.alternate;C!==null&&(C=C.updateQueue,C!==null&&(C=C.memoCache,C!=null&&(l={data:C.data.map(function(z){return z.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),y===null&&(y=mc(),Xe.updateQueue=y),y.memoCache=l,y=l.data[l.index],y===void 0)for(y=l.data[l.index]=Array(r),C=0;C<r;C++)y[C]=G;return l.index++,y}function ss(r,l){return typeof l=="function"?l(r):l}function bc(r){var l=Wr();return $f(l,Ar,r)}function $f(r,l,y){var C=r.queue;if(C===null)throw Error(i(311));C.lastRenderedReducer=y;var z=r.baseQueue,Y=C.pending;if(Y!==null){if(z!==null){var et=z.next;z.next=Y.next,Y.next=et}l.baseQueue=z=Y,C.pending=null}if(Y=r.baseState,z===null)r.memoizedState=Y;else{l=z.next;var ot=et=null,gt=null,Rt=l,Bt=!1;do{var Ft=Rt.lane&-536870913;if(Ft!==Rt.lane?(ar&Ft)===Ft:(is&Ft)===Ft){var Nt=Rt.revertLane;if(Nt===0)gt!==null&&(gt=gt.next={lane:0,revertLane:0,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),Ft===vo&&(Bt=!0);else if((is&Nt)===Nt){Rt=Rt.next,Nt===vo&&(Bt=!0);continue}else Ft={lane:0,revertLane:Rt.revertLane,gesture:null,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},gt===null?(ot=gt=Ft,et=Y):gt=gt.next=Ft,Xe.lanes|=Nt,Fs|=Nt;Ft=Rt.action,Ba&&y(Y,Ft),Y=Rt.hasEagerState?Rt.eagerState:y(Y,Ft)}else Nt={lane:Ft,revertLane:Rt.revertLane,gesture:Rt.gesture,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null},gt===null?(ot=gt=Nt,et=Y):gt=gt.next=Nt,Xe.lanes|=Ft,Fs|=Ft;Rt=Rt.next}while(Rt!==null&&Rt!==l);if(gt===null?et=Y:gt.next=ot,!qn(Y,r.memoizedState)&&(Qr=!0,Bt&&(y=wo,y!==null)))throw y;r.memoizedState=Y,r.baseState=et,r.baseQueue=gt,C.lastRenderedState=Y}return z===null&&(C.lanes=0),[r.memoizedState,C.dispatch]}function Gf(r){var l=Wr(),y=l.queue;if(y===null)throw Error(i(311));y.lastRenderedReducer=r;var C=y.dispatch,z=y.pending,Y=l.memoizedState;if(z!==null){y.pending=null;var et=z=z.next;do Y=r(Y,et.action),et=et.next;while(et!==z);qn(Y,l.memoizedState)||(Qr=!0),l.memoizedState=Y,l.baseQueue===null&&(l.baseState=Y),y.lastRenderedState=Y}return[Y,C]}function B0(r,l,y){var C=Xe,z=Wr(),Y=hr;if(Y){if(y===void 0)throw Error(i(407));y=y()}else y=l();var et=!qn((Ar||z).memoizedState,y);if(et&&(z.memoizedState=y,Qr=!0),z=z.queue,Xf(U0.bind(null,C,z,r),[r]),z.getSnapshot!==l||et||Kr!==null&&Kr.memoizedState.tag&1){if(C.flags|=2048,Ao(9,{destroy:void 0},z0.bind(null,C,z,y,l),null),Mr===null)throw Error(i(349));Y||(is&127)!==0||V0(C,l,y)}return y}function V0(r,l,y){r.flags|=16384,r={getSnapshot:l,value:y},l=Xe.updateQueue,l===null?(l=mc(),Xe.updateQueue=l,l.stores=[r]):(y=l.stores,y===null?l.stores=[r]:y.push(r))}function z0(r,l,y,C){l.value=y,l.getSnapshot=C,F0(l)&&H0(r)}function U0(r,l,y){return y(function(){F0(l)&&H0(r)})}function F0(r){var l=r.getSnapshot;r=r.value;try{var y=l();return!qn(r,y)}catch{return!0}}function H0(r){var l=Ra(r,2);l!==null&&Ln(l,r,2)}function Wf(r){var l=Mn();if(typeof r=="function"){var y=r;if(r=y(),Ba){te(!0);try{y()}finally{te(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:r},l}function q0(r,l,y,C){return r.baseState=y,$f(r,Ar,typeof C=="function"?C:ss)}function p_(r,l,y,C,z){if(wc(r))throw Error(i(485));if(r=l.action,r!==null){var Y={payload:z,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(et){Y.listeners.push(et)}};x.T!==null?y(!0):Y.isTransition=!1,C(Y),y=l.pending,y===null?(Y.next=l.pending=Y,$0(l,Y)):(Y.next=y.next,l.pending=y.next=Y)}}function $0(r,l){var y=l.action,C=l.payload,z=r.state;if(l.isTransition){var Y=x.T,et={};x.T=et;try{var ot=y(z,C),gt=x.S;gt!==null&&gt(et,ot),G0(r,l,ot)}catch(Rt){Yf(r,l,Rt)}finally{Y!==null&&et.types!==null&&(Y.types=et.types),x.T=Y}}else try{Y=y(z,C),G0(r,l,Y)}catch(Rt){Yf(r,l,Rt)}}function G0(r,l,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(C){W0(r,l,C)},function(C){return Yf(r,l,C)}):W0(r,l,y)}function W0(r,l,y){l.status="fulfilled",l.value=y,Y0(l),r.state=y,l=r.pending,l!==null&&(y=l.next,y===l?r.pending=null:(y=y.next,l.next=y,$0(r,y)))}function Yf(r,l,y){var C=r.pending;if(r.pending=null,C!==null){C=C.next;do l.status="rejected",l.reason=y,Y0(l),l=l.next;while(l!==C)}r.action=null}function Y0(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function X0(r,l){return l}function K0(r,l){if(hr){var y=Mr.formState;if(y!==null){t:{var C=Xe;if(hr){if(Ir){e:{for(var z=Ir,Y=ai;z.nodeType!==8;){if(!Y){z=null;break e}if(z=li(z.nextSibling),z===null){z=null;break e}}Y=z.data,z=Y==="F!"||Y==="F"?z:null}if(z){Ir=li(z.nextSibling),C=z.data==="F!";break t}}js(C)}C=!1}C&&(l=y[0])}}return y=Mn(),y.memoizedState=y.baseState=l,C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X0,lastRenderedState:l},y.queue=C,y=mg.bind(null,Xe,C),C.dispatch=y,C=Wf(!1),Y=td.bind(null,Xe,!1,C.queue),C=Mn(),z={state:l,dispatch:null,action:r,pending:null},C.queue=z,y=p_.bind(null,Xe,z,Y,y),z.dispatch=y,C.memoizedState=r,[l,y,!1]}function Q0(r){var l=Wr();return Z0(l,Ar,r)}function Z0(r,l,y){if(l=$f(r,l,X0)[0],r=bc(ss)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var C=Nl(l)}catch(et){throw et===_o?oc:et}else C=l;l=Wr();var z=l.queue,Y=z.dispatch;return y!==l.memoizedState&&(Xe.flags|=2048,Ao(9,{destroy:void 0},m_.bind(null,z,y),null)),[C,Y,r]}function m_(r,l){r.action=l}function J0(r){var l=Wr(),y=Ar;if(y!==null)return Z0(l,y,r);Wr(),l=l.memoizedState,y=Wr();var C=y.queue.dispatch;return y.memoizedState=r,[l,C,!1]}function Ao(r,l,y,C){return r={tag:r,create:y,deps:C,inst:l,next:null},l=Xe.updateQueue,l===null&&(l=mc(),Xe.updateQueue=l),y=l.lastEffect,y===null?l.lastEffect=r.next=r:(C=y.next,y.next=r,r.next=C,l.lastEffect=r),r}function tg(){return Wr().memoizedState}function yc(r,l,y,C){var z=Mn();Xe.flags|=r,z.memoizedState=Ao(1|l,{destroy:void 0},y,C===void 0?null:C)}function vc(r,l,y,C){var z=Wr();C=C===void 0?null:C;var Y=z.memoizedState.inst;Ar!==null&&C!==null&&Vf(C,Ar.memoizedState.deps)?z.memoizedState=Ao(l,Y,y,C):(Xe.flags|=r,z.memoizedState=Ao(1|l,Y,y,C))}function eg(r,l){yc(8390656,8,r,l)}function Xf(r,l){vc(2048,8,r,l)}function g_(r){Xe.flags|=4;var l=Xe.updateQueue;if(l===null)l=mc(),Xe.updateQueue=l,l.events=[r];else{var y=l.events;y===null?l.events=[r]:y.push(r)}}function rg(r){var l=Wr().memoizedState;return g_({ref:l,nextImpl:r}),function(){if((vr&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function ng(r,l){return vc(4,2,r,l)}function ig(r,l){return vc(4,4,r,l)}function sg(r,l){if(typeof l=="function"){r=r();var y=l(r);return function(){typeof y=="function"?y():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function ag(r,l,y){y=y!=null?y.concat([r]):null,vc(4,4,sg.bind(null,l,r),y)}function Kf(){}function og(r,l){var y=Wr();l=l===void 0?null:l;var C=y.memoizedState;return l!==null&&Vf(l,C[1])?C[0]:(y.memoizedState=[r,l],r)}function lg(r,l){var y=Wr();l=l===void 0?null:l;var C=y.memoizedState;if(l!==null&&Vf(l,C[1]))return C[0];if(C=r(),Ba){te(!0);try{r()}finally{te(!1)}}return y.memoizedState=[C,l],C}function Qf(r,l,y){return y===void 0||(is&1073741824)!==0&&(ar&261930)===0?r.memoizedState=l:(r.memoizedState=y,r=ub(),Xe.lanes|=r,Fs|=r,y)}function ug(r,l,y,C){return qn(y,l)?y:So.current!==null?(r=Qf(r,y,C),qn(r,l)||(Qr=!0),r):(is&42)===0||(is&1073741824)!==0&&(ar&261930)===0?(Qr=!0,r.memoizedState=y):(r=ub(),Xe.lanes|=r,Fs|=r,l)}function cg(r,l,y,C,z){var Y=S.p;S.p=Y!==0&&8>Y?Y:8;var et=x.T,ot={};x.T=ot,td(r,!1,l,y);try{var gt=z(),Rt=x.S;if(Rt!==null&&Rt(ot,gt),gt!==null&&typeof gt=="object"&&typeof gt.then=="function"){var Bt=h_(gt,C);Il(r,l,Bt,Kn(r))}else Il(r,l,C,Kn(r))}catch(Ft){Il(r,l,{then:function(){},status:"rejected",reason:Ft},Kn())}finally{S.p=Y,et!==null&&ot.types!==null&&(et.types=ot.types),x.T=et}}function b_(){}function Zf(r,l,y,C){if(r.tag!==5)throw Error(i(476));var z=hg(r).queue;cg(r,z,l,T,y===null?b_:function(){return fg(r),y(C)})}function hg(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:T},next:null};var y={};return l.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:y},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function fg(r){var l=hg(r);l.next===null&&(l=r.alternate.memoizedState),Il(r,l.next.queue,{},Kn())}function Jf(){return dn(Xl)}function dg(){return Wr().memoizedState}function pg(){return Wr().memoizedState}function y_(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var y=Kn();r=Ps(y);var C=Ls(l,r,y);C!==null&&(Ln(C,l,y),Cl(C,l,y)),l={cache:kf()},r.payload=l;return}l=l.return}}function v_(r,l,y){var C=Kn();y={lane:C,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},wc(r)?gg(l,y):(y=bf(r,l,y,C),y!==null&&(Ln(y,r,C),bg(y,l,C)))}function mg(r,l,y){var C=Kn();Il(r,l,y,C)}function Il(r,l,y,C){var z={lane:C,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(wc(r))gg(l,z);else{var Y=r.alternate;if(r.lanes===0&&(Y===null||Y.lanes===0)&&(Y=l.lastRenderedReducer,Y!==null))try{var et=l.lastRenderedState,ot=Y(et,y);if(z.hasEagerState=!0,z.eagerState=ot,qn(ot,et))return tc(r,l,z,0),Mr===null&&Ju(),!1}catch{}if(y=bf(r,l,z,C),y!==null)return Ln(y,r,C),bg(y,l,C),!0}return!1}function td(r,l,y,C){if(C={lane:2,revertLane:Id(),gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},wc(r)){if(l)throw Error(i(479))}else l=bf(r,y,C,2),l!==null&&Ln(l,r,2)}function wc(r){var l=r.alternate;return r===Xe||l!==null&&l===Xe}function gg(r,l){To=dc=!0;var y=r.pending;y===null?l.next=l:(l.next=y.next,y.next=l),r.pending=l}function bg(r,l,y){if((y&4194048)!==0){var C=l.lanes;C&=r.pendingLanes,y|=C,l.lanes=y,Ce(r,y)}}var jl={readContext:dn,use:gc,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr,useHostTransitionStatus:zr,useFormState:zr,useActionState:zr,useOptimistic:zr,useMemoCache:zr,useCacheRefresh:zr};jl.useEffectEvent=zr;var yg={readContext:dn,use:gc,useCallback:function(r,l){return Mn().memoizedState=[r,l===void 0?null:l],r},useContext:dn,useEffect:eg,useImperativeHandle:function(r,l,y){y=y!=null?y.concat([r]):null,yc(4194308,4,sg.bind(null,l,r),y)},useLayoutEffect:function(r,l){return yc(4194308,4,r,l)},useInsertionEffect:function(r,l){yc(4,2,r,l)},useMemo:function(r,l){var y=Mn();l=l===void 0?null:l;var C=r();if(Ba){te(!0);try{r()}finally{te(!1)}}return y.memoizedState=[C,l],C},useReducer:function(r,l,y){var C=Mn();if(y!==void 0){var z=y(l);if(Ba){te(!0);try{y(l)}finally{te(!1)}}}else z=l;return C.memoizedState=C.baseState=z,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:z},C.queue=r,r=r.dispatch=v_.bind(null,Xe,r),[C.memoizedState,r]},useRef:function(r){var l=Mn();return r={current:r},l.memoizedState=r},useState:function(r){r=Wf(r);var l=r.queue,y=mg.bind(null,Xe,l);return l.dispatch=y,[r.memoizedState,y]},useDebugValue:Kf,useDeferredValue:function(r,l){var y=Mn();return Qf(y,r,l)},useTransition:function(){var r=Wf(!1);return r=cg.bind(null,Xe,r.queue,!0,!1),Mn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,y){var C=Xe,z=Mn();if(hr){if(y===void 0)throw Error(i(407));y=y()}else{if(y=l(),Mr===null)throw Error(i(349));(ar&127)!==0||V0(C,l,y)}z.memoizedState=y;var Y={value:y,getSnapshot:l};return z.queue=Y,eg(U0.bind(null,C,Y,r),[r]),C.flags|=2048,Ao(9,{destroy:void 0},z0.bind(null,C,Y,y,l),null),y},useId:function(){var r=Mn(),l=Mr.identifierPrefix;if(hr){var y=Vi,C=Bi;y=(C&~(1<<32-re(C)-1)).toString(32)+y,l="_"+l+"R_"+y,y=pc++,0<y&&(l+="H"+y.toString(32)),l+="_"}else y=f_++,l="_"+l+"r_"+y.toString(32)+"_";return r.memoizedState=l},useHostTransitionStatus:Jf,useFormState:K0,useActionState:K0,useOptimistic:function(r){var l=Mn();l.memoizedState=l.baseState=r;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=y,l=td.bind(null,Xe,!0,y),y.dispatch=l,[r,l]},useMemoCache:qf,useCacheRefresh:function(){return Mn().memoizedState=y_.bind(null,Xe)},useEffectEvent:function(r){var l=Mn(),y={impl:r};return l.memoizedState=y,function(){if((vr&2)!==0)throw Error(i(440));return y.impl.apply(void 0,arguments)}}},ed={readContext:dn,use:gc,useCallback:og,useContext:dn,useEffect:Xf,useImperativeHandle:ag,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:bc,useRef:tg,useState:function(){return bc(ss)},useDebugValue:Kf,useDeferredValue:function(r,l){var y=Wr();return ug(y,Ar.memoizedState,r,l)},useTransition:function(){var r=bc(ss)[0],l=Wr().memoizedState;return[typeof r=="boolean"?r:Nl(r),l]},useSyncExternalStore:B0,useId:dg,useHostTransitionStatus:Jf,useFormState:Q0,useActionState:Q0,useOptimistic:function(r,l){var y=Wr();return q0(y,Ar,r,l)},useMemoCache:qf,useCacheRefresh:pg};ed.useEffectEvent=rg;var vg={readContext:dn,use:gc,useCallback:og,useContext:dn,useEffect:Xf,useImperativeHandle:ag,useInsertionEffect:ng,useLayoutEffect:ig,useMemo:lg,useReducer:Gf,useRef:tg,useState:function(){return Gf(ss)},useDebugValue:Kf,useDeferredValue:function(r,l){var y=Wr();return Ar===null?Qf(y,r,l):ug(y,Ar.memoizedState,r,l)},useTransition:function(){var r=Gf(ss)[0],l=Wr().memoizedState;return[typeof r=="boolean"?r:Nl(r),l]},useSyncExternalStore:B0,useId:dg,useHostTransitionStatus:Jf,useFormState:J0,useActionState:J0,useOptimistic:function(r,l){var y=Wr();return Ar!==null?q0(y,Ar,r,l):(y.baseState=r,[r,y.queue.dispatch])},useMemoCache:qf,useCacheRefresh:pg};vg.useEffectEvent=rg;function rd(r,l,y,C){l=r.memoizedState,y=y(C,l),y=y==null?l:m({},l,y),r.memoizedState=y,r.lanes===0&&(r.updateQueue.baseState=y)}var nd={enqueueSetState:function(r,l,y){r=r._reactInternals;var C=Kn(),z=Ps(C);z.payload=l,y!=null&&(z.callback=y),l=Ls(r,z,C),l!==null&&(Ln(l,r,C),Cl(l,r,C))},enqueueReplaceState:function(r,l,y){r=r._reactInternals;var C=Kn(),z=Ps(C);z.tag=1,z.payload=l,y!=null&&(z.callback=y),l=Ls(r,z,C),l!==null&&(Ln(l,r,C),Cl(l,r,C))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var y=Kn(),C=Ps(y);C.tag=2,l!=null&&(C.callback=l),l=Ls(r,C,y),l!==null&&(Ln(l,r,y),Cl(l,r,y))}};function wg(r,l,y,C,z,Y,et){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(C,Y,et):l.prototype&&l.prototype.isPureReactComponent?!vl(y,C)||!vl(z,Y):!0}function _g(r,l,y,C){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(y,C),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(y,C),l.state!==r&&nd.enqueueReplaceState(l,l.state,null)}function Va(r,l){var y=l;if("ref"in l){y={};for(var C in l)C!=="ref"&&(y[C]=l[C])}if(r=r.defaultProps){y===l&&(y=m({},y));for(var z in r)y[z]===void 0&&(y[z]=r[z])}return y}function xg(r){Zu(r)}function Sg(r){console.error(r)}function Tg(r){Zu(r)}function _c(r,l){try{var y=r.onUncaughtError;y(l.value,{componentStack:l.stack})}catch(C){setTimeout(function(){throw C})}}function Eg(r,l,y){try{var C=r.onCaughtError;C(y.value,{componentStack:y.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(z){setTimeout(function(){throw z})}}function id(r,l,y){return y=Ps(y),y.tag=3,y.payload={element:null},y.callback=function(){_c(r,l)},y}function Ag(r){return r=Ps(r),r.tag=3,r}function Cg(r,l,y,C){var z=y.type.getDerivedStateFromError;if(typeof z=="function"){var Y=C.value;r.payload=function(){return z(Y)},r.callback=function(){Eg(l,y,C)}}var et=y.stateNode;et!==null&&typeof et.componentDidCatch=="function"&&(r.callback=function(){Eg(l,y,C),typeof z!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var ot=C.stack;this.componentDidCatch(C.value,{componentStack:ot!==null?ot:""})})}function w_(r,l,y,C,z){if(y.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){if(l=y.alternate,l!==null&&yo(l,y,z,!0),y=Gn.current,y!==null){switch(y.tag){case 31:case 13:return oi===null?jc():y.alternate===null&&Ur===0&&(Ur=3),y.flags&=-257,y.flags|=65536,y.lanes=z,C===lc?y.flags|=16384:(l=y.updateQueue,l===null?y.updateQueue=new Set([C]):l.add(C),Rd(r,C,z)),!1;case 22:return y.flags|=65536,C===lc?y.flags|=16384:(l=y.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([C])},y.updateQueue=l):(y=l.retryQueue,y===null?l.retryQueue=new Set([C]):y.add(C)),Rd(r,C,z)),!1}throw Error(i(435,y.tag))}return Rd(r,C,z),jc(),!1}if(hr)return l=Gn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=z,C!==Sf&&(r=Error(i(422),{cause:C}),xl(ni(r,y)))):(C!==Sf&&(l=Error(i(423),{cause:C}),xl(ni(l,y))),r=r.current.alternate,r.flags|=65536,z&=-z,r.lanes|=z,C=ni(C,y),z=id(r.stateNode,C,z),Of(r,z),Ur!==4&&(Ur=2)),!1;var Y=Error(i(520),{cause:C});if(Y=ni(Y,y),Ul===null?Ul=[Y]:Ul.push(Y),Ur!==4&&(Ur=2),l===null)return!0;C=ni(C,y),y=l;do{switch(y.tag){case 3:return y.flags|=65536,r=z&-z,y.lanes|=r,r=id(y.stateNode,C,r),Of(y,r),!1;case 1:if(l=y.type,Y=y.stateNode,(y.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Hs===null||!Hs.has(Y))))return y.flags|=65536,z&=-z,y.lanes|=z,z=Ag(z),Cg(z,r,y,C),Of(y,z),!1}y=y.return}while(y!==null);return!1}var sd=Error(i(461)),Qr=!1;function pn(r,l,y,C){l.child=r===null?N0(l,null,y,C):La(l,r.child,y,C)}function kg(r,l,y,C,z){y=y.render;var Y=l.ref;if("ref"in C){var et={};for(var ot in C)ot!=="ref"&&(et[ot]=C[ot])}else et=C;return ja(l),C=zf(r,l,y,et,Y,z),ot=Uf(),r!==null&&!Qr?(Ff(r,l,z),as(r,l,z)):(hr&&ot&&_f(l),l.flags|=1,pn(r,l,C,z),l.child)}function Rg(r,l,y,C,z){if(r===null){var Y=y.type;return typeof Y=="function"&&!yf(Y)&&Y.defaultProps===void 0&&y.compare===null?(l.tag=15,l.type=Y,Mg(r,l,Y,C,z)):(r=rc(y.type,null,C,l,l.mode,z),r.ref=l.ref,r.return=l,l.child=r)}if(Y=r.child,!dd(r,z)){var et=Y.memoizedProps;if(y=y.compare,y=y!==null?y:vl,y(et,C)&&r.ref===l.ref)return as(r,l,z)}return l.flags|=1,r=ts(Y,C),r.ref=l.ref,r.return=l,l.child=r}function Mg(r,l,y,C,z){if(r!==null){var Y=r.memoizedProps;if(vl(Y,C)&&r.ref===l.ref)if(Qr=!1,l.pendingProps=C=Y,dd(r,z))(r.flags&131072)!==0&&(Qr=!0);else return l.lanes=r.lanes,as(r,l,z)}return ad(r,l,y,C,z)}function Ng(r,l,y,C){var z=C.children,Y=r!==null?r.memoizedState:null;if(r===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),C.mode==="hidden"){if((l.flags&128)!==0){if(Y=Y!==null?Y.baseLanes|y:y,r!==null){for(C=l.child=r.child,z=0;C!==null;)z=z|C.lanes|C.childLanes,C=C.sibling;C=z&~Y}else C=0,l.child=null;return Ig(r,l,Y,y,C)}if((y&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&ac(l,Y!==null?Y.cachePool:null),Y!==null?O0(l,Y):Pf(),D0(l);else return C=l.lanes=536870912,Ig(r,l,Y!==null?Y.baseLanes|y:y,y,C)}else Y!==null?(ac(l,Y.cachePool),O0(l,Y),Vs(),l.memoizedState=null):(r!==null&&ac(l,null),Pf(),Vs());return pn(r,l,z,y),l.child}function Ol(r,l){return r!==null&&r.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function Ig(r,l,y,C,z){var Y=Mf();return Y=Y===null?null:{parent:Xr._currentValue,pool:Y},l.memoizedState={baseLanes:y,cachePool:Y},r!==null&&ac(l,null),Pf(),D0(l),r!==null&&yo(r,l,C,!0),l.childLanes=z,null}function xc(r,l){return l=Tc({mode:l.mode,children:l.children},r.mode),l.ref=r.ref,r.child=l,l.return=r,l}function jg(r,l,y){return La(l,r.child,null,y),r=xc(l,l.pendingProps),r.flags|=2,Wn(l),l.memoizedState=null,r}function __(r,l,y){var C=l.pendingProps,z=(l.flags&128)!==0;if(l.flags&=-129,r===null){if(hr){if(C.mode==="hidden")return r=xc(l,C),l.lanes=536870912,Ol(null,r);if(Bf(l),(r=Ir)?(r=$b(r,ai),r=r!==null&&r.data==="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Ns!==null?{id:Bi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},y=g0(r),y.return=l,l.child=y,fn=l,Ir=null)):r=null,r===null)throw js(l);return l.lanes=536870912,null}return xc(l,C)}var Y=r.memoizedState;if(Y!==null){var et=Y.dehydrated;if(Bf(l),z)if(l.flags&256)l.flags&=-257,l=jg(r,l,y);else if(l.memoizedState!==null)l.child=r.child,l.flags|=128,l=null;else throw Error(i(558));else if(Qr||yo(r,l,y,!1),z=(y&r.childLanes)!==0,Qr||z){if(C=Mr,C!==null&&(et=mt(C,y),et!==0&&et!==Y.retryLane))throw Y.retryLane=et,Ra(r,et),Ln(C,r,et),sd;jc(),l=jg(r,l,y)}else r=Y.treeContext,Ir=li(et.nextSibling),fn=l,hr=!0,Is=null,ai=!1,r!==null&&v0(l,r),l=xc(l,C),l.flags|=4096;return l}return r=ts(r.child,{mode:C.mode,children:C.children}),r.ref=l.ref,l.child=r,r.return=l,r}function Sc(r,l){var y=l.ref;if(y===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(i(284));(r===null||r.ref!==y)&&(l.flags|=4194816)}}function ad(r,l,y,C,z){return ja(l),y=zf(r,l,y,C,void 0,z),C=Uf(),r!==null&&!Qr?(Ff(r,l,z),as(r,l,z)):(hr&&C&&_f(l),l.flags|=1,pn(r,l,y,z),l.child)}function Og(r,l,y,C,z,Y){return ja(l),l.updateQueue=null,y=L0(l,C,y,z),P0(r),C=Uf(),r!==null&&!Qr?(Ff(r,l,Y),as(r,l,Y)):(hr&&C&&_f(l),l.flags|=1,pn(r,l,y,Y),l.child)}function Dg(r,l,y,C,z){if(ja(l),l.stateNode===null){var Y=po,et=y.contextType;typeof et=="object"&&et!==null&&(Y=dn(et)),Y=new y(C,Y),l.memoizedState=Y.state!==null&&Y.state!==void 0?Y.state:null,Y.updater=nd,l.stateNode=Y,Y._reactInternals=l,Y=l.stateNode,Y.props=C,Y.state=l.memoizedState,Y.refs={},If(l),et=y.contextType,Y.context=typeof et=="object"&&et!==null?dn(et):po,Y.state=l.memoizedState,et=y.getDerivedStateFromProps,typeof et=="function"&&(rd(l,y,et,C),Y.state=l.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof Y.getSnapshotBeforeUpdate=="function"||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(et=Y.state,typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount(),et!==Y.state&&nd.enqueueReplaceState(Y,Y.state,null),Rl(l,C,Y,z),kl(),Y.state=l.memoizedState),typeof Y.componentDidMount=="function"&&(l.flags|=4194308),C=!0}else if(r===null){Y=l.stateNode;var ot=l.memoizedProps,gt=Va(y,ot);Y.props=gt;var Rt=Y.context,Bt=y.contextType;et=po,typeof Bt=="object"&&Bt!==null&&(et=dn(Bt));var Ft=y.getDerivedStateFromProps;Bt=typeof Ft=="function"||typeof Y.getSnapshotBeforeUpdate=="function",ot=l.pendingProps!==ot,Bt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(ot||Rt!==et)&&_g(l,Y,C,et),Ds=!1;var Nt=l.memoizedState;Y.state=Nt,Rl(l,C,Y,z),kl(),Rt=l.memoizedState,ot||Nt!==Rt||Ds?(typeof Ft=="function"&&(rd(l,y,Ft,C),Rt=l.memoizedState),(gt=Ds||wg(l,y,gt,C,Nt,Rt,et))?(Bt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=C,l.memoizedState=Rt),Y.props=C,Y.state=Rt,Y.context=et,C=gt):(typeof Y.componentDidMount=="function"&&(l.flags|=4194308),C=!1)}else{Y=l.stateNode,jf(r,l),et=l.memoizedProps,Bt=Va(y,et),Y.props=Bt,Ft=l.pendingProps,Nt=Y.context,Rt=y.contextType,gt=po,typeof Rt=="object"&&Rt!==null&&(gt=dn(Rt)),ot=y.getDerivedStateFromProps,(Rt=typeof ot=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(et!==Ft||Nt!==gt)&&_g(l,Y,C,gt),Ds=!1,Nt=l.memoizedState,Y.state=Nt,Rl(l,C,Y,z),kl();var Pt=l.memoizedState;et!==Ft||Nt!==Pt||Ds||r!==null&&r.dependencies!==null&&ic(r.dependencies)?(typeof ot=="function"&&(rd(l,y,ot,C),Pt=l.memoizedState),(Bt=Ds||wg(l,y,Bt,C,Nt,Pt,gt)||r!==null&&r.dependencies!==null&&ic(r.dependencies))?(Rt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(C,Pt,gt),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(C,Pt,gt)),typeof Y.componentDidUpdate=="function"&&(l.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof Y.componentDidUpdate!="function"||et===r.memoizedProps&&Nt===r.memoizedState||(l.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||et===r.memoizedProps&&Nt===r.memoizedState||(l.flags|=1024),l.memoizedProps=C,l.memoizedState=Pt),Y.props=C,Y.state=Pt,Y.context=gt,C=Bt):(typeof Y.componentDidUpdate!="function"||et===r.memoizedProps&&Nt===r.memoizedState||(l.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||et===r.memoizedProps&&Nt===r.memoizedState||(l.flags|=1024),C=!1)}return Y=C,Sc(r,l),C=(l.flags&128)!==0,Y||C?(Y=l.stateNode,y=C&&typeof y.getDerivedStateFromError!="function"?null:Y.render(),l.flags|=1,r!==null&&C?(l.child=La(l,r.child,null,z),l.child=La(l,null,y,z)):pn(r,l,y,z),l.memoizedState=Y.state,r=l.child):r=as(r,l,z),r}function Pg(r,l,y,C){return Na(),l.flags|=256,pn(r,l,y,C),l.child}var od={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ld(r){return{baseLanes:r,cachePool:E0()}}function ud(r,l,y){return r=r!==null?r.childLanes&~y:0,l&&(r|=Xn),r}function Lg(r,l,y){var C=l.pendingProps,z=!1,Y=(l.flags&128)!==0,et;if((et=Y)||(et=r!==null&&r.memoizedState===null?!1:(Gr.current&2)!==0),et&&(z=!0,l.flags&=-129),et=(l.flags&32)!==0,l.flags&=-33,r===null){if(hr){if(z?Bs(l):Vs(),(r=Ir)?(r=$b(r,ai),r=r!==null&&r.data!=="&"?r:null,r!==null&&(l.memoizedState={dehydrated:r,treeContext:Ns!==null?{id:Bi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},y=g0(r),y.return=l,l.child=y,fn=l,Ir=null)):r=null,r===null)throw js(l);return $d(r)?l.lanes=32:l.lanes=536870912,null}var ot=C.children;return C=C.fallback,z?(Vs(),z=l.mode,ot=Tc({mode:"hidden",children:ot},z),C=Ma(C,z,y,null),ot.return=l,C.return=l,ot.sibling=C,l.child=ot,C=l.child,C.memoizedState=ld(y),C.childLanes=ud(r,et,y),l.memoizedState=od,Ol(null,C)):(Bs(l),cd(l,ot))}var gt=r.memoizedState;if(gt!==null&&(ot=gt.dehydrated,ot!==null)){if(Y)l.flags&256?(Bs(l),l.flags&=-257,l=hd(r,l,y)):l.memoizedState!==null?(Vs(),l.child=r.child,l.flags|=128,l=null):(Vs(),ot=C.fallback,z=l.mode,C=Tc({mode:"visible",children:C.children},z),ot=Ma(ot,z,y,null),ot.flags|=2,C.return=l,ot.return=l,C.sibling=ot,l.child=C,La(l,r.child,null,y),C=l.child,C.memoizedState=ld(y),C.childLanes=ud(r,et,y),l.memoizedState=od,l=Ol(null,C));else if(Bs(l),$d(ot)){if(et=ot.nextSibling&&ot.nextSibling.dataset,et)var Rt=et.dgst;et=Rt,C=Error(i(419)),C.stack="",C.digest=et,xl({value:C,source:null,stack:null}),l=hd(r,l,y)}else if(Qr||yo(r,l,y,!1),et=(y&r.childLanes)!==0,Qr||et){if(et=Mr,et!==null&&(C=mt(et,y),C!==0&&C!==gt.retryLane))throw gt.retryLane=C,Ra(r,C),Ln(et,r,C),sd;qd(ot)||jc(),l=hd(r,l,y)}else qd(ot)?(l.flags|=192,l.child=r.child,l=null):(r=gt.treeContext,Ir=li(ot.nextSibling),fn=l,hr=!0,Is=null,ai=!1,r!==null&&v0(l,r),l=cd(l,C.children),l.flags|=4096);return l}return z?(Vs(),ot=C.fallback,z=l.mode,gt=r.child,Rt=gt.sibling,C=ts(gt,{mode:"hidden",children:C.children}),C.subtreeFlags=gt.subtreeFlags&65011712,Rt!==null?ot=ts(Rt,ot):(ot=Ma(ot,z,y,null),ot.flags|=2),ot.return=l,C.return=l,C.sibling=ot,l.child=C,Ol(null,C),C=l.child,ot=r.child.memoizedState,ot===null?ot=ld(y):(z=ot.cachePool,z!==null?(gt=Xr._currentValue,z=z.parent!==gt?{parent:gt,pool:gt}:z):z=E0(),ot={baseLanes:ot.baseLanes|y,cachePool:z}),C.memoizedState=ot,C.childLanes=ud(r,et,y),l.memoizedState=od,Ol(r.child,C)):(Bs(l),y=r.child,r=y.sibling,y=ts(y,{mode:"visible",children:C.children}),y.return=l,y.sibling=null,r!==null&&(et=l.deletions,et===null?(l.deletions=[r],l.flags|=16):et.push(r)),l.child=y,l.memoizedState=null,y)}function cd(r,l){return l=Tc({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Tc(r,l){return r=$n(22,r,null,l),r.lanes=0,r}function hd(r,l,y){return La(l,r.child,null,y),r=cd(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function Bg(r,l,y){r.lanes|=l;var C=r.alternate;C!==null&&(C.lanes|=l),Af(r.return,l,y)}function fd(r,l,y,C,z,Y){var et=r.memoizedState;et===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:C,tail:y,tailMode:z,treeForkCount:Y}:(et.isBackwards=l,et.rendering=null,et.renderingStartTime=0,et.last=C,et.tail=y,et.tailMode=z,et.treeForkCount=Y)}function Vg(r,l,y){var C=l.pendingProps,z=C.revealOrder,Y=C.tail;C=C.children;var et=Gr.current,ot=(et&2)!==0;if(ot?(et=et&1|2,l.flags|=128):et&=1,K(Gr,et),pn(r,l,C,y),C=hr?_l:0,!ot&&r!==null&&(r.flags&128)!==0)t:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Bg(r,y,l);else if(r.tag===19)Bg(r,y,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break t;for(;r.sibling===null;){if(r.return===null||r.return===l)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(z){case"forwards":for(y=l.child,z=null;y!==null;)r=y.alternate,r!==null&&fc(r)===null&&(z=y),y=y.sibling;y=z,y===null?(z=l.child,l.child=null):(z=y.sibling,y.sibling=null),fd(l,!1,z,y,Y,C);break;case"backwards":case"unstable_legacy-backwards":for(y=null,z=l.child,l.child=null;z!==null;){if(r=z.alternate,r!==null&&fc(r)===null){l.child=z;break}r=z.sibling,z.sibling=y,y=z,z=r}fd(l,!0,y,null,Y,C);break;case"together":fd(l,!1,null,null,void 0,C);break;default:l.memoizedState=null}return l.child}function as(r,l,y){if(r!==null&&(l.dependencies=r.dependencies),Fs|=l.lanes,(y&l.childLanes)===0)if(r!==null){if(yo(r,l,y,!1),(y&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(i(153));if(l.child!==null){for(r=l.child,y=ts(r,r.pendingProps),l.child=y,y.return=l;r.sibling!==null;)r=r.sibling,y=y.sibling=ts(r,r.pendingProps),y.return=l;y.sibling=null}return l.child}function dd(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&ic(r)))}function x_(r,l,y){switch(l.tag){case 3:U(l,l.stateNode.containerInfo),Os(l,Xr,r.memoizedState.cache),Na();break;case 27:case 5:Q(l);break;case 4:U(l,l.stateNode.containerInfo);break;case 10:Os(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,Bf(l),null;break;case 13:var C=l.memoizedState;if(C!==null)return C.dehydrated!==null?(Bs(l),l.flags|=128,null):(y&l.child.childLanes)!==0?Lg(r,l,y):(Bs(l),r=as(r,l,y),r!==null?r.sibling:null);Bs(l);break;case 19:var z=(r.flags&128)!==0;if(C=(y&l.childLanes)!==0,C||(yo(r,l,y,!1),C=(y&l.childLanes)!==0),z){if(C)return Vg(r,l,y);l.flags|=128}if(z=l.memoizedState,z!==null&&(z.rendering=null,z.tail=null,z.lastEffect=null),K(Gr,Gr.current),C)break;return null;case 22:return l.lanes=0,Ng(r,l,y,l.pendingProps);case 24:Os(l,Xr,r.memoizedState.cache)}return as(r,l,y)}function zg(r,l,y){if(r!==null)if(r.memoizedProps!==l.pendingProps)Qr=!0;else{if(!dd(r,y)&&(l.flags&128)===0)return Qr=!1,x_(r,l,y);Qr=(r.flags&131072)!==0}else Qr=!1,hr&&(l.flags&1048576)!==0&&y0(l,_l,l.index);switch(l.lanes=0,l.tag){case 16:t:{var C=l.pendingProps;if(r=Da(l.elementType),l.type=r,typeof r=="function")yf(r)?(C=Va(r,C),l.tag=1,l=Dg(null,l,r,C,y)):(l.tag=0,l=ad(null,l,r,C,y));else{if(r!=null){var z=r.$$typeof;if(z===M){l.tag=11,l=kg(null,l,r,C,y);break t}else if(z===F){l.tag=14,l=Rg(null,l,r,C,y);break t}}throw l=P(r)||r,Error(i(306,l,""))}}return l;case 0:return ad(r,l,l.type,l.pendingProps,y);case 1:return C=l.type,z=Va(C,l.pendingProps),Dg(r,l,C,z,y);case 3:t:{if(U(l,l.stateNode.containerInfo),r===null)throw Error(i(387));C=l.pendingProps;var Y=l.memoizedState;z=Y.element,jf(r,l),Rl(l,C,null,y);var et=l.memoizedState;if(C=et.cache,Os(l,Xr,C),C!==Y.cache&&Cf(l,[Xr],y,!0),kl(),C=et.element,Y.isDehydrated)if(Y={element:C,isDehydrated:!1,cache:et.cache},l.updateQueue.baseState=Y,l.memoizedState=Y,l.flags&256){l=Pg(r,l,C,y);break t}else if(C!==z){z=ni(Error(i(424)),l),xl(z),l=Pg(r,l,C,y);break t}else for(r=l.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,Ir=li(r.firstChild),fn=l,hr=!0,Is=null,ai=!0,y=N0(l,null,C,y),l.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Na(),C===z){l=as(r,l,y);break t}pn(r,l,C,y)}l=l.child}return l;case 26:return Sc(r,l),r===null?(y=Qb(l.type,null,l.pendingProps,null))?l.memoizedState=y:hr||(y=l.type,r=l.pendingProps,C=zc($.current).createElement(y),C[le]=l,C[Lt]=r,mn(C,y,r),St(C),l.stateNode=C):l.memoizedState=Qb(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return Q(l),r===null&&hr&&(C=l.stateNode=Yb(l.type,l.pendingProps,$.current),fn=l,ai=!0,z=Ir,Ws(l.type)?(Gd=z,Ir=li(C.firstChild)):Ir=z),pn(r,l,l.pendingProps.children,y),Sc(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&hr&&((z=C=Ir)&&(C=Z_(C,l.type,l.pendingProps,ai),C!==null?(l.stateNode=C,fn=l,Ir=li(C.firstChild),ai=!1,z=!0):z=!1),z||js(l)),Q(l),z=l.type,Y=l.pendingProps,et=r!==null?r.memoizedProps:null,C=Y.children,Ud(z,Y)?C=null:et!==null&&Ud(z,et)&&(l.flags|=32),l.memoizedState!==null&&(z=zf(r,l,d_,null,null,y),Xl._currentValue=z),Sc(r,l),pn(r,l,C,y),l.child;case 6:return r===null&&hr&&((r=y=Ir)&&(y=J_(y,l.pendingProps,ai),y!==null?(l.stateNode=y,fn=l,Ir=null,r=!0):r=!1),r||js(l)),null;case 13:return Lg(r,l,y);case 4:return U(l,l.stateNode.containerInfo),C=l.pendingProps,r===null?l.child=La(l,null,C,y):pn(r,l,C,y),l.child;case 11:return kg(r,l,l.type,l.pendingProps,y);case 7:return pn(r,l,l.pendingProps,y),l.child;case 8:return pn(r,l,l.pendingProps.children,y),l.child;case 12:return pn(r,l,l.pendingProps.children,y),l.child;case 10:return C=l.pendingProps,Os(l,l.type,C.value),pn(r,l,C.children,y),l.child;case 9:return z=l.type._context,C=l.pendingProps.children,ja(l),z=dn(z),C=C(z),l.flags|=1,pn(r,l,C,y),l.child;case 14:return Rg(r,l,l.type,l.pendingProps,y);case 15:return Mg(r,l,l.type,l.pendingProps,y);case 19:return Vg(r,l,y);case 31:return __(r,l,y);case 22:return Ng(r,l,y,l.pendingProps);case 24:return ja(l),C=dn(Xr),r===null?(z=Mf(),z===null&&(z=Mr,Y=kf(),z.pooledCache=Y,Y.refCount++,Y!==null&&(z.pooledCacheLanes|=y),z=Y),l.memoizedState={parent:C,cache:z},If(l),Os(l,Xr,z)):((r.lanes&y)!==0&&(jf(r,l),Rl(l,null,null,y),kl()),z=r.memoizedState,Y=l.memoizedState,z.parent!==C?(z={parent:C,cache:C},l.memoizedState=z,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=z),Os(l,Xr,C)):(C=Y.cache,Os(l,Xr,C),C!==z.cache&&Cf(l,[Xr],y,!0))),pn(r,l,l.pendingProps.children,y),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function os(r){r.flags|=4}function pd(r,l,y,C,z){if((l=(r.mode&32)!==0)&&(l=!1),l){if(r.flags|=16777216,(z&335544128)===z)if(r.stateNode.complete)r.flags|=8192;else if(db())r.flags|=8192;else throw Pa=lc,Nf}else r.flags&=-16777217}function Ug(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!r1(l))if(db())r.flags|=8192;else throw Pa=lc,Nf}function Ec(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?He():536870912,r.lanes|=l,Mo|=l)}function Dl(r,l){if(!hr)switch(r.tailMode){case"hidden":l=r.tail;for(var y=null;l!==null;)l.alternate!==null&&(y=l),l=l.sibling;y===null?r.tail=null:y.sibling=null;break;case"collapsed":y=r.tail;for(var C=null;y!==null;)y.alternate!==null&&(C=y),y=y.sibling;C===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:C.sibling=null}}function jr(r){var l=r.alternate!==null&&r.alternate.child===r.child,y=0,C=0;if(l)for(var z=r.child;z!==null;)y|=z.lanes|z.childLanes,C|=z.subtreeFlags&65011712,C|=z.flags&65011712,z.return=r,z=z.sibling;else for(z=r.child;z!==null;)y|=z.lanes|z.childLanes,C|=z.subtreeFlags,C|=z.flags,z.return=r,z=z.sibling;return r.subtreeFlags|=C,r.childLanes=y,l}function S_(r,l,y){var C=l.pendingProps;switch(xf(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(l),null;case 1:return jr(l),null;case 3:return y=l.stateNode,C=null,r!==null&&(C=r.memoizedState.cache),l.memoizedState.cache!==C&&(l.flags|=2048),ns(Xr),L(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(r===null||r.child===null)&&(bo(l)?os(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Tf())),jr(l),null;case 26:var z=l.type,Y=l.memoizedState;return r===null?(os(l),Y!==null?(jr(l),Ug(l,Y)):(jr(l),pd(l,z,null,C,y))):Y?Y!==r.memoizedState?(os(l),jr(l),Ug(l,Y)):(jr(l),l.flags&=-16777217):(r=r.memoizedProps,r!==C&&os(l),jr(l),pd(l,z,r,C,y)),null;case 27:if(it(l),y=$.current,z=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==C&&os(l);else{if(!C){if(l.stateNode===null)throw Error(i(166));return jr(l),null}r=Z.current,bo(l)?w0(l):(r=Yb(z,C,y),l.stateNode=r,os(l))}return jr(l),null;case 5:if(it(l),z=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==C&&os(l);else{if(!C){if(l.stateNode===null)throw Error(i(166));return jr(l),null}if(Y=Z.current,bo(l))w0(l);else{var et=zc($.current);switch(Y){case 1:Y=et.createElementNS("http://www.w3.org/2000/svg",z);break;case 2:Y=et.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;default:switch(z){case"svg":Y=et.createElementNS("http://www.w3.org/2000/svg",z);break;case"math":Y=et.createElementNS("http://www.w3.org/1998/Math/MathML",z);break;case"script":Y=et.createElement("div"),Y.innerHTML="<script><\/script>",Y=Y.removeChild(Y.firstChild);break;case"select":Y=typeof C.is=="string"?et.createElement("select",{is:C.is}):et.createElement("select"),C.multiple?Y.multiple=!0:C.size&&(Y.size=C.size);break;default:Y=typeof C.is=="string"?et.createElement(z,{is:C.is}):et.createElement(z)}}Y[le]=l,Y[Lt]=C;t:for(et=l.child;et!==null;){if(et.tag===5||et.tag===6)Y.appendChild(et.stateNode);else if(et.tag!==4&&et.tag!==27&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===l)break t;for(;et.sibling===null;){if(et.return===null||et.return===l)break t;et=et.return}et.sibling.return=et.return,et=et.sibling}l.stateNode=Y;t:switch(mn(Y,z,C),z){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break t;case"img":C=!0;break t;default:C=!1}C&&os(l)}}return jr(l),pd(l,l.type,r===null?null:r.memoizedProps,l.pendingProps,y),null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==C&&os(l);else{if(typeof C!="string"&&l.stateNode===null)throw Error(i(166));if(r=$.current,bo(l)){if(r=l.stateNode,y=l.memoizedProps,C=null,z=fn,z!==null)switch(z.tag){case 27:case 5:C=z.memoizedProps}r[le]=l,r=!!(r.nodeValue===y||C!==null&&C.suppressHydrationWarning===!0||Lb(r.nodeValue,y)),r||js(l,!0)}else r=zc(r).createTextNode(C),r[le]=l,l.stateNode=r}return jr(l),null;case 31:if(y=l.memoizedState,r===null||r.memoizedState!==null){if(C=bo(l),y!==null){if(r===null){if(!C)throw Error(i(318));if(r=l.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[le]=l}else Na(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jr(l),r=!1}else y=Tf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=y),r=!0;if(!r)return l.flags&256?(Wn(l),l):(Wn(l),null);if((l.flags&128)!==0)throw Error(i(558))}return jr(l),null;case 13:if(C=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(z=bo(l),C!==null&&C.dehydrated!==null){if(r===null){if(!z)throw Error(i(318));if(z=l.memoizedState,z=z!==null?z.dehydrated:null,!z)throw Error(i(317));z[le]=l}else Na(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;jr(l),z=!1}else z=Tf(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=z),z=!0;if(!z)return l.flags&256?(Wn(l),l):(Wn(l),null)}return Wn(l),(l.flags&128)!==0?(l.lanes=y,l):(y=C!==null,r=r!==null&&r.memoizedState!==null,y&&(C=l.child,z=null,C.alternate!==null&&C.alternate.memoizedState!==null&&C.alternate.memoizedState.cachePool!==null&&(z=C.alternate.memoizedState.cachePool.pool),Y=null,C.memoizedState!==null&&C.memoizedState.cachePool!==null&&(Y=C.memoizedState.cachePool.pool),Y!==z&&(C.flags|=2048)),y!==r&&y&&(l.child.flags|=8192),Ec(l,l.updateQueue),jr(l),null);case 4:return L(),r===null&&Pd(l.stateNode.containerInfo),jr(l),null;case 10:return ns(l.type),jr(l),null;case 19:if(B(Gr),C=l.memoizedState,C===null)return jr(l),null;if(z=(l.flags&128)!==0,Y=C.rendering,Y===null)if(z)Dl(C,!1);else{if(Ur!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(Y=fc(r),Y!==null){for(l.flags|=128,Dl(C,!1),r=Y.updateQueue,l.updateQueue=r,Ec(l,r),l.subtreeFlags=0,r=y,y=l.child;y!==null;)m0(y,r),y=y.sibling;return K(Gr,Gr.current&1|2),hr&&es(l,C.treeForkCount),l.child}r=r.sibling}C.tail!==null&&It()>Mc&&(l.flags|=128,z=!0,Dl(C,!1),l.lanes=4194304)}else{if(!z)if(r=fc(Y),r!==null){if(l.flags|=128,z=!0,r=r.updateQueue,l.updateQueue=r,Ec(l,r),Dl(C,!0),C.tail===null&&C.tailMode==="hidden"&&!Y.alternate&&!hr)return jr(l),null}else 2*It()-C.renderingStartTime>Mc&&y!==536870912&&(l.flags|=128,z=!0,Dl(C,!1),l.lanes=4194304);C.isBackwards?(Y.sibling=l.child,l.child=Y):(r=C.last,r!==null?r.sibling=Y:l.child=Y,C.last=Y)}return C.tail!==null?(r=C.tail,C.rendering=r,C.tail=r.sibling,C.renderingStartTime=It(),r.sibling=null,y=Gr.current,K(Gr,z?y&1|2:y&1),hr&&es(l,C.treeForkCount),r):(jr(l),null);case 22:case 23:return Wn(l),Lf(),C=l.memoizedState!==null,r!==null?r.memoizedState!==null!==C&&(l.flags|=8192):C&&(l.flags|=8192),C?(y&536870912)!==0&&(l.flags&128)===0&&(jr(l),l.subtreeFlags&6&&(l.flags|=8192)):jr(l),y=l.updateQueue,y!==null&&Ec(l,y.retryQueue),y=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),C=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(C=l.memoizedState.cachePool.pool),C!==y&&(l.flags|=2048),r!==null&&B(Oa),null;case 24:return y=null,r!==null&&(y=r.memoizedState.cache),l.memoizedState.cache!==y&&(l.flags|=2048),ns(Xr),jr(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function T_(r,l){switch(xf(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return ns(Xr),L(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return it(l),null;case 31:if(l.memoizedState!==null){if(Wn(l),l.alternate===null)throw Error(i(340));Na()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 13:if(Wn(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Na()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return B(Gr),null;case 4:return L(),null;case 10:return ns(l.type),null;case 22:case 23:return Wn(l),Lf(),r!==null&&B(Oa),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return ns(Xr),null;case 25:return null;default:return null}}function Fg(r,l){switch(xf(l),l.tag){case 3:ns(Xr),L();break;case 26:case 27:case 5:it(l);break;case 4:L();break;case 31:l.memoizedState!==null&&Wn(l);break;case 13:Wn(l);break;case 19:B(Gr);break;case 10:ns(l.type);break;case 22:case 23:Wn(l),Lf(),r!==null&&B(Oa);break;case 24:ns(Xr)}}function Pl(r,l){try{var y=l.updateQueue,C=y!==null?y.lastEffect:null;if(C!==null){var z=C.next;y=z;do{if((y.tag&r)===r){C=void 0;var Y=y.create,et=y.inst;C=Y(),et.destroy=C}y=y.next}while(y!==z)}}catch(ot){Sr(l,l.return,ot)}}function zs(r,l,y){try{var C=l.updateQueue,z=C!==null?C.lastEffect:null;if(z!==null){var Y=z.next;C=Y;do{if((C.tag&r)===r){var et=C.inst,ot=et.destroy;if(ot!==void 0){et.destroy=void 0,z=l;var gt=y,Rt=ot;try{Rt()}catch(Bt){Sr(z,gt,Bt)}}}C=C.next}while(C!==Y)}}catch(Bt){Sr(l,l.return,Bt)}}function Hg(r){var l=r.updateQueue;if(l!==null){var y=r.stateNode;try{j0(l,y)}catch(C){Sr(r,r.return,C)}}}function qg(r,l,y){y.props=Va(r.type,r.memoizedProps),y.state=r.memoizedState;try{y.componentWillUnmount()}catch(C){Sr(r,l,C)}}function Ll(r,l){try{var y=r.ref;if(y!==null){switch(r.tag){case 26:case 27:case 5:var C=r.stateNode;break;case 30:C=r.stateNode;break;default:C=r.stateNode}typeof y=="function"?r.refCleanup=y(C):y.current=C}}catch(z){Sr(r,l,z)}}function zi(r,l){var y=r.ref,C=r.refCleanup;if(y!==null)if(typeof C=="function")try{C()}catch(z){Sr(r,l,z)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(z){Sr(r,l,z)}else y.current=null}function $g(r){var l=r.type,y=r.memoizedProps,C=r.stateNode;try{t:switch(l){case"button":case"input":case"select":case"textarea":y.autoFocus&&C.focus();break t;case"img":y.src?C.src=y.src:y.srcSet&&(C.srcset=y.srcSet)}}catch(z){Sr(r,r.return,z)}}function md(r,l,y){try{var C=r.stateNode;G_(C,r.type,y,l),C[Lt]=l}catch(z){Sr(r,r.return,z)}}function Gg(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ws(r.type)||r.tag===4}function gd(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||Gg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ws(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function bd(r,l,y){var C=r.tag;if(C===5||C===6)r=r.stateNode,l?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(r,l):(l=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,l.appendChild(r),y=y._reactRootContainer,y!=null||l.onclick!==null||(l.onclick=Cn));else if(C!==4&&(C===27&&Ws(r.type)&&(y=r.stateNode,l=null),r=r.child,r!==null))for(bd(r,l,y),r=r.sibling;r!==null;)bd(r,l,y),r=r.sibling}function Ac(r,l,y){var C=r.tag;if(C===5||C===6)r=r.stateNode,l?y.insertBefore(r,l):y.appendChild(r);else if(C!==4&&(C===27&&Ws(r.type)&&(y=r.stateNode),r=r.child,r!==null))for(Ac(r,l,y),r=r.sibling;r!==null;)Ac(r,l,y),r=r.sibling}function Wg(r){var l=r.stateNode,y=r.memoizedProps;try{for(var C=r.type,z=l.attributes;z.length;)l.removeAttributeNode(z[0]);mn(l,C,y),l[le]=r,l[Lt]=y}catch(Y){Sr(r,r.return,Y)}}var ls=!1,Zr=!1,yd=!1,Yg=typeof WeakSet=="function"?WeakSet:Set,on=null;function E_(r,l){if(r=r.containerInfo,Vd=Wc,r=a0(r),hf(r)){if("selectionStart"in r)var y={start:r.selectionStart,end:r.selectionEnd};else t:{y=(y=r.ownerDocument)&&y.defaultView||window;var C=y.getSelection&&y.getSelection();if(C&&C.rangeCount!==0){y=C.anchorNode;var z=C.anchorOffset,Y=C.focusNode;C=C.focusOffset;try{y.nodeType,Y.nodeType}catch{y=null;break t}var et=0,ot=-1,gt=-1,Rt=0,Bt=0,Ft=r,Nt=null;e:for(;;){for(var Pt;Ft!==y||z!==0&&Ft.nodeType!==3||(ot=et+z),Ft!==Y||C!==0&&Ft.nodeType!==3||(gt=et+C),Ft.nodeType===3&&(et+=Ft.nodeValue.length),(Pt=Ft.firstChild)!==null;)Nt=Ft,Ft=Pt;for(;;){if(Ft===r)break e;if(Nt===y&&++Rt===z&&(ot=et),Nt===Y&&++Bt===C&&(gt=et),(Pt=Ft.nextSibling)!==null)break;Ft=Nt,Nt=Ft.parentNode}Ft=Pt}y=ot===-1||gt===-1?null:{start:ot,end:gt}}else y=null}y=y||{start:0,end:0}}else y=null;for(zd={focusedElem:r,selectionRange:y},Wc=!1,on=l;on!==null;)if(l=on,r=l.child,(l.subtreeFlags&1028)!==0&&r!==null)r.return=l,on=r;else for(;on!==null;){switch(l=on,Y=l.alternate,r=l.flags,l.tag){case 0:if((r&4)!==0&&(r=l.updateQueue,r=r!==null?r.events:null,r!==null))for(y=0;y<r.length;y++)z=r[y],z.ref.impl=z.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&Y!==null){r=void 0,y=l,z=Y.memoizedProps,Y=Y.memoizedState,C=y.stateNode;try{var ye=Va(y.type,z);r=C.getSnapshotBeforeUpdate(ye,Y),C.__reactInternalSnapshotBeforeUpdate=r}catch(je){Sr(y,y.return,je)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,y=r.nodeType,y===9)Hd(r);else if(y===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Hd(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=l.sibling,r!==null){r.return=l.return,on=r;break}on=l.return}}function Xg(r,l,y){var C=y.flags;switch(y.tag){case 0:case 11:case 15:cs(r,y),C&4&&Pl(5,y);break;case 1:if(cs(r,y),C&4)if(r=y.stateNode,l===null)try{r.componentDidMount()}catch(et){Sr(y,y.return,et)}else{var z=Va(y.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(z,l,r.__reactInternalSnapshotBeforeUpdate)}catch(et){Sr(y,y.return,et)}}C&64&&Hg(y),C&512&&Ll(y,y.return);break;case 3:if(cs(r,y),C&64&&(r=y.updateQueue,r!==null)){if(l=null,y.child!==null)switch(y.child.tag){case 27:case 5:l=y.child.stateNode;break;case 1:l=y.child.stateNode}try{j0(r,l)}catch(et){Sr(y,y.return,et)}}break;case 27:l===null&&C&4&&Wg(y);case 26:case 5:cs(r,y),l===null&&C&4&&$g(y),C&512&&Ll(y,y.return);break;case 12:cs(r,y);break;case 31:cs(r,y),C&4&&Zg(r,y);break;case 13:cs(r,y),C&4&&Jg(r,y),C&64&&(r=y.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(y=O_.bind(null,y),tx(r,y))));break;case 22:if(C=y.memoizedState!==null||ls,!C){l=l!==null&&l.memoizedState!==null||Zr,z=ls;var Y=Zr;ls=C,(Zr=l)&&!Y?hs(r,y,(y.subtreeFlags&8772)!==0):cs(r,y),ls=z,Zr=Y}break;case 30:break;default:cs(r,y)}}function Kg(r){var l=r.alternate;l!==null&&(r.alternate=null,Kg(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Tr(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Lr=null,jn=!1;function us(r,l,y){for(y=y.child;y!==null;)Qg(r,l,y),y=y.sibling}function Qg(r,l,y){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Zt,y)}catch{}switch(y.tag){case 26:Zr||zi(y,l),us(r,l,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Zr||zi(y,l);var C=Lr,z=jn;Ws(y.type)&&(Lr=y.stateNode,jn=!1),us(r,l,y),Gl(y.stateNode),Lr=C,jn=z;break;case 5:Zr||zi(y,l);case 6:if(C=Lr,z=jn,Lr=null,us(r,l,y),Lr=C,jn=z,Lr!==null)if(jn)try{(Lr.nodeType===9?Lr.body:Lr.nodeName==="HTML"?Lr.ownerDocument.body:Lr).removeChild(y.stateNode)}catch(Y){Sr(y,l,Y)}else try{Lr.removeChild(y.stateNode)}catch(Y){Sr(y,l,Y)}break;case 18:Lr!==null&&(jn?(r=Lr,Hb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,y.stateNode),Bo(r)):Hb(Lr,y.stateNode));break;case 4:C=Lr,z=jn,Lr=y.stateNode.containerInfo,jn=!0,us(r,l,y),Lr=C,jn=z;break;case 0:case 11:case 14:case 15:zs(2,y,l),Zr||zs(4,y,l),us(r,l,y);break;case 1:Zr||(zi(y,l),C=y.stateNode,typeof C.componentWillUnmount=="function"&&qg(y,l,C)),us(r,l,y);break;case 21:us(r,l,y);break;case 22:Zr=(C=Zr)||y.memoizedState!==null,us(r,l,y),Zr=C;break;default:us(r,l,y)}}function Zg(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Bo(r)}catch(y){Sr(l,l.return,y)}}}function Jg(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Bo(r)}catch(y){Sr(l,l.return,y)}}function A_(r){switch(r.tag){case 31:case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new Yg),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new Yg),l;default:throw Error(i(435,r.tag))}}function Cc(r,l){var y=A_(r);l.forEach(function(C){if(!y.has(C)){y.add(C);var z=D_.bind(null,r,C);C.then(z,z)}})}function On(r,l){var y=l.deletions;if(y!==null)for(var C=0;C<y.length;C++){var z=y[C],Y=r,et=l,ot=et;t:for(;ot!==null;){switch(ot.tag){case 27:if(Ws(ot.type)){Lr=ot.stateNode,jn=!1;break t}break;case 5:Lr=ot.stateNode,jn=!1;break t;case 3:case 4:Lr=ot.stateNode.containerInfo,jn=!0;break t}ot=ot.return}if(Lr===null)throw Error(i(160));Qg(Y,et,z),Lr=null,jn=!1,Y=z.alternate,Y!==null&&(Y.return=null),z.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)tb(l,r),l=l.sibling}var xi=null;function tb(r,l){var y=r.alternate,C=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:On(l,r),Dn(r),C&4&&(zs(3,r,r.return),Pl(3,r),zs(5,r,r.return));break;case 1:On(l,r),Dn(r),C&512&&(Zr||y===null||zi(y,y.return)),C&64&&ls&&(r=r.updateQueue,r!==null&&(C=r.callbacks,C!==null&&(y=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=y===null?C:y.concat(C))));break;case 26:var z=xi;if(On(l,r),Dn(r),C&512&&(Zr||y===null||zi(y,y.return)),C&4){var Y=y!==null?y.memoizedState:null;if(C=r.memoizedState,y===null)if(C===null)if(r.stateNode===null){t:{C=r.type,y=r.memoizedProps,z=z.ownerDocument||z;e:switch(C){case"title":Y=z.getElementsByTagName("title")[0],(!Y||Y[tr]||Y[le]||Y.namespaceURI==="http://www.w3.org/2000/svg"||Y.hasAttribute("itemprop"))&&(Y=z.createElement(C),z.head.insertBefore(Y,z.querySelector("head > title"))),mn(Y,C,y),Y[le]=r,St(Y),C=Y;break t;case"link":var et=t1("link","href",z).get(C+(y.href||""));if(et){for(var ot=0;ot<et.length;ot++)if(Y=et[ot],Y.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&Y.getAttribute("rel")===(y.rel==null?null:y.rel)&&Y.getAttribute("title")===(y.title==null?null:y.title)&&Y.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){et.splice(ot,1);break e}}Y=z.createElement(C),mn(Y,C,y),z.head.appendChild(Y);break;case"meta":if(et=t1("meta","content",z).get(C+(y.content||""))){for(ot=0;ot<et.length;ot++)if(Y=et[ot],Y.getAttribute("content")===(y.content==null?null:""+y.content)&&Y.getAttribute("name")===(y.name==null?null:y.name)&&Y.getAttribute("property")===(y.property==null?null:y.property)&&Y.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&Y.getAttribute("charset")===(y.charSet==null?null:y.charSet)){et.splice(ot,1);break e}}Y=z.createElement(C),mn(Y,C,y),z.head.appendChild(Y);break;default:throw Error(i(468,C))}Y[le]=r,St(Y),C=Y}r.stateNode=C}else e1(z,r.type,r.stateNode);else r.stateNode=Jb(z,C,r.memoizedProps);else Y!==C?(Y===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):Y.count--,C===null?e1(z,r.type,r.stateNode):Jb(z,C,r.memoizedProps)):C===null&&r.stateNode!==null&&md(r,r.memoizedProps,y.memoizedProps)}break;case 27:On(l,r),Dn(r),C&512&&(Zr||y===null||zi(y,y.return)),y!==null&&C&4&&md(r,r.memoizedProps,y.memoizedProps);break;case 5:if(On(l,r),Dn(r),C&512&&(Zr||y===null||zi(y,y.return)),r.flags&32){z=r.stateNode;try{Dr(z,"")}catch(ye){Sr(r,r.return,ye)}}C&4&&r.stateNode!=null&&(z=r.memoizedProps,md(r,z,y!==null?y.memoizedProps:z)),C&1024&&(yd=!0);break;case 6:if(On(l,r),Dn(r),C&4){if(r.stateNode===null)throw Error(i(162));C=r.memoizedProps,y=r.stateNode;try{y.nodeValue=C}catch(ye){Sr(r,r.return,ye)}}break;case 3:if(Hc=null,z=xi,xi=Uc(l.containerInfo),On(l,r),xi=z,Dn(r),C&4&&y!==null&&y.memoizedState.isDehydrated)try{Bo(l.containerInfo)}catch(ye){Sr(r,r.return,ye)}yd&&(yd=!1,eb(r));break;case 4:C=xi,xi=Uc(r.stateNode.containerInfo),On(l,r),Dn(r),xi=C;break;case 12:On(l,r),Dn(r);break;case 31:On(l,r),Dn(r),C&4&&(C=r.updateQueue,C!==null&&(r.updateQueue=null,Cc(r,C)));break;case 13:On(l,r),Dn(r),r.child.flags&8192&&r.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(Rc=It()),C&4&&(C=r.updateQueue,C!==null&&(r.updateQueue=null,Cc(r,C)));break;case 22:z=r.memoizedState!==null;var gt=y!==null&&y.memoizedState!==null,Rt=ls,Bt=Zr;if(ls=Rt||z,Zr=Bt||gt,On(l,r),Zr=Bt,ls=Rt,Dn(r),C&8192)t:for(l=r.stateNode,l._visibility=z?l._visibility&-2:l._visibility|1,z&&(y===null||gt||ls||Zr||za(r)),y=null,l=r;;){if(l.tag===5||l.tag===26){if(y===null){gt=y=l;try{if(Y=gt.stateNode,z)et=Y.style,typeof et.setProperty=="function"?et.setProperty("display","none","important"):et.display="none";else{ot=gt.stateNode;var Ft=gt.memoizedProps.style,Nt=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null;ot.style.display=Nt==null||typeof Nt=="boolean"?"":(""+Nt).trim()}}catch(ye){Sr(gt,gt.return,ye)}}}else if(l.tag===6){if(y===null){gt=l;try{gt.stateNode.nodeValue=z?"":gt.memoizedProps}catch(ye){Sr(gt,gt.return,ye)}}}else if(l.tag===18){if(y===null){gt=l;try{var Pt=gt.stateNode;z?qb(Pt,!0):qb(gt.stateNode,!1)}catch(ye){Sr(gt,gt.return,ye)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break t;for(;l.sibling===null;){if(l.return===null||l.return===r)break t;y===l&&(y=null),l=l.return}y===l&&(y=null),l.sibling.return=l.return,l=l.sibling}C&4&&(C=r.updateQueue,C!==null&&(y=C.retryQueue,y!==null&&(C.retryQueue=null,Cc(r,y))));break;case 19:On(l,r),Dn(r),C&4&&(C=r.updateQueue,C!==null&&(r.updateQueue=null,Cc(r,C)));break;case 30:break;case 21:break;default:On(l,r),Dn(r)}}function Dn(r){var l=r.flags;if(l&2){try{for(var y,C=r.return;C!==null;){if(Gg(C)){y=C;break}C=C.return}if(y==null)throw Error(i(160));switch(y.tag){case 27:var z=y.stateNode,Y=gd(r);Ac(r,Y,z);break;case 5:var et=y.stateNode;y.flags&32&&(Dr(et,""),y.flags&=-33);var ot=gd(r);Ac(r,ot,et);break;case 3:case 4:var gt=y.stateNode.containerInfo,Rt=gd(r);bd(r,Rt,gt);break;default:throw Error(i(161))}}catch(Bt){Sr(r,r.return,Bt)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function eb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;eb(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function cs(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Xg(r,l.alternate,l),l=l.sibling}function za(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:zs(4,l,l.return),za(l);break;case 1:zi(l,l.return);var y=l.stateNode;typeof y.componentWillUnmount=="function"&&qg(l,l.return,y),za(l);break;case 27:Gl(l.stateNode);case 26:case 5:zi(l,l.return),za(l);break;case 22:l.memoizedState===null&&za(l);break;case 30:za(l);break;default:za(l)}r=r.sibling}}function hs(r,l,y){for(y=y&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var C=l.alternate,z=r,Y=l,et=Y.flags;switch(Y.tag){case 0:case 11:case 15:hs(z,Y,y),Pl(4,Y);break;case 1:if(hs(z,Y,y),C=Y,z=C.stateNode,typeof z.componentDidMount=="function")try{z.componentDidMount()}catch(Rt){Sr(C,C.return,Rt)}if(C=Y,z=C.updateQueue,z!==null){var ot=C.stateNode;try{var gt=z.shared.hiddenCallbacks;if(gt!==null)for(z.shared.hiddenCallbacks=null,z=0;z<gt.length;z++)I0(gt[z],ot)}catch(Rt){Sr(C,C.return,Rt)}}y&&et&64&&Hg(Y),Ll(Y,Y.return);break;case 27:Wg(Y);case 26:case 5:hs(z,Y,y),y&&C===null&&et&4&&$g(Y),Ll(Y,Y.return);break;case 12:hs(z,Y,y);break;case 31:hs(z,Y,y),y&&et&4&&Zg(z,Y);break;case 13:hs(z,Y,y),y&&et&4&&Jg(z,Y);break;case 22:Y.memoizedState===null&&hs(z,Y,y),Ll(Y,Y.return);break;case 30:break;default:hs(z,Y,y)}l=l.sibling}}function vd(r,l){var y=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==y&&(r!=null&&r.refCount++,y!=null&&Sl(y))}function wd(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Sl(r))}function Si(r,l,y,C){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)rb(r,l,y,C),l=l.sibling}function rb(r,l,y,C){var z=l.flags;switch(l.tag){case 0:case 11:case 15:Si(r,l,y,C),z&2048&&Pl(9,l);break;case 1:Si(r,l,y,C);break;case 3:Si(r,l,y,C),z&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Sl(r)));break;case 12:if(z&2048){Si(r,l,y,C),r=l.stateNode;try{var Y=l.memoizedProps,et=Y.id,ot=Y.onPostCommit;typeof ot=="function"&&ot(et,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(gt){Sr(l,l.return,gt)}}else Si(r,l,y,C);break;case 31:Si(r,l,y,C);break;case 13:Si(r,l,y,C);break;case 23:break;case 22:Y=l.stateNode,et=l.alternate,l.memoizedState!==null?Y._visibility&2?Si(r,l,y,C):Bl(r,l):Y._visibility&2?Si(r,l,y,C):(Y._visibility|=2,Co(r,l,y,C,(l.subtreeFlags&10256)!==0||!1)),z&2048&&vd(et,l);break;case 24:Si(r,l,y,C),z&2048&&wd(l.alternate,l);break;default:Si(r,l,y,C)}}function Co(r,l,y,C,z){for(z=z&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var Y=r,et=l,ot=y,gt=C,Rt=et.flags;switch(et.tag){case 0:case 11:case 15:Co(Y,et,ot,gt,z),Pl(8,et);break;case 23:break;case 22:var Bt=et.stateNode;et.memoizedState!==null?Bt._visibility&2?Co(Y,et,ot,gt,z):Bl(Y,et):(Bt._visibility|=2,Co(Y,et,ot,gt,z)),z&&Rt&2048&&vd(et.alternate,et);break;case 24:Co(Y,et,ot,gt,z),z&&Rt&2048&&wd(et.alternate,et);break;default:Co(Y,et,ot,gt,z)}l=l.sibling}}function Bl(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var y=r,C=l,z=C.flags;switch(C.tag){case 22:Bl(y,C),z&2048&&vd(C.alternate,C);break;case 24:Bl(y,C),z&2048&&wd(C.alternate,C);break;default:Bl(y,C)}l=l.sibling}}var Vl=8192;function ko(r,l,y){if(r.subtreeFlags&Vl)for(r=r.child;r!==null;)nb(r,l,y),r=r.sibling}function nb(r,l,y){switch(r.tag){case 26:ko(r,l,y),r.flags&Vl&&r.memoizedState!==null&&fx(y,xi,r.memoizedState,r.memoizedProps);break;case 5:ko(r,l,y);break;case 3:case 4:var C=xi;xi=Uc(r.stateNode.containerInfo),ko(r,l,y),xi=C;break;case 22:r.memoizedState===null&&(C=r.alternate,C!==null&&C.memoizedState!==null?(C=Vl,Vl=16777216,ko(r,l,y),Vl=C):ko(r,l,y));break;default:ko(r,l,y)}}function ib(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function zl(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var y=0;y<l.length;y++){var C=l[y];on=C,ab(C,r)}ib(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)sb(r),r=r.sibling}function sb(r){switch(r.tag){case 0:case 11:case 15:zl(r),r.flags&2048&&zs(9,r,r.return);break;case 3:zl(r);break;case 12:zl(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,kc(r)):zl(r);break;default:zl(r)}}function kc(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var y=0;y<l.length;y++){var C=l[y];on=C,ab(C,r)}ib(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:zs(8,l,l.return),kc(l);break;case 22:y=l.stateNode,y._visibility&2&&(y._visibility&=-3,kc(l));break;default:kc(l)}r=r.sibling}}function ab(r,l){for(;on!==null;){var y=on;switch(y.tag){case 0:case 11:case 15:zs(8,y,l);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var C=y.memoizedState.cachePool.pool;C!=null&&C.refCount++}break;case 24:Sl(y.memoizedState.cache)}if(C=y.child,C!==null)C.return=y,on=C;else t:for(y=r;on!==null;){C=on;var z=C.sibling,Y=C.return;if(Kg(C),C===y){on=null;break t}if(z!==null){z.return=Y,on=z;break t}on=Y}}}var C_={getCacheForType:function(r){var l=dn(Xr),y=l.data.get(r);return y===void 0&&(y=r(),l.data.set(r,y)),y},cacheSignal:function(){return dn(Xr).controller.signal}},k_=typeof WeakMap=="function"?WeakMap:Map,vr=0,Mr=null,ir=null,ar=0,xr=0,Yn=null,Us=!1,Ro=!1,_d=!1,fs=0,Ur=0,Fs=0,Ua=0,xd=0,Xn=0,Mo=0,Ul=null,Pn=null,Sd=!1,Rc=0,ob=0,Mc=1/0,Nc=null,Hs=null,rn=0,qs=null,No=null,ds=0,Td=0,Ed=null,lb=null,Fl=0,Ad=null;function Kn(){return(vr&2)!==0&&ar!==0?ar&-ar:x.T!==null?Id():Jt()}function ub(){if(Xn===0)if((ar&536870912)===0||hr){var r=Ve;Ve<<=1,(Ve&3932160)===0&&(Ve=262144),Xn=r}else Xn=536870912;return r=Gn.current,r!==null&&(r.flags|=32),Xn}function Ln(r,l,y){(r===Mr&&(xr===2||xr===9)||r.cancelPendingCommit!==null)&&(Io(r,0),$s(r,ar,Xn,!1)),Se(r,y),((vr&2)===0||r!==Mr)&&(r===Mr&&((vr&2)===0&&(Ua|=y),Ur===4&&$s(r,ar,Xn,!1)),Ui(r))}function cb(r,l,y){if((vr&6)!==0)throw Error(i(327));var C=!y&&(l&127)===0&&(l&r.expiredLanes)===0||Ne(r,l),z=C?N_(r,l):kd(r,l,!0),Y=C;do{if(z===0){Ro&&!C&&$s(r,l,0,!1);break}else{if(y=r.current.alternate,Y&&!R_(y)){z=kd(r,l,!1),Y=!1;continue}if(z===2){if(Y=l,r.errorRecoveryDisabledLanes&Y)var et=0;else et=r.pendingLanes&-536870913,et=et!==0?et:et&536870912?536870912:0;if(et!==0){l=et;t:{var ot=r;z=Ul;var gt=ot.current.memoizedState.isDehydrated;if(gt&&(Io(ot,et).flags|=256),et=kd(ot,et,!1),et!==2){if(_d&&!gt){ot.errorRecoveryDisabledLanes|=Y,Ua|=Y,z=4;break t}Y=Pn,Pn=z,Y!==null&&(Pn===null?Pn=Y:Pn.push.apply(Pn,Y))}z=et}if(Y=!1,z!==2)continue}}if(z===1){Io(r,0),$s(r,l,0,!0);break}t:{switch(C=r,Y=z,Y){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:$s(C,l,Xn,!Us);break t;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(z=Rc+300-It(),10<z)){if($s(C,l,Xn,!Us),ze(C,0,!0)!==0)break t;ds=l,C.timeoutHandle=Ub(hb.bind(null,C,y,Pn,Nc,Sd,l,Xn,Ua,Mo,Us,Y,"Throttled",-0,0),z);break t}hb(C,y,Pn,Nc,Sd,l,Xn,Ua,Mo,Us,Y,null,-0,0)}}break}while(!0);Ui(r)}function hb(r,l,y,C,z,Y,et,ot,gt,Rt,Bt,Ft,Nt,Pt){if(r.timeoutHandle=-1,Ft=l.subtreeFlags,Ft&8192||(Ft&16785408)===16785408){Ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Cn},nb(l,Y,Ft);var ye=(Y&62914560)===Y?Rc-It():(Y&4194048)===Y?ob-It():0;if(ye=dx(Ft,ye),ye!==null){ds=Y,r.cancelPendingCommit=ye(vb.bind(null,r,l,Y,y,C,z,et,ot,gt,Bt,Ft,null,Nt,Pt)),$s(r,Y,et,!Rt);return}}vb(r,l,Y,y,C,z,et,ot,gt)}function R_(r){for(var l=r;;){var y=l.tag;if((y===0||y===11||y===15)&&l.flags&16384&&(y=l.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var C=0;C<y.length;C++){var z=y[C],Y=z.getSnapshot;z=z.value;try{if(!qn(Y(),z))return!1}catch{return!1}}if(y=l.child,l.subtreeFlags&16384&&y!==null)y.return=l,l=y;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function $s(r,l,y,C){l&=~xd,l&=~Ua,r.suspendedLanes|=l,r.pingedLanes&=~l,C&&(r.warmLanes|=l),C=r.expirationTimes;for(var z=l;0<z;){var Y=31-re(z),et=1<<Y;C[Y]=-1,z&=~et}y!==0&&Ke(r,y,l)}function Ic(){return(vr&6)===0?(Hl(0),!1):!0}function Cd(){if(ir!==null){if(xr===0)var r=ir.return;else r=ir,rs=Ia=null,Hf(r),xo=null,El=0,r=ir;for(;r!==null;)Fg(r.alternate,r),r=r.return;ir=null}}function Io(r,l){var y=r.timeoutHandle;y!==-1&&(r.timeoutHandle=-1,X_(y)),y=r.cancelPendingCommit,y!==null&&(r.cancelPendingCommit=null,y()),ds=0,Cd(),Mr=r,ir=y=ts(r.current,null),ar=l,xr=0,Yn=null,Us=!1,Ro=Ne(r,l),_d=!1,Mo=Xn=xd=Ua=Fs=Ur=0,Pn=Ul=null,Sd=!1,(l&8)!==0&&(l|=l&32);var C=r.entangledLanes;if(C!==0)for(r=r.entanglements,C&=l;0<C;){var z=31-re(C),Y=1<<z;l|=r[z],C&=~Y}return fs=l,Ju(),y}function fb(r,l){Xe=null,x.H=jl,l===_o||l===oc?(l=k0(),xr=3):l===Nf?(l=k0(),xr=4):xr=l===sd?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Yn=l,ir===null&&(Ur=1,_c(r,ni(l,r.current)))}function db(){var r=Gn.current;return r===null?!0:(ar&4194048)===ar?oi===null:(ar&62914560)===ar||(ar&536870912)!==0?r===oi:!1}function pb(){var r=x.H;return x.H=jl,r===null?jl:r}function mb(){var r=x.A;return x.A=C_,r}function jc(){Ur=4,Us||(ar&4194048)!==ar&&Gn.current!==null||(Ro=!0),(Fs&134217727)===0&&(Ua&134217727)===0||Mr===null||$s(Mr,ar,Xn,!1)}function kd(r,l,y){var C=vr;vr|=2;var z=pb(),Y=mb();(Mr!==r||ar!==l)&&(Nc=null,Io(r,l)),l=!1;var et=Ur;t:do try{if(xr!==0&&ir!==null){var ot=ir,gt=Yn;switch(xr){case 8:Cd(),et=6;break t;case 3:case 2:case 9:case 6:Gn.current===null&&(l=!0);var Rt=xr;if(xr=0,Yn=null,jo(r,ot,gt,Rt),y&&Ro){et=0;break t}break;default:Rt=xr,xr=0,Yn=null,jo(r,ot,gt,Rt)}}M_(),et=Ur;break}catch(Bt){fb(r,Bt)}while(!0);return l&&r.shellSuspendCounter++,rs=Ia=null,vr=C,x.H=z,x.A=Y,ir===null&&(Mr=null,ar=0,Ju()),et}function M_(){for(;ir!==null;)gb(ir)}function N_(r,l){var y=vr;vr|=2;var C=pb(),z=mb();Mr!==r||ar!==l?(Nc=null,Mc=It()+500,Io(r,l)):Ro=Ne(r,l);t:do try{if(xr!==0&&ir!==null){l=ir;var Y=Yn;e:switch(xr){case 1:xr=0,Yn=null,jo(r,l,Y,1);break;case 2:case 9:if(A0(Y)){xr=0,Yn=null,bb(l);break}l=function(){xr!==2&&xr!==9||Mr!==r||(xr=7),Ui(r)},Y.then(l,l);break t;case 3:xr=7;break t;case 4:xr=5;break t;case 7:A0(Y)?(xr=0,Yn=null,bb(l)):(xr=0,Yn=null,jo(r,l,Y,7));break;case 5:var et=null;switch(ir.tag){case 26:et=ir.memoizedState;case 5:case 27:var ot=ir;if(et?r1(et):ot.stateNode.complete){xr=0,Yn=null;var gt=ot.sibling;if(gt!==null)ir=gt;else{var Rt=ot.return;Rt!==null?(ir=Rt,Oc(Rt)):ir=null}break e}}xr=0,Yn=null,jo(r,l,Y,5);break;case 6:xr=0,Yn=null,jo(r,l,Y,6);break;case 8:Cd(),Ur=6;break t;default:throw Error(i(462))}}I_();break}catch(Bt){fb(r,Bt)}while(!0);return rs=Ia=null,x.H=C,x.A=z,vr=y,ir!==null?0:(Mr=null,ar=0,Ju(),Ur)}function I_(){for(;ir!==null&&!wt();)gb(ir)}function gb(r){var l=zg(r.alternate,r,fs);r.memoizedProps=r.pendingProps,l===null?Oc(r):ir=l}function bb(r){var l=r,y=l.alternate;switch(l.tag){case 15:case 0:l=Og(y,l,l.pendingProps,l.type,void 0,ar);break;case 11:l=Og(y,l,l.pendingProps,l.type.render,l.ref,ar);break;case 5:Hf(l);default:Fg(y,l),l=ir=m0(l,fs),l=zg(y,l,fs)}r.memoizedProps=r.pendingProps,l===null?Oc(r):ir=l}function jo(r,l,y,C){rs=Ia=null,Hf(l),xo=null,El=0;var z=l.return;try{if(w_(r,z,l,y,ar)){Ur=1,_c(r,ni(y,r.current)),ir=null;return}}catch(Y){if(z!==null)throw ir=z,Y;Ur=1,_c(r,ni(y,r.current)),ir=null;return}l.flags&32768?(hr||C===1?r=!0:Ro||(ar&536870912)!==0?r=!1:(Us=r=!0,(C===2||C===9||C===3||C===6)&&(C=Gn.current,C!==null&&C.tag===13&&(C.flags|=16384))),yb(l,r)):Oc(l)}function Oc(r){var l=r;do{if((l.flags&32768)!==0){yb(l,Us);return}r=l.return;var y=S_(l.alternate,l,fs);if(y!==null){ir=y;return}if(l=l.sibling,l!==null){ir=l;return}ir=l=r}while(l!==null);Ur===0&&(Ur=5)}function yb(r,l){do{var y=T_(r.alternate,r);if(y!==null){y.flags&=32767,ir=y;return}if(y=r.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!l&&(r=r.sibling,r!==null)){ir=r;return}ir=r=y}while(r!==null);Ur=6,ir=null}function vb(r,l,y,C,z,Y,et,ot,gt){r.cancelPendingCommit=null;do Dc();while(rn!==0);if((vr&6)!==0)throw Error(i(327));if(l!==null){if(l===r.current)throw Error(i(177));if(Y=l.lanes|l.childLanes,Y|=gf,Je(r,y,Y,et,ot,gt),r===Mr&&(ir=Mr=null,ar=0),No=l,qs=r,ds=y,Td=Y,Ed=z,lb=C,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,P_(Kt,function(){return Tb(),null})):(r.callbackNode=null,r.callbackPriority=0),C=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||C){C=x.T,x.T=null,z=S.p,S.p=2,et=vr,vr|=4;try{E_(r,l,y)}finally{vr=et,S.p=z,x.T=C}}rn=1,wb(),_b(),xb()}}function wb(){if(rn===1){rn=0;var r=qs,l=No,y=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||y){y=x.T,x.T=null;var C=S.p;S.p=2;var z=vr;vr|=4;try{tb(l,r);var Y=zd,et=a0(r.containerInfo),ot=Y.focusedElem,gt=Y.selectionRange;if(et!==ot&&ot&&ot.ownerDocument&&s0(ot.ownerDocument.documentElement,ot)){if(gt!==null&&hf(ot)){var Rt=gt.start,Bt=gt.end;if(Bt===void 0&&(Bt=Rt),"selectionStart"in ot)ot.selectionStart=Rt,ot.selectionEnd=Math.min(Bt,ot.value.length);else{var Ft=ot.ownerDocument||document,Nt=Ft&&Ft.defaultView||window;if(Nt.getSelection){var Pt=Nt.getSelection(),ye=ot.textContent.length,je=Math.min(gt.start,ye),kr=gt.end===void 0?je:Math.min(gt.end,ye);!Pt.extend&&je>kr&&(et=kr,kr=je,je=et);var At=i0(ot,je),_t=i0(ot,kr);if(At&&_t&&(Pt.rangeCount!==1||Pt.anchorNode!==At.node||Pt.anchorOffset!==At.offset||Pt.focusNode!==_t.node||Pt.focusOffset!==_t.offset)){var kt=Ft.createRange();kt.setStart(At.node,At.offset),Pt.removeAllRanges(),je>kr?(Pt.addRange(kt),Pt.extend(_t.node,_t.offset)):(kt.setEnd(_t.node,_t.offset),Pt.addRange(kt))}}}}for(Ft=[],Pt=ot;Pt=Pt.parentNode;)Pt.nodeType===1&&Ft.push({element:Pt,left:Pt.scrollLeft,top:Pt.scrollTop});for(typeof ot.focus=="function"&&ot.focus(),ot=0;ot<Ft.length;ot++){var Vt=Ft[ot];Vt.element.scrollLeft=Vt.left,Vt.element.scrollTop=Vt.top}}Wc=!!Vd,zd=Vd=null}finally{vr=z,S.p=C,x.T=y}}r.current=l,rn=2}}function _b(){if(rn===2){rn=0;var r=qs,l=No,y=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||y){y=x.T,x.T=null;var C=S.p;S.p=2;var z=vr;vr|=4;try{Xg(r,l.alternate,l)}finally{vr=z,S.p=C,x.T=y}}rn=3}}function xb(){if(rn===4||rn===3){rn=0,jt();var r=qs,l=No,y=ds,C=lb;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?rn=5:(rn=0,No=qs=null,Sb(r,r.pendingLanes));var z=r.pendingLanes;if(z===0&&(Hs=null),Dt(y),l=l.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Zt,l,void 0,(l.current.flags&128)===128)}catch{}if(C!==null){l=x.T,z=S.p,S.p=2,x.T=null;try{for(var Y=r.onRecoverableError,et=0;et<C.length;et++){var ot=C[et];Y(ot.value,{componentStack:ot.stack})}}finally{x.T=l,S.p=z}}(ds&3)!==0&&Dc(),Ui(r),z=r.pendingLanes,(y&261930)!==0&&(z&42)!==0?r===Ad?Fl++:(Fl=0,Ad=r):Fl=0,Hl(0)}}function Sb(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Sl(l)))}function Dc(){return wb(),_b(),xb(),Tb()}function Tb(){if(rn!==5)return!1;var r=qs,l=Td;Td=0;var y=Dt(ds),C=x.T,z=S.p;try{S.p=32>y?32:y,x.T=null,y=Ed,Ed=null;var Y=qs,et=ds;if(rn=0,No=qs=null,ds=0,(vr&6)!==0)throw Error(i(331));var ot=vr;if(vr|=4,sb(Y.current),rb(Y,Y.current,et,y),vr=ot,Hl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Zt,Y)}catch{}return!0}finally{S.p=z,x.T=C,Sb(r,l)}}function Eb(r,l,y){l=ni(y,l),l=id(r.stateNode,l,2),r=Ls(r,l,2),r!==null&&(Se(r,2),Ui(r))}function Sr(r,l,y){if(r.tag===3)Eb(r,r,y);else for(;l!==null;){if(l.tag===3){Eb(l,r,y);break}else if(l.tag===1){var C=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Hs===null||!Hs.has(C))){r=ni(y,r),y=Ag(2),C=Ls(l,y,2),C!==null&&(Cg(y,C,l,r),Se(C,2),Ui(C));break}}l=l.return}}function Rd(r,l,y){var C=r.pingCache;if(C===null){C=r.pingCache=new k_;var z=new Set;C.set(l,z)}else z=C.get(l),z===void 0&&(z=new Set,C.set(l,z));z.has(y)||(_d=!0,z.add(y),r=j_.bind(null,r,l,y),l.then(r,r))}function j_(r,l,y){var C=r.pingCache;C!==null&&C.delete(l),r.pingedLanes|=r.suspendedLanes&y,r.warmLanes&=~y,Mr===r&&(ar&y)===y&&(Ur===4||Ur===3&&(ar&62914560)===ar&&300>It()-Rc?(vr&2)===0&&Io(r,0):xd|=y,Mo===ar&&(Mo=0)),Ui(r)}function Ab(r,l){l===0&&(l=He()),r=Ra(r,l),r!==null&&(Se(r,l),Ui(r))}function O_(r){var l=r.memoizedState,y=0;l!==null&&(y=l.retryLane),Ab(r,y)}function D_(r,l){var y=0;switch(r.tag){case 31:case 13:var C=r.stateNode,z=r.memoizedState;z!==null&&(y=z.retryLane);break;case 19:C=r.stateNode;break;case 22:C=r.stateNode._retryCache;break;default:throw Error(i(314))}C!==null&&C.delete(l),Ab(r,y)}function P_(r,l){return vt(r,l)}var Pc=null,Oo=null,Md=!1,Lc=!1,Nd=!1,Gs=0;function Ui(r){r!==Oo&&r.next===null&&(Oo===null?Pc=Oo=r:Oo=Oo.next=r),Lc=!0,Md||(Md=!0,B_())}function Hl(r,l){if(!Nd&&Lc){Nd=!0;do for(var y=!1,C=Pc;C!==null;){if(r!==0){var z=C.pendingLanes;if(z===0)var Y=0;else{var et=C.suspendedLanes,ot=C.pingedLanes;Y=(1<<31-re(42|r)+1)-1,Y&=z&~(et&~ot),Y=Y&201326741?Y&201326741|1:Y?Y|2:0}Y!==0&&(y=!0,Mb(C,Y))}else Y=ar,Y=ze(C,C===Mr?Y:0,C.cancelPendingCommit!==null||C.timeoutHandle!==-1),(Y&3)===0||Ne(C,Y)||(y=!0,Mb(C,Y));C=C.next}while(y);Nd=!1}}function L_(){Cb()}function Cb(){Lc=Md=!1;var r=0;Gs!==0&&Y_()&&(r=Gs);for(var l=It(),y=null,C=Pc;C!==null;){var z=C.next,Y=kb(C,l);Y===0?(C.next=null,y===null?Pc=z:y.next=z,z===null&&(Oo=y)):(y=C,(r!==0||(Y&3)!==0)&&(Lc=!0)),C=z}rn!==0&&rn!==5||Hl(r),Gs!==0&&(Gs=0)}function kb(r,l){for(var y=r.suspendedLanes,C=r.pingedLanes,z=r.expirationTimes,Y=r.pendingLanes&-62914561;0<Y;){var et=31-re(Y),ot=1<<et,gt=z[et];gt===-1?((ot&y)===0||(ot&C)!==0)&&(z[et]=_e(ot,l)):gt<=l&&(r.expiredLanes|=ot),Y&=~ot}if(l=Mr,y=ar,y=ze(r,r===l?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),C=r.callbackNode,y===0||r===l&&(xr===2||xr===9)||r.cancelPendingCommit!==null)return C!==null&&C!==null&&xt(C),r.callbackNode=null,r.callbackPriority=0;if((y&3)===0||Ne(r,y)){if(l=y&-y,l===r.callbackPriority)return l;switch(C!==null&&xt(C),Dt(y)){case 2:case 8:y=Qt;break;case 32:y=Kt;break;case 268435456:y=fe;break;default:y=Kt}return C=Rb.bind(null,r),y=vt(y,C),r.callbackPriority=l,r.callbackNode=y,l}return C!==null&&C!==null&&xt(C),r.callbackPriority=2,r.callbackNode=null,2}function Rb(r,l){if(rn!==0&&rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var y=r.callbackNode;if(Dc()&&r.callbackNode!==y)return null;var C=ar;return C=ze(r,r===Mr?C:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),C===0?null:(cb(r,C,l),kb(r,It()),r.callbackNode!=null&&r.callbackNode===y?Rb.bind(null,r):null)}function Mb(r,l){if(Dc())return null;cb(r,l,!0)}function B_(){K_(function(){(vr&6)!==0?vt(ee,L_):Cb()})}function Id(){if(Gs===0){var r=vo;r===0&&(r=he,he<<=1,(he&261888)===0&&(he=256)),Gs=r}return Gs}function Nb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mi(""+r)}function Ib(r,l){var y=l.ownerDocument.createElement("input");return y.name=l.name,y.value=l.value,r.id&&y.setAttribute("form",r.id),l.parentNode.insertBefore(y,l),r=new FormData(r),y.parentNode.removeChild(y),r}function V_(r,l,y,C,z){if(l==="submit"&&y&&y.stateNode===z){var Y=Nb((z[Lt]||null).action),et=C.submitter;et&&(l=(l=et[Lt]||null)?Nb(l.formAction):et.getAttribute("formAction"),l!==null&&(Y=l,et=null));var ot=new Oi("action","action",null,C,z);r.push({event:ot,listeners:[{instance:null,listener:function(){if(C.defaultPrevented){if(Gs!==0){var gt=et?Ib(z,et):new FormData(z);Zf(y,{pending:!0,data:gt,method:z.method,action:Y},null,gt)}}else typeof Y=="function"&&(ot.preventDefault(),gt=et?Ib(z,et):new FormData(z),Zf(y,{pending:!0,data:gt,method:z.method,action:Y},Y,gt))},currentTarget:z}]})}}for(var jd=0;jd<mf.length;jd++){var Od=mf[jd],z_=Od.toLowerCase(),U_=Od[0].toUpperCase()+Od.slice(1);_i(z_,"on"+U_)}_i(u0,"onAnimationEnd"),_i(c0,"onAnimationIteration"),_i(h0,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(n_,"onTransitionRun"),_i(i_,"onTransitionStart"),_i(s_,"onTransitionCancel"),_i(f0,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),F_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function jb(r,l){l=(l&4)!==0;for(var y=0;y<r.length;y++){var C=r[y],z=C.event;C=C.listeners;t:{var Y=void 0;if(l)for(var et=C.length-1;0<=et;et--){var ot=C[et],gt=ot.instance,Rt=ot.currentTarget;if(ot=ot.listener,gt!==Y&&z.isPropagationStopped())break t;Y=ot,z.currentTarget=Rt;try{Y(z)}catch(Bt){Zu(Bt)}z.currentTarget=null,Y=gt}else for(et=0;et<C.length;et++){if(ot=C[et],gt=ot.instance,Rt=ot.currentTarget,ot=ot.listener,gt!==Y&&z.isPropagationStopped())break t;Y=ot,z.currentTarget=Rt;try{Y(z)}catch(Bt){Zu(Bt)}z.currentTarget=null,Y=gt}}}}function sr(r,l){var y=l[ue];y===void 0&&(y=l[ue]=new Set);var C=r+"__bubble";y.has(C)||(Ob(l,r,2,!1),y.add(C))}function Dd(r,l,y){var C=0;l&&(C|=4),Ob(y,r,C,l)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function Pd(r){if(!r[Bc]){r[Bc]=!0,Mt.forEach(function(y){y!=="selectionchange"&&(F_.has(y)||Dd(y,!1,r),Dd(y,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Bc]||(l[Bc]=!0,Dd("selectionchange",!1,l))}}function Ob(r,l,y,C){switch(u1(l)){case 2:var z=gx;break;case 8:z=bx;break;default:z=Qd}y=z.bind(null,l,y,r),z=void 0,!_a||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(z=!0),C?z!==void 0?r.addEventListener(l,y,{capture:!0,passive:z}):r.addEventListener(l,y,!0):z!==void 0?r.addEventListener(l,y,{passive:z}):r.addEventListener(l,y,!1)}function Ld(r,l,y,C,z){var Y=C;if((l&1)===0&&(l&2)===0&&C!==null)t:for(;;){if(C===null)return;var et=C.tag;if(et===3||et===4){var ot=C.stateNode.containerInfo;if(ot===z)break;if(et===4)for(et=C.return;et!==null;){var gt=et.tag;if((gt===3||gt===4)&&et.stateNode.containerInfo===z)return;et=et.return}for(;ot!==null;){if(et=dr(ot),et===null)return;if(gt=et.tag,gt===5||gt===6||gt===26||gt===27){C=Y=et;continue t}ot=ot.parentNode}}C=C.return}Cs(function(){var Rt=Y,Bt=cn(y),Ft=[];t:{var Nt=d0.get(r);if(Nt!==void 0){var Pt=Oi,ye=r;switch(r){case"keypress":if(Sa(y)===0)break t;case"keydown":case"keyup":Pt=Xu;break;case"focusin":ye="focus",Pt=Ea;break;case"focusout":ye="blur",Pt=Ea;break;case"beforeblur":case"afterblur":Pt=Ea;break;case"click":if(y.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=J;break;case u0:case c0:case h0:Pt=Fu;break;case f0:Pt=ct;break;case"scroll":case"scrollend":Pt=pl;break;case"wheel":Pt=Ot;break;case"copy":case"cut":case"paste":Pt=Hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=Ji;break;case"toggle":case"beforetoggle":Pt=Ye}var je=(l&4)!==0,kr=!je&&(r==="scroll"||r==="scrollend"),At=je?Nt!==null?Nt+"Capture":null:Nt;je=[];for(var _t=Rt,kt;_t!==null;){var Vt=_t;if(kt=Vt.stateNode,Vt=Vt.tag,Vt!==5&&Vt!==26&&Vt!==27||kt===null||At===null||(Vt=bi(_t,At),Vt!=null&&je.push($l(_t,Vt,kt))),kr)break;_t=_t.return}0<je.length&&(Nt=new Pt(Nt,ye,null,y,Bt),Ft.push({event:Nt,listeners:je}))}}if((l&7)===0){t:{if(Nt=r==="mouseover"||r==="pointerover",Pt=r==="mouseout"||r==="pointerout",Nt&&y!==Ii&&(ye=y.relatedTarget||y.fromElement)&&(dr(ye)||ye[Yt]))break t;if((Pt||Nt)&&(Nt=Bt.window===Bt?Bt:(Nt=Bt.ownerDocument)?Nt.defaultView||Nt.parentWindow:window,Pt?(ye=y.relatedTarget||y.toElement,Pt=Rt,ye=ye?dr(ye):null,ye!==null&&(kr=o(ye),je=ye.tag,ye!==kr||je!==5&&je!==27&&je!==6)&&(ye=null)):(Pt=null,ye=Rt),Pt!==ye)){if(je=ml,Vt="onMouseLeave",At="onMouseEnter",_t="mouse",(r==="pointerout"||r==="pointerover")&&(je=Ji,Vt="onPointerLeave",At="onPointerEnter",_t="pointer"),kr=Pt==null?Nt:ht(Pt),kt=ye==null?Nt:ht(ye),Nt=new je(Vt,_t+"leave",Pt,y,Bt),Nt.target=kr,Nt.relatedTarget=kt,Vt=null,dr(Bt)===Rt&&(je=new je(At,_t+"enter",ye,y,Bt),je.target=kt,je.relatedTarget=kr,Vt=je),kr=Vt,Pt&&ye)e:{for(je=H_,At=Pt,_t=ye,kt=0,Vt=At;Vt;Vt=je(Vt))kt++;Vt=0;for(var Re=_t;Re;Re=je(Re))Vt++;for(;0<kt-Vt;)At=je(At),kt--;for(;0<Vt-kt;)_t=je(_t),Vt--;for(;kt--;){if(At===_t||_t!==null&&At===_t.alternate){je=At;break e}At=je(At),_t=je(_t)}je=null}else je=null;Pt!==null&&Db(Ft,Nt,Pt,je,!1),ye!==null&&kr!==null&&Db(Ft,kr,ye,je,!0)}}t:{if(Nt=Rt?ht(Rt):window,Pt=Nt.nodeName&&Nt.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&Nt.type==="file")var pr=Zm;else if(Km(Nt))if(Jm)pr=t_;else{pr=Zw;var Te=Qw}else Pt=Nt.nodeName,!Pt||Pt.toLowerCase()!=="input"||Nt.type!=="checkbox"&&Nt.type!=="radio"?Rt&&Fn(Rt.elementType)&&(pr=Zm):pr=Jw;if(pr&&(pr=pr(r,Rt))){Qm(Ft,pr,y,Bt);break t}Te&&Te(r,Nt,Rt),r==="focusout"&&Rt&&Nt.type==="number"&&Rt.memoizedProps.value!=null&&In(Nt,"number",Nt.value)}switch(Te=Rt?ht(Rt):window,r){case"focusin":(Km(Te)||Te.contentEditable==="true")&&(co=Te,ff=Rt,wl=null);break;case"focusout":wl=ff=co=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,o0(Ft,y,Bt);break;case"selectionchange":if(r_)break;case"keydown":case"keyup":o0(Ft,y,Bt)}var Ze;if(yr)t:{switch(r){case"compositionstart":var or="onCompositionStart";break t;case"compositionend":or="onCompositionEnd";break t;case"compositionupdate":or="onCompositionUpdate";break t}or=void 0}else uo?Aa(r,y)&&(or="onCompositionEnd"):r==="keydown"&&y.keyCode===229&&(or="onCompositionStart");or&&(Li&&y.locale!=="ko"&&(uo||or!=="onCompositionStart"?or==="onCompositionEnd"&&uo&&(Ze=dl()):(ji=Bt,fl="value"in ji?ji.value:ji.textContent,uo=!0)),Te=Vc(Rt,or),0<Te.length&&(or=new Pi(or,r,null,y,Bt),Ft.push({event:or,listeners:Te}),Ze?or.data=Ze:(Ze=lo(y),Ze!==null&&(or.data=Ze)))),(Ze=ei?Ww(r,y):Yw(r,y))&&(or=Vc(Rt,"onBeforeInput"),0<or.length&&(Te=new Pi("onBeforeInput","beforeinput",null,y,Bt),Ft.push({event:Te,listeners:or}),Te.data=Ze)),V_(Ft,r,Rt,y,Bt)}jb(Ft,l)})}function $l(r,l,y){return{instance:r,listener:l,currentTarget:y}}function Vc(r,l){for(var y=l+"Capture",C=[];r!==null;){var z=r,Y=z.stateNode;if(z=z.tag,z!==5&&z!==26&&z!==27||Y===null||(z=bi(r,y),z!=null&&C.unshift($l(r,z,Y)),z=bi(r,l),z!=null&&C.push($l(r,z,Y))),r.tag===3)return C;r=r.return}return[]}function H_(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Db(r,l,y,C,z){for(var Y=l._reactName,et=[];y!==null&&y!==C;){var ot=y,gt=ot.alternate,Rt=ot.stateNode;if(ot=ot.tag,gt!==null&&gt===C)break;ot!==5&&ot!==26&&ot!==27||Rt===null||(gt=Rt,z?(Rt=bi(y,Y),Rt!=null&&et.unshift($l(y,Rt,gt))):z||(Rt=bi(y,Y),Rt!=null&&et.push($l(y,Rt,gt)))),y=y.return}et.length!==0&&r.push({event:l,listeners:et})}var q_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function Pb(r){return(typeof r=="string"?r:""+r).replace(q_,`
`).replace($_,"")}function Lb(r,l){return l=Pb(l),Pb(r)===l}function Cr(r,l,y,C,z,Y){switch(y){case"children":typeof C=="string"?l==="body"||l==="textarea"&&C===""||Dr(r,C):(typeof C=="number"||typeof C=="bigint")&&l!=="body"&&Dr(r,""+C);break;case"className":Be(r,"class",C);break;case"tabIndex":Be(r,"tabindex",C);break;case"dir":case"role":case"viewBox":case"width":case"height":Be(r,y,C);break;case"style":Ni(r,C,Y);break;case"data":if(l!=="object"){Be(r,"data",C);break}case"src":case"href":if(C===""&&(l!=="a"||y!=="href")){r.removeAttribute(y);break}if(C==null||typeof C=="function"||typeof C=="symbol"||typeof C=="boolean"){r.removeAttribute(y);break}C=mi(""+C),r.setAttribute(y,C);break;case"action":case"formAction":if(typeof C=="function"){r.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Y=="function"&&(y==="formAction"?(l!=="input"&&Cr(r,l,"name",z.name,z,null),Cr(r,l,"formEncType",z.formEncType,z,null),Cr(r,l,"formMethod",z.formMethod,z,null),Cr(r,l,"formTarget",z.formTarget,z,null)):(Cr(r,l,"encType",z.encType,z,null),Cr(r,l,"method",z.method,z,null),Cr(r,l,"target",z.target,z,null)));if(C==null||typeof C=="symbol"||typeof C=="boolean"){r.removeAttribute(y);break}C=mi(""+C),r.setAttribute(y,C);break;case"onClick":C!=null&&(r.onclick=Cn);break;case"onScroll":C!=null&&sr("scroll",r);break;case"onScrollEnd":C!=null&&sr("scrollend",r);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(i(61));if(y=C.__html,y!=null){if(z.children!=null)throw Error(i(60));r.innerHTML=y}}break;case"multiple":r.multiple=C&&typeof C!="function"&&typeof C!="symbol";break;case"muted":r.muted=C&&typeof C!="function"&&typeof C!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(C==null||typeof C=="function"||typeof C=="boolean"||typeof C=="symbol"){r.removeAttribute("xlink:href");break}y=mi(""+C),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":C!=null&&typeof C!="function"&&typeof C!="symbol"?r.setAttribute(y,""+C):r.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":C&&typeof C!="function"&&typeof C!="symbol"?r.setAttribute(y,""):r.removeAttribute(y);break;case"capture":case"download":C===!0?r.setAttribute(y,""):C!==!1&&C!=null&&typeof C!="function"&&typeof C!="symbol"?r.setAttribute(y,C):r.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":C!=null&&typeof C!="function"&&typeof C!="symbol"&&!isNaN(C)&&1<=C?r.setAttribute(y,C):r.removeAttribute(y);break;case"rowSpan":case"start":C==null||typeof C=="function"||typeof C=="symbol"||isNaN(C)?r.removeAttribute(y):r.setAttribute(y,C);break;case"popover":sr("beforetoggle",r),sr("toggle",r),Ae(r,"popover",C);break;case"xlinkActuate":Ee(r,"http://www.w3.org/1999/xlink","xlink:actuate",C);break;case"xlinkArcrole":Ee(r,"http://www.w3.org/1999/xlink","xlink:arcrole",C);break;case"xlinkRole":Ee(r,"http://www.w3.org/1999/xlink","xlink:role",C);break;case"xlinkShow":Ee(r,"http://www.w3.org/1999/xlink","xlink:show",C);break;case"xlinkTitle":Ee(r,"http://www.w3.org/1999/xlink","xlink:title",C);break;case"xlinkType":Ee(r,"http://www.w3.org/1999/xlink","xlink:type",C);break;case"xmlBase":Ee(r,"http://www.w3.org/XML/1998/namespace","xml:base",C);break;case"xmlLang":Ee(r,"http://www.w3.org/XML/1998/namespace","xml:lang",C);break;case"xmlSpace":Ee(r,"http://www.w3.org/XML/1998/namespace","xml:space",C);break;case"is":Ae(r,"is",C);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=Hn.get(y)||y,Ae(r,y,C))}}function Bd(r,l,y,C,z,Y){switch(y){case"style":Ni(r,C,Y);break;case"dangerouslySetInnerHTML":if(C!=null){if(typeof C!="object"||!("__html"in C))throw Error(i(61));if(y=C.__html,y!=null){if(z.children!=null)throw Error(i(60));r.innerHTML=y}}break;case"children":typeof C=="string"?Dr(r,C):(typeof C=="number"||typeof C=="bigint")&&Dr(r,""+C);break;case"onScroll":C!=null&&sr("scroll",r);break;case"onScrollEnd":C!=null&&sr("scrollend",r);break;case"onClick":C!=null&&(r.onclick=Cn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(y))t:{if(y[0]==="o"&&y[1]==="n"&&(z=y.endsWith("Capture"),l=y.slice(2,z?y.length-7:void 0),Y=r[Lt]||null,Y=Y!=null?Y[y]:null,typeof Y=="function"&&r.removeEventListener(l,Y,z),typeof C=="function")){typeof Y!="function"&&Y!==null&&(y in r?r[y]=null:r.hasAttribute(y)&&r.removeAttribute(y)),r.addEventListener(l,C,z);break t}y in r?r[y]=C:C===!0?r.setAttribute(y,""):Ae(r,y,C)}}}function mn(r,l,y){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sr("error",r),sr("load",r);var C=!1,z=!1,Y;for(Y in y)if(y.hasOwnProperty(Y)){var et=y[Y];if(et!=null)switch(Y){case"src":C=!0;break;case"srcSet":z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Cr(r,l,Y,et,y,null)}}z&&Cr(r,l,"srcSet",y.srcSet,y,null),C&&Cr(r,l,"src",y.src,y,null);return;case"input":sr("invalid",r);var ot=Y=et=z=null,gt=null,Rt=null;for(C in y)if(y.hasOwnProperty(C)){var Bt=y[C];if(Bt!=null)switch(C){case"name":z=Bt;break;case"type":et=Bt;break;case"checked":gt=Bt;break;case"defaultChecked":Rt=Bt;break;case"value":Y=Bt;break;case"defaultValue":ot=Bt;break;case"children":case"dangerouslySetInnerHTML":if(Bt!=null)throw Error(i(137,l));break;default:Cr(r,l,C,Bt,y,null)}}rr(r,Y,ot,gt,Rt,et,z,!1);return;case"select":sr("invalid",r),C=et=Y=null;for(z in y)if(y.hasOwnProperty(z)&&(ot=y[z],ot!=null))switch(z){case"value":Y=ot;break;case"defaultValue":et=ot;break;case"multiple":C=ot;default:Cr(r,l,z,ot,y,null)}l=Y,y=et,r.multiple=!!C,l!=null?vn(r,!!C,l,!1):y!=null&&vn(r,!!C,y,!0);return;case"textarea":sr("invalid",r),Y=z=C=null;for(et in y)if(y.hasOwnProperty(et)&&(ot=y[et],ot!=null))switch(et){case"value":C=ot;break;case"defaultValue":z=ot;break;case"children":Y=ot;break;case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(91));break;default:Cr(r,l,et,ot,y,null)}Vr(r,C,z,Y);return;case"option":for(gt in y)y.hasOwnProperty(gt)&&(C=y[gt],C!=null)&&(gt==="selected"?r.selected=C&&typeof C!="function"&&typeof C!="symbol":Cr(r,l,gt,C,y,null));return;case"dialog":sr("beforetoggle",r),sr("toggle",r),sr("cancel",r),sr("close",r);break;case"iframe":case"object":sr("load",r);break;case"video":case"audio":for(C=0;C<ql.length;C++)sr(ql[C],r);break;case"image":sr("error",r),sr("load",r);break;case"details":sr("toggle",r);break;case"embed":case"source":case"link":sr("error",r),sr("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Rt in y)if(y.hasOwnProperty(Rt)&&(C=y[Rt],C!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Cr(r,l,Rt,C,y,null)}return;default:if(Fn(l)){for(Bt in y)y.hasOwnProperty(Bt)&&(C=y[Bt],C!==void 0&&Bd(r,l,Bt,C,y,void 0));return}}for(ot in y)y.hasOwnProperty(ot)&&(C=y[ot],C!=null&&Cr(r,l,ot,C,y,null))}function G_(r,l,y,C){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var z=null,Y=null,et=null,ot=null,gt=null,Rt=null,Bt=null;for(Pt in y){var Ft=y[Pt];if(y.hasOwnProperty(Pt)&&Ft!=null)switch(Pt){case"checked":break;case"value":break;case"defaultValue":gt=Ft;default:C.hasOwnProperty(Pt)||Cr(r,l,Pt,null,C,Ft)}}for(var Nt in C){var Pt=C[Nt];if(Ft=y[Nt],C.hasOwnProperty(Nt)&&(Pt!=null||Ft!=null))switch(Nt){case"type":Y=Pt;break;case"name":z=Pt;break;case"checked":Rt=Pt;break;case"defaultChecked":Bt=Pt;break;case"value":et=Pt;break;case"defaultValue":ot=Pt;break;case"children":case"dangerouslySetInnerHTML":if(Pt!=null)throw Error(i(137,l));break;default:Pt!==Ft&&Cr(r,l,Nt,Pt,C,Ft)}}nr(r,et,ot,gt,Rt,Bt,Y,z);return;case"select":Pt=et=ot=Nt=null;for(Y in y)if(gt=y[Y],y.hasOwnProperty(Y)&&gt!=null)switch(Y){case"value":break;case"multiple":Pt=gt;default:C.hasOwnProperty(Y)||Cr(r,l,Y,null,C,gt)}for(z in C)if(Y=C[z],gt=y[z],C.hasOwnProperty(z)&&(Y!=null||gt!=null))switch(z){case"value":Nt=Y;break;case"defaultValue":ot=Y;break;case"multiple":et=Y;default:Y!==gt&&Cr(r,l,z,Y,C,gt)}l=ot,y=et,C=Pt,Nt!=null?vn(r,!!y,Nt,!1):!!C!=!!y&&(l!=null?vn(r,!!y,l,!0):vn(r,!!y,y?[]:"",!1));return;case"textarea":Pt=Nt=null;for(ot in y)if(z=y[ot],y.hasOwnProperty(ot)&&z!=null&&!C.hasOwnProperty(ot))switch(ot){case"value":break;case"children":break;default:Cr(r,l,ot,null,C,z)}for(et in C)if(z=C[et],Y=y[et],C.hasOwnProperty(et)&&(z!=null||Y!=null))switch(et){case"value":Nt=z;break;case"defaultValue":Pt=z;break;case"children":break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:z!==Y&&Cr(r,l,et,z,C,Y)}Ki(r,Nt,Pt);return;case"option":for(var ye in y)Nt=y[ye],y.hasOwnProperty(ye)&&Nt!=null&&!C.hasOwnProperty(ye)&&(ye==="selected"?r.selected=!1:Cr(r,l,ye,null,C,Nt));for(gt in C)Nt=C[gt],Pt=y[gt],C.hasOwnProperty(gt)&&Nt!==Pt&&(Nt!=null||Pt!=null)&&(gt==="selected"?r.selected=Nt&&typeof Nt!="function"&&typeof Nt!="symbol":Cr(r,l,gt,Nt,C,Pt));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in y)Nt=y[je],y.hasOwnProperty(je)&&Nt!=null&&!C.hasOwnProperty(je)&&Cr(r,l,je,null,C,Nt);for(Rt in C)if(Nt=C[Rt],Pt=y[Rt],C.hasOwnProperty(Rt)&&Nt!==Pt&&(Nt!=null||Pt!=null))switch(Rt){case"children":case"dangerouslySetInnerHTML":if(Nt!=null)throw Error(i(137,l));break;default:Cr(r,l,Rt,Nt,C,Pt)}return;default:if(Fn(l)){for(var kr in y)Nt=y[kr],y.hasOwnProperty(kr)&&Nt!==void 0&&!C.hasOwnProperty(kr)&&Bd(r,l,kr,void 0,C,Nt);for(Bt in C)Nt=C[Bt],Pt=y[Bt],!C.hasOwnProperty(Bt)||Nt===Pt||Nt===void 0&&Pt===void 0||Bd(r,l,Bt,Nt,C,Pt);return}}for(var At in y)Nt=y[At],y.hasOwnProperty(At)&&Nt!=null&&!C.hasOwnProperty(At)&&Cr(r,l,At,null,C,Nt);for(Ft in C)Nt=C[Ft],Pt=y[Ft],!C.hasOwnProperty(Ft)||Nt===Pt||Nt==null&&Pt==null||Cr(r,l,Ft,Nt,C,Pt)}function Bb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function W_(){if(typeof performance.getEntriesByType=="function"){for(var r=0,l=0,y=performance.getEntriesByType("resource"),C=0;C<y.length;C++){var z=y[C],Y=z.transferSize,et=z.initiatorType,ot=z.duration;if(Y&&ot&&Bb(et)){for(et=0,ot=z.responseEnd,C+=1;C<y.length;C++){var gt=y[C],Rt=gt.startTime;if(Rt>ot)break;var Bt=gt.transferSize,Ft=gt.initiatorType;Bt&&Bb(Ft)&&(gt=gt.responseEnd,et+=Bt*(gt<ot?1:(ot-Rt)/(gt-Rt)))}if(--C,l+=8*(Y+et)/(z.duration/1e3),r++,10<r)break}}if(0<r)return l/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Vd=null,zd=null;function zc(r){return r.nodeType===9?r:r.ownerDocument}function Vb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zb(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Ud(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Fd=null;function Y_(){var r=window.event;return r&&r.type==="popstate"?r===Fd?!1:(Fd=r,!0):(Fd=null,!1)}var Ub=typeof setTimeout=="function"?setTimeout:void 0,X_=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,K_=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(r){return Fb.resolve(null).then(r).catch(Q_)}:Ub;function Q_(r){setTimeout(function(){throw r})}function Ws(r){return r==="head"}function Hb(r,l){var y=l,C=0;do{var z=y.nextSibling;if(r.removeChild(y),z&&z.nodeType===8)if(y=z.data,y==="/$"||y==="/&"){if(C===0){r.removeChild(z),Bo(l);return}C--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")C++;else if(y==="html")Gl(r.ownerDocument.documentElement);else if(y==="head"){y=r.ownerDocument.head,Gl(y);for(var Y=y.firstChild;Y;){var et=Y.nextSibling,ot=Y.nodeName;Y[tr]||ot==="SCRIPT"||ot==="STYLE"||ot==="LINK"&&Y.rel.toLowerCase()==="stylesheet"||y.removeChild(Y),Y=et}}else y==="body"&&Gl(r.ownerDocument.body);y=z}while(y);Bo(l)}function qb(r,l){var y=r;r=0;do{var C=y.nextSibling;if(y.nodeType===1?l?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(l?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),C&&C.nodeType===8)if(y=C.data,y==="/$"){if(r===0)break;r--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||r++;y=C}while(y)}function Hd(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var y=l;switch(l=l.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":Hd(y),Tr(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}r.removeChild(y)}}function Z_(r,l,y,C){for(;r.nodeType===1;){var z=y;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!C&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(C){if(!r[tr])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(Y=r.getAttribute("rel"),Y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(Y!==z.rel||r.getAttribute("href")!==(z.href==null||z.href===""?null:z.href)||r.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin)||r.getAttribute("title")!==(z.title==null?null:z.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(Y=r.getAttribute("src"),(Y!==(z.src==null?null:z.src)||r.getAttribute("type")!==(z.type==null?null:z.type)||r.getAttribute("crossorigin")!==(z.crossOrigin==null?null:z.crossOrigin))&&Y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var Y=z.name==null?null:""+z.name;if(z.type==="hidden"&&r.getAttribute("name")===Y)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function J_(r,l,y){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!y||(r=li(r.nextSibling),r===null))return null;return r}function $b(r,l){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=li(r.nextSibling),r===null))return null;return r}function qd(r){return r.data==="$?"||r.data==="$~"}function $d(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function tx(r,l){var y=r.ownerDocument;if(r.data==="$~")r._reactRetry=l;else if(r.data!=="$?"||y.readyState!=="loading")l();else{var C=function(){l(),y.removeEventListener("DOMContentLoaded",C)};y.addEventListener("DOMContentLoaded",C),r._reactRetry=C}}function li(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return r}var Gd=null;function Gb(r){r=r.nextSibling;for(var l=0;r;){if(r.nodeType===8){var y=r.data;if(y==="/$"||y==="/&"){if(l===0)return li(r.nextSibling);l--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||l++}r=r.nextSibling}return null}function Wb(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var y=r.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(l===0)return r;l--}else y!=="/$"&&y!=="/&"||l++}r=r.previousSibling}return null}function Yb(r,l,y){switch(l=zc(y),r){case"html":if(r=l.documentElement,!r)throw Error(i(452));return r;case"head":if(r=l.head,!r)throw Error(i(453));return r;case"body":if(r=l.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Gl(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Tr(r)}var ui=new Map,Xb=new Set;function Uc(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ps=S.d;S.d={f:ex,r:rx,D:nx,C:ix,L:sx,m:ax,X:lx,S:ox,M:ux};function ex(){var r=ps.f(),l=Ic();return r||l}function rx(r){var l=_r(r);l!==null&&l.tag===5&&l.type==="form"?fg(l):ps.r(r)}var Do=typeof document>"u"?null:document;function Kb(r,l,y){var C=Do;if(C&&typeof l=="string"&&l){var z=qr(l);z='link[rel="'+r+'"][href="'+z+'"]',typeof y=="string"&&(z+='[crossorigin="'+y+'"]'),Xb.has(z)||(Xb.add(z),r={rel:r,crossOrigin:y,href:l},C.querySelector(z)===null&&(l=C.createElement("link"),mn(l,"link",r),St(l),C.head.appendChild(l)))}}function nx(r){ps.D(r),Kb("dns-prefetch",r,null)}function ix(r,l){ps.C(r,l),Kb("preconnect",r,l)}function sx(r,l,y){ps.L(r,l,y);var C=Do;if(C&&r&&l){var z='link[rel="preload"][as="'+qr(l)+'"]';l==="image"&&y&&y.imageSrcSet?(z+='[imagesrcset="'+qr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(z+='[imagesizes="'+qr(y.imageSizes)+'"]')):z+='[href="'+qr(r)+'"]';var Y=z;switch(l){case"style":Y=Po(r);break;case"script":Y=Lo(r)}ui.has(Y)||(r=m({rel:"preload",href:l==="image"&&y&&y.imageSrcSet?void 0:r,as:l},y),ui.set(Y,r),C.querySelector(z)!==null||l==="style"&&C.querySelector(Wl(Y))||l==="script"&&C.querySelector(Yl(Y))||(l=C.createElement("link"),mn(l,"link",r),St(l),C.head.appendChild(l)))}}function ax(r,l){ps.m(r,l);var y=Do;if(y&&r){var C=l&&typeof l.as=="string"?l.as:"script",z='link[rel="modulepreload"][as="'+qr(C)+'"][href="'+qr(r)+'"]',Y=z;switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Y=Lo(r)}if(!ui.has(Y)&&(r=m({rel:"modulepreload",href:r},l),ui.set(Y,r),y.querySelector(z)===null)){switch(C){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(Yl(Y)))return}C=y.createElement("link"),mn(C,"link",r),St(C),y.head.appendChild(C)}}}function ox(r,l,y){ps.S(r,l,y);var C=Do;if(C&&r){var z=ft(C).hoistableStyles,Y=Po(r);l=l||"default";var et=z.get(Y);if(!et){var ot={loading:0,preload:null};if(et=C.querySelector(Wl(Y)))ot.loading=5;else{r=m({rel:"stylesheet",href:r,"data-precedence":l},y),(y=ui.get(Y))&&Wd(r,y);var gt=et=C.createElement("link");St(gt),mn(gt,"link",r),gt._p=new Promise(function(Rt,Bt){gt.onload=Rt,gt.onerror=Bt}),gt.addEventListener("load",function(){ot.loading|=1}),gt.addEventListener("error",function(){ot.loading|=2}),ot.loading|=4,Fc(et,l,C)}et={type:"stylesheet",instance:et,count:1,state:ot},z.set(Y,et)}}}function lx(r,l){ps.X(r,l);var y=Do;if(y&&r){var C=ft(y).hoistableScripts,z=Lo(r),Y=C.get(z);Y||(Y=y.querySelector(Yl(z)),Y||(r=m({src:r,async:!0},l),(l=ui.get(z))&&Yd(r,l),Y=y.createElement("script"),St(Y),mn(Y,"link",r),y.head.appendChild(Y)),Y={type:"script",instance:Y,count:1,state:null},C.set(z,Y))}}function ux(r,l){ps.M(r,l);var y=Do;if(y&&r){var C=ft(y).hoistableScripts,z=Lo(r),Y=C.get(z);Y||(Y=y.querySelector(Yl(z)),Y||(r=m({src:r,async:!0,type:"module"},l),(l=ui.get(z))&&Yd(r,l),Y=y.createElement("script"),St(Y),mn(Y,"link",r),y.head.appendChild(Y)),Y={type:"script",instance:Y,count:1,state:null},C.set(z,Y))}}function Qb(r,l,y,C){var z=(z=$.current)?Uc(z):null;if(!z)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(l=Po(y.href),y=ft(z).hoistableStyles,C=y.get(l),C||(C={type:"style",instance:null,count:0,state:null},y.set(l,C)),C):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){r=Po(y.href);var Y=ft(z).hoistableStyles,et=Y.get(r);if(et||(z=z.ownerDocument||z,et={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Y.set(r,et),(Y=z.querySelector(Wl(r)))&&!Y._p&&(et.instance=Y,et.state.loading=5),ui.has(r)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},ui.set(r,y),Y||cx(z,r,y,et.state))),l&&C===null)throw Error(i(528,""));return et}if(l&&C!==null)throw Error(i(529,""));return null;case"script":return l=y.async,y=y.src,typeof y=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Lo(y),y=ft(z).hoistableScripts,C=y.get(l),C||(C={type:"script",instance:null,count:0,state:null},y.set(l,C)),C):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Po(r){return'href="'+qr(r)+'"'}function Wl(r){return'link[rel="stylesheet"]['+r+"]"}function Zb(r){return m({},r,{"data-precedence":r.precedence,precedence:null})}function cx(r,l,y,C){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?C.loading=1:(l=r.createElement("link"),C.preload=l,l.addEventListener("load",function(){return C.loading|=1}),l.addEventListener("error",function(){return C.loading|=2}),mn(l,"link",y),St(l),r.head.appendChild(l))}function Lo(r){return'[src="'+qr(r)+'"]'}function Yl(r){return"script[async]"+r}function Jb(r,l,y){if(l.count++,l.instance===null)switch(l.type){case"style":var C=r.querySelector('style[data-href~="'+qr(y.href)+'"]');if(C)return l.instance=C,St(C),C;var z=m({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return C=(r.ownerDocument||r).createElement("style"),St(C),mn(C,"style",z),Fc(C,y.precedence,r),l.instance=C;case"stylesheet":z=Po(y.href);var Y=r.querySelector(Wl(z));if(Y)return l.state.loading|=4,l.instance=Y,St(Y),Y;C=Zb(y),(z=ui.get(z))&&Wd(C,z),Y=(r.ownerDocument||r).createElement("link"),St(Y);var et=Y;return et._p=new Promise(function(ot,gt){et.onload=ot,et.onerror=gt}),mn(Y,"link",C),l.state.loading|=4,Fc(Y,y.precedence,r),l.instance=Y;case"script":return Y=Lo(y.src),(z=r.querySelector(Yl(Y)))?(l.instance=z,St(z),z):(C=y,(z=ui.get(Y))&&(C=m({},y),Yd(C,z)),r=r.ownerDocument||r,z=r.createElement("script"),St(z),mn(z,"link",C),r.head.appendChild(z),l.instance=z);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(C=l.instance,l.state.loading|=4,Fc(C,y.precedence,r));return l.instance}function Fc(r,l,y){for(var C=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),z=C.length?C[C.length-1]:null,Y=z,et=0;et<C.length;et++){var ot=C[et];if(ot.dataset.precedence===l)Y=ot;else if(Y!==z)break}Y?Y.parentNode.insertBefore(r,Y.nextSibling):(l=y.nodeType===9?y.head:y,l.insertBefore(r,l.firstChild))}function Wd(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function Yd(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Hc=null;function t1(r,l,y){if(Hc===null){var C=new Map,z=Hc=new Map;z.set(y,C)}else z=Hc,C=z.get(y),C||(C=new Map,z.set(y,C));if(C.has(r))return C;for(C.set(r,null),y=y.getElementsByTagName(r),z=0;z<y.length;z++){var Y=y[z];if(!(Y[tr]||Y[le]||r==="link"&&Y.getAttribute("rel")==="stylesheet")&&Y.namespaceURI!=="http://www.w3.org/2000/svg"){var et=Y.getAttribute(l)||"";et=r+et;var ot=C.get(et);ot?ot.push(Y):C.set(et,[Y])}}return C}function e1(r,l,y){r=r.ownerDocument||r,r.head.insertBefore(y,l==="title"?r.querySelector("head > title"):null)}function hx(r,l,y){if(y===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;return l.rel==="stylesheet"?(r=l.disabled,typeof l.precedence=="string"&&r==null):!0;case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function r1(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function fx(r,l,y,C){if(y.type==="stylesheet"&&(typeof C.media!="string"||matchMedia(C.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var z=Po(C.href),Y=l.querySelector(Wl(z));if(Y){l=Y._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(r.count++,r=qc.bind(r),l.then(r,r)),y.state.loading|=4,y.instance=Y,St(Y);return}Y=l.ownerDocument||l,C=Zb(C),(z=ui.get(z))&&Wd(C,z),Y=Y.createElement("link"),St(Y);var et=Y;et._p=new Promise(function(ot,gt){et.onload=ot,et.onerror=gt}),mn(Y,"link",C),y.instance=Y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(y,l),(l=y.state.preload)&&(y.state.loading&3)===0&&(r.count++,y=qc.bind(r),l.addEventListener("load",y),l.addEventListener("error",y))}}var Xd=0;function dx(r,l){return r.stylesheets&&r.count===0&&Gc(r,r.stylesheets),0<r.count||0<r.imgCount?function(y){var C=setTimeout(function(){if(r.stylesheets&&Gc(r,r.stylesheets),r.unsuspend){var Y=r.unsuspend;r.unsuspend=null,Y()}},6e4+l);0<r.imgBytes&&Xd===0&&(Xd=62500*W_());var z=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Gc(r,r.stylesheets),r.unsuspend)){var Y=r.unsuspend;r.unsuspend=null,Y()}},(r.imgBytes>Xd?50:800)+l);return r.unsuspend=y,function(){r.unsuspend=null,clearTimeout(C),clearTimeout(z)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var $c=null;function Gc(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,$c=new Map,l.forEach(px,r),$c=null,qc.call(r))}function px(r,l){if(!(l.state.loading&4)){var y=$c.get(r);if(y)var C=y.get(null);else{y=new Map,$c.set(r,y);for(var z=r.querySelectorAll("link[data-precedence],style[data-precedence]"),Y=0;Y<z.length;Y++){var et=z[Y];(et.nodeName==="LINK"||et.getAttribute("media")!=="not all")&&(y.set(et.dataset.precedence,et),C=et)}C&&y.set(null,C)}z=l.instance,et=z.getAttribute("data-precedence"),Y=y.get(et)||C,Y===C&&y.set(null,z),y.set(et,z),this.count++,C=qc.bind(this),z.addEventListener("load",C),z.addEventListener("error",C),Y?Y.parentNode.insertBefore(z,Y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(z,r.firstChild)),l.state.loading|=4}}var Xl={$$typeof:A,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function mx(r,l,y,C,z,Y,et,ot,gt){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qe(0),this.hiddenUpdates=qe(null),this.identifierPrefix=C,this.onUncaughtError=z,this.onCaughtError=Y,this.onRecoverableError=et,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=gt,this.incompleteTransitions=new Map}function n1(r,l,y,C,z,Y,et,ot,gt,Rt,Bt,Ft){return r=new mx(r,l,y,et,gt,Rt,Bt,Ft,ot),l=1,Y===!0&&(l|=24),Y=$n(3,null,null,l),r.current=Y,Y.stateNode=r,l=kf(),l.refCount++,r.pooledCache=l,l.refCount++,Y.memoizedState={element:C,isDehydrated:y,cache:l},If(Y),r}function i1(r){return r?(r=po,r):po}function s1(r,l,y,C,z,Y){z=i1(z),C.context===null?C.context=z:C.pendingContext=z,C=Ps(l),C.payload={element:y},Y=Y===void 0?null:Y,Y!==null&&(C.callback=Y),y=Ls(r,C,l),y!==null&&(Ln(y,r,l),Cl(y,r,l))}function a1(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var y=r.retryLane;r.retryLane=y!==0&&y<l?y:l}}function Kd(r,l){a1(r,l),(r=r.alternate)&&a1(r,l)}function o1(r){if(r.tag===13||r.tag===31){var l=Ra(r,67108864);l!==null&&Ln(l,r,67108864),Kd(r,67108864)}}function l1(r){if(r.tag===13||r.tag===31){var l=Kn();l=Tt(l);var y=Ra(r,l);y!==null&&Ln(y,r,l),Kd(r,l)}}var Wc=!0;function gx(r,l,y,C){var z=x.T;x.T=null;var Y=S.p;try{S.p=2,Qd(r,l,y,C)}finally{S.p=Y,x.T=z}}function bx(r,l,y,C){var z=x.T;x.T=null;var Y=S.p;try{S.p=8,Qd(r,l,y,C)}finally{S.p=Y,x.T=z}}function Qd(r,l,y,C){if(Wc){var z=Zd(C);if(z===null)Ld(r,l,C,Yc,y),c1(r,C);else if(vx(z,r,l,y,C))C.stopPropagation();else if(c1(r,C),l&4&&-1<yx.indexOf(r)){for(;z!==null;){var Y=_r(z);if(Y!==null)switch(Y.tag){case 3:if(Y=Y.stateNode,Y.current.memoizedState.isDehydrated){var et=we(Y.pendingLanes);if(et!==0){var ot=Y;for(ot.pendingLanes|=2,ot.entangledLanes|=2;et;){var gt=1<<31-re(et);ot.entanglements[1]|=gt,et&=~gt}Ui(Y),(vr&6)===0&&(Mc=It()+500,Hl(0))}}break;case 31:case 13:ot=Ra(Y,2),ot!==null&&Ln(ot,Y,2),Ic(),Kd(Y,2)}if(Y=Zd(C),Y===null&&Ld(r,l,C,Yc,y),Y===z)break;z=Y}z!==null&&C.stopPropagation()}else Ld(r,l,C,null,y)}}function Zd(r){return r=cn(r),Jd(r)}var Yc=null;function Jd(r){if(Yc=null,r=dr(r),r!==null){var l=o(r);if(l===null)r=null;else{var y=l.tag;if(y===13){if(r=s(l),r!==null)return r;r=null}else if(y===31){if(r=h(l),r!==null)return r;r=null}else if(y===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return Yc=r,null}function u1(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ht()){case ee:return 2;case Qt:return 8;case Kt:case be:return 32;case fe:return 268435456;default:return 32}default:return 32}}var tp=!1,Ys=null,Xs=null,Ks=null,Kl=new Map,Ql=new Map,Qs=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function c1(r,l){switch(r){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":Kl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(l.pointerId)}}function Zl(r,l,y,C,z,Y){return r===null||r.nativeEvent!==Y?(r={blockedOn:l,domEventName:y,eventSystemFlags:C,nativeEvent:Y,targetContainers:[z]},l!==null&&(l=_r(l),l!==null&&o1(l)),r):(r.eventSystemFlags|=C,l=r.targetContainers,z!==null&&l.indexOf(z)===-1&&l.push(z),r)}function vx(r,l,y,C,z){switch(l){case"focusin":return Ys=Zl(Ys,r,l,y,C,z),!0;case"dragenter":return Xs=Zl(Xs,r,l,y,C,z),!0;case"mouseover":return Ks=Zl(Ks,r,l,y,C,z),!0;case"pointerover":var Y=z.pointerId;return Kl.set(Y,Zl(Kl.get(Y)||null,r,l,y,C,z)),!0;case"gotpointercapture":return Y=z.pointerId,Ql.set(Y,Zl(Ql.get(Y)||null,r,l,y,C,z)),!0}return!1}function h1(r){var l=dr(r.target);if(l!==null){var y=o(l);if(y!==null){if(l=y.tag,l===13){if(l=s(y),l!==null){r.blockedOn=l,pe(r.priority,function(){l1(y)});return}}else if(l===31){if(l=h(y),l!==null){r.blockedOn=l,pe(r.priority,function(){l1(y)});return}}else if(l===3&&y.stateNode.current.memoizedState.isDehydrated){r.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Xc(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var y=Zd(r.nativeEvent);if(y===null){y=r.nativeEvent;var C=new y.constructor(y.type,y);Ii=C,y.target.dispatchEvent(C),Ii=null}else return l=_r(y),l!==null&&o1(l),r.blockedOn=y,!1;l.shift()}return!0}function f1(r,l,y){Xc(r)&&y.delete(l)}function wx(){tp=!1,Ys!==null&&Xc(Ys)&&(Ys=null),Xs!==null&&Xc(Xs)&&(Xs=null),Ks!==null&&Xc(Ks)&&(Ks=null),Kl.forEach(f1),Ql.forEach(f1)}function Kc(r,l){r.blockedOn===l&&(r.blockedOn=null,tp||(tp=!0,p.unstable_scheduleCallback(p.unstable_NormalPriority,wx)))}var Qc=null;function d1(r){Qc!==r&&(Qc=r,p.unstable_scheduleCallback(p.unstable_NormalPriority,function(){Qc===r&&(Qc=null);for(var l=0;l<r.length;l+=3){var y=r[l],C=r[l+1],z=r[l+2];if(typeof C!="function"){if(Jd(C||y)===null)continue;break}var Y=_r(y);Y!==null&&(r.splice(l,3),l-=3,Zf(Y,{pending:!0,data:z,method:y.method,action:C},C,z))}}))}function Bo(r){function l(gt){return Kc(gt,r)}Ys!==null&&Kc(Ys,r),Xs!==null&&Kc(Xs,r),Ks!==null&&Kc(Ks,r),Kl.forEach(l),Ql.forEach(l);for(var y=0;y<Qs.length;y++){var C=Qs[y];C.blockedOn===r&&(C.blockedOn=null)}for(;0<Qs.length&&(y=Qs[0],y.blockedOn===null);)h1(y),y.blockedOn===null&&Qs.shift();if(y=(r.ownerDocument||r).$$reactFormReplay,y!=null)for(C=0;C<y.length;C+=3){var z=y[C],Y=y[C+1],et=z[Lt]||null;if(typeof Y=="function")et||d1(y);else if(et){var ot=null;if(Y&&Y.hasAttribute("formAction")){if(z=Y,et=Y[Lt]||null)ot=et.formAction;else if(Jd(z)!==null)continue}else ot=et.action;typeof ot=="function"?y[C+1]=ot:(y.splice(C,3),C-=3),d1(y)}}}function p1(){function r(Y){Y.canIntercept&&Y.info==="react-transition"&&Y.intercept({handler:function(){return new Promise(function(et){return z=et})},focusReset:"manual",scroll:"manual"})}function l(){z!==null&&(z(),z=null),C||setTimeout(y,20)}function y(){if(!C&&!navigation.transition){var Y=navigation.currentEntry;Y&&Y.url!=null&&navigation.navigate(Y.url,{state:Y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var C=!1,z=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(y,100),function(){C=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),z!==null&&(z(),z=null)}}}function ep(r){this._internalRoot=r}Zc.prototype.render=ep.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(i(409));var y=l.current,C=Kn();s1(y,C,r,l,null,null)},Zc.prototype.unmount=ep.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;s1(r.current,2,null,r,null,null),Ic(),l[Yt]=null}};function Zc(r){this._internalRoot=r}Zc.prototype.unstable_scheduleHydration=function(r){if(r){var l=Jt();r={blockedOn:null,target:r,priority:l};for(var y=0;y<Qs.length&&l!==0&&l<Qs[y].priority;y++);Qs.splice(y,0,r),y===0&&h1(r)}};var m1=e.version;if(m1!=="19.2.4")throw Error(i(527,m1,"19.2.4"));S.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=n(l),r=r!==null?u(r):null,r=r===null?null:r.stateNode,r};var _x={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:x,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{Zt=Jc.inject(_x),Gt=Jc}catch{}}return tu.createRoot=function(r,l){if(!c(r))throw Error(i(299));var y=!1,C="",z=xg,Y=Sg,et=Tg;return l!=null&&(l.unstable_strictMode===!0&&(y=!0),l.identifierPrefix!==void 0&&(C=l.identifierPrefix),l.onUncaughtError!==void 0&&(z=l.onUncaughtError),l.onCaughtError!==void 0&&(Y=l.onCaughtError),l.onRecoverableError!==void 0&&(et=l.onRecoverableError)),l=n1(r,1,!1,null,null,y,C,null,z,Y,et,p1),r[Yt]=l.current,Pd(r),new ep(l)},tu.hydrateRoot=function(r,l,y){if(!c(r))throw Error(i(299));var C=!1,z="",Y=xg,et=Sg,ot=Tg,gt=null;return y!=null&&(y.unstable_strictMode===!0&&(C=!0),y.identifierPrefix!==void 0&&(z=y.identifierPrefix),y.onUncaughtError!==void 0&&(Y=y.onUncaughtError),y.onCaughtError!==void 0&&(et=y.onCaughtError),y.onRecoverableError!==void 0&&(ot=y.onRecoverableError),y.formState!==void 0&&(gt=y.formState)),l=n1(r,1,!0,l,y??null,C,z,gt,Y,et,ot,p1),l.context=i1(null),y=l.current,C=Kn(),C=Tt(C),z=Ps(C),z.callback=null,Ls(y,z,C),y=C,l.current.lanes=y,Se(l,y),Ui(l),r[Yt]=l.current,Pd(r),new Zc(l)},tu.version="19.2.4",tu}var E1;function Ix(){if(E1)return ip.exports;E1=1;function p(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p)}catch(e){console.error(e)}}return p(),ip.exports=Nx(),ip.exports}var jx=Ix();const Ox=()=>{};var A1={};const fv=function(p){const e=[];let t=0;for(let i=0;i<p.length;i++){let c=p.charCodeAt(i);c<128?e[t++]=c:c<2048?(e[t++]=c>>6|192,e[t++]=c&63|128):(c&64512)===55296&&i+1<p.length&&(p.charCodeAt(i+1)&64512)===56320?(c=65536+((c&1023)<<10)+(p.charCodeAt(++i)&1023),e[t++]=c>>18|240,e[t++]=c>>12&63|128,e[t++]=c>>6&63|128,e[t++]=c&63|128):(e[t++]=c>>12|224,e[t++]=c>>6&63|128,e[t++]=c&63|128)}return e},Dx=function(p){const e=[];let t=0,i=0;for(;t<p.length;){const c=p[t++];if(c<128)e[i++]=String.fromCharCode(c);else if(c>191&&c<224){const o=p[t++];e[i++]=String.fromCharCode((c&31)<<6|o&63)}else if(c>239&&c<365){const o=p[t++],s=p[t++],h=p[t++],a=((c&7)<<18|(o&63)<<12|(s&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(a>>10)),e[i++]=String.fromCharCode(56320+(a&1023))}else{const o=p[t++],s=p[t++];e[i++]=String.fromCharCode((c&15)<<12|(o&63)<<6|s&63)}}return e.join("")},dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(p,e){if(!Array.isArray(p))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let c=0;c<p.length;c+=3){const o=p[c],s=c+1<p.length,h=s?p[c+1]:0,a=c+2<p.length,n=a?p[c+2]:0,u=o>>2,m=(o&3)<<4|h>>4;let f=(h&15)<<2|n>>6,d=n&63;a||(d=64,s||(f=64)),i.push(t[u],t[m],t[f],t[d])}return i.join("")},encodeString(p,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(p):this.encodeByteArray(fv(p),e)},decodeString(p,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(p):Dx(this.decodeStringToByteArray(p,e))},decodeStringToByteArray(p,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let c=0;c<p.length;){const o=t[p.charAt(c++)],h=c<p.length?t[p.charAt(c)]:0;++c;const n=c<p.length?t[p.charAt(c)]:64;++c;const m=c<p.length?t[p.charAt(c)]:64;if(++c,o==null||h==null||n==null||m==null)throw new Px;const f=o<<2|h>>4;if(i.push(f),n!==64){const d=h<<4&240|n>>2;if(i.push(d),m!==64){const b=n<<6&192|m;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let p=0;p<this.ENCODED_VALS.length;p++)this.byteToCharMap_[p]=this.ENCODED_VALS.charAt(p),this.charToByteMap_[this.byteToCharMap_[p]]=p,this.byteToCharMapWebSafe_[p]=this.ENCODED_VALS_WEBSAFE.charAt(p),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[p]]=p,p>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(p)]=p,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(p)]=p)}}};class Px extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lx=function(p){const e=fv(p);return dv.encodeByteArray(e,!0)},vh=function(p){return Lx(p).replace(/\./g,"")},pv=function(p){try{return dv.decodeString(p,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Bx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vx=()=>Bx().__FIREBASE_DEFAULTS__,zx=()=>{if(typeof process>"u"||typeof A1>"u")return;const p=A1.__FIREBASE_DEFAULTS__;if(p)return JSON.parse(p)},Ux=()=>{if(typeof document>"u")return;let p;try{p=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=p&&pv(p[1]);return e&&JSON.parse(e)},Bh=()=>{try{return Ox()||Vx()||zx()||Ux()}catch(p){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${p}`);return}},mv=p=>Bh()?.emulatorHosts?.[p],Fx=p=>{const e=mv(p);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},gv=()=>Bh()?.config,bv=p=>Bh()?.[`_${p}`];class Hx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function il(p){try{return(p.startsWith("http://")||p.startsWith("https://")?new URL(p).hostname:p).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yv(p){return(await fetch(p,{credentials:"include"})).ok}function qx(p,e){if(p.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",c=p.iat||0,o=p.sub||p.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:c,exp:c+3600,auth_time:c,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...p};return[vh(JSON.stringify(t)),vh(JSON.stringify(s)),""].join(".")}const lu={};function $x(){const p={prod:[],emulator:[]};for(const e of Object.keys(lu))lu[e]?p.emulator.push(e):p.prod.push(e);return p}function Gx(p){let e=document.getElementById(p),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",p),t=!0),{created:t,element:e}}let C1=!1;function vv(p,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||lu[p]===e||lu[p]||C1)return;lu[p]=e;function t(f){return`__firebase__banner__${f}`}const i="__firebase__banner",o=$x().prod.length>0;function s(){const f=document.getElementById(i);f&&f.remove()}function h(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function a(f,d){f.setAttribute("width","24"),f.setAttribute("id",d),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function n(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{C1=!0,s()},f}function u(f,d){f.setAttribute("id",d),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function m(){const f=Gx(i),d=t("text"),b=document.getElementById(d)||document.createElement("span"),v=t("learnmore"),g=document.getElementById(v)||document.createElement("a"),w=t("preprendIcon"),_=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const A=f.element;h(A),u(g,v);const M=n();a(_,w),A.append(_,b,g,M),document.body.appendChild(A)}o?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function Yx(){const p=Bh()?.forceEnvironment;if(p==="node")return!0;if(p==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kx(){const p=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof p=="object"&&p.id!==void 0}function Qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zx(){const p=En();return p.indexOf("MSIE ")>=0||p.indexOf("Trident/")>=0}function Jx(){return!Yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function t4(){try{return typeof indexedDB=="object"}catch{return!1}}function e4(){return new Promise((p,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(i);c.onsuccess=()=>{c.result.close(),t||self.indexedDB.deleteDatabase(i),p(!0)},c.onupgradeneeded=()=>{t=!1},c.onerror=()=>{e(c.error?.message||"")}}catch(t){e(t)}})}const r4="FirebaseError";class As extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=r4,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},c=`${this.service}/${e}`,o=this.errors[e],s=o?n4(o,i):"Error",h=`${this.serviceName}: ${s} (${c}).`;return new As(c,h,i)}}function n4(p,e){return p.replace(i4,(t,i)=>{const c=e[i];return c!=null?String(c):`<${i}?>`})}const i4=/\{\$([^}]+)}/g;function s4(p){for(const e in p)if(Object.prototype.hasOwnProperty.call(p,e))return!1;return!0}function Ya(p,e){if(p===e)return!0;const t=Object.keys(p),i=Object.keys(e);for(const c of t){if(!i.includes(c))return!1;const o=p[c],s=e[c];if(k1(o)&&k1(s)){if(!Ya(o,s))return!1}else if(o!==s)return!1}for(const c of i)if(!t.includes(c))return!1;return!0}function k1(p){return p!==null&&typeof p=="object"}function Ru(p){const e=[];for(const[t,i]of Object.entries(p))Array.isArray(i)?i.forEach(c=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ru(p){const e={};return p.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[c,o]=i.split("=");e[decodeURIComponent(c)]=decodeURIComponent(o)}}),e}function nu(p){const e=p.indexOf("?");if(!e)return"";const t=p.indexOf("#",e);return p.substring(e,t>0?t:void 0)}function a4(p,e){const t=new o4(p,e);return t.subscribe.bind(t)}class o4{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let c;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");l4(e,["next","error","complete"])?c=e:c={next:e,error:t,complete:i},c.next===void 0&&(c.next=lp),c.error===void 0&&(c.error=lp),c.complete===void 0&&(c.complete=lp);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l4(p,e){if(typeof p!="object"||p===null)return!1;for(const t of e)if(t in p&&typeof p[t]=="function")return!0;return!1}function lp(){}function an(p){return p&&p._delegate?p._delegate:p}class Xa{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fa="[DEFAULT]";class u4{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Hx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:t});c&&i.resolve(c)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(c){if(i)return null;throw c}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h4(e))try{this.getOrInitializeService({instanceIdentifier:Fa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:c});i.resolve(o)}catch{}}}}clearInstance(e=Fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fa){return this.instances.has(e)}getOptions(e=Fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&s.resolve(c)}return c}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),c=this.onInitCallbacks.get(i)??new Set;c.add(e),this.onInitCallbacks.set(i,c);const o=this.instances.get(i);return o&&e(o,i),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const c of i)try{c(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:c4(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fa){return this.component?this.component.multipleInstances?e:Fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c4(p){return p===Fa?void 0:p}function h4(p){return p.instantiationMode==="EAGER"}class f4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new u4(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var lr;(function(p){p[p.DEBUG=0]="DEBUG",p[p.VERBOSE=1]="VERBOSE",p[p.INFO=2]="INFO",p[p.WARN=3]="WARN",p[p.ERROR=4]="ERROR",p[p.SILENT=5]="SILENT"})(lr||(lr={}));const d4={debug:lr.DEBUG,verbose:lr.VERBOSE,info:lr.INFO,warn:lr.WARN,error:lr.ERROR,silent:lr.SILENT},p4=lr.INFO,m4={[lr.DEBUG]:"log",[lr.VERBOSE]:"log",[lr.INFO]:"info",[lr.WARN]:"warn",[lr.ERROR]:"error"},g4=(p,e,...t)=>{if(e<p.logLevel)return;const i=new Date().toISOString(),c=m4[e];if(c)console[c](`[${i}]  ${p.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zp{constructor(e){this.name=e,this._logLevel=p4,this._logHandler=g4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in lr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,lr.DEBUG,...e),this._logHandler(this,lr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,lr.VERBOSE,...e),this._logHandler(this,lr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,lr.INFO,...e),this._logHandler(this,lr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,lr.WARN,...e),this._logHandler(this,lr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,lr.ERROR,...e),this._logHandler(this,lr.ERROR,...e)}}const b4=(p,e)=>e.some(t=>p instanceof t);let R1,M1;function y4(){return R1||(R1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v4(){return M1||(M1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wv=new WeakMap,Sp=new WeakMap,_v=new WeakMap,up=new WeakMap,Jp=new WeakMap;function w4(p){const e=new Promise((t,i)=>{const c=()=>{p.removeEventListener("success",o),p.removeEventListener("error",s)},o=()=>{t(ia(p.result)),c()},s=()=>{i(p.error),c()};p.addEventListener("success",o),p.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&wv.set(t,p)}).catch(()=>{}),Jp.set(e,p),e}function _4(p){if(Sp.has(p))return;const e=new Promise((t,i)=>{const c=()=>{p.removeEventListener("complete",o),p.removeEventListener("error",s),p.removeEventListener("abort",s)},o=()=>{t(),c()},s=()=>{i(p.error||new DOMException("AbortError","AbortError")),c()};p.addEventListener("complete",o),p.addEventListener("error",s),p.addEventListener("abort",s)});Sp.set(p,e)}let Tp={get(p,e,t){if(p instanceof IDBTransaction){if(e==="done")return Sp.get(p);if(e==="objectStoreNames")return p.objectStoreNames||_v.get(p);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ia(p[e])},set(p,e,t){return p[e]=t,!0},has(p,e){return p instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in p}};function x4(p){Tp=p(Tp)}function S4(p){return p===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=p.call(cp(this),e,...t);return _v.set(i,e.sort?e.sort():[e]),ia(i)}:v4().includes(p)?function(...e){return p.apply(cp(this),e),ia(wv.get(this))}:function(...e){return ia(p.apply(cp(this),e))}}function T4(p){return typeof p=="function"?S4(p):(p instanceof IDBTransaction&&_4(p),b4(p,y4())?new Proxy(p,Tp):p)}function ia(p){if(p instanceof IDBRequest)return w4(p);if(up.has(p))return up.get(p);const e=T4(p);return e!==p&&(up.set(p,e),Jp.set(e,p)),e}const cp=p=>Jp.get(p);function E4(p,e,{blocked:t,upgrade:i,blocking:c,terminated:o}={}){const s=indexedDB.open(p,e),h=ia(s);return i&&s.addEventListener("upgradeneeded",a=>{i(ia(s.result),a.oldVersion,a.newVersion,ia(s.transaction),a)}),t&&s.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),h.then(a=>{o&&a.addEventListener("close",()=>o()),c&&a.addEventListener("versionchange",n=>c(n.oldVersion,n.newVersion,n))}).catch(()=>{}),h}const A4=["get","getKey","getAll","getAllKeys","count"],C4=["put","add","delete","clear"],hp=new Map;function N1(p,e){if(!(p instanceof IDBDatabase&&!(e in p)&&typeof e=="string"))return;if(hp.get(e))return hp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,c=C4.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(c||A4.includes(t)))return;const o=async function(s,...h){const a=this.transaction(s,c?"readwrite":"readonly");let n=a.store;return i&&(n=n.index(h.shift())),(await Promise.all([n[t](...h),c&&a.done]))[0]};return hp.set(e,o),o}x4(p=>({...p,get:(e,t,i)=>N1(e,t)||p.get(e,t,i),has:(e,t)=>!!N1(e,t)||p.has(e,t)}));class k4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(R4(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function R4(p){return p.getComponent()?.type==="VERSION"}const Ep="@firebase/app",I1="0.14.8";const _s=new Zp("@firebase/app"),M4="@firebase/app-compat",N4="@firebase/analytics-compat",I4="@firebase/analytics",j4="@firebase/app-check-compat",O4="@firebase/app-check",D4="@firebase/auth",P4="@firebase/auth-compat",L4="@firebase/database",B4="@firebase/data-connect",V4="@firebase/database-compat",z4="@firebase/functions",U4="@firebase/functions-compat",F4="@firebase/installations",H4="@firebase/installations-compat",q4="@firebase/messaging",$4="@firebase/messaging-compat",G4="@firebase/performance",W4="@firebase/performance-compat",Y4="@firebase/remote-config",X4="@firebase/remote-config-compat",K4="@firebase/storage",Q4="@firebase/storage-compat",Z4="@firebase/firestore",J4="@firebase/ai",t3="@firebase/firestore-compat",e3="firebase",r3="12.9.0";const Ap="[DEFAULT]",n3={[Ep]:"fire-core",[M4]:"fire-core-compat",[I4]:"fire-analytics",[N4]:"fire-analytics-compat",[O4]:"fire-app-check",[j4]:"fire-app-check-compat",[D4]:"fire-auth",[P4]:"fire-auth-compat",[L4]:"fire-rtdb",[B4]:"fire-data-connect",[V4]:"fire-rtdb-compat",[z4]:"fire-fn",[U4]:"fire-fn-compat",[F4]:"fire-iid",[H4]:"fire-iid-compat",[q4]:"fire-fcm",[$4]:"fire-fcm-compat",[G4]:"fire-perf",[W4]:"fire-perf-compat",[Y4]:"fire-rc",[X4]:"fire-rc-compat",[K4]:"fire-gcs",[Q4]:"fire-gcs-compat",[Z4]:"fire-fst",[t3]:"fire-fst-compat",[J4]:"fire-vertex","fire-js":"fire-js",[e3]:"fire-js-all"};const wh=new Map,i3=new Map,Cp=new Map;function j1(p,e){try{p.container.addComponent(e)}catch(t){_s.debug(`Component ${e.name} failed to register with FirebaseApp ${p.name}`,t)}}function Qo(p){const e=p.name;if(Cp.has(e))return _s.debug(`There were multiple attempts to register component ${e}.`),!1;Cp.set(e,p);for(const t of wh.values())j1(t,p);for(const t of i3.values())j1(t,p);return!0}function tm(p,e){const t=p.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),p.container.getProvider(e)}function Qn(p){return p==null?!1:p.settings!==void 0}const s3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sa=new ku("app","Firebase",s3);class a3{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Xa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw sa.create("app-deleted",{appName:this._name})}}const sl=r3;function em(p,e={}){let t=p;typeof e!="object"&&(e={name:e});const i={name:Ap,automaticDataCollectionEnabled:!0,...e},c=i.name;if(typeof c!="string"||!c)throw sa.create("bad-app-name",{appName:String(c)});if(t||(t=gv()),!t)throw sa.create("no-options");const o=wh.get(c);if(o){if(Ya(t,o.options)&&Ya(i,o.config))return o;throw sa.create("duplicate-app",{appName:c})}const s=new f4(c);for(const a of Cp.values())s.addComponent(a);const h=new a3(t,i,s);return wh.set(c,h),h}function xv(p=Ap){const e=wh.get(p);if(!e&&p===Ap&&gv())return em();if(!e)throw sa.create("no-app",{appName:p});return e}function aa(p,e,t){let i=n3[p]??p;t&&(i+=`-${t}`);const c=i.match(/\s|\//),o=e.match(/\s|\//);if(c||o){const s=[`Unable to register library "${i}" with version "${e}":`];c&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_s.warn(s.join(" "));return}Qo(new Xa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const o3="firebase-heartbeat-database",l3=1,mu="firebase-heartbeat-store";let fp=null;function Sv(){return fp||(fp=E4(o3,l3,{upgrade:(p,e)=>{switch(e){case 0:try{p.createObjectStore(mu)}catch(t){console.warn(t)}}}}).catch(p=>{throw sa.create("idb-open",{originalErrorMessage:p.message})})),fp}async function u3(p){try{const t=(await Sv()).transaction(mu),i=await t.objectStore(mu).get(Tv(p));return await t.done,i}catch(e){if(e instanceof As)_s.warn(e.message);else{const t=sa.create("idb-get",{originalErrorMessage:e?.message});_s.warn(t.message)}}}async function O1(p,e){try{const i=(await Sv()).transaction(mu,"readwrite");await i.objectStore(mu).put(e,Tv(p)),await i.done}catch(t){if(t instanceof As)_s.warn(t.message);else{const i=sa.create("idb-set",{originalErrorMessage:t?.message});_s.warn(i.message)}}}function Tv(p){return`${p.name}!${p.options.appId}`}const c3=1024,h3=30;class f3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new p3(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=D1();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(c=>c.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>h3){const c=m3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){_s.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D1(),{heartbeatsToSend:t,unsentEntries:i}=d3(this._heartbeatsCache.heartbeats),c=vh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(e){return _s.warn(e),""}}}function D1(){return new Date().toISOString().substring(0,10)}function d3(p,e=c3){const t=[];let i=p.slice();for(const c of p){const o=t.find(s=>s.agent===c.agent);if(o){if(o.dates.push(c.date),P1(t)>e){o.dates.pop();break}}else if(t.push({agent:c.agent,dates:[c.date]}),P1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class p3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return t4()?e4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await u3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return O1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return O1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function P1(p){return vh(JSON.stringify({version:2,heartbeats:p})).length}function m3(p){if(p.length===0)return-1;let e=0,t=p[0].date;for(let i=1;i<p.length;i++)p[i].date<t&&(t=p[i].date,e=i);return e}function g3(p){Qo(new Xa("platform-logger",e=>new k4(e),"PRIVATE")),Qo(new Xa("heartbeat",e=>new f3(e),"PRIVATE")),aa(Ep,I1,p),aa(Ep,I1,"esm2020"),aa("fire-js","")}g3("");var L1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oa,Ev;(function(){var p;function e(F,j){function V(){}V.prototype=j.prototype,F.F=j.prototype,F.prototype=new V,F.prototype.constructor=F,F.D=function(G,X,H){for(var R=Array(arguments.length-2),P=2;P<arguments.length;P++)R[P-2]=arguments[P];return j.prototype[X].apply(G,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(F,j,V){V||(V=0);const G=Array(16);if(typeof j=="string")for(var X=0;X<16;++X)G[X]=j.charCodeAt(V++)|j.charCodeAt(V++)<<8|j.charCodeAt(V++)<<16|j.charCodeAt(V++)<<24;else for(X=0;X<16;++X)G[X]=j[V++]|j[V++]<<8|j[V++]<<16|j[V++]<<24;j=F.g[0],V=F.g[1],X=F.g[2];let H=F.g[3],R;R=j+(H^V&(X^H))+G[0]+3614090360&4294967295,j=V+(R<<7&4294967295|R>>>25),R=H+(X^j&(V^X))+G[1]+3905402710&4294967295,H=j+(R<<12&4294967295|R>>>20),R=X+(V^H&(j^V))+G[2]+606105819&4294967295,X=H+(R<<17&4294967295|R>>>15),R=V+(j^X&(H^j))+G[3]+3250441966&4294967295,V=X+(R<<22&4294967295|R>>>10),R=j+(H^V&(X^H))+G[4]+4118548399&4294967295,j=V+(R<<7&4294967295|R>>>25),R=H+(X^j&(V^X))+G[5]+1200080426&4294967295,H=j+(R<<12&4294967295|R>>>20),R=X+(V^H&(j^V))+G[6]+2821735955&4294967295,X=H+(R<<17&4294967295|R>>>15),R=V+(j^X&(H^j))+G[7]+4249261313&4294967295,V=X+(R<<22&4294967295|R>>>10),R=j+(H^V&(X^H))+G[8]+1770035416&4294967295,j=V+(R<<7&4294967295|R>>>25),R=H+(X^j&(V^X))+G[9]+2336552879&4294967295,H=j+(R<<12&4294967295|R>>>20),R=X+(V^H&(j^V))+G[10]+4294925233&4294967295,X=H+(R<<17&4294967295|R>>>15),R=V+(j^X&(H^j))+G[11]+2304563134&4294967295,V=X+(R<<22&4294967295|R>>>10),R=j+(H^V&(X^H))+G[12]+1804603682&4294967295,j=V+(R<<7&4294967295|R>>>25),R=H+(X^j&(V^X))+G[13]+4254626195&4294967295,H=j+(R<<12&4294967295|R>>>20),R=X+(V^H&(j^V))+G[14]+2792965006&4294967295,X=H+(R<<17&4294967295|R>>>15),R=V+(j^X&(H^j))+G[15]+1236535329&4294967295,V=X+(R<<22&4294967295|R>>>10),R=j+(X^H&(V^X))+G[1]+4129170786&4294967295,j=V+(R<<5&4294967295|R>>>27),R=H+(V^X&(j^V))+G[6]+3225465664&4294967295,H=j+(R<<9&4294967295|R>>>23),R=X+(j^V&(H^j))+G[11]+643717713&4294967295,X=H+(R<<14&4294967295|R>>>18),R=V+(H^j&(X^H))+G[0]+3921069994&4294967295,V=X+(R<<20&4294967295|R>>>12),R=j+(X^H&(V^X))+G[5]+3593408605&4294967295,j=V+(R<<5&4294967295|R>>>27),R=H+(V^X&(j^V))+G[10]+38016083&4294967295,H=j+(R<<9&4294967295|R>>>23),R=X+(j^V&(H^j))+G[15]+3634488961&4294967295,X=H+(R<<14&4294967295|R>>>18),R=V+(H^j&(X^H))+G[4]+3889429448&4294967295,V=X+(R<<20&4294967295|R>>>12),R=j+(X^H&(V^X))+G[9]+568446438&4294967295,j=V+(R<<5&4294967295|R>>>27),R=H+(V^X&(j^V))+G[14]+3275163606&4294967295,H=j+(R<<9&4294967295|R>>>23),R=X+(j^V&(H^j))+G[3]+4107603335&4294967295,X=H+(R<<14&4294967295|R>>>18),R=V+(H^j&(X^H))+G[8]+1163531501&4294967295,V=X+(R<<20&4294967295|R>>>12),R=j+(X^H&(V^X))+G[13]+2850285829&4294967295,j=V+(R<<5&4294967295|R>>>27),R=H+(V^X&(j^V))+G[2]+4243563512&4294967295,H=j+(R<<9&4294967295|R>>>23),R=X+(j^V&(H^j))+G[7]+1735328473&4294967295,X=H+(R<<14&4294967295|R>>>18),R=V+(H^j&(X^H))+G[12]+2368359562&4294967295,V=X+(R<<20&4294967295|R>>>12),R=j+(V^X^H)+G[5]+4294588738&4294967295,j=V+(R<<4&4294967295|R>>>28),R=H+(j^V^X)+G[8]+2272392833&4294967295,H=j+(R<<11&4294967295|R>>>21),R=X+(H^j^V)+G[11]+1839030562&4294967295,X=H+(R<<16&4294967295|R>>>16),R=V+(X^H^j)+G[14]+4259657740&4294967295,V=X+(R<<23&4294967295|R>>>9),R=j+(V^X^H)+G[1]+2763975236&4294967295,j=V+(R<<4&4294967295|R>>>28),R=H+(j^V^X)+G[4]+1272893353&4294967295,H=j+(R<<11&4294967295|R>>>21),R=X+(H^j^V)+G[7]+4139469664&4294967295,X=H+(R<<16&4294967295|R>>>16),R=V+(X^H^j)+G[10]+3200236656&4294967295,V=X+(R<<23&4294967295|R>>>9),R=j+(V^X^H)+G[13]+681279174&4294967295,j=V+(R<<4&4294967295|R>>>28),R=H+(j^V^X)+G[0]+3936430074&4294967295,H=j+(R<<11&4294967295|R>>>21),R=X+(H^j^V)+G[3]+3572445317&4294967295,X=H+(R<<16&4294967295|R>>>16),R=V+(X^H^j)+G[6]+76029189&4294967295,V=X+(R<<23&4294967295|R>>>9),R=j+(V^X^H)+G[9]+3654602809&4294967295,j=V+(R<<4&4294967295|R>>>28),R=H+(j^V^X)+G[12]+3873151461&4294967295,H=j+(R<<11&4294967295|R>>>21),R=X+(H^j^V)+G[15]+530742520&4294967295,X=H+(R<<16&4294967295|R>>>16),R=V+(X^H^j)+G[2]+3299628645&4294967295,V=X+(R<<23&4294967295|R>>>9),R=j+(X^(V|~H))+G[0]+4096336452&4294967295,j=V+(R<<6&4294967295|R>>>26),R=H+(V^(j|~X))+G[7]+1126891415&4294967295,H=j+(R<<10&4294967295|R>>>22),R=X+(j^(H|~V))+G[14]+2878612391&4294967295,X=H+(R<<15&4294967295|R>>>17),R=V+(H^(X|~j))+G[5]+4237533241&4294967295,V=X+(R<<21&4294967295|R>>>11),R=j+(X^(V|~H))+G[12]+1700485571&4294967295,j=V+(R<<6&4294967295|R>>>26),R=H+(V^(j|~X))+G[3]+2399980690&4294967295,H=j+(R<<10&4294967295|R>>>22),R=X+(j^(H|~V))+G[10]+4293915773&4294967295,X=H+(R<<15&4294967295|R>>>17),R=V+(H^(X|~j))+G[1]+2240044497&4294967295,V=X+(R<<21&4294967295|R>>>11),R=j+(X^(V|~H))+G[8]+1873313359&4294967295,j=V+(R<<6&4294967295|R>>>26),R=H+(V^(j|~X))+G[15]+4264355552&4294967295,H=j+(R<<10&4294967295|R>>>22),R=X+(j^(H|~V))+G[6]+2734768916&4294967295,X=H+(R<<15&4294967295|R>>>17),R=V+(H^(X|~j))+G[13]+1309151649&4294967295,V=X+(R<<21&4294967295|R>>>11),R=j+(X^(V|~H))+G[4]+4149444226&4294967295,j=V+(R<<6&4294967295|R>>>26),R=H+(V^(j|~X))+G[11]+3174756917&4294967295,H=j+(R<<10&4294967295|R>>>22),R=X+(j^(H|~V))+G[2]+718787259&4294967295,X=H+(R<<15&4294967295|R>>>17),R=V+(H^(X|~j))+G[9]+3951481745&4294967295,F.g[0]=F.g[0]+j&4294967295,F.g[1]=F.g[1]+(X+(R<<21&4294967295|R>>>11))&4294967295,F.g[2]=F.g[2]+X&4294967295,F.g[3]=F.g[3]+H&4294967295}i.prototype.v=function(F,j){j===void 0&&(j=F.length);const V=j-this.blockSize,G=this.C;let X=this.h,H=0;for(;H<j;){if(X==0)for(;H<=V;)c(this,F,H),H+=this.blockSize;if(typeof F=="string"){for(;H<j;)if(G[X++]=F.charCodeAt(H++),X==this.blockSize){c(this,G),X=0;break}}else for(;H<j;)if(G[X++]=F[H++],X==this.blockSize){c(this,G),X=0;break}}this.h=X,this.o+=j},i.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var j=1;j<F.length-8;++j)F[j]=0;j=this.o*8;for(var V=F.length-8;V<F.length;++V)F[V]=j&255,j/=256;for(this.v(F),F=Array(16),j=0,V=0;V<4;++V)for(let G=0;G<32;G+=8)F[j++]=this.g[V]>>>G&255;return F};function o(F,j){var V=h;return Object.prototype.hasOwnProperty.call(V,F)?V[F]:V[F]=j(F)}function s(F,j){this.h=j;const V=[];let G=!0;for(let X=F.length-1;X>=0;X--){const H=F[X]|0;G&&H==j||(V[X]=H,G=!1)}this.g=V}var h={};function a(F){return-128<=F&&F<128?o(F,function(j){return new s([j|0],j<0?-1:0)}):new s([F|0],F<0?-1:0)}function n(F){if(isNaN(F)||!isFinite(F))return m;if(F<0)return g(n(-F));const j=[];let V=1;for(let G=0;F>=V;G++)j[G]=F/V|0,V*=4294967296;return new s(j,0)}function u(F,j){if(F.length==0)throw Error("number format error: empty string");if(j=j||10,j<2||36<j)throw Error("radix out of range: "+j);if(F.charAt(0)=="-")return g(u(F.substring(1),j));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=n(Math.pow(j,8));let G=m;for(let H=0;H<F.length;H+=8){var X=Math.min(8,F.length-H);const R=parseInt(F.substring(H,H+X),j);X<8?(X=n(Math.pow(j,X)),G=G.j(X).add(n(R))):(G=G.j(V),G=G.add(n(R)))}return G}var m=a(0),f=a(1),d=a(16777216);p=s.prototype,p.m=function(){if(v(this))return-g(this).m();let F=0,j=1;for(let V=0;V<this.g.length;V++){const G=this.i(V);F+=(G>=0?G:4294967296+G)*j,j*=4294967296}return F},p.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(b(this))return"0";if(v(this))return"-"+g(this).toString(F);const j=n(Math.pow(F,6));var V=this;let G="";for(;;){const X=M(V,j).g;V=w(V,X.j(j));let H=((V.g.length>0?V.g[0]:V.h)>>>0).toString(F);if(V=X,b(V))return H+G;for(;H.length<6;)H="0"+H;G=H+G}},p.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function b(F){if(F.h!=0)return!1;for(let j=0;j<F.g.length;j++)if(F.g[j]!=0)return!1;return!0}function v(F){return F.h==-1}p.l=function(F){return F=w(this,F),v(F)?-1:b(F)?0:1};function g(F){const j=F.g.length,V=[];for(let G=0;G<j;G++)V[G]=~F.g[G];return new s(V,~F.h).add(f)}p.abs=function(){return v(this)?g(this):this},p.add=function(F){const j=Math.max(this.g.length,F.g.length),V=[];let G=0;for(let X=0;X<=j;X++){let H=G+(this.i(X)&65535)+(F.i(X)&65535),R=(H>>>16)+(this.i(X)>>>16)+(F.i(X)>>>16);G=R>>>16,H&=65535,R&=65535,V[X]=R<<16|H}return new s(V,V[V.length-1]&-2147483648?-1:0)};function w(F,j){return F.add(g(j))}p.j=function(F){if(b(this)||b(F))return m;if(v(this))return v(F)?g(this).j(g(F)):g(g(this).j(F));if(v(F))return g(this.j(g(F)));if(this.l(d)<0&&F.l(d)<0)return n(this.m()*F.m());const j=this.g.length+F.g.length,V=[];for(var G=0;G<2*j;G++)V[G]=0;for(G=0;G<this.g.length;G++)for(let X=0;X<F.g.length;X++){const H=this.i(G)>>>16,R=this.i(G)&65535,P=F.i(X)>>>16,k=F.i(X)&65535;V[2*G+2*X]+=R*k,_(V,2*G+2*X),V[2*G+2*X+1]+=H*k,_(V,2*G+2*X+1),V[2*G+2*X+1]+=R*P,_(V,2*G+2*X+1),V[2*G+2*X+2]+=H*P,_(V,2*G+2*X+2)}for(F=0;F<j;F++)V[F]=V[2*F+1]<<16|V[2*F];for(F=j;F<2*j;F++)V[F]=0;return new s(V,0)};function _(F,j){for(;(F[j]&65535)!=F[j];)F[j+1]+=F[j]>>>16,F[j]&=65535,j++}function A(F,j){this.g=F,this.h=j}function M(F,j){if(b(j))throw Error("division by zero");if(b(F))return new A(m,m);if(v(F))return j=M(g(F),j),new A(g(j.g),g(j.h));if(v(j))return j=M(F,g(j)),new A(g(j.g),j.h);if(F.g.length>30){if(v(F)||v(j))throw Error("slowDivide_ only works with positive integers.");for(var V=f,G=j;G.l(F)<=0;)V=O(V),G=O(G);var X=q(V,1),H=q(G,1);for(G=q(G,2),V=q(V,2);!b(G);){var R=H.add(G);R.l(F)<=0&&(X=X.add(V),H=R),G=q(G,1),V=q(V,1)}return j=w(F,X.j(j)),new A(X,j)}for(X=m;F.l(j)>=0;){for(V=Math.max(1,Math.floor(F.m()/j.m())),G=Math.ceil(Math.log(V)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),H=n(V),R=H.j(j);v(R)||R.l(F)>0;)V-=G,H=n(V),R=H.j(j);b(H)&&(H=f),X=X.add(H),F=w(F,R)}return new A(X,F)}p.B=function(F){return M(this,F).h},p.and=function(F){const j=Math.max(this.g.length,F.g.length),V=[];for(let G=0;G<j;G++)V[G]=this.i(G)&F.i(G);return new s(V,this.h&F.h)},p.or=function(F){const j=Math.max(this.g.length,F.g.length),V=[];for(let G=0;G<j;G++)V[G]=this.i(G)|F.i(G);return new s(V,this.h|F.h)},p.xor=function(F){const j=Math.max(this.g.length,F.g.length),V=[];for(let G=0;G<j;G++)V[G]=this.i(G)^F.i(G);return new s(V,this.h^F.h)};function O(F){const j=F.g.length+1,V=[];for(let G=0;G<j;G++)V[G]=F.i(G)<<1|F.i(G-1)>>>31;return new s(V,F.h)}function q(F,j){const V=j>>5;j%=32;const G=F.g.length-V,X=[];for(let H=0;H<G;H++)X[H]=j>0?F.i(H+V)>>>j|F.i(H+V+1)<<32-j:F.i(H+V);return new s(X,F.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Ev=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=n,s.fromString=u,oa=s}).apply(typeof L1<"u"?L1:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Av,iu,Cv,oh,kp,kv,Rv,Mv;(function(){var p,e=Object.defineProperty;function t(D){D=[typeof globalThis=="object"&&globalThis,D,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var J=0;J<D.length;++J){var rt=D[J];if(rt&&rt.Math==Math)return rt}throw Error("Cannot find global object")}var i=t(this);function c(D,J){if(J)t:{var rt=i;D=D.split(".");for(var ct=0;ct<D.length-1;ct++){var Ct=D[ct];if(!(Ct in rt))break t;rt=rt[Ct]}D=D[D.length-1],ct=rt[D],J=J(ct),J!=ct&&J!=null&&e(rt,D,{configurable:!0,writable:!0,value:J})}}c("Symbol.dispose",function(D){return D||Symbol("Symbol.dispose")}),c("Array.prototype.values",function(D){return D||function(){return this[Symbol.iterator]()}}),c("Object.entries",function(D){return D||function(J){var rt=[],ct;for(ct in J)Object.prototype.hasOwnProperty.call(J,ct)&&rt.push([ct,J[ct]]);return rt}});var o=o||{},s=this||self;function h(D){var J=typeof D;return J=="object"&&D!=null||J=="function"}function a(D,J,rt){return D.call.apply(D.bind,arguments)}function n(D,J,rt){return n=a,n.apply(null,arguments)}function u(D,J){var rt=Array.prototype.slice.call(arguments,1);return function(){var ct=rt.slice();return ct.push.apply(ct,arguments),D.apply(this,ct)}}function m(D,J){function rt(){}rt.prototype=J.prototype,D.Z=J.prototype,D.prototype=new rt,D.prototype.constructor=D,D.Ob=function(ct,Ct,Ot){for(var ie=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ie[Ye-2]=arguments[Ye];return J.prototype[Ct].apply(ct,ie)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?D=>D&&AsyncContext.Snapshot.wrap(D):D=>D;function d(D){const J=D.length;if(J>0){const rt=Array(J);for(let ct=0;ct<J;ct++)rt[ct]=D[ct];return rt}return[]}function b(D,J){for(let ct=1;ct<arguments.length;ct++){const Ct=arguments[ct];var rt=typeof Ct;if(rt=rt!="object"?rt:Ct?Array.isArray(Ct)?"array":rt:"null",rt=="array"||rt=="object"&&typeof Ct.length=="number"){rt=D.length||0;const Ot=Ct.length||0;D.length=rt+Ot;for(let ie=0;ie<Ot;ie++)D[rt+ie]=Ct[ie]}else D.push(Ct)}}class v{constructor(J,rt){this.i=J,this.j=rt,this.h=0,this.g=null}get(){let J;return this.h>0?(this.h--,J=this.g,this.g=J.next,J.next=null):J=this.i(),J}}function g(D){s.setTimeout(()=>{throw D},0)}function w(){var D=F;let J=null;return D.g&&(J=D.g,D.g=D.g.next,D.g||(D.h=null),J.next=null),J}class _{constructor(){this.h=this.g=null}add(J,rt){const ct=A.get();ct.set(J,rt),this.h?this.h.next=ct:this.g=ct,this.h=ct}}var A=new v(()=>new M,D=>D.reset());class M{constructor(){this.next=this.g=this.h=null}set(J,rt){this.h=J,this.g=rt,this.next=null}reset(){this.next=this.g=this.h=null}}let O,q=!1,F=new _,j=()=>{const D=Promise.resolve(void 0);O=()=>{D.then(V)}};function V(){for(var D;D=w();){try{D.h.call(D.g)}catch(rt){g(rt)}var J=A;J.j(D),J.h<100&&(J.h++,D.next=J.g,J.g=D)}q=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(D,J){this.type=D,this.g=this.target=J,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var H=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var D=!1,J=Object.defineProperty({},"passive",{get:function(){D=!0}});try{const rt=()=>{};s.addEventListener("test",rt,J),s.removeEventListener("test",rt,J)}catch{}return D})();function R(D){return/^[\s\xa0]*$/.test(D)}function P(D,J){X.call(this,D?D.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,D&&this.init(D,J)}m(P,X),P.prototype.init=function(D,J){const rt=this.type=D.type,ct=D.changedTouches&&D.changedTouches.length?D.changedTouches[0]:null;this.target=D.target||D.srcElement,this.g=J,J=D.relatedTarget,J||(rt=="mouseover"?J=D.fromElement:rt=="mouseout"&&(J=D.toElement)),this.relatedTarget=J,ct?(this.clientX=ct.clientX!==void 0?ct.clientX:ct.pageX,this.clientY=ct.clientY!==void 0?ct.clientY:ct.pageY,this.screenX=ct.screenX||0,this.screenY=ct.screenY||0):(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0),this.button=D.button,this.key=D.key||"",this.ctrlKey=D.ctrlKey,this.altKey=D.altKey,this.shiftKey=D.shiftKey,this.metaKey=D.metaKey,this.pointerId=D.pointerId||0,this.pointerType=D.pointerType,this.state=D.state,this.i=D,D.defaultPrevented&&P.Z.h.call(this)},P.prototype.h=function(){P.Z.h.call(this);const D=this.i;D.preventDefault?D.preventDefault():D.returnValue=!1};var k="closure_listenable_"+(Math.random()*1e6|0),x=0;function S(D,J,rt,ct,Ct){this.listener=D,this.proxy=null,this.src=J,this.type=rt,this.capture=!!ct,this.ha=Ct,this.key=++x,this.da=this.fa=!1}function T(D){D.da=!0,D.listener=null,D.proxy=null,D.src=null,D.ha=null}function E(D,J,rt){for(const ct in D)J.call(rt,D[ct],ct,D)}function N(D,J){for(const rt in D)J.call(void 0,D[rt],rt,D)}function I(D){const J={};for(const rt in D)J[rt]=D[rt];return J}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(D,J){let rt,ct;for(let Ct=1;Ct<arguments.length;Ct++){ct=arguments[Ct];for(rt in ct)D[rt]=ct[rt];for(let Ot=0;Ot<B.length;Ot++)rt=B[Ot],Object.prototype.hasOwnProperty.call(ct,rt)&&(D[rt]=ct[rt])}}function Z(D){this.src=D,this.g={},this.h=0}Z.prototype.add=function(D,J,rt,ct,Ct){const Ot=D.toString();D=this.g[Ot],D||(D=this.g[Ot]=[],this.h++);const ie=$(D,J,ct,Ct);return ie>-1?(J=D[ie],rt||(J.fa=!1)):(J=new S(J,this.src,Ot,!!ct,Ct),J.fa=rt,D.push(J)),J};function nt(D,J){const rt=J.type;if(rt in D.g){var ct=D.g[rt],Ct=Array.prototype.indexOf.call(ct,J,void 0),Ot;(Ot=Ct>=0)&&Array.prototype.splice.call(ct,Ct,1),Ot&&(T(J),D.g[rt].length==0&&(delete D.g[rt],D.h--))}}function $(D,J,rt,ct){for(let Ct=0;Ct<D.length;++Ct){const Ot=D[Ct];if(!Ot.da&&Ot.listener==J&&Ot.capture==!!rt&&Ot.ha==ct)return Ct}return-1}var tt="closure_lm_"+(Math.random()*1e6|0),U={};function L(D,J,rt,ct,Ct){if(Array.isArray(J)){for(let Ot=0;Ot<J.length;Ot++)L(D,J[Ot],rt,ct,Ct);return null}return rt=pt(rt),D&&D[k]?D.J(J,rt,h(ct)?!!ct.capture:!1,Ct):Q(D,J,rt,!1,ct,Ct)}function Q(D,J,rt,ct,Ct,Ot){if(!J)throw Error("Invalid event type");const ie=h(Ct)?!!Ct.capture:!!Ct;let Ye=yt(D);if(Ye||(D[tt]=Ye=new Z(D)),rt=Ye.add(J,rt,ct,ie,Ot),rt.proxy)return rt;if(ct=it(),rt.proxy=ct,ct.src=D,ct.listener=rt,D.addEventListener)H||(Ct=ie),Ct===void 0&&(Ct=!1),D.addEventListener(J.toString(),ct,Ct);else if(D.attachEvent)D.attachEvent(lt(J.toString()),ct);else if(D.addListener&&D.removeListener)D.addListener(ct);else throw Error("addEventListener and attachEvent are unavailable.");return rt}function it(){function D(rt){return J.call(D.src,D.listener,rt)}const J=bt;return D}function ut(D,J,rt,ct,Ct){if(Array.isArray(J))for(var Ot=0;Ot<J.length;Ot++)ut(D,J[Ot],rt,ct,Ct);else ct=h(ct)?!!ct.capture:!!ct,rt=pt(rt),D&&D[k]?(D=D.i,Ot=String(J).toString(),Ot in D.g&&(J=D.g[Ot],rt=$(J,rt,ct,Ct),rt>-1&&(T(J[rt]),Array.prototype.splice.call(J,rt,1),J.length==0&&(delete D.g[Ot],D.h--)))):D&&(D=yt(D))&&(J=D.g[J.toString()],D=-1,J&&(D=$(J,rt,ct,Ct)),(rt=D>-1?J[D]:null)&&st(rt))}function st(D){if(typeof D!="number"&&D&&!D.da){var J=D.src;if(J&&J[k])nt(J.i,D);else{var rt=D.type,ct=D.proxy;J.removeEventListener?J.removeEventListener(rt,ct,D.capture):J.detachEvent?J.detachEvent(lt(rt),ct):J.addListener&&J.removeListener&&J.removeListener(ct),(rt=yt(J))?(nt(rt,D),rt.h==0&&(rt.src=null,J[tt]=null)):T(D)}}}function lt(D){return D in U?U[D]:U[D]="on"+D}function bt(D,J){if(D.da)D=!0;else{J=new P(J,this);const rt=D.listener,ct=D.ha||D.src;D.fa&&st(D),D=rt.call(ct,J)}return D}function yt(D){return D=D[tt],D instanceof Z?D:null}var at="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(D){return typeof D=="function"?D:(D[at]||(D[at]=function(J){return D.handleEvent(J)}),D[at])}function dt(){G.call(this),this.i=new Z(this),this.M=this,this.G=null}m(dt,G),dt.prototype[k]=!0,dt.prototype.removeEventListener=function(D,J,rt,ct){ut(this,D,J,rt,ct)};function vt(D,J){var rt,ct=D.G;if(ct)for(rt=[];ct;ct=ct.G)rt.push(ct);if(D=D.M,ct=J.type||J,typeof J=="string")J=new X(J,D);else if(J instanceof X)J.target=J.target||D;else{var Ct=J;J=new X(ct,D),K(J,Ct)}Ct=!0;let Ot,ie;if(rt)for(ie=rt.length-1;ie>=0;ie--)Ot=J.g=rt[ie],Ct=xt(Ot,ct,!0,J)&&Ct;if(Ot=J.g=D,Ct=xt(Ot,ct,!0,J)&&Ct,Ct=xt(Ot,ct,!1,J)&&Ct,rt)for(ie=0;ie<rt.length;ie++)Ot=J.g=rt[ie],Ct=xt(Ot,ct,!1,J)&&Ct}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var D=this.i;for(const J in D.g){const rt=D.g[J];for(let ct=0;ct<rt.length;ct++)T(rt[ct]);delete D.g[J],D.h--}}this.G=null},dt.prototype.J=function(D,J,rt,ct){return this.i.add(String(D),J,!1,rt,ct)},dt.prototype.K=function(D,J,rt,ct){return this.i.add(String(D),J,!0,rt,ct)};function xt(D,J,rt,ct){if(J=D.i.g[String(J)],!J)return!0;J=J.concat();let Ct=!0;for(let Ot=0;Ot<J.length;++Ot){const ie=J[Ot];if(ie&&!ie.da&&ie.capture==rt){const Ye=ie.listener,$r=ie.ha||ie.src;ie.fa&&nt(D.i,ie),Ct=Ye.call($r,ct)!==!1&&Ct}}return Ct&&!ct.defaultPrevented}function wt(D,J){if(typeof D!="function")if(D&&typeof D.handleEvent=="function")D=n(D.handleEvent,D);else throw Error("Invalid listener argument");return Number(J)>2147483647?-1:s.setTimeout(D,J||0)}function jt(D){D.g=wt(()=>{D.g=null,D.i&&(D.i=!1,jt(D))},D.l);const J=D.h;D.h=null,D.m.apply(null,J)}class It extends G{constructor(J,rt){super(),this.m=J,this.l=rt,this.h=null,this.i=!1,this.g=null}j(J){this.h=arguments,this.g?this.i=!0:jt(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ht(D){G.call(this),this.h=D,this.g={}}m(Ht,G);var ee=[];function Qt(D){E(D.g,function(J,rt){this.g.hasOwnProperty(rt)&&st(J)},D),D.g={}}Ht.prototype.N=function(){Ht.Z.N.call(this),Qt(this)},Ht.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=s.JSON.stringify,be=s.JSON.parse,fe=class{stringify(D){return s.JSON.stringify(D,void 0)}parse(D){return s.JSON.parse(D,void 0)}};function de(){}function ge(){}var Zt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){X.call(this,"d")}m(Gt,X);function te(){X.call(this,"c")}m(te,X);var re={},oe=null;function Oe(){return oe=oe||new dt}re.Ia="serverreachability";function We(D){X.call(this,re.Ia,D)}m(We,X);function he(D){const J=Oe();vt(J,new We(J))}re.STAT_EVENT="statevent";function Ve(D,J){X.call(this,re.STAT_EVENT,D),this.stat=J}m(Ve,X);function ve(D){const J=Oe();vt(J,new Ve(J,D))}re.Ja="timingevent";function we(D,J){X.call(this,re.Ja,D),this.size=J}m(we,X);function ze(D,J){if(typeof D!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){D()},J)}function Ne(){this.g=!0}Ne.prototype.ua=function(){this.g=!1};function _e(D,J,rt,ct,Ct,Ot){D.info(function(){if(D.g)if(Ot){var ie="",Ye=Ot.split("&");for(let yr=0;yr<Ye.length;yr++){var $r=Ye[yr].split("=");if($r.length>1){const Pr=$r[0];$r=$r[1];const ei=Pr.split("_");ie=ei.length>=2&&ei[1]=="type"?ie+(Pr+"="+$r+"&"):ie+(Pr+"=redacted&")}}}else ie=null;else ie=Ot;return"XMLHTTP REQ ("+ct+") [attempt "+Ct+"]: "+J+`
`+rt+`
`+ie})}function He(D,J,rt,ct,Ct,Ot,ie){D.info(function(){return"XMLHTTP RESP ("+ct+") [ attempt "+Ct+"]: "+J+`
`+rt+`
`+Ot+" "+ie})}function qe(D,J,rt,ct){D.info(function(){return"XMLHTTP TEXT ("+J+"): "+Je(D,rt)+(ct?" "+ct:"")})}function Se(D,J){D.info(function(){return"TIMEOUT: "+J})}Ne.prototype.info=function(){};function Je(D,J){if(!D.g)return J;if(!J)return null;try{const Ot=JSON.parse(J);if(Ot){for(D=0;D<Ot.length;D++)if(Array.isArray(Ot[D])){var rt=Ot[D];if(!(rt.length<2)){var ct=rt[1];if(Array.isArray(ct)&&!(ct.length<1)){var Ct=ct[0];if(Ct!="noop"&&Ct!="stop"&&Ct!="close")for(let ie=1;ie<ct.length;ie++)ct[ie]=""}}}}return Kt(Ot)}catch{return J}}var Ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mt;function Tt(){}m(Tt,de),Tt.prototype.g=function(){return new XMLHttpRequest},mt=new Tt;function Dt(D){return encodeURIComponent(String(D))}function Jt(D){var J=1;D=D.split(":");const rt=[];for(;J>0&&D.length;)rt.push(D.shift()),J--;return D.length&&rt.push(D.join(":")),rt}function pe(D,J,rt,ct){this.j=D,this.i=J,this.l=rt,this.S=ct||1,this.V=new Ht(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xt}function Xt(){this.i=null,this.g="",this.h=!1}var le={},Lt={};function Yt(D,J,rt){D.M=1,D.A=An(Ee(J)),D.u=rt,D.R=!0,ue(D,null)}function ue(D,J){D.F=Date.now(),tr(D),D.B=Ee(D.A);var rt=D.B,ct=D.S;Array.isArray(ct)||(ct=[String(ct)]),Fn(rt.i,"t",ct),D.C=0,rt=D.j.L,D.h=new Xt,D.g=Wu(D.j,rt?J:null,!D.u),D.P>0&&(D.O=new It(n(D.Y,D,D.g),D.P)),J=D.V,rt=D.g,ct=D.ba;var Ct="readystatechange";Array.isArray(Ct)||(Ct&&(ee[0]=Ct.toString()),Ct=ee);for(let Ot=0;Ot<Ct.length;Ot++){const ie=L(rt,Ct[Ot],ct||J.handleEvent,!1,J.h||J);if(!ie)break;J.g[ie.key]=ie}J=D.J?I(D.J):{},D.u?(D.v||(D.v="POST"),J["Content-Type"]="application/x-www-form-urlencoded",D.g.ea(D.B,D.v,D.u,J)):(D.v="GET",D.g.ea(D.B,D.v,null,J)),he(),_e(D.i,D.v,D.B,D.l,D.S,D.u)}pe.prototype.ba=function(D){D=D.target;const J=this.O;J&&yi(D)==3?J.j():this.Y(D)},pe.prototype.Y=function(D){try{if(D==this.g)t:{const Ye=yi(this.g),$r=this.g.ya(),yr=this.g.ca();if(!(Ye<3)&&(Ye!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||Ye!=4||$r==7||($r==8||yr<=0?he(3):he(2)),dr(this);var J=this.g.ca();this.X=J;var rt=se(this);if(this.o=J==200,He(this.i,this.v,this.B,this.l,this.S,Ye,J),this.o){if(this.U&&!this.L){e:{if(this.g){var ct,Ct=this.g;if((ct=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(ct)){var Ot=ct;break e}}Ot=null}if(D=Ot)qe(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ft(this,D);else{this.o=!1,this.m=3,ve(12),ht(this),_r(this);break t}}if(this.R){D=!0;let Pr;for(;!this.K&&this.C<rt.length;)if(Pr=br(this,rt),Pr==Lt){Ye==4&&(this.m=4,ve(14),D=!1),qe(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==le){this.m=4,ve(15),qe(this.i,this.l,rt,"[Invalid Chunk]"),D=!1;break}else qe(this.i,this.l,Pr,null),ft(this,Pr);if(ke(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ye!=4||rt.length!=0||this.h.h||(this.m=1,ve(16),D=!1),this.o=this.o&&D,!D)qe(this.i,this.l,rt,"[Invalid Chunked Response]"),ht(this),_r(this);else if(rt.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+rt.length),gl(ie),ie.P=!0,ve(11))}}else qe(this.i,this.l,rt,null),ft(this,rt);Ye==4&&ht(this),this.o&&!this.K&&(Ye==4?Hu(this.j,this):(this.o=!1,tr(this)))}else Zi(this.g),J==400&&rt.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),ht(this),_r(this)}}}catch{}};function se(D){if(!ke(D))return D.g.la();const J=hn(D.g);if(J==="")return"";let rt="";const ct=J.length,Ct=yi(D.g)==4;if(!D.h.i){if(typeof TextDecoder>"u")return ht(D),_r(D),"";D.h.i=new s.TextDecoder}for(let Ot=0;Ot<ct;Ot++)D.h.h=!0,rt+=D.h.i.decode(J[Ot],{stream:!(Ct&&Ot==ct-1)});return J.length=0,D.h.g+=rt,D.C=0,D.h.g}function ke(D){return D.g?D.v=="GET"&&D.M!=2&&D.j.Aa:!1}function br(D,J){var rt=D.C,ct=J.indexOf(`
`,rt);return ct==-1?Lt:(rt=Number(J.substring(rt,ct)),isNaN(rt)?le:(ct+=1,ct+rt>J.length?Lt:(J=J.slice(ct,ct+rt),D.C=ct+rt,J)))}pe.prototype.cancel=function(){this.K=!0,ht(this)};function tr(D){D.T=Date.now()+D.H,Tr(D,D.H)}function Tr(D,J){if(D.D!=null)throw Error("WatchDog timer not null");D.D=ze(n(D.aa,D),J)}function dr(D){D.D&&(s.clearTimeout(D.D),D.D=null)}pe.prototype.aa=function(){this.D=null;const D=Date.now();D-this.T>=0?(Se(this.i,this.B),this.M!=2&&(he(),ve(17)),ht(this),this.m=2,_r(this)):Tr(this,this.T-D)};function _r(D){D.j.I==0||D.K||Hu(D.j,D)}function ht(D){dr(D);var J=D.O;J&&typeof J.dispose=="function"&&J.dispose(),D.O=null,Qt(D.V),D.g&&(J=D.g,D.g=null,J.abort(),J.dispose())}function ft(D,J){try{var rt=D.j;if(rt.I!=0&&(rt.g==D||qt(rt.h,D))){if(!D.L&&qt(rt.h,D)&&rt.I==3){try{var ct=rt.Ba.g.parse(J)}catch{ct=null}if(Array.isArray(ct)&&ct.length==3){var Ct=ct;if(Ct[0]==0){t:if(!rt.v){if(rt.g)if(rt.g.F+3e3<D.F)oo(rt),Rs(rt);else break t;Ea(rt),ve(18)}}else rt.xa=Ct[1],0<rt.xa-rt.K&&Ct[2]<37500&&rt.F&&rt.A==0&&!rt.C&&(rt.C=ze(n(rt.Va,rt),6e3));zt(rt.h)<=1&&rt.ta&&(rt.ta=void 0)}else Pi(rt,11)}else if((D.L||rt.g==D)&&oo(rt),!R(J))for(Ct=rt.Ba.g.parse(J),J=0;J<Ct.length;J++){let yr=Ct[J];const Pr=yr[0];if(!(Pr<=rt.K))if(rt.K=Pr,yr=yr[1],rt.I==2)if(yr[0]=="c"){rt.M=yr[1],rt.ba=yr[2];const ei=yr[3];ei!=null&&(rt.ka=ei,rt.j.info("VER="+rt.ka));const Li=yr[4];Li!=null&&(rt.za=Li,rt.j.info("SVER="+rt.za));const vi=yr[5];vi!=null&&typeof vi=="number"&&vi>0&&(ct=1.5*vi,rt.O=ct,rt.j.info("backChannelRequestTimeoutMs_="+ct)),ct=rt;const wi=D.g;if(wi){const Aa=wi.g?wi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var Ot=ct.h;Ot.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(Ot.j=Ot.l,Ot.g=new Set,Ot.h&&(Ie(Ot,Ot.h),Ot.h=null))}if(ct.G){const lo=wi.g?wi.g.getResponseHeader("X-HTTP-Session-Id"):null;lo&&(ct.wa=lo,Qe(ct.J,ct.G,lo))}}rt.I=3,rt.l&&rt.l.ra(),rt.aa&&(rt.T=Date.now()-D.F,rt.j.info("Handshake RTT: "+rt.T+"ms")),ct=rt;var ie=D;if(ct.na=Gu(ct,ct.L?ct.ba:null,ct.W),ie.L){ae(ct.h,ie);var Ye=ie,$r=ct.O;$r&&(Ye.H=$r),Ye.D&&(dr(Ye),tr(Ye)),ct.g=ie}else Uu(ct);rt.i.length>0&&Di(rt)}else yr[0]!="stop"&&yr[0]!="close"||Pi(rt,7);else rt.I==3&&(yr[0]=="stop"||yr[0]=="close"?yr[0]=="stop"?Pi(rt,7):pl(rt):yr[0]!="noop"&&rt.l&&rt.l.qa(yr),rt.A=0)}}he(4)}catch{}}var St=class{constructor(D,J){this.g=D,this.map=J}};function Mt(D){this.l=D||10,s.PerformanceNavigationTiming?(D=s.performance.getEntriesByType("navigation"),D=D.length>0&&(D[0].nextHopProtocol=="hq"||D[0].nextHopProtocol=="h2")):D=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=D?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wt(D){return D.h?!0:D.g?D.g.size>=D.j:!1}function zt(D){return D.h?1:D.g?D.g.size:0}function qt(D,J){return D.h?D.h==J:D.g?D.g.has(J):!1}function Ie(D,J){D.g?D.g.add(J):D.h=J}function ae(D,J){D.h&&D.h==J?D.h=null:D.g&&D.g.has(J)&&D.g.delete(J)}Mt.prototype.cancel=function(){if(this.i=xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const D of this.g.values())D.cancel();this.g.clear()}};function xe(D){if(D.h!=null)return D.i.concat(D.h.G);if(D.g!=null&&D.g.size!==0){let J=D.i;for(const rt of D.g.values())J=J.concat(rt.G);return J}return d(D.i)}var ne=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ae(D,J){if(D){D=D.split("&");for(let rt=0;rt<D.length;rt++){const ct=D[rt].indexOf("=");let Ct,Ot=null;ct>=0?(Ct=D[rt].substring(0,ct),Ot=D[rt].substring(ct+1)):Ct=D[rt],J(Ct,Ot?decodeURIComponent(Ot.replace(/\+/g," ")):"")}}}function Be(D){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let J;D instanceof Be?(this.l=D.l,Ue(this,D.j),this.o=D.o,this.g=D.g,Rr(this,D.u),this.h=D.h,Hr(this,Hn(D.i)),this.m=D.m):D&&(J=String(D).match(ne))?(this.l=!1,Ue(this,J[1]||"",!0),this.o=un(J[2]||""),this.g=un(J[3]||"",!0),Rr(this,J[4]),this.h=un(J[5]||"",!0),Hr(this,J[6]||"",!0),this.m=un(J[7]||"")):(this.l=!1,this.i=new Vr(null,this.l))}Be.prototype.toString=function(){const D=[];var J=this.j;J&&D.push(Nn(J,nr,!0),":");var rt=this.g;return(rt||J=="file")&&(D.push("//"),(J=this.o)&&D.push(Nn(J,nr,!0),"@"),D.push(Dt(rt).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),rt=this.u,rt!=null&&D.push(":",String(rt))),(rt=this.h)&&(this.g&&rt.charAt(0)!="/"&&D.push("/"),D.push(Nn(rt,rt.charAt(0)=="/"?In:rr,!0))),(rt=this.i.toString())&&D.push("?",rt),(rt=this.m)&&D.push("#",Nn(rt,Ki)),D.join("")},Be.prototype.resolve=function(D){const J=Ee(this);let rt=!!D.j;rt?Ue(J,D.j):rt=!!D.o,rt?J.o=D.o:rt=!!D.g,rt?J.g=D.g:rt=D.u!=null;var ct=D.h;if(rt)Rr(J,D.u);else if(rt=!!D.h){if(ct.charAt(0)!="/")if(this.g&&!this.h)ct="/"+ct;else{var Ct=J.h.lastIndexOf("/");Ct!=-1&&(ct=J.h.slice(0,Ct+1)+ct)}if(Ct=ct,Ct==".."||Ct==".")ct="";else if(Ct.indexOf("./")!=-1||Ct.indexOf("/.")!=-1){ct=Ct.lastIndexOf("/",0)==0,Ct=Ct.split("/");const Ot=[];for(let ie=0;ie<Ct.length;){const Ye=Ct[ie++];Ye=="."?ct&&ie==Ct.length&&Ot.push(""):Ye==".."?((Ot.length>1||Ot.length==1&&Ot[0]!="")&&Ot.pop(),ct&&ie==Ct.length&&Ot.push("")):(Ot.push(Ye),ct=!0)}ct=Ot.join("/")}else ct=Ct}return rt?J.h=ct:rt=D.i.toString()!=="",rt?Hr(J,Hn(D.i)):rt=!!D.m,rt&&(J.m=D.m),J};function Ee(D){return new Be(D)}function Ue(D,J,rt){D.j=rt?un(J,!0):J,D.j&&(D.j=D.j.replace(/:$/,""))}function Rr(D,J){if(J){if(J=Number(J),isNaN(J)||J<0)throw Error("Bad port number "+J);D.u=J}else D.u=null}function Hr(D,J,rt){J instanceof Vr?(D.i=J,mi(D.i,D.l)):(rt||(J=Nn(J,vn)),D.i=new Vr(J,D.l))}function Qe(D,J,rt){D.i.set(J,rt)}function An(D){return Qe(D,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),D}function un(D,J){return D?J?decodeURI(D.replace(/%25/g,"%2525")):decodeURIComponent(D):""}function Nn(D,J,rt){return typeof D=="string"?(D=encodeURI(D).replace(J,qr),rt&&(D=D.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D):null}function qr(D){return D=D.charCodeAt(0),"%"+(D>>4&15).toString(16)+(D&15).toString(16)}var nr=/[#\/\?@]/g,rr=/[#\?:]/g,In=/[#\?]/g,vn=/[#\?@]/g,Ki=/#/g;function Vr(D,J){this.h=this.g=null,this.i=D||null,this.j=!!J}function Dr(D){D.g||(D.g=new Map,D.h=0,D.i&&Ae(D.i,function(J,rt){D.add(decodeURIComponent(J.replace(/\+/g," ")),rt)}))}p=Vr.prototype,p.add=function(D,J){Dr(this),this.i=null,D=pi(this,D);let rt=this.g.get(D);return rt||this.g.set(D,rt=[]),rt.push(J),this.h+=1,this};function Un(D,J){Dr(D),J=pi(D,J),D.g.has(J)&&(D.i=null,D.h-=D.g.get(J).length,D.g.delete(J))}function di(D,J){return Dr(D),J=pi(D,J),D.g.has(J)}p.forEach=function(D,J){Dr(this),this.g.forEach(function(rt,ct){rt.forEach(function(Ct){D.call(J,Ct,ct,this)},this)},this)};function Ni(D,J){Dr(D);let rt=[];if(typeof J=="string")di(D,J)&&(rt=rt.concat(D.g.get(pi(D,J))));else for(D=Array.from(D.g.values()),J=0;J<D.length;J++)rt=rt.concat(D[J]);return rt}p.set=function(D,J){return Dr(this),this.i=null,D=pi(this,D),di(this,D)&&(this.h-=this.g.get(D).length),this.g.set(D,[J]),this.h+=1,this},p.get=function(D,J){return D?(D=Ni(this,D),D.length>0?String(D[0]):J):J};function Fn(D,J,rt){Un(D,J),rt.length>0&&(D.i=null,D.g.set(pi(D,J),d(rt)),D.h+=rt.length)}p.toString=function(){if(this.i)return this.i;if(!this.g)return"";const D=[],J=Array.from(this.g.keys());for(let ct=0;ct<J.length;ct++){var rt=J[ct];const Ct=Dt(rt);rt=Ni(this,rt);for(let Ot=0;Ot<rt.length;Ot++){let ie=Ct;rt[Ot]!==""&&(ie+="="+Dt(rt[Ot])),D.push(ie)}}return this.i=D.join("&")};function Hn(D){const J=new Vr;return J.i=D.i,D.g&&(J.g=new Map(D.g),J.h=D.h),J}function pi(D,J){return J=String(J),D.j&&(J=J.toLowerCase()),J}function mi(D,J){J&&!D.j&&(Dr(D),D.i=null,D.g.forEach(function(rt,ct){const Ct=ct.toLowerCase();ct!=Ct&&(Un(this,ct),Fn(this,Ct,rt))},D)),D.j=J}function Cn(D,J){const rt=new Ne;if(s.Image){const ct=new Image;ct.onload=u(cn,rt,"TestLoadImage: loaded",!0,J,ct),ct.onerror=u(cn,rt,"TestLoadImage: error",!1,J,ct),ct.onabort=u(cn,rt,"TestLoadImage: abort",!1,J,ct),ct.ontimeout=u(cn,rt,"TestLoadImage: timeout",!1,J,ct),s.setTimeout(function(){ct.ontimeout&&ct.ontimeout()},1e4),ct.src=D}else J(!1)}function Ii(D,J){const rt=new Ne,ct=new AbortController,Ct=setTimeout(()=>{ct.abort(),cn(rt,"TestPingServer: timeout",!1,J)},1e4);fetch(D,{signal:ct.signal}).then(Ot=>{clearTimeout(Ct),Ot.ok?cn(rt,"TestPingServer: ok",!0,J):cn(rt,"TestPingServer: server error",!1,J)}).catch(()=>{clearTimeout(Ct),cn(rt,"TestPingServer: error",!1,J)})}function cn(D,J,rt,ct,Ct){try{Ct&&(Ct.onload=null,Ct.onerror=null,Ct.onabort=null,Ct.ontimeout=null),ct(rt)}catch{}}function gi(){this.g=new fe}function kn(D){this.i=D.Sb||null,this.h=D.ab||!1}m(kn,de),kn.prototype.g=function(){return new Jn(this.i,this.h)};function Jn(D,J){dt.call(this),this.H=D,this.o=J,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Jn,dt),p=Jn.prototype,p.open=function(D,J){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=D,this.D=J,this.readyState=1,bi(this)},p.send=function(D){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const J={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};D&&(J.body=D),(this.H||s).fetch(new Request(this.D,J)).then(this.Pa.bind(this),this.ga.bind(this))},p.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cs(this)),this.readyState=0},p.Pa=function(D){if(this.g&&(this.l=D,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=D.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")D.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in D){if(this.j=D.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else D.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(D){D.j.read().then(D.Ma.bind(D)).catch(D.ga.bind(D))}p.Ma=function(D){if(this.g){if(this.o&&D.value)this.response.push(D.value);else if(!this.o){var J=D.value?D.value:new Uint8Array(0);(J=this.B.decode(J,{stream:!D.done}))&&(this.response=this.responseText+=J)}D.done?Cs(this):bi(this),this.readyState==3&&io(this)}},p.Oa=function(D){this.g&&(this.response=this.responseText=D,Cs(this))},p.Na=function(D){this.g&&(this.response=D,Cs(this))},p.ga=function(){this.g&&Cs(this)};function Cs(D){D.readyState=4,D.l=null,D.j=null,D.B=null,bi(D)}p.setRequestHeader=function(D,J){this.A.append(D,J)},p.getResponseHeader=function(D){return this.h&&this.h.get(D.toLowerCase())||""},p.getAllResponseHeaders=function(){if(!this.h)return"";const D=[],J=this.h.entries();for(var rt=J.next();!rt.done;)rt=rt.value,D.push(rt[0]+": "+rt[1]),rt=J.next();return D.join(`\r
`)};function bi(D){D.onreadystatechange&&D.onreadystatechange.call(D)}Object.defineProperty(Jn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(D){this.m=D?"include":"same-origin"}});function ti(D){let J="";return E(D,function(rt,ct){J+=ct,J+=":",J+=rt,J+=`\r
`}),J}function _a(D,J,rt){t:{for(ct in rt){var ct=!1;break t}ct=!0}ct||(rt=ti(rt),typeof D=="string"?rt!=null&&Dt(rt):Qe(D,J,rt))}function Er(D){dt.call(this),this.headers=new Map,this.L=D||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Er,dt);var ji=/^https?$/i,fl=["POST","PUT"];p=Er.prototype,p.Fa=function(D){this.H=D},p.ea=function(D,J,rt,ct){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+D);J=J?J.toUpperCase():"GET",this.D=D,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mt.g(),this.g.onreadystatechange=f(n(this.Ca,this));try{this.B=!0,this.g.open(J,String(D),!0),this.B=!1}catch(Ot){xa(this,Ot);return}if(D=rt||"",rt=new Map(this.headers),ct)if(Object.getPrototypeOf(ct)===Object.prototype)for(var Ct in ct)rt.set(Ct,ct[Ct]);else if(typeof ct.keys=="function"&&typeof ct.get=="function")for(const Ot of ct.keys())rt.set(Ot,ct.get(Ot));else throw Error("Unknown input type for opt_headers: "+String(ct));ct=Array.from(rt.keys()).find(Ot=>Ot.toLowerCase()=="content-type"),Ct=s.FormData&&D instanceof s.FormData,!(Array.prototype.indexOf.call(fl,J,void 0)>=0)||ct||Ct||rt.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ot,ie]of rt)this.g.setRequestHeader(Ot,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(D),this.v=!1}catch(Ot){xa(this,Ot)}};function xa(D,J){D.h=!1,D.g&&(D.j=!0,D.g.abort(),D.j=!1),D.l=J,D.o=5,dl(D),Qi(D)}function dl(D){D.A||(D.A=!0,vt(D,"complete"),vt(D,"error"))}p.abort=function(D){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=D||7,vt(this,"complete"),vt(this,"abort"),Qi(this))},p.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),Er.Z.N.call(this)},p.Ca=function(){this.u||(this.B||this.v||this.j?Sa(this):this.Xa())},p.Xa=function(){Sa(this)};function Sa(D){if(D.h&&typeof o<"u"){if(D.v&&yi(D)==4)setTimeout(D.Ca.bind(D),0);else if(vt(D,"readystatechange"),yi(D)==4){D.h=!1;try{const Ot=D.ca();t:switch(Ot){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var J=!0;break t;default:J=!1}var rt;if(!(rt=J)){var ct;if(ct=Ot===0){let ie=String(D.D).match(ne)[1]||null;!ie&&s.self&&s.self.location&&(ie=s.self.location.protocol.slice(0,-1)),ct=!ji.test(ie?ie.toLowerCase():"")}rt=ct}if(rt)vt(D,"complete"),vt(D,"success");else{D.o=6;try{var Ct=yi(D)>2?D.g.statusText:""}catch{Ct=""}D.l=Ct+" ["+D.ca()+"]",dl(D)}}finally{Qi(D)}}}}function Qi(D,J){if(D.g){D.m&&(clearTimeout(D.m),D.m=null);const rt=D.g;D.g=null,J||vt(D,"ready");try{rt.onreadystatechange=null}catch{}}}p.isActive=function(){return!!this.g};function yi(D){return D.g?D.g.readyState:0}p.ca=function(){try{return yi(this)>2?this.g.status:-1}catch{return-1}},p.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},p.La=function(D){if(this.g){var J=this.g.responseText;return D&&J.indexOf(D)==0&&(J=J.substring(D.length)),be(J)}};function hn(D){try{if(!D.g)return null;if("response"in D.g)return D.g.response;switch(D.F){case"":case"text":return D.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in D.g)return D.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(D){const J={};D=(D.g&&yi(D)>=2&&D.g.getAllResponseHeaders()||"").split(`\r
`);for(let ct=0;ct<D.length;ct++){if(R(D[ct]))continue;var rt=Jt(D[ct]);const Ct=rt[0];if(rt=rt[1],typeof rt!="string")continue;rt=rt.trim();const Ot=J[Ct]||[];J[Ct]=Ot,Ot.push(rt)}N(J,function(ct){return ct.join(", ")})}p.ya=function(){return this.o},p.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(D,J,rt){return rt&&rt.internalChannelParams&&rt.internalChannelParams[D]||J}function ks(D){this.za=0,this.i=[],this.j=new Ne,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,D),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,D),this.Za=Oi("retryDelaySeedMs",1e4,D),this.Ta=Oi("forwardChannelMaxRetries",2,D),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,D),this.ma=D&&D.xmlHttpFactory||void 0,this.Ua=D&&D.Rb||void 0,this.Aa=D&&D.useFetchStreams||!1,this.O=void 0,this.L=D&&D.supportsCrossDomainXhr||!1,this.M="",this.h=new Mt(D&&D.concurrentRequestLimit),this.Ba=new gi,this.S=D&&D.fastHandshake||!1,this.R=D&&D.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=D&&D.Pb||!1,D&&D.ua&&this.j.ua(),D&&D.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&D&&D.detectBufferingProxy||!1,this.ia=void 0,D&&D.longPollingTimeout&&D.longPollingTimeout>0&&(this.ia=D.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}p=ks.prototype,p.ka=8,p.I=1,p.connect=function(D,J,rt,ct){ve(0),this.W=D,this.H=J||{},rt&&ct!==void 0&&(this.H.OSID=rt,this.H.OAID=ct),this.F=this.X,this.J=Gu(this,null,this.W),Di(this)};function pl(D){if(so(D),D.I==3){var J=D.V++,rt=Ee(D.J);if(Qe(rt,"SID",D.M),Qe(rt,"RID",J),Qe(rt,"TYPE","terminate"),Ta(D,rt),J=new pe(D,D.j,J),J.M=2,J.A=An(Ee(rt)),rt=!1,s.navigator&&s.navigator.sendBeacon)try{rt=s.navigator.sendBeacon(J.A.toString(),"")}catch{}!rt&&s.Image&&(new Image().src=J.A,rt=!0),rt||(J.g=Wu(J.j,null),J.g.ea(J.A)),J.F=Date.now(),tr(J)}$u(D)}function Rs(D){D.g&&(gl(D),D.g.cancel(),D.g=null)}function so(D){Rs(D),D.v&&(s.clearTimeout(D.v),D.v=null),oo(D),D.h.cancel(),D.m&&(typeof D.m=="number"&&s.clearTimeout(D.m),D.m=null)}function Di(D){if(!Wt(D.h)&&!D.m){D.m=!0;var J=D.Ea;O||j(),q||(O(),q=!0),F.add(J,D),D.D=0}}function ao(D,J){return zt(D.h)>=D.h.j-(D.m?1:0)?!1:D.m?(D.i=J.G.concat(D.i),!0):D.I==1||D.I==2||D.D>=(D.Sa?0:D.Ta)?!1:(D.m=ze(n(D.Ea,D,J),qu(D,D.D)),D.D++,!0)}p.Ea=function(D){if(this.m)if(this.m=null,this.I==1){if(!D){this.V=Math.floor(Math.random()*1e5),D=this.V++;const Ct=new pe(this,this.j,D);let Ot=this.o;if(this.U&&(Ot?(Ot=I(Ot),K(Ot,this.U)):Ot=this.U),this.u!==null||this.R||(Ct.J=Ot,Ot=null),this.S)t:{for(var J=0,rt=0;rt<this.i.length;rt++){e:{var ct=this.i[rt];if("__data__"in ct.map&&(ct=ct.map.__data__,typeof ct=="string")){ct=ct.length;break e}ct=void 0}if(ct===void 0)break;if(J+=ct,J>4096){J=rt;break t}if(J===4096||rt===this.i.length-1){J=rt+1;break t}}J=1e3}else J=1e3;J=zu(this,Ct,J),rt=Ee(this.J),Qe(rt,"RID",D),Qe(rt,"CVER",22),this.G&&Qe(rt,"X-HTTP-Session-Id",this.G),Ta(this,rt),Ot&&(this.R?J="headers="+Dt(ti(Ot))+"&"+J:this.u&&_a(rt,this.u,Ot)),Ie(this.h,Ct),this.Ra&&Qe(rt,"TYPE","init"),this.S?(Qe(rt,"$req",J),Qe(rt,"SID","null"),Ct.U=!0,Yt(Ct,rt,null)):Yt(Ct,rt,J),this.I=2}}else this.I==3&&(D?ml(this,D):this.i.length==0||Wt(this.h)||ml(this))};function ml(D,J){var rt;J?rt=J.l:rt=D.V++;const ct=Ee(D.J);Qe(ct,"SID",D.M),Qe(ct,"RID",rt),Qe(ct,"AID",D.K),Ta(D,ct),D.u&&D.o&&_a(ct,D.u,D.o),rt=new pe(D,D.j,rt,D.D+1),D.u===null&&(rt.J=D.o),J&&(D.i=J.G.concat(D.i)),J=zu(D,rt,1e3),rt.H=Math.round(D.va*.5)+Math.round(D.va*.5*Math.random()),Ie(D.h,rt),Yt(rt,ct,J)}function Ta(D,J){D.H&&E(D.H,function(rt,ct){Qe(J,ct,rt)}),D.l&&E({},function(rt,ct){Qe(J,ct,rt)})}function zu(D,J,rt){rt=Math.min(D.i.length,rt);const ct=D.l?n(D.l.Ka,D.l,D):null;t:{var Ct=D.i;let Ye=-1;for(;;){const $r=["count="+rt];Ye==-1?rt>0?(Ye=Ct[0].g,$r.push("ofs="+Ye)):Ye=0:$r.push("ofs="+Ye);let yr=!0;for(let Pr=0;Pr<rt;Pr++){var Ot=Ct[Pr].g;const ei=Ct[Pr].map;if(Ot-=Ye,Ot<0)Ye=Math.max(0,Ct[Pr].g-100),yr=!1;else try{Ot="req"+Ot+"_"||"";try{var ie=ei instanceof Map?ei:Object.entries(ei);for(const[Li,vi]of ie){let wi=vi;h(vi)&&(wi=Kt(vi)),$r.push(Ot+Li+"="+encodeURIComponent(wi))}}catch(Li){throw $r.push(Ot+"type="+encodeURIComponent("_badmap")),Li}}catch{ct&&ct(ei)}}if(yr){ie=$r.join("&");break t}}ie=void 0}return D=D.i.splice(0,rt),J.G=D,ie}function Uu(D){if(!D.g&&!D.v){D.Y=1;var J=D.Da;O||j(),q||(O(),q=!0),F.add(J,D),D.A=0}}function Ea(D){return D.g||D.v||D.A>=3?!1:(D.Y++,D.v=ze(n(D.Da,D),qu(D,D.A)),D.A++,!0)}p.Da=function(){if(this.v=null,Fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var D=4*this.T;this.j.info("BP detection timer enabled: "+D),this.B=ze(n(this.Wa,this),D)}},p.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Rs(this),Fu(this))};function gl(D){D.B!=null&&(s.clearTimeout(D.B),D.B=null)}function Fu(D){D.g=new pe(D,D.j,"rpc",D.Y),D.u===null&&(D.g.J=D.o),D.g.P=0;var J=Ee(D.na);Qe(J,"RID","rpc"),Qe(J,"SID",D.M),Qe(J,"AID",D.K),Qe(J,"CI",D.F?"0":"1"),!D.F&&D.ia&&Qe(J,"TO",D.ia),Qe(J,"TYPE","xmlhttp"),Ta(D,J),D.u&&D.o&&_a(J,D.u,D.o),D.O&&(D.g.H=D.O);var rt=D.g;D=D.ba,rt.M=1,rt.A=An(Ee(J)),rt.u=null,rt.R=!0,ue(rt,D)}p.Va=function(){this.C!=null&&(this.C=null,Rs(this),Ea(this),ve(19))};function oo(D){D.C!=null&&(s.clearTimeout(D.C),D.C=null)}function Hu(D,J){var rt=null;if(D.g==J){oo(D),gl(D),D.g=null;var ct=2}else if(qt(D.h,J))rt=J.G,ae(D.h,J),ct=1;else return;if(D.I!=0){if(J.o)if(ct==1){rt=J.u?J.u.length:0,J=Date.now()-J.F;var Ct=D.D;ct=Oe(),vt(ct,new we(ct,rt)),Di(D)}else Uu(D);else if(Ct=J.m,Ct==3||Ct==0&&J.X>0||!(ct==1&&ao(D,J)||ct==2&&Ea(D)))switch(rt&&rt.length>0&&(J=D.h,J.i=J.i.concat(rt)),Ct){case 1:Pi(D,5);break;case 4:Pi(D,10);break;case 3:Pi(D,6);break;default:Pi(D,2)}}}function qu(D,J){let rt=D.Qa+Math.floor(Math.random()*D.Za);return D.isActive()||(rt*=2),rt*J}function Pi(D,J){if(D.j.info("Error code "+J),J==2){var rt=n(D.bb,D),ct=D.Ua;const Ct=!ct;ct=new Be(ct||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ue(ct,"https"),An(ct),Ct?Cn(ct.toString(),rt):Ii(ct.toString(),rt)}else ve(2);D.I=0,D.l&&D.l.pa(J),$u(D),so(D)}p.bb=function(D){D?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function $u(D){if(D.I=0,D.ja=[],D.l){const J=xe(D.h);(J.length!=0||D.i.length!=0)&&(b(D.ja,J),b(D.ja,D.i),D.h.i.length=0,d(D.i),D.i.length=0),D.l.oa()}}function Gu(D,J,rt){var ct=rt instanceof Be?Ee(rt):new Be(rt);if(ct.g!="")J&&(ct.g=J+"."+ct.g),Rr(ct,ct.u);else{var Ct=s.location;ct=Ct.protocol,J=J?J+"."+Ct.hostname:Ct.hostname,Ct=+Ct.port;const Ot=new Be(null);ct&&Ue(Ot,ct),J&&(Ot.g=J),Ct&&Rr(Ot,Ct),rt&&(Ot.h=rt),ct=Ot}return rt=D.G,J=D.wa,rt&&J&&Qe(ct,rt,J),Qe(ct,"VER",D.ka),Ta(D,ct),ct}function Wu(D,J,rt){if(J&&!D.L)throw Error("Can't create secondary domain capable XhrIo object.");return J=D.Aa&&!D.ma?new Er(new kn({ab:rt})):new Er(D.ma),J.Fa(D.L),J}p.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}p=Yu.prototype,p.ra=function(){},p.qa=function(){},p.pa=function(){},p.oa=function(){},p.isActive=function(){return!0},p.Ka=function(){};function Ms(){}Ms.prototype.g=function(D,J){return new Rn(D,J)};function Rn(D,J){dt.call(this),this.g=new ks(J),this.l=D,this.h=J&&J.messageUrlParams||null,D=J&&J.messageHeaders||null,J&&J.clientProtocolHeaderRequired&&(D?D["X-Client-Protocol"]="webchannel":D={"X-Client-Protocol":"webchannel"}),this.g.o=D,D=J&&J.initMessageHeaders||null,J&&J.messageContentType&&(D?D["X-WebChannel-Content-Type"]=J.messageContentType:D={"X-WebChannel-Content-Type":J.messageContentType}),J&&J.sa&&(D?D["X-WebChannel-Client-Profile"]=J.sa:D={"X-WebChannel-Client-Profile":J.sa}),this.g.U=D,(D=J&&J.Qb)&&!R(D)&&(this.g.u=D),this.A=J&&J.supportsCrossDomainXhr||!1,this.v=J&&J.sendRawJson||!1,(J=J&&J.httpSessionIdParam)&&!R(J)&&(this.g.G=J,D=this.h,D!==null&&J in D&&(D=this.h,J in D&&delete D[J])),this.j=new Ji(this)}m(Rn,dt),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rn.prototype.close=function(){pl(this.g)},Rn.prototype.o=function(D){var J=this.g;if(typeof D=="string"){var rt={};rt.__data__=D,D=rt}else this.v&&(rt={},rt.__data__=Kt(D),D=rt);J.i.push(new St(J.Ya++,D)),J.I==3&&Di(J)},Rn.prototype.N=function(){this.g.l=null,delete this.j,pl(this.g),delete this.g,Rn.Z.N.call(this)};function Xu(D){Gt.call(this),D.__headers__&&(this.headers=D.__headers__,this.statusCode=D.__status__,delete D.__headers__,delete D.__status__);var J=D.__sm__;if(J){t:{for(const rt in J){D=rt;break t}D=void 0}(this.i=D)&&(D=this.i,J=J!==null&&D in J?J[D]:void 0),this.data=J}else this.data=D}m(Xu,Gt);function Ku(){te.call(this),this.status=1}m(Ku,te);function Ji(D){this.g=D}m(Ji,Yu),Ji.prototype.ra=function(){vt(this.g,"a")},Ji.prototype.qa=function(D){vt(this.g,new Xu(D))},Ji.prototype.pa=function(D){vt(this.g,new Ku)},Ji.prototype.oa=function(){vt(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,Rn.prototype.send=Rn.prototype.o,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,Mv=function(){return new Ms},Rv=function(){return Oe()},kv=re,kp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,oh=Ke,Ce.COMPLETE="complete",Cv=Ce,ge.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",dt.prototype.listen=dt.prototype.J,iu=ge,Er.prototype.listenOnce=Er.prototype.K,Er.prototype.getLastError=Er.prototype.Ha,Er.prototype.getLastErrorCode=Er.prototype.ya,Er.prototype.getStatus=Er.prototype.ca,Er.prototype.getResponseJson=Er.prototype.La,Er.prototype.getResponseText=Er.prototype.la,Er.prototype.send=Er.prototype.ea,Er.prototype.setWithCredentials=Er.prototype.Fa,Av=Er}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");let al="12.9.0";function b3(p){al=p}const Ka=new Zp("@firebase/firestore");function Uo(){return Ka.logLevel}function me(p,...e){if(Ka.logLevel<=lr.DEBUG){const t=e.map(rm);Ka.debug(`Firestore (${al}): ${p}`,...t)}}function xs(p,...e){if(Ka.logLevel<=lr.ERROR){const t=e.map(rm);Ka.error(`Firestore (${al}): ${p}`,...t)}}function Qa(p,...e){if(Ka.logLevel<=lr.WARN){const t=e.map(rm);Ka.warn(`Firestore (${al}): ${p}`,...t)}}function rm(p){if(typeof p=="string")return p;try{return(function(t){return JSON.stringify(t)})(p)}catch{return p}}function Le(p,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Nv(p,i,t)}function Nv(p,e,t){let i=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: ${e} (ID: ${p.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw xs(i),new Error(i)}function wr(p,e,t,i){let c="Unexpected state";typeof t=="string"?c=t:i=t,p||Nv(e,c,i)}function Ge(p,e){return p}const Ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends As{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Iv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Sn.UNAUTHENTICATED)))}shutdown(){}}class v3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class w3{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){wr(this.o===void 0,42304);let i=this.i;const c=a=>this.i!==i?(i=this.i,t(a)):Promise.resolve();let o=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ys,e.enqueueRetryable((()=>c(this.currentUser)))};const s=()=>{const a=o;e.enqueueRetryable((async()=>{await a.promise,await c(this.currentUser)}))},h=a=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((a=>h(a))),setTimeout((()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?h(a):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ys)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(wr(typeof i.accessToken=="string",31837,{l:i}),new Iv(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wr(e===null||typeof e=="string",2055,{h:e}),new Sn(e)}}class _3{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class x3{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new _3(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class B1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S3{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){wr(this.o===void 0,3512);const i=o=>{o.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const c=o=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>c(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?c(o):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new B1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(wr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new B1(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function T3(p){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(p);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<p;i++)t[i]=Math.floor(256*Math.random());return t}class nm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const c=T3(40);for(let o=0;o<c.length;++o)i.length<20&&c[o]<t&&(i+=e.charAt(c[o]%62))}return i}}function ur(p,e){return p<e?-1:p>e?1:0}function Rp(p,e){const t=Math.min(p.length,e.length);for(let i=0;i<t;i++){const c=p.charAt(i),o=e.charAt(i);if(c!==o)return dp(c)===dp(o)?ur(c,o):dp(c)?1:-1}return ur(p.length,e.length)}const E3=55296,A3=57343;function dp(p){const e=p.charCodeAt(0);return e>=E3&&e<=A3}function Zo(p,e,t){return p.length===e.length&&p.every(((i,c)=>t(i,e[c])))}const V1="__name__";class Hi{constructor(e,t,i){t===void 0?t=0:t>e.length&&Le(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Le(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Hi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hi?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let c=0;c<i;c++){const o=Hi.compareSegments(e.get(c),t.get(c));if(o!==0)return o}return ur(e.length,t.length)}static compareSegments(e,t){const i=Hi.isNumericId(e),c=Hi.isNumericId(t);return i&&!c?-1:!i&&c?1:i&&c?Hi.extractNumericId(e).compare(Hi.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Nr extends Hi{construct(e,t,i){return new Nr(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ce(Ut.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((c=>c.length>0)))}return new Nr(t)}static emptyPath(){return new Nr([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends Hi{construct(e,t,i){return new bn(e,t,i)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V1}static keyField(){return new bn([V1])}static fromServerFormat(e){const t=[];let i="",c=0;const o=()=>{if(i.length===0)throw new ce(Ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;c<e.length;){const h=e[c];if(h==="\\"){if(c+1===e.length)throw new ce(Ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[c+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new ce(Ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=a,c+=2}else h==="`"?(s=!s,c++):h!=="."||s?(i+=h,c++):(o(),c++)}if(o(),s)throw new ce(Ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(t)}static emptyPath(){return new bn([])}}class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Nr.fromString(e))}static fromName(e){return new Me(Nr.fromString(e).popFirst(5))}static empty(){return new Me(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Nr(e.slice()))}}function jv(p,e,t){if(!t)throw new ce(Ut.INVALID_ARGUMENT,`Function ${p}() cannot be called with an empty ${e}.`)}function k3(p,e,t,i){if(e===!0&&i===!0)throw new ce(Ut.INVALID_ARGUMENT,`${p} and ${t} cannot be used together.`)}function z1(p){if(!Me.isDocumentKey(p))throw new ce(Ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${p} has ${p.length}.`)}function U1(p){if(Me.isDocumentKey(p))throw new ce(Ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${p} has ${p.length}.`)}function Ov(p){return typeof p=="object"&&p!==null&&(Object.getPrototypeOf(p)===Object.prototype||Object.getPrototypeOf(p)===null)}function Vh(p){if(p===void 0)return"undefined";if(p===null)return"null";if(typeof p=="string")return p.length>20&&(p=`${p.substring(0,20)}...`),JSON.stringify(p);if(typeof p=="number"||typeof p=="boolean")return""+p;if(typeof p=="object"){if(p instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(p);return e?`a custom ${e} object`:"an object"}}return typeof p=="function"?"a function":Le(12329,{type:typeof p})}function zn(p,e){if("_delegate"in p&&(p=p._delegate),!(p instanceof e)){if(e.name===p.constructor.name)throw new ce(Ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Vh(p);throw new ce(Ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return p}function en(p,e){const t={typeString:p};return e&&(t.value=e),t}function Mu(p,e){if(!Ov(p))throw new ce(Ut.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const c=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in p)){t=`JSON missing required field: '${i}'`;break}const s=p[i];if(c&&typeof s!==c){t=`JSON field '${i}' must be a ${c}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new ce(Ut.INVALID_ARGUMENT,t);return!0}const F1=-62135596800,H1=1e6;class Or{static now(){return Or.fromMillis(Date.now())}static fromDate(e){return Or.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*H1);return new Or(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<F1)throw new ce(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/H1}_compareTo(e){return this.seconds===e.seconds?ur(this.nanoseconds,e.nanoseconds):ur(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Or._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,Or._jsonSchema))return new Or(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Or._jsonSchemaVersion="firestore/timestamp/1.0",Or._jsonSchema={type:en("string",Or._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new Or(0,0))}static max(){return new Fe(new Or(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gu=-1;function R3(p,e){const t=p.toTimestamp().seconds,i=p.toTimestamp().nanoseconds+1,c=Fe.fromTimestamp(i===1e9?new Or(t+1,0):new Or(t,i));return new ua(c,Me.empty(),e)}function M3(p){return new ua(p.readTime,p.key,gu)}class ua{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ua(Fe.min(),Me.empty(),gu)}static max(){return new ua(Fe.max(),Me.empty(),gu)}}function N3(p,e){let t=p.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(p.documentKey,e.documentKey),t!==0?t:ur(p.largestBatchId,e.largestBatchId))}const I3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class j3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ol(p){if(p.code!==Ut.FAILED_PRECONDITION||p.message!==I3)throw p;me("LocalStore","Unexpectedly lost primary lease")}class $t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $t(((i,c)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,c)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,c)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof $t?t:$t.resolve(t)}catch(t){return $t.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):$t.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):$t.reject(t)}static resolve(e){return new $t(((t,i)=>{t(e)}))}static reject(e){return new $t(((t,i)=>{i(e)}))}static waitFor(e){return new $t(((t,i)=>{let c=0,o=0,s=!1;e.forEach((h=>{++c,h.next((()=>{++o,s&&o===c&&t()}),(a=>i(a)))})),s=!0,o===c&&t()}))}static or(e){let t=$t.resolve(!1);for(const i of e)t=t.next((c=>c?$t.resolve(c):i()));return t}static forEach(e,t){const i=[];return e.forEach(((c,o)=>{i.push(t.call(this,c,o))})),this.waitFor(i)}static mapArray(e,t){return new $t(((i,c)=>{const o=e.length,s=new Array(o);let h=0;for(let a=0;a<o;a++){const n=a;t(e[n]).next((u=>{s[n]=u,++h,h===o&&i(s)}),(u=>c(u)))}}))}static doWhile(e,t){return new $t(((i,c)=>{const o=()=>{e()===!0?t().next((()=>{o()}),c):i()};o()}))}}function O3(p){const e=p.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ll(p){return p.name==="IndexedDbTransactionError"}class zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zh.ce=-1;const im=-1;function Uh(p){return p==null}function _h(p){return p===0&&1/p==-1/0}function D3(p){return typeof p=="number"&&Number.isInteger(p)&&!_h(p)&&p<=Number.MAX_SAFE_INTEGER&&p>=Number.MIN_SAFE_INTEGER}const Dv="";function P3(p){let e="";for(let t=0;t<p.length;t++)e.length>0&&(e=q1(e)),e=L3(p.get(t),e);return q1(e)}function L3(p,e){let t=e;const i=p.length;for(let c=0;c<i;c++){const o=p.charAt(c);switch(o){case"\0":t+="";break;case Dv:t+="";break;default:t+=o}}return t}function q1(p){return p+Dv+""}function $1(p){let e=0;for(const t in p)Object.prototype.hasOwnProperty.call(p,t)&&e++;return e}function ma(p,e){for(const t in p)Object.prototype.hasOwnProperty.call(p,t)&&e(t,p[t])}function Pv(p){for(const e in p)if(Object.prototype.hasOwnProperty.call(p,e))return!1;return!0}class Br{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new Br(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new Br(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const c=this.comparator(e,i.key);if(c===0)return t+i.left.size;c<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,t,i,c){this.isReverse=c,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&c&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,i,c,o){this.key=e,this.value=t,this.color=i??gn.RED,this.left=c??gn.EMPTY,this.right=o??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,c,o){return new gn(e??this.key,t??this.value,i??this.color,c??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let c=this;const o=i(e,c.key);return c=o<0?c.copy(null,null,null,c.left.insert(e,t,i),null):o===0?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,i)),c.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),t(e,c.key)===0){if(c.right.isEmpty())return gn.EMPTY;i=c.right.min(),c=c.copy(i.key,i.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,t,i,c,o){return this}insert(e,t,i){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Br(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const c=i.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new G1(this.data.getIterator())}getIteratorFrom(e){return new G1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,o=i.getNext().key;if(this.comparator(c,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class G1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zn{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new Zn([])}unionWith(e){let t=new sn(bn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Zn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class Lv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(c){try{return atob(c)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lv("Invalid base64 string: "+o):o}})(e);return new yn(t)}static fromUint8Array(e){const t=(function(c){let o="";for(let s=0;s<c.length;++s)o+=String.fromCharCode(c[s]);return o})(e);return new yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let c=0;c<t.length;c++)i[c]=t.charCodeAt(c);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ur(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const B3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ca(p){if(wr(!!p,39018),typeof p=="string"){let e=0;const t=B3.exec(p);if(wr(!!t,46558,{timestamp:p}),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const i=new Date(p);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yr(p.seconds),nanos:Yr(p.nanos)}}function Yr(p){return typeof p=="number"?p:typeof p=="string"?Number(p):0}function ha(p){return typeof p=="string"?yn.fromBase64String(p):yn.fromUint8Array(p)}const Bv="server_timestamp",Vv="__type__",zv="__previous_value__",Uv="__local_write_time__";function sm(p){return(p?.mapValue?.fields||{})[Vv]?.stringValue===Bv}function Fh(p){const e=p.mapValue.fields[zv];return sm(e)?Fh(e):e}function bu(p){const e=ca(p.mapValue.fields[Uv].timestampValue);return new Or(e.seconds,e.nanos)}class V3{constructor(e,t,i,c,o,s,h,a,n,u,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=c,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=h,this.longPollingOptions=a,this.useFetchStreams=n,this.isUsingEmulator=u,this.apiKey=m}}const xh="(default)";class yu{constructor(e,t){this.projectId=e,this.database=t||xh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===xh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}function z3(p,e){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ce(Ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(p.options.projectId,e)}const Fv="__type__",U3="__max__",rh={mapValue:{}},Hv="__vector__",Sh="value";function fa(p){return"nullValue"in p?0:"booleanValue"in p?1:"integerValue"in p||"doubleValue"in p?2:"timestampValue"in p?3:"stringValue"in p?5:"bytesValue"in p?6:"referenceValue"in p?7:"geoPointValue"in p?8:"arrayValue"in p?9:"mapValue"in p?sm(p)?4:H3(p)?9007199254740991:F3(p)?10:11:Le(28295,{value:p})}function Xi(p,e){if(p===e)return!0;const t=fa(p);if(t!==fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return p.booleanValue===e.booleanValue;case 4:return bu(p).isEqual(bu(e));case 3:return(function(c,o){if(typeof c.timestampValue=="string"&&typeof o.timestampValue=="string"&&c.timestampValue.length===o.timestampValue.length)return c.timestampValue===o.timestampValue;const s=ca(c.timestampValue),h=ca(o.timestampValue);return s.seconds===h.seconds&&s.nanos===h.nanos})(p,e);case 5:return p.stringValue===e.stringValue;case 6:return(function(c,o){return ha(c.bytesValue).isEqual(ha(o.bytesValue))})(p,e);case 7:return p.referenceValue===e.referenceValue;case 8:return(function(c,o){return Yr(c.geoPointValue.latitude)===Yr(o.geoPointValue.latitude)&&Yr(c.geoPointValue.longitude)===Yr(o.geoPointValue.longitude)})(p,e);case 2:return(function(c,o){if("integerValue"in c&&"integerValue"in o)return Yr(c.integerValue)===Yr(o.integerValue);if("doubleValue"in c&&"doubleValue"in o){const s=Yr(c.doubleValue),h=Yr(o.doubleValue);return s===h?_h(s)===_h(h):isNaN(s)&&isNaN(h)}return!1})(p,e);case 9:return Zo(p.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(c,o){const s=c.mapValue.fields||{},h=o.mapValue.fields||{};if($1(s)!==$1(h))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(h[a]===void 0||!Xi(s[a],h[a])))return!1;return!0})(p,e);default:return Le(52216,{left:p})}}function vu(p,e){return(p.values||[]).find((t=>Xi(t,e)))!==void 0}function Jo(p,e){if(p===e)return 0;const t=fa(p),i=fa(e);if(t!==i)return ur(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ur(p.booleanValue,e.booleanValue);case 2:return(function(o,s){const h=Yr(o.integerValue||o.doubleValue),a=Yr(s.integerValue||s.doubleValue);return h<a?-1:h>a?1:h===a?0:isNaN(h)?isNaN(a)?0:-1:1})(p,e);case 3:return W1(p.timestampValue,e.timestampValue);case 4:return W1(bu(p),bu(e));case 5:return Rp(p.stringValue,e.stringValue);case 6:return(function(o,s){const h=ha(o),a=ha(s);return h.compareTo(a)})(p.bytesValue,e.bytesValue);case 7:return(function(o,s){const h=o.split("/"),a=s.split("/");for(let n=0;n<h.length&&n<a.length;n++){const u=ur(h[n],a[n]);if(u!==0)return u}return ur(h.length,a.length)})(p.referenceValue,e.referenceValue);case 8:return(function(o,s){const h=ur(Yr(o.latitude),Yr(s.latitude));return h!==0?h:ur(Yr(o.longitude),Yr(s.longitude))})(p.geoPointValue,e.geoPointValue);case 9:return Y1(p.arrayValue,e.arrayValue);case 10:return(function(o,s){const h=o.fields||{},a=s.fields||{},n=h[Sh]?.arrayValue,u=a[Sh]?.arrayValue,m=ur(n?.values?.length||0,u?.values?.length||0);return m!==0?m:Y1(n,u)})(p.mapValue,e.mapValue);case 11:return(function(o,s){if(o===rh.mapValue&&s===rh.mapValue)return 0;if(o===rh.mapValue)return 1;if(s===rh.mapValue)return-1;const h=o.fields||{},a=Object.keys(h),n=s.fields||{},u=Object.keys(n);a.sort(),u.sort();for(let m=0;m<a.length&&m<u.length;++m){const f=Rp(a[m],u[m]);if(f!==0)return f;const d=Jo(h[a[m]],n[u[m]]);if(d!==0)return d}return ur(a.length,u.length)})(p.mapValue,e.mapValue);default:throw Le(23264,{he:t})}}function W1(p,e){if(typeof p=="string"&&typeof e=="string"&&p.length===e.length)return ur(p,e);const t=ca(p),i=ca(e),c=ur(t.seconds,i.seconds);return c!==0?c:ur(t.nanos,i.nanos)}function Y1(p,e){const t=p.values||[],i=e.values||[];for(let c=0;c<t.length&&c<i.length;++c){const o=Jo(t[c],i[c]);if(o)return o}return ur(t.length,i.length)}function tl(p){return Mp(p)}function Mp(p){return"nullValue"in p?"null":"booleanValue"in p?""+p.booleanValue:"integerValue"in p?""+p.integerValue:"doubleValue"in p?""+p.doubleValue:"timestampValue"in p?(function(t){const i=ca(t);return`time(${i.seconds},${i.nanos})`})(p.timestampValue):"stringValue"in p?p.stringValue:"bytesValue"in p?(function(t){return ha(t).toBase64()})(p.bytesValue):"referenceValue"in p?(function(t){return Me.fromName(t).toString()})(p.referenceValue):"geoPointValue"in p?(function(t){return`geo(${t.latitude},${t.longitude})`})(p.geoPointValue):"arrayValue"in p?(function(t){let i="[",c=!0;for(const o of t.values||[])c?c=!1:i+=",",i+=Mp(o);return i+"]"})(p.arrayValue):"mapValue"in p?(function(t){const i=Object.keys(t.fields||{}).sort();let c="{",o=!0;for(const s of i)o?o=!1:c+=",",c+=`${s}:${Mp(t.fields[s])}`;return c+"}"})(p.mapValue):Le(61005,{value:p})}function lh(p){switch(fa(p)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(p);return e?16+lh(e):16;case 5:return 2*p.stringValue.length;case 6:return ha(p.bytesValue).approximateByteSize();case 7:return p.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((c,o)=>c+lh(o)),0)})(p.arrayValue);case 10:case 11:return(function(i){let c=0;return ma(i.fields,((o,s)=>{c+=o.length+lh(s)})),c})(p.mapValue);default:throw Le(13486,{value:p})}}function X1(p,e){return{referenceValue:`projects/${p.projectId}/databases/${p.database}/documents/${e.path.canonicalString()}`}}function Np(p){return!!p&&"integerValue"in p}function am(p){return!!p&&"arrayValue"in p}function K1(p){return!!p&&"nullValue"in p}function Q1(p){return!!p&&"doubleValue"in p&&isNaN(Number(p.doubleValue))}function uh(p){return!!p&&"mapValue"in p}function F3(p){return(p?.mapValue?.fields||{})[Fv]?.stringValue===Hv}function uu(p){if(p.geoPointValue)return{geoPointValue:{...p.geoPointValue}};if(p.timestampValue&&typeof p.timestampValue=="object")return{timestampValue:{...p.timestampValue}};if(p.mapValue){const e={mapValue:{fields:{}}};return ma(p.mapValue.fields,((t,i)=>e.mapValue.fields[t]=uu(i))),e}if(p.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(p.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=uu(p.arrayValue.values[t]);return e}return{...p}}function H3(p){return(((p.mapValue||{}).fields||{}).__type__||{}).stringValue===U3}class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=bn.emptyPath(),i={},c=[];e.forEach(((s,h)=>{if(!t.isImmediateParentOf(h)){const a=this.getFieldsMap(t);this.applyChanges(a,i,c),i={},c=[],t=h.popLast()}s?i[h.lastSegment()]=uu(s):c.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,c)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let c=t.mapValue.fields[e.get(i)];uh(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,i){ma(t,((c,o)=>e[c]=o));for(const c of i)delete e[c]}clone(){return new Vn(uu(this.value))}}function qv(p){const e=[];return ma(p.fields,((t,i)=>{const c=new bn([t]);if(uh(i)){const o=qv(i.mapValue).fields;if(o.length===0)e.push(c);else for(const s of o)e.push(c.child(s))}else e.push(c)})),new Zn(e)}class Tn{constructor(e,t,i,c,o,s,h){this.key=e,this.documentType=t,this.version=i,this.readTime=c,this.createTime=o,this.data=s,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Fe.min(),Fe.min(),Fe.min(),Vn.empty(),0)}static newFoundDocument(e,t,i,c){return new Tn(e,1,t,Fe.min(),i,c,0)}static newNoDocument(e,t){return new Tn(e,2,t,Fe.min(),Fe.min(),Vn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Fe.min(),Fe.min(),Vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Th{constructor(e,t){this.position=e,this.inclusive=t}}function Z1(p,e,t){let i=0;for(let c=0;c<p.position.length;c++){const o=e[c],s=p.position[c];if(o.field.isKeyField()?i=Me.comparator(Me.fromName(s.referenceValue),t.key):i=Jo(s,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function J1(p,e){if(p===null)return e===null;if(e===null||p.inclusive!==e.inclusive||p.position.length!==e.position.length)return!1;for(let t=0;t<p.position.length;t++)if(!Xi(p.position[t],e.position[t]))return!1;return!0}class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function q3(p,e){return p.dir===e.dir&&p.field.isEqual(e.field)}class $v{}class tn extends $v{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new G3(e,t,i):t==="array-contains"?new X3(e,i):t==="in"?new K3(e,i):t==="not-in"?new Q3(e,i):t==="array-contains-any"?new Z3(e,i):new tn(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new W3(e,i):new Y3(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Jo(t,this.value)):t!==null&&fa(this.value)===fa(t)&&this.matchesComparison(Jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends $v{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Mi(e,t)}matches(e){return Gv(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gv(p){return p.op==="and"}function Wv(p){return $3(p)&&Gv(p)}function $3(p){for(const e of p.filters)if(e instanceof Mi)return!1;return!0}function Ip(p){if(p instanceof tn)return p.field.canonicalString()+p.op.toString()+tl(p.value);if(Wv(p))return p.filters.map((e=>Ip(e))).join(",");{const e=p.filters.map((t=>Ip(t))).join(",");return`${p.op}(${e})`}}function Yv(p,e){return p instanceof tn?(function(i,c){return c instanceof tn&&i.op===c.op&&i.field.isEqual(c.field)&&Xi(i.value,c.value)})(p,e):p instanceof Mi?(function(i,c){return c instanceof Mi&&i.op===c.op&&i.filters.length===c.filters.length?i.filters.reduce(((o,s,h)=>o&&Yv(s,c.filters[h])),!0):!1})(p,e):void Le(19439)}function Xv(p){return p instanceof tn?(function(t){return`${t.field.canonicalString()} ${t.op} ${tl(t.value)}`})(p):p instanceof Mi?(function(t){return t.op.toString()+" {"+t.getFilters().map(Xv).join(" ,")+"}"})(p):"Filter"}class G3 extends tn{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class W3 extends tn{constructor(e,t){super(e,"in",t),this.keys=Kv("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Y3 extends tn{constructor(e,t){super(e,"not-in",t),this.keys=Kv("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Kv(p,e){return(e.arrayValue?.values||[]).map((t=>Me.fromName(t.referenceValue)))}class X3 extends tn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return am(t)&&vu(t.arrayValue,this.value)}}class K3 extends tn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&vu(this.value.arrayValue,t)}}class Q3 extends tn{constructor(e,t){super(e,"not-in",t)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!vu(this.value.arrayValue,t)}}class Z3 extends tn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!am(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>vu(this.value.arrayValue,i)))}}class J3{constructor(e,t=null,i=[],c=[],o=null,s=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=c,this.limit=o,this.startAt=s,this.endAt=h,this.Te=null}}function ty(p,e=null,t=[],i=[],c=null,o=null,s=null){return new J3(p,e,t,i,c,o,s)}function om(p){const e=Ge(p);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Ip(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>tl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>tl(i))).join(",")),e.Te=t}return e.Te}function lm(p,e){if(p.limit!==e.limit||p.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<p.orderBy.length;t++)if(!q3(p.orderBy[t],e.orderBy[t]))return!1;if(p.filters.length!==e.filters.length)return!1;for(let t=0;t<p.filters.length;t++)if(!Yv(p.filters[t],e.filters[t]))return!1;return p.collectionGroup===e.collectionGroup&&!!p.path.isEqual(e.path)&&!!J1(p.startAt,e.startAt)&&J1(p.endAt,e.endAt)}function jp(p){return Me.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}class ul{constructor(e,t=null,i=[],c=[],o=null,s="F",h=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=c,this.limit=o,this.limitType=s,this.startAt=h,this.endAt=a,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function t6(p,e,t,i,c,o,s,h){return new ul(p,e,t,i,c,o,s,h)}function Hh(p){return new ul(p)}function ey(p){return p.filters.length===0&&p.limit===null&&p.startAt==null&&p.endAt==null&&(p.explicitOrderBy.length===0||p.explicitOrderBy.length===1&&p.explicitOrderBy[0].field.isKeyField())}function e6(p){return Me.isDocumentKey(p.path)&&p.collectionGroup===null&&p.filters.length===0}function Qv(p){return p.collectionGroup!==null}function cu(p){const e=Ge(p);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let h=new sn(bn.comparator);return s.filters.forEach((a=>{a.getFlattenedFilters().forEach((n=>{n.isInequality()&&(h=h.add(n.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wu(o,i))})),t.has(bn.keyField().canonicalString())||e.Ie.push(new wu(bn.keyField(),i))}return e.Ie}function $i(p){const e=Ge(p);return e.Ee||(e.Ee=r6(e,cu(p))),e.Ee}function r6(p,e){if(p.limitType==="F")return ty(p.path,p.collectionGroup,e,p.filters,p.limit,p.startAt,p.endAt);{e=e.map((c=>{const o=c.dir==="desc"?"asc":"desc";return new wu(c.field,o)}));const t=p.endAt?new Th(p.endAt.position,p.endAt.inclusive):null,i=p.startAt?new Th(p.startAt.position,p.startAt.inclusive):null;return ty(p.path,p.collectionGroup,e,p.filters,p.limit,t,i)}}function Op(p,e){const t=p.filters.concat([e]);return new ul(p.path,p.collectionGroup,p.explicitOrderBy.slice(),t,p.limit,p.limitType,p.startAt,p.endAt)}function n6(p,e){const t=p.explicitOrderBy.concat([e]);return new ul(p.path,p.collectionGroup,t,p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}function Dp(p,e,t){return new ul(p.path,p.collectionGroup,p.explicitOrderBy.slice(),p.filters.slice(),e,t,p.startAt,p.endAt)}function qh(p,e){return lm($i(p),$i(e))&&p.limitType===e.limitType}function Zv(p){return`${om($i(p))}|lt:${p.limitType}`}function Fo(p){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((c=>Xv(c))).join(", ")}]`),Uh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((c=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(c))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((c=>tl(c))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((c=>tl(c))).join(",")),`Target(${i})`})($i(p))}; limitType=${p.limitType})`}function $h(p,e){return e.isFoundDocument()&&(function(i,c){const o=c.key.path;return i.collectionGroup!==null?c.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(p,e)&&(function(i,c){for(const o of cu(i))if(!o.field.isKeyField()&&c.data.field(o.field)===null)return!1;return!0})(p,e)&&(function(i,c){for(const o of i.filters)if(!o.matches(c))return!1;return!0})(p,e)&&(function(i,c){return!(i.startAt&&!(function(s,h,a){const n=Z1(s,h,a);return s.inclusive?n<=0:n<0})(i.startAt,cu(i),c)||i.endAt&&!(function(s,h,a){const n=Z1(s,h,a);return s.inclusive?n>=0:n>0})(i.endAt,cu(i),c))})(p,e)}function i6(p){return p.collectionGroup||(p.path.length%2==1?p.path.lastSegment():p.path.get(p.path.length-2))}function Jv(p){return(e,t)=>{let i=!1;for(const c of cu(p)){const o=s6(c,e,t);if(o!==0)return o;i=i||c.field.isKeyField()}return 0}}function s6(p,e,t){const i=p.field.isKeyField()?Me.comparator(e.key,t.key):(function(o,s,h){const a=s.data.field(o),n=h.data.field(o);return a!==null&&n!==null?Jo(a,n):Le(42886)})(p.field,e,t);switch(p.dir){case"asc":return i;case"desc":return-1*i;default:return Le(19790,{direction:p.dir})}}class ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[c,o]of i)if(this.equalsFn(c,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),c=this.inner[i];if(c===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<c.length;o++)if(this.equalsFn(c[o][0],e))return void(c[o]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],e))return i.length===1?delete this.inner[t]:i.splice(c,1),this.innerSize--,!0;return!1}forEach(e){ma(this.inner,((t,i)=>{for(const[c,o]of i)e(c,o)}))}isEmpty(){return Pv(this.inner)}size(){return this.innerSize}}const a6=new Br(Me.comparator);function Ss(){return a6}const t2=new Br(Me.comparator);function su(...p){let e=t2;for(const t of p)e=e.insert(t.key,t);return e}function e2(p){let e=t2;return p.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Ha(){return hu()}function r2(){return hu()}function hu(){return new ro((p=>p.toString()),((p,e)=>p.isEqual(e)))}const o6=new Br(Me.comparator),l6=new sn(Me.comparator);function cr(...p){let e=l6;for(const t of p)e=e.add(t);return e}const u6=new sn(ur);function c6(){return u6}function um(p,e){if(p.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function n2(p){return{integerValue:""+p}}function i2(p,e){return D3(e)?n2(e):um(p,e)}class Gh{constructor(){this._=void 0}}function h6(p,e,t){return p instanceof Eh?(function(c,o){const s={fields:{[Vv]:{stringValue:Bv},[Uv]:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return o&&sm(o)&&(o=Fh(o)),o&&(s.fields[zv]=o),{mapValue:s}})(t,e):p instanceof _u?a2(p,e):p instanceof xu?o2(p,e):(function(c,o){const s=s2(c,o),h=ry(s)+ry(c.Ae);return Np(s)&&Np(c.Ae)?n2(h):um(c.serializer,h)})(p,e)}function f6(p,e,t){return p instanceof _u?a2(p,e):p instanceof xu?o2(p,e):t}function s2(p,e){return p instanceof Su?(function(i){return Np(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Eh extends Gh{}class _u extends Gh{constructor(e){super(),this.elements=e}}function a2(p,e){const t=l2(e);for(const i of p.elements)t.some((c=>Xi(c,i)))||t.push(i);return{arrayValue:{values:t}}}class xu extends Gh{constructor(e){super(),this.elements=e}}function o2(p,e){let t=l2(e);for(const i of p.elements)t=t.filter((c=>!Xi(c,i)));return{arrayValue:{values:t}}}class Su extends Gh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ry(p){return Yr(p.integerValue||p.doubleValue)}function l2(p){return am(p)&&p.arrayValue.values?p.arrayValue.values.slice():[]}class d6{constructor(e,t){this.field=e,this.transform=t}}function p6(p,e){return p.field.isEqual(e.field)&&(function(i,c){return i instanceof _u&&c instanceof _u||i instanceof xu&&c instanceof xu?Zo(i.elements,c.elements,Xi):i instanceof Su&&c instanceof Su?Xi(i.Ae,c.Ae):i instanceof Eh&&c instanceof Eh})(p.transform,e.transform)}class m6{constructor(e,t){this.version=e,this.transformResults=t}}class hi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(p,e){return p.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(p.updateTime):p.exists===void 0||p.exists===e.isFoundDocument()}class Wh{}function u2(p,e){if(!p.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return p.isNoDocument()?new cm(p.key,hi.none()):new Nu(p.key,p.data,hi.none());{const t=p.data,i=Vn.empty();let c=new sn(bn.comparator);for(let o of e.fields)if(!c.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?i.delete(o):i.set(o,s),c=c.add(o)}return new ga(p.key,i,new Zn(c.toArray()),hi.none())}}function g6(p,e,t){p instanceof Nu?(function(c,o,s){const h=c.value.clone(),a=iy(c.fieldTransforms,o,s.transformResults);h.setAll(a),o.convertToFoundDocument(s.version,h).setHasCommittedMutations()})(p,e,t):p instanceof ga?(function(c,o,s){if(!ch(c.precondition,o))return void o.convertToUnknownDocument(s.version);const h=iy(c.fieldTransforms,o,s.transformResults),a=o.data;a.setAll(c2(c)),a.setAll(h),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(p,e,t):(function(c,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function fu(p,e,t,i){return p instanceof Nu?(function(o,s,h,a){if(!ch(o.precondition,s))return h;const n=o.value.clone(),u=sy(o.fieldTransforms,a,s);return n.setAll(u),s.convertToFoundDocument(s.version,n).setHasLocalMutations(),null})(p,e,t,i):p instanceof ga?(function(o,s,h,a){if(!ch(o.precondition,s))return h;const n=sy(o.fieldTransforms,a,s),u=s.data;return u.setAll(c2(o)),u.setAll(n),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(p,e,t,i):(function(o,s,h){return ch(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):h})(p,e,t)}function b6(p,e){let t=null;for(const i of p.fieldTransforms){const c=e.data.field(i.field),o=s2(i.transform,c||null);o!=null&&(t===null&&(t=Vn.empty()),t.set(i.field,o))}return t||null}function ny(p,e){return p.type===e.type&&!!p.key.isEqual(e.key)&&!!p.precondition.isEqual(e.precondition)&&!!(function(i,c){return i===void 0&&c===void 0||!(!i||!c)&&Zo(i,c,((o,s)=>p6(o,s)))})(p.fieldTransforms,e.fieldTransforms)&&(p.type===0?p.value.isEqual(e.value):p.type!==1||p.data.isEqual(e.data)&&p.fieldMask.isEqual(e.fieldMask))}class Nu extends Wh{constructor(e,t,i,c=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class ga extends Wh{constructor(e,t,i,c,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=c,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c2(p){const e=new Map;return p.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=p.data.field(t);e.set(t,i)}})),e}function iy(p,e,t){const i=new Map;wr(p.length===t.length,32656,{Ve:t.length,de:p.length});for(let c=0;c<t.length;c++){const o=p[c],s=o.transform,h=e.data.field(o.field);i.set(o.field,f6(s,h,t[c]))}return i}function sy(p,e,t){const i=new Map;for(const c of p){const o=c.transform,s=t.data.field(c.field);i.set(c.field,h6(o,s,e))}return i}class cm extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y6 extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v6{constructor(e,t,i,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=c}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const o=this.mutations[c];o.key.isEqual(e.key)&&g6(o,e,i[c])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=fu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=fu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=r2();return this.mutations.forEach((c=>{const o=e.get(c.key),s=o.overlayedDocument;let h=this.applyToLocalView(s,o.mutatedFields);h=t.has(c.key)?null:h;const a=u2(s,h);a!==null&&i.set(c.key,a),s.isValidDocument()||s.convertToNoDocument(Fe.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),cr())}isEqual(e){return this.batchId===e.batchId&&Zo(this.mutations,e.mutations,((t,i)=>ny(t,i)))&&Zo(this.baseMutations,e.baseMutations,((t,i)=>ny(t,i)))}}class hm{constructor(e,t,i,c){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=c}static from(e,t,i){wr(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let c=(function(){return o6})();const o=e.mutations;for(let s=0;s<o.length;s++)c=c.insert(o[s].key,i[s].version);return new hm(e,t,i,c)}}class w6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class _6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jr,fr;function x6(p){switch(p){case Ut.OK:return Le(64938);case Ut.CANCELLED:case Ut.UNKNOWN:case Ut.DEADLINE_EXCEEDED:case Ut.RESOURCE_EXHAUSTED:case Ut.INTERNAL:case Ut.UNAVAILABLE:case Ut.UNAUTHENTICATED:return!1;case Ut.INVALID_ARGUMENT:case Ut.NOT_FOUND:case Ut.ALREADY_EXISTS:case Ut.PERMISSION_DENIED:case Ut.FAILED_PRECONDITION:case Ut.ABORTED:case Ut.OUT_OF_RANGE:case Ut.UNIMPLEMENTED:case Ut.DATA_LOSS:return!0;default:return Le(15467,{code:p})}}function h2(p){if(p===void 0)return xs("GRPC error has no .code"),Ut.UNKNOWN;switch(p){case Jr.OK:return Ut.OK;case Jr.CANCELLED:return Ut.CANCELLED;case Jr.UNKNOWN:return Ut.UNKNOWN;case Jr.DEADLINE_EXCEEDED:return Ut.DEADLINE_EXCEEDED;case Jr.RESOURCE_EXHAUSTED:return Ut.RESOURCE_EXHAUSTED;case Jr.INTERNAL:return Ut.INTERNAL;case Jr.UNAVAILABLE:return Ut.UNAVAILABLE;case Jr.UNAUTHENTICATED:return Ut.UNAUTHENTICATED;case Jr.INVALID_ARGUMENT:return Ut.INVALID_ARGUMENT;case Jr.NOT_FOUND:return Ut.NOT_FOUND;case Jr.ALREADY_EXISTS:return Ut.ALREADY_EXISTS;case Jr.PERMISSION_DENIED:return Ut.PERMISSION_DENIED;case Jr.FAILED_PRECONDITION:return Ut.FAILED_PRECONDITION;case Jr.ABORTED:return Ut.ABORTED;case Jr.OUT_OF_RANGE:return Ut.OUT_OF_RANGE;case Jr.UNIMPLEMENTED:return Ut.UNIMPLEMENTED;case Jr.DATA_LOSS:return Ut.DATA_LOSS;default:return Le(39323,{code:p})}}(fr=Jr||(Jr={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";function S6(){return new TextEncoder}const T6=new oa([4294967295,4294967295],0);function ay(p){const e=S6().encode(p),t=new Ev;return t.update(e),new Uint8Array(t.digest())}function oy(p){const e=new DataView(p.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),c=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oa([t,i],0),new oa([c,o],0)]}class fm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(i<0)throw new au(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=oa.fromNumber(this.ge)}ye(e,t,i){let c=e.add(t.multiply(oa.fromNumber(i)));return c.compare(T6)===1&&(c=new oa([c.getBits(0),c.getBits(1)],0)),c.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ay(e),[i,c]=oy(t);for(let o=0;o<this.hashCount;o++){const s=this.ye(i,c,o);if(!this.we(s))return!1}return!0}static create(e,t,i){const c=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new fm(o,c,t);return i.forEach((h=>s.insert(h))),s}insert(e){if(this.ge===0)return;const t=ay(e),[i,c]=oy(t);for(let o=0;o<this.hashCount;o++){const s=this.ye(i,c,o);this.be(s)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Yh{constructor(e,t,i,c,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=c,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const c=new Map;return c.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Yh(Fe.min(),c,new Br(ur),Ss(),cr())}}class Iu{constructor(e,t,i,c,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=c,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Iu(i,t,cr(),cr(),cr())}}class hh{constructor(e,t,i,c){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=c}}class f2{constructor(e,t){this.targetId=e,this.Ce=t}}class d2{constructor(e,t,i=yn.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=c}}class ly{constructor(){this.ve=0,this.Fe=uy(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=cr(),t=cr(),i=cr();return this.Fe.forEach(((c,o)=>{switch(o){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:i=i.add(c);break;default:Le(38017,{changeType:o})}})),new Iu(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=uy()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class E6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.He=nh(),this.Je=nh(),this.Ze=new Br(ur)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,c)=>{this.rt(c)&&t(c)}))}st(e){const t=e.targetId,i=e.Ce.count,c=this.ot(t);if(c){const o=c.target;if(jp(o))if(i===0){const s=new Me(o.path);this.et(t,s,Tn.newNoDocument(s,Fe.min()))}else wr(i===1,20013,{expectedCount:i});else{const s=this._t(t);if(s!==i){const h=this.ut(e),a=h?this.ct(h,e,s):1;if(a!==0){this.it(t);const n=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,n)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:c=0},hashCount:o=0}=t;let s,h;try{s=ha(i).toUint8Array()}catch(a){if(a instanceof Lv)return Qa("Decoding the base64 bloom filter in existence filter failed ("+a.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw a}try{h=new fm(s,c,o)}catch(a){return Qa(a instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",a),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let c=0;return i.forEach((o=>{const s=this.Ge.ht(),h=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),c++)})),c}Tt(e){const t=new Map;this.ze.forEach(((o,s)=>{const h=this.ot(s);if(h){if(o.current&&jp(h.target)){const a=new Me(h.target.path);this.It(a).has(s)||this.Et(s,a)||this.et(s,a,Tn.newNoDocument(a,e))}o.Be&&(t.set(s,o.ke()),o.Ke())}}));let i=cr();this.Je.forEach(((o,s)=>{let h=!0;s.forEachWhile((a=>{const n=this.ot(a);return!n||n.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const c=new Yh(e,t,this.Ze,this.je,i);return this.je=Ss(),this.He=nh(),this.Je=nh(),this.Ze=new Br(ur),c}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const c=this.nt(e);this.Et(e,t)?c.qe(t,1):c.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new ly,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new sn(ur),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new sn(ur),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ly),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function nh(){return new Br(Me.comparator)}function uy(){return new Br(Me.comparator)}const A6={asc:"ASCENDING",desc:"DESCENDING"},C6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},k6={and:"AND",or:"OR"};class R6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pp(p,e){return p.useProto3Json||Uh(e)?e:{value:e}}function Ah(p,e){return p.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function p2(p,e){return p.useProto3Json?e.toBase64():e.toUint8Array()}function M6(p,e){return Ah(p,e.toTimestamp())}function Gi(p){return wr(!!p,49232),Fe.fromTimestamp((function(t){const i=ca(t);return new Or(i.seconds,i.nanos)})(p))}function dm(p,e){return Lp(p,e).canonicalString()}function Lp(p,e){const t=(function(c){return new Nr(["projects",c.projectId,"databases",c.database])})(p).child("documents");return e===void 0?t:t.child(e)}function m2(p){const e=Nr.fromString(p);return wr(w2(e),10190,{key:e.toString()}),e}function Bp(p,e){return dm(p.databaseId,e.path)}function pp(p,e){const t=m2(e);if(t.get(1)!==p.databaseId.projectId)throw new ce(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+p.databaseId.projectId);if(t.get(3)!==p.databaseId.database)throw new ce(Ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+p.databaseId.database);return new Me(b2(t))}function g2(p,e){return dm(p.databaseId,e)}function N6(p){const e=m2(p);return e.length===4?Nr.emptyPath():b2(e)}function Vp(p){return new Nr(["projects",p.databaseId.projectId,"databases",p.databaseId.database]).canonicalString()}function b2(p){return wr(p.length>4&&p.get(4)==="documents",29091,{key:p.toString()}),p.popFirst(5)}function cy(p,e,t){return{name:Bp(p,e),fields:t.value.mapValue.fields}}function I6(p,e){let t;if("targetChange"in e){e.targetChange;const i=(function(n){return n==="NO_CHANGE"?0:n==="ADD"?1:n==="REMOVE"?2:n==="CURRENT"?3:n==="RESET"?4:Le(39313,{state:n})})(e.targetChange.targetChangeType||"NO_CHANGE"),c=e.targetChange.targetIds||[],o=(function(n,u){return n.useProto3Json?(wr(u===void 0||typeof u=="string",58123),yn.fromBase64String(u||"")):(wr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),yn.fromUint8Array(u||new Uint8Array))})(p,e.targetChange.resumeToken),s=e.targetChange.cause,h=s&&(function(n){const u=n.code===void 0?Ut.UNKNOWN:h2(n.code);return new ce(u,n.message||"")})(s);t=new d2(i,c,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const c=pp(p,i.document.name),o=Gi(i.document.updateTime),s=i.document.createTime?Gi(i.document.createTime):Fe.min(),h=new Vn({mapValue:{fields:i.document.fields}}),a=Tn.newFoundDocument(c,o,s,h),n=i.targetIds||[],u=i.removedTargetIds||[];t=new hh(n,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const c=pp(p,i.document),o=i.readTime?Gi(i.readTime):Fe.min(),s=Tn.newNoDocument(c,o),h=i.removedTargetIds||[];t=new hh([],h,s.key,s)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const c=pp(p,i.document),o=i.removedTargetIds||[];t=new hh([],o,c,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:c=0,unchangedNames:o}=i,s=new _6(c,o),h=i.targetId;t=new f2(h,s)}}return t}function j6(p,e){let t;if(e instanceof Nu)t={update:cy(p,e.key,e.value)};else if(e instanceof cm)t={delete:Bp(p,e.key)};else if(e instanceof ga)t={update:cy(p,e.key,e.data),updateMask:F6(e.fieldMask)};else{if(!(e instanceof y6))return Le(16599,{dt:e.type});t={verify:Bp(p,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,s){const h=s.transform;if(h instanceof Eh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _u)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof xu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Su)return{fieldPath:s.field.canonicalString(),increment:h.Ae};throw Le(20930,{transform:s.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(c,o){return o.updateTime!==void 0?{updateTime:M6(c,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Le(27497)})(p,e.precondition)),t}function O6(p,e){return p&&p.length>0?(wr(e!==void 0,14353),p.map((t=>(function(c,o){let s=c.updateTime?Gi(c.updateTime):Gi(o);return s.isEqual(Fe.min())&&(s=Gi(o)),new m6(s,c.transformResults||[])})(t,e)))):[]}function D6(p,e){return{documents:[g2(p,e.path)]}}function P6(p,e){const t={structuredQuery:{}},i=e.path;let c;e.collectionGroup!==null?(c=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(c=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=g2(p,c);const o=(function(n){if(n.length!==0)return v2(Mi.create(n,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const s=(function(n){if(n.length!==0)return n.map((u=>(function(f){return{field:Ho(f.field),direction:V6(f.dir)}})(u)))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);const h=Pp(p,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(n){return{before:n.inclusive,values:n.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(n){return{before:!n.inclusive,values:n.position}})(e.endAt)),{ft:t,parent:c}}function L6(p){let e=N6(p.parent);const t=p.structuredQuery,i=t.from?t.from.length:0;let c=null;if(i>0){wr(i===1,65062);const u=t.from[0];u.allDescendants?c=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=(function(m){const f=y2(m);return f instanceof Mi&&Wv(f)?f.getFilters():[f]})(t.where));let s=[];t.orderBy&&(s=(function(m){return m.map((f=>(function(b){return new wu(qo(b.field),(function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(f)))})(t.orderBy));let h=null;t.limit&&(h=(function(m){let f;return f=typeof m=="object"?m.value:m,Uh(f)?null:f})(t.limit));let a=null;t.startAt&&(a=(function(m){const f=!!m.before,d=m.values||[];return new Th(d,f)})(t.startAt));let n=null;return t.endAt&&(n=(function(m){const f=!m.before,d=m.values||[];return new Th(d,f)})(t.endAt)),t6(e,c,s,o,h,"F",a,n)}function B6(p,e){const t=(function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:c})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function y2(p){return p.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=qo(t.unaryFilter.field);return tn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=qo(t.unaryFilter.field);return tn.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qo(t.unaryFilter.field);return tn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qo(t.unaryFilter.field);return tn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(p):p.fieldFilter!==void 0?(function(t){return tn.create(qo(t.fieldFilter.field),(function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(p):p.compositeFilter!==void 0?(function(t){return Mi.create(t.compositeFilter.filters.map((i=>y2(i))),(function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(t.compositeFilter.op))})(p):Le(30097,{filter:p})}function V6(p){return A6[p]}function z6(p){return C6[p]}function U6(p){return k6[p]}function Ho(p){return{fieldPath:p.canonicalString()}}function qo(p){return bn.fromServerFormat(p.fieldPath)}function v2(p){return p instanceof tn?(function(t){if(t.op==="=="){if(Q1(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NAN"}};if(K1(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Q1(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NAN"}};if(K1(t.value))return{unaryFilter:{field:Ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ho(t.field),op:z6(t.op),value:t.value}}})(p):p instanceof Mi?(function(t){const i=t.getFilters().map((c=>v2(c)));return i.length===1?i[0]:{compositeFilter:{op:U6(t.op),filters:i}}})(p):Le(54877,{filter:p})}function F6(p){const e=[];return p.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function w2(p){return p.length>=4&&p.get(0)==="projects"&&p.get(2)==="databases"}function _2(p){return!!p&&typeof p._toProto=="function"&&p._protoValueType==="ProtoValue"}class na{constructor(e,t,i,c,o=Fe.min(),s=Fe.min(),h=yn.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=c,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=h,this.expectedCount=a}withSequenceNumber(e){return new na(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new na(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class H6{constructor(e){this.yt=e}}function q6(p){const e=L6({parent:p.parent,structuredQuery:p.structuredQuery});return p.limitType==="LAST"?Dp(e,e.limit,"L"):e}class $6{constructor(){this.Sn=new G6}addToCollectionParentIndex(e,t){return this.Sn.add(t),$t.resolve()}getCollectionParents(e,t){return $t.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return $t.resolve()}deleteFieldIndex(e,t){return $t.resolve()}deleteAllFieldIndexes(e){return $t.resolve()}createTargetIndexes(e,t){return $t.resolve()}getDocumentsMatchingTarget(e,t){return $t.resolve(null)}getIndexType(e,t){return $t.resolve(0)}getFieldIndexes(e,t){return $t.resolve([])}getNextCollectionGroupToUpdate(e){return $t.resolve(null)}getMinOffset(e,t){return $t.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,t){return $t.resolve(ua.min())}updateCollectionGroup(e,t,i){return $t.resolve()}updateIndexEntries(e,t){return $t.resolve()}}class G6{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t]||new sn(Nr.comparator),o=!c.has(i);return this.index[t]=c.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),c=this.index[t];return c&&c.has(i)}getEntries(e){return(this.index[e]||new sn(Nr.comparator)).toArray()}}const hy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},x2=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(x2,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class el{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new el(0)}static ar(){return new el(-1)}}const fy="LruGarbageCollector",W6=1048576;function dy([p,e],[t,i]){const c=ur(p,t);return c===0?ur(e,i):c}class Y6{constructor(e){this.Pr=e,this.buffer=new sn(dy),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();dy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class X6{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){me(fy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ll(t)?me(fy,"Ignoring IndexedDB error during garbage collection: ",t):await ol(t)}await this.Ar(3e5)}))}}class K6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return $t.resolve(zh.ce);const i=new Y6(t);return this.Vr.forEachTarget(e,(c=>i.Er(c.sequenceNumber))).next((()=>this.Vr.mr(e,(c=>i.Er(c))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),$t.resolve(hy)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hy):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,c,o,s,h,a,n;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),c=this.params.maximumSequenceNumbersToCollect):c=m,s=Date.now(),this.nthSequenceNumber(e,c)))).next((m=>(i=m,h=Date.now(),this.removeTargets(e,i,t)))).next((m=>(o=m,a=Date.now(),this.removeOrphanedDocuments(e,i)))).next((m=>(n=Date.now(),Uo()<=lr.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${c} in `+(h-s)+`ms
	Removed ${o} targets in `+(a-h)+`ms
	Removed ${m} documents in `+(n-a)+`ms
Total Duration: ${n-u}ms`),$t.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:o,documentsRemoved:m}))))}}function Q6(p,e){return new K6(p,e)}class Z6{constructor(){this.changes=new ro((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?$t.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class J6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class t5{constructor(e,t,i,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=c}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((c=>(i=c,this.remoteDocumentCache.getEntry(e,t)))).next((c=>(i!==null&&fu(i.mutation,c,Zn.empty(),Or.now()),c)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,cr()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=cr()){const c=Ha();return this.populateOverlays(e,c,t).next((()=>this.computeViews(e,t,c,i).next((o=>{let s=su();return o.forEach(((h,a)=>{s=s.insert(h,a.overlayedDocument)})),s}))))}getOverlayedDocuments(e,t){const i=Ha();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,cr())))}populateOverlays(e,t,i){const c=[];return i.forEach((o=>{t.has(o)||c.push(o)})),this.documentOverlayCache.getOverlays(e,c).next((o=>{o.forEach(((s,h)=>{t.set(s,h)}))}))}computeViews(e,t,i,c){let o=Ss();const s=hu(),h=(function(){return hu()})();return t.forEach(((a,n)=>{const u=i.get(n.key);c.has(n.key)&&(u===void 0||u.mutation instanceof ga)?o=o.insert(n.key,n):u!==void 0?(s.set(n.key,u.mutation.getFieldMask()),fu(u.mutation,n,u.mutation.getFieldMask(),Or.now())):s.set(n.key,Zn.empty())})),this.recalculateAndSaveOverlays(e,o).next((a=>(a.forEach(((n,u)=>s.set(n,u))),t.forEach(((n,u)=>h.set(n,new J6(u,s.get(n)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=hu();let c=new Br(((s,h)=>s-h)),o=cr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((s=>{for(const h of s)h.keys().forEach((a=>{const n=t.get(a);if(n===null)return;let u=i.get(a)||Zn.empty();u=h.applyToLocalView(n,u),i.set(a,u);const m=(c.get(h.batchId)||cr()).add(a);c=c.insert(h.batchId,m)}))})).next((()=>{const s=[],h=c.getReverseIterator();for(;h.hasNext();){const a=h.getNext(),n=a.key,u=a.value,m=r2();u.forEach((f=>{if(!o.has(f)){const d=u2(t.get(f),i.get(f));d!==null&&m.set(f,d),o=o.add(f)}})),s.push(this.documentOverlayCache.saveOverlays(e,n,m))}return $t.waitFor(s)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,c){return e6(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,c):this.getDocumentsMatchingCollectionQuery(e,t,i,c)}getNextDocuments(e,t,i,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,c).next((o=>{const s=c-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,c-o.size):$t.resolve(Ha());let h=gu,a=o;return s.next((n=>$t.forEach(n,((u,m)=>(h<m.largestBatchId&&(h=m.largestBatchId),o.get(u)?$t.resolve():this.remoteDocumentCache.getEntry(e,u).next((f=>{a=a.insert(u,f)}))))).next((()=>this.populateOverlays(e,n,o))).next((()=>this.computeViews(e,a,n,cr()))).next((u=>({batchId:h,changes:e2(u)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next((i=>{let c=su();return i.isFoundDocument()&&(c=c.insert(i.key,i)),c}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,c){const o=t.collectionGroup;let s=su();return this.indexManager.getCollectionParents(e,o).next((h=>$t.forEach(h,(a=>{const n=(function(m,f){return new ul(f,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(t,a.child(o));return this.getDocumentsMatchingCollectionQuery(e,n,i,c).next((u=>{u.forEach(((m,f)=>{s=s.insert(m,f)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,i,c){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,c)))).next((s=>{o.forEach(((a,n)=>{const u=n.getKey();s.get(u)===null&&(s=s.insert(u,Tn.newInvalidDocument(u)))}));let h=su();return s.forEach(((a,n)=>{const u=o.get(a);u!==void 0&&fu(u.mutation,n,Zn.empty(),Or.now()),$h(t,n)&&(h=h.insert(a,n))})),h}))}}class e5{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return $t.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(c){return{id:c.id,version:c.version,createTime:Gi(c.createTime)}})(t)),$t.resolve()}getNamedQuery(e,t){return $t.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(c){return{name:c.name,query:q6(c.bundledQuery),readTime:Gi(c.readTime)}})(t)),$t.resolve()}}class r5{constructor(){this.overlays=new Br(Me.comparator),this.Lr=new Map}getOverlay(e,t){return $t.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ha();return $t.forEach(t,(c=>this.getOverlay(e,c).next((o=>{o!==null&&i.set(c,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((c,o)=>{this.bt(e,t,o)})),$t.resolve()}removeOverlaysForBatchId(e,t,i){const c=this.Lr.get(i);return c!==void 0&&(c.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),$t.resolve()}getOverlaysForCollection(e,t,i){const c=Ha(),o=t.length+1,s=new Me(t.child("")),h=this.overlays.getIteratorFrom(s);for(;h.hasNext();){const a=h.getNext().value,n=a.getKey();if(!t.isPrefixOf(n.path))break;n.path.length===o&&a.largestBatchId>i&&c.set(a.getKey(),a)}return $t.resolve(c)}getOverlaysForCollectionGroup(e,t,i,c){let o=new Br(((n,u)=>n-u));const s=this.overlays.getIterator();for(;s.hasNext();){const n=s.getNext().value;if(n.getKey().getCollectionGroup()===t&&n.largestBatchId>i){let u=o.get(n.largestBatchId);u===null&&(u=Ha(),o=o.insert(n.largestBatchId,u)),u.set(n.getKey(),n)}}const h=Ha(),a=o.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((n,u)=>h.set(n,u))),!(h.size()>=c)););return $t.resolve(h)}bt(e,t,i){const c=this.overlays.get(i.key);if(c!==null){const s=this.Lr.get(c.largestBatchId).delete(i.key);this.Lr.set(c.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new w6(t,i));let o=this.Lr.get(t);o===void 0&&(o=cr(),this.Lr.set(t,o)),this.Lr.set(t,o.add(i.key))}}class n5{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return $t.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$t.resolve()}}class pm{constructor(){this.kr=new sn(ln.Kr),this.qr=new sn(ln.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new ln(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new ln(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new Me(new Nr([])),i=new ln(t,e),c=new ln(t,e+1),o=[];return this.qr.forEachInRange([i,c],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Me(new Nr([])),i=new ln(t,e),c=new ln(t,e+1);let o=cr();return this.qr.forEachInRange([i,c],(s=>{o=o.add(s.key)})),o}containsKey(e){const t=new ln(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class ln{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Me.comparator(e.key,t.key)||ur(e.Hr,t.Hr)}static Ur(e,t){return ur(e.Hr,t.Hr)||Me.comparator(e.key,t.key)}}class i5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new sn(ln.Kr)}checkEmpty(e){return $t.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,c){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new v6(o,t,i,c);this.mutationQueue.push(s);for(const h of c)this.Jr=this.Jr.add(new ln(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return $t.resolve(s)}lookupMutationBatch(e,t){return $t.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,c=this.Xr(i),o=c<0?0:c;return $t.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $t.resolve(this.mutationQueue.length===0?im:this.Yn-1)}getAllMutationBatches(e){return $t.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new ln(t,0),c=new ln(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,c],(s=>{const h=this.Zr(s.Hr);o.push(h)})),$t.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new sn(ur);return t.forEach((c=>{const o=new ln(c,0),s=new ln(c,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(h=>{i=i.add(h.Hr)}))})),$t.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,c=i.length+1;let o=i;Me.isDocumentKey(o)||(o=o.child(""));const s=new ln(new Me(o),0);let h=new sn(ur);return this.Jr.forEachWhile((a=>{const n=a.key.path;return!!i.isPrefixOf(n)&&(n.length===c&&(h=h.add(a.Hr)),!0)}),s),$t.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((i=>{const c=this.Zr(i);c!==null&&t.push(c)})),t}removeMutationBatch(e,t){wr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return $t.forEach(t.mutations,(c=>{const o=new ln(c.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new ln(t,0),c=this.Jr.firstAfterOrEqual(i);return $t.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return this.mutationQueue.length,$t.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class s5{constructor(e){this.ti=e,this.docs=(function(){return new Br(Me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,c=this.docs.get(i),o=c?c.size:0,s=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return $t.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let i=Ss();return t.forEach((c=>{const o=this.docs.get(c);i=i.insert(c,o?o.document.mutableCopy():Tn.newInvalidDocument(c))})),$t.resolve(i)}getDocumentsMatchingQuery(e,t,i,c){let o=Ss();const s=t.path,h=new Me(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(h);for(;a.hasNext();){const{key:n,value:{document:u}}=a.getNext();if(!s.isPrefixOf(n.path))break;n.path.length>s.length+1||N3(M3(u),i)<=0||(c.has(u.key)||$h(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return $t.resolve(o)}getAllFromCollectionGroup(e,t,i,c){Le(9500)}ni(e,t){return $t.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new a5(this)}getSize(e){return $t.resolve(this.size)}}class a5 extends Z6{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,c)=>{c.isValidDocument()?t.push(this.Mr.addEntry(e,c)):this.Mr.removeEntry(i)})),$t.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class o5{constructor(e){this.persistence=e,this.ri=new ro((t=>om(t)),lm),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.ii=0,this.si=new pm,this.targetCount=0,this.oi=el._r()}forEachTarget(e,t){return this.ri.forEach(((i,c)=>t(c))),$t.resolve()}getLastRemoteSnapshotVersion(e){return $t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $t.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$t.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),$t.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new el(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,$t.resolve()}updateTargetData(e,t){return this.lr(t),$t.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,$t.resolve()}removeTargets(e,t,i){let c=0;const o=[];return this.ri.forEach(((s,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),c++)})),$t.waitFor(o).next((()=>c))}getTargetCount(e){return $t.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return $t.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),$t.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const c=this.persistence.referenceDelegate,o=[];return c&&t.forEach((s=>{o.push(c.markPotentiallyOrphaned(e,s))})),$t.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),$t.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return $t.resolve(i)}containsKey(e,t){return $t.resolve(this.si.containsKey(t))}}class S2{constructor(e,t){this._i={},this.overlays={},this.ai=new zh(0),this.ui=!1,this.ui=!0,this.ci=new n5,this.referenceDelegate=e(this),this.li=new o5(this),this.indexManager=new $6,this.remoteDocumentCache=(function(c){return new s5(c)})((i=>this.referenceDelegate.hi(i))),this.serializer=new H6(t),this.Pi=new e5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new r5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new i5(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){me("MemoryPersistence","Starting transaction:",e);const c=new l5(this.ai.next());return this.referenceDelegate.Ti(),i(c).next((o=>this.referenceDelegate.Ii(c).next((()=>o)))).toPromise().then((o=>(c.raiseOnCommittedEvent(),o)))}Ei(e,t){return $t.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class l5 extends j3{constructor(e){super(),this.currentSequenceNumber=e}}class mm{constructor(e){this.persistence=e,this.Ri=new pm,this.Ai=null}static Vi(e){return new mm(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),$t.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),$t.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),$t.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((c=>this.di.add(c.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((c=>{c.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $t.forEach(this.di,(i=>{const c=Me.fromPath(i);return this.mi(e,c).next((o=>{o||t.removeEntry(c,Fe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return $t.or([()=>$t.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Ch{constructor(e,t){this.persistence=e,this.fi=new ro((i=>P3(i.path)),((i,c)=>i.isEqual(c))),this.garbageCollector=Q6(this,t)}static Vi(e,t){return new Ch(e,t)}Ti(){}Ii(e){return $t.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((c=>i+c))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return $t.forEach(this.fi,((i,c)=>this.wr(e,i,c).next((o=>o?$t.resolve():t(c)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const c=this.persistence.getRemoteDocumentCache(),o=c.newChangeBuffer();return c.ni(e,(s=>this.wr(e,s,t).next((h=>{h||(i++,o.removeEntry(s,Fe.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),$t.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),$t.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),$t.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),$t.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=lh(e.data.value)),t}wr(e,t,i){return $t.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const c=this.fi.get(t);return $t.resolve(c!==void 0&&c>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class gm{constructor(e,t,i,c){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=c}static Es(e,t){let i=cr(),c=cr();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:c=c.add(o.doc.key)}return new gm(e,t.fromCache,i,c)}}class u5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class c5{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Jx()?8:O3(En())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,c){const o={result:null};return this.gs(e,t).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,t,c,i).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new u5;return this.ys(e,t,s).next((h=>{if(o.result=h,this.As)return this.ws(e,t,s,h.size)}))})).next((()=>o.result))}ws(e,t,i,c){return i.documentReadCount<this.Vs?(Uo()<=lr.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$t.resolve()):(Uo()<=lr.DEBUG&&me("QueryEngine","Query:",Fo(t),"scans",i.documentReadCount,"local documents and returns",c,"documents as results."),i.documentReadCount>this.ds*c?(Uo()<=lr.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$i(t))):$t.resolve())}gs(e,t){if(ey(t))return $t.resolve(null);let i=$i(t);return this.indexManager.getIndexType(e,i).next((c=>c===0?null:(t.limit!==null&&c===1&&(t=Dp(t,null,"F"),i=$i(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const s=cr(...o);return this.fs.getDocuments(e,s).next((h=>this.indexManager.getMinOffset(e,i).next((a=>{const n=this.bs(t,h);return this.Ss(t,n,s,a.readTime)?this.gs(e,Dp(t,null,"F")):this.Ds(e,n,t,a)}))))})))))}ps(e,t,i,c){return ey(t)||c.isEqual(Fe.min())?$t.resolve(null):this.fs.getDocuments(e,i).next((o=>{const s=this.bs(t,o);return this.Ss(t,s,i,c)?$t.resolve(null):(Uo()<=lr.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Fo(t)),this.Ds(e,s,t,R3(c,gu)).next((h=>h)))}))}bs(e,t){let i=new sn(Jv(e));return t.forEach(((c,o)=>{$h(e,o)&&(i=i.add(o))})),i}Ss(e,t,i,c){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(c)>0)}ys(e,t,i){return Uo()<=lr.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.fs.getDocumentsMatchingQuery(e,t,ua.min(),i)}Ds(e,t,i,c){return this.fs.getDocumentsMatchingQuery(e,i,c).next((o=>(t.forEach((s=>{o=o.insert(s.key,s)})),o)))}}const bm="LocalStore",h5=3e8;class f5{constructor(e,t,i,c){this.persistence=e,this.Cs=t,this.serializer=c,this.vs=new Br(ur),this.Fs=new ro((o=>om(o)),lm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t5(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function d5(p,e,t,i){return new f5(p,e,t,i)}async function T2(p,e){const t=Ge(p);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let c;return t.mutationQueue.getAllMutationBatches(i).next((o=>(c=o,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const s=[],h=[];let a=cr();for(const n of c){s.push(n.batchId);for(const u of n.mutations)a=a.add(u.key)}for(const n of o){h.push(n.batchId);for(const u of n.mutations)a=a.add(u.key)}return t.localDocuments.getDocuments(i,a).next((n=>({Ns:n,removedBatchIds:s,addedBatchIds:h})))}))}))}function p5(p,e){const t=Ge(p);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const c=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,a,n,u){const m=n.batch,f=m.keys();let d=$t.resolve();return f.forEach((b=>{d=d.next((()=>u.getEntry(a,b))).next((v=>{const g=n.docVersions.get(b);wr(g!==null,48541),v.version.compareTo(g)<0&&(m.applyToRemoteDocument(v,n),v.isValidDocument()&&(v.setReadTime(n.commitVersion),u.addEntry(v)))}))})),d.next((()=>h.mutationQueue.removeMutationBatch(a,m)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,c,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let a=cr();for(let n=0;n<h.mutationResults.length;++n)h.mutationResults[n].transformResults.length>0&&(a=a.add(h.batch.mutations[n].key));return a})(e)))).next((()=>t.localDocuments.getDocuments(i,c)))}))}function E2(p){const e=Ge(p);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function m5(p,e){const t=Ge(p),i=e.snapshotVersion;let c=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=t.xs.newChangeBuffer({trackRemovals:!0});c=t.vs;const h=[];e.targetChanges.forEach(((u,m)=>{const f=c.get(m);if(!f)return;h.push(t.li.removeMatchingKeys(o,u.removedDocuments,m).next((()=>t.li.addMatchingKeys(o,u.addedDocuments,m))));let d=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?d=d.withResumeToken(yn.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),c=c.insert(m,d),(function(v,g,w){return v.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=h5?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0})(f,d,u)&&h.push(t.li.updateTargetData(o,d))}));let a=Ss(),n=cr();if(e.documentUpdates.forEach((u=>{e.resolvedLimboDocuments.has(u)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))})),h.push(g5(o,s,e.documentUpdates).next((u=>{a=u.Bs,n=u.Ls}))),!i.isEqual(Fe.min())){const u=t.li.getLastRemoteSnapshotVersion(o).next((m=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(u)}return $t.waitFor(h).next((()=>s.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,a,n))).next((()=>a))})).then((o=>(t.vs=c,o)))}function g5(p,e,t){let i=cr(),c=cr();return t.forEach((o=>i=i.add(o))),e.getEntries(p,i).next((o=>{let s=Ss();return t.forEach(((h,a)=>{const n=o.get(h);a.isFoundDocument()!==n.isFoundDocument()&&(c=c.add(h)),a.isNoDocument()&&a.version.isEqual(Fe.min())?(e.removeEntry(h,a.readTime),s=s.insert(h,a)):!n.isValidDocument()||a.version.compareTo(n.version)>0||a.version.compareTo(n.version)===0&&n.hasPendingWrites?(e.addEntry(a),s=s.insert(h,a)):me(bm,"Ignoring outdated watch update for ",h,". Current version:",n.version," Watch version:",a.version)})),{Bs:s,Ls:c}}))}function b5(p,e){const t=Ge(p);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=im),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function y5(p,e){const t=Ge(p);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let c;return t.li.getTargetData(i,e).next((o=>o?(c=o,$t.resolve(c)):t.li.allocateTargetId(i).next((s=>(c=new na(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,c).next((()=>c)))))))})).then((i=>{const c=t.vs.get(i.targetId);return(c===null||i.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function zp(p,e,t){const i=Ge(p),c=i.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(s=>i.persistence.referenceDelegate.removeTarget(s,c)))}catch(s){if(!ll(s))throw s;me(bm,`Failed to update sequence numbers for target ${e}: ${s}`)}i.vs=i.vs.remove(e),i.Fs.delete(c.target)}function py(p,e,t){const i=Ge(p);let c=Fe.min(),o=cr();return i.persistence.runTransaction("Execute query","readwrite",(s=>(function(a,n,u){const m=Ge(a),f=m.Fs.get(u);return f!==void 0?$t.resolve(m.vs.get(f)):m.li.getTargetData(n,u)})(i,s,$i(e)).next((h=>{if(h)return c=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(s,h.targetId).next((a=>{o=a}))})).next((()=>i.Cs.getDocumentsMatchingQuery(s,e,t?c:Fe.min(),t?o:cr()))).next((h=>(v5(i,i6(e),h),{documents:h,ks:o})))))}function v5(p,e,t){let i=p.Ms.get(e)||Fe.min();t.forEach(((c,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),p.Ms.set(e,i)}class my{constructor(){this.activeTargetIds=c6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w5{constructor(){this.vo=new my,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new my,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class _5{Mo(e){}shutdown(){}}const gy="ConnectivityMonitor";class by{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){me(gy,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){me(gy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ih=null;function Up(){return ih===null?ih=(function(){return 268435456+Math.round(2147483648*Math.random())})():ih++,"0x"+ih.toString(16)}const mp="RestConnection",x5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class S5{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${c}`,this.$o=this.databaseId.database===xh?`project_id=${i}`:`project_id=${i}&database_id=${c}`}Wo(e,t,i,c,o){const s=Up(),h=this.Qo(e,t.toUriEncodedString());me(mp,`Sending RPC '${e}' ${s}:`,h,i);const a={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(a,c,o);const{host:n}=new URL(h),u=il(n);return this.zo(e,h,a,i,u).then((m=>(me(mp,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw Qa(mp,`RPC '${e}' ${s} failed with error: `,m,"url: ",h,"request:",i),m}))}jo(e,t,i,c,o,s){return this.Wo(e,t,i,c,o)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((c,o)=>e[o]=c)),i&&i.headers.forEach(((c,o)=>e[o]=c))}Qo(e,t){const i=x5[e];let c=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(c=`${c}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),c}terminate(){}}class T5{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const _n="WebChannelConnection",eu=(p,e,t)=>{p.listen(e,(i=>{try{t(i)}catch(c){setTimeout((()=>{throw c}),0)}}))};class Go extends S5{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Go.c_){const e=Rv();eu(e,kv.STAT_EVENT,(t=>{t.stat===kp.PROXY?me(_n,"STAT_EVENT: detected buffering proxy"):t.stat===kp.NOPROXY&&me(_n,"STAT_EVENT: detected no buffering proxy")})),Go.c_=!0}}zo(e,t,i,c,o){const s=Up();return new Promise(((h,a)=>{const n=new Av;n.setWithCredentials(!0),n.listenOnce(Cv.COMPLETE,(()=>{try{switch(n.getLastErrorCode()){case oh.NO_ERROR:const m=n.getResponseJson();me(_n,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),h(m);break;case oh.TIMEOUT:me(_n,`RPC '${e}' ${s} timed out`),a(new ce(Ut.DEADLINE_EXCEEDED,"Request time out"));break;case oh.HTTP_ERROR:const f=n.getStatus();if(me(_n,`RPC '${e}' ${s} failed with status:`,f,"response text:",n.getResponseText()),f>0){let d=n.getResponseJson();Array.isArray(d)&&(d=d[0]);const b=d?.error;if(b&&b.status&&b.message){const v=(function(w){const _=w.toLowerCase().replace(/_/g,"-");return Object.values(Ut).indexOf(_)>=0?_:Ut.UNKNOWN})(b.status);a(new ce(v,b.message))}else a(new ce(Ut.UNKNOWN,"Server responded with status "+n.getStatus()))}else a(new ce(Ut.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:s,h_:n.getLastErrorCode(),P_:n.getLastError()})}}finally{me(_n,`RPC '${e}' ${s} completed.`)}}));const u=JSON.stringify(c);me(_n,`RPC '${e}' ${s} sending request:`,c),n.send(t,"POST",u,i,15)}))}T_(e,t,i){const c=Up(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},a=this.longPollingOptions.timeoutSeconds;a!==void 0&&(h.longPollingTimeout=Math.round(1e3*a)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,i),h.encodeInitMessageHeaders=!0;const n=o.join("");me(_n,`Creating RPC '${e}' stream ${c}: ${n}`,h);const u=s.createWebChannel(n,h);this.I_(u);let m=!1,f=!1;const d=new T5({Ho:b=>{f?me(_n,`Not sending because RPC '${e}' stream ${c} is closed:`,b):(m||(me(_n,`Opening RPC '${e}' stream ${c} transport.`),u.open(),m=!0),me(_n,`RPC '${e}' stream ${c} sending:`,b),u.send(b))},Jo:()=>u.close()});return eu(u,iu.EventType.OPEN,(()=>{f||(me(_n,`RPC '${e}' stream ${c} transport opened.`),d.i_())})),eu(u,iu.EventType.CLOSE,(()=>{f||(f=!0,me(_n,`RPC '${e}' stream ${c} transport closed`),d.o_(),this.E_(u))})),eu(u,iu.EventType.ERROR,(b=>{f||(f=!0,Qa(_n,`RPC '${e}' stream ${c} transport errored. Name:`,b.name,"Message:",b.message),d.o_(new ce(Ut.UNAVAILABLE,"The operation could not be completed")))})),eu(u,iu.EventType.MESSAGE,(b=>{if(!f){const v=b.data[0];wr(!!v,16349);const g=v,w=g?.error||g[0]?.error;if(w){me(_n,`RPC '${e}' stream ${c} received error:`,w);const _=w.status;let A=(function(q){const F=Jr[q];if(F!==void 0)return h2(F)})(_),M=w.message;_==="NOT_FOUND"&&M.includes("database")&&M.includes("does not exist")&&M.includes(this.databaseId.database)&&Qa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),A===void 0&&(A=Ut.INTERNAL,M="Unknown error status: "+_+" with message "+w.message),f=!0,d.o_(new ce(A,M)),u.close()}else me(_n,`RPC '${e}' stream ${c} received:`,v),d.__(v)}})),Go.u_(),setTimeout((()=>{d.s_()}),0),d}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Mv()}}function E5(p){return new Go(p)}function gp(){return typeof document<"u"?document:null}function Xh(p){return new R6(p,!0)}Go.c_=!1;class A2{constructor(e,t,i=1e3,c=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=c,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),c=Math.max(0,t-i);c>0&&me("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,c,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const yy="PersistentStream";class C2{constructor(e,t,i,c,o,s,h,a){this.Ci=e,this.b_=i,this.S_=c,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=h,this.listener=a,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new A2(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ut.RESOURCE_EXHAUSTED?(xs(t.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,c])=>{this.D_===t&&this.G_(i,c)}),(i=>{e((()=>{const c=new ce(Ut.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(c)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((c=>{i((()=>this.z_(c)))})),this.stream.onMessage((c=>{i((()=>++this.F_==1?this.H_(c):this.onNext(c)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(yy,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(me(yy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class A5 extends C2{constructor(e,t,i,c,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,c,s),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=I6(this.serializer,e),i=(function(o){if(!("targetChange"in o))return Fe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Fe.min():s.readTime?Gi(s.readTime):Fe.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Vp(this.serializer),t.addTarget=(function(o,s){let h;const a=s.target;if(h=jp(a)?{documents:D6(o,a)}:{query:P6(o,a).ft},h.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){h.resumeToken=p2(o,s.resumeToken);const n=Pp(o,s.expectedCount);n!==null&&(h.expectedCount=n)}else if(s.snapshotVersion.compareTo(Fe.min())>0){h.readTime=Ah(o,s.snapshotVersion.toTimestamp());const n=Pp(o,s.expectedCount);n!==null&&(h.expectedCount=n)}return h})(this.serializer,e);const i=B6(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.K_(t)}}class C5 extends C2{constructor(e,t,i,c,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,c,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return wr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=O6(e.writeResults,e.commitTime),i=Gi(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Vp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>j6(this.serializer,i)))};this.K_(t)}}class k5{}class R5 extends k5{constructor(e,t,i,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=c,this.ia=!1}sa(){if(this.ia)throw new ce(Ut.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,Lp(t,i),c,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Ut.UNKNOWN,o.toString())}))}jo(e,t,i,c,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,h])=>this.connection.jo(e,Lp(t,i),c,s,h,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Ut.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function M5(p,e,t,i){return new R5(p,e,t,i)}class N5{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(t),this.aa=!1):me("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Za="RemoteStore";class I5{constructor(e,t,i,c,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{i.enqueueAndForget((async()=>{no(this)&&(me(Za,"Restarting streams for network reachability change."),await(async function(a){const n=Ge(a);n.Ea.add(4),await ju(n),n.Va.set("Unknown"),n.Ea.delete(4),await Kh(n)})(this))}))})),this.Va=new N5(i,c)}}async function Kh(p){if(no(p))for(const e of p.Ra)await e(!0)}async function ju(p){for(const e of p.Ra)await e(!1)}function k2(p,e){const t=Ge(p);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),_m(t)?wm(t):cl(t).O_()&&vm(t,e))}function ym(p,e){const t=Ge(p),i=cl(t);t.Ia.delete(e),i.O_()&&R2(t,e),t.Ia.size===0&&(i.O_()?i.L_():no(t)&&t.Va.set("Unknown"))}function vm(p,e){if(p.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=p.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cl(p).Z_(e)}function R2(p,e){p.da.$e(e),cl(p).X_(e)}function wm(p){p.da=new E6({getRemoteKeysForTarget:e=>p.remoteSyncer.getRemoteKeysForTarget(e),At:e=>p.Ia.get(e)||null,ht:()=>p.datastore.serializer.databaseId}),cl(p).start(),p.Va.ua()}function _m(p){return no(p)&&!cl(p).x_()&&p.Ia.size>0}function no(p){return Ge(p).Ea.size===0}function M2(p){p.da=void 0}async function j5(p){p.Va.set("Online")}async function O5(p){p.Ia.forEach(((e,t)=>{vm(p,e)}))}async function D5(p,e){M2(p),_m(p)?(p.Va.ha(e),wm(p)):p.Va.set("Unknown")}async function P5(p,e,t){if(p.Va.set("Online"),e instanceof d2&&e.state===2&&e.cause)try{await(async function(c,o){const s=o.cause;for(const h of o.targetIds)c.Ia.has(h)&&(await c.remoteSyncer.rejectListen(h,s),c.Ia.delete(h),c.da.removeTarget(h))})(p,e)}catch(i){me(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kh(p,i)}else if(e instanceof hh?p.da.Xe(e):e instanceof f2?p.da.st(e):p.da.tt(e),!t.isEqual(Fe.min()))try{const i=await E2(p.localStore);t.compareTo(i)>=0&&await(function(o,s){const h=o.da.Tt(s);return h.targetChanges.forEach(((a,n)=>{if(a.resumeToken.approximateByteSize()>0){const u=o.Ia.get(n);u&&o.Ia.set(n,u.withResumeToken(a.resumeToken,s))}})),h.targetMismatches.forEach(((a,n)=>{const u=o.Ia.get(a);if(!u)return;o.Ia.set(a,u.withResumeToken(yn.EMPTY_BYTE_STRING,u.snapshotVersion)),R2(o,a);const m=new na(u.target,a,n,u.sequenceNumber);vm(o,m)})),o.remoteSyncer.applyRemoteEvent(h)})(p,t)}catch(i){me(Za,"Failed to raise snapshot:",i),await kh(p,i)}}async function kh(p,e,t){if(!ll(e))throw e;p.Ea.add(1),await ju(p),p.Va.set("Offline"),t||(t=()=>E2(p.localStore)),p.asyncQueue.enqueueRetryable((async()=>{me(Za,"Retrying IndexedDB access"),await t(),p.Ea.delete(1),await Kh(p)}))}function N2(p,e){return e().catch((t=>kh(p,t,e)))}async function Qh(p){const e=Ge(p),t=da(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:im;for(;L5(e);)try{const c=await b5(e.localStore,i);if(c===null){e.Ta.length===0&&t.L_();break}i=c.batchId,B5(e,c)}catch(c){await kh(e,c)}I2(e)&&j2(e)}function L5(p){return no(p)&&p.Ta.length<10}function B5(p,e){p.Ta.push(e);const t=da(p);t.O_()&&t.Y_&&t.ea(e.mutations)}function I2(p){return no(p)&&!da(p).x_()&&p.Ta.length>0}function j2(p){da(p).start()}async function V5(p){da(p).ra()}async function z5(p){const e=da(p);for(const t of p.Ta)e.ea(t.mutations)}async function U5(p,e,t){const i=p.Ta.shift(),c=hm.from(i,e,t);await N2(p,(()=>p.remoteSyncer.applySuccessfulWrite(c))),await Qh(p)}async function F5(p,e){e&&da(p).Y_&&await(async function(i,c){if((function(s){return x6(s)&&s!==Ut.ABORTED})(c.code)){const o=i.Ta.shift();da(i).B_(),await N2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,c))),await Qh(i)}})(p,e),I2(p)&&j2(p)}async function vy(p,e){const t=Ge(p);t.asyncQueue.verifyOperationInProgress(),me(Za,"RemoteStore received new credentials");const i=no(t);t.Ea.add(3),await ju(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kh(t)}async function H5(p,e){const t=Ge(p);e?(t.Ea.delete(2),await Kh(t)):e||(t.Ea.add(2),await ju(t),t.Va.set("Unknown"))}function cl(p){return p.ma||(p.ma=(function(t,i,c){const o=Ge(t);return o.sa(),new A5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,c)})(p.datastore,p.asyncQueue,{Zo:j5.bind(null,p),Yo:O5.bind(null,p),t_:D5.bind(null,p),J_:P5.bind(null,p)}),p.Ra.push((async e=>{e?(p.ma.B_(),_m(p)?wm(p):p.Va.set("Unknown")):(await p.ma.stop(),M2(p))}))),p.ma}function da(p){return p.fa||(p.fa=(function(t,i,c){const o=Ge(t);return o.sa(),new C5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,c)})(p.datastore,p.asyncQueue,{Zo:()=>Promise.resolve(),Yo:V5.bind(null,p),t_:F5.bind(null,p),ta:z5.bind(null,p),na:U5.bind(null,p)}),p.Ra.push((async e=>{e?(p.fa.B_(),await Qh(p)):(await p.fa.stop(),p.Ta.length>0&&(me(Za,`Stopping write stream with ${p.Ta.length} pending writes`),p.Ta=[]))}))),p.fa}class xm{constructor(e,t,i,c,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=c,this.removalCallback=o,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,c,o){const s=Date.now()+i,h=new xm(e,t,s,c,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sm(p,e){if(xs("AsyncQueue",`${e}: ${p}`),ll(p))return new ce(Ut.UNAVAILABLE,`${e}: ${p}`);throw p}class Wo{static emptySet(e){return new Wo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=su(),this.sortedSet=new Br(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,o=i.getNext().key;if(!c.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Wo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class wy{constructor(){this.ga=new Br(Me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class rl{constructor(e,t,i,c,o,s,h,a,n){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=c,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=h,this.excludesMetadataChanges=a,this.hasCachedResults=n}static fromInitialDocuments(e,t,i,c,o){const s=[];return t.forEach((h=>{s.push({type:0,doc:h})})),new rl(e,t,Wo.emptySet(t),s,i,c,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==i[c].type||!t[c].doc.isEqual(i[c].doc))return!1;return!0}}class q5{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class $5{constructor(){this.queries=_y(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const c=Ge(t),o=c.queries;c.queries=_y(),o.forEach(((s,h)=>{for(const a of h.ba)a.onError(i)}))})(this,new ce(Ut.ABORTED,"Firestore shutting down"))}}function _y(){return new ro((p=>Zv(p)),qh)}async function Tm(p,e){const t=Ge(p);let i=3;const c=e.query;let o=t.queries.get(c);o?!o.Sa()&&e.Da()&&(i=2):(o=new q5,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(c,!0);break;case 1:o.wa=await t.onListen(c,!1);break;case 2:await t.onFirstRemoteStoreListen(c)}}catch(s){const h=Sm(s,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(h)}t.queries.set(c,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Am(t)}async function Em(p,e){const t=Ge(p),i=e.query;let c=3;const o=t.queries.get(i);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?c=e.Da()?0:1:!o.Sa()&&e.Da()&&(c=2))}switch(c){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function G5(p,e){const t=Ge(p);let i=!1;for(const c of e){const o=c.query,s=t.queries.get(o);if(s){for(const h of s.ba)h.Fa(c)&&(i=!0);s.wa=c}}i&&Am(t)}function W5(p,e,t){const i=Ge(p),c=i.queries.get(e);if(c)for(const o of c.ba)o.onError(t);i.queries.delete(e)}function Am(p){p.Ca.forEach((e=>{e.next()}))}var Fp,xy;(xy=Fp||(Fp={})).Ma="default",xy.Cache="cache";class Cm{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const c of e.docChanges)c.type!==3&&i.push(c);e=new rl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Fp.Cache}}class O2{constructor(e){this.key=e}}class D2{constructor(e){this.key=e}}class Y5{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=cr(),this.mutatedKeys=cr(),this.eu=Jv(e),this.tu=new Wo(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new wy,c=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,s=c,h=!1;const a=this.query.limitType==="F"&&c.size===this.query.limit?c.last():null,n=this.query.limitType==="L"&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal(((u,m)=>{const f=c.get(u),d=$h(this.query,m)?m:null,b=!!f&&this.mutatedKeys.has(f.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let g=!1;f&&d?f.data.isEqual(d.data)?b!==v&&(i.track({type:3,doc:d}),g=!0):this.su(f,d)||(i.track({type:2,doc:d}),g=!0,(a&&this.eu(d,a)>0||n&&this.eu(d,n)<0)&&(h=!0)):!f&&d?(i.track({type:0,doc:d}),g=!0):f&&!d&&(i.track({type:1,doc:f}),g=!0,(a||n)&&(h=!0)),g&&(d?(s=s.add(d),o=v?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{tu:s,iu:i,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,c){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((u,m)=>(function(d,b){const v=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:g})}};return v(d)-v(b)})(u.type,m.type)||this.eu(u.doc,m.doc))),this.ou(i),c=c??!1;const h=t&&!c?this._u():[],a=this.Ya.size===0&&this.current&&!c?1:0,n=a!==this.Xa;return this.Xa=a,s.length!==0||n?{snapshot:new rl(this.query,e.tu,o,s,e.mutatedKeys,a===0,n,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wy,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=cr(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new D2(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new O2(i))})),t}cu(e){this.Za=e.ks,this.Ya=cr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const km="SyncEngine";class X5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class K5{constructor(e){this.key=e,this.hu=!1}}class Q5{constructor(e,t,i,c,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=c,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ro((h=>Zv(h)),qh),this.Iu=new Map,this.Eu=new Set,this.Ru=new Br(Me.comparator),this.Au=new Map,this.Vu=new pm,this.du={},this.mu=new Map,this.fu=el.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z5(p,e,t=!0){const i=U2(p);let c;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),c=o.view.lu()):c=await P2(i,e,t,!0),c}async function J5(p,e){const t=U2(p);await P2(t,e,!0,!1)}async function P2(p,e,t,i){const c=await y5(p.localStore,$i(e)),o=c.targetId,s=p.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await t8(p,e,o,s==="current",c.resumeToken)),p.isPrimaryClient&&t&&k2(p.remoteStore,c),h}async function t8(p,e,t,i,c){p.pu=(m,f,d)=>(async function(v,g,w,_){let A=g.view.ru(w);A.Ss&&(A=await py(v.localStore,g.query,!1).then((({documents:F})=>g.view.ru(F,A))));const M=_&&_.targetChanges.get(g.targetId),O=_&&_.targetMismatches.get(g.targetId)!=null,q=g.view.applyChanges(A,v.isPrimaryClient,M,O);return Ty(v,g.targetId,q.au),q.snapshot})(p,m,f,d);const o=await py(p.localStore,e,!0),s=new Y5(e,o.ks),h=s.ru(o.documents),a=Iu.createSynthesizedTargetChangeForCurrentChange(t,i&&p.onlineState!=="Offline",c),n=s.applyChanges(h,p.isPrimaryClient,a);Ty(p,t,n.au);const u=new X5(e,t,s);return p.Tu.set(e,u),p.Iu.has(t)?p.Iu.get(t).push(e):p.Iu.set(t,[e]),n.snapshot}async function e8(p,e,t){const i=Ge(p),c=i.Tu.get(e),o=i.Iu.get(c.targetId);if(o.length>1)return i.Iu.set(c.targetId,o.filter((s=>!qh(s,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(c.targetId),i.sharedClientState.isActiveQueryTarget(c.targetId)||await zp(i.localStore,c.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(c.targetId),t&&ym(i.remoteStore,c.targetId),Hp(i,c.targetId)})).catch(ol)):(Hp(i,c.targetId),await zp(i.localStore,c.targetId,!0))}async function r8(p,e){const t=Ge(p),i=t.Tu.get(e),c=t.Iu.get(i.targetId);t.isPrimaryClient&&c.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),ym(t.remoteStore,i.targetId))}async function n8(p,e,t){const i=c8(p);try{const c=await(function(s,h){const a=Ge(s),n=Or.now(),u=h.reduce(((d,b)=>d.add(b.key)),cr());let m,f;return a.persistence.runTransaction("Locally write mutations","readwrite",(d=>{let b=Ss(),v=cr();return a.xs.getEntries(d,u).next((g=>{b=g,b.forEach(((w,_)=>{_.isValidDocument()||(v=v.add(w))}))})).next((()=>a.localDocuments.getOverlayedDocuments(d,b))).next((g=>{m=g;const w=[];for(const _ of h){const A=b6(_,m.get(_.key).overlayedDocument);A!=null&&w.push(new ga(_.key,A,qv(A.value.mapValue),hi.exists(!0)))}return a.mutationQueue.addMutationBatch(d,n,w,h)})).next((g=>{f=g;const w=g.applyToLocalDocumentSet(m,v);return a.documentOverlayCache.saveOverlays(d,g.batchId,w)}))})).then((()=>({batchId:f.batchId,changes:e2(m)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(c.batchId),(function(s,h,a){let n=s.du[s.currentUser.toKey()];n||(n=new Br(ur)),n=n.insert(h,a),s.du[s.currentUser.toKey()]=n})(i,c.batchId,t),await Ou(i,c.changes),await Qh(i.remoteStore)}catch(c){const o=Sm(c,"Failed to persist write");t.reject(o)}}async function L2(p,e){const t=Ge(p);try{const i=await m5(t.localStore,e);e.targetChanges.forEach(((c,o)=>{const s=t.Au.get(o);s&&(wr(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1,22616),c.addedDocuments.size>0?s.hu=!0:c.modifiedDocuments.size>0?wr(s.hu,14607):c.removedDocuments.size>0&&(wr(s.hu,42227),s.hu=!1))})),await Ou(t,i,e)}catch(i){await ol(i)}}function Sy(p,e,t){const i=Ge(p);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const c=[];i.Tu.forEach(((o,s)=>{const h=s.view.va(e);h.snapshot&&c.push(h.snapshot)})),(function(s,h){const a=Ge(s);a.onlineState=h;let n=!1;a.queries.forEach(((u,m)=>{for(const f of m.ba)f.va(h)&&(n=!0)})),n&&Am(a)})(i.eventManager,e),c.length&&i.Pu.J_(c),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function i8(p,e,t){const i=Ge(p);i.sharedClientState.updateQueryState(e,"rejected",t);const c=i.Au.get(e),o=c&&c.key;if(o){let s=new Br(Me.comparator);s=s.insert(o,Tn.newNoDocument(o,Fe.min()));const h=cr().add(o),a=new Yh(Fe.min(),new Map,new Br(ur),s,h);await L2(i,a),i.Ru=i.Ru.remove(o),i.Au.delete(e),Rm(i)}else await zp(i.localStore,e,!1).then((()=>Hp(i,e,t))).catch(ol)}async function s8(p,e){const t=Ge(p),i=e.batch.batchId;try{const c=await p5(t.localStore,e);V2(t,i,null),B2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ou(t,c)}catch(c){await ol(c)}}async function a8(p,e,t){const i=Ge(p);try{const c=await(function(s,h){const a=Ge(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",(n=>{let u;return a.mutationQueue.lookupMutationBatch(n,h).next((m=>(wr(m!==null,37113),u=m.keys(),a.mutationQueue.removeMutationBatch(n,m)))).next((()=>a.mutationQueue.performConsistencyCheck(n))).next((()=>a.documentOverlayCache.removeOverlaysForBatchId(n,u,h))).next((()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,u))).next((()=>a.localDocuments.getDocuments(n,u)))}))})(i.localStore,e);V2(i,e,t),B2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ou(i,c)}catch(c){await ol(c)}}function B2(p,e){(p.mu.get(e)||[]).forEach((t=>{t.resolve()})),p.mu.delete(e)}function V2(p,e,t){const i=Ge(p);let c=i.du[i.currentUser.toKey()];if(c){const o=c.get(e);o&&(t?o.reject(t):o.resolve(),c=c.remove(e)),i.du[i.currentUser.toKey()]=c}}function Hp(p,e,t=null){p.sharedClientState.removeLocalQueryTarget(e);for(const i of p.Iu.get(e))p.Tu.delete(i),t&&p.Pu.yu(i,t);p.Iu.delete(e),p.isPrimaryClient&&p.Vu.Gr(e).forEach((i=>{p.Vu.containsKey(i)||z2(p,i)}))}function z2(p,e){p.Eu.delete(e.path.canonicalString());const t=p.Ru.get(e);t!==null&&(ym(p.remoteStore,t),p.Ru=p.Ru.remove(e),p.Au.delete(t),Rm(p))}function Ty(p,e,t){for(const i of t)i instanceof O2?(p.Vu.addReference(i.key,e),o8(p,i)):i instanceof D2?(me(km,"Document no longer in limbo: "+i.key),p.Vu.removeReference(i.key,e),p.Vu.containsKey(i.key)||z2(p,i.key)):Le(19791,{wu:i})}function o8(p,e){const t=e.key,i=t.path.canonicalString();p.Ru.get(t)||p.Eu.has(i)||(me(km,"New document in limbo: "+t),p.Eu.add(i),Rm(p))}function Rm(p){for(;p.Eu.size>0&&p.Ru.size<p.maxConcurrentLimboResolutions;){const e=p.Eu.values().next().value;p.Eu.delete(e);const t=new Me(Nr.fromString(e)),i=p.fu.next();p.Au.set(i,new K5(t)),p.Ru=p.Ru.insert(t,i),k2(p.remoteStore,new na($i(Hh(t.path)),i,"TargetPurposeLimboResolution",zh.ce))}}async function Ou(p,e,t){const i=Ge(p),c=[],o=[],s=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,a)=>{s.push(i.pu(a,e,t).then((n=>{if((n||t)&&i.isPrimaryClient){const u=n?!n.fromCache:t?.targetChanges.get(a.targetId)?.current;i.sharedClientState.updateQueryState(a.targetId,u?"current":"not-current")}if(n){c.push(n);const u=gm.Es(a.targetId,n);o.push(u)}})))})),await Promise.all(s),i.Pu.J_(c),await(async function(a,n){const u=Ge(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>$t.forEach(n,(f=>$t.forEach(f.Ts,(d=>u.persistence.referenceDelegate.addReference(m,f.targetId,d))).next((()=>$t.forEach(f.Is,(d=>u.persistence.referenceDelegate.removeReference(m,f.targetId,d)))))))))}catch(m){if(!ll(m))throw m;me(bm,"Failed to update sequence numbers: "+m)}for(const m of n){const f=m.targetId;if(!m.fromCache){const d=u.vs.get(f),b=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(b);u.vs=u.vs.insert(f,v)}}})(i.localStore,o))}async function l8(p,e){const t=Ge(p);if(!t.currentUser.isEqual(e)){me(km,"User change. New user:",e.toKey());const i=await T2(t.localStore,e);t.currentUser=e,(function(o,s){o.mu.forEach((h=>{h.forEach((a=>{a.reject(new ce(Ut.CANCELLED,s))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ou(t,i.Ns)}}function u8(p,e){const t=Ge(p),i=t.Au.get(e);if(i&&i.hu)return cr().add(i.key);{let c=cr();const o=t.Iu.get(e);if(!o)return c;for(const s of o){const h=t.Tu.get(s);c=c.unionWith(h.view.nu)}return c}}function U2(p){const e=Ge(p);return e.remoteStore.remoteSyncer.applyRemoteEvent=L2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i8.bind(null,e),e.Pu.J_=G5.bind(null,e.eventManager),e.Pu.yu=W5.bind(null,e.eventManager),e}function c8(p){const e=Ge(p);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a8.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return d5(this.persistence,new c5,e.initialUser,this.serializer)}Cu(e){return new S2(mm.Vi,this.serializer)}Du(e){return new w5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class h8 extends Rh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){wr(this.persistence.referenceDelegate instanceof Ch,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new X6(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new S2((i=>Ch.Vi(i,t)),this.serializer)}}class qp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=l8.bind(null,this.syncEngine),await H5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $5})()}createDatastore(e){const t=Xh(e.databaseInfo.databaseId),i=E5(e.databaseInfo);return M5(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,c,o,s,h){return new I5(i,c,o,s,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Sy(this.syncEngine,t,0)),(function(){return by.v()?new by:new _5})())}createSyncEngine(e,t){return(function(c,o,s,h,a,n,u){const m=new Q5(c,o,s,h,a,n);return u&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ge(t);me(Za,"RemoteStore shutting down."),i.Ea.add(5),await ju(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}qp.provider={build:()=>new qp};class Mm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const pa="FirestoreClient";class f8{constructor(e,t,i,c,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=c,this.user=Sn.UNAUTHENTICATED,this.clientId=nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async s=>{me(pa,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,(s=>(me(pa,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Sm(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function bp(p,e){p.asyncQueue.verifyOperationInProgress(),me(pa,"Initializing OfflineComponentProvider");const t=p.configuration;await e.initialize(t);let i=t.initialUser;p.setCredentialChangeListener((async c=>{i.isEqual(c)||(await T2(e.localStore,c),i=c)})),e.persistence.setDatabaseDeletedListener((()=>p.terminate())),p._offlineComponents=e}async function Ey(p,e){p.asyncQueue.verifyOperationInProgress();const t=await d8(p);me(pa,"Initializing OnlineComponentProvider"),await e.initialize(t,p.configuration),p.setCredentialChangeListener((i=>vy(e.remoteStore,i))),p.setAppCheckTokenChangeListener(((i,c)=>vy(e.remoteStore,c))),p._onlineComponents=e}async function d8(p){if(!p._offlineComponents)if(p._uninitializedComponentsProvider){me(pa,"Using user provided OfflineComponentProvider");try{await bp(p,p._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(c){return c.name==="FirebaseError"?c.code===Ut.FAILED_PRECONDITION||c.code===Ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||c.code===22||c.code===20||c.code===11})(t))throw t;Qa("Error using user provided cache. Falling back to memory cache: "+t),await bp(p,new Rh)}}else me(pa,"Using default OfflineComponentProvider"),await bp(p,new h8(void 0));return p._offlineComponents}async function F2(p){return p._onlineComponents||(p._uninitializedComponentsProvider?(me(pa,"Using user provided OnlineComponentProvider"),await Ey(p,p._uninitializedComponentsProvider._online)):(me(pa,"Using default OnlineComponentProvider"),await Ey(p,new qp))),p._onlineComponents}function p8(p){return F2(p).then((e=>e.syncEngine))}async function Mh(p){const e=await F2(p),t=e.eventManager;return t.onListen=Z5.bind(null,e.syncEngine),t.onUnlisten=e8.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=J5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=r8.bind(null,e.syncEngine),t}function m8(p,e,t,i){const c=new Mm(i),o=new Cm(e,c,t);return p.asyncQueue.enqueueAndForget((async()=>Tm(await Mh(p),o))),()=>{c.Nu(),p.asyncQueue.enqueueAndForget((async()=>Em(await Mh(p),o)))}}function g8(p,e,t={}){const i=new ys;return p.asyncQueue.enqueueAndForget((async()=>(function(o,s,h,a,n){const u=new Mm({next:f=>{u.Nu(),s.enqueueAndForget((()=>Em(o,m)));const d=f.docs.has(h);!d&&f.fromCache?n.reject(new ce(Ut.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&a&&a.source==="server"?n.reject(new ce(Ut.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):n.resolve(f)},error:f=>n.reject(f)}),m=new Cm(Hh(h.path),u,{includeMetadataChanges:!0,Ka:!0});return Tm(o,m)})(await Mh(p),p.asyncQueue,e,t,i))),i.promise}function b8(p,e,t={}){const i=new ys;return p.asyncQueue.enqueueAndForget((async()=>(function(o,s,h,a,n){const u=new Mm({next:f=>{u.Nu(),s.enqueueAndForget((()=>Em(o,m))),f.fromCache&&a.source==="server"?n.reject(new ce(Ut.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):n.resolve(f)},error:f=>n.reject(f)}),m=new Cm(h,u,{includeMetadataChanges:!0,Ka:!0});return Tm(o,m)})(await Mh(p),p.asyncQueue,e,t,i))),i.promise}function y8(p,e){const t=new ys;return p.asyncQueue.enqueueAndForget((async()=>n8(await p8(p),e,t))),t.promise}function H2(p){const e={};return p.timeoutSeconds!==void 0&&(e.timeoutSeconds=p.timeoutSeconds),e}const v8="ComponentProvider",Ay=new Map;function w8(p,e,t,i,c){return new V3(p,e,t,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,H2(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator,i)}const q2="firestore.googleapis.com",Cy=!0;class ky{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=q2,this.ssl=Cy}else this.host=e.host,this.ssl=e.ssl??Cy;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=x2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W6)throw new ce(Ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H2(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(Ut.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,c){return i.timeoutSeconds===c.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,i,c){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ky({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ky(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new y3;switch(i.type){case"firstParty":return new x3(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(Ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Ay.get(t);i&&(me(v8,"Removing Datastore"),Ay.delete(t),i.terminate())})(this),Promise.resolve()}}function _8(p,e,t,i={}){p=zn(p,Zh);const c=il(e),o=p._getSettings(),s={...o,emulatorOptions:p._getEmulatorOptions()},h=`${e}:${t}`;c&&(yv(`https://${h}`),vv("Firestore",!0)),o.host!==q2&&o.host!==h&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const a={...o,host:h,ssl:c,emulatorOptions:i};if(!Ya(a,s)&&(p._setSettings(a),i.mockUserToken)){let n,u;if(typeof i.mockUserToken=="string")n=i.mockUserToken,u=Sn.MOCK_USER;else{n=qx(i.mockUserToken,p._app?.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new ce(Ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Sn(m)}p._authCredentials=new v3(new Iv(n,u))}}class ba{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class Fr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fr(this.firestore,e,this._key)}toJSON(){return{type:Fr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Mu(t,Fr._jsonSchema))return new Fr(e,i||null,new Me(Nr.fromString(t.referencePath)))}}Fr._jsonSchemaVersion="firestore/documentReference/1.0",Fr._jsonSchema={type:en("string",Fr._jsonSchemaVersion),referencePath:en("string")};class la extends ba{constructor(e,t,i){super(e,t,Hh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fr(this.firestore,null,new Me(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function nn(p,e,...t){if(p=an(p),jv("collection","path",e),p instanceof Zh){const i=Nr.fromString(e,...t);return U1(i),new la(p,null,i)}{if(!(p instanceof Fr||p instanceof la))throw new ce(Ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=p._path.child(Nr.fromString(e,...t));return U1(i),new la(p.firestore,null,i)}}function gr(p,e,...t){if(p=an(p),arguments.length===1&&(e=nm.newId()),jv("doc","path",e),p instanceof Zh){const i=Nr.fromString(e,...t);return z1(i),new Fr(p,null,new Me(i))}{if(!(p instanceof Fr||p instanceof la))throw new ce(Ut.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=p._path.child(Nr.fromString(e,...t));return z1(i),new Fr(p.firestore,p instanceof la?p.converter:null,new Me(i))}}const Ry="AsyncQueue";class My{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new A2(this,"async_queue_retry"),this._c=()=>{const i=gp();i&&me(Ry,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=gp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=gp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ll(e))throw e;me(Ry,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",Ny(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const c=xm.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(c),c}uc(){this.nc&&Le(47125,{Pc:Ny(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ny(p){let e=p.message||"";return p.stack&&(e=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),e}class Ts extends Zh{constructor(e,t,i,c){super(e,t,i,c),this.type="firestore",this._queue=new My,this._persistenceKey=c?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new My(e),this._firestoreClient=void 0,await e}}}function $2(p,e){const t=typeof p=="object"?p:xv(),i=typeof p=="string"?p:xh,c=tm(t,"firestore").getImmediate({identifier:i});if(!c._initialized){const o=Fx("firestore");o&&_8(c,...o)}return c}function Jh(p){if(p._terminated)throw new ce(Ut.FAILED_PRECONDITION,"The client has already been terminated.");return p._firestoreClient||x8(p),p._firestoreClient}function x8(p){const e=p._freezeSettings(),t=w8(p._databaseId,p._app?.options.appId||"",p._persistenceKey,p._app?.options.apiKey,e);p._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(p._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),p._firestoreClient=new f8(p._authCredentials,p._appCheckCredentials,p._queue,t,p._componentsProvider&&(function(c){const o=c?._online.build();return{_offline:c?._offline.build(o),_online:o}})(p._componentsProvider))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(yn.fromBase64String(e))}catch(t){throw new ce(Ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ci(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:en("string",ci._jsonSchemaVersion),bytes:en("string")};class Nm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ce(Ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class tf{constructor(e){this._methodName=e}}class Wi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ur(this._lat,e._lat)||ur(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:en("string",Wi._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class ki{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,c){if(i.length!==c.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==c[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ki(e.vectorValues);throw new ce(Ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:en("string",ki._jsonSchemaVersion),vectorValues:en("object")};const S8=/^__.*__$/;class T8{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new Nu(e,this.data,t,this.fieldTransforms)}}class G2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function W2(p){switch(p){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:p})}}class Im{constructor(e,t,i,c,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=c,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Im({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(W2(this.dataSource)&&S8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class E8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Xh(e)}createContext(e,t,i,c=!1){return new Im({dataSource:e,methodName:t,targetDoc:i,path:bn.emptyPath(),arrayElement:!1,hasConverter:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ef(p){const e=p._freezeSettings(),t=Xh(p._databaseId);return new E8(p._databaseId,!!e.ignoreUndefinedProperties,t)}function Y2(p,e,t,i,c,o={}){const s=p.createContext(o.merge||o.mergeFields?2:0,e,t,c);Om("Data must be an object, but it was:",s,i);const h=X2(i,s);let a,n;if(o.merge)a=new Zn(s.fieldMask),n=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const m of o.mergeFields){const f=Ja(e,m,t);if(!s.contains(f))throw new ce(Ut.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Z2(u,f)||u.push(f)}a=new Zn(u),n=s.fieldTransforms.filter((m=>a.covers(m.field)))}else a=null,n=s.fieldTransforms;return new T8(new Vn(h),a,n)}class rf extends tf{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rf}}class jm extends tf{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Su(e.serializer,i2(e.serializer,this.Vc));return new d6(e.path,t)}isEqual(e){return e instanceof jm&&this.Vc===e.Vc}}function A8(p,e,t,i){const c=p.createContext(1,e,t);Om("Data must be an object, but it was:",c,i);const o=[],s=Vn.empty();ma(i,((a,n)=>{const u=Q2(e,a,t);n=an(n);const m=c.childContextForFieldPath(u);if(n instanceof rf)o.push(u);else{const f=Du(n,m);f!=null&&(o.push(u),s.set(u,f))}}));const h=new Zn(o);return new G2(s,h,c.fieldTransforms)}function C8(p,e,t,i,c,o){const s=p.createContext(1,e,t),h=[Ja(e,i,t)],a=[c];if(o.length%2!=0)throw new ce(Ut.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<o.length;f+=2)h.push(Ja(e,o[f])),a.push(o[f+1]);const n=[],u=Vn.empty();for(let f=h.length-1;f>=0;--f)if(!Z2(n,h[f])){const d=h[f];let b=a[f];b=an(b);const v=s.childContextForFieldPath(d);if(b instanceof rf)n.push(d);else{const g=Du(b,v);g!=null&&(n.push(d),u.set(d,g))}}const m=new Zn(n);return new G2(u,m,s.fieldTransforms)}function k8(p,e,t,i=!1){return Du(t,p.createContext(i?4:3,e))}function Du(p,e){if(K2(p=an(p)))return Om("Unsupported field value:",e,p),X2(p,e);if(p instanceof tf)return(function(i,c){if(!W2(c.dataSource))throw c.createError(`${i._methodName}() can only be used with update() and set()`);if(!c.path)throw c.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(c);o&&c.fieldTransforms.push(o)})(p,e),null;if(p===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),p instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,c){const o=[];let s=0;for(const h of i){let a=Du(h,c.childContextForArray(s));a==null&&(a={nullValue:"NULL_VALUE"}),o.push(a),s++}return{arrayValue:{values:o}}})(p,e)}return(function(i,c){if((i=an(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return i2(c.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Or.fromDate(i);return{timestampValue:Ah(c.serializer,o)}}if(i instanceof Or){const o=new Or(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ah(c.serializer,o)}}if(i instanceof Wi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ci)return{bytesValue:p2(c.serializer,i._byteString)};if(i instanceof Fr){const o=c.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw c.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:dm(i.firestore._databaseId||c.databaseId,i._key.path)}}if(i instanceof ki)return(function(s,h){const a=s instanceof ki?s.toArray():s;return{mapValue:{fields:{[Fv]:{stringValue:Hv},[Sh]:{arrayValue:{values:a.map((u=>{if(typeof u!="number")throw h.createError("VectorValues must only contain numeric values.");return um(h.serializer,u)}))}}}}}})(i,c);if(_2(i))return i._toProto(c.serializer);throw c.createError(`Unsupported field value: ${Vh(i)}`)})(p,e)}function X2(p,e){const t={};return Pv(p)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ma(p,((i,c)=>{const o=Du(c,e.childContextForField(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function K2(p){return!(typeof p!="object"||p===null||p instanceof Array||p instanceof Date||p instanceof Or||p instanceof Wi||p instanceof ci||p instanceof Fr||p instanceof tf||p instanceof ki||_2(p))}function Om(p,e,t){if(!K2(t)||!Ov(t)){const i=Vh(t);throw i==="an object"?e.createError(p+" a custom object"):e.createError(p+" "+i)}}function Ja(p,e,t){if((e=an(e))instanceof Nm)return e._internalPath;if(typeof e=="string")return Q2(p,e);throw Nh("Field path arguments must be of type string or ",p,!1,void 0,t)}const R8=new RegExp("[~\\*/\\[\\]]");function Q2(p,e,t){if(e.search(R8)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,p,!1,void 0,t);try{return new Nm(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,p,!1,void 0,t)}}function Nh(p,e,t,i,c){const o=i&&!i.isEmpty(),s=c!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let a="";return(o||s)&&(a+=" (found",o&&(a+=` in field ${i}`),s&&(a+=` in document ${c}`),a+=")"),new ce(Ut.INVALID_ARGUMENT,h+p+a)}function Z2(p,e){return p.some((t=>t.isEqual(e)))}class M8{convertValue(e,t="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return ma(e,((c,o)=>{i[c]=this.convertValue(o,t)})),i}convertVectorValue(e){const t=e.fields?.[Sh].arrayValue?.values?.map((i=>Yr(i.doubleValue)));return new ki(t)}convertGeoPoint(e){return new Wi(Yr(e.latitude),Yr(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Fh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=ca(e);return new Or(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nr.fromString(e);wr(w2(i),9688,{name:e});const c=new yu(i.get(1),i.get(3)),o=new Me(i.popFirst(5));return c.isEqual(t)||xs(`Document ${o} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class Dm extends M8{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fr(this.firestore,null,t)}}function Vo(p){return new jm("increment",p)}const Iy="@firebase/firestore",jy="4.11.0";function Oy(p){return(function(t,i){if(typeof t!="object"||t===null)return!1;const c=t;for(const o of i)if(o in c&&typeof c[o]=="function")return!0;return!1})(p,["next","error","complete"])}class J2{constructor(e,t,i,c,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=c,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Fr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Ja("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class N8 extends J2{data(){return super.data()}}function tw(p){if(p.limitType==="L"&&p.explicitOrderBy.length===0)throw new ce(Ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pm{}class ew extends Pm{}function Ei(p,e,...t){let i=[];e instanceof Pm&&i.push(e),i=i.concat(t),(function(o){const s=o.filter((a=>a instanceof Lm)).length,h=o.filter((a=>a instanceof nf)).length;if(s>1||s>0&&h>0)throw new ce(Ut.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const c of i)p=c._apply(p);return p}class nf extends ew{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new nf(e,t,i)}_apply(e){const t=this._parse(e);return rw(e._query,t),new ba(e.firestore,e.converter,Op(e._query,t))}_parse(e){const t=ef(e.firestore);return(function(o,s,h,a,n,u,m){let f;if(n.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ce(Ut.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Py(m,u);const b=[];for(const v of m)b.push(Dy(a,o,v));f={arrayValue:{values:b}}}else f=Dy(a,o,m)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Py(m,u),f=k8(h,s,m,u==="in"||u==="not-in");return tn.create(n,u,f)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Fi(p,e,t){const i=e,c=Ja("where",p);return nf._create(c,i,t)}class Lm extends Pm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Lm(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Mi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(c,o){let s=c;const h=o.getFlattenedFilters();for(const a of h)rw(s,a),s=Op(s,a)})(e._query,t),new ba(e.firestore,e.converter,Op(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bm extends ew{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Bm(e,t)}_apply(e){const t=(function(c,o,s){if(c.startAt!==null)throw new ce(Ut.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(c.endAt!==null)throw new ce(Ut.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(o,s)})(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,n6(e._query,t))}}function Tu(p,e="asc"){const t=e,i=Ja("orderBy",p);return Bm._create(i,t)}function Dy(p,e,t){if(typeof(t=an(t))=="string"){if(t==="")throw new ce(Ut.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qv(e)&&t.indexOf("/")!==-1)throw new ce(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Nr.fromString(t));if(!Me.isDocumentKey(i))throw new ce(Ut.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return X1(p,new Me(i))}if(t instanceof Fr)return X1(p,t._key);throw new ce(Ut.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vh(t)}.`)}function Py(p,e){if(!Array.isArray(p)||p.length===0)throw new ce(Ut.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rw(p,e){const t=(function(c,o){for(const s of c)for(const h of s.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(p.filters,(function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ce(Ut.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Ut.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function nw(p,e,t){let i;return i=p?t&&(t.merge||t.mergeFields)?p.toFirestore(e,t):p.toFirestore(e):e,i}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $a extends J2{constructor(e,t,i,c,o,s){super(e,t,i,c,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ja("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=$a._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}$a._jsonSchemaVersion="firestore/documentSnapshot/1.0",$a._jsonSchema={type:en("string",$a._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class fh extends $a{data(e={}){return super.data(e)}}class Ga{constructor(e,t,i,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new ou(c.hasPendingWrites,c.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new fh(this._firestore,this._userDataWriter,i.key,i,new ou(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(c,o){if(c._snapshot.oldDocs.isEmpty()){let s=0;return c._snapshot.docChanges.map((h=>{const a=new fh(c._firestore,c._userDataWriter,h.doc.key,h.doc,new ou(c._snapshot.mutatedKeys.has(h.doc.key),c._snapshot.fromCache),c.query.converter);return h.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}}))}{let s=c._snapshot.oldDocs;return c._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const a=new fh(c._firestore,c._userDataWriter,h.doc.key,h.doc,new ou(c._snapshot.mutatedKeys.has(h.doc.key),c._snapshot.fromCache),c.query.converter);let n=-1,u=-1;return h.type!==0&&(n=s.indexOf(h.doc.key),s=s.delete(h.doc.key)),h.type!==1&&(s=s.add(h.doc),u=s.indexOf(h.doc.key)),{type:I8(h.type),doc:a,oldIndex:n,newIndex:u}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ga._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],c=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),c.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function I8(p){switch(p){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:p})}}Ga._jsonSchemaVersion="firestore/querySnapshot/1.0",Ga._jsonSchema={type:en("string",Ga._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function Eu(p){p=zn(p,Fr);const e=zn(p.firestore,Ts),t=Jh(e);return g8(t,p._key).then((i=>iw(e,p,i)))}function dh(p){p=zn(p,ba);const e=zn(p.firestore,Ts),t=Jh(e),i=new Dm(e);return tw(p._query),b8(t,p._query).then((c=>new Ga(e,i,p,c)))}function vs(p,e,t){p=zn(p,Fr);const i=zn(p.firestore,Ts),c=nw(p.converter,e,t),o=ef(i);return sf(i,[Y2(o,"setDoc",p._key,c,p.converter!==null,t).toMutation(p._key,hi.none())])}function Ti(p,e,t,...i){p=zn(p,Fr);const c=zn(p.firestore,Ts),o=ef(c);let s;return s=typeof(e=an(e))=="string"||e instanceof Nm?C8(o,"updateDoc",p._key,e,t,i):A8(o,"updateDoc",p._key,e),sf(c,[s.toMutation(p._key,hi.exists(!0))])}function $o(p){return sf(zn(p.firestore,Ts),[new cm(p._key,hi.none())])}function Wa(p,e){const t=zn(p.firestore,Ts),i=gr(p),c=nw(p.converter,e),o=ef(p.firestore);return sf(t,[Y2(o,"addDoc",i._key,c,p.converter!==null,{}).toMutation(i._key,hi.exists(!1))]).then((()=>i))}function qi(p,...e){p=an(p);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Oy(e[i])||(t=e[i++]);const c={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Oy(e[i])){const n=e[i];e[i]=n.next?.bind(n),e[i+1]=n.error?.bind(n),e[i+2]=n.complete?.bind(n)}let o,s,h;if(p instanceof Fr)s=zn(p.firestore,Ts),h=Hh(p._key.path),o={next:n=>{e[i]&&e[i](iw(s,p,n))},error:e[i+1],complete:e[i+2]};else{const n=zn(p,ba);s=zn(n.firestore,Ts),h=n._query;const u=new Dm(s);o={next:m=>{e[i]&&e[i](new Ga(s,u,n,m))},error:e[i+1],complete:e[i+2]},tw(p._query)}const a=Jh(s);return m8(a,h,c,o)}function sf(p,e){const t=Jh(p);return y8(t,e)}function iw(p,e,t){const i=t.docs.get(e._key),c=new Dm(p);return new $a(p,c,e._key,i,new ou(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){b3(sl),Qo(new Xa("firestore",((i,{instanceIdentifier:c,options:o})=>{const s=i.getProvider("app").getImmediate(),h=new Ts(new w3(i.getProvider("auth-internal")),new S3(s,i.getProvider("app-check-internal")),z3(s,c),s);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),aa(Iy,jy,e),aa(Iy,jy,"esm2020")})();var j8="firebase",O8="12.9.0";aa(j8,O8,"app");function sw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const D8=sw,aw=new ku("auth","Firebase",sw());const Ih=new Zp("@firebase/auth");function P8(p,...e){Ih.logLevel<=lr.WARN&&Ih.warn(`Auth (${sl}): ${p}`,...e)}function ph(p,...e){Ih.logLevel<=lr.ERROR&&Ih.error(`Auth (${sl}): ${p}`,...e)}function fi(p,...e){throw zm(p,...e)}function Ri(p,...e){return zm(p,...e)}function Vm(p,e,t){const i={...D8(),[e]:t};return new ku("auth","Firebase",i).create(e,{appName:p.name})}function ws(p){return Vm(p,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L8(p,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&fi(p,"argument-error"),Vm(p,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zm(p,...e){if(typeof p!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=p.name),p._errorFactory.create(t,...i)}return aw.create(p,...e)}function Pe(p,e,...t){if(!p)throw zm(e,...t)}function gs(p){const e="INTERNAL ASSERTION FAILED: "+p;throw ph(e),new Error(e)}function Es(p,e){p||gs(e)}function $p(){return typeof self<"u"&&self.location?.href||""}function B8(){return Ly()==="http:"||Ly()==="https:"}function Ly(){return typeof self<"u"&&self.location?.protocol||null}function V8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B8()||Kx()||"connection"in navigator)?navigator.onLine:!0}function z8(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}class Pu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Es(t>e,"Short delay should be less than long delay!"),this.isMobile=Wx()||Qx()}get(){return V8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Um(p,e){Es(p.emulator,"Emulator should always be set here");const{url:t}=p.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class ow{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const U8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const F8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],H8=new Pu(3e4,6e4);function ya(p,e){return p.tenantId&&!e.tenantId?{...e,tenantId:p.tenantId}:e}async function va(p,e,t,i,c={}){return lw(p,c,async()=>{let o={},s={};i&&(e==="GET"?s=i:o={body:JSON.stringify(i)});const h=Ru({key:p.config.apiKey,...s}).slice(1),a=await p._getAdditionalHeaders();a["Content-Type"]="application/json",p.languageCode&&(a["X-Firebase-Locale"]=p.languageCode);const n={method:e,headers:a,...o};return Xx()||(n.referrerPolicy="no-referrer"),p.emulatorConfig&&il(p.emulatorConfig.host)&&(n.credentials="include"),ow.fetch()(await uw(p,p.config.apiHost,t,h),n)})}async function lw(p,e,t){p._canInitEmulator=!1;const i={...U8,...e};try{const c=new $8(p),o=await Promise.race([t(),c.promise]);c.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw sh(p,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const h=o.ok?s.errorMessage:s.error.message,[a,n]=h.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(p,"credential-already-in-use",s);if(a==="EMAIL_EXISTS")throw sh(p,"email-already-in-use",s);if(a==="USER_DISABLED")throw sh(p,"user-disabled",s);const u=i[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw Vm(p,u,n);fi(p,u)}}catch(c){if(c instanceof As)throw c;fi(p,"network-request-failed",{message:String(c)})}}async function Lu(p,e,t,i,c={}){const o=await va(p,e,t,i,c);return"mfaPendingCredential"in o&&fi(p,"multi-factor-auth-required",{_serverResponse:o}),o}async function uw(p,e,t,i){const c=`${e}${t}?${i}`,o=p,s=o.config.emulator?Um(p.config,c):`${p.config.apiScheme}://${c}`;return F8.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function q8(p){switch(p){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ri(this.auth,"network-request-failed")),H8.get())})}}function sh(p,e,t){const i={appName:p.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const c=Ri(p,e,i);return c.customData._tokenResponse=t,c}function By(p){return p!==void 0&&p.enterprise!==void 0}class G8{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return q8(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W8(p,e){return va(p,"GET","/v2/recaptchaConfig",ya(p,e))}async function Y8(p,e){return va(p,"POST","/v1/accounts:delete",e)}async function jh(p,e){return va(p,"POST","/v1/accounts:lookup",e)}function du(p){if(p)try{const e=new Date(Number(p));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X8(p,e=!1){const t=an(p),i=await t.getIdToken(e),c=Fm(i);Pe(c&&c.exp&&c.auth_time&&c.iat,t.auth,"internal-error");const o=typeof c.firebase=="object"?c.firebase:void 0,s=o?.sign_in_provider;return{claims:c,token:i,authTime:du(yp(c.auth_time)),issuedAtTime:du(yp(c.iat)),expirationTime:du(yp(c.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function yp(p){return Number(p)*1e3}function Fm(p){const[e,t,i]=p.split(".");if(e===void 0||t===void 0||i===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const c=pv(t);return c?JSON.parse(c):(ph("Failed to decode base64 JWT payload"),null)}catch(c){return ph("Caught error parsing JWT payload as JSON",c?.toString()),null}}function Vy(p){const e=Fm(p);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Au(p,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof As&&K8(i)&&p.auth.currentUser===p&&await p.auth.signOut(),i}}function K8({code:p}){return p==="auth/user-disabled"||p==="auth/user-token-expired"}class Q8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=du(this.lastLoginAt),this.creationTime=du(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oh(p){const e=p.auth,t=await p.getIdToken(),i=await Au(p,jh(e,{idToken:t}));Pe(i?.users.length,e,"internal-error");const c=i.users[0];p._notifyReloadListener(c);const o=c.providerUserInfo?.length?cw(c.providerUserInfo):[],s=J8(p.providerData,o),h=p.isAnonymous,a=!(p.email&&c.passwordHash)&&!s?.length,n=h?a:!1,u={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:s,metadata:new Gp(c.createdAt,c.lastLoginAt),isAnonymous:n};Object.assign(p,u)}async function Z8(p){const e=an(p);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function J8(p,e){return[...p.filter(i=>!e.some(c=>c.providerId===i.providerId)),...e]}function cw(p){return p.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function t9(p,e){const t=await lw(p,{},async()=>{const i=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:o}=p.config,s=await uw(p,c,"/v1/token",`key=${o}`),h=await p._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const a={method:"POST",headers:h,body:i};return p.emulatorConfig&&il(p.emulatorConfig.host)&&(a.credentials="include"),ow.fetch()(s,a)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function e9(p,e){return va(p,"POST","/v2/accounts:revokeToken",ya(p,e))}class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=Vy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:c,expiresIn:o}=await t9(e,t);this.updateTokensAndExpiration(i,c,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:c,expirationTime:o}=t,s=new Yo;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),c&&(Pe(typeof c=="string","internal-error",{appName:e}),s.accessToken=c),o&&(Pe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return gs("not implemented")}}function Js(p,e){Pe(typeof p=="string"||typeof p>"u","internal-error",{appName:e})}class Ci{constructor({uid:e,auth:t,stsTokenManager:i,...c}){this.providerId="firebase",this.proactiveRefresh=new Q8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Gp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Au(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return X8(this,e)}reload(){return Z8(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Oh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ws(this.auth));const e=await this.getIdToken();return await Au(this,Y8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,c=t.email??void 0,o=t.phoneNumber??void 0,s=t.photoURL??void 0,h=t.tenantId??void 0,a=t._redirectEventId??void 0,n=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:m,emailVerified:f,isAnonymous:d,providerData:b,stsTokenManager:v}=t;Pe(m&&v,e,"internal-error");const g=Yo.fromJSON(this.name,v);Pe(typeof m=="string",e,"internal-error"),Js(i,e.name),Js(c,e.name),Pe(typeof f=="boolean",e,"internal-error"),Pe(typeof d=="boolean",e,"internal-error"),Js(o,e.name),Js(s,e.name),Js(h,e.name),Js(a,e.name),Js(n,e.name),Js(u,e.name);const w=new Ci({uid:m,auth:e,email:c,emailVerified:f,displayName:i,isAnonymous:d,photoURL:s,phoneNumber:o,tenantId:h,stsTokenManager:g,createdAt:n,lastLoginAt:u});return b&&Array.isArray(b)&&(w.providerData=b.map(_=>({..._}))),a&&(w._redirectEventId=a),w}static async _fromIdTokenResponse(e,t,i=!1){const c=new Yo;c.updateFromServerResponse(t);const o=new Ci({uid:t.localId,auth:e,stsTokenManager:c,isAnonymous:i});return await Oh(o),o}static async _fromGetAccountInfoResponse(e,t,i){const c=t.users[0];Pe(c.localId!==void 0,"internal-error");const o=c.providerUserInfo!==void 0?cw(c.providerUserInfo):[],s=!(c.email&&c.passwordHash)&&!o?.length,h=new Yo;h.updateFromIdToken(i);const a=new Ci({uid:c.localId,auth:e,stsTokenManager:h,isAnonymous:s}),n={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:o,metadata:new Gp(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!o?.length};return Object.assign(a,n),a}}const zy=new Map;function bs(p){Es(p instanceof Function,"Expected a class definition");let e=zy.get(p);return e?(Es(e instanceof p,"Instance stored in cache mismatched with class"),e):(e=new p,zy.set(p,e),e)}class hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hw.type="NONE";const Uy=hw;function mh(p,e,t){return`firebase:${p}:${e}:${t}`}class Xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:c,name:o}=this.auth;this.fullUserKey=mh(this.userKey,c.apiKey,o),this.fullPersistenceKey=mh("persistence",c.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await jh(this.auth,{idToken:e}).catch(()=>{});return t?Ci._fromGetAccountInfoResponse(this.auth,t,e):null}return Ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xo(bs(Uy),e,i);const c=(await Promise.all(t.map(async n=>{if(await n._isAvailable())return n}))).filter(n=>n);let o=c[0]||bs(Uy);const s=mh(i,e.config.apiKey,e.name);let h=null;for(const n of t)try{const u=await n._get(s);if(u){let m;if(typeof u=="string"){const f=await jh(e,{idToken:u}).catch(()=>{});if(!f)break;m=await Ci._fromGetAccountInfoResponse(e,f,u)}else m=Ci._fromJSON(e,u);n!==o&&(h=m),o=n;break}}catch{}const a=c.filter(n=>n._shouldAllowMigration);return!o._shouldAllowMigration||!a.length?new Xo(o,e,i):(o=a[0],h&&await o._set(s,h.toJSON()),await Promise.all(t.map(async n=>{if(n!==o)try{await n._remove(s)}catch{}})),new Xo(o,e,i))}}function Fy(p){const e=p.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bw(e))return"Blackberry";if(yw(e))return"Webos";if(dw(e))return"Safari";if((e.includes("chrome/")||pw(e))&&!e.includes("edge/"))return"Chrome";if(gw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=p.match(t);if(i?.length===2)return i[1]}return"Other"}function fw(p=En()){return/firefox\//i.test(p)}function dw(p=En()){const e=p.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pw(p=En()){return/crios\//i.test(p)}function mw(p=En()){return/iemobile/i.test(p)}function gw(p=En()){return/android/i.test(p)}function bw(p=En()){return/blackberry/i.test(p)}function yw(p=En()){return/webos/i.test(p)}function Hm(p=En()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function r9(p=En()){return Hm(p)&&!!window.navigator?.standalone}function n9(){return Zx()&&document.documentMode===10}function vw(p=En()){return Hm(p)||gw(p)||yw(p)||bw(p)||/windows phone/i.test(p)||mw(p)}function ww(p,e=[]){let t;switch(p){case"Browser":t=Fy(En());break;case"Worker":t=`${Fy(En())}-${p}`;break;default:t=p}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${sl}/${i}`}class i9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,h)=>{try{const a=e(o);s(a)}catch(a){h(a)}});i.onAbort=t,this.queue.push(i);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const c of t)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function s9(p,e={}){return va(p,"GET","/v2/passwordPolicy",ya(p,e))}const a9=6;class o9{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??a9,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),c&&(t.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let c=0;c<e.length;c++)i=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,c,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class l9{constructor(e,t,i,c){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hy(this),this.idTokenSubscription=new Hy(this),this.beforeStateQueue=new i9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=bs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await jh(this,{idToken:e}),i=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,s=i?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===s)&&h?.user&&(i=h.user,c=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=z8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ws(this));const t=e?an(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s9(this),t=new o9(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await e9(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&bs(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[bs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,c){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let s=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(h,this,"internal-error"),h.then(()=>{s||o(this.currentUser)}),typeof t=="function"){const a=e.addObserver(t,i,c);return()=>{s=!0,a()}}else{const a=e.addObserver(t);return()=>{s=!0,a()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ww(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&P8(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wa(p){return an(p)}class Hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=a4(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u9(p){af=p}function _w(p){return af.loadJS(p)}function c9(){return af.recaptchaEnterpriseScript}function h9(){return af.gapiScript}function f9(p){return`__${p}${Math.floor(Math.random()*1e6)}`}class d9{constructor(){this.enterprise=new p9}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class p9{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const m9="recaptcha-enterprise",xw="NO_RECAPTCHA";class g9{constructor(e){this.type=m9,this.auth=wa(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,h)=>{W8(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const n=new G8(a);return o.tenantId==null?o._agentRecaptchaConfig=n:o._tenantRecaptchaConfigs[o.tenantId]=n,s(n.siteKey)}}).catch(a=>{h(a)})})}function c(o,s,h){const a=window.grecaptcha;By(a)?a.enterprise.ready(()=>{a.enterprise.execute(o,{action:e}).then(n=>{s(n)}).catch(()=>{s(xw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d9().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{i(this.auth).then(h=>{if(!t&&By(window.grecaptcha))c(h,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let a=c9();a.length!==0&&(a+=h),_w(a).then(()=>{c(h,o,s)}).catch(n=>{s(n)})}}).catch(h=>{s(h)})})}}async function qy(p,e,t,i=!1,c=!1){const o=new g9(p);let s;if(c)s=xw;else try{s=await o.verify(t)}catch{s=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const a=h.phoneEnrollmentInfo.phoneNumber,n=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:n,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const a=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:a,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:s}):Object.assign(h,{captchaResponse:s}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Wp(p,e,t,i,c){if(p._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await qy(p,e,t,t==="getOobCode");return i(p,o)}else return i(p,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await qy(p,e,t,t==="getOobCode");return i(p,s)}else return Promise.reject(o)})}function b9(p,e){const t=tm(p,"auth");if(t.isInitialized()){const c=t.getImmediate(),o=t.getOptions();if(Ya(o,e??{}))return c;fi(c,"already-initialized")}return t.initialize({options:e})}function y9(p,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(bs);e?.errorMap&&p._updateErrorMap(e.errorMap),p._initializeWithPersistence(i,e?.popupRedirectResolver)}function v9(p,e,t){const i=wa(p);Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const c=!1,o=Sw(e),{host:s,port:h}=w9(e),a=h===null?"":`:${h}`,n={url:`${o}//${s}${a}/`},u=Object.freeze({host:s,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!i._canInitEmulator){Pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pe(Ya(n,i.config.emulator)&&Ya(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=n,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,il(s)?(yv(`${o}//${s}${a}`),vv("Auth",!0)):_9()}function Sw(p){const e=p.indexOf(":");return e<0?"":p.substr(0,e+1)}function w9(p){const e=Sw(p),t=/(\/\/)?([^?#/]+)/.exec(p.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(i);if(c){const o=c[1];return{host:o,port:$y(i.substr(o.length+1))}}else{const[o,s]=i.split(":");return{host:o,port:$y(s)}}}function $y(p){if(!p)return null;const e=Number(p);return isNaN(e)?null:e}function _9(){function p(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p())}class qm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,t){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function x9(p,e){return va(p,"POST","/v1/accounts:signUp",e)}async function S9(p,e){return Lu(p,"POST","/v1/accounts:signInWithPassword",ya(p,e))}async function T9(p,e){return Lu(p,"POST","/v1/accounts:signInWithEmailLink",ya(p,e))}async function E9(p,e){return Lu(p,"POST","/v1/accounts:signInWithEmailLink",ya(p,e))}class Cu extends qm{constructor(e,t,i,c=null){super("password",i),this._email=e,this._password=t,this._tenantId=c}static _fromEmailAndPassword(e,t){return new Cu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Cu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,t,"signInWithPassword",S9);case"emailLink":return T9(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,i,"signUpPassword",x9);case"emailLink":return E9(e,{idToken:t,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ko(p,e){return Lu(p,"POST","/v1/accounts:signInWithIdp",ya(p,e))}const A9="http://localhost";class to extends qm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new to(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:c,...o}=t;if(!i||!c)return null;const s=new to(i,c);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const t=this.buildRequest();return Ko(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ko(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ko(e,t)}buildRequest(){const e={requestUri:A9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ru(t)}return e}}function C9(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k9(p){const e=ru(nu(p)).link,t=e?ru(nu(e)).deep_link_id:null,i=ru(nu(p)).deep_link_id;return(i?ru(nu(i)).link:null)||i||t||e||p}class $m{constructor(e){const t=ru(nu(e)),i=t.apiKey??null,c=t.oobCode??null,o=C9(t.mode??null);Pe(i&&c&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=c,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=k9(e);try{return new $m(t)}catch{return null}}}class hl{constructor(){this.providerId=hl.PROVIDER_ID}static credential(e,t){return Cu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=$m.parseLink(t);return Pe(i,"argument-error"),Cu._fromEmailAndCode(e,i.code,i.tenantId)}}hl.PROVIDER_ID="password";hl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bu extends Gm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ta extends Bu{constructor(){super("facebook.com")}static credential(e){return to._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";ta.PROVIDER_ID="facebook.com";class Ai extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return to._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ai.credential(t,i)}catch{return null}}}Ai.GOOGLE_SIGN_IN_METHOD="google.com";Ai.PROVIDER_ID="google.com";class ea extends Bu{constructor(){super("github.com")}static credential(e){return to._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";class ra extends Bu{constructor(){super("twitter.com")}static credential(e,t){return to._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ra.credential(t,i)}catch{return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";async function R9(p,e){return Lu(p,"POST","/v1/accounts:signUp",ya(p,e))}class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,c=!1){const o=await Ci._fromIdTokenResponse(e,i,c),s=Gy(i);return new eo({user:o,providerId:s,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const c=Gy(i);return new eo({user:e,providerId:c,_tokenResponse:i,operationType:t})}}function Gy(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}class Dh extends As{constructor(e,t,i,c){super(t.code,t.message),this.operationType=i,this.user=c,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,c){return new Dh(e,t,i,c)}}function Tw(p,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(p):t._getIdTokenResponse(p)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(p,o,e,i):o})}async function M9(p,e,t=!1){const i=await Au(p,e._linkToIdToken(p.auth,await p.getIdToken()),t);return eo._forOperation(p,"link",i)}async function N9(p,e,t=!1){const{auth:i}=p;if(Qn(i.app))return Promise.reject(ws(i));const c="reauthenticate";try{const o=await Au(p,Tw(i,c,e,p),t);Pe(o.idToken,i,"internal-error");const s=Fm(o.idToken);Pe(s,i,"internal-error");const{sub:h}=s;return Pe(p.uid===h,i,"user-mismatch"),eo._forOperation(p,c,o)}catch(o){throw o?.code==="auth/user-not-found"&&fi(i,"user-mismatch"),o}}async function Ew(p,e,t=!1){if(Qn(p.app))return Promise.reject(ws(p));const i="signIn",c=await Tw(p,i,e),o=await eo._fromIdTokenResponse(p,i,c);return t||await p._updateCurrentUser(o.user),o}async function I9(p,e){return Ew(wa(p),e)}async function Aw(p){const e=wa(p);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j9(p,e,t){if(Qn(p.app))return Promise.reject(ws(p));const i=wa(p),s=await Wp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R9).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Aw(p),a}),h=await eo._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(h.user),h}function O9(p,e,t){return Qn(p.app)?Promise.reject(ws(p)):I9(an(p),hl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Aw(p),i})}function D9(p,e,t,i){return an(p).onIdTokenChanged(e,t,i)}function P9(p,e,t){return an(p).beforeAuthStateChanged(e,t)}function L9(p,e,t,i){return an(p).onAuthStateChanged(e,t,i)}function B9(p){return an(p).signOut()}const Ph="__sak";class Cw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const V9=1e3,z9=10;class kw extends Cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),c=this.localCache[t];i!==c&&e(t,c,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((s,h,a)=>{this.notifyListeners(s,a)});return}const i=e.key;t?this.detachListener():this.stopPolling();const c=()=>{const s=this.storage.getItem(i);!t&&this.localCache[i]===s||this.notifyListeners(i,s)},o=this.storage.getItem(i);n9()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,z9):c()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},V9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kw.type="LOCAL";const U9=kw;class Rw extends Cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Rw.type="SESSION";const Mw=Rw;function F9(p){return Promise.all(p.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(c=>c.isListeningto(e));if(t)return t;const i=new of(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:c,data:o}=t.data,s=this.handlersMap[c];if(!s?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:c});const h=Array.from(s).map(async n=>n(t.origin,o)),a=await F9(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:c,response:a})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];function Wm(p="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return p+t}class H9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let o,s;return new Promise((h,a)=>{const n=Wm("",20);c.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},i);s={messageChannel:c,onMessage(m){const f=m;if(f.data.eventId===n)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(f.data.response);break;default:clearTimeout(u),clearTimeout(o),a(new Error("invalid_response"));break}}},this.handlers.add(s),c.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:n,data:t},[c.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Yi(){return window}function q9(p){Yi().location.href=p}function Nw(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function $9(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G9(){return navigator?.serviceWorker?.controller||null}function W9(){return Nw()?self:null}const Iw="firebaseLocalStorageDb",Y9=1,Lh="firebaseLocalStorage",jw="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lf(p,e){return p.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function X9(){const p=indexedDB.deleteDatabase(Iw);return new Vu(p).toPromise()}function Yp(){const p=indexedDB.open(Iw,Y9);return new Promise((e,t)=>{p.addEventListener("error",()=>{t(p.error)}),p.addEventListener("upgradeneeded",()=>{const i=p.result;try{i.createObjectStore(Lh,{keyPath:jw})}catch(c){t(c)}}),p.addEventListener("success",async()=>{const i=p.result;i.objectStoreNames.contains(Lh)?e(i):(i.close(),await X9(),e(await Yp()))})})}async function Wy(p,e,t){const i=lf(p,!0).put({[jw]:e,value:t});return new Vu(i).toPromise()}async function K9(p,e){const t=lf(p,!1).get(e),i=await new Vu(t).toPromise();return i===void 0?null:i.value}function Yy(p,e){const t=lf(p,!0).delete(e);return new Vu(t).toPromise()}const Q9=800,Z9=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Z9)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(W9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $9(),!this.activeServiceWorker)return;this.sender=new H9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yp();return await Wy(e,Ph,"1"),await Yy(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Wy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>K9(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const o=lf(c,!1).getAll();return new Vu(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:c,value:o}of e)i.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(o)&&(this.notifyListeners(c,o),t.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!i.has(c)&&(this.notifyListeners(c,null),t.push(c));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const J9=Ow;new Pu(3e4,6e4);function Dw(p,e){return e?bs(e):(Pe(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class Ym extends qm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ko(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ko(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function tS(p){return Ew(p.auth,new Ym(p),p.bypassAuthState)}function eS(p){const{auth:e,user:t}=p;return Pe(t,e,"internal-error"),N9(t,new Ym(p),p.bypassAuthState)}async function rS(p){const{auth:e,user:t}=p;return Pe(t,e,"internal-error"),M9(t,new Ym(p),p.bypassAuthState)}class Pw{constructor(e,t,i,c,o=!1){this.auth=e,this.resolver=i,this.user=c,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:c,tenantId:o,error:s,type:h}=e;if(s){this.reject(s);return}const a={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(a))}catch(n){this.reject(n)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tS;case"linkViaPopup":case"linkViaRedirect":return rS;case"reauthViaPopup":case"reauthViaRedirect":return eS;default:fi(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nS=new Pu(2e3,1e4);async function iS(p,e,t){if(Qn(p.app))return Promise.reject(Ri(p,"operation-not-supported-in-this-environment"));const i=wa(p);L8(p,e,Gm);const c=Dw(i,t);return new qa(i,"signInViaPopup",e,c).executeNotNull()}class qa extends Pw{constructor(e,t,i,c,o){super(e,t,c,o),this.provider=i,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nS.get())};e()}}qa.currentPopupAction=null;const sS="pendingRedirect",gh=new Map;class aS extends Pw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const i=await oS(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oS(p,e){const t=cS(e),i=uS(p);if(!await i._isAvailable())return!1;const c=await i._get(t)==="true";return await i._remove(t),c}function lS(p,e){gh.set(p._key(),e)}function uS(p){return bs(p._redirectPersistence)}function cS(p){return mh(sS,p.config.apiKey,p.name)}async function hS(p,e,t=!1){if(Qn(p.app))return Promise.reject(ws(p));const i=wa(p),c=Dw(i,e),s=await new aS(i,c,t).execute();return s&&!t&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}const fS=600*1e3;class dS{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Lw(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ri(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fS&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xy(e))}saveEventToCache(e){this.cachedEventUids.add(Xy(e)),this.lastProcessedEventTime=Date.now()}}function Xy(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(e=>e).join("-")}function Lw({type:p,error:e}){return p==="unknown"&&e?.code==="auth/no-auth-event"}function pS(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lw(p);default:return!1}}async function mS(p,e={}){return va(p,"GET","/v1/projects",e)}const gS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bS=/^https?/;async function yS(p){if(p.config.emulator)return;const{authorizedDomains:e}=await mS(p);for(const t of e)try{if(vS(t))return}catch{}fi(p,"unauthorized-domain")}function vS(p){const e=$p(),{protocol:t,hostname:i}=new URL(e);if(p.startsWith("chrome-extension://")){const s=new URL(p);return s.hostname===""&&i===""?t==="chrome-extension:"&&p.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===i}if(!bS.test(t))return!1;if(gS.test(p))return i===p;const c=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(i)}const wS=new Pu(3e4,6e4);function Ky(){const p=Yi().___jsl;if(p?.H){for(const e of Object.keys(p.H))if(p.H[e].r=p.H[e].r||[],p.H[e].L=p.H[e].L||[],p.H[e].r=[...p.H[e].L],p.CP)for(let t=0;t<p.CP.length;t++)p.CP[t]=null}}function _S(p){return new Promise((e,t)=>{function i(){Ky(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ky(),t(Ri(p,"network-request-failed"))},timeout:wS.get()})}if(Yi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Yi().gapi?.load)i();else{const c=f9("iframefcb");return Yi()[c]=()=>{gapi.load?i():t(Ri(p,"network-request-failed"))},_w(`${h9()}?onload=${c}`).catch(o=>t(o))}}).catch(e=>{throw bh=null,e})}let bh=null;function xS(p){return bh=bh||_S(p),bh}const SS=new Pu(5e3,15e3),TS="__/auth/iframe",ES="emulator/auth/iframe",AS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kS(p){const e=p.config;Pe(e.authDomain,p,"auth-domain-config-required");const t=e.emulator?Um(e,ES):`https://${p.config.authDomain}/${TS}`,i={apiKey:e.apiKey,appName:p.name,v:sl},c=CS.get(p.config.apiHost);c&&(i.eid=c);const o=p._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${Ru(i).slice(1)}`}async function RS(p){const e=await xS(p),t=Yi().gapi;return Pe(t,p,"internal-error"),e.open({where:document.body,url:kS(p),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AS,dontclear:!0},i=>new Promise(async(c,o)=>{await i.restyle({setHideOnLeave:!1});const s=Ri(p,"network-request-failed"),h=Yi().setTimeout(()=>{o(s)},SS.get());function a(){Yi().clearTimeout(h),c(i)}i.ping(a).then(a,()=>{o(s)})}))}const MS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NS=500,IS=600,jS="_blank",OS="http://localhost";class Qy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DS(p,e,t,i=NS,c=IS){const o=Math.max((window.screen.availHeight-c)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const a={...MS,width:i.toString(),height:c.toString(),top:o,left:s},n=En().toLowerCase();t&&(h=pw(n)?jS:t),fw(n)&&(e=e||OS,a.scrollbars="yes");const u=Object.entries(a).reduce((f,[d,b])=>`${f}${d}=${b},`,"");if(r9(n)&&h!=="_self")return PS(e||"",h),new Qy(null);const m=window.open(e||"",h,u);Pe(m,p,"popup-blocked");try{m.focus()}catch{}return new Qy(m)}function PS(p,e){const t=document.createElement("a");t.href=p,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const LS="__/auth/handler",BS="emulator/auth/handler",VS=encodeURIComponent("fac");async function Zy(p,e,t,i,c,o){Pe(p.config.authDomain,p,"auth-domain-config-required"),Pe(p.config.apiKey,p,"invalid-api-key");const s={apiKey:p.config.apiKey,appName:p.name,authType:t,redirectUrl:i,v:sl,eventId:c};if(e instanceof Gm){e.setDefaultLanguage(p.languageCode),s.providerId=e.providerId||"",s4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,m]of Object.entries({}))s[u]=m}if(e instanceof Bu){const u=e.getScopes().filter(m=>m!=="");u.length>0&&(s.scopes=u.join(","))}p.tenantId&&(s.tid=p.tenantId);const h=s;for(const u of Object.keys(h))h[u]===void 0&&delete h[u];const a=await p._getAppCheckToken(),n=a?`#${VS}=${encodeURIComponent(a)}`:"";return`${zS(p)}?${Ru(h).slice(1)}${n}`}function zS({config:p}){return p.emulator?Um(p,BS):`https://${p.authDomain}/${LS}`}const vp="webStorageSupport";class US{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mw,this._completeRedirectFn=hS,this._overrideRedirectResult=lS}async _openPopup(e,t,i,c){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await Zy(e,t,i,$p(),c);return DS(e,o,Wm())}async _openRedirect(e,t,i,c){await this._originValidation(e);const o=await Zy(e,t,i,$p(),c);return q9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:c,promise:o}=this.eventManagers[t];return c?Promise.resolve(c):(Es(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await RS(e),i=new dS(e);return t.register("authEvent",c=>(Pe(c?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(vp,{type:vp},c=>{const o=c?.[0]?.[vp];o!==void 0&&t(!!o),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vw()||dw()||Hm()}}const FS=US;var Jy="@firebase/auth",tv="1.12.0";class HS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qS(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $S(p){Qo(new Xa("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:h}=i.options;Pe(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const a={apiKey:s,authDomain:h,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ww(p)},n=new l9(i,c,o,a);return y9(n,t),n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Qo(new Xa("auth-internal",e=>{const t=wa(e.getProvider("auth").getImmediate());return(i=>new HS(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),aa(Jy,tv,qS(p)),aa(Jy,tv,"esm2020")}const GS=300,WS=bv("authIdTokenMaxAge")||GS;let ev=null;const YS=p=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>WS)return;const c=t?.token;ev!==c&&(ev=c,await fetch(p,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function Bw(p=xv()){const e=tm(p,"auth");if(e.isInitialized())return e.getImmediate();const t=b9(p,{popupRedirectResolver:FS,persistence:[J9,U9,Mw]}),i=bv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const s=YS(o.toString());P9(t,s,()=>s(t.currentUser)),D9(t,h=>s(h))}}const c=mv("auth");return c&&v9(t,`http://${c}`),t}function XS(){return document.getElementsByTagName("head")?.[0]??document}u9({loadJS(p){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",p),i.onload=e,i.onerror=c=>{const o=Ri("internal-error");o.customData=c,t(o)},i.type="text/javascript",i.charset="UTF-8",XS().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$S("Browser");const KS={apiKey:"AIzaSyADgIdomw9VmyRWyDJrB5kIGwLXke0FSAo",authDomain:"task-manager-tl.firebaseapp.com",projectId:"task-manager-tl",storageBucket:"task-manager-tl.firebasestorage.app",messagingSenderId:"1042228665130",appId:"1:1042228665130:web:69f8244f16145e6cc65c53",measurementId:"G-WLH41TME67"},Vw=em(KS),De=$2(Vw),rv=Bw(Vw);new Ai;const Xm=p=>p?typeof p=="number"?p:p.val?Xm(p.val):Number(p.value)||Number(p.coins)||Number(p.lofiCoins)||0:0,nv=async p=>{try{const e=gr(De,"users",p,"data","wallet"),t=await Eu(e);return t.exists()?Xm(t.data()):0}catch(e){throw console.error("Error en servicio getWalletBalance:",e),e}},QS=async(p,e)=>{const t=typeof e=="object"?Xm(e):Number(e),i=gr(De,"users",p,"data","wallet");return await vs(i,{val:{value:t,coins:t,lofiCoins:t},value:t,coins:t,lofiCoins:t}),t},zw=p=>{const[e,t]=Et.useState(0),[i,c]=Et.useState(!0);Et.useEffect(()=>{if(!p?.uid)return;(async()=>{try{c(!0);const n=await nv(p.uid);t(n)}catch{console.error("Fall la carga de billetera")}finally{c(!1)}})()},[p]);const o=Et.useCallback(async a=>{if(p?.uid){t(a);try{await QS(p.uid,a)}catch{console.error("Error guardando, revirtiendo UI...");const u=await nv(p.uid);t(u)}}},[p]);return{balance:e,loading:i,updateBalance:o,addCoins:a=>o(e+a),spendCoins:a=>e>=a?(o(e-a),!0):!1}},ZS={apiKey:"AIzaSyADgIdomw9VmyRWyDJrB5kIGwLXke0FSAo",authDomain:"task-manager-tl.firebaseapp.com",projectId:"task-manager-tl",storageBucket:"task-manager-tl.firebasestorage.app",messagingSenderId:"1042228665130",appId:"1:1042228665130:web:69f8244f16145e6cc65c53",measurementId:"G-WLH41TME67"},Uw=em(ZS),JS=$2(Uw),pu=Bw(Uw);new Ai;const tT=()=>{const[p,e]=Et.useState(null),[t,i]=Et.useState(!0);return Et.useEffect(()=>{const c=L9(pu,o=>{e(o),i(!1)});return()=>c()},[]),{user:p,loading:t}},ms=(p,e,t,i)=>{const[c,o]=Et.useState(t),[s,h]=Et.useState(!0),a=Et.useCallback(()=>i?gr(JS,"users",i.uid,p,e):null,[i,p,e]);return Et.useEffect(()=>{const u=a();if(!u){h(!1);return}const m=qi(u,f=>{h(!1),f.exists()?o(f.data().val):o(t)},f=>{console.error("Firestore read error",f),h(!1)});return()=>m()},[a]),[c,async u=>{const m=a();if(m){o(u);try{await vs(m,{val:u},{merge:!0})}catch(f){console.error("Error writing to Firestore",f)}}},s]},eT=[{name:"Seba y Estefania",date:"12-08"},{name:"Bianca",date:"12-18"},{name:"Mica",date:"08-01"},{name:"Arturo",date:"04-01"},{name:"Mica",date:"11-21"},{name:"Angie",date:"11-19"},{name:"Dana",date:"08-28"},{name:"Luciano",date:"07-07"}],Fw=["Tienda Lujosa","Clara Tienda","Clara Tierra","Bella Divina"],Hw=["Columna CONFIRMADO","Columna POR UPSELL","Columna DATOS ENTREGA","Columna RESPONDER","Columna REMINDER","Columna LATE VERIFICATION","Chat en vivo (filtro Abiertos)","Chat en vivo (filtro Pendiente)","Ordenes confirmadas sheet (CHECK info)","CHAT Pending Orders","Facebook/Instagram Comments & Chats","Meeting"],Xp={"Tienda Lujosa":"CALL Pending Orders","Clara Tienda":"CALL Pending Orders","Clara Tierra":"CALL Pending Orders","Bella Divina":"CALL Pending Orders"},rT=p=>{const[e,t]=ms("data","tasks",[],p),[i,c]=Et.useState(""),[o,s]=Et.useState(null);Et.useEffect(()=>{const M=setInterval(()=>{e&&e.some(O=>O.running)&&t([...e])},1e3);return()=>clearInterval(M)},[e,t]);const h=Et.useCallback(M=>{const O=[],q=new Set(e.map(j=>j.name.toLowerCase()));let F=0;return M.forEach((j,V)=>{const{shopInput:G,taskName:X}=j,H=`${X} [${G}]`;if(q.has(H.toLowerCase())){F++;return}const R=!Hw.includes(X)&&!Object.values(Xp).includes(X),P={id:Date.now()+V+Math.random(),name:H,rawTaskName:X,shop:G,quantity:null,elapsedTime:0,running:!1,lastTime:null,isCustom:R};O.push(P),q.add(H.toLowerCase())}),O.length>0?(t([...e,...O]),c(""),!0):(F>0&&c("Esas tareas ya existen en la lista."),!1)},[e,t]),a=Et.useCallback(M=>h([M]),[h]),n=Et.useCallback(M=>t(e.filter(O=>O.id!==M)),[e,t]),u=Et.useCallback(()=>{t([]),c("")},[t]),m=Et.useCallback(M=>{const O=Date.now(),q=e.map(F=>{if(F.running&&F.id!==M)return{...F,running:!1,elapsedTime:F.elapsedTime+(O-F.lastTime),lastTime:null};if(F.id===M){const j=!F.running;return{...F,running:j,elapsedTime:j?F.elapsedTime:F.elapsedTime+(O-F.lastTime),lastTime:j?O:null}}return F});t(q)},[e,t]),f=Et.useCallback(()=>{let M=!1,O=null;const q=Date.now(),F=e.map(j=>j.running?(M=!0,O=j.id,{...j,running:!1,elapsedTime:j.elapsedTime+(q-j.lastTime),lastTime:null}):j);if(!M){s({text:"No hay tareas activas.",taskIdToResume:null});return}t(F),s({text:"Tareas detenidas.",taskIdToResume:O})},[e,t]),d=Et.useCallback(()=>{!o||o.taskIdToResume===null||(m(o.taskIdToResume),s(null))},[o,m]),b=Et.useCallback(()=>{s(null)},[]),v=Et.useCallback(M=>{t(e.map(O=>O.id===M?{...O,elapsedTime:0,running:!1,lastTime:null,quantity:null}:O))},[e,t]),g=Et.useCallback((M,O)=>{t(e.map(q=>{if(q.id===M){const F=O.rawTaskName!==void 0?O.rawTaskName:q.rawTaskName,j=O.shop!==void 0?O.shop:q.shop,V=F?`${F} [${j}]`:q.name;return{...q,...O,rawTaskName:F,shop:j,name:V}}return q}))},[e,t]),w=Et.useCallback(()=>t([...e].sort((M,O)=>M.shop.localeCompare(O.shop))),[e,t]),_=Et.useCallback((M,O)=>{if(!M||M.length===0)return;const q=Math.floor(O/M.length),F=O%M.length;let j=!1;const V=e.map(G=>{if(M.includes(G.id)){let X=q;j||(X+=F,j=!0);const H=Math.max(0,G.elapsedTime+X);return{...G,elapsedTime:H}}return G});t(V)},[e,t]),A=Et.useCallback((M,O,q)=>{if(typeof M=="number"){const H=M;if(e.length===0)return;const R=Math.floor(H/e.length),P=H%e.length;let k=!1;const x=e.map((S,T)=>{let E=R;k||(E+=P,k=!0);const N=Math.max(0,S.elapsedTime+E);return{...S,elapsedTime:N}});t(x);return}let F=0;const j=M.toString().trim();if(j.includes(":")){const H=j.split(":"),R=parseInt(H[0]||"0",10),P=parseInt(H[1]||"0",10);F=R*3600*1e3+P*60*1e3}else{const H=parseFloat(j);isNaN(H)||(F=H*60*1e3)}const V=e.reduce((H,R)=>H+R.elapsedTime,0),G=F-V;if(Math.abs(G)<1e3)return;let X=[...e];if(O==="all"){if(X.length===0)return;const H=X.length,R=Math.floor(G/H),P=G%H;X=X.map((k,x)=>{let S=R+(x===0?P:0),T=Math.max(0,k.elapsedTime+S);return{...k,elapsedTime:T}})}else O==="single"&&q&&(X=X.map(H=>{if(H.id===q){let R=Math.max(0,H.elapsedTime+G);return{...H,elapsedTime:R}}return H}));t(X)},[e,t]);return{tasks:e,errorMessage:i,setErrorMessage:c,addTask:a,addMultipleTasks:h,deleteTask:n,deleteAllTasks:u,toggleTimer:m,updateTaskDetails:g,sortTasksByShop:w,resetTaskTimer:v,stopAllTimers:f,statusMessage:o,resumeStoppedTimers:d,clearStatusMessage:b,syncTasksTime:A,distributeTasksTime:_}},xn={seasonal_valentines:{id:"seasonal_valentines",name:"valentines",label:" San Valentn",hidden:!0,type:"theme",bodyBg:"bg-pink-950",rawBg:"radial-gradient(circle at 50% 10%, #be185d 0%, #831843 40%, #000000 100%)",cardBg:"bg-pink-900/60 backdrop-blur-md shadow-[0_0_40px_rgba(236,72,153,0.3)] border border-pink-500/30",primaryText:"text-pink-100",secondaryText:"text-pink-200",accentText:"text-white font-bold drop-shadow-[0_0_5px_rgba(255,255,255,0.8)]",inputBorder:"border-pink-500 focus:border-pink-300 bg-pink-900/50",shopSelectBorder:"border-pink-400",buttonAction:"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-400 hover:to-rose-400 text-white shadow-lg shadow-pink-900/50",buttonAdd:"bg-rose-600 hover:bg-rose-700 text-white shadow-md",modalBg:"bg-pink-950 border-pink-500",customCss:`cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="%23ec4899" stroke="white" stroke-width="1.5" stroke-linejoin="round"><path d="M3 3l7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/></svg>') 0 0, auto !important;`,activeEffects:["valentine_hearts"]},seasonal_halloween:{id:"seasonal_halloween",name:"halloween",label:" Halloween",hidden:!0,type:"theme",bodyBg:"bg-gray-950",rawBg:"linear-gradient(to bottom, #1a0b00 0%, #000000 100%)",cardBg:"bg-[#0a0a0a] shadow-2xl border border-orange-600/50",primaryText:"text-orange-500",secondaryText:"text-gray-400",accentText:"text-yellow-400 font-bold tracking-widest",inputBorder:"border-gray-700 focus:border-orange-500 bg-gray-900",shopSelectBorder:"border-orange-500",buttonAction:"bg-purple-700 hover:bg-purple-800 text-white border border-orange-500 shadow-[0_0_15px_rgba(255,165,0,0.4)]",buttonAdd:"bg-orange-600 hover:bg-orange-700 text-white",modalBg:"bg-gray-900 border-orange-600",activeEffects:["ghost","spiderweb"]},seasonal_christmas:{id:"seasonal_christmas",name:"christmas",label:" Navidad",hidden:!0,type:"theme",bodyBg:"bg-red-950",rawBg:"linear-gradient(to bottom, #022c22 0%, #14532d 100%)",cardBg:"bg-green-900/90 backdrop-blur-sm border border-yellow-400/30",primaryText:"text-white",secondaryText:"text-gray-200",accentText:"text-yellow-300 font-bold",inputBorder:"border-red-400 focus:border-yellow-300 bg-red-900/50",shopSelectBorder:"border-yellow-400",buttonAction:"bg-yellow-500 hover:bg-yellow-600 text-green-900 font-bold shadow-lg",buttonAdd:"bg-red-600 hover:bg-red-700 text-white",modalBg:"bg-green-900 border-yellow-400",activeEffects:["snow","lights"]},seasonal_bianca_bday:{id:"seasonal_bianca_bday",name:"biancaBday",label:" Cumple Bianca",hidden:!0,type:"theme",bodyBg:"bg-black",rawBg:"radial-gradient(circle at top right, #4c1d95, #000)",cardBg:"bg-gray-900/90 backdrop-blur-sm shadow-2xl shadow-purple-500/30 border border-purple-500/50",primaryText:"text-purple-400",secondaryText:"text-pink-300",accentText:"text-pink-400 font-bold animate-pulse",inputBorder:"border-gray-700 focus:border-purple-500 bg-gray-800",shopSelectBorder:"border-pink-400",buttonAction:"bg-purple-600 hover:bg-purple-700 text-white shadow-[0_0_15px_rgba(192,132,252,0.5)]",buttonAdd:"bg-red-600 hover:bg-red-700 text-white",modalBg:"bg-gray-900 border-pink-500",activeEffects:["mickey_confetti"]},seasonal_party:{id:"seasonal_party",name:"party",label:" Cumpleaos",hidden:!0,type:"theme",bodyBg:"bg-slate-900",cardBg:"bg-gray-900/80 backdrop-blur-sm border border-fuchsia-500/30",primaryText:"text-fuchsia-400",secondaryText:"text-gray-200",accentText:"text-cyan-400 font-bold",inputBorder:"border-gray-600 focus:border-fuchsia-500 bg-gray-800",shopSelectBorder:"border-cyan-500",buttonAction:"bg-gradient-to-r from-fuchsia-600 to-cyan-600 text-white",buttonAdd:"bg-fuchsia-600 hover:bg-fuchsia-700 text-white",modalBg:"bg-gray-900 border-fuchsia-500",activeEffects:["mickey_confetti"]},default:{id:"default",name:"default",label:" Default Nexus",type:"theme",price:0,bodyBg:"bg-gradient-to-b from-slate-900 via-[#0f172a] to-[#020617]",cardBg:"bg-slate-800/95 backdrop-blur-sm border border-slate-700 shadow-xl",primaryText:"text-slate-100 tracking-wide",secondaryText:"text-slate-400",accentText:"text-blue-400 font-semibold drop-shadow-sm",inputBorder:"border-slate-600 focus:border-blue-500 bg-slate-950/50",shopSelectBorder:"border-blue-500/30",buttonAction:"bg-blue-600 hover:bg-blue-500 text-white shadow-md border border-blue-500/20",buttonAdd:"bg-indigo-600 hover:bg-indigo-500 text-white shadow-md",modalBg:"bg-slate-900 border-slate-700",activeEffects:[]},lofi:{id:"lofi",name:"lofi",label:" Lofi Chill",type:"theme",price:500,bodyBg:"bg-black",cardBg:"bg-[#1a120e]/85 backdrop-blur-xl border border-[#d1c4e9]/30 shadow-2xl",primaryText:"text-[#efebe9]",secondaryText:"text-[#a1887f]",accentText:"text-[#d1c4e9] font-bold",inputBorder:"border-[#5d4037] bg-[#3e2723]/50",shopSelectBorder:"border-[#d1c4e9]/40",buttonAction:"bg-[#3e2723] hover:bg-[#4e342e] text-[#efebe9] border border-[#d1c4e9]/30",buttonAdd:"bg-[#d97706] text-white",modalBg:"bg-[#1a120e] border-[#d1c4e9]/40",activeEffects:["lofi_notes","cozy_lights","rain"]},neon:{id:"neon",name:"neon",label:" Neon Metropolis",type:"theme",price:650,bodyBg:"bg-black",rawBg:null,cardBg:"bg-black/80 backdrop-blur-xl border-2 border-cyan-500/50 shadow-[0_0_50px_rgba(6,182,212,0.4)]",primaryText:"text-cyan-400 font-mono tracking-widest uppercase",secondaryText:"text-fuchsia-400",accentText:"text-yellow-300 font-bold",inputBorder:"border-cyan-600 bg-slate-900/90",shopSelectBorder:"border-cyan-500",buttonAction:"bg-cyan-700 hover:bg-cyan-600 text-white border border-cyan-400",buttonAdd:"bg-fuchsia-700 hover:bg-fuchsia-600 text-white",modalBg:"bg-slate-900 border-2 border-cyan-500",activeEffects:["neon_grid","rain"]},neko:{id:"neko",name:"neko",label:" Neko Cafe",type:"theme",price:600,bodyBg:"bg-pink-50",rawBg:null,cardBg:"bg-white/60 backdrop-blur-xl border-4 border-pink-300 shadow-xl rounded-[2rem]",primaryText:"text-pink-600 font-sans font-bold",secondaryText:"text-orange-400",accentText:"text-pink-500 font-bold",inputBorder:"border-pink-300 bg-white/80 rounded-xl",shopSelectBorder:"border-pink-400",buttonAction:"bg-gradient-to-r from-pink-400 to-orange-300 text-white rounded-full shadow-lg",buttonAdd:"bg-pink-500 text-white rounded-full",modalBg:"bg-pink-50 border-pink-300",customCss:`body { cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="%23f472b6" stroke="white" stroke-width="2"><path d="M12 2C10.9 2 10 2.9 10 4C10 5.1 10.9 6 12 6C13.1 6 14 5.1 14 4C14 2.9 13.1 2 12 2M7 5C5.9 5 5 5.9 5 7C5 8.1 5.9 9 7 9C8.1 9 9 8.1 9 7C9 5.9 8.1 5 7 5M17 5C15.9 5 15 5.9 15 7C15 8.1 15.9 9 17 9C18.1 9 19 8.1 19 7C19 5.9 18.1 5 17 5M12 8C9.5 8 7.3 9.3 6.1 11.4C5.5 12.4 6.2 13.7 7.3 13.9L8.5 14.1C9.6 14.3 10.7 14.3 11.8 14.1L16.5 13.2C17.7 13 18.5 11.9 18.1 10.8C17.3 9.2 14.9 8 12 8Z"/></svg>') 16 16, auto !important; }`,activeEffects:["neko_pattern","valentine_hearts"]},winter:{id:"winter",name:"winter",label:" Winter",type:"theme",price:200,bodyBg:"bg-black",rawBg:"linear-gradient(to bottom, #020617 0%, #0f172a 60%, #1e3a8a 100%)",cardBg:"bg-slate-900/50 backdrop-blur-lg border border-cyan-200/20 shadow-[0_0_30px_rgba(165,243,252,0.15)]",primaryText:"text-cyan-50",secondaryText:"text-blue-200",accentText:"text-cyan-300 drop-shadow-[0_0_10px_rgba(103,232,249,0.8)]",inputBorder:"border-blue-400/30",shopSelectBorder:"border-cyan-400/50",buttonAction:"bg-cyan-900/80 hover:bg-cyan-800 text-white border border-cyan-500/40",buttonAdd:"bg-blue-700 hover:bg-blue-600 text-white shadow-[0_0_15px_rgba(59,130,246,0.5)]",modalBg:"bg-slate-900 border-cyan-500",activeEffects:["snow_effect"]},crimson:{id:"crimson",name:"crimson",label:" Crimson",type:"theme",price:250,bodyBg:"bg-black",rawBg:"radial-gradient(circle, transparent 0%, #000000 80%), linear-gradient(to bottom, #450a0a 0%, #000000 100%)",cardBg:"bg-red-950/30 backdrop-blur-md border border-red-800/60 shadow-[0_0_40px_rgba(185,28,28,0.3)]",primaryText:"text-red-100 font-serif tracking-wide",secondaryText:"text-red-400",accentText:"text-red-600 font-bold drop-shadow-[0_0_10px_rgba(220,38,38,0.8)]",inputBorder:"border-red-900/60",shopSelectBorder:"border-red-500/40",buttonAction:"bg-red-950 hover:bg-red-900 text-white border border-red-800",buttonAdd:"bg-red-800 hover:bg-red-700 text-white shadow-lg",modalBg:"bg-black border-red-900",activeEffects:["mystic_fog"]},royal:{id:"royal",name:"royal",label:" Royal",type:"theme",price:500,bodyBg:"bg-black",rawBg:"radial-gradient(ellipse at center, #713f12 0%, #312e81 40%, #020617 100%)",cardBg:"bg-indigo-950/60 backdrop-blur-xl border-2 border-yellow-500/70 shadow-[0_0_50px_rgba(234,179,8,0.4)]",primaryText:"text-indigo-50 font-serif",secondaryText:"text-yellow-200/60",accentText:"text-yellow-400 font-bold uppercase tracking-widest",inputBorder:"border-yellow-600/50",shopSelectBorder:"border-yellow-400",buttonAction:"bg-indigo-900 hover:bg-indigo-800 text-yellow-100 border border-yellow-600",buttonAdd:"bg-gradient-to-r from-yellow-600 to-yellow-500 hover:from-yellow-500 hover:to-yellow-400 text-white border border-yellow-300 shadow-[0_0_20px_rgba(234,179,8,0.5)]",modalBg:"bg-indigo-950 border-yellow-500",activeEffects:["golden_dust"]},forest:{id:"forest",name:"forest",label:" Forest",type:"theme",price:150,bodyBg:"bg-black",rawBg:"linear-gradient(180deg, #052e16 0%, #020617 100%)",cardBg:"bg-[#064e3b]/40 backdrop-blur-sm border border-green-700/50 shadow-2xl",primaryText:"text-emerald-100",secondaryText:"text-emerald-500",accentText:"text-green-400 drop-shadow-[0_0_10px_rgba(74,222,128,0.5)]",inputBorder:"border-green-800",shopSelectBorder:"border-green-500/40",buttonAction:"bg-green-900 hover:bg-green-800 text-white border border-green-700",buttonAdd:"bg-emerald-700 hover:bg-emerald-600 text-white shadow-lg",modalBg:"bg-gray-900 border-green-800",activeEffects:["mystic_fog","forest_flora"]},galaxy:{id:"galaxy",name:"galaxy",label:" Galaxy",type:"theme",price:300,bodyBg:"bg-black",rawBg:"radial-gradient(circle at 20% 10%, #4c1d95 0%, #000000 40%), radial-gradient(circle at 80% 90%, #1e3a8a 0%, #000000 40%), linear-gradient(to bottom, #020617, #000000)",cardBg:"bg-[#0f172a]/70 backdrop-blur-xl border border-purple-500/30 shadow-[0_0_50px_rgba(124,58,237,0.2)]",primaryText:"text-purple-50 tracking-wide",secondaryText:"text-blue-200/70",accentText:"text-cyan-400 font-bold drop-shadow-[0_0_10px_rgba(34,211,238,0.8)]",inputBorder:"border-purple-800/60 focus:border-cyan-400",shopSelectBorder:"border-cyan-500/50",buttonAction:"bg-indigo-900/80 hover:bg-indigo-800 text-cyan-50 border border-indigo-500",buttonAdd:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white shadow-[0_0_20px_rgba(147,51,234,0.4)]",modalBg:"bg-[#020617] border-purple-500/40",activeEffects:["mystic_fog","shooting_stars"]},border_default:{id:"border_default",type:"border",label:"Sin Borde",borderClass:""},border_blue:{id:"border_blue",type:"border",label:" Azul Elctrico",price:200,customCss:`
            .app-card { 
                border: 4px solid #3b82f6 !important; 
                box-shadow: 0 0 20px rgba(59, 130, 246, 0.6) !important;
            }
        `},border_red:{id:"border_red",type:"border",label:" Rojo Pasin",price:200,customCss:`
            .app-card { 
                border: 4px solid #ef4444 !important; 
                box-shadow: 0 0 20px rgba(239, 68, 68, 0.6) !important;
            }
        `},border_green:{id:"border_green",type:"border",label:" Verde Matrix",price:200,customCss:`
            .app-card { 
                border: 4px solid #22c55e !important; 
                box-shadow: 0 0 20px rgba(34, 197, 94, 0.6) !important;
            }
        `},border_neon:{id:"border_neon",type:"border",label:" Ultra Nen",borderClass:"border-[3px] border-cyan-400 shadow-[0_0_15px_rgba(34,211,238,0.6)]",customCss:`
            .app-card { animation: border-pulse-neon 2s infinite alternate; }
            @keyframes border-pulse-neon {
                0% { box-shadow: 0 0 10px #06b6d4, inset 0 0 5px #06b6d4; border-color: #06b6d4; }
                100% { box-shadow: 0 0 25px #d946ef, inset 0 0 10px #d946ef; border-color: #d946ef; }
            }
        `},border_rgb:{id:"border_rgb",type:"border",label:" RGB Gamer",borderClass:"border-[5px] border-transparent",customCss:`
            .app-card {
                border-image: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000) 1;
                /* Sin animaciones locas que muevan el DOM */
            }
        `},border_glitch:{id:"border_glitch",type:"border",label:" Cyber Glitch",borderClass:"border-2 border-white",customCss:`
            .app-card { animation: glitch-border 3s infinite; box-shadow: 5px 0 0 #ff00ff, -5px 0 0 #00ffff; }
            @keyframes glitch-border {
                0% { transform: translate(0); }
                20% { transform: translate(-2px, 2px); }
                40% { transform: translate(-2px, -2px); }
                60% { transform: translate(2px, 2px); }
                80% { transform: translate(2px, -2px); }
                100% { transform: translate(0); }
            }
        `},border_electric:{id:"border_electric",type:"border",label:" Electro Shock",borderClass:"border-2 border-yellow-300",customCss:`
            .app-card { animation: shock-border 0.5s infinite alternate; }
            @keyframes shock-border {
                0% { box-shadow: 0 0 5px #facc15, 0 0 10px #3b82f6; border-color: #facc15; }
                100% { box-shadow: 0 0 20px #3b82f6, 0 0 40px #facc15; border-color: #ffffff; }
            }
        `},border_fire:{id:"border_fire",type:"border",label:" Fuego Mstico",borderClass:"border-4 border-orange-500",customCss:`
            .app-card { box-shadow: 0 -5px 20px rgba(239, 68, 68, 0.8), 0 0 10px rgba(249, 115, 22, 0.8) inset; animation: fire-pulse 2s infinite alternate; }
            @keyframes fire-pulse { 0% { border-color: #ef4444; } 100% { border-color: #f97316; } }
        `},border_gold:{id:"border_gold",type:"border",label:" Marco de Oro",price:2500,borderClass:"border-[8px] border-double border-yellow-500 shadow-[inset_0_0_20px_rgba(234,179,8,0.3)]",customCss:`
            .app-card { 
                border-image: linear-gradient(45deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c) 1; 
                border-width: 6px; 
                border-style: solid; 
            }
        `},border_wood:{id:"border_wood",type:"border",label:" Marco Rstico",borderClass:"border-[12px] border-[#5c3a21] shadow-2xl",customCss:`
            .app-card { 
                border-image: url("https://www.transparenttextures.com/patterns/wood-pattern.png") 30 round;
                border-radius: 0 !important; 
                box-shadow: inset 0 0 20px rgba(0,0,0,0.8), 5px 5px 15px rgba(0,0,0,0.5);
            }
        `}},wp=p=>{if(p<0)return"00:00:00";const e=Math.floor(p/1e3),t=Math.floor(e/3600).toString().padStart(2,"0"),i=Math.floor(e%3600/60).toString().padStart(2,"0"),c=(e%60).toString().padStart(2,"0");return`${t}:${i}:${c}`},nl=()=>{const p=new Date,e=p.getTimezoneOffset();return new Date(p.getTime()-e*60*1e3).toISOString().split("T")[0]},iv=p=>{if(!p)return 0;const e=p.match(/Hours worked: (\d+)h (\d+)m/)||p.match(/Tiempo Total: (\d+)h (\d+)m/);if(e){const t=parseInt(e[1],10),i=parseInt(e[2],10);return t+i/60}return 0},qw=()=>{const p=new Date,e=new Date(p);e.setDate(p.getDate()+7);const t=e.getFullYear(),i=new Date(t,0,1),c=(e-i)/864e5,o=Math.ceil((c+i.getDay()+1)/7);return`${t}-W${String(o).padStart(2,"0")}`},Kp=()=>{const p=new Date,e=new Date(p.getFullYear(),0,1),t=Math.ceil(((p-e)/864e5+e.getDay()+1)/7);return`${p.getFullYear()}-W${t}`},nT=(p,e,t,i)=>{const c=Et.useMemo(()=>(Kp(),e.filter(a=>!0).reduce((a,n)=>a+(n.hours||0),0)),[e]),o=Et.useMemo(()=>{const h=nl(),[a,n,u]=h.split("-"),m=parseInt(n),f=parseInt(u);if(i&&xn[i])return xn[i];if(m===2&&f>=13&&f<=14)return xn.seasonal_valentines||xn.default;if(m===10&&f===31)return xn.seasonal_halloween||xn.default;if(m===12&&(f===24||f===25))return xn.seasonal_christmas||xn.default;const d=p.find(b=>b.date===`${n}-${u}`);return d?d.name==="Bianca"?xn.seasonal_bianca_bday||xn.seasonal_party:xn.seasonal_party||xn.default:xn.default},[i,p,e]),s=Et.useMemo(()=>{if(o.id==="seasonal_valentines")return" Feliz San Valentn! ";if(o.id==="seasonal_halloween")return" Dulce o Truco! ";if(o.id==="seasonal_christmas")return" Feliz Navidad! ";const h=nl().split("-").slice(1).join("-"),a=p.find(n=>n.date===h);return a?` Feliz Cumpleaos, ${a.name}! `:""},[o,p]);return{strategy:o,message:s,weeklyHoursWorked:c,isUnlocked:!0}},iT=async(p,e,t,i)=>{if(!p)throw new Error("No user");const c=e.reduce((d,b)=>{const v=b.running?Date.now()-b.lastTime:0;return d+b.elapsedTime+v},0),o=e.map(d=>{const b=parseInt(d.quantity)||0,v=d.running?Date.now()-d.lastTime:0,g=d.elapsedTime+v,w=g/36e5,_=w>0?(b/w).toFixed(2):"0.00";return{id:d.id,name:d.rawTaskName||d.text,category:d.category||"General",count:b,timeMs:g,speed:_}}),s=i?.team||"default",h=i?.name||p.displayName||p.email,a=new Date().toLocaleString("es-AR"),n={uid:p.uid,userName:h,team:s,date:t,lastUpdated:Date.now(),metrics:{totalTasks:e.reduce((d,b)=>d+(parseInt(b.quantity)||0),0),totalTimeMs:c,globalSpeed:c>0?(e.reduce((d,b)=>d+(parseInt(b.quantity)||0),0)/(c/36e5)).toFixed(2):"0.00"},taskBreakdown:o,timestampStr:a};await vs(gr(De,"daily_reports",`${p.uid}_${t}`),n);const u=c/(1e3*60*60);return{totalReward:Math.floor(u*10)+15,reportData:n}},sT=(p,e,t)=>{e||(e=new Date().toISOString().split("T")[0]);const[i,c,o]=e.split("-"),s=new Date(Number(i),Number(c)-1,Number(o)),h={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=s.toLocaleDateString("en-US",h),n=d=>{if(!d)return"0h 0m";const b=Math.floor(d/36e5),v=Math.floor(d%36e5/6e4);return`${b}h ${v}m`};let u=0;const m={};p.forEach(d=>{let b=d.elapsedTime||0;d.running&&d.lastTime&&(b+=Date.now()-d.lastTime),u+=b;const v=d.shop||d.category||"General";m[v]||(m[v]=[]),m[v].push({name:d.text||d.name||"Tarea sin nombre",qty:parseInt(d.count||d.quantity)||0,timeStr:n(b)})});let f=`End of Day Report: ${a}
`;return f+=`Hours worked: ${n(u)}

`,f+=`Today I worked on the following tasks:
`,Object.keys(m).sort().forEach(d=>{f+=`--- ${d} ---
`,m[d].forEach(b=>{const v=b.qty>0?` (${b.qty} orders)`:"";f+=`${b.name}${v}: ${b.timeStr}
`})}),f},aT=(p,e,t,i,c)=>{const[o,s]=Et.useState(!1);return{handleGenerate:async(a,n,u)=>{s(!0);try{t();const{totalReward:m,reportData:f}=await iT(p,e,a,c);m>0&&i(m);const d=sT(e,a,n);alert(` Reporte guardado.
Ganaste: ${m} Lofi Coins.`),u&&u(d,f)}catch(m){console.error("Error generando reporte:",m),alert("Error al generar el reporte. Revisa la consola.")}finally{s(!1)}},isProcessing:o}},oT=({processedData:p,detectedTasks:e,taskGoals:t,selectedTeam:i,isLoading:c,selectedTaskFilter:o,setSelectedTaskFilter:s,viewMode:h,setViewMode:a,filterDate:n,setFilterDate:u,expandedReportId:m,fetchTeamData:f,toggleRow:d,formatTime:b,getPerformanceColor:v})=>W.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[W.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 bg-slate-900 border border-white/10 p-4 rounded-xl shadow-xl",children:[W.jsxs("div",{className:"flex items-center gap-3 w-full xl:w-auto bg-black/30 p-1.5 rounded-lg border border-white/5",children:[W.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase px-2",children:"Filtrar:"}),W.jsxs("select",{value:o,onChange:g=>s(g.target.value),className:"bg-transparent text-white text-xs font-bold outline-none w-full xl:w-64 cursor-pointer hover:text-indigo-400 transition-colors",children:[W.jsx("option",{value:"ALL",className:"bg-slate-900",children:" TODAS LAS TAREAS"}),e.map(g=>W.jsx("option",{value:g,className:"bg-slate-900",children:g},g))]})]}),W.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full xl:w-auto",children:[W.jsx("div",{className:"flex bg-black/30 rounded-lg p-1 border border-white/5",children:["daily","weekly","monthly"].map(g=>W.jsx("button",{onClick:()=>a(g),className:`px-3 py-1.5 rounded text-[10px] font-bold uppercase transition-all ${h===g?"bg-indigo-600 text-white shadow":"text-slate-500 hover:text-slate-300"}`,children:{daily:"Da",weekly:"Semana",monthly:"Mes"}[g]},g))}),W.jsxs("div",{className:"relative group",children:[W.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:W.jsx("span",{className:"text-indigo-400 text-xs",children:""})}),W.jsx("input",{type:"date",value:n,onChange:g=>u(g.target.value),className:"bg-black/30 border border-white/10 text-white text-xs font-bold rounded-lg py-2 pl-9 pr-3 outline-none focus:border-indigo-500 transition-all cursor-pointer hover:bg-black/50"})]}),W.jsx("button",{onClick:f,disabled:c,className:"bg-indigo-600 hover:bg-indigo-500 text-white p-2 rounded-lg transition-all shadow-lg active:scale-95 border border-indigo-400/50",children:c?"...":""})]})]}),W.jsx("div",{className:"bg-slate-900/50 backdrop-blur border border-white/5 rounded-2xl overflow-hidden shadow-2xl",children:W.jsx("div",{className:"overflow-x-auto",children:W.jsxs("table",{className:"w-full text-left border-collapse",children:[W.jsx("thead",{children:W.jsxs("tr",{className:"bg-black/40 text-slate-400 text-[10px] uppercase tracking-wider border-b border-white/5",children:[W.jsx("th",{className:"p-5 font-bold",children:"Agente"}),W.jsx("th",{className:"p-5 font-bold text-center",children:"Tareas"}),W.jsx("th",{className:"p-5 font-bold text-center text-indigo-400",children:"Velocidad"}),W.jsx("th",{className:"p-5 font-bold text-center",children:"Tiempo"}),W.jsx("th",{className:"p-5 font-bold text-center",children:"Estado"}),W.jsx("th",{className:"p-5 text-right",children:"Accin"})]})}),W.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:p.length>0?p.map(g=>{let w=g.metrics.totalTasks,_=g.metrics.globalSpeed,A=g.metrics.totalTimeMs,M="text-slate-300";if(o!=="ALL"){const O=g.taskBreakdown.find(q=>q.name===o);if(O){w=O.count,_=O.speed,A=O.timeMs;let q=t[o];q===void 0&&(q=-1),M=v(_,q)}else w=0,_="0.00",A=0,M="text-slate-600"}else M="text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 font-bold";return W.jsxs(Ax.Fragment,{children:[W.jsxs("tr",{className:"hover:bg-white/[0.03] transition-colors group cursor-pointer",onClick:()=>d(g.id),children:[W.jsxs("td",{className:"p-5 font-medium text-slate-200 flex items-center gap-3",children:[W.jsx("div",{className:"w-8 h-8 rounded-lg bg-slate-800 border border-white/5 flex items-center justify-center text-xs text-indigo-400 font-bold",children:g.userName?.charAt(0)||"?"}),W.jsxs("div",{children:[W.jsx("div",{children:g.userName}),i==="ALL_TEAMS"&&W.jsx("div",{className:"text-[9px] text-slate-500 uppercase",children:g.team})]})]}),W.jsx("td",{className:"p-5 text-center font-mono text-slate-300",children:w}),W.jsxs("td",{className:"p-5 text-center",children:[W.jsx("span",{className:`text-lg ${M}`,children:_}),W.jsx("span",{className:"text-[10px] text-slate-600 ml-1",children:"/h"})]}),W.jsx("td",{className:"p-5 text-center text-slate-500 font-mono",children:b(A)}),W.jsx("td",{className:"p-5 text-center",children:W.jsx("span",{className:"bg-green-900/30 text-green-400 text-[10px] px-2 py-1 rounded border border-green-500/20",children:"ACTIVO"})}),W.jsx("td",{className:"p-5 text-right",children:W.jsx("button",{className:"text-[10px] bg-white/5 hover:bg-white/10 text-slate-400 px-3 py-1.5 rounded transition-all",children:m===g.id?"Cerrar ":"Ver "})})]}),m===g.id&&W.jsx("tr",{className:"bg-black/30",children:W.jsx("td",{colSpan:6,className:"p-4",children:W.jsxs("div",{className:"bg-slate-900 rounded-xl p-4 border border-white/5 shadow-inner",children:[W.jsx("h4",{className:"text-xs font-bold text-slate-500 mb-3 uppercase flex items-center gap-2",children:" Desglose Detallado"}),g.taskBreakdown?.length>0?W.jsxs("table",{className:"w-full text-xs",children:[W.jsx("thead",{children:W.jsxs("tr",{className:"text-slate-600 border-b border-white/5 text-left",children:[W.jsx("th",{className:"pb-2 pl-2",children:"Tarea"}),W.jsx("th",{className:"pb-2 text-center",children:"Cant."}),W.jsx("th",{className:"pb-2 text-center",children:"Tiempo"}),W.jsx("th",{className:"pb-2 text-right pr-4",children:"Rendimiento"})]})}),W.jsx("tbody",{className:"divide-y divide-white/5",children:g.taskBreakdown.map((O,q)=>{let F=t[O.name];F===void 0&&(F=-1);const j=v(O.speed,F),V=F===-1;return W.jsxs("tr",{className:`text-slate-300 hover:bg-white/5 transition-colors ${o===O.name?"bg-indigo-900/20":""}`,children:[W.jsx("td",{className:"py-2 pl-2 font-medium",children:O.name}),W.jsx("td",{className:"py-2 text-center font-mono text-slate-500",children:O.count}),W.jsx("td",{className:"py-2 text-center font-mono text-slate-500",children:b(O.timeMs)}),W.jsxs("td",{className:"py-2 text-right pr-4",children:[W.jsxs("span",{className:j,children:[O.speed," /h"]}),W.jsx("span",{className:"text-[9px] text-slate-600 ml-1",children:V?"":`(Meta: ${F})`})]})]},q)})})]}):W.jsx("p",{className:"text-xs text-slate-500 italic",children:"Sin datos."})]})})})]},g.id)}):W.jsx("tr",{children:W.jsx("td",{colSpan:6,className:"p-12 text-center text-slate-500 text-sm italic border-t border-white/5",children:c?"Cargando datos...":"No hay actividad registrada en este periodo."})})})]})})})]}),lT=["Columna CONFIRMADO","Columna UPSELL","Columna DATOS ENTREGA","Columna RESPONDER","Columna REMINDER","Chat en vivo (filtro Pendiente)","Columna LATE VERIFICATION","Chat en vivo (filtro Abiertos)","Ordenes confirmadas sheet (CHECK info)","CHAT Pending Orders","CALL Pending Orders","Facebook/Instagram Comments & Chats"],_p=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],uT={Lunes:"Monday",Martes:"Tuesday",Mircoles:"Wednesday",Jueves:"Thursday",Viernes:"Friday",Sbado:"Saturday",Domingo:"Sunday"},cT=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],hT=({squad:p,weeklyPlan:e,setWeeklyPlan:t,agentSchedules:i,visibleShops:c,nextWeekId:o,targetWeek:s,setTargetWeek:h})=>{const[a,n]=Et.useState("kanban"),[u,m]=Et.useState("Lunes"),[f,d]=Et.useState(null),b=(w,_)=>{d(_),w.dataTransfer.setData("agent",JSON.stringify(_))},v=async(w,_,A)=>{w.preventDefault();try{const M=JSON.parse(w.dataTransfer.getData("agent")),O={...e};O[u]||(O[u]={}),O[u][_]||(O[u][_]={}),O[u][_][A]||(O[u][_][A]=[]);const q=O[u][_][A];M.id==="ALL"?p.forEach(F=>{q.find(j=>j.id===F.id)||q.push({id:F.id,name:F.name||F.email})}):q.find(F=>F.id===M.id)||q.push({id:M.id,name:M.name||M.email}),t(O),await vs(gr(De,"weekly_plans",o),{weekId:o,plan:O,updatedAt:Date.now()},{merge:!0})}catch(M){console.error(M),alert("Error de permisos.")}},g=async(w,_,A)=>{const M={...e};M[u][w][_]=M[u][w][_].filter(O=>O.id!==A),t(M);try{await vs(gr(De,"weekly_plans",o),{plan:M},{merge:!0})}catch(O){console.error(O)}};return W.jsxs("div",{className:"flex flex-col h-[85vh] animate-fadeIn gap-4",children:[W.jsx("div",{className:"flex flex-wrap gap-4 justify-between items-center bg-slate-900/50 p-2 rounded-xl border border-white/5",children:W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsxs("div",{className:"flex bg-black/30 p-1 rounded-lg border border-white/5",children:[W.jsxs("button",{onClick:()=>n("kanban"),className:`px-3 py-1.5 rounded-md text-xs font-bold uppercase transition-all flex items-center gap-2 ${a==="kanban"?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:[W.jsx("span",{children:""})," Asignar"]}),W.jsxs("button",{onClick:()=>n("table"),className:`px-3 py-1.5 rounded-md text-xs font-bold uppercase transition-all flex items-center gap-2 ${a==="table"?"bg-indigo-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:[W.jsx("span",{children:""})," Planilla"]})]}),W.jsx("div",{className:"w-px h-6 bg-white/10"}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-500 hidden sm:block",children:"Editando:"}),W.jsxs("div",{className:"flex bg-black/30 p-1 rounded-lg border border-white/5",children:[W.jsx("button",{onClick:()=>h("current"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${s==="current"?"bg-teal-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:"Semana Actual"}),W.jsx("button",{onClick:()=>h("next"),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${s==="next"?"bg-purple-600 text-white shadow":"text-slate-400 hover:text-white"}`,children:"Prxima Semana"})]}),W.jsxs("span",{className:"text-[9px] font-mono text-slate-600 border border-white/5 px-2 py-1 rounded bg-black/20",title:"ID de la semana en base de datos",children:["ID: ",o]})]})]})}),a==="kanban"&&W.jsxs("div",{className:"flex gap-6 flex-1 overflow-hidden",children:[W.jsxs("div",{className:"w-64 min-w-[250px] bg-slate-900 border border-white/10 rounded-xl p-4 overflow-y-auto flex flex-col gap-2",children:[W.jsx("h3",{className:"text-xs font-bold text-slate-500 uppercase mb-2",children:"Mi Squad"}),W.jsxs("div",{draggable:!0,onDragStart:w=>b(w,{id:"ALL",name:"TODOS"}),className:"bg-yellow-600 hover:bg-yellow-500 text-white p-3 rounded-lg cursor-grab active:cursor-grabbing font-bold text-center border border-yellow-400 shadow-lg mb-4 flex items-center justify-center gap-2",children:[W.jsx("span",{children:""})," ASIGNAR A TODOS"]}),p.map(w=>{const _=uT[u],A=i[w.id],M=u,O=A?A[_]||A[M]:null;let q=W.jsx("span",{className:"text-[9px] text-slate-600",children:"?"});return O&&(O.off?q=W.jsx("span",{className:"text-[9px] bg-red-900/40 text-red-400 px-1 rounded font-bold border border-red-500/20",children:"OFF"}):q=W.jsxs("span",{className:"text-[9px] bg-green-900/40 text-green-400 px-1 rounded font-bold border border-green-500/20",children:[O.hours,"h"]})),W.jsxs("div",{draggable:!0,onDragStart:F=>b(F,{id:w.id,name:w.name||w.email}),className:"bg-slate-800 hover:bg-slate-700 p-3 rounded-lg cursor-grab active:cursor-grabbing border border-white/5 flex items-center gap-3 transition-colors",children:[W.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center font-bold text-xs text-white",children:(w.name||w.email).substring(0,2).toUpperCase()}),W.jsxs("div",{className:"flex-1 min-w-0",children:[W.jsx("div",{className:"text-sm truncate font-medium text-slate-300",children:w.name||w.email}),W.jsx("div",{className:"flex justify-end",children:q})]})]},w.id)})]}),W.jsxs("div",{className:"flex-1 flex flex-col bg-slate-900 border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[W.jsx("div",{className:"flex bg-black/40 border-b border-white/10",children:_p.map(w=>W.jsx("button",{onClick:()=>m(w),className:`flex-1 py-3 text-xs font-bold uppercase transition-colors ${u===w?"bg-indigo-600 text-white":"text-slate-500 hover:text-white hover:bg-white/5"}`,children:w},w))}),W.jsx("div",{className:"flex-1 overflow-auto p-4 bg-[#0b0e14]",children:W.jsxs("table",{className:"w-full border-collapse",children:[W.jsx("thead",{children:W.jsxs("tr",{children:[W.jsx("th",{className:"text-left p-3 text-slate-500 text-xs uppercase w-48 min-w-[200px] border-b border-white/10 sticky top-0 bg-[#0b0e14] z-10",children:"Tarea"}),c.map(w=>W.jsx("th",{className:"p-3 text-indigo-400 text-xs uppercase border-l border-white/5 min-w-[180px] text-center border-b border-white/10 sticky top-0 bg-[#0b0e14] z-10",children:w},w))]})}),W.jsx("tbody",{children:lT.map(w=>W.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[W.jsx("td",{className:"p-3 text-xs font-medium text-slate-300",children:w}),c.map(_=>W.jsx("td",{onDragOver:A=>A.preventDefault(),onDrop:A=>v(A,w,_),className:"p-2 border-l border-white/5 min-h-[50px] relative hover:bg-white/5 transition-colors",children:W.jsx("div",{className:"min-h-[40px] rounded p-1 flex flex-wrap gap-1",children:e[u]?.[w]?.[_]?.map(A=>W.jsxs("div",{className:"bg-indigo-600/30 text-indigo-200 border border-indigo-500/40 text-[10px] px-2 py-1 rounded flex items-center gap-1 font-bold shadow-sm",children:[A.name," ",W.jsx("button",{onClick:()=>g(w,_,A.id),className:"ml-1 text-indigo-400 hover:text-red-400 font-bold",children:""})]},A.id))})},_))]},w))})]})})]})]}),a==="table"&&W.jsxs("div",{className:"flex-1 bg-slate-900 border border-white/10 rounded-xl overflow-hidden shadow-2xl flex flex-col",children:[W.jsxs("div",{className:"p-4 bg-black/20 border-b border-white/10 flex justify-between items-center",children:[W.jsx("h3",{className:"font-bold text-green-400 flex items-center gap-2",children:" Disponibilidad Global"}),W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("div",{className:"w-3 h-3 bg-green-900/50 border border-green-500/30 rounded"}),W.jsx("span",{className:"text-xs text-slate-400",children:"Disponible"}),W.jsx("div",{className:"w-3 h-3 bg-red-900/50 border border-red-500/30 rounded ml-2"}),W.jsx("span",{className:"text-xs text-slate-400",children:"Franco (OFF)"})]})]}),W.jsx("div",{className:"flex-1 overflow-auto",children:W.jsxs("table",{className:"w-full text-left border-collapse",children:[W.jsx("thead",{className:"bg-[#0b0e14] sticky top-0 z-10",children:W.jsxs("tr",{children:[W.jsx("th",{className:"p-4 text-xs font-bold text-slate-400 uppercase border-b border-white/10 w-64 bg-[#0b0e14] sticky left-0 z-20 border-r border-white/5",children:"Agente"}),_p.map(w=>W.jsx("th",{className:"p-4 text-xs font-bold text-slate-400 uppercase border-b border-white/10 text-center min-w-[100px]",children:w},w))]})}),W.jsxs("tbody",{className:"divide-y divide-white/5 text-sm",children:[p.map(w=>{const _=i[w.id];return W.jsxs("tr",{className:"hover:bg-white/[0.02]",children:[W.jsxs("td",{className:"p-4 bg-slate-900 sticky left-0 z-10 border-r border-white/5",children:[W.jsx("div",{className:"font-bold text-white",children:w.name||w.email}),W.jsx("div",{className:"text-[10px] text-slate-500 uppercase",children:w.team})]}),cT.map((A,M)=>{const O=_p[M],q=_?.[A]||_?.[O];let F=W.jsx("span",{className:"text-slate-700",children:"-"}),j="";return q&&(q.off?(F=W.jsx("span",{className:"font-bold text-[10px]",children:"OFF"}),j="bg-red-900/20 text-red-400 border border-red-500/10"):q.hours&&(F=W.jsxs("span",{className:"font-mono font-bold",children:[q.hours,"hs"]}),j="bg-green-900/20 text-green-400 border border-green-500/10")),W.jsx("td",{className:"p-1 text-center border-l border-white/5",children:W.jsx("div",{className:`h-8 flex items-center justify-center rounded ${j} mx-1`,children:F})},A)})]},w.id)}),p.length===0&&W.jsx("tr",{children:W.jsx("td",{colSpan:8,className:"p-10 text-center text-slate-500 italic",children:"No hay agentes en este equipo."})})]})]})})]})]})},fT=({newsList:p,newNewsText:e,setNewNewsText:t,newNewsType:i,setNewNewsType:c,addNews:o,deleteNews:s})=>W.jsxs("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:[W.jsx("div",{className:"bg-slate-900 p-6 rounded-xl border border-white/10 mb-6",children:W.jsxs("div",{className:"flex gap-4",children:[W.jsx("input",{value:e,onChange:h=>t(h.target.value),placeholder:"Mensaje...",className:"flex-1 bg-black/30 border border-white/10 rounded-lg p-3 text-white outline-none"}),W.jsxs("select",{value:i,onChange:h=>c(h.target.value),className:"bg-black/30 border border-white/10 rounded-lg p-3 text-white",children:[W.jsx("option",{value:"info",children:"Info"}),W.jsx("option",{value:"critical",children:"Crtico"}),W.jsx("option",{value:"party",children:"Fiesta"})]}),W.jsx("button",{onClick:o,className:"bg-indigo-600 px-6 rounded-lg font-bold hover:bg-indigo-500",children:"Publicar"})]})}),W.jsx("div",{className:"space-y-3",children:p.map(h=>W.jsxs("div",{className:"flex justify-between items-center bg-slate-900/50 p-4 rounded-xl border border-white/5",children:[W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded uppercase ${h.type==="critical"?"bg-red-900 text-red-300":h.type==="party"?"bg-yellow-900 text-yellow-300":"bg-blue-900 text-blue-300"}`,children:h.type}),W.jsx("span",{className:"text-sm",children:h.text})]}),W.jsx("button",{onClick:()=>s(h.id),className:"text-red-400 hover:text-red-300 text-xs",children:"Borrar"})]},h.id))})]}),dT=({quizzes:p,editingQuiz:e,setEditingQuiz:t,saveQuiz:i,deleteQuiz:c,toggleQuiz:o})=>W.jsx("div",{className:"max-w-4xl mx-auto animate-fadeIn",children:e?W.jsx(pT,{quiz:e,onSave:i,onCancel:()=>t(null)}):W.jsxs(W.Fragment,{children:[W.jsx("button",{onClick:()=>t({title:"",reward:100,questions:[],version:1}),className:"bg-green-600 px-4 py-2 rounded-lg font-bold text-sm mb-6",children:"+ Nuevo Mdulo"}),W.jsx("div",{className:"grid gap-4",children:p.map(s=>W.jsxs("div",{className:"bg-slate-900 p-5 rounded-xl border border-white/10 flex justify-between items-center",children:[W.jsxs("div",{children:[W.jsx("h3",{className:"font-bold text-lg",children:s.title}),W.jsxs("div",{className:"text-xs text-slate-500",children:["Reward: ",s.reward," | v",s.version]})]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx("button",{onClick:()=>t(s),className:"text-indigo-400 text-xs bg-indigo-900/30 px-3 py-1 rounded",children:"Edit"}),W.jsx("button",{onClick:()=>o(s),className:`text-xs px-3 py-1 rounded ${s.active?"bg-green-900/30 text-green-400":"bg-slate-700 text-slate-400"}`,children:s.active?"Activo":"Inactivo"}),W.jsx("button",{onClick:()=>c(s.id),className:"text-red-400 text-xs bg-red-900/30 px-3 py-1 rounded",children:"Del"})]})]},s.id))})]})}),pT=({quiz:p,onSave:e,onCancel:t})=>{const[i,c]=Et.useState(p),[o,s]=Et.useState(!1),h=()=>c({...i,questions:[...i.questions||[],{text:"",options:["",""],correct:0}]}),a=(u,m,f)=>{const d=[...i.questions];d[u]={...d[u],[m]:f},c({...i,questions:d})},n=(u,m,f)=>{const d=[...i.questions];d[u].options[m]=f,c({...i,questions:d})};return W.jsxs("div",{className:"bg-slate-900 p-6 rounded-xl border border-white/10 space-y-4 animate-fadeIn",children:[W.jsx("h2",{className:"font-bold text-xl border-b border-white/10 pb-2",children:"Editor de Mdulo"}),W.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[W.jsx("input",{value:i.title,onChange:u=>c({...i,title:u.target.value}),placeholder:"Ttulo",className:"bg-black/30 border border-white/10 p-2 rounded text-white"}),W.jsx("input",{type:"number",value:i.reward,onChange:u=>c({...i,reward:parseInt(u.target.value)}),placeholder:"Reward",className:"bg-black/30 border border-white/10 p-2 rounded text-white"})]}),p.id&&W.jsxs("label",{className:"flex items-center gap-2 text-yellow-200 text-xs",children:[W.jsx("input",{type:"checkbox",checked:o,onChange:u=>s(u.target.checked)})," Actualizacin Mayor (Reinicia progress)"]}),W.jsxs("div",{className:"space-y-4",children:[i.questions?.map((u,m)=>W.jsxs("div",{className:"bg-black/20 p-4 rounded border border-white/5",children:[W.jsx("input",{value:u.text,onChange:f=>a(m,"text",f.target.value),placeholder:"Pregunta",className:"w-full bg-transparent border-b border-white/10 mb-2 font-bold"}),W.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.options.map((f,d)=>W.jsxs("div",{className:"flex gap-2",children:[W.jsx("input",{type:"radio",checked:u.correct===d,onChange:()=>a(m,"correct",d)}),W.jsx("input",{value:f,onChange:b=>n(m,d,b.target.value),className:"bg-white/5 rounded px-2 text-xs w-full"})]},d))})]},m)),W.jsx("button",{onClick:h,className:"w-full py-2 border border-dashed border-white/20 text-slate-400 text-xs rounded",children:"+ Pregunta"})]}),W.jsxs("div",{className:"flex gap-4",children:[W.jsx("button",{onClick:()=>e({...i,isMajorUpdate:o}),className:"flex-1 bg-green-600 py-2 rounded font-bold",children:"Guardar"}),W.jsx("button",{onClick:t,className:"bg-slate-700 px-4 rounded",children:"Cancelar"})]})]})},mT=({activeTab:p,showArchived:e,setShowArchived:t,fetchIdeas:i,filteredIdeas:c,generateMondaySummary:o,handleSaveAnalysis:s,handleIdeaVerdict:h,handleArchiveIdea:a,handleDeleteIdea:n,handleRestoreIdea:u,handleAnalysisChange:m})=>W.jsxs("div",{className:"max-w-7xl mx-auto animate-fadeIn",children:[W.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-6 gap-4",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:p==="ideas"?" Laboratorio de Ideas":" Tickets de Soporte & Bugs"}),W.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Estado: ",W.jsx("span",{className:"text-indigo-400 font-bold",children:e?"ARCHIVADOS":"ACTIVOS"})]})]}),W.jsxs("div",{className:"flex items-center gap-3",children:[p==="ideas"&&W.jsx("button",{onClick:o,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-indigo-500 transition-colors shadow-lg flex items-center gap-2 border border-indigo-400/50",children:" RESUMEN"}),W.jsx("button",{onClick:()=>t(!e),className:`px-3 py-2 rounded-lg text-[10px] font-bold uppercase transition-all border ${e?"bg-slate-700 text-white border-slate-500":"bg-black/40 text-slate-500 border-slate-700 hover:text-white"}`,children:e?" Ver Activos":" Ver Archivados"}),W.jsx("button",{onClick:i,className:"bg-white/5 hover:bg-white/10 px-3 py-2 rounded-lg text-xs text-slate-300 border border-white/10",children:""})]})]}),W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(f=>{const d=f.status==="approved",b=f.status==="rejected",v=f.status==="new",g=f.type==="dev";return W.jsxs("div",{className:`bg-slate-900 border rounded-xl p-5 flex flex-col gap-3 relative group transition-all animate-fadeIn hover:shadow-xl ${g?"border-purple-500/20 shadow-[0_0_10px_rgba(147,51,234,0.05)]":"border-white/10"}`,children:[W.jsxs("div",{className:"flex justify-between items-start",children:[W.jsxs("div",{children:[W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("h4",{className:`font-bold text-sm ${g?"text-purple-300 font-mono":"text-white"}`,children:f.userName}),g&&W.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 rounded border bg-purple-900/30 text-purple-300 border-purple-500/30",children:"BUG/DEV"})]}),W.jsx("p",{className:"text-[10px] text-slate-500 font-mono mt-1",children:f.timestampStr})]}),d&&W.jsx("span",{className:"text-[10px] bg-green-900/30 text-green-400 px-2 py-1 rounded border border-green-500/20 font-bold",children:" APROBADA"}),b&&W.jsx("span",{className:"text-[10px] bg-red-900/30 text-red-400 px-2 py-1 rounded border border-red-500/20 font-bold",children:" RECHAZADA"}),v&&W.jsx("span",{className:"text-[10px] bg-yellow-900/30 text-yellow-500 px-2 py-1 rounded border border-yellow-500/20 font-bold",children:" PENDIENTE"})]}),W.jsxs("div",{className:`p-4 rounded-lg border min-h-[80px] ${g?"bg-black/60 border-purple-900/30 font-mono text-xs text-green-400":"bg-black/30 border-white/5 text-sm text-slate-300 italic"}`,children:['"',f.content,'"']}),!g&&W.jsxs("div",{className:"space-y-2 mt-2",children:[W.jsxs("div",{className:"relative",children:[W.jsx("span",{className:"absolute top-2 left-2 text-[10px] text-green-500 font-bold",children:"PROS"}),W.jsx("textarea",{className:"w-full bg-slate-950 border border-white/10 rounded p-2 pt-6 text-xs text-slate-300 focus:border-green-500 outline-none h-16 resize-none",value:f.analysis?.pros||"",onChange:w=>m(f.id,"pros",w.target.value)})]}),W.jsxs("div",{className:"relative",children:[W.jsx("span",{className:"absolute top-2 left-2 text-[10px] text-red-500 font-bold",children:"CONS"}),W.jsx("textarea",{className:"w-full bg-slate-950 border border-white/10 rounded p-2 pt-6 text-xs text-slate-300 focus:border-red-500 outline-none h-16 resize-none",value:f.analysis?.cons||"",onChange:w=>m(f.id,"cons",w.target.value)})]})]}),W.jsxs("div",{className:"flex gap-2 mt-auto pt-4 border-t border-white/5",children:[!g&&W.jsx("button",{onClick:()=>s(f.id,f.analysis),className:"flex-1 bg-white/5 hover:bg-white/10 text-slate-400 text-xs font-bold py-2 rounded transition-colors",children:" Guardar"}),v&&W.jsxs(W.Fragment,{children:[W.jsx("button",{onClick:()=>h(f,"approved"),className:"flex-1 bg-green-600/20 hover:bg-green-600 hover:text-white text-green-400 text-xs font-bold py-2 rounded transition-colors border border-green-600/30",children:" Aprobar"}),W.jsx("button",{onClick:()=>h(f,"rejected"),className:"w-10 flex items-center justify-center bg-red-600/20 hover:bg-red-600 hover:text-white text-red-400 font-bold rounded transition-colors border border-red-600/30",children:""})]}),(d||b)&&!e&&W.jsxs(W.Fragment,{children:[W.jsx("button",{onClick:()=>a(f.id),className:"w-10 flex items-center justify-center bg-slate-800 hover:bg-slate-700 text-slate-400 font-bold rounded transition-colors border border-slate-600",title:"Archivar",children:""}),W.jsx("button",{onClick:()=>n(f.id),className:"w-10 flex items-center justify-center bg-red-900/20 hover:bg-red-900/80 text-red-500 hover:text-white font-bold rounded transition-colors border border-red-900/30",title:"Eliminar",children:""})]}),e&&W.jsx("button",{onClick:()=>u(f.id),className:"w-full flex items-center justify-center bg-blue-900/30 hover:bg-blue-600 text-blue-400 hover:text-white font-bold py-2 rounded transition-colors border border-blue-500/20",children:" Restaurar"})]})]},f.id)})})]}),gT=({usersList:p,editingUserId:e,setEditingUserId:t,editForm:i,setEditForm:c,setPointsToSend:o,handleGivePoints:s,saveUserChanges:h,startEditingUser:a})=>W.jsx("div",{className:"max-w-7xl mx-auto animate-fadeIn",children:W.jsx("div",{className:"bg-slate-900 border border-white/10 rounded-xl overflow-hidden shadow-xl",children:W.jsxs("table",{className:"w-full text-left",children:[W.jsx("thead",{className:"bg-black/30 text-slate-400 text-[10px] uppercase font-bold",children:W.jsxs("tr",{className:"border-b border-white/5",children:[W.jsx("th",{className:"p-4",children:"Usuario"}),W.jsx("th",{className:"p-4",children:"Rol Actual"}),W.jsx("th",{className:"p-4",children:"Equipo"}),W.jsx("th",{className:"p-4 text-right",children:"Gestin"})]})}),W.jsx("tbody",{className:"divide-y divide-white/5 text-sm",children:p.map(n=>W.jsxs("tr",{className:"hover:bg-white/[0.02]",children:[W.jsxs("td",{className:"p-4",children:[W.jsx("div",{className:"font-bold text-white",children:n.name}),W.jsx("div",{className:"text-xs text-slate-500",children:n.email})]}),e===n.id?W.jsxs(W.Fragment,{children:[W.jsx("td",{className:"p-4",children:W.jsxs("select",{value:i.role,onChange:u=>c({...i,role:u.target.value}),className:"bg-slate-950 border border-white/10 rounded px-2 py-1 text-xs text-white outline-none focus:border-indigo-500",children:[W.jsx("option",{value:"agent",children:"Agente"}),W.jsx("option",{value:"team_leader",children:"TL"}),W.jsx("option",{value:"admin",children:"Admin"}),W.jsx("option",{value:"tester",children:"Tester"})]})}),W.jsx("td",{className:"p-4",children:W.jsxs("select",{value:i.team,onChange:u=>c({...i,team:u.target.value}),className:"bg-slate-950 border border-white/10 rounded px-2 py-1 text-xs text-white outline-none focus:border-indigo-500",children:[W.jsx("option",{value:"default",children:"Default"}),W.jsx("option",{value:"team1",children:"Team 1"}),W.jsx("option",{value:"team2",children:"Team 2"})]})}),W.jsxs("td",{className:"p-4 text-right flex items-center justify-end gap-2",children:[W.jsxs("div",{className:"flex items-center bg-black/20 rounded-lg p-1 border border-white/5",children:[W.jsx("input",{type:"number",placeholder:"Bonus",className:"w-16 bg-transparent text-xs text-yellow-400 text-center outline-none",onChange:u=>o(u.target.value)}),W.jsx("button",{onClick:()=>s(n.id),className:"bg-yellow-600 text-black px-2 py-1 rounded text-[10px] font-bold hover:bg-yellow-500",children:" ENVIAR"})]}),W.jsx("button",{onClick:()=>h(n.id),className:"text-green-400 text-xs font-bold hover:underline ml-2",children:"GUARDAR"}),W.jsx("button",{onClick:()=>t(null),className:"text-red-400 text-xs font-bold hover:underline ml-2",children:"CANCELAR"})]})]}):W.jsxs(W.Fragment,{children:[W.jsx("td",{className:"p-4",children:W.jsx("span",{className:`text-[10px] uppercase font-bold px-2 py-1 rounded border ${n.role==="admin"?"bg-purple-900/30 text-purple-300 border-purple-500/30":n.role==="team_leader"?"bg-blue-900/30 text-blue-300 border-blue-500/30":"bg-slate-800 text-slate-400 border-slate-700"}`,children:n.role})}),W.jsx("td",{className:"p-4 text-xs text-slate-400",children:n.team}),W.jsx("td",{className:"p-4 text-right",children:W.jsx("button",{onClick:()=>a(n),className:"text-indigo-400 text-xs font-bold hover:text-white transition-colors",children:"EDITAR "})})]})]},n.id))})]})})}),bT=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],yT=({isOpen:p,onClose:e,scheduleRequests:t,pendingIdeas:i,handleApproveRequest:c,handleRejectRequest:o,onNavigate:s})=>{const[h,a]=Et.useState("schedule");return p?W.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-sm p-4 animate-fadeIn",children:W.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-2xl shadow-2xl flex flex-col max-h-[85vh]",children:[W.jsxs("div",{className:"p-5 border-b border-white/10 flex justify-between items-center bg-gradient-to-r from-slate-900 to-slate-800",children:[W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsx("span",{className:"text-2xl",children:""}),W.jsx("h3",{className:"text-lg font-bold text-white",children:"Centro de Notificaciones"})]}),W.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:""})]}),W.jsxs("div",{className:"flex border-b border-white/5 bg-black/20",children:[W.jsxs("button",{onClick:()=>a("schedule"),className:`flex-1 py-3 text-xs font-bold uppercase tracking-wide transition-all border-b-2 ${h==="schedule"?"border-yellow-500 text-yellow-400 bg-yellow-500/5":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[" Horarios (",t.length,")"]}),W.jsxs("button",{onClick:()=>a("ideas"),className:`flex-1 py-3 text-xs font-bold uppercase tracking-wide transition-all border-b-2 ${h==="ideas"?"border-indigo-500 text-indigo-400 bg-indigo-500/5":"border-transparent text-slate-500 hover:text-slate-300"}`,children:[" Ideas (",i.length,")"]})]}),W.jsxs("div",{className:"p-6 overflow-y-auto flex-1 space-y-4 custom-scrollbar bg-[#0b0e14]",children:[h==="schedule"&&W.jsx(W.Fragment,{children:t.length===0?W.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-500",children:[W.jsx("span",{className:"text-2xl mb-2",children:""}),W.jsx("p",{className:"text-sm",children:"Todo al da."})]}):t.map(n=>{const u=n.type==="urgent",m=!!n.currentSchedule;return W.jsxs("div",{className:`bg-white/5 border rounded-xl p-4 flex flex-col gap-3 ${u?"border-orange-500/30":"border-white/5"}`,children:[W.jsxs("div",{className:"flex justify-between items-start",children:[W.jsxs("div",{children:[W.jsxs("h4",{className:"font-bold text-white flex items-center gap-2",children:[n.userName," ",u&&W.jsx("span",{className:"text-[9px] bg-orange-600 text-white px-1.5 py-0.5 rounded animate-pulse",children:"URGENTE"})]}),W.jsx("p",{className:`text-xs mt-1 font-bold ${u?"text-orange-400":"text-blue-300"}`,children:n.message||"Solicitud de cambio"}),W.jsxs("p",{className:"text-[10px] text-slate-500 mt-1",children:["Semana ID: ",n.weekId]})]}),W.jsxs("div",{className:"flex gap-2",children:[W.jsx("button",{onClick:()=>c(n),className:"bg-green-600 hover:bg-green-500 px-3 py-1.5 rounded text-xs font-bold text-white shadow-lg",children:" APROBAR"}),W.jsx("button",{onClick:()=>o(n.id),className:"bg-red-900/50 hover:bg-red-600 px-3 py-1.5 rounded text-xs font-bold text-red-200 hover:text-white border border-red-500/30",children:" RECHAZAR"})]})]}),W.jsxs("div",{className:"bg-black/20 p-3 rounded-lg space-y-2",children:[m&&sv(n.currentSchedule,"ACTUAL",!0),sv(n.proposedSchedule,m?"NUEVO":"HORARIO")]})]},n.id)})}),h==="ideas"&&W.jsx(W.Fragment,{children:i.length===0?W.jsxs("div",{className:"flex flex-col items-center justify-center h-40 text-slate-500",children:[W.jsx("span",{className:"text-2xl mb-2",children:""}),W.jsx("p",{className:"text-sm",children:"Sin ideas nuevas."})]}):i.map(n=>W.jsxs("div",{className:"bg-indigo-900/10 border border-indigo-500/20 rounded-xl p-4 flex justify-between items-center hover:bg-indigo-900/20 transition-colors",children:[W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsx("div",{className:"h-10 w-10 bg-indigo-600/20 text-indigo-400 rounded-full flex items-center justify-center text-xl border border-indigo-500/30",children:""}),W.jsxs("div",{children:[W.jsxs("h4",{className:"font-bold text-indigo-200 text-sm",children:[W.jsx("span",{className:"text-white",children:n.userName})," tuvo una nueva idea"]}),W.jsx("p",{className:"text-[10px] text-slate-500 mt-0.5",children:n.timestampStr}),W.jsxs("p",{className:"text-xs text-slate-400 italic mt-1 line-clamp-1",children:['"',n.content,'"']})]})]}),W.jsx("button",{onClick:()=>s("ideas"),className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded-lg shadow-lg border border-indigo-400/50 flex items-center gap-2 transition-all active:scale-95",children:"VER EN LAB "})]},n.id))})]})]})}):null},sv=(p,e,t=!1)=>W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("div",{className:`w-16 text-[9px] font-bold text-right uppercase ${t?"text-slate-500":"text-indigo-300"}`,children:e}),W.jsx("div",{className:"grid grid-cols-7 gap-1 flex-1",children:bT.map(i=>{const c=p?.[i];if(!c)return W.jsxs("div",{className:"text-center opacity-20",children:[W.jsx("div",{className:"text-[8px]",children:i.substring(0,2)}),"-"]},i);const o=t?"text-slate-500 bg-slate-800/50":"text-red-300 bg-red-900/30 font-bold",s=t?"text-slate-400 bg-slate-800/50":"text-green-300 bg-green-900/30 font-bold";return c.off?W.jsxs("div",{className:`text-center rounded p-1 ${o}`,children:[W.jsx("div",{className:"text-[8px] opacity-70",children:i.substring(0,2)}),W.jsx("div",{className:"text-[9px]",children:"OFF"})]},i):c.hours>0?W.jsxs("div",{className:`text-center rounded p-1 ${s}`,children:[W.jsx("div",{className:"text-[8px] opacity-70",children:i.substring(0,2)}),W.jsxs("div",{className:"text-[9px]",children:[c.hours,"h"]})]},i):W.jsxs("div",{className:"text-center opacity-20",children:[W.jsx("div",{className:"text-[8px]",children:i.substring(0,2)}),"-"]},i)})})]}),zo=[{name:"yellow",bg:"bg-[#fff59d] text-yellow-900",tab:"bg-[#fff59d]",btn:"bg-yellow-400"},{name:"green",bg:"bg-[#c5e1a5] text-green-900",tab:"bg-[#c5e1a5]",btn:"bg-green-400"},{name:"blue",bg:"bg-[#90caf9] text-blue-900",tab:"bg-[#90caf9]",btn:"bg-blue-400"},{name:"pink",bg:"bg-[#f48fb1] text-pink-900",tab:"bg-[#f48fb1]",btn:"bg-pink-400"},{name:"purple",bg:"bg-[#ce93d8] text-purple-900",tab:"bg-[#ce93d8]",btn:"bg-purple-400"},{name:"white",bg:"bg-[#eeeeee] text-slate-800",tab:"bg-[#eeeeee]",btn:"bg-slate-200"}],$w=({user:p})=>{const[e,t]=Et.useState(!1),[i,c]=Et.useState([]),[o,s]=Et.useState(null),[h,a]=Et.useState(null),[n,u]=Et.useState(""),f=(()=>{try{const N=localStorage.getItem(`nexus_notes_config_${p?.uid}`);return N?JSON.parse(N):null}catch{return null}})(),[d,b]=Et.useState(f?.position||{x:window.innerWidth-80,y:window.innerHeight-200}),[v,g]=Et.useState(f?.size||{width:340,height:450}),[w,_]=Et.useState(!1),[A,M]=Et.useState({x:0,y:0}),[O,q]=Et.useState({x:0,y:0}),F=Et.useRef(null),j=Et.useRef(null);Et.useEffect(()=>{if(!p)return;const N=nn(De,`users/${p.uid}/quick_notes`),I=Ei(N,Tu("createdAt","asc")),B=qi(I,K=>{const Z=K.docs.map(nt=>({id:nt.id,...nt.data()}));c(Z),Z.length>0?s(nt=>Z.find(tt=>tt.id===nt)?nt:Z[Z.length-1].id):s(null)});return()=>B()},[p]);const V=(N,I)=>{if(!p)return;const B={position:N,size:I};localStorage.setItem(`nexus_notes_config_${p.uid}`,JSON.stringify(B))},G=N=>{N.button===0&&(_(!0),q({x:N.clientX,y:N.clientY}),M({x:N.clientX-d.x,y:N.clientY-d.y}))},X=N=>{if(w&&(_(!1),Math.sqrt(Math.pow(N.clientX-O.x,2)+Math.pow(N.clientY-O.y,2))>5?V(d,v):t(B=>!B)),e&&F.current){const I=F.current.offsetWidth,B=F.current.offsetHeight;if(I!==v.width||B!==v.height){const K={width:I,height:B};g(K),V(d,K)}}};Et.useEffect(()=>{const N=I=>{w&&(I.preventDefault(),b({x:I.clientX-A.x,y:I.clientY-A.y}))};return(w||e)&&(window.addEventListener("mousemove",N),window.addEventListener("mouseup",X)),()=>{window.removeEventListener("mousemove",N),window.removeEventListener("mouseup",X)}},[w,A,O,e,d,v]);const H=async()=>{const N=await Wa(nn(De,`users/${p.uid}/quick_notes`),{title:"Nueva Nota",text:"",color:"yellow",createdAt:Date.now(),updatedAt:Date.now()});s(N.id),a(N.id),u("Nueva Nota")},R=async(N,I,B)=>{const K=gr(De,`users/${p.uid}/quick_notes`,N);await Ti(K,{[I]:B,updatedAt:Date.now()})},P=async(N,I)=>{N.stopPropagation(),window.confirm("Borrar nota?")&&await $o(gr(De,`users/${p.uid}/quick_notes`,I))},k=(N,I)=>{N.stopPropagation(),a(I.id),u(I.title||"Nota")},x=async N=>{n.trim()!==""&&await R(N,"title",n),a(null)},S=(N,I)=>{N.key==="Enter"&&x(I)},T=i.find(N=>N.id===o),E=T&&zo.find(N=>N.name===T.color)||zo[0];return p?W.jsxs(W.Fragment,{children:[e&&W.jsxs("div",{ref:F,className:"fixed z-[90] flex flex-col animate-fadeIn shadow-2xl rounded-xl overflow-hidden border border-white/20",style:{left:d.x-v.width+50,top:d.y-v.height-10,width:`${v.width}px`,height:`${v.height}px`,resize:"both",minWidth:"280px",minHeight:"200px"},onMouseDown:N=>N.stopPropagation(),children:[W.jsxs("div",{className:"flex bg-[#2d3748] overflow-x-auto custom-scrollbar-hide cursor-move items-end pt-1 px-1 gap-1 h-9 flex-shrink-0",title:"Arrastrar widget",children:[i.map((N,I)=>{const B=N.id===o,K=N.id===h,Z=zo.find(nt=>nt.name===N.color)||zo[0];return W.jsxs("div",{onClick:()=>!K&&s(N.id),onDoubleClick:nt=>k(nt,N),className:`group relative flex items-center justify-between min-w-[100px] max-w-[140px] h-8 px-3 rounded-t-lg text-xs font-bold select-none transition-all ${B?`${Z.tab} text-slate-900`:"bg-slate-700 text-slate-400 hover:bg-slate-600"}`,children:[K?W.jsx("input",{autoFocus:!0,value:n,onChange:nt=>u(nt.target.value),onBlur:()=>x(N.id),onKeyDown:nt=>S(nt,N.id),className:"w-full bg-transparent outline-none border-b border-black/50 text-slate-900 px-0 py-0"}):W.jsx("span",{className:"truncate mr-4 w-full",title:"Doble clic para editar",children:N.title||`Nota ${I+1}`}),!K&&W.jsx("button",{onClick:nt=>P(nt,N.id),className:`absolute right-1 top-1.5 w-5 h-5 flex items-center justify-center rounded-full hover:bg-black/10 text-[10px] ${B?"text-black/50":"text-white/30 hidden group-hover:flex"}`,children:""})]},N.id)}),W.jsx("button",{onClick:H,className:"h-7 w-7 mb-0.5 flex items-center justify-center rounded-lg bg-slate-800 text-slate-400 hover:text-white hover:bg-indigo-600 transition-colors flex-shrink-0",children:"+"})]}),W.jsxs("div",{className:`flex-1 flex flex-col relative ${T?E.bg:"bg-slate-800"} overflow-hidden`,children:[T?W.jsxs(W.Fragment,{children:[W.jsx("textarea",{className:"flex-1 w-full h-full bg-transparent resize-none outline-none p-4 text-sm font-medium placeholder-black/30 leading-relaxed custom-scrollbar",placeholder:"Escribe aqu tu nota...",value:T.text,onChange:N=>{const I=i.map(B=>B.id===T.id?{...B,text:N.target.value}:B);c(I)},onBlur:N=>R(T.id,"text",N.target.value),autoFocus:!0}),W.jsx("div",{className:"absolute bottom-2 right-4 flex gap-1 opacity-20 hover:opacity-100 transition-opacity bg-black/10 p-1 rounded-full backdrop-blur-sm z-10",children:zo.map(N=>W.jsx("button",{onClick:()=>R(T.id,"color",N.name),className:`w-4 h-4 rounded-full border border-white/20 shadow-sm ${N.btn} hover:scale-125 transition-transform`,title:N.name},N.name))})]}):W.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[W.jsx("span",{className:"text-3xl mb-2",children:""}),W.jsx("p",{className:"text-xs",children:"Sin notas abiertas."}),W.jsx("button",{onClick:H,className:"mt-3 text-xs bg-indigo-600 px-3 py-1.5 rounded-lg text-white hover:bg-indigo-500",children:"Crear una"})]}),W.jsx("div",{className:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize flex items-center justify-center opacity-0 hover:opacity-100 pointer-events-none z-0",children:W.jsx("span",{className:"text-black/50 text-[8px] rotate-45",children:""})})]})]}),W.jsx("div",{ref:j,onMouseDown:G,className:`fixed z-[100] w-14 h-14 rounded-full shadow-[0_0_20px_rgba(250,204,21,0.4)] flex items-center justify-center border-2 border-white/20 cursor-grab active:cursor-grabbing transition-transform hover:scale-110 ${e?"bg-yellow-400 text-black rotate-12":"bg-slate-800 text-yellow-400 hover:bg-slate-700"}`,style:{left:d.x,top:d.y,touchAction:"none"},title:"Notas Rpidas (Arrastra para mover)",children:W.jsx("span",{className:"text-2xl pointer-events-none",children:""})})]}):null},vT=["Columna CONFIRMADO","Columna UPSELL","Columna DATOS ENTREGA","Columna RESPONDER","Columna REMINDER","Chat en vivo (filtro Pendiente)","Columna LATE VERIFICATION","Chat en vivo (filtro Abiertos)","Ordenes confirmadas sheet (CHECK info)","CHAT Pending Orders","CALL Pending Orders","Facebook/Instagram Comments & Chats"],wT=()=>{const p=new Date,e=new Date(p.getFullYear(),0,1),t=Math.ceil(((p-e)/864e5+e.getDay()+1)/7);return`${p.getFullYear()}-W${t.toString().padStart(2,"0")}`},_T=({onLogout:p,currentUserTeam:e,isAdmin:t})=>{const i=Et.useMemo(()=>{const ft={team1:["Tienda Lujosa","Clara Tienda","Bella Divina"],team2:["Clara Tierra"],all:["Tienda Lujosa","Clara Tienda","Bella Divina","Clara Tierra"]};return t?ft.all:ft[e?.replace("_","")||"team1"]||ft.team1},[e,t]),[c,o]=Et.useState("planner"),[s,h]=Et.useState("current"),a=Et.useMemo(()=>s==="next"?qw():wT(),[s]),[n,u]=Et.useState([]),[m,f]=Et.useState({}),[d,b]=Et.useState({}),[v,g]=Et.useState([]),[w,_]=Et.useState([]),[A,M]=Et.useState(!1),[O,q]=Et.useState([]),[F,j]=Et.useState(new Date().toISOString().split("T")[0]),[V,G]=Et.useState("daily"),[X,H]=Et.useState("ALL"),[R,P]=Et.useState(e),[k,x]=Et.useState(null),[S,T]=Et.useState(!1),[E,N]=Et.useState([]),[I,B]=Et.useState(vT),[K,Z]=Et.useState(()=>{try{return JSON.parse(localStorage.getItem("specificTaskGoals"))||{}}catch{return{}}}),[nt,$]=Et.useState(!1),[tt,U]=Et.useState(""),[L,Q]=Et.useState([]),[it,ut]=Et.useState(""),[st,lt]=Et.useState("info"),[bt,yt]=Et.useState([]),[at,pt]=Et.useState(null),[dt,vt]=Et.useState([]),[xt,wt]=Et.useState(!1),[jt,It]=Et.useState(!1),[Ht,ee]=Et.useState(""),[Qt,Kt]=Et.useState(!1),[be,fe]=Et.useState(!1),[de,ge]=Et.useState(""),[Zt,Gt]=Et.useState("monday"),[te,re]=Et.useState([]),[oe,Oe]=Et.useState(null),[We,he]=Et.useState({role:"",team:""}),[Ve,ve]=Et.useState(0);Et.useEffect(()=>{(async()=>{const Mt=(await dh(nn(De,"users"))).docs.map(ne=>({id:ne.id,...ne.data()}));re(Mt),u(Mt),f({});try{const ne=gr(De,"weekly_plans",a),Ae=await Eu(ne);Ae.exists()&&f(Ae.data().plan||{})}catch(ne){console.error(ne)}const Wt=Ei(nn(De,"weekly_schedules"),Fi("weekId","==",a)),zt=qi(Wt,ne=>{const Ae={};ne.docs.forEach(Be=>{const Ee=Be.data();Ee.uid&&(Ae[Ee.uid]=Ee.schedule)}),b(Ae)}),qt=qi(Ei(nn(De,"schedule_requests"),Fi("status","==","pending")),ne=>g(ne.docs.map(Ae=>({id:Ae.id,...Ae.data()})))),Ie=qi(Ei(nn(De,"monday_ideas"),Fi("status","==","new")),ne=>_(ne.docs.map(Ae=>({id:Ae.id,...Ae.data()})))),ae=qi(Ei(nn(De,"news_ticker"),Tu("createdAt","desc")),ne=>Q(ne.docs.map(Ae=>({id:Ae.id,...Ae.data()})))),xe=qi(nn(De,"training_modules"),ne=>yt(ne.docs.map(Ae=>({id:Ae.id,...Ae.data()}))));return c==="dashboard"&&we(),(c==="ideas"||c==="dev")&&ze(),()=>{zt(),qt(),Ie(),ae(),xe()}})()},[c,a,F,R,V]);const we=async()=>{T(!0),q([]),N([]);try{const ft=Ne(),St=nn(De,"daily_reports");let Mt=R==="ALL_TEAMS"?Ei(St,Fi("date",">=",ft.start),Fi("date","<=",ft.end)):Ei(St,Fi("team","==",R),Fi("date",">=",ft.start),Fi("date","<=",ft.end));const zt=(await dh(Mt)).docs.map(ae=>({id:ae.id,...ae.data()}));q(zt);const qt={};zt.forEach(ae=>{qt[ae.uid]||(qt[ae.uid]={id:ae.uid,uid:ae.uid,userName:ae.userName,team:ae.team,totalTasks:0,totalTimeMs:0,taskBreakdownMap:{},lastUpdate:ae.timestampStr});const xe=qt[ae.uid];xe.totalTasks+=ae.metrics?.totalTasks||0,xe.totalTimeMs+=ae.metrics?.totalTimeMs||0,xe.lastUpdate=ae.timestampStr||_e(ae.date),ae.taskBreakdown&&ae.taskBreakdown.forEach(ne=>{xe.taskBreakdownMap[ne.name]||(xe.taskBreakdownMap[ne.name]={count:0,timeMs:0}),xe.taskBreakdownMap[ne.name].count+=ne.count||0,xe.taskBreakdownMap[ne.name].timeMs+=ne.timeMs||0})});const Ie=Object.values(qt).map(ae=>{const xe=Object.entries(ae.taskBreakdownMap).map(([Be,Ee])=>{const Ue=Ee.timeMs/36e5;return{name:Be,count:Ee.count,timeMs:Ee.timeMs,speed:Ue>0?(Ee.count/Ue).toFixed(2):"0.00"}}),ne=ae.totalTimeMs/36e5,Ae=ne>0?(ae.totalTasks/ne).toFixed(2):"0.00";return{...ae,metrics:{totalTasks:ae.totalTasks,totalTimeMs:ae.totalTimeMs,globalSpeed:Ae},taskBreakdown:xe,timestampStr:ae.lastUpdate}});N(Ie)}catch(ft){console.error("Error:",ft)}T(!1)},ze=async()=>{wt(!0);try{let ft=Ei(nn(De,"monday_ideas"),Tu("timestamp","desc")),Mt=(await dh(ft)).docs.map(Wt=>({id:Wt.id,...Wt.data()}));t||(Mt=Mt.filter(Wt=>Wt.type!=="dev")),vt(Mt)}catch(ft){console.error(ft)}wt(!1)},Ne=()=>{const[ft,St,Mt]=F.split("-"),Wt=new Date(parseInt(ft),parseInt(St)-1,parseInt(Mt)),zt=qt=>`${qt.getFullYear()}-${String(qt.getMonth()+1).padStart(2,"0")}-${String(qt.getDate()).padStart(2,"0")}`;if(V==="daily")return{start:F,end:F};if(V==="weekly"){const qt=Wt.getDay(),Ie=Wt.getDate()-qt+(qt===0?-6:1),ae=new Date(Wt);ae.setDate(Ie);const xe=new Date(ae);return xe.setDate(ae.getDate()+6),{start:zt(ae),end:zt(xe),startDateObj:ae,endDateObj:xe}}if(V==="monthly"){const qt=new Date(Wt.getFullYear(),Wt.getMonth(),1),Ie=new Date(Wt.getFullYear(),Wt.getMonth()+1,0);return{start:zt(qt),end:zt(Ie),startDateObj:qt,endDateObj:Ie}}return{start:F,end:F}},_e=ft=>{if(!ft||ft.includes("/"))return ft;const[St,Mt,Wt]=ft.split("-");return`${Wt}/${Mt}/${St}`},He=(ft,St)=>{if(St===-1||St===void 0)return"text-blue-400 font-normal italic";const Mt=parseFloat(ft)||0,Wt=parseFloat(St)||1;return Mt>=Wt?"text-green-400 font-bold":Mt>=Wt*.7?"text-yellow-400 font-bold":"text-red-500 font-bold"},qe=ft=>x(k===ft?null:ft),Se=ft=>{if(!ft)return"0h 0m";const St=Math.floor(ft/36e5),Mt=Math.floor(ft%36e5/6e4);return`${St}h ${Mt}m`},Je=()=>{const ft=Ne();let St=dt;if(c==="ideas"?St=St.filter(Mt=>Mt.type==="monday"):c==="dev"&&(St=St.filter(Mt=>Mt.type==="dev")),V!=="daily"){const Mt=ft.startDateObj?ft.startDateObj.getTime():0,Wt=ft.endDateObj?ft.endDateObj.getTime():9999999999999;St=St.filter(zt=>zt.timestamp>=Mt&&zt.timestamp<=Wt)}return St=St.filter(Mt=>Qt?Mt.isArchived:!Mt.isArchived),St},Ke=async()=>{it&&(await Wa(nn(De,"news_ticker"),{text:it,type:st,createdAt:Date.now()}),ut(""))},Ce=async ft=>{await $o(gr(De,"news_ticker",ft))},mt=async ft=>{const St={...ft,active:!0,version:ft.version||1};ft.id?(ft.isMajorUpdate&&(St.version+=1),await Ti(gr(De,"training_modules",ft.id),St)):await Wa(nn(De,"training_modules"),St),pt(null)},Tt=async ft=>{window.confirm("Borrar?")&&await $o(gr(De,"training_modules",ft))},Dt=async ft=>{await Ti(gr(De,"training_modules",ft.id),{active:!ft.active})},Jt=async()=>{if(!de.trim())return;const ft=rv.currentUser;if(!ft)return;const Mt=new Date().toLocaleString("es-AR"),Wt={uid:ft.uid,userName:ft.displayName||"Admin",team:e||"admin",content:de,type:Zt,timestamp:Date.now(),timestampStr:Mt,analysis:{pros:"",cons:""},status:"new",isArchived:!1};await Wa(nn(De,"monday_ideas"),Wt),ge(""),fe(!1),ze()},pe=async(ft,St)=>{St==="approved"?(await Ti(gr(De,"monday_ideas",ft.id),{status:"approved"}),await vs(gr(De,"users",ft.uid,"data","wallet"),{val:{value:Vo(50),coins:Vo(50),lofiCoins:Vo(50)}},{merge:!0}),alert("Aprobada +50")):await Ti(gr(De,"monday_ideas",ft.id),{status:"rejected"}),vt(Mt=>Mt.map(Wt=>Wt.id===ft.id?{...Wt,status:St}:Wt))},Xt=async ft=>{window.confirm("Archivar?")&&(await Ti(gr(De,"monday_ideas",ft),{isArchived:!0}),vt(St=>St.map(Mt=>Mt.id===ft?{...Mt,isArchived:!0}:Mt)))},le=async ft=>{await Ti(gr(De,"monday_ideas",ft),{isArchived:!1}),vt(St=>St.map(Mt=>Mt.id===ft?{...Mt,isArchived:!1}:Mt))},Lt=async ft=>{window.confirm("Eliminar?")&&(await $o(gr(De,"monday_ideas",ft)),vt(St=>St.filter(Mt=>Mt.id!==ft)))},Yt=async(ft,St)=>{await Ti(gr(De,"monday_ideas",ft),{analysis:St}),alert("Guardado")},ue=(ft,St,Mt)=>{vt(Wt=>Wt.map(zt=>zt.id===ft?{...zt,analysis:{...zt.analysis||{pros:"",cons:""},[St]:Mt}}:zt))},se=()=>{const ft=dt.filter(Wt=>Wt.type==="monday"&&!Wt.isArchived&&Wt.status==="approved");if(ft.length===0){alert("Sin ideas aprobadas.");return}const St=Ne();let Mt=` *RESUMEN*
 ${St.start} - ${St.end}

`;ft.forEach((Wt,zt)=>{Mt+=` *#${zt+1}* (${Wt.userName})
"${Wt.content}"

`}),ee(Mt),It(!0)},ke=ft=>{Oe(ft.id),he({role:ft.role||"agent",team:ft.team||"default"})},br=async ft=>{try{await Ti(gr(De,"users",ft),We),re(St=>St.map(Mt=>Mt.id===ft?{...Mt,...We}:Mt)),Oe(null),alert("Guardado")}catch{alert("Error")}},tr=async ft=>{const St=parseInt(Ve);St&&(await vs(gr(De,"users",ft,"data","wallet"),{val:{value:Vo(St),coins:Vo(St),lofiCoins:Vo(St)}},{merge:!0}),alert(`Enviados ${St}`),ve(0))},Tr=async ft=>{try{await vs(gr(De,"weekly_schedules",`${ft.uid}_${ft.weekId}`),{uid:ft.uid,userName:ft.userName,weekId:ft.weekId,schedule:ft.proposedSchedule,updatedAt:Date.now()}),await $o(gr(De,"schedule_requests",ft.id)),alert(" Aprobada")}catch{alert("Error")}},dr=async ft=>{window.confirm("Rechazar?")&&await $o(gr(De,"schedule_requests",ft))},_r=ft=>{o(ft),M(!1)},ht=v.length+w.length;return W.jsxs("div",{className:"min-h-screen w-full bg-slate-950 text-white font-inter animate-fadeIn pb-20 relative overflow-x-hidden selection:bg-indigo-500 selection:text-white",children:[W.jsx("div",{className:"absolute inset-0 z-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-indigo-900/30 via-slate-950 to-black pointer-events-none"}),W.jsx("div",{className:"relative z-10 w-full bg-slate-900/80 backdrop-blur-md border-b border-white/5 sticky top-0 shadow-2xl",children:W.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 flex flex-col md:flex-row justify-between items-center gap-4",children:[W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg",children:W.jsx("span",{className:"text-xl",children:""})}),W.jsxs("div",{children:[W.jsx("h1",{className:"text-xl font-bold uppercase",children:"Nexus Control"}),W.jsx("p",{className:"text-[10px] text-slate-400 font-mono tracking-widest uppercase",children:t?"Admin":"Team Leader"})]})]}),W.jsxs("div",{className:"flex gap-3",children:[W.jsxs("button",{onClick:()=>M(!0),className:`px-4 py-2 rounded-lg text-xs font-bold border transition-all flex items-center gap-2 relative ${ht>0?"bg-indigo-600 text-white border-indigo-400 shadow-[0_0_15px_rgba(99,102,241,0.5)] animate-pulse":"bg-slate-800 text-slate-400 border-white/5"}`,children:[W.jsx("span",{children:""}),ht>0&&W.jsx("span",{className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center text-[9px] border border-slate-900 shadow-sm",children:ht})]}),W.jsx("button",{onClick:()=>$(!0),className:"px-4 py-2 rounded-lg bg-slate-800 hover:bg-slate-700 text-slate-300 text-xs font-bold border border-white/5 flex items-center gap-2",children:" METAS"}),W.jsx("button",{onClick:p,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 text-white text-xs font-bold border border-blue-500/20",children:" ATRS"})]})]})}),W.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto p-4 md:p-8",children:[W.jsx("div",{className:"flex flex-wrap gap-2 mb-8 p-1 bg-slate-900/50 backdrop-blur rounded-xl border border-white/5 w-fit",children:["dashboard","planner","news","academy","ideas",t?"dev":null,t?"users":null].filter(Boolean).map(ft=>W.jsx("button",{onClick:()=>o(ft),className:`px-5 py-2.5 rounded-lg font-bold text-xs uppercase tracking-wide transition-all ${c===ft?"bg-indigo-600 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:{dashboard:" Reportes",planner:" Planner",news:" Noticias",academy:" Academy",ideas:" Ideas",dev:" Dev",users:" Usuarios"}[ft]},ft))}),c==="dashboard"&&W.jsx(oT,{processedData:E,detectedTasks:I,taskGoals:K,selectedTeam:R,isLoading:S,selectedTaskFilter:X,setSelectedTaskFilter:H,viewMode:V,setViewMode:G,filterDate:F,setFilterDate:j,expandedReportId:k,fetchTeamData:we,toggleRow:qe,formatTime:Se,getPerformanceColor:He}),c==="planner"&&W.jsx(hT,{squad:n,weeklyPlan:m,setWeeklyPlan:f,agentSchedules:d,visibleShops:i,nextWeekId:a,targetWeek:s,setTargetWeek:h}),c==="news"&&W.jsx(fT,{newsList:L,newNewsText:it,setNewNewsText:ut,newNewsType:st,setNewNewsType:lt,addNews:Ke,deleteNews:Ce}),c==="academy"&&W.jsx(dT,{quizzes:bt,editingQuiz:at,setEditingQuiz:pt,saveQuiz:mt,deleteQuiz:Tt,toggleQuiz:Dt}),(c==="ideas"||c==="dev")&&W.jsx(mT,{activeTab:c,showArchived:Qt,setShowArchived:Kt,fetchIdeas:ze,filteredIdeas:Je(),generateMondaySummary:se,handleSaveAnalysis:Yt,handleIdeaVerdict:pe,handleArchiveIdea:Xt,handleDeleteIdea:Lt,handleRestoreIdea:le,handleAnalysisChange:ue}),c==="users"&&t&&W.jsx(gT,{usersList:te,editingUserId:oe,setEditingUserId:Oe,editForm:We,setEditForm:he,setPointsToSend:ve,handleGivePoints:tr,saveUserChanges:br,startEditingUser:ke})]}),W.jsxs("div",{className:"fixed bottom-6 right-6 flex flex-col gap-3 z-50",children:[W.jsx("button",{onClick:()=>{Gt("dev"),fe(!0)},className:"flex items-center justify-center w-12 h-12 bg-purple-600 hover:bg-purple-500 text-white rounded-full shadow-lg border border-white/20",children:""}),W.jsx("button",{onClick:()=>{Gt("monday"),fe(!0)},className:"flex items-center justify-center w-14 h-14 bg-yellow-500 hover:bg-yellow-400 text-black rounded-full shadow-lg font-bold text-xl border border-white/20",children:""})]}),be&&W.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/80 backdrop-blur-md p-4",children:W.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-lg shadow-2xl p-6",children:[W.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Nueva Idea"}),W.jsx("textarea",{className:"w-full bg-black/40 border border-white/10 rounded-xl p-4 text-white text-sm h-40",value:de,onChange:ft=>ge(ft.target.value)}),W.jsxs("div",{className:"flex gap-2 mt-4",children:[W.jsx("button",{onClick:Jt,className:"flex-1 bg-indigo-600 py-2 rounded font-bold",children:"Enviar"}),W.jsx("button",{onClick:()=>fe(!1),className:"px-4 bg-slate-700 rounded",children:"X"})]})]})}),jt&&W.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/90 p-4",children:W.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl h-[80vh] flex flex-col",children:[W.jsx("textarea",{readOnly:!0,value:Ht,className:"flex-1 bg-slate-950 p-6 text-green-400 font-mono"}),W.jsx("button",{onClick:()=>It(!1),className:"py-3 bg-slate-800 text-white font-bold",children:"Cerrar"})]})}),nt&&W.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 p-4",children:W.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-2xl w-full max-w-lg p-6 max-h-[80vh] overflow-y-auto",children:[W.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Metas"}),W.jsx("div",{className:"space-y-2",children:I.map(ft=>W.jsxs("div",{className:"flex justify-between text-sm text-slate-300",children:[W.jsx("span",{children:ft}),W.jsx("input",{type:"number",value:K[ft]||"",onChange:St=>Z({...K,[ft]:St.target.value}),className:"bg-black/40 w-16 text-center text-green-400"})]},ft))}),W.jsx("button",{onClick:()=>$(!1),className:"mt-4 w-full bg-indigo-600 py-2 rounded font-bold",children:"Listo"})]})}),W.jsx($w,{user:rv.currentUser}),W.jsx(yT,{isOpen:A,onClose:()=>M(!1),scheduleRequests:v,pendingIdeas:w,handleApproveRequest:Tr,handleRejectRequest:dr,onNavigate:_r})]})},xT=()=>{const[p,e]=Et.useState(!1),[t,i]=Et.useState(""),[c,o]=Et.useState(""),[s,h]=Et.useState(""),[a,n]=Et.useState(!1),u=async()=>{h(""),n(!0);const f=new Ai;try{await iS(pu,f)}catch(d){console.error("Google Auth Error:",d),d.code==="auth/unauthorized-domain"?h(`Dominio no autorizado. Agrega "${window.location.hostname}" en Firebase Console.`):d.code==="auth/popup-closed-by-user"?h("Ventana cerrada por el usuario."):h("Error al iniciar con Google. Verifica la consola."),n(!1)}},m=async f=>{f.preventDefault(),h(""),n(!0);try{p?await j9(pu,t,c):await O9(pu,t,c)}catch(d){console.error("Email Auth Error:",d);let b="Error de autenticacin.";d.code==="auth/wrong-password"&&(b="Contrasea incorrecta."),d.code==="auth/user-not-found"&&(b="Usuario no encontrado."),d.code==="auth/email-already-in-use"&&(b="El correo ya est registrado."),d.code==="auth/weak-password"&&(b="La contrasea es muy dbil."),h(b),n(!1)}};return W.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 p-4",children:W.jsxs("div",{className:"w-full max-w-md bg-gray-800 rounded-2xl shadow-2xl overflow-hidden border border-gray-700",children:[W.jsxs("div",{className:"p-8",children:[W.jsxs("div",{className:"text-center mb-8",children:[W.jsx("h1",{className:"text-3xl font-extrabold text-white mb-2",children:"Bienvenido"}),W.jsx("p",{className:"text-gray-400 text-sm",children:"Task Manager TL - Secured"})]}),W.jsx("button",{onClick:u,disabled:a,className:"w-full bg-white text-gray-900 font-bold py-3 rounded-lg flex items-center justify-center gap-3 hover:bg-gray-100 transition shadow-md mb-6",children:a?"Cargando...":W.jsxs(W.Fragment,{children:[W.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-5 h-5"}),"Iniciar con Google"]})}),W.jsxs("div",{className:"relative flex py-2 items-center mb-6",children:[W.jsx("div",{className:"flex-grow border-t border-gray-600"}),W.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs",children:"O usa tu correo"}),W.jsx("div",{className:"flex-grow border-t border-gray-600"})]}),W.jsxs("form",{onSubmit:m,className:"space-y-4",children:[W.jsx("input",{type:"email",placeholder:"Correo electrnico",value:t,onChange:f=>i(f.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),W.jsx("input",{type:"password",placeholder:"Contrasea",value:c,onChange:f=>o(f.target.value),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),s&&W.jsx("p",{className:"text-red-400 text-xs text-center font-bold bg-red-900/50 p-2 rounded",children:s}),W.jsx("button",{type:"submit",disabled:a,className:`w-full py-3 rounded-lg font-bold text-white transition shadow-lg ${p?"bg-purple-600 hover:bg-purple-700":"bg-blue-600 hover:bg-blue-700"}`,children:a?"Procesando...":p?"Registrarse":"Iniciar Sesin"})]}),W.jsx("div",{className:"mt-6 text-center",children:W.jsx("button",{onClick:()=>e(!p),className:"text-sm text-gray-400 hover:text-white underline",children:p?"Ya tienes cuenta? Inicia sesin":"No tienes cuenta? Regstrate"})})]}),W.jsx("div",{className:"bg-gray-700/30 p-4 text-center border-t border-gray-700",children:W.jsx("p",{className:"text-xs text-gray-500",children:" Tus datos se guardan seguros en Firebase"})})]})})},Gw="/themesTaskmanager/assets/logo-C6jEf1_1.png",ST=({coins:p,onOpenShop:e})=>{const t=typeof p=="number"?p:0;return W.jsx("div",{className:"fixed top-5 left-1/2 transform -translate-x-1/2 z-50 animate-slideDown",children:W.jsxs("div",{className:"flex items-center gap-1 p-1.5 bg-[#0f172a]/80 backdrop-blur-xl border border-white/10 rounded-full shadow-[0_8px_32px_rgba(0,0,0,0.5)]",children:[W.jsxs("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-1.5 rounded-full border border-white/5 pr-6",children:[W.jsx("div",{className:"w-8 h-8 rounded-full bg-[#d1c4e9] flex items-center justify-center overflow-hidden border border-white/20 shadow-inner",children:W.jsx("img",{src:Gw,alt:"Coin",className:"w-full h-full object-cover transform scale-[1.7]"})}),W.jsxs("div",{className:"flex flex-col",children:[W.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:"Lofi Coins"}),W.jsx("span",{className:"text-base font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-slate-300 leading-tight tabular-nums",children:t.toLocaleString()})]})]}),W.jsx("div",{className:"w-px h-6 bg-white/10 mx-1"}),W.jsxs("button",{onClick:e,className:"group relative w-10 h-10 flex items-center justify-center rounded-full bg-transparent hover:bg-white/10 transition-all duration-300",title:"Abrir Tienda",children:[W.jsx("span",{className:"text-xl filter drop-shadow-md group-hover:scale-110 transition-transform",children:""}),W.jsx("span",{className:"absolute -bottom-8 left-1/2 -translate-x-1/2 text-[10px] bg-black text-white px-2 py-0.5 rounded opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none whitespace-nowrap",children:"Tienda"})]})]})})},TT=({themeClasses:p,celebrationMessage:e})=>{const t=p.name==="halloween"?"[text-shadow:0_0_8px_rgba(255,165,0,0.6)]":p.name==="party"?"[text-shadow:0_0_10px_rgba(217,70,239,0.7)]":p.name==="biancaBday"?"[text-shadow:0_0_12px_rgba(236,72,153,0.6)]":"",[i,c]=p.iconPair||[null,null],o=p.name==="lofi",s=()=>{confirm("Seguro que quieres cerrar sesin?")&&B9(pu)};return W.jsxs("div",{className:"text-center mb-4 flex flex-col items-center relative",children:[W.jsx("button",{onClick:s,className:"absolute top-0 right-0 text-xs bg-red-900/50 hover:bg-red-800 text-red-200 px-2 py-1 rounded border border-red-800 transition",children:"Salir"}),o&&W.jsx("div",{className:"mb-2 animate-bounce-slow",children:W.jsx("img",{src:"https://i.imgur.com/0YBh5gg.png",alt:"LofiDex Logo",className:"w-32 h-32 object-cover rounded-full border-4 border-[#C084FC] shadow-lg hover:scale-105 transition-transform duration-500",onError:h=>{h.target.onerror=null,h.target.style.display="none"}})}),W.jsxs("h1",{className:`text-4xl font-extrabold transition-colors duration-500 ${p.primaryText} ${p.titleFont} ${t}`,children:[i&&W.jsx("span",{className:"inline-block transform -rotate-12 scale-110 mr-2 text-3xl",children:i}),o?"Task Manager":"Task Manager TL",c&&W.jsx("span",{className:"inline-block transform rotate-12 scale-110 ml-2 text-3xl",children:c})]}),o&&W.jsx("div",{className:"mt-2 bg-[#FDFCDC] text-[#2E1065] px-3 py-1 rounded-full text-xs font-bold font-lofidex tracking-widest uppercase border border-[#C084FC] shadow-md flex items-center gap-1 animate-pulse",children:W.jsx("span",{children:" Powered by LofiDex "})}),e&&W.jsx("p",{className:`mt-2 text-lg font-semibold animate-pulse ${p.accentText}`,children:e})]})},ET=({message:p,resumeAction:e,dismissAction:t})=>{if(!p)return null;const i=p.taskIdToResume!==null,c=i?"bg-green-700/80":"bg-yellow-700/80",o=i?"border-green-400":"border-yellow-400";return W.jsx("div",{className:"fixed top-0 left-0 w-full p-4 z-[60] backdrop-blur-sm transition-all duration-300 transform translate-y-0",children:W.jsxs("div",{className:`max-w-xl mx-auto p-4 rounded-xl shadow-2xl flex flex-col sm:flex-row items-center justify-between gap-3 ${c} border ${o} text-white`,children:[W.jsx("p",{className:"font-semibold text-center sm:text-left flex-grow",children:p.text}),W.jsxs("div",{className:"flex gap-3 flex-shrink-0",children:[p.taskIdToResume!==null&&W.jsx("button",{onClick:e,className:"px-4 py-2 text-sm font-bold rounded-full bg-blue-500 hover:bg-blue-600 transition duration-200 shadow-md",children:" Reanudar Tarea "}),W.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-bold rounded-full bg-gray-600 hover:bg-gray-700 transition duration-200",children:" Cerrar "})]})]})})},AT=({addTask:p,addMultipleTasks:e,errorMessage:t,setErrorMessage:i,themeClasses:c})=>{const[o,s]=Et.useState(""),[h,a]=Et.useState([]),[n,u]=Et.useState(""),[m,f]=Et.useState(!1);Et.useEffect(()=>{a([]),o&&f(!0)},[o]);const d=Et.useMemo(()=>{let A=[...Hw];return o&&Xp[o]&&(A=[Xp[o],...A]),A},[o]),b=A=>{s(A.target.value)},v=A=>{o&&a(M=>M.includes(A)?M.filter(O=>O!==A):[...M,A])},g=A=>{if(A.preventDefault(),!o){i("Primero selecciona una tienda.");return}if(h.length===0){i("Selecciona al menos una tarea.");return}const M=[];h.forEach(O=>{let q=O;if(O==="OTHER_CUSTOM_TASK"){if(!n.trim())return;q=n.trim()}M.push({shopInput:o,taskName:q,quantity:null})}),e?e(M)&&(a([]),u(""),i("")):(M.forEach(O=>p(O)),a([]),i(""))},w="bg-gray-800 text-white",_=h.includes("OTHER_CUSTOM_TASK");return W.jsxs("form",{onSubmit:g,className:"flex flex-col gap-4",children:[W.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[W.jsxs("select",{value:o,onChange:b,className:`flex-1 px-5 py-3 border-2 ${c.cardBg} ${c.accentText} ${c.shopSelectBorder} rounded-full focus:outline-none transition-all font-semibold appearance-none cursor-pointer`,required:!0,children:[W.jsx("option",{value:"",disabled:!0,className:w,children:"--- Seleccionar Tienda ---"}),Fw.map(A=>W.jsx("option",{value:A,className:w,children:A},A))]}),o&&W.jsxs("div",{className:"flex flex-col gap-2 animate-fade-in",children:[W.jsxs("div",{className:"flex justify-between items-center px-2",children:[W.jsx("span",{className:`text-xs uppercase font-bold tracking-widest ${c.secondaryText} opacity-70`,children:"Tareas Disponibles"}),W.jsx("button",{type:"button",onClick:()=>f(!m),className:`text-[10px] font-bold px-2 py-1 rounded border border-gray-600 ${c.secondaryText} hover:bg-gray-700 transition`,children:m?"OCULTAR ":"MOSTRAR "})]}),m&&W.jsx("div",{className:`p-3 rounded-xl border ${c.inputBorder} ${c.cardBg} max-h-60 overflow-y-auto task-scroll`,children:W.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[d.map(A=>{const M=h.includes(A);return W.jsx("button",{type:"button",onClick:()=>v(A),className:`text-xs px-3 py-2 rounded-lg font-medium transition-all border 
                                                    ${M?"bg-green-600 text-white border-green-400 shadow-md transform scale-105":`bg-transparent ${c.secondaryText} ${c.inputBorder} hover:bg-gray-700 hover:text-white`}`,children:A},A)}),W.jsx("button",{type:"button",onClick:()=>v("OTHER_CUSTOM_TASK"),className:`text-xs px-3 py-2 rounded-lg font-medium transition-all border 
                                            ${_?"bg-purple-600 text-white border-purple-400 shadow-md":"bg-transparent text-purple-300 border-purple-900/50 hover:bg-purple-900/20"}`,children:"+ Otra"})]})})]}),_&&m&&W.jsx("input",{type:"text",value:n,onChange:A=>u(A.target.value),placeholder:"Nombre de la tarea personalizada...",className:`flex-1 px-5 py-3 border-2 ${c.cardBg} ${c.secondaryText} ${c.inputBorder} rounded-full focus:outline-none transition-all animate-pulse`,required:!0})]}),t&&W.jsx("p",{className:"text-red-400 font-medium bg-red-900/50 p-3 rounded-xl text-center border border-red-500/30",children:t}),W.jsx("button",{type:"submit",className:`px-6 py-3 rounded-full font-semibold transition duration-300 shadow-lg w-full sm:w-auto ${c.buttonAdd} disabled:opacity-50 disabled:cursor-not-allowed`,disabled:!o||h.length===0,children:h.length>1?`Agregar ${h.length} Tareas`:"Agregar Tarea"})]})},CT=({task:p,toggleTimer:e,deleteTask:t,updateTaskDetails:i,themeClasses:c,resetTaskTimer:o,celebrationThemeName:s})=>{const[h,a]=Et.useState(!1),[n,u]=Et.useState(""),[m,f]=Et.useState(!1),[d,b]=Et.useState(p.quantity||""),[v,g]=Et.useState(!1),[w,_]=Et.useState(p.shop),[A,M]=Et.useState(!1),[O,q]=Et.useState(p.rawTaskName),[F,j]=Et.useState(!1),[V,G]=Et.useState(!1),X=p.running?p.elapsedTime+(Date.now()-(p.lastTime||Date.now())):p.elapsedTime,H=p.isCustom;Et.useEffect(()=>{h||u(wp(X))},[X,h]);const R=()=>{const I=n.split(":").map(Number);if(I.length===3&&!I.some(isNaN)){const B=(I[0]*3600+I[1]*60+I[2])*1e3;i(p.id,{elapsedTime:B,lastTime:p.running?Date.now():null})}a(!1)},P=()=>{i(p.id,{quantity:parseInt(d)||0}),f(!1)},k=()=>{w&&i(p.id,{shop:w}),g(!1)},x=()=>{const I=O.trim()||"Tarea sin Nombre";i(p.id,{rawTaskName:I}),M(!1)},S=()=>{o(p.id),j(!1)},T=()=>{t(p.id),G(!1)},E=p.running?s==="biancaBday"?"border-l-4 border-pink-400":"border-l-4 border-green-500":"border-l-4 border-gray-600",N=p.running?"bg-blue-600 hover:bg-blue-500 text-white":"bg-gray-600 hover:bg-gray-500 text-gray-200";return W.jsxs("div",{className:`flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 sm:gap-4 sm:p-4 rounded-xl shadow-md transition-all duration-300 ${c.itemBg} ${E}`,children:[W.jsxs("div",{className:"flex flex-col gap-1 min-w-0 flex-grow",children:[v?W.jsx("select",{value:w,onChange:I=>_(I.target.value),onBlur:k,className:`px-2 py-1 border-b-2 bg-gray-900 focus:outline-none w-full sm:w-40 rounded ${c.accentText} border-pink-500 text-xs sm:text-sm font-bold`,autoFocus:!0,children:Fw.map(I=>W.jsx("option",{value:I,children:I},I))}):W.jsx("span",{className:`font-bold text-xs sm:text-sm uppercase tracking-wider opacity-80 cursor-pointer hover:text-white transition-colors ${c.accentText}`,onClick:()=>{_(p.shop),g(!0)},title:"Clic para cambiar tienda",children:p.shop||"Sin Tienda"}),A&&H?W.jsx("input",{type:"text",value:O,onChange:I=>q(I.target.value),onBlur:x,onKeyPress:I=>I.key==="Enter"&&x(),className:`font-medium text-base sm:text-lg border-b-2 bg-transparent focus:outline-none w-full ${c.secondaryText} border-pink-500`,autoFocus:!0}):W.jsx("span",{className:`font-medium text-base sm:text-lg break-words ${H?"cursor-pointer hover:underline decoration-dashed":""} ${c.secondaryText}`,onClick:()=>{H&&(q(p.rawTaskName),M(!0))},children:p.rawTaskName||p.name}),W.jsx("div",{className:"flex items-center gap-3 mt-1",children:m?W.jsxs("div",{className:"flex items-center gap-1",children:[W.jsx("span",{className:"text-xs text-gray-400",children:"Cant:"}),W.jsx("input",{type:"number",value:d,onChange:I=>b(I.target.value),onBlur:P,onKeyPress:I=>I.key==="Enter"&&P(),className:`font-mono text-sm sm:text-base border-b-2 bg-gray-800/50 focus:outline-none w-16 sm:w-20 text-center rounded px-1 ${c.primaryText} border-blue-500`,autoFocus:!0})]}):W.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/40 px-2 py-1 rounded-lg border border-gray-700/50",children:[W.jsx("span",{className:`font-mono text-sm sm:text-base cursor-pointer hover:text-white transition-colors ${c.secondaryText}`,onClick:()=>{b(p.quantity||""),f(!0)},title:"Clic para editar cantidad manualmente",children:p.quantity?`${p.quantity} rdenes`:"0 rdenes"}),W.jsx("button",{onClick:I=>{I.stopPropagation(),i(p.id,{quantity:(p.quantity||0)+1})},className:`text-[10px] font-bold px-2 py-0.5 rounded shadow-sm transition-transform active:scale-95 ${N}`,title:"Sumar 1 orden",children:"+1"})]})})]}),W.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-2 sm:gap-4 w-full sm:w-auto flex-shrink-0 pt-2 sm:pt-0 border-t border-gray-700/30 sm:border-none mt-2 sm:mt-0",children:[h?W.jsx("input",{type:"text",value:n,onChange:I=>u(I.target.value),onBlur:R,onKeyPress:I=>I.key==="Enter"&&R(),placeholder:"HH:MM:SS",className:`font-mono text-xl sm:text-2xl border-b-2 bg-gray-900 focus:outline-none w-28 sm:w-32 text-center rounded ${c.primaryText} border-blue-500 tracking-widest`,autoFocus:!0}):W.jsx("span",{className:`font-mono text-xl sm:text-2xl cursor-pointer hover:scale-105 transition-transform tracking-widest ${p.running?"text-green-400 font-bold":c.primaryText}`,onClick:()=>{u(wp(X)),a(!0)},title:"Clic para editar tiempo manualmente",children:wp(X)}),W.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[W.jsx("button",{onClick:()=>e(p.id),className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center text-white font-bold transition-all shadow-lg active:scale-95 ${p.running?"bg-red-500 hover:bg-red-600 animate-pulse":"bg-green-600 hover:bg-green-500"}`,title:p.running?"Pausar":"Iniciar",children:p.running?W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),W.jsxs("div",{className:"flex flex-col gap-1",children:[F?W.jsx("button",{onClick:S,className:"text-red-500 hover:text-red-400 text-xs font-bold bg-red-900/30 px-2 py-1 rounded",title:"Confirmar Reset",children:"Conf?"}):W.jsx("button",{onClick:()=>{j(!0),G(!1)},className:"text-gray-500 hover:text-gray-300 transition",title:"Reiniciar",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m-15.357-2A8.001 8.001 0 0019.418 15m0 0H15"})})}),V?W.jsx("button",{onClick:T,className:"text-red-500 hover:text-red-400 text-xs font-bold bg-red-900/30 px-2 py-1 rounded",title:"Confirmar Eliminar",children:"Borrar?"}):W.jsx("button",{onClick:()=>{G(!0),j(!1)},className:"text-gray-500 hover:text-red-500 transition",title:"Eliminar",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},kT=({reports:p=[],selectedDate:e,onSelectDate:t,themeClasses:i})=>{const[c,o]=Et.useState(new Date),s=Et.useMemo(()=>{const d=c.getFullYear(),b=c.getMonth();return new Date(d,b+1,0).getDate()},[c]),h=Et.useMemo(()=>{const d=c.getFullYear(),b=c.getMonth();return new Date(d,b,1).getDay()},[c]),a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=["D","L","M","M","J","V","S"],u=()=>{o(new Date(c.getFullYear(),c.getMonth()-1,1))},m=()=>{o(new Date(c.getFullYear(),c.getMonth()+1,1))},f=()=>{const d=[];for(let b=0;b<h;b++)d.push(W.jsx("div",{className:"h-10 w-10"},`empty-${b}`));for(let b=1;b<=s;b++){const v=new Date(c.getFullYear(),c.getMonth(),b),g=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}-${String(v.getDate()).padStart(2,"0")}`,w=e===g,_=Array.isArray(p)&&p.some(q=>q.id===g),A=g===nl();let M="hover:bg-gray-600/50",O=i.secondaryText;w?(M=i.calendarActive||"bg-blue-600 text-white",O="text-white font-bold"):A&&(M="border border-gray-500 bg-gray-700/50"),d.push(W.jsxs("div",{onClick:()=>t(g),className:`h-10 w-10 flex flex-col items-center justify-center rounded-full cursor-pointer transition-all relative ${M} ${O}`,children:[W.jsx("span",{className:"text-sm z-10",children:b}),_&&W.jsx("div",{className:`absolute bottom-1 w-1.5 h-1.5 rounded-full ${i.calendarDot||"bg-yellow-400"}`})]},b))}return d};return W.jsxs("div",{className:`p-4 rounded-xl shadow-lg ${i.itemBg} transition-colors duration-500`,children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("button",{onClick:u,className:`p-1 rounded-full hover:bg-gray-600/50 ${i.primaryText}`,children:"<"}),W.jsxs("span",{className:`font-bold text-lg ${i.primaryText}`,children:[a[c.getMonth()]," ",c.getFullYear()]}),W.jsx("button",{onClick:m,className:`p-1 rounded-full hover:bg-gray-600/50 ${i.primaryText}`,children:">"})]}),W.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:n.map(d=>W.jsx("div",{className:`text-xs font-bold ${i.secondaryText} opacity-70`,children:d},d))}),W.jsx("div",{className:"grid grid-cols-7 gap-1 justify-items-center",children:f()})]})},RT=({reports:p=[],selectedDates:e,onToggleDate:t,onBatchUpdate:i,themeClasses:c})=>{const[o,s]=Et.useState(new Date),h=Et.useMemo(()=>{const w=o.getFullYear(),_=o.getMonth();return new Date(w,_+1,0).getDate()},[o]),a=Et.useMemo(()=>{const w=o.getFullYear(),_=o.getMonth();return new Date(w,_,1).getDay()},[o]),n=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u=["D","L","M","M","J","V","S"],m=()=>{s(new Date(o.getFullYear(),o.getMonth()-1,1))},f=()=>{s(new Date(o.getFullYear(),o.getMonth()+1,1))},d=()=>{const w=o.getFullYear(),_=o.getMonth(),A=[];for(let M=1;M<=h;M++)A.push(`${w}-${String(_+1).padStart(2,"0")}-${String(M).padStart(2,"0")}`);return A},b=()=>{i&&i(d(),"add")},v=()=>{i&&i(d(),"remove")},g=()=>{const w=[];for(let _=0;_<a;_++)w.push(W.jsx("div",{className:"h-10 w-10"},`empty-${_}`));for(let _=1;_<=h;_++){const A=new Date(o.getFullYear(),o.getMonth(),_),M=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")}`,O=e.includes(M),q=Array.isArray(p)&&p.some(V=>V.id===M);let F="hover:bg-gray-600/50",j=c.secondaryText;O&&(F="bg-green-600 text-white font-bold border border-green-400",j="text-white"),w.push(W.jsxs("div",{onClick:()=>t(M),className:`h-10 w-10 flex flex-col items-center justify-center rounded-full cursor-pointer transition-all relative ${F} ${j}`,children:[W.jsx("span",{className:"text-sm z-10",children:_}),q&&W.jsx("div",{className:`absolute bottom-1 w-1.5 h-1.5 rounded-full ${O?"bg-white":c.calendarDot||"bg-yellow-400"}`})]},_))}return w};return W.jsxs("div",{className:`p-4 rounded-xl shadow-lg border transition-colors duration-500 ${c.cardBg} ${c.inputBorder}`,children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("button",{onClick:m,className:`p-1 rounded-full hover:bg-gray-600/50 ${c.primaryText}`,children:"<"}),W.jsxs("span",{className:`font-bold text-lg ${c.primaryText}`,children:[n[o.getMonth()]," ",o.getFullYear()]}),W.jsx("button",{onClick:f,className:`p-1 rounded-full hover:bg-gray-600/50 ${c.primaryText}`,children:">"})]}),W.jsxs("div",{className:"flex gap-2 mb-3 justify-center",children:[W.jsx("button",{onClick:b,className:"text-xs px-3 py-1 bg-green-700 hover:bg-green-600 text-white rounded-full transition",children:"Todos"}),W.jsx("button",{onClick:v,className:"text-xs px-3 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-full transition",children:"Ninguno"})]}),W.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:u.map(w=>W.jsx("div",{className:`text-xs font-bold opacity-70 ${c.secondaryText}`,children:w},w))}),W.jsx("div",{className:"grid grid-cols-7 gap-1 justify-items-center",children:g()})]})},av=({content:p,themeClasses:e,placeholder:t})=>{const[i,c]=Et.useState(!1),o=()=>{if(p)if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(p).then(()=>{c(!0),setTimeout(()=>c(!1),2e3)});else{const s=document.createElement("textarea");s.value=p,document.body.appendChild(s),s.select();try{document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}catch(h){console.error("Fallback copy failed",h)}document.body.removeChild(s)}};return W.jsxs("div",{className:"relative w-full group",children:[W.jsx("div",{className:`w-full p-5 rounded-xl font-mono text-sm whitespace-pre-wrap transition-colors duration-500 ${e.itemBg} ${e.secondaryText} min-h-[100px]`,children:p||W.jsx("p",{className:"text-center opacity-70 italic pt-8",children:t})}),p&&W.jsx("button",{onClick:o,className:`absolute top-2 right-2 px-3 py-1 text-xs font-bold rounded transition-all duration-200 shadow-md flex items-center gap-1 ${i?"bg-green-600 text-white":"bg-gray-700 text-gray-200 hover:bg-gray-600"}`,title:"Copiar reporte",children:i?W.jsxs(W.Fragment,{children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:W.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Copiado!"]}):W.jsxs(W.Fragment,{children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copiar"]})})]})},MT=({isUnlocked:p,weeklyHours:e,targetHours:t,setTargetHours:i,onClaimBonus:c,bonusClaimed:o})=>{const s=Math.min(e/t*100,100),h=e>=t;return W.jsxs("div",{className:"mb-6 bg-black/40 rounded-xl p-4 border border-gray-700/50 backdrop-blur-sm shadow-inner transition-all hover:border-gray-600/50",children:[W.jsxs("div",{className:"flex justify-between items-center mb-2",children:[W.jsxs("div",{className:"flex items-center gap-2",children:[W.jsx("span",{className:"text-xs font-bold uppercase tracking-widest text-gray-400",children:"Meta Semanal"}),W.jsx("input",{type:"number",value:t,onChange:a=>i(Number(a.target.value)),className:"w-12 bg-gray-800 border border-gray-600 rounded text-center text-xs text-white focus:border-purple-500 outline-none transition-colors",min:"1"}),W.jsx("span",{className:"text-xs text-gray-500",children:"hrs"})]}),W.jsxs("div",{className:"text-xs font-mono text-white",children:[W.jsx("span",{className:h?"text-green-400 font-bold":"",children:e.toFixed(1)}),W.jsx("span",{className:"text-gray-500",children:" / "}),W.jsx("span",{children:t})," hrs"]})]}),W.jsx("div",{className:"h-3 w-full bg-gray-800 rounded-full overflow-hidden border border-gray-700 mb-3 relative group shadow-inner",children:W.jsx("div",{className:`h-full transition-all duration-1000 ease-out relative ${h?"bg-gradient-to-r from-green-500 to-emerald-400":"bg-gradient-to-r from-purple-600 to-blue-500"}`,style:{width:`${s}%`},children:W.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white/20 animate-pulse"})})}),W.jsx("div",{className:"flex justify-center items-center mt-2",children:h?o?W.jsxs("div",{className:"text-[10px] sm:text-xs font-bold text-green-400 flex items-center gap-1 bg-green-900/20 px-4 py-1.5 rounded-full border border-green-500/30 animate-fade-in",children:[W.jsx("span",{children:""})," Recompensa Semanal Cobrada"]}):W.jsxs("button",{onClick:c,className:"w-full sm:w-auto text-xs font-bold text-white bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 px-6 py-2 rounded-full shadow-[0_0_15px_rgba(245,158,11,0.4)] animate-bounce border border-yellow-300/50 transition-all hover:scale-105 active:scale-95 flex justify-center items-center gap-2",children:[W.jsx("span",{children:""})," RECLAMAR 100 MONEDAS!"]}):W.jsxs("span",{className:"text-[10px] text-gray-500 italic flex items-center gap-1",children:[W.jsx("span",{children:""})," Faltan ",(t-e).toFixed(1)," hrs para tu bonus."]})})]})},NT=({onClick:p})=>{const[e,t]=Et.useState(!0);return Et.useEffect(()=>{const i=setTimeout(()=>t(!1),1e4);return()=>clearTimeout(i)},[]),W.jsxs("div",{className:"fixed bottom-4 left-4 sm:bottom-6 sm:left-6 z-50 group",children:[e&&W.jsx("div",{className:"absolute -top-3 -right-4 bg-red-600 text-white text-[10px] font-extrabold px-2 py-0.5 rounded-full shadow-lg wiggle-animation z-50 border-2 border-white tracking-widest transition-opacity duration-1000",children:" NUEVO! "}),W.jsxs("button",{onClick:p,className:"relative w-12 h-12 sm:w-16 sm:h-16 rounded-full bg-green-600 hover:bg-green-500 text-white shadow-2xl flex items-center justify-center border-4 border-gray-900 transition-transform duration-300 active:scale-95 hover:scale-110 overflow-hidden",title:"Calcular Salario",children:[W.jsx("div",{className:"shine-bar"}),W.jsx("span",{className:"text-xl sm:text-3xl font-bold relative z-10",children:"$"})]})]})},IT=({news:p})=>!p||p.length===0?null:W.jsx("div",{className:"fixed top-0 left-0 w-full z-50 bg-black/80 border-b border-white/10 h-8 flex items-center backdrop-blur-sm",children:W.jsx("div",{className:"marquee-container w-full",children:W.jsx("div",{className:"marquee-content flex gap-8",children:p.map(e=>W.jsxs("span",{className:`text-xs font-bold font-mono px-4 ${e.type==="critical"?"text-red-400 animate-pulse":e.type==="party"?"text-yellow-400":"text-blue-400"}`,children:[e.type==="critical"&&""," ",e.type==="party"&&""," ",e.type==="info"&&""," ",e.text]},e.id))})})}),jT=({isLeader:p,onOpenDashboard:e,onOpenIdeas:t,onOpenAvailability:i,setIdeaType:c})=>W.jsxs(W.Fragment,{children:[p&&W.jsx("button",{onClick:e,className:"fixed top-12 right-4 z-50 bg-purple-600 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:" LDER"}),W.jsxs("button",{onClick:()=>{c("dev"),t()},className:"fixed bottom-20 right-4 z-50 bg-purple-600 hover:bg-purple-500 text-white px-4 py-2.5 rounded-full shadow-lg text-xs font-bold transition-transform active:scale-95 flex items-center gap-2",children:[W.jsx("span",{children:""}),W.jsx("span",{children:"BUGS / IDEAS APP"})]}),W.jsxs("button",{onClick:()=>{c("monday"),t()},className:"fixed bottom-4 right-4 z-50 bg-yellow-500 hover:bg-yellow-400 text-black px-4 py-2.5 rounded-full shadow-lg text-xs font-bold transition-transform active:scale-95 flex items-center gap-2",children:[W.jsx("span",{children:""}),W.jsx("span",{children:"IDEAS LUNES"})]}),W.jsxs("button",{onClick:i,className:"fixed bottom-36 right-4 z-50 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2.5 rounded-full font-bold shadow-lg text-xs flex items-center gap-2",children:[W.jsx("span",{children:""}),W.jsx("span",{className:"hidden sm:inline",children:"DISPONIBILIDAD"})]})]}),OT=({isOpen:p,onClose:e,onGenerate:t,tasks:i,distributeTasksTime:c,themeClasses:o,selectedReportDate:s,setSelectedReportDate:h,pastReports:a=[]})=>{if(!p)return null;const[n,u]=Et.useState(!1),[m,f]=Et.useState(""),[d,b]=Et.useState("00:00:00"),[v,g]=Et.useState([]),w=Et.useMemo(()=>i.reduce((H,R)=>{const P=R.running?Date.now()-R.lastTime:0;return H+R.elapsedTime+P},0),[i,p]);Et.useEffect(()=>{const H=Math.floor(w/36e5).toString().padStart(2,"0"),R=Math.floor(w%36e5/6e4).toString().padStart(2,"0"),P=Math.floor(w%6e4/1e3).toString().padStart(2,"0");b(`${H}:${R}:${P}`)},[w]);const _=H=>{if(!H)return"DD/MM/YYYY";const[R,P,k]=H.split("-");return`${k}/${P}/${R}`},A=H=>{if(!H)return 0;const R=H.split(":").map(Number);let P=0,k=0,x=0;return R.length===3?[P,k,x]=R:R.length===2&&([P,k]=R),(P*3600+k*60+x)*1e3},M=H=>{const R=Math.abs(H),P=Math.floor(R/36e5).toString().padStart(2,"0"),k=Math.floor(R%36e5/6e4).toString().padStart(2,"0"),x=Math.floor(R%6e4/1e3).toString().padStart(2,"0");return`${H<0?"-":""}${P}:${k}:${x}`},q=A(m)-w,F=()=>{Array.isArray(a)&&a.some(R=>R.id===s)?u(!0):t()},j=H=>{let R=H.target.value.replace(/\D/g,"");R.length>6&&(R=R.slice(0,6)),R.length>4?R=R.replace(/^(\d{2})(\d{2})(\d{0,2})/,"$1:$2:$3"):R.length>2&&(R=R.replace(/^(\d{2})(\d{0,2})/,"$1:$2")),f(R)},V=H=>{g(R=>R.includes(H)?R.filter(P=>P!==H):[...R,H])},G=()=>{v.length===i.length?g([]):g(i.map(H=>H.id))},X=()=>{if(q===0)return;if(v.length===0){alert("Por favor selecciona al menos una tarea.");return}c(v,q);const H=q>0?"repartido":"descontado";alert(`Se han ${H} ${M(Math.abs(q))} entre las ${v.length} tareas seleccionadas.`)};return W.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:W.jsx("div",{className:`relative w-full max-w-lg p-6 rounded-2xl shadow-2xl ${o.modalBg||"bg-gray-800 border-gray-600"} border-2 modal-content max-h-[90vh] overflow-y-auto flex flex-col`,children:n?W.jsxs("div",{className:"flex flex-col items-center text-center animate-pulse",children:[W.jsx("div",{className:"bg-red-500/20 p-4 rounded-full mb-3 border-2 border-red-500",children:""}),W.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Cuidado!"}),W.jsx("p",{className:"text-gray-300 mb-6",children:"Ya existe un reporte para esta fecha."}),W.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[W.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl font-bold text-white bg-red-600 hover:bg-red-700 transition shadow-lg",children:"S, Sobreescribir"}),W.jsx("button",{onClick:()=>u(!1),className:"w-full py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition",children:"Cancelar"})]})]}):W.jsxs(W.Fragment,{children:[W.jsx("h2",{className:`text-xl font-bold mb-4 text-center ${o.primaryText}`,children:"Preparar Reporte"}),W.jsx("div",{className:"mb-4 flex justify-center",children:W.jsxs("div",{className:"relative group cursor-pointer border border-cyan-500/30 bg-black/40 px-4 py-2 rounded-lg flex items-center gap-2",children:[W.jsx("span",{className:"text-white font-mono",children:_(s)}),W.jsx("span",{className:"text-cyan-400",children:""}),W.jsx("input",{type:"date",value:s,onChange:H=>h(H.target.value),className:"absolute inset-0 opacity-0 cursor-pointer"})]})}),W.jsxs("div",{className:"bg-black/30 p-4 rounded-xl border border-white/10 mb-4",children:[W.jsx("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-3 text-center",children:"Sincronizacin"}),W.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[W.jsxs("div",{className:"text-center p-2 bg-black/20 rounded-lg",children:[W.jsx("label",{className:"text-[10px] text-gray-500 block",children:"TIEMPO APP"}),W.jsx("span",{className:"text-lg font-mono font-bold text-white",children:d})]}),W.jsxs("div",{className:"text-center",children:[W.jsx("label",{className:"text-[10px] text-cyan-400 block mb-1",children:"WEBWORK (HH:MM:SS)"}),W.jsx("input",{type:"text",value:m,onChange:j,placeholder:"00:00:00",maxLength:8,className:`w-full bg-black/50 border ${o.inputBorder} text-cyan-300 text-lg font-mono p-1 rounded-lg text-center focus:outline-none focus:ring-2 focus:ring-cyan-500`})]})]}),m.length>=4&&W.jsx("div",{className:`text-center mb-4 text-sm font-bold py-1 rounded ${q>0?"bg-green-900/30 text-green-400":q<0?"bg-red-900/30 text-red-400":"text-gray-500"}`,children:q>0?`Faltan cargar: ${M(q)}`:q<0?`Te pasaste por: ${M(q)}`:"Sincronizado!"}),q!==0&&W.jsxs("div",{className:"animate-fadeIn",children:[W.jsxs("div",{className:"flex justify-between items-center mb-2",children:[W.jsx("p",{className:"text-xs text-gray-400",children:q>0?"Elige dnde SUMAR tiempo:":"Elige dnde RESTAR tiempo:"}),W.jsx("button",{onClick:G,className:"text-[10px] text-cyan-400 hover:text-cyan-300 underline",children:v.length===i.length?"Deseleccionar":"Todos"})]}),W.jsx("div",{className:"max-h-40 overflow-y-auto custom-scrollbar border border-white/5 rounded-lg bg-black/20 p-2 space-y-1",children:i.map(H=>W.jsxs("div",{onClick:()=>V(H.id),className:`flex items-center gap-3 p-2 rounded cursor-pointer transition-colors ${v.includes(H.id)?q>0?"bg-emerald-900/30 border border-emerald-500/30":"bg-red-900/30 border border-red-500/30":"hover:bg-white/5 border border-transparent"}`,children:[W.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center ${v.includes(H.id)?q>0?"bg-emerald-500 border-emerald-500":"bg-red-500 border-red-500":"border-gray-600"}`,children:v.includes(H.id)&&W.jsx("span",{className:"text-black text-[10px] font-bold",children:""})}),W.jsx("div",{className:"flex-1 min-w-0",children:W.jsx("p",{className:"text-sm text-gray-200 truncate",children:H.text||H.name})}),W.jsx("span",{className:"text-xs font-mono text-gray-500",children:M(H.elapsedTime)})]},H.id))}),W.jsxs("p",{className:"text-[10px] text-center mt-2 text-cyan-200/70",children:[q>0?"Se sumarn":"Se restarn"," ",W.jsx("span",{className:"font-bold",children:v.length>0?M(Math.abs(q/v.length)):"00:00:00"})," ",q>0?"a":"de"," cada tarea seleccionada."]})]}),W.jsx("button",{onClick:X,disabled:m.length<4||q!==0&&v.length===0,className:`w-full mt-4 py-3 rounded-xl font-bold uppercase tracking-wider transition-all shadow-lg flex items-center justify-center gap-2
                                    ${q===0?"bg-gray-700 text-gray-400 cursor-not-allowed":q>0?"bg-emerald-600 hover:bg-emerald-500 text-white shadow-emerald-900/50":"bg-red-600 hover:bg-red-500 text-white shadow-red-900/50"}`,children:q>0?" Repartir (Sumar)":q<0?" Recortar (Restar)":"Perfecto"})]}),W.jsxs("div",{className:"flex gap-3",children:[W.jsx("button",{onClick:F,className:`flex-1 py-3 rounded-full font-bold text-white shadow-lg ${o.buttonAction}`,children:"Generar Reporte"}),W.jsx("button",{onClick:e,className:"px-6 py-3 rounded-full font-bold text-gray-300 bg-gray-700 hover:bg-gray-600",children:"Cancelar"})]})]})})})};function ah(p){throw new Error('Could not dynamically require "'+p+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var xp={exports:{}};var ov;function DT(){return ov||(ov=1,(function(p,e){(function(t){p.exports=t()})((function(){return(function t(i,c,o){function s(n,u){if(!c[n]){if(!i[n]){var m=typeof ah=="function"&&ah;if(!u&&m)return m(n,!0);if(h)return h(n,!0);var f=new Error("Cannot find module '"+n+"'");throw f.code="MODULE_NOT_FOUND",f}var d=c[n]={exports:{}};i[n][0].call(d.exports,(function(b){return s(i[n][1][b]||b)}),d,d.exports,t,i,c,o)}return c[n].exports}for(var h=typeof ah=="function"&&ah,a=0;a<o.length;a++)s(o[a]);return s})({1:[function(t,i,c){const o=t("fs"),s=t("fast-csv"),h=t("dayjs/plugin/customParseFormat"),a=t("dayjs/plugin/utc"),n=t("dayjs").extend(h).extend(a),u=t("../utils/stream-buf"),{fs:{exists:m}}=t("../utils/utils"),f={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};i.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,b){if(b=b||{},!await m(d))throw new Error("File not found: "+d);const v=o.createReadStream(d),g=await this.read(v,b);return v.close(),g}read(d,b){return b=b||{},new Promise((v,g)=>{const w=this.workbook.addWorksheet(b.sheetName),_=b.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],A=b.map||function(O){if(O==="")return null;const q=Number(O);if(!Number.isNaN(q)&&q!==1/0)return q;const F=_.reduce((V,G)=>{if(V)return V;const X=n(O,G,!0);return X.isValid()?X:null},null);if(F)return new Date(F.valueOf());const j=f[O];return j!==void 0?j:O},M=s.parse(b.parserOptions).on("data",O=>{w.addRow(O.map(A))}).on("end",()=>{M.emit("worksheet",w)});M.on("worksheet",v).on("error",g),d.pipe(M)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,b){return new Promise((v,g)=>{b=b||{};const w=this.workbook.getWorksheet(b.sheetName||b.sheetId),_=s.format(b.formatterOptions);d.on("finish",()=>{v()}),_.on("error",g),_.pipe(d);const{dateFormat:A,dateUTC:M}=b,O=b.map||(j=>{if(j){if(j.text||j.hyperlink)return j.hyperlink||j.text||"";if(j.formula||j.result)return j.result||"";if(j instanceof Date)return A?M?n.utc(j).format(A):n(j).format(A):M?n.utc(j).format():n(j).format();if(j.error)return j.error;if(typeof j=="object")return JSON.stringify(j)}return j}),q=b.includeEmptyRows===void 0||b.includeEmptyRows;let F=1;w&&w.eachRow((j,V)=>{if(q)for(;F++<V-1;)_.write([]);const{values:G}=j;G.shift(),_.write(G.map(O)),F=V}),_.end()})}writeFile(d,b){const v={encoding:(b=b||{}).encoding||"utf8"},g=o.createWriteStream(d,v);return this.write(g,b)}async writeBuffer(d){const b=new u;return await this.write(b,d),b.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,i,c){const o=t("../utils/col-cache");class s{constructor(a,n){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=a,n)if(typeof n=="string"){const m=o.decodeAddress(n);this.nativeCol=m.col+u,this.nativeColOff=0,this.nativeRow=m.row+u,this.nativeRowOff=0}else n.nativeCol!==void 0?(this.nativeCol=n.nativeCol||0,this.nativeColOff=n.nativeColOff||0,this.nativeRow=n.nativeRow||0,this.nativeRowOff=n.nativeRowOff||0):n.col!==void 0?(this.col=n.col+u,this.row=n.row+u):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(a){return a instanceof s||a==null?a:new s(a)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(a){this.nativeCol=Math.floor(a),this.nativeColOff=Math.floor((a-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(a){this.nativeRow=Math.floor(a),this.nativeRowOff=Math.floor((a-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(a){this.nativeCol=a.nativeCol,this.nativeColOff=a.nativeColOff,this.nativeRow=a.nativeRow,this.nativeRowOff=a.nativeRowOff}}i.exports=s},{"../utils/col-cache":19}],3:[function(t,i,c){const o=t("../utils/col-cache"),s=t("../utils/under-dash"),h=t("./enums"),{slideFormula:a}=t("../utils/shared-formula"),n=t("./note");class u{constructor(d,b,v){if(!d||!b)throw new Error("A Cell needs a Row");this._row=d,this._column=b,o.validateAddress(v),this._address=v,this._value=m.create(u.Types.Null,this),this.style=this._mergeStyle(d.style,b.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,b,v){const g=d&&d.numFmt||b&&b.numFmt;g&&(v.numFmt=g);const w=d&&d.font||b&&b.font;w&&(v.font=w);const _=d&&d.alignment||b&&b.alignment;_&&(v.alignment=_);const A=d&&d.border||b&&b.border;A&&(v.border=A);const M=d&&d.fill||b&&b.fill;M&&(v.fill=M);const O=d&&d.protection||b&&b.protection;return O&&(v.protection=O),v}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===u.Types.Merge}merge(d,b){this._value.release(),this._value=m.create(u.Types.Merge,this,d),b||(this.style=d.style)}unmerge(){this.type===u.Types.Merge&&(this._value.release(),this._value=m.create(u.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===u.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===u.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===u.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==u.Types.Merge?(this._value.release(),this._value=m.create(m.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new n(d)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===u.Types.String&&(this._value=m.create(u.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:b}=this.workbook;b.removeAllNames(this.fullAddress),d.forEach(v=>{b.addEx(this.fullAddress,v)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){this._value.release(),this._value=m.create(d.type,this),this._value.model=d,d.comment&&d.comment.type==="note"&&(this._comment=n.fromModel(d.comment)),d.style?this.style=d.style:this.style={}}}u.Types=h.ValueType;const m={getType:f=>f==null?u.Types.Null:f instanceof String||typeof f=="string"?u.Types.String:typeof f=="number"?u.Types.Number:typeof f=="boolean"?u.Types.Boolean:f instanceof Date?u.Types.Date:f.text&&f.hyperlink?u.Types.Hyperlink:f.formula||f.sharedFormula?u.Types.Formula:f.richText?u.Types.RichText:f.sharedString?u.Types.SharedString:f.error?u.Types.Error:u.Types.JSON,types:[{t:u.Types.Null,f:class{constructor(f){this.model={address:f.address,type:u.Types.Null}}get value(){return null}set value(f){}get type(){return u.Types.Null}get effectiveType(){return u.Types.Null}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){}toString(){return""}}},{t:u.Types.Number,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Number,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Number}get effectiveType(){return u.Types.Number}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.String,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:u.Types.Date,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Date,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Date}get effectiveType(){return u.Types.Date}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Hyperlink,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const f={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(f.tooltip=this.model.tooltip),f}set value(f){this.model={text:f.text,hyperlink:f.hyperlink},f.tooltip&&(this.model.tooltip=f.tooltip)}get text(){return this.model.text}set text(f){this.model.text=f}get hyperlink(){return this.model.hyperlink}set hyperlink(f){this.model.hyperlink=f}get type(){return u.Types.Hyperlink}get effectiveType(){return u.Types.Hyperlink}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:u.Types.Formula,f:class{constructor(f,d){this.cell=f,this.model={address:f.address,type:u.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(f){const d={},b=v=>{const g=f[v];g&&(d[v]=g)};return b("formula"),b("result"),b("ref"),b("shareType"),b("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(f){this.model=this._copyModel(f)}validate(f){switch(m.getType(f)){case u.Types.Null:case u.Types.String:case u.Types.Number:case u.Types.Date:break;case u.Types.Hyperlink:case u.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(f){this.model.formula=f}get formulaType(){return this.model.formula?h.FormulaType.Master:this.model.sharedFormula?h.FormulaType.Shared:h.FormulaType.None}get result(){return this.model.result}set result(f){this.model.result=f}get type(){return u.Types.Formula}get effectiveType(){const f=this.model.result;return f==null?h.ValueType.Null:f instanceof String||typeof f=="string"?h.ValueType.String:typeof f=="number"?h.ValueType.Number:f instanceof Date?h.ValueType.Date:f.text&&f.hyperlink?h.ValueType.Hyperlink:f.formula?h.ValueType.Formula:h.ValueType.Null}get address(){return this.model.address}set address(f){this.model.address=f}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:f}=this.cell,d=f.findCell(this.model.sharedFormula);this._translatedFormula=d&&a(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:u.Types.Merge,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(f){f instanceof u?(this._master&&this._master.releaseMergeRef(),f.addMergeRef(),this._master=f):this._master.value=f}isMergedTo(f){return f===this._master}get master(){return this._master}get type(){return u.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:u.Types.JSON,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(f){this.model.rawValue=f,this.model.value=JSON.stringify(f)}get type(){return u.Types.String}get effectiveType(){return u.Types.String}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:u.Types.SharedString,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.SharedString,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.SharedString}get effectiveType(){return u.Types.SharedString}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.RichText,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.String,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}toString(){return this.model.value.richText.map(f=>f.text).join("")}get type(){return u.Types.RichText}get effectiveType(){return u.Types.RichText}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:u.Types.Boolean,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Boolean,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Boolean}get effectiveType(){return u.Types.Boolean}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:u.Types.Error,f:class{constructor(f,d){this.model={address:f.address,type:u.Types.Error,value:d}}get value(){return this.model.value}set value(f){this.model.value=f}get type(){return u.Types.Error}get effectiveType(){return u.Types.Error}get address(){return this.model.address}set address(f){this.model.address=f}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((f,d)=>(f[d.t]=d.f,f),[]),create(f,d,b){const v=this.types[f];if(!v)throw new Error("Could not create Value of type "+f);return new v(d,b)}};i.exports=u},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,i,c){const o=t("../utils/under-dash"),s=t("./enums"),h=t("../utils/col-cache");class a{constructor(u,m,f){this._worksheet=u,this._number=m,f!==!1&&(this.defn=f)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return h.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(u){u?(this.key=u.key,this.width=u.width!==void 0?u.width:9,this.outlineLevel=u.outlineLevel,u.style?this.style=u.style:this.style={},this.header=u.header,this._hidden=!!u.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(u){u!==void 0?(this._header=u,this.headers.forEach((m,f)=>{this._worksheet.getCell(f+1,this.number).value=m})):this._header=void 0}get key(){return this._key}set key(u){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=u,u&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(u){this._hidden=u}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(u){this._outlineLevel=u}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(u){return this.width===u.width&&this.hidden===u.hidden&&this.outlineLevel===u.outlineLevel&&o.isEqual(this.style,u.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const u=this.style;return!u||!(u.font||u.numFmt||u.alignment||u.border||u.fill||u.protection)}get headerCount(){return this.headers.length}eachCell(u,m){const f=this.number;m||(m=u,u=null),this._worksheet.eachRow(u,(d,b)=>{m(d.getCell(f),b)})}get values(){const u=[];return this.eachCell((m,f)=>{m&&m.type!==s.ValueType.Null&&(u[f]=m.value)}),u}set values(u){if(!u)return;const m=this.number;let f=0;u.hasOwnProperty("0")&&(f=1),u.forEach((d,b)=>{this._worksheet.getCell(b+f,m).value=d})}_applyStyle(u,m){return this.style[u]=m,this.eachCell(f=>{f[u]=m}),m}get numFmt(){return this.style.numFmt}set numFmt(u){this._applyStyle("numFmt",u)}get font(){return this.style.font}set font(u){this._applyStyle("font",u)}get alignment(){return this.style.alignment}set alignment(u){this._applyStyle("alignment",u)}get protection(){return this.style.protection}set protection(u){this._applyStyle("protection",u)}get border(){return this.style.border}set border(u){this._applyStyle("border",u)}get fill(){return this.style.fill}set fill(u){this._applyStyle("fill",u)}static toModel(u){const m=[];let f=null;return u&&u.forEach((d,b)=>{d.isDefault?f&&(f=null):f&&d.equivalentTo(f)?f.max=b+1:(f={min:b+1,max:b+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},m.push(f))}),m.length?m:void 0}static fromModel(u,m){const f=[];let d=1,b=0;for(m=(m=m||[]).sort((function(v,g){return v.min-g.min}));b<m.length;){const v=m[b++];for(;d<v.min;)f.push(new a(u,d++));for(;d<=v.max;)f.push(new a(u,d++,v))}return f.length?f:null}}i.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,i,c){i.exports=class{constructor(o){this.model=o||{}}add(o,s){return this.model[o]=s}find(o){return this.model[o]}remove(o){this.model[o]=void 0}}},{}],6:[function(t,i,c){const o=t("../utils/under-dash"),s=t("../utils/col-cache"),h=t("../utils/cell-matrix"),a=t("./range"),n=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;i.exports=class{constructor(){this.matrixMap={}}getMatrix(u){return this.matrixMap[u]||(this.matrixMap[u]=new h)}add(u,m){const f=s.decodeEx(u);this.addEx(f,m)}addEx(u,m){const f=this.getMatrix(m);if(u.top)for(let d=u.left;d<=u.right;d++)for(let b=u.top;b<=u.bottom;b++){const v={sheetName:u.sheetName,address:s.n2l(d)+b,row:b,col:d};f.addCellEx(v)}else f.addCellEx(u)}remove(u,m){const f=s.decodeEx(u);this.removeEx(f,m)}removeEx(u,m){this.getMatrix(m).removeCellEx(u)}removeAllNames(u){o.each(this.matrixMap,m=>{m.removeCellEx(u)})}forEach(u){o.each(this.matrixMap,(m,f)=>{m.forEach(d=>{u(f,d)})})}getNames(u){return this.getNamesEx(s.decodeEx(u))}getNamesEx(u){return o.map(this.matrixMap,(m,f)=>m.findCellEx(u)&&f).filter(Boolean)}_explore(u,m){m.mark=!1;const{sheetName:f}=m,d=new a(m.row,m.col,m.row,m.col,f);let b,v;function g(_,A){const M=u.findCellAt(f,_,m.col);return!(!M||!M.mark)&&(d[A]=_,M.mark=!1,!0)}for(v=m.row-1;g(v,"top");v--);for(v=m.row+1;g(v,"bottom");v++);function w(_,A){const M=[];for(v=d.top;v<=d.bottom;v++){const O=u.findCellAt(f,v,_);if(!O||!O.mark)return!1;M.push(O)}d[A]=_;for(let O=0;O<M.length;O++)M[O].mark=!1;return!0}for(b=m.col-1;w(b,"left");b--);for(b=m.col+1;w(b,"right");b++);return d}getRanges(u,m){return(m=m||this.matrixMap[u])?(m.forEach(f=>{f.mark=!0}),{name:u,ranges:m.map(f=>f.mark&&this._explore(m,f)).filter(Boolean).map(f=>f.$shortRange)}):{name:u,ranges:[]}}normaliseMatrix(u,m){u.forEachInSheet(m,(f,d,b)=>{f&&(f.row===d&&f.col===b||(f.row=d,f.col=b,f.address=s.n2l(b)+d))})}spliceRows(u,m,f,d){o.each(this.matrixMap,b=>{b.spliceRows(u,m,f,d),this.normaliseMatrix(b,u)})}spliceColumns(u,m,f,d){o.each(this.matrixMap,b=>{b.spliceColumns(u,m,f,d),this.normaliseMatrix(b,u)})}get model(){return o.map(this.matrixMap,(u,m)=>this.getRanges(m,u)).filter(u=>u.ranges.length)}set model(u){const m=this.matrixMap={};u.forEach(f=>{const d=m[f.name]=new h;f.ranges.forEach(b=>{n.test(b.split("!").pop()||"")&&d.addCell(b)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,i,c){i.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,i,c){const o=t("../utils/col-cache"),s=t("./anchor");i.exports=class{constructor(h,a){this.worksheet=h,this.model=a}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(h){let{type:a,imageId:n,range:u,hyperlinks:m}=h;if(this.type=a,this.imageId=n,a==="image")if(typeof u=="string"){const f=o.decode(u);this.range={tl:new s(this.worksheet,{col:f.left,row:f.top},-1),br:new s(this.worksheet,{col:f.right,row:f.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,u.tl,0),br:u.br&&new s(this.worksheet,u.br,0),ext:u.ext,editAs:u.editAs,hyperlinks:m||u.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,i,c){const o=t("../utils/under-dash");class s{constructor(a){this.note=a}get model(){let a=null;return typeof this.note==="string"?a={type:"note",note:{texts:[{text:this.note}]}}:a={type:"note",note:this.note},o.deepMerge({},s.DEFAULT_CONFIGS,a)}set model(a){const{note:n}=a,{texts:u}=n;u.length===1&&Object.keys(u[0]).length===1?this.note=u[0].text:this.note=n}static fromModel(a){const n=new s;return n.model=a,n}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},i.exports=s},{"../utils/under-dash":26}],10:[function(t,i,c){const o=t("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(a,n,u,m,f){if(arguments.length<4){const d=o.decodeAddress(a),b=o.decodeAddress(n);this.model={top:Math.min(d.row,b.row),left:Math.min(d.col,b.col),bottom:Math.max(d.row,b.row),right:Math.max(d.col,b.col),sheetName:u},this.setTLBR(d.row,d.col,b.row,b.col,f)}else this.model={top:Math.min(a,u),left:Math.min(n,m),bottom:Math.max(a,u),right:Math.max(n,m),sheetName:f}}decode(a){switch(a.length){case 5:this.setTLBR(a[0],a[1],a[2],a[3],a[4]);break;case 4:this.setTLBR(a[0],a[1],a[2],a[3]);break;case 3:this.setTLBR(a[0],a[1],a[2]);break;case 2:this.setTLBR(a[0],a[1]);break;case 1:{const n=a[0];if(n instanceof s)this.model={top:n.model.top,left:n.model.left,bottom:n.model.bottom,right:n.model.right,sheetName:n.sheetName};else if(n instanceof Array)this.decode(n);else if(n.top&&n.left&&n.bottom&&n.right)this.model={top:n.top,left:n.left,bottom:n.bottom,right:n.right,sheetName:n.sheetName};else{const u=o.decodeEx(n);u.top?this.model={top:u.top,left:u.left,bottom:u.bottom,right:u.right,sheetName:u.sheetName}:this.model={top:u.row,left:u.col,bottom:u.row,right:u.col,sheetName:u.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+a.length)}}get top(){return this.model.top||1}set top(a){this.model.top=a}get left(){return this.model.left||1}set left(a){this.model.left=a}get bottom(){return this.model.bottom||1}set bottom(a){this.model.bottom=a}get right(){return this.model.right||1}set right(a){this.model.right=a}get sheetName(){return this.model.sheetName}set sheetName(a){this.model.sheetName=a}get _serialisedSheetName(){const{sheetName:a}=this.model;return a?/^[a-zA-Z0-9]*$/.test(a)?a+"!":`'${a}'!`:""}expand(a,n,u,m){(!this.model.top||a<this.top)&&(this.top=a),(!this.model.left||n<this.left)&&(this.left=n),(!this.model.bottom||u>this.bottom)&&(this.bottom=u),(!this.model.right||m>this.right)&&(this.right=m)}expandRow(a){if(a){const{dimensions:n,number:u}=a;n&&this.expand(u,n.min,u,n.max)}}expandToAddress(a){const n=o.decodeEx(a);this.expand(n.row,n.col,n.row,n.col)}get tl(){return o.n2l(this.left)+this.top}get $t$l(){return`$${o.n2l(this.left)}$${this.top}`}get br(){return o.n2l(this.right)+this.bottom}get $b$r(){return`$${o.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&!(a.bottom<this.top)&&!(a.top>this.bottom)&&!(a.right<this.left)&&!(a.left>this.right)}contains(a){const n=o.decodeEx(a);return this.containsEx(n)}containsEx(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&a.row>=this.top&&a.row<=this.bottom&&a.col>=this.left&&a.col<=this.right}forEachAddress(a){for(let n=this.left;n<=this.right;n++)for(let u=this.top;u<=this.bottom;u++)a(o.encodeAddress(u,n),u,n)}}i.exports=s},{"../utils/col-cache":19}],11:[function(t,i,c){const o=t("../utils/under-dash"),s=t("./enums"),h=t("../utils/col-cache"),a=t("./cell");i.exports=class{constructor(n,u){this._worksheet=n,this._number=u,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(n){return this._cells[n-1]}getCellEx(n){let u=this._cells[n.col-1];if(!u){const m=this._worksheet.getColumn(n.col);u=new a(this,m,n.address),this._cells[n.col-1]=u}return u}getCell(n){if(typeof n=="string"){const u=this._worksheet.getColumnKey(n);n=u?u.number:h.l2n(n)}return this._cells[n-1]||this.getCellEx({address:h.encodeAddress(this._number,n),row:this._number,col:n})}splice(n,u){const m=n+u;for(var f=arguments.length,d=new Array(f>2?f-2:0),b=2;b<f;b++)d[b-2]=arguments[b];const v=d.length-u,g=this._cells.length;let w,_,A;if(v<0)for(w=n+d.length;w<=g;w++)A=this._cells[w-1],_=this._cells[w-v-1],_?(A=this.getCell(w),A.value=_.value,A.style=_.style,A._comment=_._comment):A&&(A.value=null,A.style={},A._comment=void 0);else if(v>0)for(w=g;w>=m;w--)_=this._cells[w-1],_?(A=this.getCell(w+v),A.value=_.value,A.style=_.style,A._comment=_._comment):this._cells[w+v-1]=void 0;for(w=0;w<d.length;w++)A=this.getCell(n+w),A.value=d[w],A.style={},A._comment=void 0}eachCell(n,u){if(u||(u=n,n=null),n&&n.includeEmpty){const m=this._cells.length;for(let f=1;f<=m;f++)u(this.getCell(f),f)}else this._cells.forEach((m,f)=>{m&&m.type!==s.ValueType.Null&&u(m,f+1)})}addPageBreak(n,u){const m=this._worksheet,f=Math.max(0,n-1)||0,d=Math.max(0,u-1)||16838,b={id:this._number,max:d,man:1};f&&(b.min=f),m.rowBreaks.push(b)}get values(){const n=[];return this._cells.forEach(u=>{u&&u.type!==s.ValueType.Null&&(n[u.col]=u.value)}),n}set values(n){if(this._cells=[],n)if(n instanceof Array){let u=0;n.hasOwnProperty("0")&&(u=1),n.forEach((m,f)=>{m!==void 0&&(this.getCellEx({address:h.encodeAddress(this._number,f+u),row:this._number,col:f+u}).value=m)})}else this._worksheet.eachColumnKey((u,m)=>{n[m]!==void 0&&(this.getCellEx({address:h.encodeAddress(this._number,u.number),row:this._number,col:u.number}).value=n[m])})}get hasValues(){return o.some(this._cells,n=>n&&n.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let n=0;return this.eachCell(()=>{n++}),n}get dimensions(){let n=0,u=0;return this._cells.forEach(m=>{m&&m.type!==s.ValueType.Null&&((!n||n>m.col)&&(n=m.col),u<m.col&&(u=m.col))}),n>0?{min:n,max:u}:null}_applyStyle(n,u){return this.style[n]=u,this._cells.forEach(m=>{m&&(m[n]=u)}),u}get numFmt(){return this.style.numFmt}set numFmt(n){this._applyStyle("numFmt",n)}get font(){return this.style.font}set font(n){this._applyStyle("font",n)}get alignment(){return this.style.alignment}set alignment(n){this._applyStyle("alignment",n)}get protection(){return this.style.protection}set protection(n){this._applyStyle("protection",n)}get border(){return this.style.border}set border(n){this._applyStyle("border",n)}get fill(){return this.style.fill}set fill(n){this._applyStyle("fill",n)}get hidden(){return!!this._hidden}set hidden(n){this._hidden=n}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(n){this._outlineLevel=n}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const n=[];let u=0,m=0;return this._cells.forEach(f=>{if(f){const d=f.model;d&&((!u||u>f.col)&&(u=f.col),m<f.col&&(m=f.col),n.push(d))}}),this.height||n.length?{cells:n,number:this.number,min:u,max:m,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(n){if(n.number!==this._number)throw new Error("Invalid row number in model");let u;this._cells=[],n.cells.forEach(m=>{switch(m.type){case a.Types.Merge:break;default:{let f;if(m.address)f=h.decodeAddress(m.address);else if(u){const{row:d}=u,b=u.col+1;f={row:d,col:b,address:h.encodeAddress(d,b),$col$row:`$${h.n2l(b)}$${d}`}}u=f,this.getCellEx(f).model=m;break}}}),n.height?this.height=n.height:delete this.height,this.hidden=n.hidden,this.outlineLevel=n.outlineLevel||0,this.style=n.style&&JSON.parse(JSON.stringify(n.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,i,c){const o=t("../utils/col-cache");class s{constructor(a,n,u){this.table=a,this.column=n,this.index=u}_set(a,n){this.table.cacheState(),this.column[a]=n}get name(){return this.column.name}set name(a){this._set("name",a)}get filterButton(){return this.column.filterButton}set filterButton(a){this.column.filterButton=a}get style(){return this.column.style}set style(a){this.column.style=a}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(a){this._set("totalsRowLabel",a)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(a){this._set("totalsRowFunction",a)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(a){this._set("totalsRowResult",a)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(a){this._set("totalsRowFormula",a)}}i.exports=class{constructor(h,a){this.worksheet=h,a&&(this.table=a,this.validate(),this.store())}getFormula(h){switch(h.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${h.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${h.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${h.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${h.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${h.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${h.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${h.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${h.name}])`;case"custom":return h.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+h.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:h}=this,a=(v,g,w)=>{v[g]===void 0&&(v[g]=w)};a(h,"headerRow",!0),a(h,"totalsRow",!1),a(h,"style",{}),a(h.style,"theme","TableStyleMedium2"),a(h.style,"showFirstColumn",!1),a(h.style,"showLastColumn",!1),a(h.style,"showRowStripes",!1),a(h.style,"showColumnStripes",!1);const n=(v,g)=>{if(!v)throw new Error(g)};n(h.ref,"Table must have ref"),n(h.columns,"Table must have column definitions"),n(h.rows,"Table must have row definitions"),h.tl=o.decodeAddress(h.ref);const{row:u,col:m}=h.tl;n(u>0,"Table must be on valid row"),n(m>0,"Table must be on valid col");const{width:f,filterHeight:d,tableHeight:b}=this;h.autoFilterRef=o.encode(u,m,u+d-1,m+f-1),h.tableRef=o.encode(u,m,u+b-1,m+f-1),h.columns.forEach((v,g)=>{n(v.name,`Column ${g} must have a name`),g===0?a(v,"totalsRowLabel","Total"):(a(v,"totalsRowFunction","none"),v.totalsRowFormula=this.getFormula(v))})}store(){const h=(d,b)=>{b&&Object.keys(b).forEach(v=>{d[v]=b[v]})},{worksheet:a,table:n}=this,{row:u,col:m}=n.tl;let f=0;if(n.headerRow){const d=a.getRow(u+f++);n.columns.forEach((b,v)=>{const{style:g,name:w}=b,_=d.getCell(m+v);_.value=w,h(_,g)})}if(n.rows.forEach(d=>{const b=a.getRow(u+f++);d.forEach((v,g)=>{const w=b.getCell(m+g);w.value=v,h(w,n.columns[g].style)})}),n.totalsRow){const d=a.getRow(u+f++);n.columns.forEach((b,v)=>{const g=d.getCell(m+v);if(v===0)g.value=b.totalsRowLabel;else{const w=this.getFormula(b);g.value=w?{formula:b.totalsRowFormula,result:b.totalsRowResult}:null}h(g,b.style)})}}load(h){const{table:a}=this,{row:n,col:u}=a.tl;let m=0;if(a.headerRow){const f=h.getRow(n+m++);a.columns.forEach((d,b)=>{f.getCell(u+b).value=d.name})}if(a.rows.forEach(f=>{const d=h.getRow(n+m++);f.forEach((b,v)=>{d.getCell(u+v).value=b})}),a.totalsRow){const f=h.getRow(n+m++);a.columns.forEach((d,b)=>{const v=f.getCell(u+b);b===0?v.value=d.totalsRowLabel:this.getFormula(d)&&(v.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(h){this.table=h}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const h=o.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let a=0;a<this._cache.tableHeight;a++){const n=this.worksheet.getRow(h.row+a);for(let u=0;u<this._cache.width;u++)n.getCell(h.col+u).value=null}else{for(let a=this.tableHeight;a<this._cache.tableHeight;a++){const n=this.worksheet.getRow(h.row+a);for(let u=0;u<this._cache.width;u++)n.getCell(h.col+u).value=null}for(let a=0;a<this.tableHeight;a++){const n=this.worksheet.getRow(h.row+a);for(let u=this.width;u<this._cache.width;u++)n.getCell(h.col+u).value=null}}this.store()}addRow(h,a){this.cacheState(),a===void 0?this.table.rows.push(h):this.table.rows.splice(a,0,h)}removeRows(h){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(h,a)}getColumn(h){const a=this.table.columns[h];return new s(this,a,h)}addColumn(h,a,n){this.cacheState(),n===void 0?(this.table.columns.push(h),this.table.rows.forEach((u,m)=>{u.push(a[m])})):(this.table.columns.splice(n,0,h),this.table.rows.forEach((u,m)=>{u.splice(n,0,a[m])}))}removeColumns(h){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(h,a),this.table.rows.forEach(n=>{n.splice(h,a)})}_assign(h,a,n){this.cacheState(),h[a]=n}get ref(){return this.table.ref}set ref(h){this._assign(this.table,"ref",h)}get name(){return this.table.name}set name(h){this.table.name=h}get displayName(){return this.table.displyName||this.table.name}set displayNamename(h){this.table.displayName=h}get headerRow(){return this.table.headerRow}set headerRow(h){this._assign(this.table,"headerRow",h)}get totalsRow(){return this.table.totalsRow}set totalsRow(h){this._assign(this.table,"totalsRow",h)}get theme(){return this.table.style.name}set theme(h){this.table.style.name=h}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(h){this.table.style.showFirstColumn=h}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(h){this.table.style.showLastColumn=h}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(h){this.table.style.showRowStripes=h}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(h){this.table.style.showColumnStripes=h}}},{"../utils/col-cache":19}],13:[function(t,i,c){const o=t("./worksheet"),s=t("./defined-names"),h=t("../xlsx/xlsx"),a=t("../csv/csv");i.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new h(this)),this._xlsx}get csv(){return this._csv||(this._csv=new a(this)),this._csv}get nextId(){for(let n=1;n<this._worksheets.length;n++)if(!this._worksheets[n])return n;return this._worksheets.length||1}addWorksheet(n,u){const m=this.nextId;u&&(typeof u=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),u={properties:{tabColor:{argb:u}}}):(u.argb||u.theme||u.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),u={properties:{tabColor:u}}));const f=this._worksheets.reduce((v,g)=>(g&&g.orderNo)>v?g.orderNo:v,0),d=Object.assign({},u,{id:m,name:n,orderNo:f+1,workbook:this}),b=new o(d);return this._worksheets[m]=b,b}removeWorksheetEx(n){delete this._worksheets[n.id]}removeWorksheet(n){const u=this.getWorksheet(n);u&&u.destroy()}getWorksheet(n){return n===void 0?this._worksheets.find(Boolean):typeof n=="number"?this._worksheets[n]:typeof n=="string"?this._worksheets.find(u=>u&&u.name===n):void 0}get worksheets(){return this._worksheets.slice(1).sort((n,u)=>n.orderNo-u.orderNo).filter(Boolean)}eachSheet(n){this.worksheets.forEach(u=>{n(u,u.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(n){const u=this.media.length;return this.media.push(Object.assign({},n,{type:"image"})),u}getImage(n){return this.media[n]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(n=>n.model),sheets:this.worksheets.map(n=>n.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(n){this.creator=n.creator,this.lastModifiedBy=n.lastModifiedBy,this.lastPrinted=n.lastPrinted,this.created=n.created,this.modified=n.modified,this.company=n.company,this.manager=n.manager,this.title=n.title,this.subject=n.subject,this.keywords=n.keywords,this.category=n.category,this.description=n.description,this.language=n.language,this.revision=n.revision,this.contentStatus=n.contentStatus,this.properties=n.properties,this.calcProperties=n.calcProperties,this._worksheets=[],n.worksheets.forEach(u=>{const{id:m,name:f,state:d}=u,b=n.sheets&&n.sheets.findIndex(v=>v.id===m);(this._worksheets[m]=new o({id:m,name:f,orderNo:b,state:d,workbook:this})).model=u}),this._definedNames.model=n.definedNames,this.views=n.views,this._themes=n.themes,this.media=n.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,i,c){const o=t("../utils/under-dash"),s=t("../utils/col-cache"),h=t("./range"),a=t("./row"),n=t("./column"),u=t("./enums"),m=t("./image"),f=t("./table"),d=t("./data-validations"),b=t("../utils/encryptor"),{copyStyle:v}=t("../utils/copy-style");i.exports=class{constructor(g){g=g||{},this._workbook=g.workbook,this.id=g.id,this.orderNo=g.orderNo,this.name=g.name,this.state=g.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},g.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!g.pageSetup||!g.pageSetup.fitToWidth&&!g.pageSetup.fitToHeight||g.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},g.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},g.headerFooter),this.dataValidations=new d,this.views=g.views||[],this.autoFilter=g.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(g){if(g===void 0&&(g="sheet"+this.id),this._name!==g){if(typeof g!="string")throw new Error("The name has to be a string.");if(g==="")throw new Error("The name can't be empty.");if(g==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(g))throw new Error(`Worksheet name ${g} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(g))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+g);if(g&&g.length>31&&(console.warn(`Worksheet name ${g} exceeds 31 chars. This will be truncated`),g=g.substring(0,31)),this._workbook._worksheets.find(w=>w&&w.name.toLowerCase()===g.toLowerCase()))throw new Error("Worksheet name already exists: "+g);this._name=g}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const g=new h;return this._rows.forEach(w=>{if(w){const _=w.dimensions;_&&g.expand(w.number,_.min,w.number,_.max)}}),g}get columns(){return this._columns}set columns(g){this._headerRowCount=g.reduce((A,M)=>{const O=(M.header?1:M.headers&&M.headers.length)||0;return Math.max(A,O)},0);let w=1;const _=this._columns=[];g.forEach(A=>{const M=new n(this,w++,!1);_.push(M),M.defn=A})}getColumnKey(g){return this._keys[g]}setColumnKey(g,w){this._keys[g]=w}deleteColumnKey(g){delete this._keys[g]}eachColumnKey(g){o.each(this._keys,g)}getColumn(g){if(typeof g=="string"){const w=this._keys[g];if(w)return w;g=s.l2n(g)}if(this._columns||(this._columns=[]),g>this._columns.length){let w=this._columns.length+1;for(;w<=g;)this._columns.push(new n(this,w++))}return this._columns[g-1]}spliceColumns(g,w){const _=this._rows.length;for(var A=arguments.length,M=new Array(A>2?A-2:0),O=2;O<A;O++)M[O-2]=arguments[O];if(M.length>0)for(let V=0;V<_;V++){const G=[g,w];M.forEach(H=>{G.push(H[V]||null)});const X=this.getRow(V+1);X.splice.apply(X,G)}else this._rows.forEach(V=>{V&&V.splice(g,w)});const q=M.length-w,F=g+w,j=this._columns.length;if(q<0)for(let V=g+M.length;V<=j;V++)this.getColumn(V).defn=this.getColumn(V-q).defn;else if(q>0)for(let V=j;V>=F;V--)this.getColumn(V+q).defn=this.getColumn(V).defn;for(let V=g;V<g+M.length;V++)this.getColumn(V).defn=null;this.workbook.definedNames.spliceColumns(this.name,g,w,M.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let g=0;return this.eachRow(w=>{g=Math.max(g,w.cellCount)}),g}get actualColumnCount(){const g=[];let w=0;return this.eachRow(_=>{_.eachCell(A=>{let{col:M}=A;g[M]||(g[M]=!0,w++)})}),w}_commitRow(){}get _lastRowNumber(){const g=this._rows;let w=g.length;for(;w>0&&g[w-1]===void 0;)w--;return w}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(g){return this._rows[g-1]}findRows(g,w){return this._rows.slice(g-1,g-1+w)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let g=0;return this.eachRow(()=>{g++}),g}getRow(g){let w=this._rows[g-1];return w||(w=this._rows[g-1]=new a(this,g)),w}getRows(g,w){if(w<1)return;const _=[];for(let A=g;A<g+w;A++)_.push(this.getRow(A));return _}addRow(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const _=this._nextRow,A=this.getRow(_);return A.values=g,this._setStyleOption(_,w[0]==="i"?w:"n"),A}addRows(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const _=[];return g.forEach(A=>{_.push(this.addRow(A,w))}),_}insertRow(g,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(g,0,w),this._setStyleOption(g,_),this.getRow(g)}insertRows(g,w){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(g,0,...w),_!=="n")for(let A=0;A<w.length;A++)_[0]==="o"&&this.findRow(w.length+g+A)!==void 0?this._copyStyle(w.length+g+A,g+A,_[1]==="+"):_[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g+A,_[1]==="+");return this.getRows(g,w.length)}_setStyleOption(g){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";w[0]==="o"&&this.findRow(g+1)!==void 0?this._copyStyle(g+1,g,w[1]==="+"):w[0]==="i"&&this.findRow(g-1)!==void 0&&this._copyStyle(g-1,g,w[1]==="+")}_copyStyle(g,w){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const A=this.getRow(g),M=this.getRow(w);M.style=v(A.style),A.eachCell({includeEmpty:_},(O,q)=>{M.getCell(q).style=v(O.style)}),M.height=A.height}duplicateRow(g,w){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const A=this._rows[g-1],M=new Array(w).fill(A.values);this.spliceRows(g+1,_?0:w,...M);for(let O=0;O<w;O++){const q=this._rows[g+O];q.style=A.style,q.height=A.height,A.eachCell({includeEmpty:!0},(F,j)=>{q.getCell(j).style=F.style})}}spliceRows(g,w){const _=g+w;for(var A=arguments.length,M=new Array(A>2?A-2:0),O=2;O<A;O++)M[O-2]=arguments[O];const q=M.length,F=q-w,j=this._rows.length;let V,G;if(F<0)for(g===j&&(this._rows[j-1]=void 0),V=_;V<=j;V++)if(G=this._rows[V-1],G){const X=this.getRow(V+F);X.values=G.values,X.style=G.style,X.height=G.height,G.eachCell({includeEmpty:!0},(H,R)=>{X.getCell(R).style=H.style}),this._rows[V-1]=void 0}else this._rows[V+F-1]=void 0;else if(F>0)for(V=j;V>=_;V--)if(G=this._rows[V-1],G){const X=this.getRow(V+F);X.values=G.values,X.style=G.style,X.height=G.height,G.eachCell({includeEmpty:!0},(H,R)=>{if(X.getCell(R).style=H.style,H._value.constructor.name==="MergeValue"){const P=this.getRow(H._row._number+q).getCell(R),k=H._value._master,x=this.getRow(k._row._number+q).getCell(k._column._number);P.merge(x)}})}else this._rows[V+F-1]=void 0;for(V=0;V<q;V++){const X=this.getRow(g+V);X.style={},X.values=M[V]}this.workbook.definedNames.spliceRows(this.name,g,w,q)}eachRow(g,w){if(w||(w=g,g=void 0),g&&g.includeEmpty){const _=this._rows.length;for(let A=1;A<=_;A++)w(this.getRow(A),A)}else this._rows.forEach(_=>{_&&_.hasValues&&w(_,_.number)})}getSheetValues(){const g=[];return this._rows.forEach(w=>{w&&(g[w.number]=w.values)}),g}findCell(g,w){const _=s.getAddress(g,w),A=this._rows[_.row-1];return A?A.findCell(_.col):void 0}getCell(g,w){const _=s.getAddress(g,w);return this.getRow(_.row).getCellEx(_)}mergeCells(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];const A=new h(w);this._mergeCellsInternal(A)}mergeCellsWithoutStyle(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];const A=new h(w);this._mergeCellsInternal(A,!0)}_mergeCellsInternal(g,w){o.each(this._merges,A=>{if(A.intersects(g))throw new Error("Cannot merge already merged cells")});const _=this.getCell(g.top,g.left);for(let A=g.top;A<=g.bottom;A++)for(let M=g.left;M<=g.right;M++)(A>g.top||M>g.left)&&this.getCell(A,M).merge(_,w);this._merges[_.address]=g}_unMergeMaster(g){const w=this._merges[g.address];if(w){for(let _=w.top;_<=w.bottom;_++)for(let A=w.left;A<=w.right;A++)this.getCell(_,A).unmerge();delete this._merges[g.address]}}get hasMerges(){return o.some(this._merges,Boolean)}unMergeCells(){for(var g=arguments.length,w=new Array(g),_=0;_<g;_++)w[_]=arguments[_];const A=new h(w);for(let M=A.top;M<=A.bottom;M++)for(let O=A.left;O<=A.right;O++){const q=this.findCell(M,O);q&&(q.type===u.ValueType.Merge?this._unMergeMaster(q.master):this._merges[q.address]&&this._unMergeMaster(q))}}fillFormula(g,w,_){let A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const M=s.decode(g),{top:O,left:q,bottom:F,right:j}=M,V=j-q+1,G=s.encodeAddress(O,q),X=A==="shared";let H;H=typeof _=="function"?_:Array.isArray(_)?Array.isArray(_[0])?(P,k)=>_[P-O][k-q]:(P,k)=>_[(P-O)*V+(k-q)]:()=>{};let R=!0;for(let P=O;P<=F;P++)for(let k=q;k<=j;k++)R?(this.getCell(P,k).value={shareType:A,formula:w,ref:g,result:H(P,k)},R=!1):this.getCell(P,k).value=X?{sharedFormula:G,result:H(P,k)}:H(P,k)}addImage(g,w){const _={type:"image",imageId:g,range:w};this._media.push(new m(this,_))}getImages(){return this._media.filter(g=>g.type==="image")}addBackgroundImage(g){const w={type:"background",imageId:g};this._media.push(new m(this,w))}getBackgroundImageId(){const g=this._media.find(w=>w.type==="background");return g&&g.imageId}protect(g,w){return new Promise(_=>{this.sheetProtection={sheet:!0},w&&"spinCount"in w&&(w.spinCount=Number.isFinite(w.spinCount)?Math.round(Math.max(0,w.spinCount)):1e5),g&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=b.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=w&&"spinCount"in w?w.spinCount:1e5,this.sheetProtection.hashValue=b.convertPasswordToHash(g,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),w&&(this.sheetProtection=Object.assign(this.sheetProtection,w),!g&&"spinCount"in w&&delete this.sheetProtection.spinCount),_()})}unprotect(){this.sheetProtection=null}addTable(g){const w=new f(this,g);return this.tables[g.name]=w,w}getTable(g){return this.tables[g]}removeTable(g){delete this.tables[g]}getTables(){return Object.values(this.tables)}addConditionalFormatting(g){this.conditionalFormattings.push(g)}removeConditionalFormatting(g){typeof g=="number"?this.conditionalFormattings.splice(g,1):this.conditionalFormattings=g instanceof Function?this.conditionalFormattings.filter(g):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(g){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=g}get model(){const g={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(A=>A.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(A=>A.model),conditionalFormattings:this.conditionalFormattings};g.cols=n.toModel(this.columns);const w=g.rows=[],_=g.dimensions=new h;return this._rows.forEach(A=>{const M=A&&A.model;M&&(_.expand(M.number,M.min,M.number,M.max),w.push(M))}),g.merges=[],o.each(this._merges,A=>{g.merges.push(A.range)}),g}_parseRows(g){this._rows=[],g.rows.forEach(w=>{const _=new a(this,w.number);this._rows[_.number-1]=_,_.model=w})}_parseMergeCells(g){o.each(g.mergeCells,w=>{this.mergeCellsWithoutStyle(w)})}set model(g){this.name=g.name,this._columns=n.fromModel(this,g.cols),this._parseRows(g),this._parseMergeCells(g),this.dataValidations=new d(g.dataValidations),this.properties=g.properties,this.pageSetup=g.pageSetup,this.headerFooter=g.headerFooter,this.views=g.views,this.autoFilter=g.autoFilter,this._media=g.media.map(w=>new m(this,w)),this.sheetProtection=g.sheetProtection,this.tables=g.tables.reduce((w,_)=>{const A=new f;return A.model=_,w[_.name]=A,w},{}),this.conditionalFormattings=g.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,i,c){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const o={Workbook:t("./doc/workbook")},s=t("./doc/enums");Object.keys(s).forEach(h=>{o[h]=s[h]}),i.exports=o},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,i,c){const o=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");c.bufferToString=function(s){return typeof s=="string"?s:o?o.decode(s):s.toString()}},{}],17:[function(t,i,c){const o=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=t("buffer");c.stringToBuffer=function(h){return typeof h!="string"?h:o?s.from(o.encode(h).buffer):s.from(h)}},{buffer:220}],18:[function(t,i,c){const o=t("./under-dash"),s=t("./col-cache");i.exports=class{constructor(h){this.template=h,this.sheets={}}addCell(h){this.addCellEx(s.decodeEx(h))}getCell(h){return this.findCellEx(s.decodeEx(h),!0)}findCell(h){return this.findCellEx(s.decodeEx(h),!1)}findCellAt(h,a,n){const u=this.sheets[h],m=u&&u[a];return m&&m[n]}addCellEx(h){if(h.top)for(let a=h.top;a<=h.bottom;a++)for(let n=h.left;n<=h.right;n++)this.getCellAt(h.sheetName,a,n);else this.findCellEx(h,!0)}getCellEx(h){return this.findCellEx(h,!0)}findCellEx(h,a){const n=this.findSheet(h,a),u=this.findSheetRow(n,h,a);return this.findRowCell(u,h,a)}getCellAt(h,a,n){const u=this.sheets[h]||(this.sheets[h]=[]),m=u[a]||(u[a]=[]);return m[n]||(m[n]={sheetName:h,address:s.n2l(n)+a,row:a,col:n})}removeCellEx(h){const a=this.findSheet(h);if(!a)return;const n=this.findSheetRow(a,h);n&&delete n[h.col]}forEachInSheet(h,a){const n=this.sheets[h];n&&n.forEach((u,m)=>{u&&u.forEach((f,d)=>{f&&a(f,m,d)})})}forEach(h){o.each(this.sheets,(a,n)=>{this.forEachInSheet(n,h)})}map(h){const a=[];return this.forEach(n=>{a.push(h(n))}),a}findSheet(h,a){const n=h.sheetName;return this.sheets[n]?this.sheets[n]:a?this.sheets[n]=[]:void 0}findSheetRow(h,a,n){const{row:u}=a;return h&&h[u]?h[u]:n?h[u]=[]:void 0}findRowCell(h,a,n){const{col:u}=a;return h&&h[u]?h[u]:n?h[u]=this.template?Object.assign(a,JSON.parse(JSON.stringify(this.template))):a:void 0}spliceRows(h,a,n,u){const m=this.sheets[h];if(m){const f=[];for(let d=0;d<u;d++)f.push([]);m.splice(a,n,...f)}}spliceColumns(h,a,n,u){const m=this.sheets[h];if(m){const f=[];for(let d=0;d<u;d++)f.push(null);o.each(m,d=>{d.splice(a,n,...f)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,i,c){const o=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:h=>h<=26?1:h<=676?2:3,_fill(h){let a,n,u,m,f,d=1;if(h>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&h>=1){for(;d<=26;)a=this._dictionary[d-1],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&h>=2){for(d=27;d<=702;)n=d-27,u=n%26,m=Math.floor(n/26),a=this._dictionary[m]+this._dictionary[u],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&h>=3){for(d=703;d<=16384;)n=d-703,u=n%26,m=Math.floor(n/26)%26,f=Math.floor(n/676),a=this._dictionary[f]+this._dictionary[m]+this._dictionary[u],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=3}},l2n(h){if(this._l2n[h]||this._fill(h.length),!this._l2n[h])throw new Error("Out of bounds. Invalid column letter: "+h);return this._l2n[h]},n2l(h){if(h<1||h>16384)throw new Error(h+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[h]||this._fill(this._level(h)),this._n2l[h]},_hash:{},validateAddress(h){if(!o.test(h))throw new Error("Invalid Address: "+h);return!0},decodeAddress(h){const a=h.length<5&&this._hash[h];if(a)return a;let n=!1,u="",m=0,f=!1,d="",b=0;for(let g,w=0;w<h.length;w++)if(g=h.charCodeAt(w),!f&&g>=65&&g<=90)n=!0,u+=h[w],m=26*m+g-64;else if(g>=48&&g<=57)f=!0,d+=h[w],b=10*b+g-48;else if(f&&n&&g!==36)break;if(n){if(m>16384)throw new Error("Out of bounds. Invalid column letter: "+u)}else m=void 0;f||(b=void 0);const v={address:h=u+d,col:m,row:b,$col$row:`$${u}$${d}`};return m<=100&&b<=100&&(this._hash[h]=v,this._hash[v.$col$row]=v),v},getAddress(h,a){if(a){const n=this.n2l(a)+h;return this.decodeAddress(n)}return this.decodeAddress(h)},decode(h){const a=h.split(":");if(a.length===2){const n=this.decodeAddress(a[0]),u=this.decodeAddress(a[1]),m={top:Math.min(n.row,u.row),left:Math.min(n.col,u.col),bottom:Math.max(n.row,u.row),right:Math.max(n.col,u.col)};return m.tl=this.n2l(m.left)+m.top,m.br=this.n2l(m.right)+m.bottom,m.dimensions=`${m.tl}:${m.br}`,m}return this.decodeAddress(h)},decodeEx(h){const a=h.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),n=a[1]||a[2],u=a[3],m=u.split(":");if(m.length>1){let d=this.decodeAddress(m[0]),b=this.decodeAddress(m[1]);const v=Math.min(d.row,b.row),g=Math.min(d.col,b.col),w=Math.max(d.row,b.row),_=Math.max(d.col,b.col);return d=this.n2l(g)+v,b=this.n2l(_)+w,{top:v,left:g,bottom:w,right:_,sheetName:n,tl:{address:d,col:g,row:v,$col$row:`$${this.n2l(g)}$${v}`,sheetName:n},br:{address:b,col:_,row:w,$col$row:`$${this.n2l(_)}$${w}`,sheetName:n},dimensions:`${d}:${b}`}}if(u.startsWith("#"))return n?{sheetName:n,error:u}:{error:u};const f=this.decodeAddress(u);return n?{sheetName:n,...f}:f},encodeAddress:(h,a)=>s.n2l(a)+h,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(h,a){const[n,u,,m,f]=h,[d,b]=a;return d>=n&&d<=m&&b>=u&&b<=f}};i.exports=s},{}],20:[function(t,i,c){const o=(h,a)=>({...h,...a.reduce((n,u)=>(h[u]&&(n[u]={...h[u]}),n),{})}),s=function(h,a,n){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];h[n]&&(a[n]=o(h[n],u))};c.copyStyle=h=>{if(!h)return h;if(a=h,Object.keys(a).length===0)return{};var a;const n={...h};return s(h,n,"font",["color"]),s(h,n,"alignment"),s(h,n,"protection"),h.border&&(s(h,n,"border"),s(h.border,n.border,"top",["color"]),s(h.border,n.border,"left",["color"]),s(h.border,n.border,"bottom",["color"]),s(h.border,n.border,"right",["color"]),s(h.border,n.border,"diagonal",["color"])),h.fill&&(s(h,n,"fill",["fgColor","bgColor","center"]),h.fill.stops&&(n.fill.stops=h.fill.stops.map(u=>o(u,["color"])))),n}},{}],21:[function(t,i,c){(function(o){(function(){const s=t("crypto"),h={hash(a){const n=s.createHash(a);for(var u=arguments.length,m=new Array(u>1?u-1:0),f=1;f<u;f++)m[f-1]=arguments[f];return n.update(o.concat(m)),n.digest()},convertPasswordToHash(a,n,u,m){if(n=n.toLowerCase(),s.getHashes().indexOf(n)<0)throw new Error(`Hash algorithm '${n}' not supported!`);const f=o.from(a,"utf16le");let d=this.hash(n,o.from(u,"base64"),f);for(let b=0;b<m;b++){const v=o.alloc(4);v.writeUInt32LE(b,0),d=this.hash(n,d,v)}return d.toString("base64")},randomBytes:a=>s.randomBytes(a)};i.exports=h}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,i,c){const{SaxesParser:o}=t("saxes"),{PassThrough:s}=t("readable-stream"),{bufferToString:h}=t("./browser-buffer-decode");i.exports=async function*(a){a.pipe&&!a[Symbol.asyncIterator]&&(a=a.pipe(new s));const n=new o;let u;n.on("error",f=>{u=f});let m=[];n.on("opentag",f=>m.push({eventType:"opentag",value:f})),n.on("text",f=>m.push({eventType:"text",value:f})),n.on("closetag",f=>m.push({eventType:"closetag",value:f}));for await(const f of a){if(n.write(h(f)),u)throw u;yield m,m=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,i,c){const o=t("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,h=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;i.exports={slideFormula:function(a,n,u){const m=o.decode(n),f=o.decode(u);return a.replace(s,(d,b,v,g,w)=>{if(w)return d;const _=h.exec(g);if(_){const A=_[1],M=_[2].toUpperCase(),O=_[3],q=_[4];if(M.length>3||M.length===3&&M>"XFD")return d;let F=o.l2n(M),j=parseInt(q,10);return A||(F+=f.col-m.col),O||(j+=f.row-m.row),(b||"")+(A||"")+o.n2l(F)+(O||"")+j}return d})}}},{"./col-cache":19}],24:[function(t,i,c){(function(o,s){(function(){const h=t("readable-stream"),a=t("./utils"),n=t("./string-buf");class u{constructor(g,w){this._data=g,this._encoding=w}get length(){return this.toBuffer().length}copy(g,w,_,A){return this.toBuffer().copy(g,w,_,A)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class m{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,_,A){return this._data._buf.copy(g,w,_,A)}toBuffer(){return this._data.toBuffer()}}class f{constructor(g){this._data=g}get length(){return this._data.length}copy(g,w,_,A){this._data.copy(g,w,_,A)}toBuffer(){return this._data}}class d{constructor(g){this.size=g,this.buffer=s.alloc(g),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const g=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(g,0,this.iRead,this.iWrite),g}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(g){let w;return g===0?null:g===void 0||g>=this.length?(w=this.toBuffer(),this.iRead=this.iWrite,w):(w=s.alloc(g),this.buffer.copy(w,0,this.iRead,g),this.iRead+=g,w)}write(g,w,_){const A=Math.min(_,this.size-this.iWrite);return g.copy(this.buffer,this.iWrite,w,w+A),this.iWrite+=A,A}}const b=function(v){v=v||{},this.bufSize=v.bufSize||1048576,this.buffers=[],this.batch=v.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};a.inherits(b,h.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(v=>v.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const g=this.buffers[this.buffers.length-1];if(!g.full)return g}const v=new d(this.bufSize);return this.buffers.push(v),v},async _pipe(v){await Promise.all(this.pipes.map((function(g){return new Promise(w=>{g.write(v.toBuffer(),()=>{w()})})})))},_writeToBuffers(v){let g=0;const w=v.length;for(;g<w;)g+=this._getWritableBuffer().write(v,g,w-g)},async write(v,g,w){let _;if(g instanceof Function&&(w=g,g="utf8"),w=w||a.nop,v instanceof n)_=new m(v);else if(v instanceof s)_=new f(v);else{if(!(typeof v=="string"||v instanceof String||v instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");_=new u(v,g)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(_);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(_),o.nextTick(w)):(await this._pipe(_),w());else this.paused||this.emit("data",_.toBuffer()),this._writeToBuffers(_),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(v,g,w){const _=A=>{A?w(A):(this._flush(),this.pipes.forEach(M=>{M.end()}),this.emit("finish"))};v?this.write(v,g,_):_()},read(v){let g;if(v){for(g=[];v&&this.buffers.length&&!this.buffers[0].eod;){const w=this.buffers[0],_=w.read(v);v-=_.length,g.push(_),w.eod&&w.full&&this.buffers.shift()}return s.concat(g)}return g=this.buffers.map(w=>w.toBuffer()).filter(Boolean),this.buffers=[],s.concat(g)},setEncoding(v){this.encoding=v},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(v){this.pipes.push(v),!this.paused&&this.buffers.length&&this.end()},unpipe(v){this.pipes=this.pipes.filter(g=>g!==v)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),i.exports=b}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,i,c){(function(o){(function(){i.exports=class{constructor(s){this._buf=o.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=o.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let h=2*this._buf.length;for(;h<s;)h*=2;const a=o.alloc(h);this._buf.copy(a,0),this._buf=a}addText(s){this._buffer=void 0;let h=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;h>=this._buf.length-4;)this._grow(this._inPos+s.length),h=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=h}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,i,c){const{toString:o}=Object.prototype,s=/["&<>]/,h={each:function(a,n){a&&(Array.isArray(a)?a.forEach(n):Object.keys(a).forEach(u=>{n(a[u],u)}))},some:function(a,n){return!!a&&(Array.isArray(a)?a.some(n):Object.keys(a).some(u=>n(a[u],u)))},every:function(a,n){return!a||(Array.isArray(a)?a.every(n):Object.keys(a).every(u=>n(a[u],u)))},map:function(a,n){return a?Array.isArray(a)?a.map(n):Object.keys(a).map(u=>n(a[u],u)):[]},keyBy:(a,n)=>a.reduce((u,m)=>(u[m[n]]=m,u),{}),isEqual:function(a,n){const u=typeof a,m=typeof n,f=Array.isArray(a),d=Array.isArray(n);let b;if(u!==m)return!1;switch(typeof a){case"object":if(f||d)return!(!f||!d)&&a.length===n.length&&a.every((v,g)=>{const w=n[g];return h.isEqual(v,w)});if(a===null||n===null)return a===n;if(b=Object.keys(a),Object.keys(n).length!==b.length)return!1;for(const v of b)if(!n.hasOwnProperty(v))return!1;return h.every(a,(v,g)=>{const w=n[g];return h.isEqual(v,w)});default:return a===n}},escapeHtml(a){const n=s.exec(a);if(!n)return a;let u="",m="",f=0,d=n.index;for(;d<a.length;d++){switch(a.charAt(d)){case'"':m="&quot;";break;case"&":m="&amp;";break;case"'":m="&apos;";break;case"<":m="&lt;";break;case">":m="&gt;";break;default:continue}f!==d&&(u+=a.substring(f,d)),f=d+1,u+=m}return f!==d?u+a.substring(f,d):u},strcmp:(a,n)=>a<n?-1:a>n?1:0,isUndefined:a=>o.call(a)==="[object Undefined]",isObject:a=>o.call(a)==="[object Object]",deepMerge(){const a=arguments[0]||{},{length:n}=arguments;let u,m,f;function d(b,v){u=a[v],f=Array.isArray(b),h.isObject(b)||f?(f?(f=!1,m=u&&Array.isArray(u)?u:[]):m=u&&h.isObject(u)?u:{},a[v]=h.deepMerge(m,b)):h.isUndefined(b)||(a[v]=b)}for(let b=0;b<n;b++)h.each(arguments[b],d);return a}};i.exports=h},{}],27:[function(t,i,c){(function(o,s){(function(){const h=t("fs"),a=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,n={nop(){},promiseImmediate:u=>new Promise(m=>{o.setImmediate?s(()=>{m(u)}):setTimeout(()=>{m(u)},1)}),inherits:function(u,m,f,d){u.super_=m,d||(d=f,f=null),f&&Object.keys(f).forEach(v=>{Object.defineProperty(u,v,Object.getOwnPropertyDescriptor(f,v))});const b={constructor:{value:u,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(v=>{b[v]=Object.getOwnPropertyDescriptor(d,v)}),u.prototype=Object.create(m.prototype,b)},dateToExcel:(u,m)=>25569+u.getTime()/864e5-(m?1462:0),excelToDate(u,m){const f=Math.round(24*(u-25569+(m?1462:0))*3600*1e3);return new Date(f)},parsePath(u){const m=u.lastIndexOf("/");return{path:u.substring(0,m),name:u.substring(m+1)}},getRelsPath(u){const m=n.parsePath(u);return`${m.path}/_rels/${m.name}.rels`},xmlEncode(u){const m=a.exec(u);if(!m)return u;let f="",d="",b=0,v=m.index;for(;v<u.length;v++){const g=u.charCodeAt(v);switch(g){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(g<=31&&(g<=8||g>=11&&g!==13)){d="";break}continue}b!==v&&(f+=u.substring(b,v)),b=v+1,d&&(f+=d)}return b!==v?f+u.substring(b,v):f},xmlDecode:u=>u.replace(/&([a-z]*);/g,m=>{switch(m){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return m}}),validInt(u){const m=parseInt(u,10);return Number.isNaN(m)?0:m},isDateFmt(u){return u?(u=(u=u.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:u=>new Promise(m=>{h.access(u,h.constants.F_OK,f=>{m(!f)})})},toIsoDateString:u=>u.toIsoString().subsstr(0,10),parseBoolean:u=>u===!0||u==="true"||u===1||u==="1"};i.exports=n}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,i,c){const o=t("./under-dash"),s=t("./utils");function h(u,m,f){u.push(` ${m}="${s.xmlEncode(f.toString())}"`)}function a(u,m){if(m){const f=[];o.each(m,(d,b)=>{d!==void 0&&h(f,b,d)}),u.push(f.join(""))}}class n{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(m){const f=this._xml;f.push("<?xml"),a(f,m),f.push(`?>
`)}openNode(m,f){const d=this.tos,b=this._xml;d&&this.open&&b.push(">"),this._stack.push(m),b.push("<"),b.push(m),a(b,f),this.leaf=!0,this.open=!0}addAttribute(m,f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");f!==void 0&&h(this._xml,m,f)}addAttributes(m){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,m)}writeText(m){const f=this._xml;this.open&&(f.push(">"),this.open=!1),this.leaf=!1,f.push(s.xmlEncode(m.toString()))}writeXml(m){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(m)}closeNode(){const m=this._stack.pop(),f=this._xml;this.leaf?f.push("/>"):(f.push("</"),f.push(m),f.push(">")),this.open=!1,this.leaf=!1}leafNode(m,f,d){this.openNode(m,f),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const m=this._rollbacks.pop();this._xml.length>m.xml&&this._xml.splice(m.xml,this._xml.length-m.xml),this._stack.length>m.stack&&this._stack.splice(m.stack,this._stack.length-m.stack),this.leaf=m.leaf,this.open=m.open}get xml(){return this.closeAll(),this._xml.join("")}}n.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},i.exports=n},{"./under-dash":26,"./utils":27}],29:[function(t,i,c){(function(o){(function(){const s=t("events"),h=t("jszip"),a=t("./stream-buf"),{stringToBuffer:n}=t("./browser-buffer-encode");class u extends s.EventEmitter{constructor(f){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},f),this.zip=new h,this.stream=new a}append(f,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,f,{base64:!0}):(o.browser&&typeof f=="string"&&(f=n(f)),this.zip.file(d.name,f))}async finalize(){const f=await this.zip.generateAsync(this.options);this.stream.end(f),this.emit("finish")}read(f){return this.stream.read(f)}setEncoding(f){return this.stream.setEncoding(f)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(f,d){return this.stream.pipe(f,d)}unpipe(f){return this.stream.unpipe(f)}unshift(f){return this.stream.unshift(f)}wrap(f){return this.stream.wrap(f)}}i.exports={ZipWriter:u}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,i,c){i.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,i,c){i.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,i,c){const o=t("../../utils/parse-sax"),s=t("../../utils/xml-stream");class h{prepare(){}render(){}parseOpen(n){}parseText(n){}parseClose(n){}reconcile(n,u){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(n=>{n instanceof h?n.reset():n.xform&&n.xform.reset()})}mergeModel(n){this.model=Object.assign(this.model||{},n)}async parse(n){for await(const u of n)for(const{eventType:m,value:f}of u)if(m==="opentag")this.parseOpen(f);else if(m==="text")this.parseText(f);else if(m==="closetag"&&!this.parseClose(f.name))return this.model;return this.model}async parseStream(n){return this.parse(o(n))}get xml(){return this.toXml(this.model)}toXml(n){const u=new s;return this.render(u,n),u.xml}static toAttribute(n,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(n===void 0){if(m)return u}else if(m||n!==u)return n.toString()}static toStringAttribute(n,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h.toAttribute(n,u,m)}static toStringValue(n,u){return n===void 0?u:n}static toBoolAttribute(n,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(n===void 0){if(m)return u}else if(m||n!==u)return n?"1":"0"}static toBoolValue(n,u){return n===void 0?u:n==="1"}static toIntAttribute(n,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h.toAttribute(n,u,m)}static toIntValue(n,u){return n===void 0?u:parseInt(n,10)}static toFloatAttribute(n,u){let m=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return h.toAttribute(n,u,m)}static toFloatValue(n,u){return n===void 0?u:parseFloat(n)}}i.exports=h},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,i,c){const o=t("../base-xform"),s=t("../../../utils/col-cache");function h(n){try{return s.decodeEx(n),!0}catch{return!1}}function a(n){const u=[];let m=!1,f="";return n.split(",").forEach(d=>{if(!d)return;const b=(d.match(/'/g)||[]).length;if(!b)return void(m?f+=d+",":h(d)&&u.push(d));const v=b%2==0;!m&&v&&h(d)?u.push(d):m&&!v?(m=!1,h(f+d)&&u.push(f+d),f=""):(m=!0,f+=d+",")}),u}i.exports=class extends o{render(n,u){n.openNode("definedName",{name:u.name,localSheetId:u.localSheetId}),n.writeText(u.ranges.join(",")),n.closeNode()}parseOpen(n){return n.name==="definedName"?(this._parsedName=n.attributes.name,this._parsedLocalSheetId=n.attributes.localSheetId,this._parsedText=[],!0):!1}parseText(n){this._parsedText.push(n)}parseClose(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,i,c){const o=t("../../../utils/utils"),s=t("../base-xform");i.exports=class extends s{render(h,a){h.leafNode("sheet",{sheetId:a.id,name:a.name,state:a.state,"r:id":a.rId})}parseOpen(h){return h.name==="sheet"&&(this.model={name:o.xmlDecode(h.attributes.name),id:parseInt(h.attributes.sheetId,10),state:h.attributes.state,rId:h.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{render(s,h){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:h.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{render(s,h){s.leafNode("workbookPr",{date1904:h.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{render(s,h){const a={xWindow:h.x||0,yWindow:h.y||0,windowWidth:h.width||12e3,windowHeight:h.height||24e3,firstSheet:h.firstSheet,activeTab:h.activeTab};h.visibility&&h.visibility!=="visible"&&(a.visibility=h.visibility),s.leafNode("workbookView",a)}parseOpen(s){if(s.name==="workbookView"){const h=this.model={},a=function(u,m,f){const d=m!==void 0?h[u]=m:f;d!==void 0&&(h[u]=d)},n=function(u,m,f){const d=m!==void 0?h[u]=parseInt(m,10):f;d!==void 0&&(h[u]=d)};return n("x",s.attributes.xWindow,0),n("y",s.attributes.yWindow,0),n("width",s.attributes.windowWidth,25e3),n("height",s.attributes.windowHeight,1e4),a("visibility",s.attributes.visibility,"visible"),n("activeTab",s.attributes.activeTab,void 0),n("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),h=t("../../../utils/xml-stream"),a=t("../base-xform"),n=t("../static-xform"),u=t("../list-xform"),m=t("./defined-name-xform"),f=t("./sheet-xform"),d=t("./workbook-view-xform"),b=t("./workbook-properties-xform"),v=t("./workbook-calc-properties-xform");class g extends a{constructor(){super(),this.map={fileVersion:g.STATIC_XFORMS.fileVersion,workbookPr:new b,bookViews:new u({tag:"bookViews",count:!1,childXform:new d}),sheets:new u({tag:"sheets",count:!1,childXform:new f}),definedNames:new u({tag:"definedNames",count:!1,childXform:new m}),calcPr:new v}}prepare(_){_.sheets=_.worksheets;const A=[];let M=0;_.sheets.forEach(O=>{if(O.pageSetup&&O.pageSetup.printArea&&O.pageSetup.printArea.split("&&").forEach(q=>{const F=q.split(":"),j={name:"_xlnm.Print_Area",ranges:[`'${O.name}'!$${F[0]}:$${F[1]}`],localSheetId:M};A.push(j)}),O.pageSetup&&(O.pageSetup.printTitlesRow||O.pageSetup.printTitlesColumn)){const q=[];if(O.pageSetup.printTitlesColumn){const j=O.pageSetup.printTitlesColumn.split(":");q.push(`'${O.name}'!$${j[0]}:$${j[1]}`)}if(O.pageSetup.printTitlesRow){const j=O.pageSetup.printTitlesRow.split(":");q.push(`'${O.name}'!$${j[0]}:$${j[1]}`)}const F={name:"_xlnm.Print_Titles",ranges:q,localSheetId:M};A.push(F)}M++}),A.length&&(_.definedNames=_.definedNames.concat(A)),(_.media||[]).forEach((O,q)=>{O.name=O.type+(q+1)})}render(_,A){_.openXml(h.StdDocAttributes),_.openNode("workbook",g.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(_),this.map.workbookPr.render(_,A.properties),this.map.bookViews.render(_,A.views),this.map.sheets.render(_,A.sheets),this.map.definedNames.render(_,A.definedNames),this.map.calcPr.render(_,A.calcProperties),_.closeNode()}parseOpen(_){return this.parser?(this.parser.parseOpen(_),!0):(_.name==="workbook"||(this.parser=this.map[_.name],this.parser&&this.parser.parseOpen(_)),!0)}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){return this.parser?(this.parser.parseClose(_)||(this.parser=void 0),!0):_==="workbook"?(this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1):!0}reconcile(_){const A=(_.workbookRels||[]).reduce((j,V)=>(j[V.Id]=V,j),{}),M=[];let O,q=0;(_.sheets||[]).forEach(j=>{const V=A[j.rId];V&&(O=_.worksheetHash["xl/"+V.Target.replace(/^(\s|\/xl\/)+/,"")],O&&(O.name=j.name,O.id=j.id,O.state=j.state,M[q++]=O))});const F=[];o.each(_.definedNames,j=>{if(j.name==="_xlnm.Print_Area"){if(O=M[j.localSheetId],O){O.pageSetup||(O.pageSetup={});const V=s.decodeEx(j.ranges[0]);O.pageSetup.printArea=O.pageSetup.printArea?`${O.pageSetup.printArea}&&${V.dimensions}`:V.dimensions}}else if(j.name==="_xlnm.Print_Titles"){if(O=M[j.localSheetId],O){O.pageSetup||(O.pageSetup={});const V=j.ranges.join(","),G=/\$/g,X=/\$\d+:\$\d+/,H=V.match(X);if(H&&H.length){const k=H[0];O.pageSetup.printTitlesRow=k.replace(G,"")}const R=/\$[A-Z]+:\$[A-Z]+/,P=V.match(R);if(P&&P.length){const k=P[0];O.pageSetup.printTitlesColumn=k.replace(G,"")}}}else F.push(j)}),_.definedNames=F,_.media.forEach((j,V)=>{j.index=V})}}g.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},g.STATIC_XFORMS={fileVersion:new n({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},i.exports=g},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,i,c){const o=t("../strings/rich-text-xform"),s=t("../../../utils/utils"),h=t("../base-xform"),a=i.exports=function(n){this.model=n};s.inherits(a,h,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new o),this._richTextXform},render(n,u){u=u||this.model,n.openNode("comment",{ref:u.ref,authorId:0}),n.openNode("text"),u&&u.note&&u.note.texts&&u.note.texts.forEach(m=>{this.richTextXform.render(n,m)}),n.closeNode(),n.closeNode()},parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;switch(n.name){case"comment":return this.model={type:"note",note:{texts:[]},...n.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(n),!0;default:return!1}},parseText(n){this.parser&&this.parser.parseText(n)},parseClose(n){switch(n){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(n),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../../../utils/utils"),h=t("../base-xform"),a=t("./comment-xform"),n=i.exports=function(){this.map={comment:new a}};s.inherits(n,h,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(u,m){m=m||this.model,u.openXml(o.StdDocAttributes),u.openNode("comments",n.COMMENTS_ATTRIBUTES),u.openNode("authors"),u.leafNode("author",null,"Author"),u.closeNode(),u.openNode("commentList"),m.comments.forEach(f=>{this.map.comment.render(u,f)}),u.closeNode(),u.closeNode()},parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(u),!0;default:return!1}},parseText(u){this.parser&&this.parser.parseText(u)},parseClose(u){switch(u){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,h,a){(h===a[2]||this.tag==="x:SizeWithCells"&&h===a[1])&&s.leafNode(this.tag)}parseOpen(s){return s.name===this.tag?(this.model={},this.model[this.tag]=!0,!0):!1}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(s){return s.name===this.tag?(this.text="",!0):!1}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"x:Anchor"}getAnchorRect(s){const h=Math.floor(s.left),a=Math.floor(68*(s.left-h)),n=Math.floor(s.top),u=Math.floor(18*(s.top-n)),m=Math.floor(s.right),f=Math.floor(68*(s.right-m)),d=Math.floor(s.bottom);return[h,a,n,u,m,f,d,Math.floor(18*(s.bottom-d))]}getDefaultRect(s){const h=s.col,a=Math.max(s.row-2,0);return[h,6,a,14,h+2,2,a+4,16]}render(s,h){const a=h.anchor?this.getAnchorRect(h.anchor):this.getDefaultRect(h.refAddress);s.leafNode("x:Anchor",null,a.join(", "))}parseOpen(s){return s.name===this.tag?(this.text="",!0):!1}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,i,c){const o=t("../base-xform"),s=t("./vml-anchor-xform"),h=t("./style/vml-protection-xform"),a=t("./style/vml-position-xform"),n=["twoCells","oneCells","absolute"];i.exports=class extends o{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new h({tag:"x:Locked"}),"x:LockText":new h({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(u,m){const{protection:f,editAs:d}=m.note;u.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(u,d,n),this.map["x:SizeWithCells"].render(u,d,n),this.map["x:Anchor"].render(u,m),this.map["x:Locked"].render(u,f.locked),u.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(u,f.lockText),u.leafNode("x:Row",null,m.refAddress.row-1),u.leafNode("x:Column",null,m.refAddress.col-1),u.closeNode()}parseOpen(u){return u.name===this.tag?(this.reset(),this.model={anchor:[],protection:{},editAs:""}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.normalizeModel(),!1):!0}normalizeModel(){const u=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),m=Object.keys(u).length;this.model.editAs=n[m],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("./vml-shape-xform");class a extends s{constructor(){super(),this.map={"v:shape":new h}}get tag(){return"xml"}render(u,m){u.openXml(o.StdDocAttributes),u.openNode(this.tag,a.DRAWING_ATTRIBUTES),u.openNode("o:shapelayout",{"v:ext":"edit"}),u.leafNode("o:idmap",{"v:ext":"edit",data:1}),u.closeNode(),u.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),u.leafNode("v:stroke",{joinstyle:"miter"}),u.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),u.closeNode(),m.comments.forEach((f,d)=>{this.map["v:shape"].render(u,f,d)}),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?(this.reset(),this.model={comments:[]}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0):u!==this.tag}reconcile(u,m){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,m):this.map["xdr:oneCellAnchor"].reconcile(f,m)})}}a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},i.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,i,c){const o=t("../base-xform"),s=t("./vml-textbox-xform"),h=t("./vml-client-data-xform");class a extends o{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new h}}get tag(){return"v:shape"}render(u,m,f){u.openNode("v:shape",a.V_SHAPE_ATTRIBUTES(m,f)),u.leafNode("v:fill",{color2:"infoBackground [80]"}),u.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),u.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(u,m),this.map["x:ClientData"].render(u,m),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?(this.reset(),this.model={margins:{insetmode:u.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}}):(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1):!0}}a.V_SHAPE_ATTRIBUTES=(n,u)=>({id:"_x0000_s"+(1025+u),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":n.note.margins&&n.note.margins.insetmode}),i.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"v:textbox"}conversionUnit(s,h,a){return`${parseFloat(s)*h.toFixed(2)}${a}`}reverseConversionUnit(s){return(s||"").split(",").map(h=>Number(parseFloat(this.conversionUnit(parseFloat(h),.1,"")).toFixed(2)))}render(s,h){const a={style:"mso-direction-alt:auto"};if(h&&h.note){let{inset:n}=h.note&&h.note.margins;Array.isArray(n)&&(n=n.map(u=>this.conversionUnit(u,10,"mm")).join(",")),n&&(a.inset=n)}s.openNode("v:textbox",a),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={inset:this.reverseConversionUnit(s.attributes.inset)}),!0}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],48:[function(t,i,c){const o=t("./base-xform");i.exports=class extends o{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,h){this.model[s]=h.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{render(s,h){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,h.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{render(s,h){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:h.length,baseType:"lpstr"}),h.forEach(a=>{s.leafNode("vt:lpstr",void 0,a.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("../simple/string-xform"),a=t("./app-heading-pairs-xform"),n=t("./app-titles-of-parts-xform");class u extends s{constructor(){super(),this.map={Company:new h({tag:"Company"}),Manager:new h({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new n}}render(f,d){f.openXml(o.StdDocAttributes),f.openNode("Properties",u.PROPERTY_ATTRIBUTES),f.leafNode("Application",void 0,"Microsoft Excel"),f.leafNode("DocSecurity",void 0,"0"),f.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(f,d.worksheets),this.map.TitleOfParts.render(f,d.worksheets),this.map.Company.render(f,d.company||""),this.map.Manager.render(f,d.manager),f.leafNode("LinksUpToDate",void 0,"false"),f.leafNode("SharedDoc",void 0,"false"),f.leafNode("HyperlinksChanged",void 0,"false"),f.leafNode("AppVersion",void 0,"16.0300"),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name==="Properties"?!0:(this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f==="Properties"?(this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1):!0}}u.DateFormat=function(m){return m.toISOString().replace(/[.]\d{3,6}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},i.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform");class h extends s{render(n,u){n.openXml(o.StdDocAttributes),n.openNode("Types",h.PROPERTY_ATTRIBUTES);const m={};(u.media||[]).forEach(f=>{if(f.type==="image"){const d=f.extension;m[d]||(m[d]=!0,n.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),n.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),n.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),n.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),u.worksheets.forEach(f=>{const d=`/xl/worksheets/sheet${f.id}.xml`;n.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),n.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),n.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),u.sharedStrings&&u.sharedStrings.count&&n.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),u.tables&&u.tables.forEach(f=>{n.leafNode("Override",{PartName:"/xl/tables/"+f.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),u.drawings&&u.drawings.forEach(f=>{n.leafNode("Override",{PartName:`/xl/drawings/${f.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),u.commentRefs&&(n.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),u.commentRefs.forEach(f=>{let{commentName:d}=f;n.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),n.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),n.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),n.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}h.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},i.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("../simple/date-xform"),a=t("../simple/string-xform"),n=t("../simple/integer-xform");class u extends s{constructor(){super(),this.map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new h({tag:"cp:lastPrinted",format:u.DateFormat}),"cp:revision":new n({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new h({tag:"dcterms:created",attrs:u.DateAttrs,format:u.DateFormat}),"dcterms:modified":new h({tag:"dcterms:modified",attrs:u.DateAttrs,format:u.DateFormat})}}render(f,d){f.openXml(o.StdDocAttributes),f.openNode("cp:coreProperties",u.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(f,d.creator),this.map["dc:title"].render(f,d.title),this.map["dc:subject"].render(f,d.subject),this.map["dc:description"].render(f,d.description),this.map["dc:identifier"].render(f,d.identifier),this.map["dc:language"].render(f,d.language),this.map["cp:keywords"].render(f,d.keywords),this.map["cp:category"].render(f,d.category),this.map["cp:lastModifiedBy"].render(f,d.lastModifiedBy),this.map["cp:lastPrinted"].render(f,d.lastPrinted),this.map["cp:revision"].render(f,d.revision),this.map["cp:version"].render(f,d.version),this.map["cp:contentStatus"].render(f,d.contentStatus),this.map["cp:contentType"].render(f,d.contentType),this.map["dcterms:created"].render(f,d.created),this.map["dcterms:modified"].render(f,d.modified),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[f.name],this.parser)return this.parser.parseOpen(f),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(f))}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser)return this.parser.parseClose(f)||(this.parser=void 0),!0;switch(f){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+f)}}}u.DateFormat=function(m){return m.toISOString().replace(/[.]\d{3}/,"")},u.DateAttrs={"xsi:type":"dcterms:W3CDTF"},u.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},i.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{render(s,h){s.leafNode("Relationship",h)}parseOpen(s){return s.name==="Relationship"?(this.model=s.attributes,!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("./relationship-xform");class a extends s{constructor(){super(),this.map={Relationship:new h}}render(u,m){m=m||this._values,u.openXml(o.StdDocAttributes),u.openNode("Relationships",a.RELATIONSHIPS_ATTRIBUTES),m.forEach(f=>{this.map.Relationship.render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0),!0;if(u==="Relationships")return!1;throw new Error("Unexpected xml node in parseClose: "+u)}}a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},i.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):(s.name===this.tag?(this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}}):(this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)),!0)}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,h){if(s&&s.rId){const a=h.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(a){const n=a[1],u=h.mediaIndex[n];return h.media[u]}}}}},{"../base-xform":32}],57:[function(t,i,c){const o=t("../base-xform"),s=t("./blip-xform");i.exports=class extends o{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(h,a){h.openNode(this.tag),this.map["a:blip"].render(h,a),h.openNode("a:stretch"),h.leafNode("a:fillRect"),h.closeNode(),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):(h.name===this.tag?this.reset():(this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)),!0)}parseText(){}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h===this.tag?(this.model=this.map["a:blip"].model,!1):!0}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"a:blip"}render(s,h){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":h.rId,cstate:"print"})}parseOpen(s){return s.name===this.tag&&(this.model={rId:s.attributes["r:embed"]}),!0}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],59:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],60:[function(t,i,c){const o=t("../base-xform"),s=t("./hlink-click-xform"),h=t("./ext-lst-xform");i.exports=class extends o{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new h}}get tag(){return"xdr:cNvPr"}render(a,n){a.openNode(this.tag,{id:n.index,name:"Picture "+n.index}),this.map["a:hlinkClick"].render(a,n),this.map["a:extLst"].render(a,n),a.closeNode()}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):(a.name===this.tag?this.reset():(this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)),!0)}parseText(){}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model=this.map["a:hlinkClick"].model,!1):!0}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,i,c){const o=t("../base-xform"),s=t("../simple/integer-xform");i.exports=class extends o{constructor(h){super(),this.tag=h.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(h,a){h.openNode(this.tag),this.map["xdr:col"].render(h,a.nativeCol),this.map["xdr:colOff"].render(h,a.nativeColOff),this.map["xdr:row"].render(h,a.nativeRow),this.map["xdr:rowOff"].render(h,a.nativeRowOff),h.closeNode()}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):(h.name===this.tag?this.reset():(this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)),!0)}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h===this.tag?(this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1):!0}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,i,c){const o=t("../../../utils/col-cache"),s=t("../../../utils/xml-stream"),h=t("../base-xform"),a=t("./two-cell-anchor-xform"),n=t("./one-cell-anchor-xform");class u extends h{constructor(){super(),this.map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new n}}prepare(f){f.anchors.forEach((d,b)=>{d.anchorType=(function(v){return(typeof v.range=="string"?o.decode(v.range):v.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"})(d),this.map[d.anchorType].prepare(d,{index:b})})}get tag(){return"xdr:wsDr"}render(f,d){f.openXml(s.StdDocAttributes),f.openNode(this.tag,u.DRAWING_ATTRIBUTES),d.anchors.forEach(b=>{this.map[b.anchorType].render(f,b)}),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):(f.name===this.tag?(this.reset(),this.model={anchors:[]}):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f)),!0)}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0):f!==this.tag}reconcile(f,d){f.anchors.forEach(b=>{b.br?this.map["xdr:twoCellAnchor"].reconcile(b,d):this.map["xdr:oneCellAnchor"].reconcile(b,d)})}}u.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},i.exports=u},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){return s!==this.tag}}},{"../base-xform":32}],64:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,h){s.openNode(this.tag);const a=Math.floor(9525*h.width),n=Math.floor(9525*h.height);s.addAttribute("cx",a),s.addAttribute("cy",n),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"a:hlinkClick"}render(s,h){h.hyperlinks&&h.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":h.hyperlinks.rId,tooltip:h.hyperlinks.tooltip})}parseOpen(s){return s.name===this.tag&&(this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}}),!0}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,i,c){const o=t("../base-xform"),s=t("./c-nv-pr-xform"),h=t("./c-nv-pic-pr-xform");i.exports=class extends o{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new h}}get tag(){return"xdr:nvPicPr"}render(a,n){a.openNode(this.tag),this.map["xdr:cNvPr"].render(a,n),this.map["xdr:cNvPicPr"].render(a,n),a.closeNode()}parseOpen(a){return this.parser?(this.parser.parseOpen(a),!0):(a.name===this.tag?this.reset():(this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)),!0)}parseText(){}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.parser=void 0),!0):a===this.tag?(this.model=this.map["xdr:cNvPr"].model,!1):!0}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,i,c){const o=t("./base-cell-anchor-xform"),s=t("../static-xform"),h=t("./cell-position-xform"),a=t("./ext-xform"),n=t("./pic-xform");i.exports=class extends o{constructor(){super(),this.map={"xdr:from":new h({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new n,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(u,m){this.map["xdr:pic"].prepare(u.picture,m)}render(u,m){u.openNode(this.tag,{editAs:m.range.editAs||"oneCell"}),this.map["xdr:from"].render(u,m.range.tl),this.map["xdr:ext"].render(u,m.range.ext),this.map["xdr:pic"].render(u,m.picture),this.map["xdr:clientData"].render(u,{}),u.closeNode()}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(u,m){u.medium=this.reconcilePicture(u.picture,m)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,i,c){const o=t("../base-xform"),s=t("../static-xform"),h=t("./blip-fill-xform"),a=t("./nv-pic-pr-xform"),n=t("./sp-pr");i.exports=class extends o{constructor(){super(),this.map={"xdr:nvPicPr":new a,"xdr:blipFill":new h,"xdr:spPr":new s(n)}}get tag(){return"xdr:pic"}prepare(u,m){u.index=m.index+1}render(u,m){u.openNode(this.tag),this.map["xdr:nvPicPr"].render(u,m),this.map["xdr:blipFill"].render(u,m),this.map["xdr:spPr"].render(u,m),u.closeNode()}parseOpen(u){return this.parser?(this.parser.parseOpen(u),!0):(u.name===this.tag?this.reset():(this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)),!0)}parseText(){}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.mergeModel(this.parser.model),this.parser=void 0),!0):u!==this.tag}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,i,c){i.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,i,c){const o=t("./base-cell-anchor-xform"),s=t("../static-xform"),h=t("./cell-position-xform"),a=t("./pic-xform");i.exports=class extends o{constructor(){super(),this.map={"xdr:from":new h({tag:"xdr:from"}),"xdr:to":new h({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(n,u){this.map["xdr:pic"].prepare(n.picture,u)}render(n,u){n.openNode(this.tag,{editAs:u.range.editAs||"oneCell"}),this.map["xdr:from"].render(n,u.range.tl),this.map["xdr:to"].render(n,u.range.br),this.map["xdr:pic"].render(n,u.picture),this.map["xdr:clientData"].render(n,{}),n.closeNode()}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):n===this.tag?(this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1):!0}reconcile(n,u){n.medium=this.reconcilePicture(n.picture,u)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,i,c){const o=t("./base-xform");i.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,h){const{childXform:a}=this;s&&s.forEach((n,u)=>{h.index=u,a.prepare(n,h)})}render(s,h){if(this.always||h&&h.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,h&&h.length||0);const{childXform:a}=this;(h||[]).forEach((n,u)=>{a.render(s,n,u)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){return this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag?(this.model=[],!0):!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,h){if(s){const{childXform:a}=this;s.forEach(n=>{a.reconcile(n,h)})}}}},{"./base-xform":32}],72:[function(t,i,c){const o=t("../../../utils/col-cache"),s=t("../base-xform");i.exports=class extends s{get tag(){return"autoFilter"}render(h,a){if(a)if(typeof a=="string")h.leafNode("autoFilter",{ref:a});else{const n=function(f){return typeof f=="string"?f:o.getAddress(f.row,f.column).address},u=n(a.from),m=n(a.to);u&&m&&h.leafNode("autoFilter",{ref:`${u}:${m}`})}}parseOpen(h){h.name==="autoFilter"&&(this.model=h.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,i,c){const o=t("../../../utils/utils"),s=t("../base-xform"),h=t("../../../doc/range"),a=t("../../../doc/enums"),n=t("../strings/rich-text-xform");function u(m){if(m==null)return a.ValueType.Null;if(m instanceof String||typeof m=="string")return a.ValueType.String;if(typeof m=="number")return a.ValueType.Number;if(typeof m=="boolean")return a.ValueType.Boolean;if(m instanceof Date)return a.ValueType.Date;if(m.text&&m.hyperlink)return a.ValueType.Hyperlink;if(m.formula)return a.ValueType.Formula;if(m.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}i.exports=class extends s{constructor(){super(),this.richTextXForm=new n}get tag(){return"c"}prepare(m,f){const d=f.styles.addStyleModel(m.style||{},(function(b){return b.type===a.ValueType.Formula?u(b.result):b.type})(m));switch(d&&(m.styleId=d),m.comment&&f.comments.push({...m.comment,ref:m.address}),m.type){case a.ValueType.String:case a.ValueType.RichText:f.sharedStrings&&(m.ssId=f.sharedStrings.add(m.value));break;case a.ValueType.Date:f.date1904&&(m.date1904=!0);break;case a.ValueType.Hyperlink:f.sharedStrings&&m.text!==void 0&&m.text!==null&&(m.ssId=f.sharedStrings.add(m.text)),f.hyperlinks.push({address:m.address,target:m.hyperlink,tooltip:m.tooltip});break;case a.ValueType.Merge:f.merges.add(m);break;case a.ValueType.Formula:if(f.date1904&&(m.date1904=!0),m.shareType==="shared"&&(m.si=f.siFormulae++),m.formula)f.formulae[m.address]=m;else if(m.sharedFormula){const b=f.formulae[m.sharedFormula];if(!b)throw new Error("Shared Formula master must exist above and or left of clone for cell "+m.address);b.si===void 0?(b.shareType="shared",b.si=f.siFormulae++,b.range=new h(b.address,m.address)):b.range&&b.range.expandToAddress(m.address),m.si=b.si}}}renderFormula(m,f){let d=null;switch(f.shareType){case"shared":d={t:"shared",ref:f.ref||f.range.range,si:f.si};break;case"array":d={t:"array",ref:f.ref};break;default:f.si!==void 0&&(d={t:"shared",si:f.si})}switch(u(f.result)){case a.ValueType.Null:m.leafNode("f",d,f.formula);break;case a.ValueType.String:m.addAttribute("t","str"),m.leafNode("f",d,f.formula),m.leafNode("v",null,f.result);break;case a.ValueType.Number:m.leafNode("f",d,f.formula),m.leafNode("v",null,f.result);break;case a.ValueType.Boolean:m.addAttribute("t","b"),m.leafNode("f",d,f.formula),m.leafNode("v",null,f.result?1:0);break;case a.ValueType.Error:m.addAttribute("t","e"),m.leafNode("f",d,f.formula),m.leafNode("v",null,f.result.error);break;case a.ValueType.Date:m.leafNode("f",d,f.formula),m.leafNode("v",null,o.dateToExcel(f.result,f.date1904));break;default:throw new Error("I could not understand type of value")}}render(m,f){if(f.type!==a.ValueType.Null||f.styleId){switch(m.openNode("c"),m.addAttribute("r",f.address),f.styleId&&m.addAttribute("s",f.styleId),f.type){case a.ValueType.Null:break;case a.ValueType.Number:m.leafNode("v",null,f.value);break;case a.ValueType.Boolean:m.addAttribute("t","b"),m.leafNode("v",null,f.value?"1":"0");break;case a.ValueType.Error:m.addAttribute("t","e"),m.leafNode("v",null,f.value.error);break;case a.ValueType.String:case a.ValueType.RichText:f.ssId!==void 0?(m.addAttribute("t","s"),m.leafNode("v",null,f.ssId)):f.value&&f.value.richText?(m.addAttribute("t","inlineStr"),m.openNode("is"),f.value.richText.forEach(d=>{this.richTextXForm.render(m,d)}),m.closeNode("is")):(m.addAttribute("t","str"),m.leafNode("v",null,f.value));break;case a.ValueType.Date:m.leafNode("v",null,o.dateToExcel(f.value,f.date1904));break;case a.ValueType.Hyperlink:f.ssId!==void 0?(m.addAttribute("t","s"),m.leafNode("v",null,f.ssId)):(m.addAttribute("t","str"),m.leafNode("v",null,f.text));break;case a.ValueType.Formula:this.renderFormula(m,f);break;case a.ValueType.Merge:}m.closeNode()}}parseOpen(m){if(this.parser)return this.parser.parseOpen(m),!0;switch(m.name){case"c":return this.model={address:m.attributes.r},this.t=m.attributes.t,m.attributes.s&&(this.model.styleId=parseInt(m.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=m.attributes.si,this.model.shareType=m.attributes.t,this.model.ref=m.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(m),!0;default:return!1}}parseText(m){if(this.parser)this.parser.parseText(m);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+m:m;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+m:m:this.model.value=this.model.value?this.model.value+m:m}}parseClose(m){switch(m){case"c":{const{model:f}=this;if(f.formula||f.shareType)f.type=a.ValueType.Formula,f.value&&(this.t==="str"?f.result=o.xmlDecode(f.value):this.t==="b"?f.result=parseInt(f.value,10)!==0:this.t==="e"?f.result={error:f.value}:f.result=parseFloat(f.value),f.value=void 0);else if(f.value!==void 0)switch(this.t){case"s":f.type=a.ValueType.String,f.value=parseInt(f.value,10);break;case"str":f.type=a.ValueType.String,f.value=o.xmlDecode(f.value);break;case"inlineStr":f.type=a.ValueType.String;break;case"b":f.type=a.ValueType.Boolean,f.value=parseInt(f.value,10)!==0;break;case"e":f.type=a.ValueType.Error,f.value={error:f.value};break;default:f.type=a.ValueType.Number,f.value=parseFloat(f.value)}else f.styleId?f.type=a.ValueType.Null:f.type=a.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(m),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(m),!0)}}reconcile(m,f){const d=m.styleId&&f.styles&&f.styles.getStyleModel(m.styleId);switch(d&&(m.style=d),m.styleId!==void 0&&(m.styleId=void 0),m.type){case a.ValueType.String:typeof m.value=="number"&&f.sharedStrings&&(m.value=f.sharedStrings.getString(m.value)),m.value.richText&&(m.type=a.ValueType.RichText);break;case a.ValueType.Number:d&&o.isDateFmt(d.numFmt)&&(m.type=a.ValueType.Date,m.value=o.excelToDate(m.value,f.date1904));break;case a.ValueType.Formula:m.result!==void 0&&d&&o.isDateFmt(d.numFmt)&&(m.result=o.excelToDate(m.result,f.date1904)),m.shareType==="shared"&&(m.ref?f.formulae[m.si]=m.address:(m.sharedFormula=f.formulae[m.si],delete m.shareType),delete m.si)}const b=f.hyperlinkMap[m.address];b&&(m.type===a.ValueType.Formula?(m.text=m.result,m.result=void 0):(m.text=m.value,m.value=void 0),m.type=a.ValueType.Hyperlink,m.hyperlink=b);const v=f.commentsMap&&f.commentsMap[m.address];v&&(m.comment=v)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{get tag(){return"x14:cfIcon"}render(s,h){s.leafNode(this.tag,{iconSet:h.iconSet,iconId:h.iconId})}parseOpen(s){let{attributes:h}=s;this.model={iconSet:h.iconSet,iconId:o.toIntValue(h.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(t,i,c){const{v4:o}=t("uuid"),s=t("../../base-xform"),h=t("../../composite-xform"),a=t("./databar-ext-xform"),n=t("./icon-set-ext-xform"),u={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class m extends h{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new a,"x14:iconSet":this.iconSetXform=new n}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?a.isExt(d):!(d.type!=="iconSet"||!d.custom&&!u[d.iconSet])}prepare(d){m.isExt(d)&&(d.x14Id=`{${o()}}`.toUpperCase())}render(d,b){if(m.isExt(b))switch(b.type){case"dataBar":this.renderDataBar(d,b);break;case"iconSet":this.renderIconSet(d,b)}}renderDataBar(d,b){d.openNode(this.tag,{type:"dataBar",id:b.x14Id}),this.databarXform.render(d,b),d.closeNode()}renderIconSet(d,b){d.openNode(this.tag,{type:"iconSet",priority:b.priority,id:b.x14Id||`{${o()}}`}),this.iconSetXform.render(d,b),d.closeNode()}createNewModel(d){let{attributes:b}=d;return{type:b.type,x14Id:b.id,priority:s.toIntValue(b.priority)}}onParserClose(d,b){Object.assign(this.model,b.model)}}i.exports=m},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,i,c){const o=t("../../composite-xform"),s=t("./f-ext-xform");i.exports=class extends o{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(h,a){h.openNode(this.tag,{type:a.type}),a.value!==void 0&&this.fExtXform.render(h,a.value),h.closeNode()}createNewModel(h){return{type:h.attributes.type}}onParserClose(h,a){h==="xm:f"&&(this.model.value=a.model?parseFloat(a.model):0)}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,i,c){const o=t("../../composite-xform"),s=t("./sqref-ext-xform"),h=t("./cf-rule-ext-xform");i.exports=class extends o{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new h}}get tag(){return"x14:conditionalFormatting"}prepare(a,n){a.rules.forEach(u=>{this.cfRule.prepare(u,n)})}render(a,n){n.rules.some(h.isExt)&&(a.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),n.rules.filter(h.isExt).forEach(u=>this.cfRule.render(a,u)),this.sqRef.render(a,n.ref),a.closeNode())}createNewModel(){return{rules:[]}}onParserClose(a,n){switch(a){case"xm:sqref":this.model.ref=n.model;break;case"x14:cfRule":this.model.rules.push(n.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,i,c){const o=t("../../composite-xform"),s=t("./cf-rule-ext-xform"),h=t("./conditional-formatting-ext-xform");i.exports=class extends o{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new h}}get tag(){return"x14:conditionalFormattings"}hasContent(a){return a.hasExtContent===void 0&&(a.hasExtContent=a.some(n=>n.rules.some(s.isExt))),a.hasExtContent}prepare(a,n){a.forEach(u=>{this.cfXform.prepare(u,n)})}render(a,n){this.hasContent(n)&&(a.openNode(this.tag),n.forEach(u=>this.cfXform.render(a,u)),a.closeNode())}createNewModel(){return[]}onParserClose(a,n){this.model.push(n.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,i,c){const o=t("../../base-xform"),s=t("../../composite-xform"),h=t("../../style/color-xform"),a=t("./cfvo-ext-xform");i.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:borderColor":this.borderColorXform=new h("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new h("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new h("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new h("x14:axisColor")}}static isExt(n){return!n.gradient}get tag(){return"x14:dataBar"}render(n,u){n.openNode(this.tag,{minLength:o.toIntAttribute(u.minLength,0,!0),maxLength:o.toIntAttribute(u.maxLength,100,!0),border:o.toBoolAttribute(u.border,!1),gradient:o.toBoolAttribute(u.gradient,!0),negativeBarColorSameAsPositive:o.toBoolAttribute(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolAttribute(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toAttribute(u.axisPosition,"auto"),direction:o.toAttribute(u.direction,"leftToRight")}),u.cfvo.forEach(m=>{this.cfvoXform.render(n,m)}),this.borderColorXform.render(n,u.borderColor),this.negativeBorderColorXform.render(n,u.negativeBorderColor),this.negativeFillColorXform.render(n,u.negativeFillColor),this.axisColorXform.render(n,u.axisColor),n.closeNode()}createNewModel(n){let{attributes:u}=n;return{cfvo:[],minLength:o.toIntValue(u.minLength,0),maxLength:o.toIntValue(u.maxLength,100),border:o.toBoolValue(u.border,!1),gradient:o.toBoolValue(u.gradient,!0),negativeBarColorSameAsPositive:o.toBoolValue(u.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:o.toBoolValue(u.negativeBarBorderColorSameAsPositive,!0),axisPosition:o.toStringValue(u.axisPosition,"auto"),direction:o.toStringValue(u.direction,"leftToRight")}}onParserClose(n,u){const[,m]=n.split(":");m==="cfvo"?this.model.cfvo.push(u.model):this.model[m]=u.model}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{get tag(){return"xm:f"}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(t,i,c){const o=t("../../base-xform"),s=t("../../composite-xform"),h=t("./cfvo-ext-xform"),a=t("./cf-icon-ext-xform");i.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new h,"x14:cfIcon":this.cfIconXform=new a}}get tag(){return"x14:iconSet"}render(n,u){n.openNode(this.tag,{iconSet:o.toStringAttribute(u.iconSet),reverse:o.toBoolAttribute(u.reverse,!1),showValue:o.toBoolAttribute(u.showValue,!0),custom:o.toBoolAttribute(u.icons,!1)}),u.cfvo.forEach(m=>{this.cfvoXform.render(n,m)}),u.icons&&u.icons.forEach((m,f)=>{m.iconId=f,this.cfIconXform.render(n,m)}),n.closeNode()}createNewModel(n){let{attributes:u}=n;return{cfvo:[],iconSet:o.toStringValue(u.iconSet,"3TrafficLights"),reverse:o.toBoolValue(u.reverse,!1),showValue:o.toBoolValue(u.showValue,!0)}}onParserClose(n,u){const[,m]=n.split(":");switch(m){case"cfvo":this.model.cfvo.push(u.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(u.model);break;default:this.model[m]=u.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{get tag(){return"xm:sqref"}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(t,i,c){const o=t("../../base-xform"),s=t("../../composite-xform"),h=t("../../../../doc/range"),a=t("./databar-xform"),n=t("./ext-lst-ref-xform"),u=t("./formula-xform"),m=t("./color-scale-xform"),f=t("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},b=g=>{const{type:w,operator:_}=g;switch(w){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:w};default:return{type:w,operator:_}}};class v extends s{constructor(){super(),this.map={dataBar:this.databarXform=new a,extLst:this.extLstRefXform=new n,formula:this.formulaXform=new u,colorScale:this.colorScaleXform=new m,iconSet:this.iconSetXform=new f}}get tag(){return"cfRule"}static isPrimitive(w){return w.type!=="iconSet"||!w.custom&&!d[w.iconSet]}render(w,_){switch(_.type){case"expression":this.renderExpression(w,_);break;case"cellIs":this.renderCellIs(w,_);break;case"top10":this.renderTop10(w,_);break;case"aboveAverage":this.renderAboveAverage(w,_);break;case"dataBar":this.renderDataBar(w,_);break;case"colorScale":this.renderColorScale(w,_);break;case"iconSet":this.renderIconSet(w,_);break;case"containsText":this.renderText(w,_);break;case"timePeriod":this.renderTimePeriod(w,_)}}renderExpression(w,_){w.openNode(this.tag,{type:"expression",dxfId:_.dxfId,priority:_.priority}),this.formulaXform.render(w,_.formulae[0]),w.closeNode()}renderCellIs(w,_){w.openNode(this.tag,{type:"cellIs",dxfId:_.dxfId,priority:_.priority,operator:_.operator}),_.formulae.forEach(A=>{this.formulaXform.render(w,A)}),w.closeNode()}renderTop10(w,_){w.leafNode(this.tag,{type:"top10",dxfId:_.dxfId,priority:_.priority,percent:o.toBoolAttribute(_.percent,!1),bottom:o.toBoolAttribute(_.bottom,!1),rank:o.toIntValue(_.rank,10,!0)})}renderAboveAverage(w,_){w.leafNode(this.tag,{type:"aboveAverage",dxfId:_.dxfId,priority:_.priority,aboveAverage:o.toBoolAttribute(_.aboveAverage,!0)})}renderDataBar(w,_){w.openNode(this.tag,{type:"dataBar",priority:_.priority}),this.databarXform.render(w,_),this.extLstRefXform.render(w,_),w.closeNode()}renderColorScale(w,_){w.openNode(this.tag,{type:"colorScale",priority:_.priority}),this.colorScaleXform.render(w,_),w.closeNode()}renderIconSet(w,_){v.isPrimitive(_)&&(w.openNode(this.tag,{type:"iconSet",priority:_.priority}),this.iconSetXform.render(w,_),w.closeNode())}renderText(w,_){w.openNode(this.tag,{type:_.operator,dxfId:_.dxfId,priority:_.priority,operator:o.toStringAttribute(_.operator,"containsText")});const A=(M=>{if(M.formulae&&M.formulae[0])return M.formulae[0];const O=new h(M.ref),{tl:q}=O;switch(M.operator){case"containsText":return`NOT(ISERROR(SEARCH("${M.text}",${q})))`;case"containsBlanks":return`LEN(TRIM(${q}))=0`;case"notContainsBlanks":return`LEN(TRIM(${q}))>0`;case"containsErrors":return`ISERROR(${q})`;case"notContainsErrors":return`NOT(ISERROR(${q}))`;default:return}})(_);A&&this.formulaXform.render(w,A),w.closeNode()}renderTimePeriod(w,_){w.openNode(this.tag,{type:"timePeriod",dxfId:_.dxfId,priority:_.priority,timePeriod:_.timePeriod});const A=(M=>{if(M.formulae&&M.formulae[0])return M.formulae[0];const O=new h(M.ref),{tl:q}=O;switch(M.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${q},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${q},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${q},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${q},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${q},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${q},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${q},1)=TODAY()-1`;case"today":return`FLOOR(${q},1)=TODAY()`;case"tomorrow":return`FLOOR(${q},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${q},1)<=6,FLOOR(${q},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${q})=MONTH(EDATE(TODAY(),0-1)),YEAR(${q})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${q})=MONTH(TODAY()),YEAR(${q})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${q})=MONTH(EDATE(TODAY(),0+1)),YEAR(${q})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(_);A&&this.formulaXform.render(w,A),w.closeNode()}createNewModel(w){let{attributes:_}=w;return{...b(_),dxfId:o.toIntValue(_.dxfId),priority:o.toIntValue(_.priority),timePeriod:_.timePeriod,percent:o.toBoolValue(_.percent),bottom:o.toBoolValue(_.bottom),rank:o.toIntValue(_.rank),aboveAverage:o.toBoolValue(_.aboveAverage)}}onParserClose(w,_){switch(w){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,_.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(_.model)}}}i.exports=v},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{get tag(){return"cfvo"}render(s,h){s.leafNode(this.tag,{type:h.type,val:h.value})}parseOpen(s){this.model={type:s.attributes.type,value:o.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(t,i,c){const o=t("../../composite-xform"),s=t("../../style/color-xform"),h=t("./cfvo-xform");i.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new h,color:this.colorXform=new s}}get tag(){return"colorScale"}render(a,n){a.openNode(this.tag),n.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),n.color.forEach(u=>{this.colorXform.render(a,u)}),a.closeNode()}createNewModel(a){return{cfvo:[],color:[]}}onParserClose(a,n){this.model[a].push(n.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,i,c){const o=t("../../composite-xform"),s=t("./cf-rule-xform");i.exports=class extends o{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(h,a){a.rules.some(s.isPrimitive)&&(h.openNode(this.tag,{sqref:a.ref}),a.rules.forEach(n=>{s.isPrimitive(n)&&(n.ref=a.ref,this.map.cfRule.render(h,n))}),h.closeNode())}createNewModel(h){let{attributes:a}=h;return{ref:a.sqref,rules:[]}}onParserClose(h,a){this.model.rules.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,i,c){const o=t("../../base-xform"),s=t("./conditional-formatting-xform");i.exports=class extends o{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(h,a){let n=h.reduce((u,m)=>Math.max(u,...m.rules.map(f=>f.priority||0)),1);h.forEach(u=>{u.rules.forEach(m=>{m.priority||(m.priority=n++),m.style&&(m.dxfId=a.styles.addDxfStyle(m.style))})})}render(h,a){a.forEach(n=>{this.cfXform.render(h,n)})}parseOpen(h){return this.parser?(this.parser.parseOpen(h),!0):h.name==="conditionalFormatting"?(this.parser=this.cfXform,this.parser.parseOpen(h),!0):!1}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(!!this.parser.parseClose(h)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(h,a){h.forEach(n=>{n.rules.forEach(u=>{u.dxfId!==void 0&&(u.style=a.styles.getDxfStyle(u.dxfId),delete u.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,i,c){const o=t("../../composite-xform"),s=t("../../style/color-xform"),h=t("./cfvo-xform");i.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new h,color:this.colorXform=new s}}get tag(){return"dataBar"}render(a,n){a.openNode(this.tag),n.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),this.colorXform.render(a,n.color),a.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(a,n){switch(a){case"cfvo":this.model.cfvo.push(n.model);break;case"color":this.model.color=n.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,i,c){const o=t("../../base-xform"),s=t("../../composite-xform");class h extends o{get tag(){return"x14:id"}render(u,m){u.leafNode(this.tag,null,m)}parseOpen(){this.model=""}parseText(u){this.model+=u}parseClose(u){return u!==this.tag}}class a extends s{constructor(){super(),this.map={"x14:id":this.idXform=new h}}get tag(){return"ext"}render(u,m){u.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(u,m.x14Id),u.closeNode()}createNewModel(){return{}}onParserClose(u,m){this.model.x14Id=m.model}}i.exports=class extends s{constructor(){super(),this.map={ext:new a}}get tag(){return"extLst"}render(n,u){n.openNode(this.tag),this.map.ext.render(n,u),n.closeNode()}createNewModel(){return{}}onParserClose(n,u){Object.assign(this.model,u.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,i,c){const o=t("../../base-xform");i.exports=class extends o{get tag(){return"formula"}render(s,h){s.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(t,i,c){const o=t("../../base-xform"),s=t("../../composite-xform"),h=t("./cfvo-xform");i.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new h}}get tag(){return"iconSet"}render(a,n){a.openNode(this.tag,{iconSet:o.toStringAttribute(n.iconSet,"3TrafficLights"),reverse:o.toBoolAttribute(n.reverse,!1),showValue:o.toBoolAttribute(n.showValue,!0)}),n.cfvo.forEach(u=>{this.cfvoXform.render(a,u)}),a.closeNode()}createNewModel(a){let{attributes:n}=a;return{iconSet:o.toStringValue(n.iconSet,"3TrafficLights"),reverse:o.toBoolValue(n.reverse),showValue:o.toBoolValue(n.showValue),cfvo:[]}}onParserClose(a,n){this.model[a].push(n.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,i,c){const o=t("../../../utils/utils"),s=t("../base-xform");i.exports=class extends s{get tag(){return"col"}prepare(h,a){const n=a.styles.addStyleModel(h.style||{});n&&(h.styleId=n)}render(h,a){h.openNode("col"),h.addAttribute("min",a.min),h.addAttribute("max",a.max),a.width&&h.addAttribute("width",a.width),a.styleId&&h.addAttribute("style",a.styleId),a.hidden&&h.addAttribute("hidden","1"),a.bestFit&&h.addAttribute("bestFit","1"),a.outlineLevel&&h.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&h.addAttribute("collapsed","1"),h.addAttribute("customWidth","1"),h.closeNode()}parseOpen(h){if(h.name==="col"){const a=this.model={min:parseInt(h.attributes.min||"0",10),max:parseInt(h.attributes.max||"0",10),width:h.attributes.width===void 0?void 0:parseFloat(h.attributes.width||"0")};return h.attributes.style&&(a.styleId=parseInt(h.attributes.style,10)),o.parseBoolean(h.attributes.hidden)&&(a.hidden=!0),o.parseBoolean(h.attributes.bestFit)&&(a.bestFit=!0),h.attributes.outlineLevel&&(a.outlineLevel=parseInt(h.attributes.outlineLevel,10)),o.parseBoolean(h.attributes.collapsed)&&(a.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(h,a){h.styleId&&(h.style=a.styles.getStyleModel(h.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../../../utils/utils"),h=t("../../../utils/col-cache"),a=t("../base-xform"),n=t("../../../doc/range");function u(f,d,b,v){const g=d[b];g!==void 0?f[b]=g:v!==void 0&&(f[b]=v)}function m(f,d,b,v){const g=d[b];g!==void 0&&(f[b]=s.parseBoolean(g))}i.exports=class extends a{get tag(){return"dataValidations"}render(f,d){const b=(function(v){const g=o.map(v,(A,M)=>({address:M,dataValidation:A,marked:!1})).sort((A,M)=>o.strcmp(A.address,M.address)),w=o.keyBy(g,"address"),_=(A,M,O)=>{for(let q=0;q<M;q++){const F=h.encodeAddress(A.row+q,O);if(!v[F]||!o.isEqual(v[A.address],v[F]))return!1}return!0};return g.map(A=>{if(!A.marked){const M=h.decodeEx(A.address);if(M.dimensions)return w[M.dimensions].marked=!0,{...A.dataValidation,sqref:A.address};let O=1,q=h.encodeAddress(M.row+O,M.col);for(;v[q]&&o.isEqual(A.dataValidation,v[q]);)O++,q=h.encodeAddress(M.row+O,M.col);let F=1;for(;_(M,O,M.col+F);)F++;for(let j=0;j<O;j++)for(let V=0;V<F;V++)q=h.encodeAddress(M.row+j,M.col+V),w[q].marked=!0;if(O>1||F>1){const j=M.row+(O-1),V=M.col+(F-1);return{...A.dataValidation,sqref:`${A.address}:${h.encodeAddress(j,V)}`}}return{...A.dataValidation,sqref:A.address}}return null}).filter(Boolean)})(d);b.length&&(f.openNode("dataValidations",{count:b.length}),b.forEach(v=>{f.openNode("dataValidation"),v.type!=="any"&&(f.addAttribute("type",v.type),v.operator&&v.type!=="list"&&v.operator!=="between"&&f.addAttribute("operator",v.operator),v.allowBlank&&f.addAttribute("allowBlank","1")),v.showInputMessage&&f.addAttribute("showInputMessage","1"),v.promptTitle&&f.addAttribute("promptTitle",v.promptTitle),v.prompt&&f.addAttribute("prompt",v.prompt),v.showErrorMessage&&f.addAttribute("showErrorMessage","1"),v.errorStyle&&f.addAttribute("errorStyle",v.errorStyle),v.errorTitle&&f.addAttribute("errorTitle",v.errorTitle),v.error&&f.addAttribute("error",v.error),f.addAttribute("sqref",v.sqref),(v.formulae||[]).forEach((g,w)=>{f.openNode("formula"+(w+1)),v.type==="date"?f.writeText(s.dateToExcel(new Date(g))):f.writeText(g),f.closeNode()}),f.closeNode()}),f.closeNode())}parseOpen(f){switch(f.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=f.attributes.sqref;const d={type:f.attributes.type||"any",formulae:[]};switch(f.attributes.type&&m(d,f.attributes,"allowBlank"),m(d,f.attributes,"showInputMessage"),m(d,f.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:u(d,f.attributes,"operator","between")}return u(d,f.attributes,"promptTitle"),u(d,f.attributes,"prompt"),u(d,f.attributes,"errorStyle"),u(d,f.attributes,"errorTitle"),u(d,f.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(f){this._formula&&this._formula.push(f)}parseClose(f){switch(f){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new n(d).forEachAddress(b=>{this.model[b]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=s.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"dimension"}render(s,h){h&&s.leafNode("dimension",{ref:h})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"drawing"}render(s,h){h&&s.leafNode(this.tag,{"r:id":h.rId})}parseOpen(s){return s.name===this.tag?(this.model={rId:s.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,i,c){const o=t("../composite-xform"),s=t("./cf-ext/conditional-formattings-ext-xform");class h extends o{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(n){return this.conditionalFormattings.hasContent(n.conditionalFormattings)}prepare(n,u){this.conditionalFormattings.prepare(n.conditionalFormattings,u)}render(n,u){n.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(n,u.conditionalFormattings),n.closeNode()}createNewModel(){return{}}onParserClose(n,u){this.model[n]=u.model}}i.exports=class extends o{constructor(){super(),this.map={ext:this.ext=new h}}get tag(){return"extLst"}prepare(a,n){this.ext.prepare(a,n)}hasContent(a){return this.ext.hasContent(a)}render(a,n){this.hasContent(n)&&(a.openNode("extLst"),this.ext.render(a,n),a.closeNode())}createNewModel(){return{}}onParserClose(a,n){Object.assign(this.model,n.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"headerFooter"}render(s,h){if(h){s.addRollback();let a=!1;s.openNode("headerFooter"),h.differentFirst&&(s.addAttribute("differentFirst","1"),a=!0),h.differentOddEven&&(s.addAttribute("differentOddEven","1"),a=!0),h.oddHeader&&typeof h.oddHeader=="string"&&(s.leafNode("oddHeader",null,h.oddHeader),a=!0),h.oddFooter&&typeof h.oddFooter=="string"&&(s.leafNode("oddFooter",null,h.oddFooter),a=!0),h.evenHeader&&typeof h.evenHeader=="string"&&(s.leafNode("evenHeader",null,h.evenHeader),a=!0),h.evenFooter&&typeof h.evenFooter=="string"&&(s.leafNode("evenFooter",null,h.evenFooter),a=!0),h.firstHeader&&typeof h.firstHeader=="string"&&(s.leafNode("firstHeader",null,h.firstHeader),a=!0),h.firstFooter&&typeof h.firstFooter=="string"&&(s.leafNode("firstFooter",null,h.firstFooter),a=!0),a?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"hyperlink"}render(s,h){this.isInternalLink(h)?s.leafNode("hyperlink",{ref:h.address,"r:id":h.rId,tooltip:h.tooltip,location:h.target}):s.leafNode("hyperlink",{ref:h.address,"r:id":h.rId,tooltip:h.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"mergeCell"}render(s,h){s.leafNode("mergeCell",{ref:h})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../../../doc/range"),h=t("../../../utils/col-cache"),a=t("../../../doc/enums");i.exports=class{constructor(){this.merges={}}add(n){if(this.merges[n.master])this.merges[n.master].expandToAddress(n.address);else{const u=`${n.master}:${n.address}`;this.merges[n.master]=new s(u)}}get mergeCells(){return o.map(this.merges,n=>n.range)}reconcile(n,u){o.each(n,m=>{const f=h.decode(m);for(let d=f.top;d<=f.bottom;d++){const b=u[d-1];for(let v=f.left;v<=f.right;v++){const g=b.cells[v-1];g?g.type===a.ValueType.Merge&&(g.master=f.tl):b.cells[v]={type:a.ValueType.Null,address:h.encodeAddress(d,v)}}}})}getMasterAddress(n){const u=this.hash[n];return u&&u.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,i,c){const o=t("../base-xform"),s=h=>h!==void 0;i.exports=class extends o{get tag(){return"outlinePr"}render(h,a){return!(!a||!s(a.summaryBelow)&&!s(a.summaryRight))&&(h.leafNode(this.tag,{summaryBelow:s(a.summaryBelow)?Number(a.summaryBelow):void 0,summaryRight:s(a.summaryRight)?Number(a.summaryRight):void 0}),!0)}parseOpen(h){return h.name===this.tag&&(this.model={summaryBelow:s(h.attributes.summaryBelow)?!!Number(h.attributes.summaryBelow):void 0,summaryRight:s(h.attributes.summaryRight)?!!Number(h.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"brk"}render(s,h){s.leafNode("brk",h)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../base-xform");i.exports=class extends s{get tag(){return"pageMargins"}render(h,a){if(a){const n={left:a.left,right:a.right,top:a.top,bottom:a.bottom,header:a.header,footer:a.footer};o.some(n,u=>u!==void 0)&&h.leafNode(this.tag,n)}}parseOpen(h){return h.name===this.tag?(this.model={left:parseFloat(h.attributes.left||.7),right:parseFloat(h.attributes.right||.7),top:parseFloat(h.attributes.top||.75),bottom:parseFloat(h.attributes.bottom||.75),header:parseFloat(h.attributes.header||.3),footer:parseFloat(h.attributes.footer||.3)},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"pageSetUpPr"}render(s,h){return!(!h||!h.fitToPage)&&(s.leafNode(this.tag,{fitToPage:h.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../base-xform");function h(m){return m?"1":void 0}function a(m){if(m==="overThenDown")return m}function n(m){switch(m){case"atEnd":case"asDisplyed":return m;default:return}}function u(m){switch(m){case"dash":case"blank":case"NA":return m;default:return}}i.exports=class extends s{get tag(){return"pageSetup"}render(m,f){if(f){const d={paperSize:f.paperSize,orientation:f.orientation,horizontalDpi:f.horizontalDpi,verticalDpi:f.verticalDpi,pageOrder:a(f.pageOrder),blackAndWhite:h(f.blackAndWhite),draft:h(f.draft),cellComments:n(f.cellComments),errors:u(f.errors),scale:f.scale,fitToWidth:f.fitToWidth,fitToHeight:f.fitToHeight,firstPageNumber:f.firstPageNumber,useFirstPageNumber:h(f.firstPageNumber),usePrinterDefaults:h(f.usePrinterDefaults),copies:f.copies};o.some(d,b=>b!==void 0)&&m.leafNode(this.tag,d)}}parseOpen(m){if(m.name===this.tag)return this.model={paperSize:(f=m.attributes.paperSize,f!==void 0?parseInt(f,10):void 0),orientation:m.attributes.orientation||"portrait",horizontalDpi:parseInt(m.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(m.attributes.verticalDpi||"4294967295",10),pageOrder:m.attributes.pageOrder||"downThenOver",blackAndWhite:m.attributes.blackAndWhite==="1",draft:m.attributes.draft==="1",cellComments:m.attributes.cellComments||"None",errors:m.attributes.errors||"displayed",scale:parseInt(m.attributes.scale||"100",10),fitToWidth:parseInt(m.attributes.fitToWidth||"1",10),fitToHeight:parseInt(m.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(m.attributes.firstPageNumber||"1",10),useFirstPageNumber:m.attributes.useFirstPageNumber==="1",usePrinterDefaults:m.attributes.usePrinterDefaults==="1",copies:parseInt(m.attributes.copies||"1",10)},!0;return!1;var f}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"picture"}render(s,h){h&&s.leafNode(this.tag,{"r:id":h.rId})}parseOpen(s){return s.name===this.tag?(this.model={rId:s.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../base-xform");function h(a){return a?"1":void 0}i.exports=class extends s{get tag(){return"printOptions"}render(a,n){if(n){const u={headings:h(n.showRowColHeaders),gridLines:h(n.showGridLines),horizontalCentered:h(n.horizontalCentered),verticalCentered:h(n.verticalCentered)};o.some(u,m=>m!==void 0)&&a.leafNode(this.tag,u)}}parseOpen(a){return a.name===this.tag?(this.model={showRowColHeaders:a.attributes.headings==="1",showGridLines:a.attributes.gridLines==="1",horizontalCentered:a.attributes.horizontalCentered==="1",verticalCentered:a.attributes.verticalCentered==="1"},!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,i,c){const o=t("./page-breaks-xform"),s=t("../list-xform");i.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new o})}render(h,a){if(a&&a.length){h.openNode(this.tag,this.$),this.count&&(h.addAttribute(this.$count,a.length),h.addAttribute("manualBreakCount",a.length));const{childXform:n}=this;a.forEach(u=>{n.render(h,u)}),h.closeNode()}else this.empty&&h.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,i,c){const o=t("../base-xform"),s=t("../../../utils/utils"),h=t("./cell-xform");i.exports=class extends o{constructor(a){super(),this.maxItems=a&&a.maxItems,this.map={c:new h}}get tag(){return"row"}prepare(a,n){const u=n.styles.addStyleModel(a.style);u&&(a.styleId=u);const m=this.map.c;a.cells.forEach(f=>{m.prepare(f,n)})}render(a,n,u){a.openNode("row"),a.addAttribute("r",n.number),n.height&&(a.addAttribute("ht",n.height),a.addAttribute("customHeight","1")),n.hidden&&a.addAttribute("hidden","1"),n.min>0&&n.max>0&&n.min<=n.max&&a.addAttribute("spans",`${n.min}:${n.max}`),n.styleId&&(a.addAttribute("s",n.styleId),a.addAttribute("customFormat","1")),a.addAttribute("x14ac:dyDescent","0.25"),n.outlineLevel&&a.addAttribute("outlineLevel",n.outlineLevel),n.collapsed&&a.addAttribute("collapsed","1");const m=this.map.c;n.cells.forEach(f=>{m.render(a,f,u)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;if(a.name==="row"){this.numRowsSeen+=1;const n=a.attributes.spans?a.attributes.spans.split(":").map(m=>parseInt(m,10)):[void 0,void 0],u=this.model={number:parseInt(a.attributes.r,10),min:n[0],max:n[1],cells:[]};return a.attributes.s&&(u.styleId=parseInt(a.attributes.s,10)),s.parseBoolean(a.attributes.hidden)&&(u.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(u.bestFit=!0),a.attributes.ht&&(u.height=parseFloat(a.attributes.ht)),a.attributes.outlineLevel&&(u.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(u.collapsed=!0),!0}return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(a,n){a.style=a.styleId?n.styles.getStyleModel(a.styleId):{},a.styleId!==void 0&&(a.styleId=void 0);const u=this.map.c;a.cells.forEach(m=>{u.reconcile(m,n)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../base-xform");i.exports=class extends s{get tag(){return"sheetFormatPr"}render(h,a){if(a){const n={defaultRowHeight:a.defaultRowHeight,outlineLevelRow:a.outlineLevelRow,outlineLevelCol:a.outlineLevelCol,"x14ac:dyDescent":a.dyDescent};a.defaultColWidth&&(n.defaultColWidth=a.defaultColWidth),a.defaultRowHeight&&a.defaultRowHeight===15||(n.customHeight="1"),o.some(n,u=>u!==void 0)&&h.leafNode("sheetFormatPr",n)}}parseOpen(h){return h.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(h.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(h.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(h.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(h.attributes.outlineLevelCol||"0",10)},h.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(h.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,i,c){const o=t("../base-xform"),s=t("../style/color-xform"),h=t("./page-setup-properties-xform"),a=t("./outline-properties-xform");i.exports=class extends o{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new h,outlinePr:new a}}get tag(){return"sheetPr"}render(n,u){if(u){n.addRollback(),n.openNode("sheetPr");let m=!1;m=this.map.tabColor.render(n,u.tabColor)||m,m=this.map.pageSetUpPr.render(n,u.pageSetup)||m,m=this.map.outlinePr.render(n,u.outlineProperties)||m,m?(n.closeNode(),n.commit()):n.rollback()}}parseOpen(n){return this.parser?(this.parser.parseOpen(n),!0):n.name===this.tag?(this.reset(),!0):!!this.map[n.name]&&(this.parser=this.map[n.name],this.parser.parseOpen(n),!0)}parseText(n){return!!this.parser&&(this.parser.parseText(n),!0)}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../base-xform");function h(n,u){return n?u:void 0}function a(n,u){return n===u||void 0}i.exports=class extends s{get tag(){return"sheetProtection"}render(n,u){if(u){const m={sheet:h(u.sheet,"1"),selectLockedCells:u.selectLockedCells===!1?"1":void 0,selectUnlockedCells:u.selectUnlockedCells===!1?"1":void 0,formatCells:h(u.formatCells,"0"),formatColumns:h(u.formatColumns,"0"),formatRows:h(u.formatRows,"0"),insertColumns:h(u.insertColumns,"0"),insertRows:h(u.insertRows,"0"),insertHyperlinks:h(u.insertHyperlinks,"0"),deleteColumns:h(u.deleteColumns,"0"),deleteRows:h(u.deleteRows,"0"),sort:h(u.sort,"0"),autoFilter:h(u.autoFilter,"0"),pivotTables:h(u.pivotTables,"0")};u.sheet&&(m.algorithmName=u.algorithmName,m.hashValue=u.hashValue,m.saltValue=u.saltValue,m.spinCount=u.spinCount,m.objects=h(u.objects===!1,"1"),m.scenarios=h(u.scenarios===!1,"1")),o.some(m,f=>f!==void 0)&&n.leafNode(this.tag,m)}}parseOpen(n){return n.name===this.tag?(this.model={sheet:a(n.attributes.sheet,"1"),objects:n.attributes.objects!=="1"&&void 0,scenarios:n.attributes.scenarios!=="1"&&void 0,selectLockedCells:n.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:n.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:a(n.attributes.formatCells,"0"),formatColumns:a(n.attributes.formatColumns,"0"),formatRows:a(n.attributes.formatRows,"0"),insertColumns:a(n.attributes.insertColumns,"0"),insertRows:a(n.attributes.insertRows,"0"),insertHyperlinks:a(n.attributes.insertHyperlinks,"0"),deleteColumns:a(n.attributes.deleteColumns,"0"),deleteRows:a(n.attributes.deleteRows,"0"),sort:a(n.attributes.sort,"0"),autoFilter:a(n.attributes.autoFilter,"0"),pivotTables:a(n.attributes.pivotTables,"0")},n.attributes.algorithmName&&(this.model.algorithmName=n.attributes.algorithmName,this.model.hashValue=n.attributes.hashValue,this.model.saltValue=n.attributes.saltValue,this.model.spinCount=parseInt(n.attributes.spinCount,10)),!0):!1}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,i,c){const o=t("../../../utils/col-cache"),s=t("../base-xform"),h={frozen:"frozen",frozenSplit:"frozen",split:"split"};i.exports=class extends s{get tag(){return"sheetView"}prepare(a){switch(a.state){case"frozen":case"split":break;default:a.state="normal"}}render(a,n){a.openNode("sheetView",{workbookViewId:n.workbookViewId||0});const u=function(v,g,w){w&&a.addAttribute(v,g)};let m,f,d,b;switch(u("rightToLeft","1",n.rightToLeft===!0),u("tabSelected","1",n.tabSelected),u("showRuler","0",n.showRuler===!1),u("showRowColHeaders","0",n.showRowColHeaders===!1),u("showGridLines","0",n.showGridLines===!1),u("zoomScale",n.zoomScale,n.zoomScale),u("zoomScaleNormal",n.zoomScaleNormal,n.zoomScaleNormal),u("view",n.style,n.style),n.state){case"frozen":f=n.xSplit||0,d=n.ySplit||0,m=n.topLeftCell||o.getAddress(d+1,f+1).address,b=(n.xSplit&&n.ySplit?"bottomRight":n.xSplit&&"topRight")||"bottomLeft",a.leafNode("pane",{xSplit:n.xSplit||void 0,ySplit:n.ySplit||void 0,topLeftCell:m,activePane:b,state:"frozen"}),a.leafNode("selection",{pane:b,activeCell:n.activeCell,sqref:n.activeCell});break;case"split":n.activePane==="topLeft"&&(n.activePane=void 0),a.leafNode("pane",{xSplit:n.xSplit||void 0,ySplit:n.ySplit||void 0,topLeftCell:n.topLeftCell,activePane:n.activePane}),a.leafNode("selection",{pane:n.activePane,activeCell:n.activeCell,sqref:n.activeCell});break;case"normal":n.activeCell&&a.leafNode("selection",{activeCell:n.activeCell,sqref:n.activeCell})}a.closeNode()}parseOpen(a){switch(a.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(a.attributes.workbookViewId,10),rightToLeft:a.attributes.rightToLeft==="1",tabSelected:a.attributes.tabSelected==="1",showRuler:a.attributes.showRuler!=="0",showRowColHeaders:a.attributes.showRowColHeaders!=="0",showGridLines:a.attributes.showGridLines!=="0",zoomScale:parseInt(a.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(a.attributes.zoomScaleNormal||"100",10),style:a.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(a.attributes.xSplit||"0",10),ySplit:parseInt(a.attributes.ySplit||"0",10),topLeftCell:a.attributes.topLeftCell,activePane:a.attributes.activePane||"topLeft",state:a.attributes.state},!0;case"selection":{const n=a.attributes.pane||"topLeft";return this.selections[n]={pane:n,activeCell:a.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(a){let n,u;return a==="sheetView"?(this.sheetView&&this.pane?(n=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:h[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(n.activePane=this.pane.activePane),u=this.selections[this.pane.activePane],u&&u.activeCell&&(n.activeCell=u.activeCell),this.sheetView.style&&(n.style=this.sheetView.style)):(n=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},u=this.selections.topLeft,u&&u.activeCell&&(n.activeCell=u.activeCell),this.sheetView.style&&(n.style=this.sheetView.style)),!1):!0}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"tablePart"}render(s,h){h&&s.leafNode(this.tag,{"r:id":h.rId})}parseOpen(s){return s.name===this.tag?(this.model={rId:s.attributes["r:id"]},!0):!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../../../utils/col-cache"),h=t("../../../utils/xml-stream"),a=t("../../rel-type"),n=t("./merges"),u=t("../base-xform"),m=t("../list-xform"),f=t("./row-xform"),d=t("./col-xform"),b=t("./dimension-xform"),v=t("./hyperlink-xform"),g=t("./merge-cell-xform"),w=t("./data-validations-xform"),_=t("./sheet-properties-xform"),A=t("./sheet-format-properties-xform"),M=t("./sheet-view-xform"),O=t("./sheet-protection-xform"),q=t("./page-margins-xform"),F=t("./page-setup-xform"),j=t("./print-options-xform"),V=t("./auto-filter-xform"),G=t("./picture-xform"),X=t("./drawing-xform"),H=t("./table-part-xform"),R=t("./row-breaks-xform"),P=t("./header-footer-xform"),k=t("./cf/conditional-formattings-xform"),x=t("./ext-lst-xform"),S=(E,N)=>{if(!N||!N.length)return E;if(!E||!E.length)return N;const I={},B={};return E.forEach(K=>{I[K.ref]=K,K.rules.forEach(Z=>{const{x14Id:nt}=Z;nt&&(B[nt]=Z)})}),N.forEach(K=>{K.rules.forEach(Z=>{const nt=B[Z.x14Id];nt?(($,tt)=>{Object.keys(tt).forEach(U=>{const L=$[U],Q=tt[U];L===void 0&&Q!==void 0&&($[U]=Q)})})(nt,Z):I[K.ref]?I[K.ref].rules.push(Z):E.push({ref:K.ref,rules:[Z]})})}),E};class T extends u{constructor(N){super();const{maxRows:I,maxCols:B,ignoreNodes:K}=N||{};this.ignoreNodes=K||[],this.map={sheetPr:new _,dimension:new b,sheetViews:new m({tag:"sheetViews",count:!1,childXform:new M}),sheetFormatPr:new A,cols:new m({tag:"cols",count:!1,childXform:new d}),sheetData:new m({tag:"sheetData",count:!1,empty:!0,childXform:new f({maxItems:B}),maxItems:I}),autoFilter:new V,mergeCells:new m({tag:"mergeCells",count:!0,childXform:new g}),rowBreaks:new R,hyperlinks:new m({tag:"hyperlinks",count:!1,childXform:new v}),pageMargins:new q,dataValidations:new w,pageSetup:new F,headerFooter:new P,printOptions:new j,picture:new G,drawing:new X,sheetProtection:new O,tableParts:new m({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new k,extLst:new x}}prepare(N,I){I.merges=new n,N.hyperlinks=I.hyperlinks=[],N.comments=I.comments=[],I.formulae={},I.siFormulae=0,this.map.cols.prepare(N.cols,I),this.map.sheetData.prepare(N.rows,I),this.map.conditionalFormatting.prepare(N.conditionalFormattings,I),N.mergeCells=I.merges.mergeCells;const B=N.rels=[];function K($){return"rId"+($.length+1)}if(N.hyperlinks.forEach($=>{const tt=K(B);$.rId=tt,B.push({Id:tt,Type:a.Hyperlink,Target:$.target,TargetMode:"External"})}),N.comments.length>0){const $={Id:K(B),Type:a.Comments,Target:`../comments${N.id}.xml`};B.push($);const tt={Id:K(B),Type:a.VmlDrawing,Target:`../drawings/vmlDrawing${N.id}.vml`};B.push(tt),N.comments.forEach(U=>{U.refAddress=s.decodeAddress(U.ref)}),I.commentRefs.push({commentName:"comments"+N.id,vmlDrawing:"vmlDrawing"+N.id})}const Z=[];let nt;N.media.forEach($=>{if($.type==="background"){const tt=K(B);nt=I.media[$.imageId],B.push({Id:tt,Type:a.Image,Target:`../media/${nt.name}.${nt.extension}`}),N.background={rId:tt},N.image=I.media[$.imageId]}else if($.type==="image"){let{drawing:tt}=N;nt=I.media[$.imageId],tt||(tt=N.drawing={rId:K(B),name:"drawing"+ ++I.drawingsCount,anchors:[],rels:[]},I.drawings.push(tt),B.push({Id:tt.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${tt.name}.xml`}));let U=this.preImageId===$.imageId?Z[$.imageId]:Z[tt.rels.length];U||(U=K(tt.rels),Z[tt.rels.length]=U,tt.rels.push({Id:U,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${nt.name}.${nt.extension}`}));const L={picture:{rId:U},range:$.range};if($.hyperlinks&&$.hyperlinks.hyperlink){const Q=K(tt.rels);Z[tt.rels.length]=Q,L.picture.hyperlinks={tooltip:$.hyperlinks.tooltip,rId:Q},tt.rels.push({Id:Q,Type:a.Hyperlink,Target:$.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=$.imageId,tt.anchors.push(L)}}),N.tables.forEach($=>{const tt=K(B);$.rId=tt,B.push({Id:tt,Type:a.Table,Target:"../tables/"+$.target}),$.columns.forEach(U=>{const{style:L}=U;L&&(U.dxfId=I.styles.addDxfStyle(L))})}),this.map.extLst.prepare(N,I)}render(N,I){N.openXml(h.StdDocAttributes),N.openNode("worksheet",T.WORKSHEET_ATTRIBUTES);const B=I.properties?{defaultRowHeight:I.properties.defaultRowHeight,dyDescent:I.properties.dyDescent,outlineLevelCol:I.properties.outlineLevelCol,outlineLevelRow:I.properties.outlineLevelRow}:void 0;I.properties&&I.properties.defaultColWidth&&(B.defaultColWidth=I.properties.defaultColWidth);const K={outlineProperties:I.properties&&I.properties.outlineProperties,tabColor:I.properties&&I.properties.tabColor,pageSetup:I.pageSetup&&I.pageSetup.fitToPage?{fitToPage:I.pageSetup.fitToPage}:void 0},Z=I.pageSetup&&I.pageSetup.margins,nt={showRowColHeaders:I.pageSetup&&I.pageSetup.showRowColHeaders,showGridLines:I.pageSetup&&I.pageSetup.showGridLines,horizontalCentered:I.pageSetup&&I.pageSetup.horizontalCentered,verticalCentered:I.pageSetup&&I.pageSetup.verticalCentered},$=I.sheetProtection;this.map.sheetPr.render(N,K),this.map.dimension.render(N,I.dimensions),this.map.sheetViews.render(N,I.views),this.map.sheetFormatPr.render(N,B),this.map.cols.render(N,I.cols),this.map.sheetData.render(N,I.rows),this.map.sheetProtection.render(N,$),this.map.autoFilter.render(N,I.autoFilter),this.map.mergeCells.render(N,I.mergeCells),this.map.conditionalFormatting.render(N,I.conditionalFormattings),this.map.dataValidations.render(N,I.dataValidations),this.map.hyperlinks.render(N,I.hyperlinks),this.map.printOptions.render(N,nt),this.map.pageMargins.render(N,Z),this.map.pageSetup.render(N,I.pageSetup),this.map.headerFooter.render(N,I.headerFooter),this.map.rowBreaks.render(N,I.rowBreaks),this.map.drawing.render(N,I.drawing),this.map.picture.render(N,I.background),this.map.tableParts.render(N,I.tables),this.map.extLst.render(N,I),I.rels&&I.rels.forEach(tt=>{tt.Type===a.VmlDrawing&&N.leafNode("legacyDrawing",{"r:id":tt.Id})}),N.closeNode()}parseOpen(N){return this.parser?(this.parser.parseOpen(N),!0):N.name==="worksheet"?(o.each(this.map,I=>{I.reset()}),!0):(this.map[N.name]&&!this.ignoreNodes.includes(N.name)&&(this.parser=this.map[N.name],this.parser.parseOpen(N)),!0)}parseText(N){this.parser&&this.parser.parseText(N)}parseClose(N){if(this.parser)return this.parser.parseClose(N)||(this.parser=void 0),!0;if(N==="worksheet"){const I=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(I.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(I.outlineProperties=this.map.sheetPr.model.outlineProperties);const B={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},K=Object.assign(B,this.map.pageSetup.model,this.map.printOptions.model),Z=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:I,views:this.map.sheetViews.model,pageSetup:K,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:Z},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}else return!0}reconcile(N,I){const B=(N.relationships||[]).reduce((Z,nt)=>{if(Z[nt.Id]=nt,nt.Type===a.Comments&&(N.comments=I.comments[nt.Target].comments),nt.Type===a.VmlDrawing&&N.comments&&N.comments.length){const $=I.vmlDrawings[nt.Target].comments;N.comments.forEach((tt,U)=>{tt.note=Object.assign({},tt.note,$[U])})}return Z},{});if(I.commentsMap=(N.comments||[]).reduce((Z,nt)=>(nt.ref&&(Z[nt.ref]=nt),Z),{}),I.hyperlinkMap=(N.hyperlinks||[]).reduce((Z,nt)=>(nt.rId&&(Z[nt.address]=B[nt.rId].Target),Z),{}),I.formulae={},N.rows=N.rows&&N.rows.filter(Boolean)||[],N.rows.forEach(Z=>{Z.cells=Z.cells&&Z.cells.filter(Boolean)||[]}),this.map.cols.reconcile(N.cols,I),this.map.sheetData.reconcile(N.rows,I),this.map.conditionalFormatting.reconcile(N.conditionalFormattings,I),N.media=[],N.drawing){const Z=B[N.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(Z){const nt=Z[1];I.drawings[nt].anchors.forEach($=>{if($.medium){const tt={type:"image",imageId:$.medium.index,range:$.range,hyperlinks:$.picture.hyperlinks};N.media.push(tt)}})}}const K=N.background&&B[N.background.rId];if(K){const Z=K.Target.split("/media/")[1],nt=I.mediaIndex&&I.mediaIndex[Z];nt!==void 0&&N.media.push({type:"background",imageId:nt})}N.tables=(N.tables||[]).map(Z=>{const nt=B[Z.rId];return I.tables[nt.Target]}),delete N.relationships,delete N.hyperlinks,delete N.comments}}T.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},i.exports=T},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,h){h&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(h){try{return Number.isNaN(h.getTime())?"":h.toISOString()}catch{return""}},this._parse=s.parse||function(h){return new Date(h)}}render(s,h){h&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(h)):s.writeText(this._format(h)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,h){(h||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,h):s.writeText(h),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,h){h!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,h):s.writeText(h),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,i,c){const o=t("./base-xform"),s=t("../../utils/xml-stream");i.exports=class extends o{constructor(h){super(),this._model=h}render(h){if(!this._xml){const a=new s;(function n(u,m){u.openNode(m.tag,m.$),m.c&&m.c.forEach(f=>{n(u,f)}),m.t&&u.writeText(m.t),u.closeNode()})(a,this._model),this._xml=a.xml}h.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(h){return h!==this._model.tag}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,i,c){const o=t("./text-xform"),s=t("./rich-text-xform"),h=t("../base-xform");i.exports=class extends h{constructor(){super(),this.map={r:new s,t:new o}}get tag(){return"rPh"}render(a,n){if(a.openNode(this.tag,{sb:n.sb||0,eb:n.eb||0}),n&&n.hasOwnProperty("richText")&&n.richText){const{r:u}=this.map;n.richText.forEach(m=>{u.render(a,m)})}else n&&this.map.t.render(a,n.text);a.closeNode()}parseOpen(a){const{name:n}=a;return this.parser?(this.parser.parseOpen(a),!0):n===this.tag?(this.model={sb:parseInt(a.attributes.sb,10),eb:parseInt(a.attributes.eb,10)},!0):(this.parser=this.map[n],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let n=this.model.richText;n||(n=this.model.richText=[]),n.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}return a!==this.tag}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,i,c){const o=t("./text-xform"),s=t("../style/font-xform"),h=t("../base-xform");class a extends h{constructor(u){super(),this.model=u}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new o)}get fontXform(){return this._fontXform||(this._fontXform=new s(a.FONT_OPTIONS))}render(u,m){m=m||this.model,u.openNode("r"),m.font&&this.fontXform.render(u,m.font),this.textXform.render(u,m.text),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(u),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){switch(u){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(u),!0}}}a.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},i.exports=a},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,i,c){const o=t("./text-xform"),s=t("./rich-text-xform"),h=t("./phonetic-text-xform"),a=t("../base-xform");i.exports=class extends a{constructor(n){super(),this.model=n,this.map={r:new s,t:new o,rPh:new h}}get tag(){return"si"}render(n,u){n.openNode(this.tag),u&&u.hasOwnProperty("richText")&&u.richText?u.richText.length?u.richText.forEach(m=>{this.map.r.render(n,m)}):this.map.t.render(n,""):u!=null&&this.map.t.render(n,u),n.closeNode()}parseOpen(n){const{name:u}=n;return this.parser?(this.parser.parseOpen(n),!0):u===this.tag?(this.model={},!0):(this.parser=this.map[u],!!this.parser&&(this.parser.parseOpen(n),!0))}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser){if(!this.parser.parseClose(n)){switch(n){case"r":{let u=this.model.richText;u||(u=this.model.richText=[]),u.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}return n!==this.tag}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("./shared-string-xform");i.exports=class extends s{constructor(a){super(),this.model=a||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new h)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(a){return this.model.values[a]}add(a){return a.richText?this.addRichText(a):this.addText(a)}addText(a){let n=this.hash[a];return n===void 0&&(n=this.hash[a]=this.model.values.length,this.model.values.push(a)),this.model.count++,n}addRichText(a){const n=this.sharedStringXform.toXml(a);let u=this.rich[n];return u===void 0&&(u=this.rich[n]=this.model.values.length,this.model.values.push(a)),this.model.count++,u}render(a,n){n=n||this._values,a.openXml(o.StdDocAttributes),a.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:n.count,uniqueCount:n.values.length});const u=this.sharedStringXform;n.values.forEach(m=>{u.render(a,m)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(a),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;if(a==="sst")return!1;throw new Error("Unexpected xml node in parseClose: "+a)}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"t"}render(s,h){s.openNode("t"),/^\s|\n|\s$/.test(h)&&s.addAttribute("xml:space","preserve"),s.writeText(h),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,h)=>String.fromCharCode(parseInt(h,16)))}parseOpen(s){return s.name==="t"?(this._text=[],!0):!1}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,i,c){const o=t("../../../doc/enums"),s=t("../../../utils/utils"),h=t("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((u,m)=>(u[m]=!0,u),{}),horizontal(u){return this.horizontalValues[u]?u:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((u,m)=>(u[m]=!0,u),{}),vertical(u){return u==="middle"?"center":this.verticalValues[u]?u:void 0},wrapText:u=>!!u||void 0,shrinkToFit:u=>!!u||void 0,textRotation(u){return u==="vertical"||(u=s.validInt(u))>=-90&&u<=90?u:void 0},indent:u=>(u=s.validInt(u),Math.max(0,u)),readingOrder(u){switch(u){case"ltr":return o.ReadingOrder.LeftToRight;case"rtl":return o.ReadingOrder.RightToLeft;default:return}}},n={toXml(u){if(u=a.textRotation(u)){if(u==="vertical")return 255;const m=Math.round(u);if(m>=0&&m<=90)return m;if(m<0&&m>=-90)return 90-m}},toModel(u){const m=s.validInt(u);if(m!==void 0){if(m===255)return"vertical";if(m>=0&&m<=90)return m;if(m>90&&m<=180)return 90-m}}};i.exports=class extends h{get tag(){return"alignment"}render(u,m){u.addRollback(),u.openNode("alignment");let f=!1;function d(b,v){v&&(u.addAttribute(b,v),f=!0)}d("horizontal",a.horizontal(m.horizontal)),d("vertical",a.vertical(m.vertical)),d("wrapText",!!a.wrapText(m.wrapText)&&"1"),d("shrinkToFit",!!a.shrinkToFit(m.shrinkToFit)&&"1"),d("indent",a.indent(m.indent)),d("textRotation",n.toXml(m.textRotation)),d("readingOrder",a.readingOrder(m.readingOrder)),u.closeNode(),f?u.commit():u.rollback()}parseOpen(u){const m={};let f=!1;function d(b,v,g){b&&(m[v]=g,f=!0)}d(u.attributes.horizontal,"horizontal",u.attributes.horizontal),d(u.attributes.vertical,"vertical",u.attributes.vertical==="center"?"middle":u.attributes.vertical),d(u.attributes.wrapText,"wrapText",s.parseBoolean(u.attributes.wrapText)),d(u.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(u.attributes.shrinkToFit)),d(u.attributes.indent,"indent",parseInt(u.attributes.indent,10)),d(u.attributes.textRotation,"textRotation",n.toModel(u.attributes.textRotation)),d(u.attributes.readingOrder,"readingOrder",u.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=f?m:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,i,c){const o=t("../base-xform"),s=t("../../../utils/utils"),h=t("./color-xform");class a extends o{constructor(u){super(),this.name=u,this.map={color:new h}}get tag(){return this.name}render(u,m,f){const d=m&&m.color||f||this.defaultColor;u.openNode(this.name),m&&m.style&&(u.addAttribute("style",m.style),d&&this.map.color.render(u,d)),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.name:{const{style:m}=u.attributes;return this.model=m?{style:m}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):(u===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(u){return a.validStyleValues[u]}}a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((n,u)=>(n[u]=!0,n),{}),i.exports=class extends o{constructor(){super(),this.map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")}}render(n,u){const{color:m}=u;function f(d,b){d&&!d.color&&u.color&&(d={...d,color:u.color}),b.render(n,d,m)}n.openNode("border"),u.diagonal&&u.diagonal.style&&(u.diagonal.up&&n.addAttribute("diagonalUp","1"),u.diagonal.down&&n.addAttribute("diagonalDown","1")),f(u.left,this.map.left),f(u.right,this.map.right),f(u.top,this.map.top),f(u.bottom,this.map.bottom),f(u.diagonal,this.map.diagonal),n.closeNode()}parseOpen(n){return this.parser?(this.parser.parseOpen(n),!0):n.name==="border"?(this.reset(),this.diagonalUp=s.parseBoolean(n.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(n.attributes.diagonalDown),!0):(this.parser=this.map[n.name],!!this.parser&&(this.parser.parseOpen(n),!0))}parseText(n){this.parser&&this.parser.parseText(n)}parseClose(n){if(this.parser)return this.parser.parseClose(n)||(this.parser=void 0),!0;if(n==="border"){const u=this.model={},m=function(f,d,b){d&&(b&&Object.assign(d,b),u[f]=d)};m("left",this.map.left.model),m("right",this.map.right.model),m("top",this.map.top.model),m("bottom",this.map.bottom.model),m("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,h){return!!h&&(s.openNode(this.name),h.argb?s.addAttribute("rgb",h.argb):h.theme!==void 0?(s.addAttribute("theme",h.theme),h.tint!==void 0&&s.addAttribute("tint",h.tint)):h.indexed!==void 0?s.addAttribute("indexed",h.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,i,c){const o=t("../base-xform"),s=t("./alignment-xform"),h=t("./border-xform"),a=t("./fill-xform"),n=t("./font-xform"),u=t("./numfmt-xform"),m=t("./protection-xform");i.exports=class extends o{constructor(){super(),this.map={alignment:new s,border:new h,fill:new a,font:new n,numFmt:new u,protection:new m}}get tag(){return"dxf"}render(f,d){if(f.openNode(this.tag),d.font&&this.map.font.render(f,d.font),d.numFmt&&d.numFmtId){const b={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(f,b)}d.fill&&this.map.fill.render(f,d.fill),d.alignment&&this.map.alignment.render(f,d.alignment),d.border&&this.map.border.render(f,d.border),d.protection&&this.map.protection.render(f,d.protection),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name===this.tag?(this.reset(),!0):(this.parser=this.map[f.name],this.parser&&this.parser.parseOpen(f),!0)}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return this.parser?(this.parser.parseClose(f)||(this.parser=void 0),!0):f!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,i,c){const o=t("../base-xform"),s=t("./color-xform");class h extends o{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(f,d){f.openNode("stop"),f.addAttribute("position",d.position),this.map.color.render(f,d.color),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"stop":return this.model={position:parseFloat(f.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(f),!0;default:return!1}}parseText(){}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class a extends o{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(f,d){f.openNode("patternFill"),f.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(f,d.fgColor),d.bgColor&&this.map.bgColor.render(f,d.bgColor),f.closeNode()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name==="patternFill"?(this.model={type:"pattern",pattern:f.attributes.patternType},!0):(this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.parser.model&&(this.model[f]=this.parser.model),this.parser=void 0),!0)}}class n extends o{constructor(){super(),this.map={stop:new h}}get name(){return"gradient"}get tag(){return"gradientFill"}render(f,d){switch(f.openNode("gradientFill"),d.gradient){case"angle":f.addAttribute("degree",d.degree);break;case"path":f.addAttribute("type","path"),d.center.left&&(f.addAttribute("left",d.center.left),d.center.right===void 0&&f.addAttribute("right",d.center.left)),d.center.right&&f.addAttribute("right",d.center.right),d.center.top&&(f.addAttribute("top",d.center.top),d.center.bottom===void 0&&f.addAttribute("bottom",d.center.top)),d.center.bottom&&f.addAttribute("bottom",d.center.bottom)}const b=this.map.stop;d.stops.forEach(v=>{b.render(f,v)}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"gradientFill":{const d=this.model={stops:[]};return f.attributes.degree?(d.gradient="angle",d.degree=parseInt(f.attributes.degree,10)):f.attributes.type==="path"&&(d.gradient="path",d.center={left:f.attributes.left?parseFloat(f.attributes.left):0,top:f.attributes.top?parseFloat(f.attributes.top):0},f.attributes.right!==f.attributes.left&&(d.center.right=f.attributes.right?parseFloat(f.attributes.right):0),f.attributes.bottom!==f.attributes.top&&(d.center.bottom=f.attributes.bottom?parseFloat(f.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class u extends o{constructor(){super(),this.map={patternFill:new a,gradientFill:new n}}get tag(){return"fill"}render(f,d){switch(f.addRollback(),f.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(f,d);break;case"gradient":this.map.gradientFill.render(f,d);break;default:return void f.rollback()}f.closeNode(),f.commit()}parseOpen(f){return this.parser?(this.parser.parseOpen(f),!0):f.name==="fill"?(this.model={},!0):(this.parser=this.map[f.name],!!this.parser&&(this.parser.parseOpen(f),!0))}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){return!!this.parser&&(this.parser.parseClose(f)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(f){return u.validPatternValues[f]}}u.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((m,f)=>(m[f]=!0,m),{}),u.StopXform=h,u.PatternFillXform=a,u.GradientFillXform=n,i.exports=u},{"../base-xform":32,"./color-xform":128}],131:[function(t,i,c){const o=t("./color-xform"),s=t("../simple/boolean-xform"),h=t("../simple/integer-xform"),a=t("../simple/string-xform"),n=t("./underline-xform"),u=t("../../../utils/under-dash"),m=t("../base-xform");class f extends m{constructor(b){super(),this.options=b||f.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new n},charset:{prop:"charset",xform:new h({tag:"charset",attr:"val"})},color:{prop:"color",xform:new o},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new h({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new h({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new a({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(b,v){const{map:g}=this;b.openNode(this.options.tagName),u.each(this.map,(w,_)=>{g[_].xform.render(b,v[w.prop])}),b.closeNode()}parseOpen(b){return this.parser?(this.parser.parseOpen(b),!0):this.map[b.name]?(this.parser=this.map[b.name].xform,this.parser.parseOpen(b)):b.name===this.options.tagName?(this.model={},!0):!1}parseText(b){this.parser&&this.parser.parseText(b)}parseClose(b){if(this.parser&&!this.parser.parseClose(b)){const v=this.map[b];return this.parser.model&&(this.model[v.prop]=this.parser.model),this.parser=void 0,!0}return b!==this.options.tagName}}f.OPTIONS={tagName:"font",fontNameTag:"name"},i.exports=f},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,i,c){const o=t("../../../utils/under-dash"),s=t("../../defaultnumformats"),h=t("../base-xform"),a=(function(){const u={};return o.each(s,(m,f)=>{m.f&&(u[m.f]=parseInt(f,10))}),u})();class n extends h{constructor(m,f){super(),this.id=m,this.formatCode=f}get tag(){return"numFmt"}render(m,f){m.leafNode("numFmt",{numFmtId:f.id,formatCode:f.formatCode})}parseOpen(m){return m.name==="numFmt"?(this.model={id:parseInt(m.attributes.numFmtId,10),formatCode:m.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0):!1}parseText(){}parseClose(){return!1}}n.getDefaultFmtId=function(u){return a[u]},n.getDefaultFmtCode=function(u){return s[u]&&s[u].f},i.exports=n},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,i,c){const o=t("../base-xform"),s={boolean:(h,a)=>h===void 0?a:h};i.exports=class extends o{get tag(){return"protection"}render(h,a){h.addRollback(),h.openNode("protection");let n=!1;function u(m,f){f!==void 0&&(h.addAttribute(m,f),n=!0)}u("locked",s.boolean(a.locked,!0)?void 0:"0"),u("hidden",s.boolean(a.hidden,!1)?"1":void 0),h.closeNode(),n?h.commit():h.rollback()}parseOpen(h){const a={locked:h.attributes.locked!=="0",hidden:h.attributes.hidden==="1"},n=!a.locked||a.hidden;this.model=n?a:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,i,c){const o=t("../base-xform"),s=t("./alignment-xform"),h=t("./protection-xform");i.exports=class extends o{constructor(a){super(),this.xfId=!(!a||!a.xfId),this.map={alignment:new s,protection:new h}}get tag(){return"xf"}render(a,n){a.openNode("xf",{numFmtId:n.numFmtId||0,fontId:n.fontId||0,fillId:n.fillId||0,borderId:n.borderId||0}),this.xfId&&a.addAttribute("xfId",n.xfId||0),n.numFmtId&&a.addAttribute("applyNumberFormat","1"),n.fontId&&a.addAttribute("applyFont","1"),n.fillId&&a.addAttribute("applyFill","1"),n.borderId&&a.addAttribute("applyBorder","1"),n.alignment&&a.addAttribute("applyAlignment","1"),n.protection&&a.addAttribute("applyProtection","1"),n.alignment&&this.map.alignment.render(a,n.alignment),n.protection&&this.map.protection.render(a,n.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"xf":return this.model={numFmtId:parseInt(a.attributes.numFmtId,10),fontId:parseInt(a.attributes.fontId,10),fillId:parseInt(a.attributes.fillId,10),borderId:parseInt(a.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(a.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(a),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):a!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,i,c){const o=t("../../../doc/enums"),s=t("../../../utils/xml-stream"),h=t("../base-xform"),a=t("../static-xform"),n=t("../list-xform"),u=t("./font-xform"),m=t("./fill-xform"),f=t("./border-xform"),d=t("./numfmt-xform"),b=t("./style-xform"),v=t("./dxf-xform");class g extends h{constructor(_){super(),this.map={numFmts:new n({tag:"numFmts",count:!0,childXform:new d}),fonts:new n({tag:"fonts",count:!0,childXform:new u,$:{"x14ac:knownFonts":1}}),fills:new n({tag:"fills",count:!0,childXform:new m}),borders:new n({tag:"borders",count:!0,childXform:new f}),cellStyleXfs:new n({tag:"cellStyleXfs",count:!0,childXform:new b}),cellXfs:new n({tag:"cellXfs",count:!0,childXform:new b({xfId:!0})}),dxfs:new n({tag:"dxfs",always:!0,count:!0,childXform:new v}),numFmt:new d,font:new u,fill:new m,border:new f,style:new b({xfId:!0}),cellStyles:g.STATIC_XFORMS.cellStyles,tableStyles:g.STATIC_XFORMS.tableStyles,extLst:g.STATIC_XFORMS.extLst},_&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(_,A){A=A||this.model,_.openXml(s.StdDocAttributes),_.openNode("styleSheet",g.STYLESHEET_ATTRIBUTES),this.index?(A.numFmts&&A.numFmts.length&&(_.openNode("numFmts",{count:A.numFmts.length}),A.numFmts.forEach(M=>{_.writeXml(M)}),_.closeNode()),A.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),_.openNode("fonts",{count:A.fonts.length,"x14ac:knownFonts":1}),A.fonts.forEach(M=>{_.writeXml(M)}),_.closeNode(),_.openNode("fills",{count:A.fills.length}),A.fills.forEach(M=>{_.writeXml(M)}),_.closeNode(),_.openNode("borders",{count:A.borders.length}),A.borders.forEach(M=>{_.writeXml(M)}),_.closeNode(),this.map.cellStyleXfs.render(_,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),_.openNode("cellXfs",{count:A.styles.length}),A.styles.forEach(M=>{_.writeXml(M)}),_.closeNode()):(this.map.numFmts.render(_,A.numFmts),this.map.fonts.render(_,A.fonts),this.map.fills.render(_,A.fills),this.map.borders.render(_,A.borders),this.map.cellStyleXfs.render(_,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(_,A.styles)),g.STATIC_XFORMS.cellStyles.render(_),this.map.dxfs.render(_,A.dxfs),g.STATIC_XFORMS.tableStyles.render(_),g.STATIC_XFORMS.extLst.render(_),_.closeNode()}parseOpen(_){return this.parser?(this.parser.parseOpen(_),!0):_.name==="styleSheet"?(this.initIndex(),!0):(this.parser=this.map[_.name],this.parser&&this.parser.parseOpen(_),!0)}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){if(this.parser)return this.parser.parseClose(_)||(this.parser=void 0),!0;switch(_){case"styleSheet":{this.model={};const A=(M,O)=>{O.model&&O.model.length&&(this.model[M]=O.model)};if(A("numFmts",this.map.numFmts),A("fonts",this.map.fonts),A("fills",this.map.fills),A("borders",this.map.borders),A("styles",this.map.cellXfs),A("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const M=this.index.numFmt;this.model.numFmts.forEach(O=>{M[O.id]=O.formatCode})}return!1}default:return!0}}addStyleModel(_,A){if(!_)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(_))return this.weakMap.get(_);const M={};if(A=A||o.ValueType.Number,_.numFmt)M.numFmtId=this._addNumFmtStr(_.numFmt);else switch(A){case o.ValueType.Number:M.numFmtId=this._addNumFmtStr("General");break;case o.ValueType.Date:M.numFmtId=this._addNumFmtStr("mm-dd-yy")}_.font&&(M.fontId=this._addFont(_.font)),_.border&&(M.borderId=this._addBorder(_.border)),_.fill&&(M.fillId=this._addFill(_.fill)),_.alignment&&(M.alignment=_.alignment),_.protection&&(M.protection=_.protection);const O=this._addStyle(M);return this.weakMap&&this.weakMap.set(_,O),O}getStyleModel(_){const A=this.model.styles[_];if(!A)return null;let M=this.index.model[_];if(M)return M;if(M=this.index.model[_]={},A.numFmtId){const q=this.index.numFmt[A.numFmtId]||d.getDefaultFmtCode(A.numFmtId);q&&(M.numFmt=q)}function O(q,F,j){if(j||j===0){const V=F[j];V&&(M[q]=V)}}return O("font",this.model.fonts,A.fontId),O("border",this.model.borders,A.borderId),O("fill",this.model.fills,A.fillId),A.alignment&&(M.alignment=A.alignment),A.protection&&(M.protection=A.protection),M}addDxfStyle(_){return _.numFmt&&(_.numFmtId=this._addNumFmtStr(_.numFmt)),this.model.dxfs.push(_),this.model.dxfs.length-1}getDxfStyle(_){return this.model.dxfs[_]}_addStyle(_){const A=this.map.style.toXml(_);let M=this.index.style[A];return M===void 0&&(M=this.index.style[A]=this.model.styles.length,this.model.styles.push(A)),M}_addNumFmtStr(_){let A=d.getDefaultFmtId(_);if(A!==void 0||(A=this.index.numFmt[_],A!==void 0))return A;A=this.index.numFmt[_]=164+this.model.numFmts.length;const M=this.map.numFmt.toXml({id:A,formatCode:_});return this.model.numFmts.push(M),A}_addFont(_){const A=this.map.font.toXml(_);let M=this.index.font[A];return M===void 0&&(M=this.index.font[A]=this.model.fonts.length,this.model.fonts.push(A)),M}_addBorder(_){const A=this.map.border.toXml(_);let M=this.index.border[A];return M===void 0&&(M=this.index.border[A]=this.model.borders.length,this.model.borders.push(A)),M}_addFill(_){const A=this.map.fill.toXml(_);let M=this.index.fill[A];return M===void 0&&(M=this.index.fill[A]=this.model.fills.length,this.model.fills.push(A)),M}}g.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},g.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},g.Mock=class extends g{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(w){return w.autodrain(),Promise.resolve()}addStyleModel(w,_){return _===o.ValueType.Date?this.dateStyleId:0}get dateStyleId(){if(!this._dateStyleId){const w={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(w)}return this._dateStyleId}getStyleModel(){return{}}},i.exports=g},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,i,c){const o=t("../base-xform");class s extends o{constructor(a){super(),this.model=a}get tag(){return"u"}render(a,n){if((n=n||this.model)===!0)a.leafNode("u");else{const u=s.Attributes[n];u&&a.leafNode("u",u)}}parseOpen(a){a.name==="u"&&(this.model=a.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},i.exports=s},{"../base-xform":32}],137:[function(t,i,c){const o=t("../base-xform"),s=t("./filter-column-xform");i.exports=class extends o{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(h){h.columns.forEach((a,n)=>{this.map.filterColumn.prepare(a,{index:n})})}render(h,a){return h.openNode(this.tag,{ref:a.autoFilterRef}),a.columns.forEach(n=>{this.map.filterColumn.render(h,n)}),h.closeNode(),!0}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.model={autoFilterRef:h.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[h.name],this.parser)return this.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;if(h===this.tag)return!1;throw new Error("Unexpected xml node in parseClose: "+h)}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"customFilter"}render(s,h){s.leafNode(this.tag,{val:h.val,operator:h.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,i,c){const o=t("../base-xform"),s=t("../list-xform"),h=t("./custom-filter-xform"),a=t("./filter-xform");i.exports=class extends o{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new h}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new a})}}get tag(){return"filterColumn"}prepare(n,u){n.colId=u.index.toString()}render(n,u){return u.customFilters?(n.openNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),this.map.customFilters.render(n,u.customFilters),n.closeNode(),!0):(n.leafNode(this.tag,{colId:u.colId,hiddenButton:u.filterButton?"0":"1"}),!0)}parseOpen(n){if(this.parser)return this.parser.parseOpen(n),!0;const{attributes:u}=n;switch(n.name){case this.tag:return this.model={filterButton:u.hiddenButton==="0"},!0;default:if(this.parser=this.map[n.name],this.parser)return this.parseOpen(n),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(n))}}parseText(){}parseClose(n){return this.parser?(this.parser.parseClose(n)||(this.parser=void 0),!0):n===this.tag?(this.model.customFilters=this.map.customFilters.model,!1):!0}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"filter"}render(s,h){s.leafNode(this.tag,{val:h.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"tableColumn"}prepare(s,h){s.id=h.index+1}render(s,h){return s.leafNode(this.tag,{id:h.id.toString(),name:h.name,totalsRowLabel:h.totalsRowLabel,totalsRowFunction:h.totalsRowFunction,dxfId:h.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:h}=s;return this.model={name:h.name,totalsRowLabel:h.totalsRowLabel,totalsRowFunction:h.totalsRowFunction,dxfId:h.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,i,c){const o=t("../base-xform");i.exports=class extends o{get tag(){return"tableStyleInfo"}render(s,h){return s.leafNode(this.tag,{name:h.theme?h.theme:void 0,showFirstColumn:h.showFirstColumn?"1":"0",showLastColumn:h.showLastColumn?"1":"0",showRowStripes:h.showRowStripes?"1":"0",showColumnStripes:h.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:h}=s;return this.model={theme:h.name?h.name:null,showFirstColumn:h.showFirstColumn==="1",showLastColumn:h.showLastColumn==="1",showRowStripes:h.showRowStripes==="1",showColumnStripes:h.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,i,c){const o=t("../../../utils/xml-stream"),s=t("../base-xform"),h=t("../list-xform"),a=t("./auto-filter-xform"),n=t("./table-column-xform"),u=t("./table-style-info-xform");class m extends s{constructor(){super(),this.map={autoFilter:new a,tableColumns:new h({tag:"tableColumns",count:!0,empty:!0,childXform:new n}),tableStyleInfo:new u}}prepare(d,b){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,b)}get tag(){return"table"}render(d,b){d.openXml(o.StdDocAttributes),d.openNode(this.tag,{...m.TABLE_ATTRIBUTES,id:b.id,name:b.name,displayName:b.displayName||b.name,ref:b.tableRef,totalsRowCount:b.totalsRow?"1":void 0,totalsRowShown:b.totalsRow?void 0:"1",headerRowCount:b.headerRow?"1":"0"}),this.map.autoFilter.render(d,b),this.map.tableColumns.render(d,b.columns),this.map.tableStyleInfo.render(d,b.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:b,attributes:v}=d;return b===this.tag?(this.reset(),this.model={name:v.name,displayName:v.displayName||v.name,tableRef:v.ref,totalsRow:v.totalsRowCount==="1",headerRow:v.headerRowCount==="1"}):(this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)),!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):d===this.tag?(this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((b,v)=>{this.model.columns[v].filterButton=b.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1):!0}reconcile(d,b){d.columns.forEach(v=>{v.dxfId!==void 0&&(v.style=b.styles.getDxfStyle(v.dxfId))})}}m.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},i.exports=m},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,i,c){(function(o,s){(function(){const h=t("fs"),a=t("jszip"),{PassThrough:n}=t("readable-stream"),u=t("../utils/zip-stream"),m=t("../utils/stream-buf"),f=t("../utils/utils"),d=t("../utils/xml-stream"),{bufferToString:b}=t("../utils/browser-buffer-decode"),v=t("./xform/style/styles-xform"),g=t("./xform/core/core-xform"),w=t("./xform/strings/shared-strings-xform"),_=t("./xform/core/relationships-xform"),A=t("./xform/core/content-types-xform"),M=t("./xform/core/app-xform"),O=t("./xform/book/workbook-xform"),q=t("./xform/sheet/worksheet-xform"),F=t("./xform/drawing/drawing-xform"),j=t("./xform/table/table-xform"),V=t("./xform/comment/comments-xform"),G=t("./xform/comment/vml-notes-xform"),X=t("./xml/theme1");class H{constructor(P){this.workbook=P}async readFile(P,k){if(!await f.fs.exists(P))throw new Error("File not found: "+P);const x=h.createReadStream(P);try{const S=await this.read(x,k);return x.close(),S}catch(S){throw x.close(),S}}parseRels(P){return new _().parseStream(P)}parseWorkbook(P){return new O().parseStream(P)}parseSharedStrings(P){return new w().parseStream(P)}reconcile(P,k){const x=new O,S=new q(k),T=new F,E=new j;x.reconcile(P);const N={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(K=>{const Z=P.drawings[K],nt=P.drawingRels[K];nt&&(N.rels=nt.reduce(($,tt)=>($[tt.Id]=tt,$),{}),(Z.anchors||[]).forEach($=>{const tt=$.picture&&$.picture.hyperlinks;tt&&N.rels[tt.rId]&&(tt.hyperlink=N.rels[tt.rId].Target,delete tt.rId)}),T.reconcile(Z,N))});const I={styles:P.styles};Object.values(P.tables).forEach(K=>{E.reconcile(K,I)});const B={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(K=>{K.relationships=P.worksheetRels[K.sheetNo],S.reconcile(K,B)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,k,x,S,T){const E=new q(S),N=await E.parseStream(P);N.sheetNo=x,k.worksheetHash[T]=N,k.worksheets.push(N)}async _processCommentEntry(P,k,x){const S=new V,T=await S.parseStream(P);k.comments[`../${x}.xml`]=T}async _processTableEntry(P,k,x){const S=new j,T=await S.parseStream(P);k.tables[`../tables/${x}.xml`]=T}async _processWorksheetRelsEntry(P,k,x){const S=new _,T=await S.parseStream(P);k.worksheetRels[x]=T}async _processMediaEntry(P,k,x){const S=x.lastIndexOf(".");if(S>=1){const T=x.substr(S+1),E=x.substr(0,S);await new Promise((N,I)=>{const B=new m;B.on("finish",()=>{k.mediaIndex[x]=k.media.length,k.mediaIndex[E]=k.media.length;const K={type:"image",name:E,extension:T,buffer:B.toBuffer()};k.media.push(K),N()}),P.on("error",K=>{I(K)}),P.pipe(B)})}}async _processDrawingEntry(P,k,x){const S=new F,T=await S.parseStream(P);k.drawings[x]=T}async _processDrawingRelsEntry(P,k,x){const S=new _,T=await S.parseStream(P);k.drawingRels[x]=T}async _processVmlDrawingEntry(P,k,x){const S=new G,T=await S.parseStream(P);k.vmlDrawings[`../drawings/${x}.vml`]=T}async _processThemeEntry(P,k,x){await new Promise((S,T)=>{const E=new m;P.on("error",T),E.on("error",T),E.on("finish",()=>{k.themes[x]=E.read().toString(),S()}),P.pipe(E)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,k){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new n));const x=[];for await(const S of P)x.push(S);return this.load(s.concat(x),k)}async load(P,k){let x;x=k&&k.base64?s.from(P.toString(),"base64"):P;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},T=await a.loadAsync(x);for(const E of Object.values(T.files))if(!E.dir){let N,I=E.name;if(I[0]==="/"&&(I=I.substr(1)),I.match(/xl\/media\//)||I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))N=new n,N.write(await E.async("nodebuffer"));else{let B;N=new n({writableObjectMode:!0,readableObjectMode:!0}),B=o.browser?b(await E.async("nodebuffer")):await E.async("string");const K=16384;for(let Z=0;Z<B.length;Z+=K)N.write(B.substring(Z,Z+K))}switch(N.end(),I){case"_rels/.rels":S.globalRels=await this.parseRels(N);break;case"xl/workbook.xml":{const B=await this.parseWorkbook(N);S.sheets=B.sheets,S.definedNames=B.definedNames,S.views=B.views,S.properties=B.properties,S.calcProperties=B.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(N);break;case"xl/sharedStrings.xml":S.sharedStrings=new w,await S.sharedStrings.parseStream(N);break;case"xl/styles.xml":S.styles=new v,await S.styles.parseStream(N);break;case"docProps/app.xml":{const B=new M,K=await B.parseStream(N);S.company=K.company,S.manager=K.manager;break}case"docProps/core.xml":{const B=new g,K=await B.parseStream(N);Object.assign(S,K);break}default:{let B=I.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(B){await this._processWorksheetEntry(N,S,B[1],k,I);break}if(B=I.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),B){await this._processWorksheetRelsEntry(N,S,B[1]);break}if(B=I.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),B){await this._processThemeEntry(N,S,B[1]);break}if(B=I.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),B){await this._processMediaEntry(N,S,B[1]);break}if(B=I.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),B){await this._processDrawingEntry(N,S,B[1]);break}if(B=I.match(/xl\/(comments\d+)[.]xml/),B){await this._processCommentEntry(N,S,B[1]);break}if(B=I.match(/xl\/tables\/(table\d+)[.]xml/),B){await this._processTableEntry(N,S,B[1]);break}if(B=I.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),B){await this._processDrawingRelsEntry(N,S,B[1]);break}if(B=I.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),B){await this._processVmlDrawingEntry(N,S,B[1]);break}}}}return this.reconcile(S,k),this.workbook.model=S,this.workbook}async addMedia(P,k){await Promise.all(k.media.map(async x=>{if(x.type==="image"){const S=`xl/media/${x.name}.${x.extension}`;if(x.filename){const T=await(function(E,N){return new Promise((I,B)=>{h.readFile(E,N,(K,Z)=>{K?B(K):I(Z)})})})(x.filename);return P.append(T,{name:S})}if(x.buffer)return P.append(x.buffer,{name:S});if(x.base64){const T=x.base64,E=T.substring(T.indexOf(",")+1);return P.append(E,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,k){const x=new F,S=new _;k.worksheets.forEach(T=>{const{drawing:E}=T;if(E){x.prepare(E,{});let N=x.toXml(E);P.append(N,{name:`xl/drawings/${E.name}.xml`}),N=S.toXml(E.rels),P.append(N,{name:`xl/drawings/_rels/${E.name}.xml.rels`})}})}addTables(P,k){const x=new j;k.worksheets.forEach(S=>{const{tables:T}=S;T.forEach(E=>{x.prepare(E,{});const N=x.toXml(E);P.append(N,{name:"xl/tables/"+E.target})})})}async addContentTypes(P,k){const x=new A().toXml(k);P.append(x,{name:"[Content_Types].xml"})}async addApp(P,k){const x=new M().toXml(k);P.append(x,{name:"docProps/app.xml"})}async addCore(P,k){const x=new g;P.append(x.toXml(k),{name:"docProps/core.xml"})}async addThemes(P,k){const x=k.themes||{theme1:X};Object.keys(x).forEach(S=>{const T=x[S],E=`xl/theme/${S}.xml`;P.append(T,{name:E})})}async addOfficeRels(P){const k=new _().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(k,{name:"_rels/.rels"})}async addWorkbookRels(P,k){let x=1;const S=[{Id:"rId"+x++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+x++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&S.push({Id:"rId"+x++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(E=>{E.rId="rId"+x++,S.push({Id:E.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${E.id}.xml`})});const T=new _().toXml(S);P.append(T,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,k){k.sharedStrings&&k.sharedStrings.count&&P.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,k){const{xml:x}=k.styles;x&&P.append(x,{name:"xl/styles.xml"})}async addWorkbook(P,k){const x=new O;P.append(x.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(P,k){const x=new q,S=new _,T=new V,E=new G;k.worksheets.forEach(N=>{let I=new d;x.render(I,N),P.append(I.xml,{name:`xl/worksheets/sheet${N.id}.xml`}),N.rels&&N.rels.length&&(I=new d,S.render(I,N.rels),P.append(I.xml,{name:`xl/worksheets/_rels/sheet${N.id}.xml.rels`})),N.comments.length>0&&(I=new d,T.render(I,N),P.append(I.xml,{name:`xl/comments${N.id}.xml`}),I=new d,E.render(I,N),P.append(I.xml,{name:`xl/drawings/vmlDrawing${N.id}.vml`}))})}_finalize(P){return new Promise((k,x)=>{P.on("finish",()=>{k(this)}),P.on("error",x),P.finalize()})}prepareModel(P,k){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,P.useStyles=k.useStyles===void 0||k.useStyles,P.sharedStrings=new w,P.styles=P.useStyles?new v(!0):new v.Mock;const x=new O,S=new q;x.prepare(P);const T={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};T.drawings=P.drawings=[],T.commentRefs=P.commentRefs=[];let E=0;P.tables=[],P.worksheets.forEach(N=>{N.tables.forEach(I=>{E++,I.target=`table${E}.xml`,I.id=E,P.tables.push(I)}),S.prepare(N,T)})}async write(P,k){k=k||{};const{model:x}=this.workbook,S=new u.ZipWriter(k.zip);return S.pipe(P),this.prepareModel(x,k),await this.addContentTypes(S,x),await this.addOfficeRels(S,x),await this.addWorkbookRels(S,x),await this.addWorksheets(S,x),await this.addSharedStrings(S,x),await this.addDrawings(S,x),await this.addTables(S,x),await Promise.all([this.addThemes(S,x),this.addStyles(S,x)]),await this.addMedia(S,x),await Promise.all([this.addApp(S,x),this.addCore(S,x)]),await this.addWorkbook(S,x),this._finalize(S)}writeFile(P,k){const x=h.createWriteStream(P);return new Promise((S,T)=>{x.on("finish",()=>{S()}),x.on("error",E=>{T(E)}),this.write(x,k).then(()=>{x.end()}).catch(E=>{T(E)})})}async writeBuffer(P){const k=new m;return await this.write(k,P),k.read()}}H.RelType=t("./rel-type"),i.exports=H}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,i,c){i.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,i,c){(function(o){(function(){Object.defineProperty(c,"__esModule",{value:!0}),c.CsvFormatterStream=void 0;const s=t("stream"),h=t("./formatter");class a extends s.Transform{constructor(u){super({writableObjectMode:u.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=u,this.rowFormatter=new h.RowFormatter(u),this.hasWrittenBOM=!u.writeBOM}transform(u){return this.rowFormatter.rowTransform=u,this}_transform(u,m,f){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(u,(b,v)=>b?(d=!0,f(b)):(v&&v.forEach(g=>{this.push(o.from(g,"utf8"))}),d=!0,f()))}catch(b){if(d)throw b;f(b)}}_flush(u){this.rowFormatter.finish((m,f)=>m?u(m):(f&&f.forEach(d=>{this.push(o.from(d,"utf8"))}),u()))}}c.CsvFormatterStream=a}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.FormatterOptions=void 0,c.FormatterOptions=class{constructor(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,o||{}),o?.quoteHeaders===void 0&&(this.quoteHeaders=this.quoteColumns),o?.quote===!0?this.quote='"':o?.quote===!1&&(this.quote=""),typeof o?.escape!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=o.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,i,c){var o=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.FieldFormatter=void 0;const s=o(t("lodash.isboolean")),h=o(t("lodash.isnil")),a=o(t("lodash.escaperegexp"));c.FieldFormatter=class{constructor(n){this._headers=null,this.formatterOptions=n,n.headers!==null&&(this.headers=n.headers),this.REPLACE_REGEXP=new RegExp(n.quote,"g");const u=`[${n.delimiter}${a.default(n.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(u)}set headers(n){this._headers=n}shouldQuote(n,u){const m=u?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(m)?m:Array.isArray(m)?m[n]:this._headers!==null&&m[this._headers[n]]}format(n,u,m){const f=(""+(h.default(n)?"":n)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&f.indexOf(d.quote)!==-1?this.quoteField(f.replace(this.REPLACE_REGEXP,d.escapedQuote)):f.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(u,m)?this.quoteField(f):f}quoteField(n){const{quote:u}=this.formatterOptions;return`${u}${n}${u}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,i,c){var o=function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(c,"__esModule",{value:!0}),c.RowFormatter=void 0;const s=o(t("lodash.isfunction")),h=o(t("lodash.isequal")),a=t("./FieldFormatter"),n=t("../types");class u{constructor(f){this.rowCount=0,this.formatterOptions=f,this.fieldFormatter=new a.FieldFormatter(f),this.headers=f.headers,this.shouldWriteHeaders=f.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),f.transform&&(this.rowTransform=f.transform)}static isRowHashArray(f){return!!Array.isArray(f)&&Array.isArray(f[0])&&f[0].length===2}static isRowArray(f){return Array.isArray(f)&&!this.isRowHashArray(f)}static gatherHeaders(f){return u.isRowHashArray(f)?f.map(d=>d[0]):Array.isArray(f)?f:Object.keys(f)}static createTransform(f){return n.isSyncTransform(f)?(d,b)=>{let v=null;try{v=f(d)}catch(g){return b(g)}return b(null,v)}:(d,b)=>{f(d,b)}}set rowTransform(f){if(!s.default(f))throw new TypeError("The transform should be a function");this._rowTransform=u.createTransform(f)}format(f,d){this.callTransformer(f,(b,v)=>{if(b)return d(b);if(!f)return d(null);const g=[];if(v){const{shouldFormatColumns:w,headers:_}=this.checkHeaders(v);if(this.shouldWriteHeaders&&_&&!this.hasWrittenHeaders&&(g.push(this.formatColumns(_,!0)),this.hasWrittenHeaders=!0),w){const A=this.gatherColumns(v);g.push(this.formatColumns(A,!1))}}return d(null,g)})}finish(f){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return f(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),f(null,d)}checkHeaders(f){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=u.gatherHeaders(f);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!h.default(d,f),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(f){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(f)?u.isRowHashArray(f)?this.headers.map((d,b)=>{const v=f[b];return v?v[1]:""}):u.isRowArray(f)&&!this.shouldWriteHeaders?f:this.headers.map((d,b)=>f[b]):this.headers.map(d=>f[d])}callTransformer(f,d){return this._rowTransform?this._rowTransform(f,d):d(null,f)}formatColumns(f,d){const b=f.map((g,w)=>this.fieldFormatter.format(g,w,d)).join(this.formatterOptions.delimiter),{rowCount:v}=this;return this.rowCount+=1,v?[this.formatterOptions.rowDelimiter,b].join(""):b}}c.RowFormatter=u},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.FieldFormatter=c.RowFormatter=void 0;var o=t("./RowFormatter");Object.defineProperty(c,"RowFormatter",{enumerable:!0,get:function(){return o.RowFormatter}});var s=t("./FieldFormatter");Object.defineProperty(c,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,i,c){(function(o){(function(){var s=Object.create?function(w,_,A,M){M===void 0&&(M=A),Object.defineProperty(w,M,{enumerable:!0,get:function(){return _[A]}})}:function(w,_,A,M){M===void 0&&(M=A),w[M]=_[A]},h=Object.create?function(w,_){Object.defineProperty(w,"default",{enumerable:!0,value:_})}:function(w,_){w.default=_},a=function(w){if(w&&w.__esModule)return w;var _={};if(w!=null)for(var A in w)A!=="default"&&Object.prototype.hasOwnProperty.call(w,A)&&s(_,w,A);return h(_,w),_},n=function(w,_){for(var A in w)A==="default"||Object.prototype.hasOwnProperty.call(_,A)||s(_,w,A)};Object.defineProperty(c,"__esModule",{value:!0}),c.writeToPath=c.writeToString=c.writeToBuffer=c.writeToStream=c.write=c.format=c.FormatterOptions=c.CsvFormatterStream=void 0;const u=t("util"),m=t("stream"),f=a(t("fs")),d=t("./FormatterOptions"),b=t("./CsvFormatterStream");n(t("./types"),c);var v=t("./CsvFormatterStream");Object.defineProperty(c,"CsvFormatterStream",{enumerable:!0,get:function(){return v.CsvFormatterStream}});var g=t("./FormatterOptions");Object.defineProperty(c,"FormatterOptions",{enumerable:!0,get:function(){return g.FormatterOptions}}),c.format=w=>new b.CsvFormatterStream(new d.FormatterOptions(w)),c.write=(w,_)=>{const A=c.format(_),M=u.promisify((O,q)=>{A.write(O,void 0,q)});return w.reduce((O,q)=>O.then(()=>M(q)),Promise.resolve()).then(()=>A.end()).catch(O=>{A.emit("error",O)}),A},c.writeToStream=(w,_,A)=>c.write(_,A).pipe(w),c.writeToBuffer=function(w){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const A=[],M=new m.Writable({write(O,q,F){A.push(O),F()}});return new Promise((O,q)=>{M.on("error",q).on("finish",()=>O(o.concat(A))),c.write(w,_).pipe(M)})},c.writeToString=(w,_)=>c.writeToBuffer(w,_).then(A=>A.toString()),c.writeToPath=(w,_,A)=>{const M=f.createWriteStream(w,{encoding:"utf8"});return c.write(_,A).pipe(M)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.isSyncTransform=void 0,c.isSyncTransform=o=>o.length===1},{}],153:[function(t,i,c){(function(o){(function(){Object.defineProperty(c,"__esModule",{value:!0}),c.CsvParserStream=void 0;const s=t("string_decoder"),h=t("stream"),a=t("./transforms"),n=t("./parser");class u extends h.Transform{constructor(f){super({objectMode:f.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=f,this.parser=new n.Parser(f),this.headerTransformer=new a.HeaderTransformer(f),this.decoder=new s.StringDecoder(f.encoding),this.rowTransformerValidator=new a.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(f){return this.rowTransformerValidator.rowTransform=f,this}validate(f){return this.rowTransformerValidator.rowValidator=f,this}emit(f){if(f==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,b=new Array(d>1?d-1:0),v=1;v<d;v++)b[v-1]=arguments[v];return super.emit(f,...b)}_transform(f,d,b){if(this.hasHitRowLimit)return b();const v=u.wrapDoneCallback(b);try{const{lines:g}=this,w=g+this.decoder.write(f),_=this.parse(w,!0);return this.processRows(_,v)}catch(g){return v(g)}}_flush(f){const d=u.wrapDoneCallback(f);if(this.hasHitRowLimit)return d();try{const b=this.lines+this.decoder.end(),v=this.parse(b,!1);return this.processRows(v,d)}catch(b){return d(b)}}parse(f,d){if(!f)return[];const{line:b,rows:v}=this.parser.parse(f,d);return this.lines=b,v}processRows(f,d){const b=f.length,v=g=>{const w=M=>M?d(M):g%100!=0?v(g+1):void o(()=>v(g+1));if(this.checkAndEmitHeaders(),g>=b||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return w();const _=f[g];this.rowCount+=1,this.parsedRowCount+=1;const A=this.rowCount;return this.transformRow(_,(M,O)=>{if(M)return this.rowCount-=1,w(M);if(!O)return w(new Error("expected transform result"));if(O.isValid){if(O.row)return this.pushRow(O.row,w)}else this.emit("data-invalid",O.row,A,O.reason);return w()})};v(0)}transformRow(f,d){try{this.headerTransformer.transform(f,(b,v)=>b?d(b):v?v.isValid?v.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(v.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:f}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(b){d(b)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(f){return this.rowCount-=1,f(null,{row:null,isValid:!0})}pushRow(f,d){try{this.parserOptions.objectMode?this.push(f):this.push(JSON.stringify(f)),d()}catch(b){d(b)}}static wrapDoneCallback(f){let d=!1;return function(b){if(b){if(d)throw b;return d=!0,void f(b)}for(var v=arguments.length,g=new Array(v>1?v-1:0),w=1;w<v;w++)g[w-1]=arguments[w];f(...g)}}}c.CsvParserStream=u}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,i,c){var o=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(c,"__esModule",{value:!0}),c.ParserOptions=void 0;const s=o(t("lodash.escaperegexp")),h=o(t("lodash.isnil"));c.ParserOptions=class{constructor(a){var n;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,a||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(n=this.escape)!==null&&n!==void 0?n:this.quote,this.supportsComments=!h.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,i,c){var o=Object.create?function(v,g,w,_){_===void 0&&(_=w),Object.defineProperty(v,_,{enumerable:!0,get:function(){return g[w]}})}:function(v,g,w,_){_===void 0&&(_=w),v[_]=g[w]},s=Object.create?function(v,g){Object.defineProperty(v,"default",{enumerable:!0,value:g})}:function(v,g){v.default=g},h=function(v){if(v&&v.__esModule)return v;var g={};if(v!=null)for(var w in v)w!=="default"&&Object.prototype.hasOwnProperty.call(v,w)&&o(g,v,w);return s(g,v),g},a=function(v,g){for(var w in v)w==="default"||Object.prototype.hasOwnProperty.call(g,w)||o(g,v,w)};Object.defineProperty(c,"__esModule",{value:!0}),c.parseString=c.parseFile=c.parseStream=c.parse=c.ParserOptions=c.CsvParserStream=void 0;const n=h(t("fs")),u=t("stream"),m=t("./ParserOptions"),f=t("./CsvParserStream");a(t("./types"),c);var d=t("./CsvParserStream");Object.defineProperty(c,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var b=t("./ParserOptions");Object.defineProperty(c,"ParserOptions",{enumerable:!0,get:function(){return b.ParserOptions}}),c.parse=v=>new f.CsvParserStream(new m.ParserOptions(v)),c.parseStream=(v,g)=>v.pipe(new f.CsvParserStream(new m.ParserOptions(g))),c.parseFile=function(v){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.createReadStream(v).pipe(new f.CsvParserStream(new m.ParserOptions(g)))},c.parseString=(v,g)=>{const w=new u.Readable;return w.push(v),w.push(null),w.pipe(new f.CsvParserStream(new m.ParserOptions(g)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Parser=void 0;const o=t("./Scanner"),s=t("./RowParser"),h=t("./Token");class a{constructor(u){this.parserOptions=u,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(u){return u&&u.charCodeAt(0)===65279?u.slice(1):u}parse(u,m){const f=new o.Scanner({line:a.removeBOM(u),parserOptions:this.parserOptions,hasMoreData:m});return this.parserOptions.supportsComments?this.parseWithComments(f):this.parseWithoutComments(f)}parseWithoutComments(u){const m=[];let f=!0;for(;f;)f=this.parseRow(u,m);return{line:u.line,rows:m}}parseWithComments(u){const{parserOptions:m}=this,f=[];for(let d=u.nextCharacterToken;d!==null;d=u.nextCharacterToken)if(h.Token.isTokenComment(d,m)){if(u.advancePastLine()===null)return{line:u.lineFromCursor,rows:f};if(!u.hasMoreCharacters)return{line:u.lineFromCursor,rows:f};u.truncateToCursor()}else if(!this.parseRow(u,f))break;return{line:u.line,rows:f}}parseRow(u,m){if(!u.nextNonSpaceToken)return!1;const f=this.rowParser.parse(u);return f!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(f)||m.push(f),!0)}}c.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.RowParser=void 0;const o=t("./column"),s=t("./Token");c.RowParser=class{constructor(h){this.parserOptions=h,this.columnParser=new o.ColumnParser(h)}static isEmptyRow(h){return h.join("").replace(/\s+/g,"")===""}parse(h){const{parserOptions:a}=this,{hasMoreData:n}=h,u=h,m=[];let f=this.getStartToken(u,m);for(;f;){if(s.Token.isTokenRowDelimiter(f))return u.advancePastToken(f),!u.hasMoreCharacters&&s.Token.isTokenCarriageReturn(f,a)&&n?null:(u.truncateToCursor(),m);if(!this.shouldSkipColumnParse(u,f,m)){const d=this.columnParser.parse(u);if(d===null)return null;m.push(d)}f=u.nextNonSpaceToken}return n?null:(u.truncateToCursor(),m)}getStartToken(h,a){const n=h.nextNonSpaceToken;return n!==null&&s.Token.isTokenDelimiter(n,this.parserOptions)?(a.push(""),h.nextNonSpaceToken):n}shouldSkipColumnParse(h,a,n){const{parserOptions:u}=this;if(s.Token.isTokenDelimiter(a,u)){h.advancePastToken(a);const m=h.nextCharacterToken;if(!h.hasMoreCharacters||m!==null&&s.Token.isTokenRowDelimiter(m)||m!==null&&s.Token.isTokenDelimiter(m,u))return n.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Scanner=void 0;const o=t("./Token"),s=/((?:\r\n)|\n|\r)/;c.Scanner=class{constructor(h){this.cursor=0,this.line=h.line,this.lineLength=this.line.length,this.parserOptions=h.parserOptions,this.hasMoreData=h.hasMoreData,this.cursor=h.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:h}=this,a=this.parserOptions.NEXT_TOKEN_REGEXP;if(h.search(a)===-1)return null;const n=a.exec(h);if(n==null)return null;const u=n[1],m=this.cursor+(n.index||0);return new o.Token({token:u,startCursor:m,endCursor:m+u.length-1})}get nextCharacterToken(){const{cursor:h,lineLength:a}=this;return a<=h?null:new o.Token({token:this.line[h],startCursor:h,endCursor:h})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const h=s.exec(this.lineFromCursor);return h?(this.cursor+=(h.index||0)+h[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(h){return this.cursor=h,this}advanceToToken(h){return this.cursor=h.startCursor,this}advancePastToken(h){return this.cursor=h.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.Token=void 0,c.Token=class{constructor(o){this.token=o.token,this.startCursor=o.startCursor,this.endCursor=o.endCursor}static isTokenRowDelimiter(o){const s=o.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(o,s){return o.token===s.carriageReturn}static isTokenComment(o,s){return s.supportsComments&&!!o&&o.token===s.comment}static isTokenEscapeCharacter(o,s){return o.token===s.escapeChar}static isTokenQuote(o,s){return o.token===s.quote}static isTokenDelimiter(o,s){return o.token===s.delimiter}}},{}],160:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.ColumnFormatter=void 0,c.ColumnFormatter=class{constructor(o){o.trim?this.format=s=>s.trim():o.ltrim?this.format=s=>s.trimLeft():o.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.ColumnParser=void 0;const o=t("./NonQuotedColumnParser"),s=t("./QuotedColumnParser"),h=t("../Token");c.ColumnParser=class{constructor(a){this.parserOptions=a,this.quotedColumnParser=new s.QuotedColumnParser(a),this.nonQuotedColumnParser=new o.NonQuotedColumnParser(a)}parse(a){const{nextNonSpaceToken:n}=a;return n!==null&&h.Token.isTokenQuote(n,this.parserOptions)?(a.advanceToToken(n),this.quotedColumnParser.parse(a)):this.nonQuotedColumnParser.parse(a)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.NonQuotedColumnParser=void 0;const o=t("./ColumnFormatter"),s=t("../Token");c.NonQuotedColumnParser=class{constructor(h){this.parserOptions=h,this.columnFormatter=new o.ColumnFormatter(h)}parse(h){if(!h.hasMoreCharacters)return null;const{parserOptions:a}=this,n=[];let u=h.nextCharacterToken;for(;u&&!s.Token.isTokenDelimiter(u,a)&&!s.Token.isTokenRowDelimiter(u);u=h.nextCharacterToken)n.push(u.token),h.advancePastToken(u);return this.columnFormatter.format(n.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.QuotedColumnParser=void 0;const o=t("./ColumnFormatter"),s=t("../Token");c.QuotedColumnParser=class{constructor(h){this.parserOptions=h,this.columnFormatter=new o.ColumnFormatter(h)}parse(h){if(!h.hasMoreCharacters)return null;const a=h.cursor,{foundClosingQuote:n,col:u}=this.gatherDataBetweenQuotes(h);if(!n){if(h.advanceTo(a),!h.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${h.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(h),u}gatherDataBetweenQuotes(h){const{parserOptions:a}=this;let n=!1,u=!1;const m=[];let f=h.nextCharacterToken;for(;!u&&f!==null;f=h.nextCharacterToken){const d=s.Token.isTokenQuote(f,a);if(!n&&d)n=!0;else if(n)if(s.Token.isTokenEscapeCharacter(f,a)){h.advancePastToken(f);const b=h.nextCharacterToken;b!==null&&(s.Token.isTokenQuote(b,a)||s.Token.isTokenEscapeCharacter(b,a))?(m.push(b.token),f=b):d?u=!0:m.push(f.token)}else d?u=!0:m.push(f.token);h.advancePastToken(f)}return{col:this.columnFormatter.format(m.join("")),foundClosingQuote:u}}checkForMalformedColumn(h){const{parserOptions:a}=this,{nextNonSpaceToken:n}=h;if(n){const u=s.Token.isTokenDelimiter(n,a),m=s.Token.isTokenRowDelimiter(n);if(!u&&!m){const f=h.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${a.escapedDelimiter}' OR new line got: '${n.token}'. at '${f}`)}h.advanceToToken(n)}else h.hasMoreData||h.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.ColumnFormatter=c.QuotedColumnParser=c.NonQuotedColumnParser=c.ColumnParser=void 0;var o=t("./ColumnParser");Object.defineProperty(c,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}});var s=t("./NonQuotedColumnParser");Object.defineProperty(c,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var h=t("./QuotedColumnParser");Object.defineProperty(c,"QuotedColumnParser",{enumerable:!0,get:function(){return h.QuotedColumnParser}});var a=t("./ColumnFormatter");Object.defineProperty(c,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.QuotedColumnParser=c.NonQuotedColumnParser=c.ColumnParser=c.Token=c.Scanner=c.RowParser=c.Parser=void 0;var o=t("./Parser");Object.defineProperty(c,"Parser",{enumerable:!0,get:function(){return o.Parser}});var s=t("./RowParser");Object.defineProperty(c,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var h=t("./Scanner");Object.defineProperty(c,"Scanner",{enumerable:!0,get:function(){return h.Scanner}});var a=t("./Token");Object.defineProperty(c,"Token",{enumerable:!0,get:function(){return a.Token}});var n=t("./column");Object.defineProperty(c,"ColumnParser",{enumerable:!0,get:function(){return n.ColumnParser}}),Object.defineProperty(c,"NonQuotedColumnParser",{enumerable:!0,get:function(){return n.NonQuotedColumnParser}}),Object.defineProperty(c,"QuotedColumnParser",{enumerable:!0,get:function(){return n.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,i,c){var o=function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(c,"__esModule",{value:!0}),c.HeaderTransformer=void 0;const s=o(t("lodash.isundefined")),h=o(t("lodash.isfunction")),a=o(t("lodash.uniq")),n=o(t("lodash.groupby"));c.HeaderTransformer=class{constructor(u){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=u,u.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(u.headers)?this.setHeaders(u.headers):h.default(u.headers)&&(this.headersTransform=u.headers)}transform(u,m){return this.shouldMapRow(u)?m(null,this.processRow(u)):m(null,{row:null,isValid:!0})}shouldMapRow(u){const{parserOptions:m}=this;if(!this.headersTransform&&m.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(u)){if(this.headersTransform)this.setHeaders(this.headersTransform(u));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(u)}return!1}return!0}processRow(u){if(!this.headers)return{row:u,isValid:!0};const{parserOptions:m}=this;if(!m.discardUnmappedColumns&&u.length>this.headersLength){if(!m.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${u.length}`);return{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}}return m.strictColumnHandling&&u.length<this.headersLength?{row:u,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${u.length}`}:{row:this.mapHeaders(u),isValid:!0}}mapHeaders(u){const m={},{headers:f,headersLength:d}=this;for(let b=0;b<d;b+=1){const v=f[b];if(!s.default(v)){const g=u[b];s.default(g)?m[v]="":m[v]=g}}return m}setHeaders(u){var m;const f=u.filter(d=>!!d);if(a.default(f).length!==f.length){const d=n.default(f),b=Object.keys(d).filter(v=>d[v].length>1);throw new Error("Duplicate headers found "+JSON.stringify(b))}this.headers=u,this.receivedHeaders=!0,this.headersLength=((m=this.headers)===null||m===void 0?void 0:m.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,i,c){var o=function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(c,"__esModule",{value:!0}),c.RowTransformerValidator=void 0;const s=o(t("lodash.isfunction")),h=t("../types");class a{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(u){return h.isSyncTransform(u)?(m,f)=>{let d=null;try{d=u(m)}catch(b){return f(b)}return f(null,d)}:u}static createValidator(u){return h.isSyncValidate(u)?(m,f)=>{f(null,{row:m,isValid:u(m)})}:(m,f)=>{u(m,(d,b,v)=>d?f(d):f(null,b?{row:m,isValid:b,reason:v}:{row:m,isValid:!1,reason:v}))}}set rowTransform(u){if(!s.default(u))throw new TypeError("The transform should be a function");this._rowTransform=a.createTransform(u)}set rowValidator(u){if(!s.default(u))throw new TypeError("The validate should be a function");this._rowValidator=a.createValidator(u)}transformAndValidate(u,m){return this.callTransformer(u,(f,d)=>f?m(f):d?this.callValidator(d,(b,v)=>b?m(b):v&&!v.isValid?m(null,{row:d,isValid:!1,reason:v.reason}):m(null,{row:d,isValid:!0})):m(null,{row:null,isValid:!0}))}callTransformer(u,m){return this._rowTransform?this._rowTransform(u,m):m(null,u)}callValidator(u,m){return this._rowValidator?this._rowValidator(u,m):m(null,{row:u,isValid:!0})}}c.RowTransformerValidator=a},{"../types":169,"lodash.isfunction":446}],168:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.HeaderTransformer=c.RowTransformerValidator=void 0;var o=t("./RowTransformerValidator");Object.defineProperty(c,"RowTransformerValidator",{enumerable:!0,get:function(){return o.RowTransformerValidator}});var s=t("./HeaderTransformer");Object.defineProperty(c,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.isSyncValidate=c.isSyncTransform=void 0,c.isSyncTransform=o=>o.length===1,c.isSyncValidate=o=>o.length===1},{}],170:[function(t,i,c){const o=c;o.bignum=t("bn.js"),o.define=t("./asn1/api").define,o.base=t("./asn1/base"),o.constants=t("./asn1/constants"),o.decoders=t("./asn1/decoders"),o.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,i,c){const o=t("./encoders"),s=t("./decoders"),h=t("inherits");function a(n,u){this.name=n,this.body=u,this.decoders={},this.encoders={}}c.define=function(n,u){return new a(n,u)},a.prototype._createNamed=function(n){const u=this.name;function m(f){this._initNamed(f,u)}return h(m,n),m.prototype._initNamed=function(f,d){n.call(this,f,d)},new m(this)},a.prototype._getDecoder=function(n){return n=n||"der",this.decoders.hasOwnProperty(n)||(this.decoders[n]=this._createNamed(s[n])),this.decoders[n]},a.prototype.decode=function(n,u,m){return this._getDecoder(u).decode(n,m)},a.prototype._getEncoder=function(n){return n=n||"der",this.encoders.hasOwnProperty(n)||(this.encoders[n]=this._createNamed(o[n])),this.encoders[n]},a.prototype.encode=function(n,u,m){return this._getEncoder(u).encode(n,m)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,i,c){const o=t("inherits"),s=t("../base/reporter").Reporter,h=t("safer-buffer").Buffer;function a(u,m){s.call(this,m),h.isBuffer(u)?(this.base=u,this.offset=0,this.length=u.length):this.error("Input not Buffer")}function n(u,m){if(Array.isArray(u))this.length=0,this.value=u.map((function(f){return n.isEncoderBuffer(f)||(f=new n(f,m)),this.length+=f.length,f}),this);else if(typeof u=="number"){if(!(0<=u&&u<=255))return m.error("non-byte EncoderBuffer value");this.value=u,this.length=1}else if(typeof u=="string")this.value=u,this.length=h.byteLength(u);else{if(!h.isBuffer(u))return m.error("Unsupported type: "+typeof u);this.value=u,this.length=u.length}}o(a,s),c.DecoderBuffer=a,a.isDecoderBuffer=function(u){return u instanceof a?!0:typeof u=="object"&&h.isBuffer(u.base)&&u.constructor.name==="DecoderBuffer"&&typeof u.offset=="number"&&typeof u.length=="number"&&typeof u.save=="function"&&typeof u.restore=="function"&&typeof u.isEmpty=="function"&&typeof u.readUInt8=="function"&&typeof u.skip=="function"&&typeof u.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},a.prototype.restore=function(u){const m=new a(this.base);return m.offset=u.offset,m.length=this.offset,this.offset=u.offset,s.prototype.restore.call(this,u.reporter),m},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},a.prototype.skip=function(u,m){if(!(this.offset+u<=this.length))return this.error(m||"DecoderBuffer overrun");const f=new a(this.base);return f._reporterState=this._reporterState,f.offset=this.offset,f.length=this.offset+u,this.offset+=u,f},a.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)},c.EncoderBuffer=n,n.isEncoderBuffer=function(u){return u instanceof n?!0:typeof u=="object"&&u.constructor.name==="EncoderBuffer"&&typeof u.length=="number"&&typeof u.join=="function"},n.prototype.join=function(u,m){return u||(u=h.alloc(this.length)),m||(m=0),this.length===0||(Array.isArray(this.value)?this.value.forEach((function(f){f.join(u,m),m+=f.length})):(typeof this.value=="number"?u[m]=this.value:typeof this.value=="string"?u.write(this.value,m):h.isBuffer(this.value)&&this.value.copy(u,m),m+=this.length)),u}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,i,c){const o=c;o.Reporter=t("./reporter").Reporter,o.DecoderBuffer=t("./buffer").DecoderBuffer,o.EncoderBuffer=t("./buffer").EncoderBuffer,o.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,i,c){const o=t("../base/reporter").Reporter,s=t("../base/buffer").EncoderBuffer,h=t("../base/buffer").DecoderBuffer,a=t("minimalistic-assert"),n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n);function m(d,b,v){const g={};this._baseState=g,g.name=v,g.enc=d,g.parent=b||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}i.exports=m;const f=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];m.prototype.clone=function(){const d=this._baseState,b={};f.forEach((function(g){b[g]=d[g]}));const v=new this.constructor(b.parent);return v._baseState=b,v},m.prototype._wrap=function(){const d=this._baseState;u.forEach((function(b){this[b]=function(){const v=new this.constructor(this);return d.children.push(v),v[b].apply(v,arguments)}}),this)},m.prototype._init=function(d){const b=this._baseState;a(b.parent===null),d.call(this),b.children=b.children.filter((function(v){return v._baseState.parent===this}),this),a.equal(b.children.length,1,"Root node can have only one child")},m.prototype._useArgs=function(d){const b=this._baseState,v=d.filter((function(g){return g instanceof this.constructor}),this);d=d.filter((function(g){return!(g instanceof this.constructor)}),this),v.length!==0&&(a(b.children===null),b.children=v,v.forEach((function(g){g._baseState.parent=this}),this)),d.length!==0&&(a(b.args===null),b.args=d,b.reverseArgs=d.map((function(g){if(typeof g!="object"||g.constructor!==Object)return g;const w={};return Object.keys(g).forEach((function(_){_==(0|_)&&(_|=0);const A=g[_];w[A]=_})),w})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(d){m.prototype[d]=function(){const b=this._baseState;throw new Error(d+" not implemented for encoding: "+b.enc)}})),n.forEach((function(d){m.prototype[d]=function(){const b=this._baseState,v=Array.prototype.slice.call(arguments);return a(b.tag===null),b.tag=d,this._useArgs(v),this}})),m.prototype.use=function(d){a(d);const b=this._baseState;return a(b.use===null),b.use=d,this},m.prototype.optional=function(){return this._baseState.optional=!0,this},m.prototype.def=function(d){const b=this._baseState;return a(b.default===null),b.default=d,b.optional=!0,this},m.prototype.explicit=function(d){const b=this._baseState;return a(b.explicit===null&&b.implicit===null),b.explicit=d,this},m.prototype.implicit=function(d){const b=this._baseState;return a(b.explicit===null&&b.implicit===null),b.implicit=d,this},m.prototype.obj=function(){const d=this._baseState,b=Array.prototype.slice.call(arguments);return d.obj=!0,b.length!==0&&this._useArgs(b),this},m.prototype.key=function(d){const b=this._baseState;return a(b.key===null),b.key=d,this},m.prototype.any=function(){return this._baseState.any=!0,this},m.prototype.choice=function(d){const b=this._baseState;return a(b.choice===null),b.choice=d,this._useArgs(Object.keys(d).map((function(v){return d[v]}))),this},m.prototype.contains=function(d){const b=this._baseState;return a(b.use===null),b.contains=d,this},m.prototype._decode=function(d,b){const v=this._baseState;if(v.parent===null)return d.wrapResult(v.children[0]._decode(d,b));let g,w=v.default,_=!0,A=null;if(v.key!==null&&(A=d.enterKey(v.key)),v.optional){let M=null;if(v.explicit!==null?M=v.explicit:v.implicit!==null?M=v.implicit:v.tag!==null&&(M=v.tag),M!==null||v.any){if(_=this._peekTag(d,M,v.any),d.isError(_))return _}else{const O=d.save();try{v.choice===null?this._decodeGeneric(v.tag,d,b):this._decodeChoice(d,b),_=!0}catch{_=!1}d.restore(O)}}if(v.obj&&_&&(g=d.enterObject()),_){if(v.explicit!==null){const O=this._decodeTag(d,v.explicit);if(d.isError(O))return O;d=O}const M=d.offset;if(v.use===null&&v.choice===null){let O;v.any&&(O=d.save());const q=this._decodeTag(d,v.implicit!==null?v.implicit:v.tag,v.any);if(d.isError(q))return q;v.any?w=d.raw(O):d=q}if(b&&b.track&&v.tag!==null&&b.track(d.path(),M,d.length,"tagged"),b&&b.track&&v.tag!==null&&b.track(d.path(),d.offset,d.length,"content"),v.any||(w=v.choice===null?this._decodeGeneric(v.tag,d,b):this._decodeChoice(d,b)),d.isError(w))return w;if(v.any||v.choice!==null||v.children===null||v.children.forEach((function(O){O._decode(d,b)})),v.contains&&(v.tag==="octstr"||v.tag==="bitstr")){const O=new h(w);w=this._getUse(v.contains,d._reporterState.obj)._decode(O,b)}}return v.obj&&_&&(w=d.leaveObject(g)),v.key===null||w===null&&_!==!0?A!==null&&d.exitKey(A):d.leaveKey(A,v.key,w),w},m.prototype._decodeGeneric=function(d,b,v){const g=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(b,d,g.args[0],v):/str$/.test(d)?this._decodeStr(b,d,v):d==="objid"&&g.args?this._decodeObjid(b,g.args[0],g.args[1],v):d==="objid"?this._decodeObjid(b,null,null,v):d==="gentime"||d==="utctime"?this._decodeTime(b,d,v):d==="null_"?this._decodeNull(b,v):d==="bool"?this._decodeBool(b,v):d==="objDesc"?this._decodeStr(b,d,v):d==="int"||d==="enum"?this._decodeInt(b,g.args&&g.args[0],v):g.use!==null?this._getUse(g.use,b._reporterState.obj)._decode(b,v):b.error("unknown tag: "+d)},m.prototype._getUse=function(d,b){const v=this._baseState;return v.useDecoder=this._use(d,b),a(v.useDecoder._baseState.parent===null),v.useDecoder=v.useDecoder._baseState.children[0],v.implicit!==v.useDecoder._baseState.implicit&&(v.useDecoder=v.useDecoder.clone(),v.useDecoder._baseState.implicit=v.implicit),v.useDecoder},m.prototype._decodeChoice=function(d,b){const v=this._baseState;let g=null,w=!1;return Object.keys(v.choice).some((function(_){const A=d.save(),M=v.choice[_];try{const O=M._decode(d,b);if(d.isError(O))return!1;g={type:_,value:O},w=!0}catch{return d.restore(A),!1}return!0}),this),w?g:d.error("Choice not matched")},m.prototype._createEncoderBuffer=function(d){return new s(d,this.reporter)},m.prototype._encode=function(d,b,v){const g=this._baseState;if(g.default!==null&&g.default===d)return;const w=this._encodeValue(d,b,v);return w===void 0||this._skipDefault(w,b,v)?void 0:w},m.prototype._encodeValue=function(d,b,v){const g=this._baseState;if(g.parent===null)return g.children[0]._encode(d,b||new o);let w=null;if(this.reporter=b,g.optional&&d===void 0){if(g.default===null)return;d=g.default}let _=null,A=!1;if(g.any)w=this._createEncoderBuffer(d);else if(g.choice)w=this._encodeChoice(d,b);else if(g.contains)_=this._getUse(g.contains,v)._encode(d,b),A=!0;else if(g.children)_=g.children.map((function(M){if(M._baseState.tag==="null_")return M._encode(null,b,d);if(M._baseState.key===null)return b.error("Child should have a key");const O=b.enterKey(M._baseState.key);if(typeof d!="object")return b.error("Child expected, but input is not object");const q=M._encode(d[M._baseState.key],b,d);return b.leaveKey(O),q}),this).filter((function(M){return M})),_=this._createEncoderBuffer(_);else if(g.tag==="seqof"||g.tag==="setof"){if(!g.args||g.args.length!==1)return b.error("Too many args for : "+g.tag);if(!Array.isArray(d))return b.error("seqof/setof, but data is not Array");const M=this.clone();M._baseState.implicit=null,_=this._createEncoderBuffer(d.map((function(O){const q=this._baseState;return this._getUse(q.args[0],d)._encode(O,b)}),M))}else g.use!==null?w=this._getUse(g.use,v)._encode(d,b):(_=this._encodePrimitive(g.tag,d),A=!0);if(!g.any&&g.choice===null){const M=g.implicit!==null?g.implicit:g.tag,O=g.implicit===null?"universal":"context";M===null?g.use===null&&b.error("Tag could be omitted only for .use()"):g.use===null&&(w=this._encodeComposite(M,A,O,_))}return g.explicit!==null&&(w=this._encodeComposite(g.explicit,!1,"context",w)),w},m.prototype._encodeChoice=function(d,b){const v=this._baseState,g=v.choice[d.type];return g||a(!1,d.type+" not found in "+JSON.stringify(Object.keys(v.choice))),g._encode(d.value,b)},m.prototype._encodePrimitive=function(d,b){const v=this._baseState;if(/str$/.test(d))return this._encodeStr(b,d);if(d==="objid"&&v.args)return this._encodeObjid(b,v.reverseArgs[0],v.args[1]);if(d==="objid")return this._encodeObjid(b,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(b,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(b,v.args&&v.reverseArgs[0]);if(d==="bool")return this._encodeBool(b);if(d==="objDesc")return this._encodeStr(b,d);throw new Error("Unsupported tag: "+d)},m.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},m.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,i,c){const o=t("inherits");function s(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}function h(a,n){this.path=a,this.rethrow(n)}c.Reporter=s,s.prototype.isError=function(a){return a instanceof h},s.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},s.prototype.restore=function(a){const n=this._reporterState;n.obj=a.obj,n.path=n.path.slice(0,a.pathLen)},s.prototype.enterKey=function(a){return this._reporterState.path.push(a)},s.prototype.exitKey=function(a){const n=this._reporterState;n.path=n.path.slice(0,a-1)},s.prototype.leaveKey=function(a,n,u){const m=this._reporterState;this.exitKey(a),m.obj!==null&&(m.obj[n]=u)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const a=this._reporterState,n=a.obj;return a.obj={},n},s.prototype.leaveObject=function(a){const n=this._reporterState,u=n.obj;return n.obj=a,u},s.prototype.error=function(a){let n;const u=this._reporterState,m=a instanceof h;if(n=m?a:new h(u.path.map((function(f){return"["+JSON.stringify(f)+"]"})).join(""),a.message||a,a.stack),!u.options.partial)throw n;return m||u.errors.push(n),n},s.prototype.wrapResult=function(a){const n=this._reporterState;return n.options.partial?{result:this.isError(a)?null:a,errors:n.errors}:a},o(h,Error),h.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,h),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this}},{inherits:440}],176:[function(t,i,c){function o(s){const h={};return Object.keys(s).forEach((function(a){(0|a)==a&&(a|=0);const n=s[a];h[n]=a})),h}c.tagClass={0:"universal",1:"application",2:"context",3:"private"},c.tagClassByName=o(c.tagClass),c.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},c.tagByName=o(c.tag)},{}],177:[function(t,i,c){const o=c;o._reverse=function(s){const h={};return Object.keys(s).forEach((function(a){(0|a)==a&&(a|=0);const n=s[a];h[n]=a})),h},o.der=t("./der")},{"./der":176}],178:[function(t,i,c){const o=t("inherits"),s=t("bn.js"),h=t("../base/buffer").DecoderBuffer,a=t("../base/node"),n=t("../constants/der");function u(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new m,this.tree._init(b.body)}function m(b){a.call(this,"der",b)}function f(b,v){let g=b.readUInt8(v);if(b.isError(g))return g;const w=n.tagClass[g>>6],_=(32&g)==0;if((31&g)==31){let A=g;for(g=0;(128&A)==128;){if(A=b.readUInt8(v),b.isError(A))return A;g<<=7,g|=127&A}}else g&=31;return{cls:w,primitive:_,tag:g,tagStr:n.tag[g]}}function d(b,v,g){let w=b.readUInt8(g);if(b.isError(w))return w;if(!v&&w===128)return null;if((128&w)==0)return w;const _=127&w;if(_>4)return b.error("length octect is too long");w=0;for(let A=0;A<_;A++){w<<=8;const M=b.readUInt8(g);if(b.isError(M))return M;w|=M}return w}i.exports=u,u.prototype.decode=function(b,v){return h.isDecoderBuffer(b)||(b=new h(b,v)),this.tree._decode(b,v)},o(m,a),m.prototype._peekTag=function(b,v,g){if(b.isEmpty())return!1;const w=b.save(),_=f(b,'Failed to peek tag: "'+v+'"');return b.isError(_)?_:(b.restore(w),_.tag===v||_.tagStr===v||_.tagStr+"of"===v||g)},m.prototype._decodeTag=function(b,v,g){const w=f(b,'Failed to decode tag of "'+v+'"');if(b.isError(w))return w;let _=d(b,w.primitive,'Failed to get length of "'+v+'"');if(b.isError(_))return _;if(!g&&w.tag!==v&&w.tagStr!==v&&w.tagStr+"of"!==v)return b.error('Failed to match tag: "'+v+'"');if(w.primitive||_!==null)return b.skip(_,'Failed to match body of: "'+v+'"');const A=b.save(),M=this._skipUntilEnd(b,'Failed to skip indefinite length body: "'+this.tag+'"');return b.isError(M)?M:(_=b.offset-A.offset,b.restore(A),b.skip(_,'Failed to match body of: "'+v+'"'))},m.prototype._skipUntilEnd=function(b,v){for(;;){const g=f(b,v);if(b.isError(g))return g;const w=d(b,g.primitive,v);if(b.isError(w))return w;let _;if(_=g.primitive||w!==null?b.skip(w):this._skipUntilEnd(b,v),b.isError(_))return _;if(g.tagStr==="end")break}},m.prototype._decodeList=function(b,v,g,w){const _=[];for(;!b.isEmpty();){const A=this._peekTag(b,"end");if(b.isError(A))return A;const M=g.decode(b,"der",w);if(b.isError(M)&&A)break;_.push(M)}return _},m.prototype._decodeStr=function(b,v){if(v==="bitstr"){const g=b.readUInt8();return b.isError(g)?g:{unused:g,data:b.raw()}}if(v==="bmpstr"){const g=b.raw();if(g.length%2==1)return b.error("Decoding of string type: bmpstr length mismatch");let w="";for(let _=0;_<g.length/2;_++)w+=String.fromCharCode(g.readUInt16BE(2*_));return w}if(v==="numstr"){const g=b.raw().toString("ascii");return this._isNumstr(g)?g:b.error("Decoding of string type: numstr unsupported characters")}if(v==="octstr"||v==="objDesc")return b.raw();if(v==="printstr"){const g=b.raw().toString("ascii");return this._isPrintstr(g)?g:b.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(v)?b.raw().toString():b.error("Decoding of string type: "+v+" unsupported")},m.prototype._decodeObjid=function(b,v,g){let w;const _=[];let A=0,M=0;for(;!b.isEmpty();)M=b.readUInt8(),A<<=7,A|=127&M,(128&M)==0&&(_.push(A),A=0);128&M&&_.push(A);const O=_[0]/40|0,q=_[0]%40;if(w=g?_:[O,q].concat(_.slice(1)),v){let F=v[w.join(" ")];F===void 0&&(F=v[w.join(".")]),F!==void 0&&(w=F)}return w},m.prototype._decodeTime=function(b,v){const g=b.raw().toString();let w,_,A,M,O,q;if(v==="gentime")w=0|g.slice(0,4),_=0|g.slice(4,6),A=0|g.slice(6,8),M=0|g.slice(8,10),O=0|g.slice(10,12),q=0|g.slice(12,14);else{if(v!=="utctime")return b.error("Decoding "+v+" time is not supported yet");w=0|g.slice(0,2),_=0|g.slice(2,4),A=0|g.slice(4,6),M=0|g.slice(6,8),O=0|g.slice(8,10),q=0|g.slice(10,12),w=w<70?2e3+w:1900+w}return Date.UTC(w,_-1,A,M,O,q,0)},m.prototype._decodeNull=function(){return null},m.prototype._decodeBool=function(b){const v=b.readUInt8();return b.isError(v)?v:v!==0},m.prototype._decodeInt=function(b,v){const g=b.raw();let w=new s(g);return v&&(w=v[w.toString(10)]||w),w},m.prototype._use=function(b,v){return typeof b=="function"&&(b=b(v)),b._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,i,c){const o=c;o.der=t("./der"),o.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,i,c){const o=t("inherits"),s=t("safer-buffer").Buffer,h=t("./der");function a(n){h.call(this,n),this.enc="pem"}o(a,h),i.exports=a,a.prototype.decode=function(n,u){const m=n.toString().split(/[\r\n]+/g),f=u.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let b=-1,v=-1;for(let _=0;_<m.length;_++){const A=m[_].match(d);if(A!==null&&A[2]===f){if(b!==-1){if(A[1]!=="END")break;v=_;break}if(A[1]!=="BEGIN")break;b=_}}if(b===-1||v===-1)throw new Error("PEM section not found for: "+f);const g=m.slice(b+1,v).join("");g.replace(/[^a-z0-9+/=]+/gi,"");const w=s.from(g,"base64");return h.prototype.decode.call(this,w,u)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,i,c){const o=t("inherits"),s=t("safer-buffer").Buffer,h=t("../base/node"),a=t("../constants/der");function n(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new u,this.tree._init(f.body)}function u(f){h.call(this,"der",f)}function m(f){return f<10?"0"+f:f}i.exports=n,n.prototype.encode=function(f,d){return this.tree._encode(f,d).join()},o(u,h),u.prototype._encodeComposite=function(f,d,b,v){const g=(function(A,M,O,q){let F;if(A==="seqof"?A="seq":A==="setof"&&(A="set"),a.tagByName.hasOwnProperty(A))F=a.tagByName[A];else{if(typeof A!="number"||(0|A)!==A)return q.error("Unknown tag: "+A);F=A}return F>=31?q.error("Multi-octet tag encoding unsupported"):(M||(F|=32),F|=a.tagClassByName[O||"universal"]<<6,F)})(f,d,b,this.reporter);if(v.length<128){const A=s.alloc(2);return A[0]=g,A[1]=v.length,this._createEncoderBuffer([A,v])}let w=1;for(let A=v.length;A>=256;A>>=8)w++;const _=s.alloc(2+w);_[0]=g,_[1]=128|w;for(let A=1+w,M=v.length;M>0;A--,M>>=8)_[A]=255&M;return this._createEncoderBuffer([_,v])},u.prototype._encodeStr=function(f,d){if(d==="bitstr")return this._createEncoderBuffer([0|f.unused,f.data]);if(d==="bmpstr"){const b=s.alloc(2*f.length);for(let v=0;v<f.length;v++)b.writeUInt16BE(f.charCodeAt(v),2*v);return this._createEncoderBuffer(b)}return d==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+d+" unsupported")},u.prototype._encodeObjid=function(f,d,b){if(typeof f=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=d[f].split(/[\s.]+/g);for(let _=0;_<f.length;_++)f[_]|=0}else if(Array.isArray(f)){f=f.slice();for(let _=0;_<f.length;_++)f[_]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!b){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,40*f[0]+f[1])}let v=0;for(let _=0;_<f.length;_++){let A=f[_];for(v++;A>=128;A>>=7)v++}const g=s.alloc(v);let w=g.length-1;for(let _=f.length-1;_>=0;_--){let A=f[_];for(g[w--]=127&A;(A>>=7)>0;)g[w--]=128|127&A}return this._createEncoderBuffer(g)},u.prototype._encodeTime=function(f,d){let b;const v=new Date(f);return d==="gentime"?b=[m(v.getUTCFullYear()),m(v.getUTCMonth()+1),m(v.getUTCDate()),m(v.getUTCHours()),m(v.getUTCMinutes()),m(v.getUTCSeconds()),"Z"].join(""):d==="utctime"?b=[m(v.getUTCFullYear()%100),m(v.getUTCMonth()+1),m(v.getUTCDate()),m(v.getUTCHours()),m(v.getUTCMinutes()),m(v.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(b,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(f,d){if(typeof f=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=d[f]}if(typeof f!="number"&&!s.isBuffer(f)){const g=f.toArray();!f.sign&&128&g[0]&&g.unshift(0),f=s.from(g)}if(s.isBuffer(f)){let g=f.length;f.length===0&&g++;const w=s.alloc(g);return f.copy(w),f.length===0&&(w[0]=0),this._createEncoderBuffer(w)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);let b=1;for(let g=f;g>=256;g>>=8)b++;const v=new Array(b);for(let g=v.length-1;g>=0;g--)v[g]=255&f,f>>=8;return 128&v[0]&&v.unshift(0),this._createEncoderBuffer(s.from(v))},u.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},u.prototype._use=function(f,d){return typeof f=="function"&&(f=f(d)),f._getEncoder("der").tree},u.prototype._skipDefault=function(f,d,b){const v=this._baseState;let g;if(v.default===null)return!1;const w=f.join();if(v.defaultBuffer===void 0&&(v.defaultBuffer=this._encodeValue(v.default,d,b).join()),w.length!==v.defaultBuffer.length)return!1;for(g=0;g<w.length;g++)if(w[g]!==v.defaultBuffer[g])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,i,c){const o=c;o.der=t("./der"),o.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,i,c){const o=t("inherits"),s=t("./der");function h(a){s.call(this,a),this.enc="pem"}o(h,s),i.exports=h,h.prototype.encode=function(a,n){const u=s.prototype.encode.call(this,a).toString("base64"),m=["-----BEGIN "+n.label+"-----"];for(let f=0;f<u.length;f+=64)m.push(u.slice(f,f+64));return m.push("-----END "+n.label+"-----"),m.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,i,c){(function(o,s){function h(R,P){if(!R)throw new Error(P||"Assertion failed")}function a(R,P){R.super_=P;var k=function(){};k.prototype=P.prototype,R.prototype=new k,R.prototype.constructor=R}function n(R,P,k){if(n.isBN(R))return R;this.negative=0,this.words=null,this.length=0,this.red=null,R!==null&&(P!=="le"&&P!=="be"||(k=P,P=10),this._init(R||0,P||10,k||"be"))}var u;typeof o=="object"?o.exports=n:(void 0).BN=n,n.BN=n,n.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function m(R,P){var k=R.charCodeAt(P);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function f(R,P,k){var x=m(R,k);return k-1>=P&&(x|=m(R,k-1)<<4),x}function d(R,P,k,x){for(var S=0,T=Math.min(R.length,k),E=P;E<T;E++){var N=R.charCodeAt(E)-48;S*=x,S+=N>=49?N-49+10:N>=17?N-17+10:N}return S}n.isBN=function(R){return R instanceof n||R!==null&&typeof R=="object"&&R.constructor.wordSize===n.wordSize&&Array.isArray(R.words)},n.max=function(R,P){return R.cmp(P)>0?R:P},n.min=function(R,P){return R.cmp(P)<0?R:P},n.prototype._init=function(R,P,k){if(typeof R=="number")return this._initNumber(R,P,k);if(typeof R=="object")return this._initArray(R,P,k);P==="hex"&&(P=16),h(P===(0|P)&&P>=2&&P<=36);var x=0;(R=R.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<R.length&&(P===16?this._parseHex(R,x,k):(this._parseBase(R,P,x),k==="le"&&this._initArray(this.toArray(),P,k)))},n.prototype._initNumber=function(R,P,k){R<0&&(this.negative=1,R=-R),R<67108864?(this.words=[67108863&R],this.length=1):R<4503599627370496?(this.words=[67108863&R,R/67108864&67108863],this.length=2):(h(R<9007199254740992),this.words=[67108863&R,R/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),P,k)},n.prototype._initArray=function(R,P,k){if(h(typeof R.length=="number"),R.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(R.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,T,E=0;if(k==="be")for(x=R.length-1,S=0;x>=0;x-=3)T=R[x]|R[x-1]<<8|R[x-2]<<16,this.words[S]|=T<<E&67108863,this.words[S+1]=T>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);else if(k==="le")for(x=0,S=0;x<R.length;x+=3)T=R[x]|R[x+1]<<8|R[x+2]<<16,this.words[S]|=T<<E&67108863,this.words[S+1]=T>>>26-E&67108863,(E+=24)>=26&&(E-=26,S++);return this.strip()},n.prototype._parseHex=function(R,P,k){this.length=Math.ceil((R.length-P)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var S,T=0,E=0;if(k==="be")for(x=R.length-1;x>=P;x-=2)S=f(R,P,x)<<T,this.words[E]|=67108863&S,T>=18?(T-=18,E+=1,this.words[E]|=S>>>26):T+=8;else for(x=(R.length-P)%2==0?P+1:P;x<R.length;x+=2)S=f(R,P,x)<<T,this.words[E]|=67108863&S,T>=18?(T-=18,E+=1,this.words[E]|=S>>>26):T+=8;this.strip()},n.prototype._parseBase=function(R,P,k){this.words=[0],this.length=1;for(var x=0,S=1;S<=67108863;S*=P)x++;x--,S=S/P|0;for(var T=R.length-k,E=T%x,N=Math.min(T,T-E)+k,I=0,B=k;B<N;B+=x)I=d(R,B,B+x,P),this.imuln(S),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(E!==0){var K=1;for(I=d(R,B,R.length,P),B=0;B<E;B++)K*=P;this.imuln(K),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},n.prototype.copy=function(R){R.words=new Array(this.length);for(var P=0;P<this.length;P++)R.words[P]=this.words[P];R.length=this.length,R.negative=this.negative,R.red=this.red},n.prototype.clone=function(){var R=new n(null);return this.copy(R),R},n.prototype._expand=function(R){for(;this.length<R;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function w(R,P,k){k.negative=P.negative^R.negative;var x=R.length+P.length|0;k.length=x,x=x-1|0;var S=0|R.words[0],T=0|P.words[0],E=S*T,N=67108863&E,I=E/67108864|0;k.words[0]=N;for(var B=1;B<x;B++){for(var K=I>>>26,Z=67108863&I,nt=Math.min(B,P.length-1),$=Math.max(0,B-R.length+1);$<=nt;$++){var tt=B-$|0;K+=(E=(S=0|R.words[tt])*(T=0|P.words[$])+Z)/67108864|0,Z=67108863&E}k.words[B]=0|Z,I=0|K}return I!==0?k.words[B]=0|I:k.length--,k.strip()}n.prototype.toString=function(R,P){var k;if(P=0|P||1,(R=R||10)===16||R==="hex"){k="";for(var x=0,S=0,T=0;T<this.length;T++){var E=this.words[T],N=(16777215&(E<<x|S)).toString(16);k=(S=E>>>24-x&16777215)!==0||T!==this.length-1?b[6-N.length]+N+k:N+k,(x+=2)>=26&&(x-=26,T--)}for(S!==0&&(k=S.toString(16)+k);k.length%P!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(R===(0|R)&&R>=2&&R<=36){var I=v[R],B=g[R];k="";var K=this.clone();for(K.negative=0;!K.isZero();){var Z=K.modn(B).toString(R);k=(K=K.idivn(B)).isZero()?Z+k:b[I-Z.length]+Z+k}for(this.isZero()&&(k="0"+k);k.length%P!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}h(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var R=this.words[0];return this.length===2?R+=67108864*this.words[1]:this.length===3&&this.words[2]===1?R+=4503599627370496+67108864*this.words[1]:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-R:R},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(R,P){return h(u!==void 0),this.toArrayLike(u,R,P)},n.prototype.toArray=function(R,P){return this.toArrayLike(Array,R,P)},n.prototype.toArrayLike=function(R,P,k){var x=this.byteLength(),S=k||Math.max(1,x);h(x<=S,"byte array longer than desired length"),h(S>0,"Requested array length <= 0"),this.strip();var T,E,N=P==="le",I=new R(S),B=this.clone();if(N){for(E=0;!B.isZero();E++)T=B.andln(255),B.iushrn(8),I[E]=T;for(;E<S;E++)I[E]=0}else{for(E=0;E<S-x;E++)I[E]=0;for(E=0;!B.isZero();E++)T=B.andln(255),B.iushrn(8),I[S-E-1]=T}return I},Math.clz32?n.prototype._countBits=function(R){return 32-Math.clz32(R)}:n.prototype._countBits=function(R){var P=R,k=0;return P>=4096&&(k+=13,P>>>=13),P>=64&&(k+=7,P>>>=7),P>=8&&(k+=4,P>>>=4),P>=2&&(k+=2,P>>>=2),k+P},n.prototype._zeroBits=function(R){if(R===0)return 26;var P=R,k=0;return(8191&P)==0&&(k+=13,P>>>=13),(127&P)==0&&(k+=7,P>>>=7),(15&P)==0&&(k+=4,P>>>=4),(3&P)==0&&(k+=2,P>>>=2),(1&P)==0&&k++,k},n.prototype.bitLength=function(){var R=this.words[this.length-1],P=this._countBits(R);return 26*(this.length-1)+P},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var R=0,P=0;P<this.length;P++){var k=this._zeroBits(this.words[P]);if(R+=k,k!==26)break}return R},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(R){return this.negative!==0?this.abs().inotn(R).iaddn(1):this.clone()},n.prototype.fromTwos=function(R){return this.testn(R-1)?this.notn(R).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(R){for(;this.length<R.length;)this.words[this.length++]=0;for(var P=0;P<R.length;P++)this.words[P]=this.words[P]|R.words[P];return this.strip()},n.prototype.ior=function(R){return h((this.negative|R.negative)==0),this.iuor(R)},n.prototype.or=function(R){return this.length>R.length?this.clone().ior(R):R.clone().ior(this)},n.prototype.uor=function(R){return this.length>R.length?this.clone().iuor(R):R.clone().iuor(this)},n.prototype.iuand=function(R){var P;P=this.length>R.length?R:this;for(var k=0;k<P.length;k++)this.words[k]=this.words[k]&R.words[k];return this.length=P.length,this.strip()},n.prototype.iand=function(R){return h((this.negative|R.negative)==0),this.iuand(R)},n.prototype.and=function(R){return this.length>R.length?this.clone().iand(R):R.clone().iand(this)},n.prototype.uand=function(R){return this.length>R.length?this.clone().iuand(R):R.clone().iuand(this)},n.prototype.iuxor=function(R){var P,k;this.length>R.length?(P=this,k=R):(P=R,k=this);for(var x=0;x<k.length;x++)this.words[x]=P.words[x]^k.words[x];if(this!==P)for(;x<P.length;x++)this.words[x]=P.words[x];return this.length=P.length,this.strip()},n.prototype.ixor=function(R){return h((this.negative|R.negative)==0),this.iuxor(R)},n.prototype.xor=function(R){return this.length>R.length?this.clone().ixor(R):R.clone().ixor(this)},n.prototype.uxor=function(R){return this.length>R.length?this.clone().iuxor(R):R.clone().iuxor(this)},n.prototype.inotn=function(R){h(typeof R=="number"&&R>=0);var P=0|Math.ceil(R/26),k=R%26;this._expand(P),k>0&&P--;for(var x=0;x<P;x++)this.words[x]=67108863&~this.words[x];return k>0&&(this.words[x]=~this.words[x]&67108863>>26-k),this.strip()},n.prototype.notn=function(R){return this.clone().inotn(R)},n.prototype.setn=function(R,P){h(typeof R=="number"&&R>=0);var k=R/26|0,x=R%26;return this._expand(k+1),this.words[k]=P?this.words[k]|1<<x:this.words[k]&~(1<<x),this.strip()},n.prototype.iadd=function(R){var P,k,x;if(this.negative!==0&&R.negative===0)return this.negative=0,P=this.isub(R),this.negative^=1,this._normSign();if(this.negative===0&&R.negative!==0)return R.negative=0,P=this.isub(R),R.negative=1,P._normSign();this.length>R.length?(k=this,x=R):(k=R,x=this);for(var S=0,T=0;T<x.length;T++)P=(0|k.words[T])+(0|x.words[T])+S,this.words[T]=67108863&P,S=P>>>26;for(;S!==0&&T<k.length;T++)P=(0|k.words[T])+S,this.words[T]=67108863&P,S=P>>>26;if(this.length=k.length,S!==0)this.words[this.length]=S,this.length++;else if(k!==this)for(;T<k.length;T++)this.words[T]=k.words[T];return this},n.prototype.add=function(R){var P;return R.negative!==0&&this.negative===0?(R.negative=0,P=this.sub(R),R.negative^=1,P):R.negative===0&&this.negative!==0?(this.negative=0,P=R.sub(this),this.negative=1,P):this.length>R.length?this.clone().iadd(R):R.clone().iadd(this)},n.prototype.isub=function(R){if(R.negative!==0){R.negative=0;var P=this.iadd(R);return R.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(R),this.negative=1,this._normSign();var k,x,S=this.cmp(R);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(k=this,x=R):(k=R,x=this);for(var T=0,E=0;E<x.length;E++)T=(P=(0|k.words[E])-(0|x.words[E])+T)>>26,this.words[E]=67108863&P;for(;T!==0&&E<k.length;E++)T=(P=(0|k.words[E])+T)>>26,this.words[E]=67108863&P;if(T===0&&E<k.length&&k!==this)for(;E<k.length;E++)this.words[E]=k.words[E];return this.length=Math.max(this.length,E),k!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(R){return this.clone().isub(R)};var _=function(R,P,k){var x,S,T,E=R.words,N=P.words,I=k.words,B=0,K=0|E[0],Z=8191&K,nt=K>>>13,$=0|E[1],tt=8191&$,U=$>>>13,L=0|E[2],Q=8191&L,it=L>>>13,ut=0|E[3],st=8191&ut,lt=ut>>>13,bt=0|E[4],yt=8191&bt,at=bt>>>13,pt=0|E[5],dt=8191&pt,vt=pt>>>13,xt=0|E[6],wt=8191&xt,jt=xt>>>13,It=0|E[7],Ht=8191&It,ee=It>>>13,Qt=0|E[8],Kt=8191&Qt,be=Qt>>>13,fe=0|E[9],de=8191&fe,ge=fe>>>13,Zt=0|N[0],Gt=8191&Zt,te=Zt>>>13,re=0|N[1],oe=8191&re,Oe=re>>>13,We=0|N[2],he=8191&We,Ve=We>>>13,ve=0|N[3],we=8191&ve,ze=ve>>>13,Ne=0|N[4],_e=8191&Ne,He=Ne>>>13,qe=0|N[5],Se=8191&qe,Je=qe>>>13,Ke=0|N[6],Ce=8191&Ke,mt=Ke>>>13,Tt=0|N[7],Dt=8191&Tt,Jt=Tt>>>13,pe=0|N[8],Xt=8191&pe,le=pe>>>13,Lt=0|N[9],Yt=8191&Lt,ue=Lt>>>13;k.negative=R.negative^P.negative,k.length=19;var se=(B+(x=Math.imul(Z,Gt))|0)+((8191&(S=(S=Math.imul(Z,te))+Math.imul(nt,Gt)|0))<<13)|0;B=((T=Math.imul(nt,te))+(S>>>13)|0)+(se>>>26)|0,se&=67108863,x=Math.imul(tt,Gt),S=(S=Math.imul(tt,te))+Math.imul(U,Gt)|0,T=Math.imul(U,te);var ke=(B+(x=x+Math.imul(Z,oe)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Oe)|0)+Math.imul(nt,oe)|0))<<13)|0;B=((T=T+Math.imul(nt,Oe)|0)+(S>>>13)|0)+(ke>>>26)|0,ke&=67108863,x=Math.imul(Q,Gt),S=(S=Math.imul(Q,te))+Math.imul(it,Gt)|0,T=Math.imul(it,te),x=x+Math.imul(tt,oe)|0,S=(S=S+Math.imul(tt,Oe)|0)+Math.imul(U,oe)|0,T=T+Math.imul(U,Oe)|0;var br=(B+(x=x+Math.imul(Z,he)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Ve)|0)+Math.imul(nt,he)|0))<<13)|0;B=((T=T+Math.imul(nt,Ve)|0)+(S>>>13)|0)+(br>>>26)|0,br&=67108863,x=Math.imul(st,Gt),S=(S=Math.imul(st,te))+Math.imul(lt,Gt)|0,T=Math.imul(lt,te),x=x+Math.imul(Q,oe)|0,S=(S=S+Math.imul(Q,Oe)|0)+Math.imul(it,oe)|0,T=T+Math.imul(it,Oe)|0,x=x+Math.imul(tt,he)|0,S=(S=S+Math.imul(tt,Ve)|0)+Math.imul(U,he)|0,T=T+Math.imul(U,Ve)|0;var tr=(B+(x=x+Math.imul(Z,we)|0)|0)+((8191&(S=(S=S+Math.imul(Z,ze)|0)+Math.imul(nt,we)|0))<<13)|0;B=((T=T+Math.imul(nt,ze)|0)+(S>>>13)|0)+(tr>>>26)|0,tr&=67108863,x=Math.imul(yt,Gt),S=(S=Math.imul(yt,te))+Math.imul(at,Gt)|0,T=Math.imul(at,te),x=x+Math.imul(st,oe)|0,S=(S=S+Math.imul(st,Oe)|0)+Math.imul(lt,oe)|0,T=T+Math.imul(lt,Oe)|0,x=x+Math.imul(Q,he)|0,S=(S=S+Math.imul(Q,Ve)|0)+Math.imul(it,he)|0,T=T+Math.imul(it,Ve)|0,x=x+Math.imul(tt,we)|0,S=(S=S+Math.imul(tt,ze)|0)+Math.imul(U,we)|0,T=T+Math.imul(U,ze)|0;var Tr=(B+(x=x+Math.imul(Z,_e)|0)|0)+((8191&(S=(S=S+Math.imul(Z,He)|0)+Math.imul(nt,_e)|0))<<13)|0;B=((T=T+Math.imul(nt,He)|0)+(S>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,x=Math.imul(dt,Gt),S=(S=Math.imul(dt,te))+Math.imul(vt,Gt)|0,T=Math.imul(vt,te),x=x+Math.imul(yt,oe)|0,S=(S=S+Math.imul(yt,Oe)|0)+Math.imul(at,oe)|0,T=T+Math.imul(at,Oe)|0,x=x+Math.imul(st,he)|0,S=(S=S+Math.imul(st,Ve)|0)+Math.imul(lt,he)|0,T=T+Math.imul(lt,Ve)|0,x=x+Math.imul(Q,we)|0,S=(S=S+Math.imul(Q,ze)|0)+Math.imul(it,we)|0,T=T+Math.imul(it,ze)|0,x=x+Math.imul(tt,_e)|0,S=(S=S+Math.imul(tt,He)|0)+Math.imul(U,_e)|0,T=T+Math.imul(U,He)|0;var dr=(B+(x=x+Math.imul(Z,Se)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Je)|0)+Math.imul(nt,Se)|0))<<13)|0;B=((T=T+Math.imul(nt,Je)|0)+(S>>>13)|0)+(dr>>>26)|0,dr&=67108863,x=Math.imul(wt,Gt),S=(S=Math.imul(wt,te))+Math.imul(jt,Gt)|0,T=Math.imul(jt,te),x=x+Math.imul(dt,oe)|0,S=(S=S+Math.imul(dt,Oe)|0)+Math.imul(vt,oe)|0,T=T+Math.imul(vt,Oe)|0,x=x+Math.imul(yt,he)|0,S=(S=S+Math.imul(yt,Ve)|0)+Math.imul(at,he)|0,T=T+Math.imul(at,Ve)|0,x=x+Math.imul(st,we)|0,S=(S=S+Math.imul(st,ze)|0)+Math.imul(lt,we)|0,T=T+Math.imul(lt,ze)|0,x=x+Math.imul(Q,_e)|0,S=(S=S+Math.imul(Q,He)|0)+Math.imul(it,_e)|0,T=T+Math.imul(it,He)|0,x=x+Math.imul(tt,Se)|0,S=(S=S+Math.imul(tt,Je)|0)+Math.imul(U,Se)|0,T=T+Math.imul(U,Je)|0;var _r=(B+(x=x+Math.imul(Z,Ce)|0)|0)+((8191&(S=(S=S+Math.imul(Z,mt)|0)+Math.imul(nt,Ce)|0))<<13)|0;B=((T=T+Math.imul(nt,mt)|0)+(S>>>13)|0)+(_r>>>26)|0,_r&=67108863,x=Math.imul(Ht,Gt),S=(S=Math.imul(Ht,te))+Math.imul(ee,Gt)|0,T=Math.imul(ee,te),x=x+Math.imul(wt,oe)|0,S=(S=S+Math.imul(wt,Oe)|0)+Math.imul(jt,oe)|0,T=T+Math.imul(jt,Oe)|0,x=x+Math.imul(dt,he)|0,S=(S=S+Math.imul(dt,Ve)|0)+Math.imul(vt,he)|0,T=T+Math.imul(vt,Ve)|0,x=x+Math.imul(yt,we)|0,S=(S=S+Math.imul(yt,ze)|0)+Math.imul(at,we)|0,T=T+Math.imul(at,ze)|0,x=x+Math.imul(st,_e)|0,S=(S=S+Math.imul(st,He)|0)+Math.imul(lt,_e)|0,T=T+Math.imul(lt,He)|0,x=x+Math.imul(Q,Se)|0,S=(S=S+Math.imul(Q,Je)|0)+Math.imul(it,Se)|0,T=T+Math.imul(it,Je)|0,x=x+Math.imul(tt,Ce)|0,S=(S=S+Math.imul(tt,mt)|0)+Math.imul(U,Ce)|0,T=T+Math.imul(U,mt)|0;var ht=(B+(x=x+Math.imul(Z,Dt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,Jt)|0)+Math.imul(nt,Dt)|0))<<13)|0;B=((T=T+Math.imul(nt,Jt)|0)+(S>>>13)|0)+(ht>>>26)|0,ht&=67108863,x=Math.imul(Kt,Gt),S=(S=Math.imul(Kt,te))+Math.imul(be,Gt)|0,T=Math.imul(be,te),x=x+Math.imul(Ht,oe)|0,S=(S=S+Math.imul(Ht,Oe)|0)+Math.imul(ee,oe)|0,T=T+Math.imul(ee,Oe)|0,x=x+Math.imul(wt,he)|0,S=(S=S+Math.imul(wt,Ve)|0)+Math.imul(jt,he)|0,T=T+Math.imul(jt,Ve)|0,x=x+Math.imul(dt,we)|0,S=(S=S+Math.imul(dt,ze)|0)+Math.imul(vt,we)|0,T=T+Math.imul(vt,ze)|0,x=x+Math.imul(yt,_e)|0,S=(S=S+Math.imul(yt,He)|0)+Math.imul(at,_e)|0,T=T+Math.imul(at,He)|0,x=x+Math.imul(st,Se)|0,S=(S=S+Math.imul(st,Je)|0)+Math.imul(lt,Se)|0,T=T+Math.imul(lt,Je)|0,x=x+Math.imul(Q,Ce)|0,S=(S=S+Math.imul(Q,mt)|0)+Math.imul(it,Ce)|0,T=T+Math.imul(it,mt)|0,x=x+Math.imul(tt,Dt)|0,S=(S=S+Math.imul(tt,Jt)|0)+Math.imul(U,Dt)|0,T=T+Math.imul(U,Jt)|0;var ft=(B+(x=x+Math.imul(Z,Xt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,le)|0)+Math.imul(nt,Xt)|0))<<13)|0;B=((T=T+Math.imul(nt,le)|0)+(S>>>13)|0)+(ft>>>26)|0,ft&=67108863,x=Math.imul(de,Gt),S=(S=Math.imul(de,te))+Math.imul(ge,Gt)|0,T=Math.imul(ge,te),x=x+Math.imul(Kt,oe)|0,S=(S=S+Math.imul(Kt,Oe)|0)+Math.imul(be,oe)|0,T=T+Math.imul(be,Oe)|0,x=x+Math.imul(Ht,he)|0,S=(S=S+Math.imul(Ht,Ve)|0)+Math.imul(ee,he)|0,T=T+Math.imul(ee,Ve)|0,x=x+Math.imul(wt,we)|0,S=(S=S+Math.imul(wt,ze)|0)+Math.imul(jt,we)|0,T=T+Math.imul(jt,ze)|0,x=x+Math.imul(dt,_e)|0,S=(S=S+Math.imul(dt,He)|0)+Math.imul(vt,_e)|0,T=T+Math.imul(vt,He)|0,x=x+Math.imul(yt,Se)|0,S=(S=S+Math.imul(yt,Je)|0)+Math.imul(at,Se)|0,T=T+Math.imul(at,Je)|0,x=x+Math.imul(st,Ce)|0,S=(S=S+Math.imul(st,mt)|0)+Math.imul(lt,Ce)|0,T=T+Math.imul(lt,mt)|0,x=x+Math.imul(Q,Dt)|0,S=(S=S+Math.imul(Q,Jt)|0)+Math.imul(it,Dt)|0,T=T+Math.imul(it,Jt)|0,x=x+Math.imul(tt,Xt)|0,S=(S=S+Math.imul(tt,le)|0)+Math.imul(U,Xt)|0,T=T+Math.imul(U,le)|0;var St=(B+(x=x+Math.imul(Z,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(Z,ue)|0)+Math.imul(nt,Yt)|0))<<13)|0;B=((T=T+Math.imul(nt,ue)|0)+(S>>>13)|0)+(St>>>26)|0,St&=67108863,x=Math.imul(de,oe),S=(S=Math.imul(de,Oe))+Math.imul(ge,oe)|0,T=Math.imul(ge,Oe),x=x+Math.imul(Kt,he)|0,S=(S=S+Math.imul(Kt,Ve)|0)+Math.imul(be,he)|0,T=T+Math.imul(be,Ve)|0,x=x+Math.imul(Ht,we)|0,S=(S=S+Math.imul(Ht,ze)|0)+Math.imul(ee,we)|0,T=T+Math.imul(ee,ze)|0,x=x+Math.imul(wt,_e)|0,S=(S=S+Math.imul(wt,He)|0)+Math.imul(jt,_e)|0,T=T+Math.imul(jt,He)|0,x=x+Math.imul(dt,Se)|0,S=(S=S+Math.imul(dt,Je)|0)+Math.imul(vt,Se)|0,T=T+Math.imul(vt,Je)|0,x=x+Math.imul(yt,Ce)|0,S=(S=S+Math.imul(yt,mt)|0)+Math.imul(at,Ce)|0,T=T+Math.imul(at,mt)|0,x=x+Math.imul(st,Dt)|0,S=(S=S+Math.imul(st,Jt)|0)+Math.imul(lt,Dt)|0,T=T+Math.imul(lt,Jt)|0,x=x+Math.imul(Q,Xt)|0,S=(S=S+Math.imul(Q,le)|0)+Math.imul(it,Xt)|0,T=T+Math.imul(it,le)|0;var Mt=(B+(x=x+Math.imul(tt,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(tt,ue)|0)+Math.imul(U,Yt)|0))<<13)|0;B=((T=T+Math.imul(U,ue)|0)+(S>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,x=Math.imul(de,he),S=(S=Math.imul(de,Ve))+Math.imul(ge,he)|0,T=Math.imul(ge,Ve),x=x+Math.imul(Kt,we)|0,S=(S=S+Math.imul(Kt,ze)|0)+Math.imul(be,we)|0,T=T+Math.imul(be,ze)|0,x=x+Math.imul(Ht,_e)|0,S=(S=S+Math.imul(Ht,He)|0)+Math.imul(ee,_e)|0,T=T+Math.imul(ee,He)|0,x=x+Math.imul(wt,Se)|0,S=(S=S+Math.imul(wt,Je)|0)+Math.imul(jt,Se)|0,T=T+Math.imul(jt,Je)|0,x=x+Math.imul(dt,Ce)|0,S=(S=S+Math.imul(dt,mt)|0)+Math.imul(vt,Ce)|0,T=T+Math.imul(vt,mt)|0,x=x+Math.imul(yt,Dt)|0,S=(S=S+Math.imul(yt,Jt)|0)+Math.imul(at,Dt)|0,T=T+Math.imul(at,Jt)|0,x=x+Math.imul(st,Xt)|0,S=(S=S+Math.imul(st,le)|0)+Math.imul(lt,Xt)|0,T=T+Math.imul(lt,le)|0;var Wt=(B+(x=x+Math.imul(Q,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(Q,ue)|0)+Math.imul(it,Yt)|0))<<13)|0;B=((T=T+Math.imul(it,ue)|0)+(S>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,x=Math.imul(de,we),S=(S=Math.imul(de,ze))+Math.imul(ge,we)|0,T=Math.imul(ge,ze),x=x+Math.imul(Kt,_e)|0,S=(S=S+Math.imul(Kt,He)|0)+Math.imul(be,_e)|0,T=T+Math.imul(be,He)|0,x=x+Math.imul(Ht,Se)|0,S=(S=S+Math.imul(Ht,Je)|0)+Math.imul(ee,Se)|0,T=T+Math.imul(ee,Je)|0,x=x+Math.imul(wt,Ce)|0,S=(S=S+Math.imul(wt,mt)|0)+Math.imul(jt,Ce)|0,T=T+Math.imul(jt,mt)|0,x=x+Math.imul(dt,Dt)|0,S=(S=S+Math.imul(dt,Jt)|0)+Math.imul(vt,Dt)|0,T=T+Math.imul(vt,Jt)|0,x=x+Math.imul(yt,Xt)|0,S=(S=S+Math.imul(yt,le)|0)+Math.imul(at,Xt)|0,T=T+Math.imul(at,le)|0;var zt=(B+(x=x+Math.imul(st,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(st,ue)|0)+Math.imul(lt,Yt)|0))<<13)|0;B=((T=T+Math.imul(lt,ue)|0)+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,x=Math.imul(de,_e),S=(S=Math.imul(de,He))+Math.imul(ge,_e)|0,T=Math.imul(ge,He),x=x+Math.imul(Kt,Se)|0,S=(S=S+Math.imul(Kt,Je)|0)+Math.imul(be,Se)|0,T=T+Math.imul(be,Je)|0,x=x+Math.imul(Ht,Ce)|0,S=(S=S+Math.imul(Ht,mt)|0)+Math.imul(ee,Ce)|0,T=T+Math.imul(ee,mt)|0,x=x+Math.imul(wt,Dt)|0,S=(S=S+Math.imul(wt,Jt)|0)+Math.imul(jt,Dt)|0,T=T+Math.imul(jt,Jt)|0,x=x+Math.imul(dt,Xt)|0,S=(S=S+Math.imul(dt,le)|0)+Math.imul(vt,Xt)|0,T=T+Math.imul(vt,le)|0;var qt=(B+(x=x+Math.imul(yt,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(yt,ue)|0)+Math.imul(at,Yt)|0))<<13)|0;B=((T=T+Math.imul(at,ue)|0)+(S>>>13)|0)+(qt>>>26)|0,qt&=67108863,x=Math.imul(de,Se),S=(S=Math.imul(de,Je))+Math.imul(ge,Se)|0,T=Math.imul(ge,Je),x=x+Math.imul(Kt,Ce)|0,S=(S=S+Math.imul(Kt,mt)|0)+Math.imul(be,Ce)|0,T=T+Math.imul(be,mt)|0,x=x+Math.imul(Ht,Dt)|0,S=(S=S+Math.imul(Ht,Jt)|0)+Math.imul(ee,Dt)|0,T=T+Math.imul(ee,Jt)|0,x=x+Math.imul(wt,Xt)|0,S=(S=S+Math.imul(wt,le)|0)+Math.imul(jt,Xt)|0,T=T+Math.imul(jt,le)|0;var Ie=(B+(x=x+Math.imul(dt,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(dt,ue)|0)+Math.imul(vt,Yt)|0))<<13)|0;B=((T=T+Math.imul(vt,ue)|0)+(S>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,x=Math.imul(de,Ce),S=(S=Math.imul(de,mt))+Math.imul(ge,Ce)|0,T=Math.imul(ge,mt),x=x+Math.imul(Kt,Dt)|0,S=(S=S+Math.imul(Kt,Jt)|0)+Math.imul(be,Dt)|0,T=T+Math.imul(be,Jt)|0,x=x+Math.imul(Ht,Xt)|0,S=(S=S+Math.imul(Ht,le)|0)+Math.imul(ee,Xt)|0,T=T+Math.imul(ee,le)|0;var ae=(B+(x=x+Math.imul(wt,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(wt,ue)|0)+Math.imul(jt,Yt)|0))<<13)|0;B=((T=T+Math.imul(jt,ue)|0)+(S>>>13)|0)+(ae>>>26)|0,ae&=67108863,x=Math.imul(de,Dt),S=(S=Math.imul(de,Jt))+Math.imul(ge,Dt)|0,T=Math.imul(ge,Jt),x=x+Math.imul(Kt,Xt)|0,S=(S=S+Math.imul(Kt,le)|0)+Math.imul(be,Xt)|0,T=T+Math.imul(be,le)|0;var xe=(B+(x=x+Math.imul(Ht,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(Ht,ue)|0)+Math.imul(ee,Yt)|0))<<13)|0;B=((T=T+Math.imul(ee,ue)|0)+(S>>>13)|0)+(xe>>>26)|0,xe&=67108863,x=Math.imul(de,Xt),S=(S=Math.imul(de,le))+Math.imul(ge,Xt)|0,T=Math.imul(ge,le);var ne=(B+(x=x+Math.imul(Kt,Yt)|0)|0)+((8191&(S=(S=S+Math.imul(Kt,ue)|0)+Math.imul(be,Yt)|0))<<13)|0;B=((T=T+Math.imul(be,ue)|0)+(S>>>13)|0)+(ne>>>26)|0,ne&=67108863;var Ae=(B+(x=Math.imul(de,Yt))|0)+((8191&(S=(S=Math.imul(de,ue))+Math.imul(ge,Yt)|0))<<13)|0;return B=((T=Math.imul(ge,ue))+(S>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,I[0]=se,I[1]=ke,I[2]=br,I[3]=tr,I[4]=Tr,I[5]=dr,I[6]=_r,I[7]=ht,I[8]=ft,I[9]=St,I[10]=Mt,I[11]=Wt,I[12]=zt,I[13]=qt,I[14]=Ie,I[15]=ae,I[16]=xe,I[17]=ne,I[18]=Ae,B!==0&&(I[19]=B,k.length++),k};function A(R,P,k){return new M().mulp(R,P,k)}function M(R,P){this.x=R,this.y=P}Math.imul||(_=w),n.prototype.mulTo=function(R,P){var k=this.length+R.length;return this.length===10&&R.length===10?_(this,R,P):k<63?w(this,R,P):k<1024?(function(x,S,T){T.negative=S.negative^x.negative,T.length=x.length+S.length;for(var E=0,N=0,I=0;I<T.length-1;I++){var B=N;N=0;for(var K=67108863&E,Z=Math.min(I,S.length-1),nt=Math.max(0,I-x.length+1);nt<=Z;nt++){var $=I-nt,tt=(0|x.words[$])*(0|S.words[nt]),U=67108863&tt;K=67108863&(U=U+K|0),N+=(B=(B=B+(tt/67108864|0)|0)+(U>>>26)|0)>>>26,B&=67108863}T.words[I]=K,E=B,B=N}return E!==0?T.words[I]=E:T.length--,T.strip()})(this,R,P):A(this,R,P)},M.prototype.makeRBT=function(R){for(var P=new Array(R),k=n.prototype._countBits(R)-1,x=0;x<R;x++)P[x]=this.revBin(x,k,R);return P},M.prototype.revBin=function(R,P,k){if(R===0||R===k-1)return R;for(var x=0,S=0;S<P;S++)x|=(1&R)<<P-S-1,R>>=1;return x},M.prototype.permute=function(R,P,k,x,S,T){for(var E=0;E<T;E++)x[E]=P[R[E]],S[E]=k[R[E]]},M.prototype.transform=function(R,P,k,x,S,T){this.permute(T,R,P,k,x,S);for(var E=1;E<S;E<<=1)for(var N=E<<1,I=Math.cos(2*Math.PI/N),B=Math.sin(2*Math.PI/N),K=0;K<S;K+=N)for(var Z=I,nt=B,$=0;$<E;$++){var tt=k[K+$],U=x[K+$],L=k[K+$+E],Q=x[K+$+E],it=Z*L-nt*Q;Q=Z*Q+nt*L,L=it,k[K+$]=tt+L,x[K+$]=U+Q,k[K+$+E]=tt-L,x[K+$+E]=U-Q,$!==N&&(it=I*Z-B*nt,nt=I*nt+B*Z,Z=it)}},M.prototype.guessLen13b=function(R,P){var k=1|Math.max(P,R),x=1&k,S=0;for(k=k/2|0;k;k>>>=1)S++;return 1<<S+1+x},M.prototype.conjugate=function(R,P,k){if(!(k<=1))for(var x=0;x<k/2;x++){var S=R[x];R[x]=R[k-x-1],R[k-x-1]=S,S=P[x],P[x]=-P[k-x-1],P[k-x-1]=-S}},M.prototype.normalize13b=function(R,P){for(var k=0,x=0;x<P/2;x++){var S=8192*Math.round(R[2*x+1]/P)+Math.round(R[2*x]/P)+k;R[x]=67108863&S,k=S<67108864?0:S/67108864|0}return R},M.prototype.convert13b=function(R,P,k,x){for(var S=0,T=0;T<P;T++)S+=0|R[T],k[2*T]=8191&S,S>>>=13,k[2*T+1]=8191&S,S>>>=13;for(T=2*P;T<x;++T)k[T]=0;h(S===0),h((-8192&S)==0)},M.prototype.stub=function(R){for(var P=new Array(R),k=0;k<R;k++)P[k]=0;return P},M.prototype.mulp=function(R,P,k){var x=2*this.guessLen13b(R.length,P.length),S=this.makeRBT(x),T=this.stub(x),E=new Array(x),N=new Array(x),I=new Array(x),B=new Array(x),K=new Array(x),Z=new Array(x),nt=k.words;nt.length=x,this.convert13b(R.words,R.length,E,x),this.convert13b(P.words,P.length,B,x),this.transform(E,T,N,I,x,S),this.transform(B,T,K,Z,x,S);for(var $=0;$<x;$++){var tt=N[$]*K[$]-I[$]*Z[$];I[$]=N[$]*Z[$]+I[$]*K[$],N[$]=tt}return this.conjugate(N,I,x),this.transform(N,I,nt,T,x,S),this.conjugate(nt,T,x),this.normalize13b(nt,x),k.negative=R.negative^P.negative,k.length=R.length+P.length,k.strip()},n.prototype.mul=function(R){var P=new n(null);return P.words=new Array(this.length+R.length),this.mulTo(R,P)},n.prototype.mulf=function(R){var P=new n(null);return P.words=new Array(this.length+R.length),A(this,R,P)},n.prototype.imul=function(R){return this.clone().mulTo(R,this)},n.prototype.imuln=function(R){h(typeof R=="number"),h(R<67108864);for(var P=0,k=0;k<this.length;k++){var x=(0|this.words[k])*R,S=(67108863&x)+(67108863&P);P>>=26,P+=x/67108864|0,P+=S>>>26,this.words[k]=67108863&S}return P!==0&&(this.words[k]=P,this.length++),this},n.prototype.muln=function(R){return this.clone().imuln(R)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(R){var P=(function(T){for(var E=new Array(T.bitLength()),N=0;N<E.length;N++){var I=N/26|0,B=N%26;E[N]=(T.words[I]&1<<B)>>>B}return E})(R);if(P.length===0)return new n(1);for(var k=this,x=0;x<P.length&&P[x]===0;x++,k=k.sqr());if(++x<P.length)for(var S=k.sqr();x<P.length;x++,S=S.sqr())P[x]!==0&&(k=k.mul(S));return k},n.prototype.iushln=function(R){h(typeof R=="number"&&R>=0);var P,k=R%26,x=(R-k)/26,S=67108863>>>26-k<<26-k;if(k!==0){var T=0;for(P=0;P<this.length;P++){var E=this.words[P]&S,N=(0|this.words[P])-E<<k;this.words[P]=N|T,T=E>>>26-k}T&&(this.words[P]=T,this.length++)}if(x!==0){for(P=this.length-1;P>=0;P--)this.words[P+x]=this.words[P];for(P=0;P<x;P++)this.words[P]=0;this.length+=x}return this.strip()},n.prototype.ishln=function(R){return h(this.negative===0),this.iushln(R)},n.prototype.iushrn=function(R,P,k){var x;h(typeof R=="number"&&R>=0),x=P?(P-P%26)/26:0;var S=R%26,T=Math.min((R-S)/26,this.length),E=67108863^67108863>>>S<<S,N=k;if(x-=T,x=Math.max(0,x),N){for(var I=0;I<T;I++)N.words[I]=this.words[I];N.length=T}if(T!==0)if(this.length>T)for(this.length-=T,I=0;I<this.length;I++)this.words[I]=this.words[I+T];else this.words[0]=0,this.length=1;var B=0;for(I=this.length-1;I>=0&&(B!==0||I>=x);I--){var K=0|this.words[I];this.words[I]=B<<26-S|K>>>S,B=K&E}return N&&B!==0&&(N.words[N.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(R,P,k){return h(this.negative===0),this.iushrn(R,P,k)},n.prototype.shln=function(R){return this.clone().ishln(R)},n.prototype.ushln=function(R){return this.clone().iushln(R)},n.prototype.shrn=function(R){return this.clone().ishrn(R)},n.prototype.ushrn=function(R){return this.clone().iushrn(R)},n.prototype.testn=function(R){h(typeof R=="number"&&R>=0);var P=R%26,k=(R-P)/26,x=1<<P;return!(this.length<=k)&&!!(this.words[k]&x)},n.prototype.imaskn=function(R){h(typeof R=="number"&&R>=0);var P=R%26,k=(R-P)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(P!==0&&k++,this.length=Math.min(k,this.length),P!==0){var x=67108863^67108863>>>P<<P;this.words[this.length-1]&=x}return this.strip()},n.prototype.maskn=function(R){return this.clone().imaskn(R)},n.prototype.iaddn=function(R){return h(typeof R=="number"),h(R<67108864),R<0?this.isubn(-R):this.negative!==0?this.length===1&&(0|this.words[0])<R?(this.words[0]=R-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(R),this.negative=1,this):this._iaddn(R)},n.prototype._iaddn=function(R){this.words[0]+=R;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},n.prototype.isubn=function(R){if(h(typeof R=="number"),h(R<67108864),R<0)return this.iaddn(-R);if(this.negative!==0)return this.negative=0,this.iaddn(R),this.negative=1,this;if(this.words[0]-=R,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},n.prototype.addn=function(R){return this.clone().iaddn(R)},n.prototype.subn=function(R){return this.clone().isubn(R)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(R,P,k){var x,S,T=R.length+k;this._expand(T);var E=0;for(x=0;x<R.length;x++){S=(0|this.words[x+k])+E;var N=(0|R.words[x])*P;E=((S-=67108863&N)>>26)-(N/67108864|0),this.words[x+k]=67108863&S}for(;x<this.length-k;x++)E=(S=(0|this.words[x+k])+E)>>26,this.words[x+k]=67108863&S;if(E===0)return this.strip();for(h(E===-1),E=0,x=0;x<this.length;x++)E=(S=-(0|this.words[x])+E)>>26,this.words[x]=67108863&S;return this.negative=1,this.strip()},n.prototype._wordDiv=function(R,P){var k=(this.length,R.length),x=this.clone(),S=R,T=0|S.words[S.length-1];(k=26-this._countBits(T))!==0&&(S=S.ushln(k),x.iushln(k),T=0|S.words[S.length-1]);var E,N=x.length-S.length;if(P!=="mod"){(E=new n(null)).length=N+1,E.words=new Array(E.length);for(var I=0;I<E.length;I++)E.words[I]=0}var B=x.clone()._ishlnsubmul(S,1,N);B.negative===0&&(x=B,E&&(E.words[N]=1));for(var K=N-1;K>=0;K--){var Z=67108864*(0|x.words[S.length+K])+(0|x.words[S.length+K-1]);for(Z=Math.min(Z/T|0,67108863),x._ishlnsubmul(S,Z,K);x.negative!==0;)Z--,x.negative=0,x._ishlnsubmul(S,1,K),x.isZero()||(x.negative^=1);E&&(E.words[K]=Z)}return E&&E.strip(),x.strip(),P!=="div"&&k!==0&&x.iushrn(k),{div:E||null,mod:x}},n.prototype.divmod=function(R,P,k){return h(!R.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&R.negative===0?(T=this.neg().divmod(R,P),P!=="mod"&&(x=T.div.neg()),P!=="div"&&(S=T.mod.neg(),k&&S.negative!==0&&S.iadd(R)),{div:x,mod:S}):this.negative===0&&R.negative!==0?(T=this.divmod(R.neg(),P),P!=="mod"&&(x=T.div.neg()),{div:x,mod:T.mod}):(this.negative&R.negative)!=0?(T=this.neg().divmod(R.neg(),P),P!=="div"&&(S=T.mod.neg(),k&&S.negative!==0&&S.isub(R)),{div:T.div,mod:S}):R.length>this.length||this.cmp(R)<0?{div:new n(0),mod:this}:R.length===1?P==="div"?{div:this.divn(R.words[0]),mod:null}:P==="mod"?{div:null,mod:new n(this.modn(R.words[0]))}:{div:this.divn(R.words[0]),mod:new n(this.modn(R.words[0]))}:this._wordDiv(R,P);var x,S,T},n.prototype.div=function(R){return this.divmod(R,"div",!1).div},n.prototype.mod=function(R){return this.divmod(R,"mod",!1).mod},n.prototype.umod=function(R){return this.divmod(R,"mod",!0).mod},n.prototype.divRound=function(R){var P=this.divmod(R);if(P.mod.isZero())return P.div;var k=P.div.negative!==0?P.mod.isub(R):P.mod,x=R.ushrn(1),S=R.andln(1),T=k.cmp(x);return T<0||S===1&&T===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},n.prototype.modn=function(R){h(R<=67108863);for(var P=(1<<26)%R,k=0,x=this.length-1;x>=0;x--)k=(P*k+(0|this.words[x]))%R;return k},n.prototype.idivn=function(R){h(R<=67108863);for(var P=0,k=this.length-1;k>=0;k--){var x=(0|this.words[k])+67108864*P;this.words[k]=x/R|0,P=x%R}return this.strip()},n.prototype.divn=function(R){return this.clone().idivn(R)},n.prototype.egcd=function(R){h(R.negative===0),h(!R.isZero());var P=this,k=R.clone();P=P.negative!==0?P.umod(R):P.clone();for(var x=new n(1),S=new n(0),T=new n(0),E=new n(1),N=0;P.isEven()&&k.isEven();)P.iushrn(1),k.iushrn(1),++N;for(var I=k.clone(),B=P.clone();!P.isZero();){for(var K=0,Z=1;(P.words[0]&Z)==0&&K<26;++K,Z<<=1);if(K>0)for(P.iushrn(K);K-- >0;)(x.isOdd()||S.isOdd())&&(x.iadd(I),S.isub(B)),x.iushrn(1),S.iushrn(1);for(var nt=0,$=1;(k.words[0]&$)==0&&nt<26;++nt,$<<=1);if(nt>0)for(k.iushrn(nt);nt-- >0;)(T.isOdd()||E.isOdd())&&(T.iadd(I),E.isub(B)),T.iushrn(1),E.iushrn(1);P.cmp(k)>=0?(P.isub(k),x.isub(T),S.isub(E)):(k.isub(P),T.isub(x),E.isub(S))}return{a:T,b:E,gcd:k.iushln(N)}},n.prototype._invmp=function(R){h(R.negative===0),h(!R.isZero());var P=this,k=R.clone();P=P.negative!==0?P.umod(R):P.clone();for(var x,S=new n(1),T=new n(0),E=k.clone();P.cmpn(1)>0&&k.cmpn(1)>0;){for(var N=0,I=1;(P.words[0]&I)==0&&N<26;++N,I<<=1);if(N>0)for(P.iushrn(N);N-- >0;)S.isOdd()&&S.iadd(E),S.iushrn(1);for(var B=0,K=1;(k.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(k.iushrn(B);B-- >0;)T.isOdd()&&T.iadd(E),T.iushrn(1);P.cmp(k)>=0?(P.isub(k),S.isub(T)):(k.isub(P),T.isub(S))}return(x=P.cmpn(1)===0?S:T).cmpn(0)<0&&x.iadd(R),x},n.prototype.gcd=function(R){if(this.isZero())return R.abs();if(R.isZero())return this.abs();var P=this.clone(),k=R.clone();P.negative=0,k.negative=0;for(var x=0;P.isEven()&&k.isEven();x++)P.iushrn(1),k.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;k.isEven();)k.iushrn(1);var S=P.cmp(k);if(S<0){var T=P;P=k,k=T}else if(S===0||k.cmpn(1)===0)break;P.isub(k)}return k.iushln(x)},n.prototype.invm=function(R){return this.egcd(R).a.umod(R)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(R){return this.words[0]&R},n.prototype.bincn=function(R){h(typeof R=="number");var P=R%26,k=(R-P)/26,x=1<<P;if(this.length<=k)return this._expand(k+1),this.words[k]|=x,this;for(var S=x,T=k;S!==0&&T<this.length;T++){var E=0|this.words[T];S=(E+=S)>>>26,E&=67108863,this.words[T]=E}return S!==0&&(this.words[T]=S,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(R){var P,k=R<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)P=1;else{k&&(R=-R),h(R<=67108863,"Number is too big");var x=0|this.words[0];P=x===R?0:x<R?-1:1}return this.negative!==0?0|-P:P},n.prototype.cmp=function(R){if(this.negative!==0&&R.negative===0)return-1;if(this.negative===0&&R.negative!==0)return 1;var P=this.ucmp(R);return this.negative!==0?0|-P:P},n.prototype.ucmp=function(R){if(this.length>R.length)return 1;if(this.length<R.length)return-1;for(var P=0,k=this.length-1;k>=0;k--){var x=0|this.words[k],S=0|R.words[k];if(x!==S){x<S?P=-1:x>S&&(P=1);break}}return P},n.prototype.gtn=function(R){return this.cmpn(R)===1},n.prototype.gt=function(R){return this.cmp(R)===1},n.prototype.gten=function(R){return this.cmpn(R)>=0},n.prototype.gte=function(R){return this.cmp(R)>=0},n.prototype.ltn=function(R){return this.cmpn(R)===-1},n.prototype.lt=function(R){return this.cmp(R)===-1},n.prototype.lten=function(R){return this.cmpn(R)<=0},n.prototype.lte=function(R){return this.cmp(R)<=0},n.prototype.eqn=function(R){return this.cmpn(R)===0},n.prototype.eq=function(R){return this.cmp(R)===0},n.red=function(R){return new X(R)},n.prototype.toRed=function(R){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),R.convertTo(this)._forceRed(R)},n.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(R){return this.red=R,this},n.prototype.forceRed=function(R){return h(!this.red,"Already a number in reduction context"),this._forceRed(R)},n.prototype.redAdd=function(R){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,R)},n.prototype.redIAdd=function(R){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,R)},n.prototype.redSub=function(R){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,R)},n.prototype.redISub=function(R){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,R)},n.prototype.redShl=function(R){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,R)},n.prototype.redMul=function(R){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.mul(this,R)},n.prototype.redIMul=function(R){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,R),this.red.imul(this,R)},n.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(R){return h(this.red&&!R.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,R)};var O={k256:null,p224:null,p192:null,p25519:null};function q(R,P){this.name=R,this.p=new n(P,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function F(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function j(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function V(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function G(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function X(R){if(typeof R=="string"){var P=n._prime(R);this.m=P.p,this.prime=P}else h(R.gtn(1),"modulus must be greater than 1"),this.m=R,this.prime=null}function H(R){X.call(this,R),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}q.prototype._tmp=function(){var R=new n(null);return R.words=new Array(Math.ceil(this.n/13)),R},q.prototype.ireduce=function(R){var P,k=R;do this.split(k,this.tmp),P=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(P>this.n);var x=P<this.n?-1:k.ucmp(this.p);return x===0?(k.words[0]=0,k.length=1):x>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},q.prototype.split=function(R,P){R.iushrn(this.n,0,P)},q.prototype.imulK=function(R){return R.imul(this.k)},a(F,q),F.prototype.split=function(R,P){for(var k=Math.min(R.length,9),x=0;x<k;x++)P.words[x]=R.words[x];if(P.length=k,R.length<=9)return R.words[0]=0,void(R.length=1);var S=R.words[9];for(P.words[P.length++]=4194303&S,x=10;x<R.length;x++){var T=0|R.words[x];R.words[x-10]=(4194303&T)<<4|S>>>22,S=T}S>>>=22,R.words[x-10]=S,S===0&&R.length>10?R.length-=10:R.length-=9},F.prototype.imulK=function(R){R.words[R.length]=0,R.words[R.length+1]=0,R.length+=2;for(var P=0,k=0;k<R.length;k++){var x=0|R.words[k];P+=977*x,R.words[k]=67108863&P,P=64*x+(P/67108864|0)}return R.words[R.length-1]===0&&(R.length--,R.words[R.length-1]===0&&R.length--),R},a(j,q),a(V,q),a(G,q),G.prototype.imulK=function(R){for(var P=0,k=0;k<R.length;k++){var x=19*(0|R.words[k])+P,S=67108863&x;x>>>=26,R.words[k]=S,P=x}return P!==0&&(R.words[R.length++]=P),R},n._prime=function(R){if(O[R])return O[R];var P;if(R==="k256")P=new F;else if(R==="p224")P=new j;else if(R==="p192")P=new V;else{if(R!=="p25519")throw new Error("Unknown prime "+R);P=new G}return O[R]=P,P},X.prototype._verify1=function(R){h(R.negative===0,"red works only with positives"),h(R.red,"red works only with red numbers")},X.prototype._verify2=function(R,P){h((R.negative|P.negative)==0,"red works only with positives"),h(R.red&&R.red===P.red,"red works only with red numbers")},X.prototype.imod=function(R){return this.prime?this.prime.ireduce(R)._forceRed(this):R.umod(this.m)._forceRed(this)},X.prototype.neg=function(R){return R.isZero()?R.clone():this.m.sub(R)._forceRed(this)},X.prototype.add=function(R,P){this._verify2(R,P);var k=R.add(P);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},X.prototype.iadd=function(R,P){this._verify2(R,P);var k=R.iadd(P);return k.cmp(this.m)>=0&&k.isub(this.m),k},X.prototype.sub=function(R,P){this._verify2(R,P);var k=R.sub(P);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},X.prototype.isub=function(R,P){this._verify2(R,P);var k=R.isub(P);return k.cmpn(0)<0&&k.iadd(this.m),k},X.prototype.shl=function(R,P){return this._verify1(R),this.imod(R.ushln(P))},X.prototype.imul=function(R,P){return this._verify2(R,P),this.imod(R.imul(P))},X.prototype.mul=function(R,P){return this._verify2(R,P),this.imod(R.mul(P))},X.prototype.isqr=function(R){return this.imul(R,R.clone())},X.prototype.sqr=function(R){return this.mul(R,R)},X.prototype.sqrt=function(R){if(R.isZero())return R.clone();var P=this.m.andln(3);if(h(P%2==1),P===3){var k=this.m.add(new n(1)).iushrn(2);return this.pow(R,k)}for(var x=this.m.subn(1),S=0;!x.isZero()&&x.andln(1)===0;)S++,x.iushrn(1);h(!x.isZero());var T=new n(1).toRed(this),E=T.redNeg(),N=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new n(2*I*I).toRed(this);this.pow(I,N).cmp(E)!==0;)I.redIAdd(E);for(var B=this.pow(I,x),K=this.pow(R,x.addn(1).iushrn(1)),Z=this.pow(R,x),nt=S;Z.cmp(T)!==0;){for(var $=Z,tt=0;$.cmp(T)!==0;tt++)$=$.redSqr();h(tt<nt);var U=this.pow(B,new n(1).iushln(nt-tt-1));K=K.redMul(U),B=U.redSqr(),Z=Z.redMul(B),nt=tt}return K},X.prototype.invm=function(R){var P=R._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},X.prototype.pow=function(R,P){if(P.isZero())return new n(1).toRed(this);if(P.cmpn(1)===0)return R.clone();var k=new Array(16);k[0]=new n(1).toRed(this),k[1]=R;for(var x=2;x<k.length;x++)k[x]=this.mul(k[x-1],R);var S=k[0],T=0,E=0,N=P.bitLength()%26;for(N===0&&(N=26),x=P.length-1;x>=0;x--){for(var I=P.words[x],B=N-1;B>=0;B--){var K=I>>B&1;S!==k[0]&&(S=this.sqr(S)),K!==0||T!==0?(T<<=1,T|=K,(++E===4||x===0&&B===0)&&(S=this.mul(S,k[T]),E=0,T=0)):E=0}N=26}return S},X.prototype.convertTo=function(R){var P=R.umod(this.m);return P===R?P.clone():P},X.prototype.convertFrom=function(R){var P=R.clone();return P.red=null,P},n.mont=function(R){return new H(R)},a(H,X),H.prototype.convertTo=function(R){return this.imod(R.ushln(this.shift))},H.prototype.convertFrom=function(R){var P=this.imod(R.mul(this.rinv));return P.red=null,P},H.prototype.imul=function(R,P){if(R.isZero()||P.isZero())return R.words[0]=0,R.length=1,R;var k=R.imul(P),x=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=k.isub(x).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},H.prototype.mul=function(R,P){if(R.isZero()||P.isZero())return new n(0)._forceRed(this);var k=R.mul(P),x=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=k.isub(x).iushrn(this.shift),T=S;return S.cmp(this.m)>=0?T=S.isub(this.m):S.cmpn(0)<0&&(T=S.iadd(this.m)),T._forceRed(this)},H.prototype.invm=function(R){return this.imod(R._invmp(this.m).mul(this.r2))._forceRed(this)}})(i===void 0||i)},{buffer:188}],185:[function(t,i,c){c.byteLength=function(d){var b=m(d),v=b[0],g=b[1];return 3*(v+g)/4-g},c.toByteArray=function(d){var b,v,g=m(d),w=g[0],_=g[1],A=new h((function(q,F,j){return 3*(F+j)/4-j})(0,w,_)),M=0,O=_>0?w-4:w;for(v=0;v<O;v+=4)b=s[d.charCodeAt(v)]<<18|s[d.charCodeAt(v+1)]<<12|s[d.charCodeAt(v+2)]<<6|s[d.charCodeAt(v+3)],A[M++]=b>>16&255,A[M++]=b>>8&255,A[M++]=255&b;return _===2&&(b=s[d.charCodeAt(v)]<<2|s[d.charCodeAt(v+1)]>>4,A[M++]=255&b),_===1&&(b=s[d.charCodeAt(v)]<<10|s[d.charCodeAt(v+1)]<<4|s[d.charCodeAt(v+2)]>>2,A[M++]=b>>8&255,A[M++]=255&b),A},c.fromByteArray=function(d){for(var b,v=d.length,g=v%3,w=[],_=0,A=v-g;_<A;_+=16383)w.push(f(d,_,_+16383>A?A:_+16383));return g===1?(b=d[v-1],w.push(o[b>>2]+o[b<<4&63]+"==")):g===2&&(b=(d[v-2]<<8)+d[v-1],w.push(o[b>>10]+o[b>>4&63]+o[b<<2&63]+"=")),w.join("")};for(var o=[],s=[],h=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,u=a.length;n<u;++n)o[n]=a[n],s[a.charCodeAt(n)]=n;function m(d){var b=d.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=d.indexOf("=");return v===-1&&(v=b),[v,v===b?0:4-v%4]}function f(d,b,v){for(var g,w,_=[],A=b;A<v;A+=3)g=(d[A]<<16&16711680)+(d[A+1]<<8&65280)+(255&d[A+2]),_.push(o[(w=g)>>18&63]+o[w>>12&63]+o[w>>6&63]+o[63&w]);return _.join("")}s[45]=62,s[95]=63},{}],186:[function(t,i,c){(function(o,s){function h(k,x){if(!k)throw new Error(x||"Assertion failed")}function a(k,x){k.super_=x;var S=function(){};S.prototype=x.prototype,k.prototype=new S,k.prototype.constructor=k}function n(k,x,S){if(n.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(x!=="le"&&x!=="be"||(S=x,x=10),this._init(k||0,x||10,S||"be"))}var u;typeof o=="object"?o.exports=n:(void 0).BN=n,n.BN=n,n.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function m(k,x){var S=k.charCodeAt(x);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void h(!1,"Invalid character in "+k)}function f(k,x,S){var T=m(k,S);return S-1>=x&&(T|=m(k,S-1)<<4),T}function d(k,x,S,T){for(var E=0,N=0,I=Math.min(k.length,S),B=x;B<I;B++){var K=k.charCodeAt(B)-48;E*=T,N=K>=49?K-49+10:K>=17?K-17+10:K,h(K>=0&&N<T,"Invalid character"),E+=N}return E}function b(k,x){k.words=x.words,k.length=x.length,k.negative=x.negative,k.red=x.red}if(n.isBN=function(k){return k instanceof n||k!==null&&typeof k=="object"&&k.constructor.wordSize===n.wordSize&&Array.isArray(k.words)},n.max=function(k,x){return k.cmp(x)>0?k:x},n.min=function(k,x){return k.cmp(x)<0?k:x},n.prototype._init=function(k,x,S){if(typeof k=="number")return this._initNumber(k,x,S);if(typeof k=="object")return this._initArray(k,x,S);x==="hex"&&(x=16),h(x===(0|x)&&x>=2&&x<=36);var T=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(T++,this.negative=1),T<k.length&&(x===16?this._parseHex(k,T,S):(this._parseBase(k,x,T),S==="le"&&this._initArray(this.toArray(),x,S)))},n.prototype._initNumber=function(k,x,S){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(h(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),x,S)},n.prototype._initArray=function(k,x,S){if(h(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var E,N,I=0;if(S==="be")for(T=k.length-1,E=0;T>=0;T-=3)N=k[T]|k[T-1]<<8|k[T-2]<<16,this.words[E]|=N<<I&67108863,this.words[E+1]=N>>>26-I&67108863,(I+=24)>=26&&(I-=26,E++);else if(S==="le")for(T=0,E=0;T<k.length;T+=3)N=k[T]|k[T+1]<<8|k[T+2]<<16,this.words[E]|=N<<I&67108863,this.words[E+1]=N>>>26-I&67108863,(I+=24)>=26&&(I-=26,E++);return this._strip()},n.prototype._parseHex=function(k,x,S){this.length=Math.ceil((k.length-x)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var E,N=0,I=0;if(S==="be")for(T=k.length-1;T>=x;T-=2)E=f(k,x,T)<<N,this.words[I]|=67108863&E,N>=18?(N-=18,I+=1,this.words[I]|=E>>>26):N+=8;else for(T=(k.length-x)%2==0?x+1:x;T<k.length;T+=2)E=f(k,x,T)<<N,this.words[I]|=67108863&E,N>=18?(N-=18,I+=1,this.words[I]|=E>>>26):N+=8;this._strip()},n.prototype._parseBase=function(k,x,S){this.words=[0],this.length=1;for(var T=0,E=1;E<=67108863;E*=x)T++;T--,E=E/x|0;for(var N=k.length-S,I=N%T,B=Math.min(N,N-I)+S,K=0,Z=S;Z<B;Z+=T)K=d(k,Z,Z+T,x),this.imuln(E),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(I!==0){var nt=1;for(K=d(k,Z,k.length,x),Z=0;Z<I;Z++)nt*=x;this.imuln(nt),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this._strip()},n.prototype.copy=function(k){k.words=new Array(this.length);for(var x=0;x<this.length;x++)k.words[x]=this.words[x];k.length=this.length,k.negative=this.negative,k.red=this.red},n.prototype._move=function(k){b(k,this)},n.prototype.clone=function(){var k=new n(null);return this.copy(k),k},n.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{n.prototype.inspect=v}else n.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(k,x){var S;if(x=0|x||1,(k=k||10)===16||k==="hex"){S="";for(var T=0,E=0,N=0;N<this.length;N++){var I=this.words[N],B=(16777215&(I<<T|E)).toString(16);E=I>>>24-T&16777215,(T+=2)>=26&&(T-=26,N--),S=E!==0||N!==this.length-1?g[6-B.length]+B+S:B+S}for(E!==0&&(S=E.toString(16)+S);S.length%x!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(k===(0|k)&&k>=2&&k<=36){var K=w[k],Z=_[k];S="";var nt=this.clone();for(nt.negative=0;!nt.isZero();){var $=nt.modrn(Z).toString(k);S=(nt=nt.idivn(Z)).isZero()?$+S:g[K-$.length]+$+S}for(this.isZero()&&(S="0"+S);S.length%x!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}h(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&h(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},n.prototype.toJSON=function(){return this.toString(16,2)},u&&(n.prototype.toBuffer=function(k,x){return this.toArrayLike(u,k,x)}),n.prototype.toArray=function(k,x){return this.toArrayLike(Array,k,x)};function A(k,x,S){S.negative=x.negative^k.negative;var T=k.length+x.length|0;S.length=T,T=T-1|0;var E=0|k.words[0],N=0|x.words[0],I=E*N,B=67108863&I,K=I/67108864|0;S.words[0]=B;for(var Z=1;Z<T;Z++){for(var nt=K>>>26,$=67108863&K,tt=Math.min(Z,x.length-1),U=Math.max(0,Z-k.length+1);U<=tt;U++){var L=Z-U|0;nt+=(I=(E=0|k.words[L])*(N=0|x.words[U])+$)/67108864|0,$=67108863&I}S.words[Z]=0|$,K=0|nt}return K!==0?S.words[Z]=0|K:S.length--,S._strip()}n.prototype.toArrayLike=function(k,x,S){this._strip();var T=this.byteLength(),E=S||Math.max(1,T);h(T<=E,"byte array longer than desired length"),h(E>0,"Requested array length <= 0");var N=(function(I,B){return I.allocUnsafe?I.allocUnsafe(B):new I(B)})(k,E);return this["_toArrayLike"+(x==="le"?"LE":"BE")](N,T),N},n.prototype._toArrayLikeLE=function(k,x){for(var S=0,T=0,E=0,N=0;E<this.length;E++){var I=this.words[E]<<N|T;k[S++]=255&I,S<k.length&&(k[S++]=I>>8&255),S<k.length&&(k[S++]=I>>16&255),N===6?(S<k.length&&(k[S++]=I>>24&255),T=0,N=0):(T=I>>>24,N+=2)}if(S<k.length)for(k[S++]=T;S<k.length;)k[S++]=0},n.prototype._toArrayLikeBE=function(k,x){for(var S=k.length-1,T=0,E=0,N=0;E<this.length;E++){var I=this.words[E]<<N|T;k[S--]=255&I,S>=0&&(k[S--]=I>>8&255),S>=0&&(k[S--]=I>>16&255),N===6?(S>=0&&(k[S--]=I>>24&255),T=0,N=0):(T=I>>>24,N+=2)}if(S>=0)for(k[S--]=T;S>=0;)k[S--]=0},Math.clz32?n.prototype._countBits=function(k){return 32-Math.clz32(k)}:n.prototype._countBits=function(k){var x=k,S=0;return x>=4096&&(S+=13,x>>>=13),x>=64&&(S+=7,x>>>=7),x>=8&&(S+=4,x>>>=4),x>=2&&(S+=2,x>>>=2),S+x},n.prototype._zeroBits=function(k){if(k===0)return 26;var x=k,S=0;return(8191&x)==0&&(S+=13,x>>>=13),(127&x)==0&&(S+=7,x>>>=7),(15&x)==0&&(S+=4,x>>>=4),(3&x)==0&&(S+=2,x>>>=2),(1&x)==0&&S++,S},n.prototype.bitLength=function(){var k=this.words[this.length-1],x=this._countBits(k);return 26*(this.length-1)+x},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,x=0;x<this.length;x++){var S=this._zeroBits(this.words[x]);if(k+=S,S!==26)break}return k},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},n.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var x=0;x<k.length;x++)this.words[x]=this.words[x]|k.words[x];return this._strip()},n.prototype.ior=function(k){return h((this.negative|k.negative)==0),this.iuor(k)},n.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},n.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},n.prototype.iuand=function(k){var x;x=this.length>k.length?k:this;for(var S=0;S<x.length;S++)this.words[S]=this.words[S]&k.words[S];return this.length=x.length,this._strip()},n.prototype.iand=function(k){return h((this.negative|k.negative)==0),this.iuand(k)},n.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},n.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},n.prototype.iuxor=function(k){var x,S;this.length>k.length?(x=this,S=k):(x=k,S=this);for(var T=0;T<S.length;T++)this.words[T]=x.words[T]^S.words[T];if(this!==x)for(;T<x.length;T++)this.words[T]=x.words[T];return this.length=x.length,this._strip()},n.prototype.ixor=function(k){return h((this.negative|k.negative)==0),this.iuxor(k)},n.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},n.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},n.prototype.inotn=function(k){h(typeof k=="number"&&k>=0);var x=0|Math.ceil(k/26),S=k%26;this._expand(x),S>0&&x--;for(var T=0;T<x;T++)this.words[T]=67108863&~this.words[T];return S>0&&(this.words[T]=~this.words[T]&67108863>>26-S),this._strip()},n.prototype.notn=function(k){return this.clone().inotn(k)},n.prototype.setn=function(k,x){h(typeof k=="number"&&k>=0);var S=k/26|0,T=k%26;return this._expand(S+1),this.words[S]=x?this.words[S]|1<<T:this.words[S]&~(1<<T),this._strip()},n.prototype.iadd=function(k){var x,S,T;if(this.negative!==0&&k.negative===0)return this.negative=0,x=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,x=this.isub(k),k.negative=1,x._normSign();this.length>k.length?(S=this,T=k):(S=k,T=this);for(var E=0,N=0;N<T.length;N++)x=(0|S.words[N])+(0|T.words[N])+E,this.words[N]=67108863&x,E=x>>>26;for(;E!==0&&N<S.length;N++)x=(0|S.words[N])+E,this.words[N]=67108863&x,E=x>>>26;if(this.length=S.length,E!==0)this.words[this.length]=E,this.length++;else if(S!==this)for(;N<S.length;N++)this.words[N]=S.words[N];return this},n.prototype.add=function(k){var x;return k.negative!==0&&this.negative===0?(k.negative=0,x=this.sub(k),k.negative^=1,x):k.negative===0&&this.negative!==0?(this.negative=0,x=k.sub(this),this.negative=1,x):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},n.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var x=this.iadd(k);return k.negative=1,x._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var S,T,E=this.cmp(k);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;E>0?(S=this,T=k):(S=k,T=this);for(var N=0,I=0;I<T.length;I++)N=(x=(0|S.words[I])-(0|T.words[I])+N)>>26,this.words[I]=67108863&x;for(;N!==0&&I<S.length;I++)N=(x=(0|S.words[I])+N)>>26,this.words[I]=67108863&x;if(N===0&&I<S.length&&S!==this)for(;I<S.length;I++)this.words[I]=S.words[I];return this.length=Math.max(this.length,I),S!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(k){return this.clone().isub(k)};var M=function(k,x,S){var T,E,N,I=k.words,B=x.words,K=S.words,Z=0,nt=0|I[0],$=8191&nt,tt=nt>>>13,U=0|I[1],L=8191&U,Q=U>>>13,it=0|I[2],ut=8191&it,st=it>>>13,lt=0|I[3],bt=8191&lt,yt=lt>>>13,at=0|I[4],pt=8191&at,dt=at>>>13,vt=0|I[5],xt=8191&vt,wt=vt>>>13,jt=0|I[6],It=8191&jt,Ht=jt>>>13,ee=0|I[7],Qt=8191&ee,Kt=ee>>>13,be=0|I[8],fe=8191&be,de=be>>>13,ge=0|I[9],Zt=8191&ge,Gt=ge>>>13,te=0|B[0],re=8191&te,oe=te>>>13,Oe=0|B[1],We=8191&Oe,he=Oe>>>13,Ve=0|B[2],ve=8191&Ve,we=Ve>>>13,ze=0|B[3],Ne=8191&ze,_e=ze>>>13,He=0|B[4],qe=8191&He,Se=He>>>13,Je=0|B[5],Ke=8191&Je,Ce=Je>>>13,mt=0|B[6],Tt=8191&mt,Dt=mt>>>13,Jt=0|B[7],pe=8191&Jt,Xt=Jt>>>13,le=0|B[8],Lt=8191&le,Yt=le>>>13,ue=0|B[9],se=8191&ue,ke=ue>>>13;S.negative=k.negative^x.negative,S.length=19;var br=(Z+(T=Math.imul($,re))|0)+((8191&(E=(E=Math.imul($,oe))+Math.imul(tt,re)|0))<<13)|0;Z=((N=Math.imul(tt,oe))+(E>>>13)|0)+(br>>>26)|0,br&=67108863,T=Math.imul(L,re),E=(E=Math.imul(L,oe))+Math.imul(Q,re)|0,N=Math.imul(Q,oe);var tr=(Z+(T=T+Math.imul($,We)|0)|0)+((8191&(E=(E=E+Math.imul($,he)|0)+Math.imul(tt,We)|0))<<13)|0;Z=((N=N+Math.imul(tt,he)|0)+(E>>>13)|0)+(tr>>>26)|0,tr&=67108863,T=Math.imul(ut,re),E=(E=Math.imul(ut,oe))+Math.imul(st,re)|0,N=Math.imul(st,oe),T=T+Math.imul(L,We)|0,E=(E=E+Math.imul(L,he)|0)+Math.imul(Q,We)|0,N=N+Math.imul(Q,he)|0;var Tr=(Z+(T=T+Math.imul($,ve)|0)|0)+((8191&(E=(E=E+Math.imul($,we)|0)+Math.imul(tt,ve)|0))<<13)|0;Z=((N=N+Math.imul(tt,we)|0)+(E>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,T=Math.imul(bt,re),E=(E=Math.imul(bt,oe))+Math.imul(yt,re)|0,N=Math.imul(yt,oe),T=T+Math.imul(ut,We)|0,E=(E=E+Math.imul(ut,he)|0)+Math.imul(st,We)|0,N=N+Math.imul(st,he)|0,T=T+Math.imul(L,ve)|0,E=(E=E+Math.imul(L,we)|0)+Math.imul(Q,ve)|0,N=N+Math.imul(Q,we)|0;var dr=(Z+(T=T+Math.imul($,Ne)|0)|0)+((8191&(E=(E=E+Math.imul($,_e)|0)+Math.imul(tt,Ne)|0))<<13)|0;Z=((N=N+Math.imul(tt,_e)|0)+(E>>>13)|0)+(dr>>>26)|0,dr&=67108863,T=Math.imul(pt,re),E=(E=Math.imul(pt,oe))+Math.imul(dt,re)|0,N=Math.imul(dt,oe),T=T+Math.imul(bt,We)|0,E=(E=E+Math.imul(bt,he)|0)+Math.imul(yt,We)|0,N=N+Math.imul(yt,he)|0,T=T+Math.imul(ut,ve)|0,E=(E=E+Math.imul(ut,we)|0)+Math.imul(st,ve)|0,N=N+Math.imul(st,we)|0,T=T+Math.imul(L,Ne)|0,E=(E=E+Math.imul(L,_e)|0)+Math.imul(Q,Ne)|0,N=N+Math.imul(Q,_e)|0;var _r=(Z+(T=T+Math.imul($,qe)|0)|0)+((8191&(E=(E=E+Math.imul($,Se)|0)+Math.imul(tt,qe)|0))<<13)|0;Z=((N=N+Math.imul(tt,Se)|0)+(E>>>13)|0)+(_r>>>26)|0,_r&=67108863,T=Math.imul(xt,re),E=(E=Math.imul(xt,oe))+Math.imul(wt,re)|0,N=Math.imul(wt,oe),T=T+Math.imul(pt,We)|0,E=(E=E+Math.imul(pt,he)|0)+Math.imul(dt,We)|0,N=N+Math.imul(dt,he)|0,T=T+Math.imul(bt,ve)|0,E=(E=E+Math.imul(bt,we)|0)+Math.imul(yt,ve)|0,N=N+Math.imul(yt,we)|0,T=T+Math.imul(ut,Ne)|0,E=(E=E+Math.imul(ut,_e)|0)+Math.imul(st,Ne)|0,N=N+Math.imul(st,_e)|0,T=T+Math.imul(L,qe)|0,E=(E=E+Math.imul(L,Se)|0)+Math.imul(Q,qe)|0,N=N+Math.imul(Q,Se)|0;var ht=(Z+(T=T+Math.imul($,Ke)|0)|0)+((8191&(E=(E=E+Math.imul($,Ce)|0)+Math.imul(tt,Ke)|0))<<13)|0;Z=((N=N+Math.imul(tt,Ce)|0)+(E>>>13)|0)+(ht>>>26)|0,ht&=67108863,T=Math.imul(It,re),E=(E=Math.imul(It,oe))+Math.imul(Ht,re)|0,N=Math.imul(Ht,oe),T=T+Math.imul(xt,We)|0,E=(E=E+Math.imul(xt,he)|0)+Math.imul(wt,We)|0,N=N+Math.imul(wt,he)|0,T=T+Math.imul(pt,ve)|0,E=(E=E+Math.imul(pt,we)|0)+Math.imul(dt,ve)|0,N=N+Math.imul(dt,we)|0,T=T+Math.imul(bt,Ne)|0,E=(E=E+Math.imul(bt,_e)|0)+Math.imul(yt,Ne)|0,N=N+Math.imul(yt,_e)|0,T=T+Math.imul(ut,qe)|0,E=(E=E+Math.imul(ut,Se)|0)+Math.imul(st,qe)|0,N=N+Math.imul(st,Se)|0,T=T+Math.imul(L,Ke)|0,E=(E=E+Math.imul(L,Ce)|0)+Math.imul(Q,Ke)|0,N=N+Math.imul(Q,Ce)|0;var ft=(Z+(T=T+Math.imul($,Tt)|0)|0)+((8191&(E=(E=E+Math.imul($,Dt)|0)+Math.imul(tt,Tt)|0))<<13)|0;Z=((N=N+Math.imul(tt,Dt)|0)+(E>>>13)|0)+(ft>>>26)|0,ft&=67108863,T=Math.imul(Qt,re),E=(E=Math.imul(Qt,oe))+Math.imul(Kt,re)|0,N=Math.imul(Kt,oe),T=T+Math.imul(It,We)|0,E=(E=E+Math.imul(It,he)|0)+Math.imul(Ht,We)|0,N=N+Math.imul(Ht,he)|0,T=T+Math.imul(xt,ve)|0,E=(E=E+Math.imul(xt,we)|0)+Math.imul(wt,ve)|0,N=N+Math.imul(wt,we)|0,T=T+Math.imul(pt,Ne)|0,E=(E=E+Math.imul(pt,_e)|0)+Math.imul(dt,Ne)|0,N=N+Math.imul(dt,_e)|0,T=T+Math.imul(bt,qe)|0,E=(E=E+Math.imul(bt,Se)|0)+Math.imul(yt,qe)|0,N=N+Math.imul(yt,Se)|0,T=T+Math.imul(ut,Ke)|0,E=(E=E+Math.imul(ut,Ce)|0)+Math.imul(st,Ke)|0,N=N+Math.imul(st,Ce)|0,T=T+Math.imul(L,Tt)|0,E=(E=E+Math.imul(L,Dt)|0)+Math.imul(Q,Tt)|0,N=N+Math.imul(Q,Dt)|0;var St=(Z+(T=T+Math.imul($,pe)|0)|0)+((8191&(E=(E=E+Math.imul($,Xt)|0)+Math.imul(tt,pe)|0))<<13)|0;Z=((N=N+Math.imul(tt,Xt)|0)+(E>>>13)|0)+(St>>>26)|0,St&=67108863,T=Math.imul(fe,re),E=(E=Math.imul(fe,oe))+Math.imul(de,re)|0,N=Math.imul(de,oe),T=T+Math.imul(Qt,We)|0,E=(E=E+Math.imul(Qt,he)|0)+Math.imul(Kt,We)|0,N=N+Math.imul(Kt,he)|0,T=T+Math.imul(It,ve)|0,E=(E=E+Math.imul(It,we)|0)+Math.imul(Ht,ve)|0,N=N+Math.imul(Ht,we)|0,T=T+Math.imul(xt,Ne)|0,E=(E=E+Math.imul(xt,_e)|0)+Math.imul(wt,Ne)|0,N=N+Math.imul(wt,_e)|0,T=T+Math.imul(pt,qe)|0,E=(E=E+Math.imul(pt,Se)|0)+Math.imul(dt,qe)|0,N=N+Math.imul(dt,Se)|0,T=T+Math.imul(bt,Ke)|0,E=(E=E+Math.imul(bt,Ce)|0)+Math.imul(yt,Ke)|0,N=N+Math.imul(yt,Ce)|0,T=T+Math.imul(ut,Tt)|0,E=(E=E+Math.imul(ut,Dt)|0)+Math.imul(st,Tt)|0,N=N+Math.imul(st,Dt)|0,T=T+Math.imul(L,pe)|0,E=(E=E+Math.imul(L,Xt)|0)+Math.imul(Q,pe)|0,N=N+Math.imul(Q,Xt)|0;var Mt=(Z+(T=T+Math.imul($,Lt)|0)|0)+((8191&(E=(E=E+Math.imul($,Yt)|0)+Math.imul(tt,Lt)|0))<<13)|0;Z=((N=N+Math.imul(tt,Yt)|0)+(E>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,T=Math.imul(Zt,re),E=(E=Math.imul(Zt,oe))+Math.imul(Gt,re)|0,N=Math.imul(Gt,oe),T=T+Math.imul(fe,We)|0,E=(E=E+Math.imul(fe,he)|0)+Math.imul(de,We)|0,N=N+Math.imul(de,he)|0,T=T+Math.imul(Qt,ve)|0,E=(E=E+Math.imul(Qt,we)|0)+Math.imul(Kt,ve)|0,N=N+Math.imul(Kt,we)|0,T=T+Math.imul(It,Ne)|0,E=(E=E+Math.imul(It,_e)|0)+Math.imul(Ht,Ne)|0,N=N+Math.imul(Ht,_e)|0,T=T+Math.imul(xt,qe)|0,E=(E=E+Math.imul(xt,Se)|0)+Math.imul(wt,qe)|0,N=N+Math.imul(wt,Se)|0,T=T+Math.imul(pt,Ke)|0,E=(E=E+Math.imul(pt,Ce)|0)+Math.imul(dt,Ke)|0,N=N+Math.imul(dt,Ce)|0,T=T+Math.imul(bt,Tt)|0,E=(E=E+Math.imul(bt,Dt)|0)+Math.imul(yt,Tt)|0,N=N+Math.imul(yt,Dt)|0,T=T+Math.imul(ut,pe)|0,E=(E=E+Math.imul(ut,Xt)|0)+Math.imul(st,pe)|0,N=N+Math.imul(st,Xt)|0,T=T+Math.imul(L,Lt)|0,E=(E=E+Math.imul(L,Yt)|0)+Math.imul(Q,Lt)|0,N=N+Math.imul(Q,Yt)|0;var Wt=(Z+(T=T+Math.imul($,se)|0)|0)+((8191&(E=(E=E+Math.imul($,ke)|0)+Math.imul(tt,se)|0))<<13)|0;Z=((N=N+Math.imul(tt,ke)|0)+(E>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,T=Math.imul(Zt,We),E=(E=Math.imul(Zt,he))+Math.imul(Gt,We)|0,N=Math.imul(Gt,he),T=T+Math.imul(fe,ve)|0,E=(E=E+Math.imul(fe,we)|0)+Math.imul(de,ve)|0,N=N+Math.imul(de,we)|0,T=T+Math.imul(Qt,Ne)|0,E=(E=E+Math.imul(Qt,_e)|0)+Math.imul(Kt,Ne)|0,N=N+Math.imul(Kt,_e)|0,T=T+Math.imul(It,qe)|0,E=(E=E+Math.imul(It,Se)|0)+Math.imul(Ht,qe)|0,N=N+Math.imul(Ht,Se)|0,T=T+Math.imul(xt,Ke)|0,E=(E=E+Math.imul(xt,Ce)|0)+Math.imul(wt,Ke)|0,N=N+Math.imul(wt,Ce)|0,T=T+Math.imul(pt,Tt)|0,E=(E=E+Math.imul(pt,Dt)|0)+Math.imul(dt,Tt)|0,N=N+Math.imul(dt,Dt)|0,T=T+Math.imul(bt,pe)|0,E=(E=E+Math.imul(bt,Xt)|0)+Math.imul(yt,pe)|0,N=N+Math.imul(yt,Xt)|0,T=T+Math.imul(ut,Lt)|0,E=(E=E+Math.imul(ut,Yt)|0)+Math.imul(st,Lt)|0,N=N+Math.imul(st,Yt)|0;var zt=(Z+(T=T+Math.imul(L,se)|0)|0)+((8191&(E=(E=E+Math.imul(L,ke)|0)+Math.imul(Q,se)|0))<<13)|0;Z=((N=N+Math.imul(Q,ke)|0)+(E>>>13)|0)+(zt>>>26)|0,zt&=67108863,T=Math.imul(Zt,ve),E=(E=Math.imul(Zt,we))+Math.imul(Gt,ve)|0,N=Math.imul(Gt,we),T=T+Math.imul(fe,Ne)|0,E=(E=E+Math.imul(fe,_e)|0)+Math.imul(de,Ne)|0,N=N+Math.imul(de,_e)|0,T=T+Math.imul(Qt,qe)|0,E=(E=E+Math.imul(Qt,Se)|0)+Math.imul(Kt,qe)|0,N=N+Math.imul(Kt,Se)|0,T=T+Math.imul(It,Ke)|0,E=(E=E+Math.imul(It,Ce)|0)+Math.imul(Ht,Ke)|0,N=N+Math.imul(Ht,Ce)|0,T=T+Math.imul(xt,Tt)|0,E=(E=E+Math.imul(xt,Dt)|0)+Math.imul(wt,Tt)|0,N=N+Math.imul(wt,Dt)|0,T=T+Math.imul(pt,pe)|0,E=(E=E+Math.imul(pt,Xt)|0)+Math.imul(dt,pe)|0,N=N+Math.imul(dt,Xt)|0,T=T+Math.imul(bt,Lt)|0,E=(E=E+Math.imul(bt,Yt)|0)+Math.imul(yt,Lt)|0,N=N+Math.imul(yt,Yt)|0;var qt=(Z+(T=T+Math.imul(ut,se)|0)|0)+((8191&(E=(E=E+Math.imul(ut,ke)|0)+Math.imul(st,se)|0))<<13)|0;Z=((N=N+Math.imul(st,ke)|0)+(E>>>13)|0)+(qt>>>26)|0,qt&=67108863,T=Math.imul(Zt,Ne),E=(E=Math.imul(Zt,_e))+Math.imul(Gt,Ne)|0,N=Math.imul(Gt,_e),T=T+Math.imul(fe,qe)|0,E=(E=E+Math.imul(fe,Se)|0)+Math.imul(de,qe)|0,N=N+Math.imul(de,Se)|0,T=T+Math.imul(Qt,Ke)|0,E=(E=E+Math.imul(Qt,Ce)|0)+Math.imul(Kt,Ke)|0,N=N+Math.imul(Kt,Ce)|0,T=T+Math.imul(It,Tt)|0,E=(E=E+Math.imul(It,Dt)|0)+Math.imul(Ht,Tt)|0,N=N+Math.imul(Ht,Dt)|0,T=T+Math.imul(xt,pe)|0,E=(E=E+Math.imul(xt,Xt)|0)+Math.imul(wt,pe)|0,N=N+Math.imul(wt,Xt)|0,T=T+Math.imul(pt,Lt)|0,E=(E=E+Math.imul(pt,Yt)|0)+Math.imul(dt,Lt)|0,N=N+Math.imul(dt,Yt)|0;var Ie=(Z+(T=T+Math.imul(bt,se)|0)|0)+((8191&(E=(E=E+Math.imul(bt,ke)|0)+Math.imul(yt,se)|0))<<13)|0;Z=((N=N+Math.imul(yt,ke)|0)+(E>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,T=Math.imul(Zt,qe),E=(E=Math.imul(Zt,Se))+Math.imul(Gt,qe)|0,N=Math.imul(Gt,Se),T=T+Math.imul(fe,Ke)|0,E=(E=E+Math.imul(fe,Ce)|0)+Math.imul(de,Ke)|0,N=N+Math.imul(de,Ce)|0,T=T+Math.imul(Qt,Tt)|0,E=(E=E+Math.imul(Qt,Dt)|0)+Math.imul(Kt,Tt)|0,N=N+Math.imul(Kt,Dt)|0,T=T+Math.imul(It,pe)|0,E=(E=E+Math.imul(It,Xt)|0)+Math.imul(Ht,pe)|0,N=N+Math.imul(Ht,Xt)|0,T=T+Math.imul(xt,Lt)|0,E=(E=E+Math.imul(xt,Yt)|0)+Math.imul(wt,Lt)|0,N=N+Math.imul(wt,Yt)|0;var ae=(Z+(T=T+Math.imul(pt,se)|0)|0)+((8191&(E=(E=E+Math.imul(pt,ke)|0)+Math.imul(dt,se)|0))<<13)|0;Z=((N=N+Math.imul(dt,ke)|0)+(E>>>13)|0)+(ae>>>26)|0,ae&=67108863,T=Math.imul(Zt,Ke),E=(E=Math.imul(Zt,Ce))+Math.imul(Gt,Ke)|0,N=Math.imul(Gt,Ce),T=T+Math.imul(fe,Tt)|0,E=(E=E+Math.imul(fe,Dt)|0)+Math.imul(de,Tt)|0,N=N+Math.imul(de,Dt)|0,T=T+Math.imul(Qt,pe)|0,E=(E=E+Math.imul(Qt,Xt)|0)+Math.imul(Kt,pe)|0,N=N+Math.imul(Kt,Xt)|0,T=T+Math.imul(It,Lt)|0,E=(E=E+Math.imul(It,Yt)|0)+Math.imul(Ht,Lt)|0,N=N+Math.imul(Ht,Yt)|0;var xe=(Z+(T=T+Math.imul(xt,se)|0)|0)+((8191&(E=(E=E+Math.imul(xt,ke)|0)+Math.imul(wt,se)|0))<<13)|0;Z=((N=N+Math.imul(wt,ke)|0)+(E>>>13)|0)+(xe>>>26)|0,xe&=67108863,T=Math.imul(Zt,Tt),E=(E=Math.imul(Zt,Dt))+Math.imul(Gt,Tt)|0,N=Math.imul(Gt,Dt),T=T+Math.imul(fe,pe)|0,E=(E=E+Math.imul(fe,Xt)|0)+Math.imul(de,pe)|0,N=N+Math.imul(de,Xt)|0,T=T+Math.imul(Qt,Lt)|0,E=(E=E+Math.imul(Qt,Yt)|0)+Math.imul(Kt,Lt)|0,N=N+Math.imul(Kt,Yt)|0;var ne=(Z+(T=T+Math.imul(It,se)|0)|0)+((8191&(E=(E=E+Math.imul(It,ke)|0)+Math.imul(Ht,se)|0))<<13)|0;Z=((N=N+Math.imul(Ht,ke)|0)+(E>>>13)|0)+(ne>>>26)|0,ne&=67108863,T=Math.imul(Zt,pe),E=(E=Math.imul(Zt,Xt))+Math.imul(Gt,pe)|0,N=Math.imul(Gt,Xt),T=T+Math.imul(fe,Lt)|0,E=(E=E+Math.imul(fe,Yt)|0)+Math.imul(de,Lt)|0,N=N+Math.imul(de,Yt)|0;var Ae=(Z+(T=T+Math.imul(Qt,se)|0)|0)+((8191&(E=(E=E+Math.imul(Qt,ke)|0)+Math.imul(Kt,se)|0))<<13)|0;Z=((N=N+Math.imul(Kt,ke)|0)+(E>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,T=Math.imul(Zt,Lt),E=(E=Math.imul(Zt,Yt))+Math.imul(Gt,Lt)|0,N=Math.imul(Gt,Yt);var Be=(Z+(T=T+Math.imul(fe,se)|0)|0)+((8191&(E=(E=E+Math.imul(fe,ke)|0)+Math.imul(de,se)|0))<<13)|0;Z=((N=N+Math.imul(de,ke)|0)+(E>>>13)|0)+(Be>>>26)|0,Be&=67108863;var Ee=(Z+(T=Math.imul(Zt,se))|0)+((8191&(E=(E=Math.imul(Zt,ke))+Math.imul(Gt,se)|0))<<13)|0;return Z=((N=Math.imul(Gt,ke))+(E>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,K[0]=br,K[1]=tr,K[2]=Tr,K[3]=dr,K[4]=_r,K[5]=ht,K[6]=ft,K[7]=St,K[8]=Mt,K[9]=Wt,K[10]=zt,K[11]=qt,K[12]=Ie,K[13]=ae,K[14]=xe,K[15]=ne,K[16]=Ae,K[17]=Be,K[18]=Ee,Z!==0&&(K[19]=Z,S.length++),S};function O(k,x,S){S.negative=x.negative^k.negative,S.length=k.length+x.length;for(var T=0,E=0,N=0;N<S.length-1;N++){var I=E;E=0;for(var B=67108863&T,K=Math.min(N,x.length-1),Z=Math.max(0,N-k.length+1);Z<=K;Z++){var nt=N-Z,$=(0|k.words[nt])*(0|x.words[Z]),tt=67108863&$;B=67108863&(tt=tt+B|0),E+=(I=(I=I+($/67108864|0)|0)+(tt>>>26)|0)>>>26,I&=67108863}S.words[N]=B,T=I,I=E}return T!==0?S.words[N]=T:S.length--,S._strip()}function q(k,x,S){return O(k,x,S)}Math.imul||(M=A),n.prototype.mulTo=function(k,x){var S=this.length+k.length;return this.length===10&&k.length===10?M(this,k,x):S<63?A(this,k,x):S<1024?O(this,k,x):q(this,k,x)},n.prototype.mul=function(k){var x=new n(null);return x.words=new Array(this.length+k.length),this.mulTo(k,x)},n.prototype.mulf=function(k){var x=new n(null);return x.words=new Array(this.length+k.length),q(this,k,x)},n.prototype.imul=function(k){return this.clone().mulTo(k,this)},n.prototype.imuln=function(k){var x=k<0;x&&(k=-k),h(typeof k=="number"),h(k<67108864);for(var S=0,T=0;T<this.length;T++){var E=(0|this.words[T])*k,N=(67108863&E)+(67108863&S);S>>=26,S+=E/67108864|0,S+=N>>>26,this.words[T]=67108863&N}return S!==0&&(this.words[T]=S,this.length++),x?this.ineg():this},n.prototype.muln=function(k){return this.clone().imuln(k)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(k){var x=(function(N){for(var I=new Array(N.bitLength()),B=0;B<I.length;B++){var K=B/26|0,Z=B%26;I[B]=N.words[K]>>>Z&1}return I})(k);if(x.length===0)return new n(1);for(var S=this,T=0;T<x.length&&x[T]===0;T++,S=S.sqr());if(++T<x.length)for(var E=S.sqr();T<x.length;T++,E=E.sqr())x[T]!==0&&(S=S.mul(E));return S},n.prototype.iushln=function(k){h(typeof k=="number"&&k>=0);var x,S=k%26,T=(k-S)/26,E=67108863>>>26-S<<26-S;if(S!==0){var N=0;for(x=0;x<this.length;x++){var I=this.words[x]&E,B=(0|this.words[x])-I<<S;this.words[x]=B|N,N=I>>>26-S}N&&(this.words[x]=N,this.length++)}if(T!==0){for(x=this.length-1;x>=0;x--)this.words[x+T]=this.words[x];for(x=0;x<T;x++)this.words[x]=0;this.length+=T}return this._strip()},n.prototype.ishln=function(k){return h(this.negative===0),this.iushln(k)},n.prototype.iushrn=function(k,x,S){var T;h(typeof k=="number"&&k>=0),T=x?(x-x%26)/26:0;var E=k%26,N=Math.min((k-E)/26,this.length),I=67108863^67108863>>>E<<E,B=S;if(T-=N,T=Math.max(0,T),B){for(var K=0;K<N;K++)B.words[K]=this.words[K];B.length=N}if(N!==0)if(this.length>N)for(this.length-=N,K=0;K<this.length;K++)this.words[K]=this.words[K+N];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=T);K--){var nt=0|this.words[K];this.words[K]=Z<<26-E|nt>>>E,Z=nt&I}return B&&Z!==0&&(B.words[B.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(k,x,S){return h(this.negative===0),this.iushrn(k,x,S)},n.prototype.shln=function(k){return this.clone().ishln(k)},n.prototype.ushln=function(k){return this.clone().iushln(k)},n.prototype.shrn=function(k){return this.clone().ishrn(k)},n.prototype.ushrn=function(k){return this.clone().iushrn(k)},n.prototype.testn=function(k){h(typeof k=="number"&&k>=0);var x=k%26,S=(k-x)/26,T=1<<x;return!(this.length<=S)&&!!(this.words[S]&T)},n.prototype.imaskn=function(k){h(typeof k=="number"&&k>=0);var x=k%26,S=(k-x)/26;if(h(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(x!==0&&S++,this.length=Math.min(S,this.length),x!==0){var T=67108863^67108863>>>x<<x;this.words[this.length-1]&=T}return this._strip()},n.prototype.maskn=function(k){return this.clone().imaskn(k)},n.prototype.iaddn=function(k){return h(typeof k=="number"),h(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},n.prototype._iaddn=function(k){this.words[0]+=k;for(var x=0;x<this.length&&this.words[x]>=67108864;x++)this.words[x]-=67108864,x===this.length-1?this.words[x+1]=1:this.words[x+1]++;return this.length=Math.max(this.length,x+1),this},n.prototype.isubn=function(k){if(h(typeof k=="number"),h(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var x=0;x<this.length&&this.words[x]<0;x++)this.words[x]+=67108864,this.words[x+1]-=1;return this._strip()},n.prototype.addn=function(k){return this.clone().iaddn(k)},n.prototype.subn=function(k){return this.clone().isubn(k)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(k,x,S){var T,E,N=k.length+S;this._expand(N);var I=0;for(T=0;T<k.length;T++){E=(0|this.words[T+S])+I;var B=(0|k.words[T])*x;I=((E-=67108863&B)>>26)-(B/67108864|0),this.words[T+S]=67108863&E}for(;T<this.length-S;T++)I=(E=(0|this.words[T+S])+I)>>26,this.words[T+S]=67108863&E;if(I===0)return this._strip();for(h(I===-1),I=0,T=0;T<this.length;T++)I=(E=-(0|this.words[T])+I)>>26,this.words[T]=67108863&E;return this.negative=1,this._strip()},n.prototype._wordDiv=function(k,x){var S=(this.length,k.length),T=this.clone(),E=k,N=0|E.words[E.length-1];(S=26-this._countBits(N))!==0&&(E=E.ushln(S),T.iushln(S),N=0|E.words[E.length-1]);var I,B=T.length-E.length;if(x!=="mod"){(I=new n(null)).length=B+1,I.words=new Array(I.length);for(var K=0;K<I.length;K++)I.words[K]=0}var Z=T.clone()._ishlnsubmul(E,1,B);Z.negative===0&&(T=Z,I&&(I.words[B]=1));for(var nt=B-1;nt>=0;nt--){var $=67108864*(0|T.words[E.length+nt])+(0|T.words[E.length+nt-1]);for($=Math.min($/N|0,67108863),T._ishlnsubmul(E,$,nt);T.negative!==0;)$--,T.negative=0,T._ishlnsubmul(E,1,nt),T.isZero()||(T.negative^=1);I&&(I.words[nt]=$)}return I&&I._strip(),T._strip(),x!=="div"&&S!==0&&T.iushrn(S),{div:I||null,mod:T}},n.prototype.divmod=function(k,x,S){return h(!k.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:this.negative!==0&&k.negative===0?(N=this.neg().divmod(k,x),x!=="mod"&&(T=N.div.neg()),x!=="div"&&(E=N.mod.neg(),S&&E.negative!==0&&E.iadd(k)),{div:T,mod:E}):this.negative===0&&k.negative!==0?(N=this.divmod(k.neg(),x),x!=="mod"&&(T=N.div.neg()),{div:T,mod:N.mod}):(this.negative&k.negative)!=0?(N=this.neg().divmod(k.neg(),x),x!=="div"&&(E=N.mod.neg(),S&&E.negative!==0&&E.isub(k)),{div:N.div,mod:E}):k.length>this.length||this.cmp(k)<0?{div:new n(0),mod:this}:k.length===1?x==="div"?{div:this.divn(k.words[0]),mod:null}:x==="mod"?{div:null,mod:new n(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new n(this.modrn(k.words[0]))}:this._wordDiv(k,x);var T,E,N},n.prototype.div=function(k){return this.divmod(k,"div",!1).div},n.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},n.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},n.prototype.divRound=function(k){var x=this.divmod(k);if(x.mod.isZero())return x.div;var S=x.div.negative!==0?x.mod.isub(k):x.mod,T=k.ushrn(1),E=k.andln(1),N=S.cmp(T);return N<0||E===1&&N===0?x.div:x.div.negative!==0?x.div.isubn(1):x.div.iaddn(1)},n.prototype.modrn=function(k){var x=k<0;x&&(k=-k),h(k<=67108863);for(var S=(1<<26)%k,T=0,E=this.length-1;E>=0;E--)T=(S*T+(0|this.words[E]))%k;return x?-T:T},n.prototype.modn=function(k){return this.modrn(k)},n.prototype.idivn=function(k){var x=k<0;x&&(k=-k),h(k<=67108863);for(var S=0,T=this.length-1;T>=0;T--){var E=(0|this.words[T])+67108864*S;this.words[T]=E/k|0,S=E%k}return this._strip(),x?this.ineg():this},n.prototype.divn=function(k){return this.clone().idivn(k)},n.prototype.egcd=function(k){h(k.negative===0),h(!k.isZero());var x=this,S=k.clone();x=x.negative!==0?x.umod(k):x.clone();for(var T=new n(1),E=new n(0),N=new n(0),I=new n(1),B=0;x.isEven()&&S.isEven();)x.iushrn(1),S.iushrn(1),++B;for(var K=S.clone(),Z=x.clone();!x.isZero();){for(var nt=0,$=1;(x.words[0]&$)==0&&nt<26;++nt,$<<=1);if(nt>0)for(x.iushrn(nt);nt-- >0;)(T.isOdd()||E.isOdd())&&(T.iadd(K),E.isub(Z)),T.iushrn(1),E.iushrn(1);for(var tt=0,U=1;(S.words[0]&U)==0&&tt<26;++tt,U<<=1);if(tt>0)for(S.iushrn(tt);tt-- >0;)(N.isOdd()||I.isOdd())&&(N.iadd(K),I.isub(Z)),N.iushrn(1),I.iushrn(1);x.cmp(S)>=0?(x.isub(S),T.isub(N),E.isub(I)):(S.isub(x),N.isub(T),I.isub(E))}return{a:N,b:I,gcd:S.iushln(B)}},n.prototype._invmp=function(k){h(k.negative===0),h(!k.isZero());var x=this,S=k.clone();x=x.negative!==0?x.umod(k):x.clone();for(var T,E=new n(1),N=new n(0),I=S.clone();x.cmpn(1)>0&&S.cmpn(1)>0;){for(var B=0,K=1;(x.words[0]&K)==0&&B<26;++B,K<<=1);if(B>0)for(x.iushrn(B);B-- >0;)E.isOdd()&&E.iadd(I),E.iushrn(1);for(var Z=0,nt=1;(S.words[0]&nt)==0&&Z<26;++Z,nt<<=1);if(Z>0)for(S.iushrn(Z);Z-- >0;)N.isOdd()&&N.iadd(I),N.iushrn(1);x.cmp(S)>=0?(x.isub(S),E.isub(N)):(S.isub(x),N.isub(E))}return(T=x.cmpn(1)===0?E:N).cmpn(0)<0&&T.iadd(k),T},n.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var x=this.clone(),S=k.clone();x.negative=0,S.negative=0;for(var T=0;x.isEven()&&S.isEven();T++)x.iushrn(1),S.iushrn(1);for(;;){for(;x.isEven();)x.iushrn(1);for(;S.isEven();)S.iushrn(1);var E=x.cmp(S);if(E<0){var N=x;x=S,S=N}else if(E===0||S.cmpn(1)===0)break;x.isub(S)}return S.iushln(T)},n.prototype.invm=function(k){return this.egcd(k).a.umod(k)},n.prototype.isEven=function(){return(1&this.words[0])==0},n.prototype.isOdd=function(){return(1&this.words[0])==1},n.prototype.andln=function(k){return this.words[0]&k},n.prototype.bincn=function(k){h(typeof k=="number");var x=k%26,S=(k-x)/26,T=1<<x;if(this.length<=S)return this._expand(S+1),this.words[S]|=T,this;for(var E=T,N=S;E!==0&&N<this.length;N++){var I=0|this.words[N];E=(I+=E)>>>26,I&=67108863,this.words[N]=I}return E!==0&&(this.words[N]=E,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(k){var x,S=k<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)x=1;else{S&&(k=-k),h(k<=67108863,"Number is too big");var T=0|this.words[0];x=T===k?0:T<k?-1:1}return this.negative!==0?0|-x:x},n.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var x=this.ucmp(k);return this.negative!==0?0|-x:x},n.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var x=0,S=this.length-1;S>=0;S--){var T=0|this.words[S],E=0|k.words[S];if(T!==E){T<E?x=-1:T>E&&(x=1);break}}return x},n.prototype.gtn=function(k){return this.cmpn(k)===1},n.prototype.gt=function(k){return this.cmp(k)===1},n.prototype.gten=function(k){return this.cmpn(k)>=0},n.prototype.gte=function(k){return this.cmp(k)>=0},n.prototype.ltn=function(k){return this.cmpn(k)===-1},n.prototype.lt=function(k){return this.cmp(k)===-1},n.prototype.lten=function(k){return this.cmpn(k)<=0},n.prototype.lte=function(k){return this.cmp(k)<=0},n.prototype.eqn=function(k){return this.cmpn(k)===0},n.prototype.eq=function(k){return this.cmp(k)===0},n.red=function(k){return new R(k)},n.prototype.toRed=function(k){return h(!this.red,"Already a number in reduction context"),h(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},n.prototype.fromRed=function(){return h(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(k){return this.red=k,this},n.prototype.forceRed=function(k){return h(!this.red,"Already a number in reduction context"),this._forceRed(k)},n.prototype.redAdd=function(k){return h(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},n.prototype.redIAdd=function(k){return h(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},n.prototype.redSub=function(k){return h(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},n.prototype.redISub=function(k){return h(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},n.prototype.redShl=function(k){return h(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},n.prototype.redMul=function(k){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},n.prototype.redIMul=function(k){return h(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},n.prototype.redSqr=function(){return h(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return h(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return h(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return h(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return h(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(k){return h(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var F={k256:null,p224:null,p192:null,p25519:null};function j(k,x){this.name=k,this.p=new n(x,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function V(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function G(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function X(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(k){if(typeof k=="string"){var x=n._prime(k);this.m=x.p,this.prime=x}else h(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function P(k){R.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}j.prototype._tmp=function(){var k=new n(null);return k.words=new Array(Math.ceil(this.n/13)),k},j.prototype.ireduce=function(k){var x,S=k;do this.split(S,this.tmp),x=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(x>this.n);var T=x<this.n?-1:S.ucmp(this.p);return T===0?(S.words[0]=0,S.length=1):T>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},j.prototype.split=function(k,x){k.iushrn(this.n,0,x)},j.prototype.imulK=function(k){return k.imul(this.k)},a(V,j),V.prototype.split=function(k,x){for(var S=Math.min(k.length,9),T=0;T<S;T++)x.words[T]=k.words[T];if(x.length=S,k.length<=9)return k.words[0]=0,void(k.length=1);var E=k.words[9];for(x.words[x.length++]=4194303&E,T=10;T<k.length;T++){var N=0|k.words[T];k.words[T-10]=(4194303&N)<<4|E>>>22,E=N}E>>>=22,k.words[T-10]=E,E===0&&k.length>10?k.length-=10:k.length-=9},V.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var x=0,S=0;S<k.length;S++){var T=0|k.words[S];x+=977*T,k.words[S]=67108863&x,x=64*T+(x/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},a(G,j),a(X,j),a(H,j),H.prototype.imulK=function(k){for(var x=0,S=0;S<k.length;S++){var T=19*(0|k.words[S])+x,E=67108863&T;T>>>=26,k.words[S]=E,x=T}return x!==0&&(k.words[k.length++]=x),k},n._prime=function(k){if(F[k])return F[k];var x;if(k==="k256")x=new V;else if(k==="p224")x=new G;else if(k==="p192")x=new X;else{if(k!=="p25519")throw new Error("Unknown prime "+k);x=new H}return F[k]=x,x},R.prototype._verify1=function(k){h(k.negative===0,"red works only with positives"),h(k.red,"red works only with red numbers")},R.prototype._verify2=function(k,x){h((k.negative|x.negative)==0,"red works only with positives"),h(k.red&&k.red===x.red,"red works only with red numbers")},R.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(b(k,k.umod(this.m)._forceRed(this)),k)},R.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},R.prototype.add=function(k,x){this._verify2(k,x);var S=k.add(x);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},R.prototype.iadd=function(k,x){this._verify2(k,x);var S=k.iadd(x);return S.cmp(this.m)>=0&&S.isub(this.m),S},R.prototype.sub=function(k,x){this._verify2(k,x);var S=k.sub(x);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},R.prototype.isub=function(k,x){this._verify2(k,x);var S=k.isub(x);return S.cmpn(0)<0&&S.iadd(this.m),S},R.prototype.shl=function(k,x){return this._verify1(k),this.imod(k.ushln(x))},R.prototype.imul=function(k,x){return this._verify2(k,x),this.imod(k.imul(x))},R.prototype.mul=function(k,x){return this._verify2(k,x),this.imod(k.mul(x))},R.prototype.isqr=function(k){return this.imul(k,k.clone())},R.prototype.sqr=function(k){return this.mul(k,k)},R.prototype.sqrt=function(k){if(k.isZero())return k.clone();var x=this.m.andln(3);if(h(x%2==1),x===3){var S=this.m.add(new n(1)).iushrn(2);return this.pow(k,S)}for(var T=this.m.subn(1),E=0;!T.isZero()&&T.andln(1)===0;)E++,T.iushrn(1);h(!T.isZero());var N=new n(1).toRed(this),I=N.redNeg(),B=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new n(2*K*K).toRed(this);this.pow(K,B).cmp(I)!==0;)K.redIAdd(I);for(var Z=this.pow(K,T),nt=this.pow(k,T.addn(1).iushrn(1)),$=this.pow(k,T),tt=E;$.cmp(N)!==0;){for(var U=$,L=0;U.cmp(N)!==0;L++)U=U.redSqr();h(L<tt);var Q=this.pow(Z,new n(1).iushln(tt-L-1));nt=nt.redMul(Q),Z=Q.redSqr(),$=$.redMul(Z),tt=L}return nt},R.prototype.invm=function(k){var x=k._invmp(this.m);return x.negative!==0?(x.negative=0,this.imod(x).redNeg()):this.imod(x)},R.prototype.pow=function(k,x){if(x.isZero())return new n(1).toRed(this);if(x.cmpn(1)===0)return k.clone();var S=new Array(16);S[0]=new n(1).toRed(this),S[1]=k;for(var T=2;T<S.length;T++)S[T]=this.mul(S[T-1],k);var E=S[0],N=0,I=0,B=x.bitLength()%26;for(B===0&&(B=26),T=x.length-1;T>=0;T--){for(var K=x.words[T],Z=B-1;Z>=0;Z--){var nt=K>>Z&1;E!==S[0]&&(E=this.sqr(E)),nt!==0||N!==0?(N<<=1,N|=nt,(++I===4||T===0&&Z===0)&&(E=this.mul(E,S[N]),I=0,N=0)):I=0}B=26}return E},R.prototype.convertTo=function(k){var x=k.umod(this.m);return x===k?x.clone():x},R.prototype.convertFrom=function(k){var x=k.clone();return x.red=null,x},n.mont=function(k){return new P(k)},a(P,R),P.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},P.prototype.convertFrom=function(k){var x=this.imod(k.mul(this.rinv));return x.red=null,x},P.prototype.imul=function(k,x){if(k.isZero()||x.isZero())return k.words[0]=0,k.length=1,k;var S=k.imul(x),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(T).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},P.prototype.mul=function(k,x){if(k.isZero()||x.isZero())return new n(0)._forceRed(this);var S=k.mul(x),T=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),E=S.isub(T).iushrn(this.shift),N=E;return E.cmp(this.m)>=0?N=E.isub(this.m):E.cmpn(0)<0&&(N=E.iadd(this.m)),N._forceRed(this)},P.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(i===void 0||i)},{buffer:188}],187:[function(t,i,c){var o;function s(a){this.rand=a}if(i.exports=function(a){return o||(o=new s(null)),o.generate(a)},i.exports.Rand=s,s.prototype.generate=function(a){return this._rand(a)},s.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var n=new Uint8Array(a),u=0;u<n.length;u++)n[u]=this.rand.getByte();return n},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(a){var n=new Uint8Array(a);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(a){var n=new Uint8Array(a);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var h=t("crypto");if(typeof h.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(a){return h.randomBytes(a)}}catch{}},{crypto:188}],188:[function(t,i,c){},{}],189:[function(t,i,c){var o=t("safe-buffer").Buffer;function s(f){o.isBuffer(f)||(f=o.from(f));for(var d=f.length/4|0,b=new Array(d),v=0;v<d;v++)b[v]=f.readUInt32BE(4*v);return b}function h(f){for(;0<f.length;f++)f[0]=0}function a(f,d,b,v,g){for(var w,_,A,M,O=b[0],q=b[1],F=b[2],j=b[3],V=f[0]^d[0],G=f[1]^d[1],X=f[2]^d[2],H=f[3]^d[3],R=4,P=1;P<g;P++)w=O[V>>>24]^q[G>>>16&255]^F[X>>>8&255]^j[255&H]^d[R++],_=O[G>>>24]^q[X>>>16&255]^F[H>>>8&255]^j[255&V]^d[R++],A=O[X>>>24]^q[H>>>16&255]^F[V>>>8&255]^j[255&G]^d[R++],M=O[H>>>24]^q[V>>>16&255]^F[G>>>8&255]^j[255&X]^d[R++],V=w,G=_,X=A,H=M;return w=(v[V>>>24]<<24|v[G>>>16&255]<<16|v[X>>>8&255]<<8|v[255&H])^d[R++],_=(v[G>>>24]<<24|v[X>>>16&255]<<16|v[H>>>8&255]<<8|v[255&V])^d[R++],A=(v[X>>>24]<<24|v[H>>>16&255]<<16|v[V>>>8&255]<<8|v[255&G])^d[R++],M=(v[H>>>24]<<24|v[V>>>16&255]<<16|v[G>>>8&255]<<8|v[255&X])^d[R++],[w>>>=0,_>>>=0,A>>>=0,M>>>=0]}var n=[0,1,2,4,8,16,32,64,128,27,54],u=(function(){for(var f=new Array(256),d=0;d<256;d++)f[d]=d<128?d<<1:d<<1^283;for(var b=[],v=[],g=[[],[],[],[]],w=[[],[],[],[]],_=0,A=0,M=0;M<256;++M){var O=A^A<<1^A<<2^A<<3^A<<4;O=O>>>8^255&O^99,b[_]=O,v[O]=_;var q=f[_],F=f[q],j=f[F],V=257*f[O]^16843008*O;g[0][_]=V<<24|V>>>8,g[1][_]=V<<16|V>>>16,g[2][_]=V<<8|V>>>24,g[3][_]=V,V=16843009*j^65537*F^257*q^16843008*_,w[0][O]=V<<24|V>>>8,w[1][O]=V<<16|V>>>16,w[2][O]=V<<8|V>>>24,w[3][O]=V,_===0?_=A=1:(_=q^f[f[f[j^q]]],A^=f[f[A]])}return{SBOX:b,INV_SBOX:v,SUB_MIX:g,INV_SUB_MIX:w}})();function m(f){this._key=s(f),this._reset()}m.blockSize=16,m.keySize=32,m.prototype.blockSize=m.blockSize,m.prototype.keySize=m.keySize,m.prototype._reset=function(){for(var f=this._key,d=f.length,b=d+6,v=4*(b+1),g=[],w=0;w<d;w++)g[w]=f[w];for(w=d;w<v;w++){var _=g[w-1];w%d==0?(_=_<<8|_>>>24,_=u.SBOX[_>>>24]<<24|u.SBOX[_>>>16&255]<<16|u.SBOX[_>>>8&255]<<8|u.SBOX[255&_],_^=n[w/d|0]<<24):d>6&&w%d==4&&(_=u.SBOX[_>>>24]<<24|u.SBOX[_>>>16&255]<<16|u.SBOX[_>>>8&255]<<8|u.SBOX[255&_]),g[w]=g[w-d]^_}for(var A=[],M=0;M<v;M++){var O=v-M,q=g[O-(M%4?0:4)];A[M]=M<4||O<=4?q:u.INV_SUB_MIX[0][u.SBOX[q>>>24]]^u.INV_SUB_MIX[1][u.SBOX[q>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[q>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&q]]}this._nRounds=b,this._keySchedule=g,this._invKeySchedule=A},m.prototype.encryptBlockRaw=function(f){return a(f=s(f),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},m.prototype.encryptBlock=function(f){var d=this.encryptBlockRaw(f),b=o.allocUnsafe(16);return b.writeUInt32BE(d[0],0),b.writeUInt32BE(d[1],4),b.writeUInt32BE(d[2],8),b.writeUInt32BE(d[3],12),b},m.prototype.decryptBlock=function(f){var d=(f=s(f))[1];f[1]=f[3],f[3]=d;var b=a(f,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),v=o.allocUnsafe(16);return v.writeUInt32BE(b[0],0),v.writeUInt32BE(b[3],4),v.writeUInt32BE(b[2],8),v.writeUInt32BE(b[1],12),v},m.prototype.scrub=function(){h(this._keySchedule),h(this._invKeySchedule),h(this._key)},i.exports.AES=m},{"safe-buffer":494}],190:[function(t,i,c){var o=t("./aes"),s=t("safe-buffer").Buffer,h=t("cipher-base"),a=t("inherits"),n=t("./ghash"),u=t("buffer-xor"),m=t("./incr32");function f(d,b,v,g){h.call(this);var w=s.alloc(4,0);this._cipher=new o.AES(b);var _=this._cipher.encryptBlock(w);this._ghash=new n(_),v=(function(A,M,O){if(M.length===12)return A._finID=s.concat([M,s.from([0,0,0,1])]),s.concat([M,s.from([0,0,0,2])]);var q=new n(O),F=M.length,j=F%16;q.update(M),j&&(j=16-j,q.update(s.alloc(j,0))),q.update(s.alloc(8,0));var V=8*F,G=s.alloc(8);G.writeUIntBE(V,0,8),q.update(G),A._finID=q.state;var X=s.from(A._finID);return m(X),X})(this,v,_),this._prev=s.from(v),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=g,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}a(f,h),f.prototype._update=function(d){if(!this._called&&this._alen){var b=16-this._alen%16;b<16&&(b=s.alloc(b,0),this._ghash.update(b))}this._called=!0;var v=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(v),this._len+=d.length,v},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&(function(b,v){var g=0;b.length!==v.length&&g++;for(var w=Math.min(b.length,v.length),_=0;_<w;++_)g+=b[_]^v[_];return g})(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},f.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},i.exports=f},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,i,c){var o=t("./encrypter"),s=t("./decrypter"),h=t("./modes/list.json");c.createCipher=c.Cipher=o.createCipher,c.createCipheriv=c.Cipheriv=o.createCipheriv,c.createDecipher=c.Decipher=s.createDecipher,c.createDecipheriv=c.Decipheriv=s.createDecipheriv,c.listCiphers=c.getCiphers=function(){return Object.keys(h)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,i,c){var o=t("./authCipher"),s=t("safe-buffer").Buffer,h=t("./modes"),a=t("./streamCipher"),n=t("cipher-base"),u=t("./aes"),m=t("evp_bytestokey");function f(v,g,w){n.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(g),this._prev=s.from(w),this._mode=v,this._autopadding=!0}function d(){this.cache=s.allocUnsafe(0)}function b(v,g,w){var _=h[v.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=s.from(w)),_.mode!=="GCM"&&w.length!==_.iv)throw new TypeError("invalid iv length "+w.length);if(typeof g=="string"&&(g=s.from(g)),g.length!==_.key/8)throw new TypeError("invalid key length "+g.length);return _.type==="stream"?new a(_.module,g,w,!0):_.type==="auth"?new o(_.module,g,w,!0):new f(_.module,g,w)}t("inherits")(f,n),f.prototype._update=function(v){var g,w;this._cache.add(v);for(var _=[];g=this._cache.get(this._autopadding);)w=this._mode.decrypt(this,g),_.push(w);return s.concat(_)},f.prototype._final=function(){var v=this._cache.flush();if(this._autopadding)return(function(g){var w=g[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var _=-1;++_<w;)if(g[_+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return g.slice(0,16-w)})(this._mode.decrypt(this,v));if(v)throw new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(v){return this._autopadding=!!v,this},d.prototype.add=function(v){this.cache=s.concat([this.cache,v])},d.prototype.get=function(v){var g;if(v){if(this.cache.length>16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g}else if(this.cache.length>=16)return g=this.cache.slice(0,16),this.cache=this.cache.slice(16),g;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},c.createDecipher=function(v,g){var w=h[v.toLowerCase()];if(!w)throw new TypeError("invalid suite type");var _=m(g,!1,w.key,w.iv);return b(v,_.key,_.iv)},c.createDecipheriv=b},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,i,c){var o=t("./modes"),s=t("./authCipher"),h=t("safe-buffer").Buffer,a=t("./streamCipher"),n=t("cipher-base"),u=t("./aes"),m=t("evp_bytestokey");function f(g,w,_){n.call(this),this._cache=new b,this._cipher=new u.AES(w),this._prev=h.from(_),this._mode=g,this._autopadding=!0}t("inherits")(f,n),f.prototype._update=function(g){var w,_;this._cache.add(g);for(var A=[];w=this._cache.get();)_=this._mode.encrypt(this,w),A.push(_);return h.concat(A)};var d=h.alloc(16,16);function b(){this.cache=h.allocUnsafe(0)}function v(g,w,_){var A=o[g.toLowerCase()];if(!A)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=h.from(w)),w.length!==A.key/8)throw new TypeError("invalid key length "+w.length);if(typeof _=="string"&&(_=h.from(_)),A.mode!=="GCM"&&_.length!==A.iv)throw new TypeError("invalid iv length "+_.length);return A.type==="stream"?new a(A.module,w,_):A.type==="auth"?new s(A.module,w,_):new f(A.module,w,_)}f.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return g=this._mode.encrypt(this,g),this._cipher.scrub(),g;if(!g.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},f.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},b.prototype.add=function(g){this.cache=h.concat([this.cache,g])},b.prototype.get=function(){if(this.cache.length>15){var g=this.cache.slice(0,16);return this.cache=this.cache.slice(16),g}return null},b.prototype.flush=function(){for(var g=16-this.cache.length,w=h.allocUnsafe(g),_=-1;++_<g;)w.writeUInt8(g,_);return h.concat([this.cache,w])},c.createCipheriv=v,c.createCipher=function(g,w){var _=o[g.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var A=m(w,!1,_.key,_.iv);return v(g,A.key,A.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,i,c){var o=t("safe-buffer").Buffer,s=o.alloc(16,0);function h(n){var u=o.allocUnsafe(16);return u.writeUInt32BE(n[0]>>>0,0),u.writeUInt32BE(n[1]>>>0,4),u.writeUInt32BE(n[2]>>>0,8),u.writeUInt32BE(n[3]>>>0,12),u}function a(n){this.h=n,this.state=o.alloc(16,0),this.cache=o.allocUnsafe(0)}a.prototype.ghash=function(n){for(var u=-1;++u<n.length;)this.state[u]^=n[u];this._multiply()},a.prototype._multiply=function(){for(var n,u,m,f=[(n=this.h).readUInt32BE(0),n.readUInt32BE(4),n.readUInt32BE(8),n.readUInt32BE(12)],d=[0,0,0,0],b=-1;++b<128;){for((this.state[~~(b/8)]&1<<7-b%8)!=0&&(d[0]^=f[0],d[1]^=f[1],d[2]^=f[2],d[3]^=f[3]),m=(1&f[3])!=0,u=3;u>0;u--)f[u]=f[u]>>>1|(1&f[u-1])<<31;f[0]=f[0]>>>1,m&&(f[0]=f[0]^225<<24)}this.state=h(d)},a.prototype.update=function(n){var u;for(this.cache=o.concat([this.cache,n]);this.cache.length>=16;)u=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(u)},a.prototype.final=function(n,u){return this.cache.length&&this.ghash(o.concat([this.cache,s],16)),this.ghash(h([0,n,0,u])),this.state},i.exports=a},{"safe-buffer":494}],195:[function(t,i,c){i.exports=function(o){for(var s,h=o.length;h--;){if((s=o.readUInt8(h))!==255){s++,o.writeUInt8(s,h);break}o.writeUInt8(0,h)}}},{}],196:[function(t,i,c){var o=t("buffer-xor");c.encrypt=function(s,h){var a=o(h,s._prev);return s._prev=s._cipher.encryptBlock(a),s._prev},c.decrypt=function(s,h){var a=s._prev;s._prev=h;var n=s._cipher.decryptBlock(h);return o(n,a)}},{"buffer-xor":219}],197:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("buffer-xor");function h(a,n,u){var m=n.length,f=s(n,a._cache);return a._cache=a._cache.slice(m),a._prev=o.concat([a._prev,u?n:f]),f}c.encrypt=function(a,n,u){for(var m,f=o.allocUnsafe(0);n.length;){if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=o.allocUnsafe(0)),!(a._cache.length<=n.length)){f=o.concat([f,h(a,n,u)]);break}m=a._cache.length,f=o.concat([f,h(a,n.slice(0,m),u)]),n=n.slice(m)}return f}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,i,c){var o=t("safe-buffer").Buffer;function s(a,n,u){for(var m,f,d=-1,b=0;++d<8;)m=n&1<<7-d?128:0,b+=(128&(f=a._cipher.encryptBlock(a._prev)[0]^m))>>d%8,a._prev=h(a._prev,u?m:f);return b}function h(a,n){var u=a.length,m=-1,f=o.allocUnsafe(a.length);for(a=o.concat([a,o.from([n])]);++m<u;)f[m]=a[m]<<1|a[m+1]>>7;return f}c.encrypt=function(a,n,u){for(var m=n.length,f=o.allocUnsafe(m),d=-1;++d<m;)f[d]=s(a,n[d],u);return f}},{"safe-buffer":494}],199:[function(t,i,c){var o=t("safe-buffer").Buffer;function s(h,a,n){var u=h._cipher.encryptBlock(h._prev)[0]^a;return h._prev=o.concat([h._prev.slice(1),o.from([n?a:u])]),u}c.encrypt=function(h,a,n){for(var u=a.length,m=o.allocUnsafe(u),f=-1;++f<u;)m[f]=s(h,a[f],n);return m}},{"safe-buffer":494}],200:[function(t,i,c){var o=t("buffer-xor"),s=t("safe-buffer").Buffer,h=t("../incr32");function a(n){var u=n._cipher.encryptBlockRaw(n._prev);return h(n._prev),u}c.encrypt=function(n,u){var m=Math.ceil(u.length/16),f=n._cache.length;n._cache=s.concat([n._cache,s.allocUnsafe(16*m)]);for(var d=0;d<m;d++){var b=a(n),v=f+16*d;n._cache.writeUInt32BE(b[0],v+0),n._cache.writeUInt32BE(b[1],v+4),n._cache.writeUInt32BE(b[2],v+8),n._cache.writeUInt32BE(b[3],v+12)}var g=n._cache.slice(0,u.length);return n._cache=n._cache.slice(u.length),o(u,g)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,i,c){c.encrypt=function(o,s){return o._cipher.encryptBlock(s)},c.decrypt=function(o,s){return o._cipher.decryptBlock(s)}},{}],202:[function(t,i,c){var o={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},s=t("./list.json");for(var h in s)s[h].module=o[s[h].mode];i.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,i,c){i.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,i,c){(function(o){(function(){var s=t("buffer-xor");function h(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}c.encrypt=function(a,n){for(;a._cache.length<n.length;)a._cache=o.concat([a._cache,h(a)]);var u=a._cache.slice(0,n.length);return a._cache=a._cache.slice(n.length),s(n,u)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,i,c){var o=t("./aes"),s=t("safe-buffer").Buffer,h=t("cipher-base");function a(n,u,m,f){h.call(this),this._cipher=new o.AES(u),this._prev=s.from(m),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=f,this._mode=n}t("inherits")(a,h),a.prototype._update=function(n){return this._mode.encrypt(this,n,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},i.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,i,c){var o=t("browserify-des"),s=t("browserify-aes/browser"),h=t("browserify-aes/modes"),a=t("browserify-des/modes"),n=t("evp_bytestokey");function u(f,d,b){if(f=f.toLowerCase(),h[f])return s.createCipheriv(f,d,b);if(a[f])return new o({key:d,iv:b,mode:f});throw new TypeError("invalid suite type")}function m(f,d,b){if(f=f.toLowerCase(),h[f])return s.createDecipheriv(f,d,b);if(a[f])return new o({key:d,iv:b,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}c.createCipher=c.Cipher=function(f,d){var b,v;if(f=f.toLowerCase(),h[f])b=h[f].key,v=h[f].iv;else{if(!a[f])throw new TypeError("invalid suite type");b=8*a[f].key,v=a[f].iv}var g=n(d,!1,b,v);return u(f,g.key,g.iv)},c.createCipheriv=c.Cipheriv=u,c.createDecipher=c.Decipher=function(f,d){var b,v;if(f=f.toLowerCase(),h[f])b=h[f].key,v=h[f].iv;else{if(!a[f])throw new TypeError("invalid suite type");b=8*a[f].key,v=a[f].iv}var g=n(d,!1,b,v);return m(f,g.key,g.iv)},c.createDecipheriv=c.Decipheriv=m,c.listCiphers=c.getCiphers=function(){return Object.keys(a).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,i,c){var o=t("cipher-base"),s=t("des.js"),h=t("inherits"),a=t("safe-buffer").Buffer,n={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function u(m){o.call(this);var f,d=m.mode.toLowerCase(),b=n[d];f=m.decrypt?"decrypt":"encrypt";var v=m.key;a.isBuffer(v)||(v=a.from(v)),d!=="des-ede"&&d!=="des-ede-cbc"||(v=a.concat([v,v.slice(0,8)]));var g=m.iv;a.isBuffer(g)||(g=a.from(g)),this._des=b.create({key:v,iv:g,type:f})}n.des=n["des-cbc"],n.des3=n["des-ede3-cbc"],i.exports=u,h(u,o),u.prototype._update=function(m){return a.from(this._des.update(m))},u.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,i,c){c["des-ecb"]={key:8,iv:0},c["des-cbc"]=c.des={key:8,iv:8},c["des-ede3-cbc"]=c.des3={key:24,iv:8},c["des-ede3"]={key:24,iv:0},c["des-ede-cbc"]={key:16,iv:8},c["des-ede"]={key:16,iv:0}},{}],209:[function(t,i,c){(function(o){(function(){var s=t("bn.js"),h=t("randombytes");function a(u){var m,f=u.modulus.byteLength();do m=new s(h(f));while(m.cmp(u.modulus)>=0||!m.umod(u.prime1)||!m.umod(u.prime2));return m}function n(u,m){var f=(function(F){var j=a(F);return{blinder:j.toRed(s.mont(F.modulus)).redPow(new s(F.publicExponent)).fromRed(),unblinder:j.invm(F.modulus)}})(m),d=m.modulus.byteLength(),b=new s(u).mul(f.blinder).umod(m.modulus),v=b.toRed(s.mont(m.prime1)),g=b.toRed(s.mont(m.prime2)),w=m.coefficient,_=m.prime1,A=m.prime2,M=v.redPow(m.exponent1).fromRed(),O=g.redPow(m.exponent2).fromRed(),q=M.isub(O).imul(w).umod(_).imul(A);return O.iadd(q).imul(f.unblinder).umod(m.modulus).toArrayLike(o,"be",d)}n.getr=a,i.exports=n}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,i,c){i.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,i,c){i.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,i,c){i.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("create-hash"),h=t("readable-stream"),a=t("inherits"),n=t("./sign"),u=t("./verify"),m=t("./algorithms.json");function f(g){h.Writable.call(this);var w=m[g];if(!w)throw new Error("Unknown message digest");this._hashType=w.hash,this._hash=s(w.hash),this._tag=w.id,this._signType=w.sign}function d(g){h.Writable.call(this);var w=m[g];if(!w)throw new Error("Unknown message digest");this._hash=s(w.hash),this._tag=w.id,this._signType=w.sign}function b(g){return new f(g)}function v(g){return new d(g)}Object.keys(m).forEach((function(g){m[g].id=o.from(m[g].id,"hex"),m[g.toLowerCase()]=m[g]})),a(f,h.Writable),f.prototype._write=function(g,w,_){this._hash.update(g),_()},f.prototype.update=function(g,w){return typeof g=="string"&&(g=o.from(g,w)),this._hash.update(g),this},f.prototype.sign=function(g,w){this.end();var _=this._hash.digest(),A=n(_,g,this._hashType,this._signType,this._tag);return w?A.toString(w):A},a(d,h.Writable),d.prototype._write=function(g,w,_){this._hash.update(g),_()},d.prototype.update=function(g,w){return typeof g=="string"&&(g=o.from(g,w)),this._hash.update(g),this},d.prototype.verify=function(g,w,_){typeof w=="string"&&(w=o.from(w,_)),this.end();var A=this._hash.digest();return u(w,A,g,this._signType,this._tag)},i.exports={Sign:b,Verify:v,createSign:b,createVerify:v}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("create-hmac"),h=t("browserify-rsa"),a=t("elliptic").ec,n=t("bn.js"),u=t("parse-asn1"),m=t("./curves.json");function f(g,w,_,A){if((g=o.from(g.toArray())).length<w.byteLength()){var M=o.alloc(w.byteLength()-g.length);g=o.concat([M,g])}var O=_.length,q=(function(V,G){V=(V=d(V,G)).mod(G);var X=o.from(V.toArray());if(X.length<G.byteLength()){var H=o.alloc(G.byteLength()-X.length);X=o.concat([H,X])}return X})(_,w),F=o.alloc(O);F.fill(1);var j=o.alloc(O);return j=s(A,j).update(F).update(o.from([0])).update(g).update(q).digest(),F=s(A,j).update(F).digest(),{k:j=s(A,j).update(F).update(o.from([1])).update(g).update(q).digest(),v:F=s(A,j).update(F).digest()}}function d(g,w){var _=new n(g),A=(g.length<<3)-w.bitLength();return A>0&&_.ishrn(A),_}function b(g,w,_){var A,M;do{for(A=o.alloc(0);8*A.length<g.bitLength();)w.v=s(_,w.k).update(w.v).digest(),A=o.concat([A,w.v]);M=d(A,g),w.k=s(_,w.k).update(w.v).update(o.from([0])).digest(),w.v=s(_,w.k).update(w.v).digest()}while(M.cmp(g)!==-1);return M}function v(g,w,_,A){return g.toRed(n.mont(_)).redPow(w).fromRed().mod(A)}i.exports=function(g,w,_,A,M){var O=u(w);if(O.curve){if(A!=="ecdsa"&&A!=="ecdsa/rsa")throw new Error("wrong private key type");return(function(V,G){var X=m[G.curve.join(".")];if(!X)throw new Error("unknown curve "+G.curve.join("."));var H=new a(X).keyFromPrivate(G.privateKey).sign(V);return o.from(H.toDER())})(g,O)}if(O.type==="dsa"){if(A!=="dsa")throw new Error("wrong private key type");return(function(V,G,X){for(var H,R=G.params.priv_key,P=G.params.p,k=G.params.q,x=G.params.g,S=new n(0),T=d(V,k).mod(k),E=!1,N=f(R,k,V,X);E===!1;)H=b(k,N,X),S=v(x,H,P,k),(E=H.invm(k).imul(T.add(R.mul(S))).mod(k)).cmpn(0)===0&&(E=!1,S=new n(0));return(function(I,B){I=I.toArray(),B=B.toArray(),128&I[0]&&(I=[0].concat(I)),128&B[0]&&(B=[0].concat(B));var K=[48,I.length+B.length+4,2,I.length];return K=K.concat(I,[2,B.length],B),o.from(K)})(S,E)})(g,O,_)}if(A!=="rsa"&&A!=="ecdsa/rsa")throw new Error("wrong private key type");g=o.concat([M,g]);for(var q=O.modulus.byteLength(),F=[0,1];g.length+F.length+1<q;)F.push(255);F.push(0);for(var j=-1;++j<g.length;)F.push(g[j]);return h(F,O)},i.exports.getKey=f,i.exports.makeKey=b},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("bn.js"),h=t("elliptic").ec,a=t("parse-asn1"),n=t("./curves.json");function u(m,f){if(m.cmpn(0)<=0)throw new Error("invalid sig");if(m.cmp(f)>=f)throw new Error("invalid sig")}i.exports=function(m,f,d,b,v){var g=a(d);if(g.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return(function(F,j,V){var G=n[V.data.algorithm.curve.join(".")];if(!G)throw new Error("unknown curve "+V.data.algorithm.curve.join("."));var X=new h(G),H=V.data.subjectPrivateKey.data;return X.verify(j,F,H)})(m,f,g)}if(g.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return(function(F,j,V){var G=V.data.p,X=V.data.q,H=V.data.g,R=V.data.pub_key,P=a.signature.decode(F,"der"),k=P.s,x=P.r;u(k,X),u(x,X);var S=s.mont(G),T=k.invm(X);return H.toRed(S).redPow(new s(j).mul(T).mod(X)).fromRed().mul(R.toRed(S).redPow(x.mul(T).mod(X)).fromRed()).mod(G).mod(X).cmp(x)===0})(m,f,g)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");f=o.concat([v,f]);for(var w=g.modulus.byteLength(),_=[1],A=0;f.length+_.length+2<w;)_.push(255),A++;_.push(0);for(var M=-1;++M<f.length;)_.push(f[M]);_=o.from(_);var O=s.mont(g.modulus);m=(m=new s(m).toRed(O)).redPow(new s(g.publicExponent)),m=o.from(m.fromRed().toArray());var q=A<8?1:0;for(w=Math.min(m.length,_.length),m.length!==_.length&&(q=1),M=-1;++M<w;)q|=m[M]^_[M];return q===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,i,c){},{}],217:[function(t,i,c){var o=t("buffer"),s=o.Buffer;function h(n,u){for(var m in n)u[m]=n[m]}function a(n,u,m){return s(n,u,m)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=o:(h(o,c),c.Buffer=a),h(s,a),a.from=function(n,u,m){if(typeof n=="number")throw new TypeError("Argument must not be a number");return s(n,u,m)},a.alloc=function(n,u,m){if(typeof n!="number")throw new TypeError("Argument must be a number");var f=s(n);return u!==void 0?typeof m=="string"?f.fill(u,m):f.fill(u):f.fill(0),f},a.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return s(n)},a.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(n)}},{buffer:220}],218:[function(t,i,c){var o=t("safe-buffer").Buffer,s=o.isEncoding||function(g){switch((g=""+g)&&g.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function h(g){var w;switch(this.encoding=(function(_){var A=(function(M){if(!M)return"utf8";for(var O;;)switch(M){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return M;default:if(O)return;M=(""+M).toLowerCase(),O=!0}})(_);if(typeof A!="string"&&(o.isEncoding===s||!s(_)))throw new Error("Unknown encoding: "+_);return A||_})(g),this.encoding){case"utf16le":this.text=u,this.end=m,w=4;break;case"utf8":this.fillLast=n,w=4;break;case"base64":this.text=f,this.end=d,w=3;break;default:return this.write=b,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(w)}function a(g){return g<=127?0:g>>5==6?2:g>>4==14?3:g>>3==30?4:g>>6==2?-1:-2}function n(g){var w=this.lastTotal-this.lastNeed,_=(function(A,M,O){if((192&M[0])!=128)return A.lastNeed=0,"";if(A.lastNeed>1&&M.length>1){if((192&M[1])!=128)return A.lastNeed=1,"";if(A.lastNeed>2&&M.length>2&&(192&M[2])!=128)return A.lastNeed=2,""}})(this,g);return _!==void 0?_:this.lastNeed<=g.length?(g.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(g.copy(this.lastChar,w,0,g.length),void(this.lastNeed-=g.length))}function u(g,w){if((g.length-w)%2==0){var _=g.toString("utf16le",w);if(_){var A=_.charCodeAt(_.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=g[g.length-1],g.toString("utf16le",w,g.length-1)}function m(g){var w=g&&g.length?this.write(g):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,_)}return w}function f(g,w){var _=(g.length-w)%3;return _===0?g.toString("base64",w):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=g[g.length-1]:(this.lastChar[0]=g[g.length-2],this.lastChar[1]=g[g.length-1]),g.toString("base64",w,g.length-_))}function d(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function b(g){return g.toString(this.encoding)}function v(g){return g&&g.length?this.write(g):""}c.StringDecoder=h,h.prototype.write=function(g){if(g.length===0)return"";var w,_;if(this.lastNeed){if((w=this.fillLast(g))===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<g.length?w?w+this.text(g,_):this.text(g,_):w||""},h.prototype.end=function(g){var w=g&&g.length?this.write(g):"";return this.lastNeed?w+"":w},h.prototype.text=function(g,w){var _=(function(M,O,q){var F=O.length-1;if(F<q)return 0;var j=a(O[F]);return j>=0?(j>0&&(M.lastNeed=j-1),j):--F<q||j===-2?0:(j=a(O[F]))>=0?(j>0&&(M.lastNeed=j-2),j):--F<q||j===-2?0:(j=a(O[F]))>=0?(j>0&&(j===2?j=0:M.lastNeed=j-3),j):0})(this,g,w);if(!this.lastNeed)return g.toString("utf8",w);this.lastTotal=_;var A=g.length-(_-this.lastNeed);return g.copy(this.lastChar,0,A),g.toString("utf8",w,A)},h.prototype.fillLast=function(g){if(this.lastNeed<=g.length)return g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);g.copy(this.lastChar,this.lastTotal-this.lastNeed,0,g.length),this.lastNeed-=g.length}},{"safe-buffer":217}],219:[function(t,i,c){(function(o){(function(){i.exports=function(s,h){for(var a=Math.min(s.length,h.length),n=new o(a),u=0;u<a;++u)n[u]=s[u]^h[u];return n}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,i,c){(function(o){(function(){var s=t("base64-js"),h=t("ieee754");c.Buffer=n,c.SlowBuffer=function(U){return+U!=U&&(U=0),n.alloc(+U)},c.INSPECT_MAX_BYTES=50;function a(U){if(U>2147483647)throw new RangeError('The value "'+U+'" is invalid for option "size"');var L=new Uint8Array(U);return L.__proto__=n.prototype,L}function n(U,L,Q){if(typeof U=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(U)}return u(U,L,Q)}function u(U,L,Q){if(typeof U=="string")return(function(st,lt){if(typeof lt=="string"&&lt!==""||(lt="utf8"),!n.isEncoding(lt))throw new TypeError("Unknown encoding: "+lt);var bt=0|v(st,lt),yt=a(bt),at=yt.write(st,lt);return at!==bt&&(yt=yt.slice(0,at)),yt})(U,L);if(ArrayBuffer.isView(U))return d(U);if(U==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U);if($(U,ArrayBuffer)||U&&$(U.buffer,ArrayBuffer))return(function(st,lt,bt){if(lt<0||st.byteLength<lt)throw new RangeError('"offset" is outside of buffer bounds');if(st.byteLength<lt+(bt||0))throw new RangeError('"length" is outside of buffer bounds');var yt;return yt=lt===void 0&&bt===void 0?new Uint8Array(st):bt===void 0?new Uint8Array(st,lt):new Uint8Array(st,lt,bt),yt.__proto__=n.prototype,yt})(U,L,Q);if(typeof U=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var it=U.valueOf&&U.valueOf();if(it!=null&&it!==U)return n.from(it,L,Q);var ut=(function(st){if(n.isBuffer(st)){var lt=0|b(st.length),bt=a(lt);return bt.length===0||st.copy(bt,0,0,lt),bt}if(st.length!==void 0)return typeof st.length!="number"||tt(st.length)?a(0):d(st);if(st.type==="Buffer"&&Array.isArray(st.data))return d(st.data)})(U);if(ut)return ut;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof U[Symbol.toPrimitive]=="function")return n.from(U[Symbol.toPrimitive]("string"),L,Q);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof U)}function m(U){if(typeof U!="number")throw new TypeError('"size" argument must be of type number');if(U<0)throw new RangeError('The value "'+U+'" is invalid for option "size"')}function f(U){return m(U),a(U<0?0:0|b(U))}function d(U){for(var L=U.length<0?0:0|b(U.length),Q=a(L),it=0;it<L;it+=1)Q[it]=255&U[it];return Q}function b(U){if(U>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|U}function v(U,L){if(n.isBuffer(U))return U.length;if(ArrayBuffer.isView(U)||$(U,ArrayBuffer))return U.byteLength;if(typeof U!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof U);var Q=U.length,it=arguments.length>2&&arguments[2]===!0;if(!it&&Q===0)return 0;for(var ut=!1;;)switch(L){case"ascii":case"latin1":case"binary":return Q;case"utf8":case"utf-8":return K(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Q;case"hex":return Q>>>1;case"base64":return Z(U).length;default:if(ut)return it?-1:K(U).length;L=(""+L).toLowerCase(),ut=!0}}function g(U,L,Q){var it=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((Q===void 0||Q>this.length)&&(Q=this.length),Q<=0)||(Q>>>=0)<=(L>>>=0))return"";for(U||(U="utf8");;)switch(U){case"hex":return P(this,L,Q);case"utf8":case"utf-8":return X(this,L,Q);case"ascii":return H(this,L,Q);case"latin1":case"binary":return R(this,L,Q);case"base64":return G(this,L,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,L,Q);default:if(it)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),it=!0}}function w(U,L,Q){var it=U[L];U[L]=U[Q],U[Q]=it}function _(U,L,Q,it,ut){if(U.length===0)return-1;if(typeof Q=="string"?(it=Q,Q=0):Q>2147483647?Q=2147483647:Q<-2147483648&&(Q=-2147483648),tt(Q=+Q)&&(Q=ut?0:U.length-1),Q<0&&(Q=U.length+Q),Q>=U.length){if(ut)return-1;Q=U.length-1}else if(Q<0){if(!ut)return-1;Q=0}if(typeof L=="string"&&(L=n.from(L,it)),n.isBuffer(L))return L.length===0?-1:A(U,L,Q,it,ut);if(typeof L=="number")return L&=255,typeof Uint8Array.prototype.indexOf=="function"?ut?Uint8Array.prototype.indexOf.call(U,L,Q):Uint8Array.prototype.lastIndexOf.call(U,L,Q):A(U,[L],Q,it,ut);throw new TypeError("val must be string, number or Buffer")}function A(U,L,Q,it,ut){var st,lt=1,bt=U.length,yt=L.length;if(it!==void 0&&((it=String(it).toLowerCase())==="ucs2"||it==="ucs-2"||it==="utf16le"||it==="utf-16le")){if(U.length<2||L.length<2)return-1;lt=2,bt/=2,yt/=2,Q/=2}function at(xt,wt){return lt===1?xt[wt]:xt.readUInt16BE(wt*lt)}if(ut){var pt=-1;for(st=Q;st<bt;st++)if(at(U,st)===at(L,pt===-1?0:st-pt)){if(pt===-1&&(pt=st),st-pt+1===yt)return pt*lt}else pt!==-1&&(st-=st-pt),pt=-1}else for(Q+yt>bt&&(Q=bt-yt),st=Q;st>=0;st--){for(var dt=!0,vt=0;vt<yt;vt++)if(at(U,st+vt)!==at(L,vt)){dt=!1;break}if(dt)return st}return-1}function M(U,L,Q,it){Q=Number(Q)||0;var ut=U.length-Q;it?(it=Number(it))>ut&&(it=ut):it=ut;var st=L.length;it>st/2&&(it=st/2);for(var lt=0;lt<it;++lt){var bt=parseInt(L.substr(2*lt,2),16);if(tt(bt))return lt;U[Q+lt]=bt}return lt}function O(U,L,Q,it){return nt(K(L,U.length-Q),U,Q,it)}function q(U,L,Q,it){return nt((function(ut){for(var st=[],lt=0;lt<ut.length;++lt)st.push(255&ut.charCodeAt(lt));return st})(L),U,Q,it)}function F(U,L,Q,it){return q(U,L,Q,it)}function j(U,L,Q,it){return nt(Z(L),U,Q,it)}function V(U,L,Q,it){return nt((function(ut,st){for(var lt,bt,yt,at=[],pt=0;pt<ut.length&&!((st-=2)<0);++pt)lt=ut.charCodeAt(pt),bt=lt>>8,yt=lt%256,at.push(yt),at.push(bt);return at})(L,U.length-Q),U,Q,it)}function G(U,L,Q){return L===0&&Q===U.length?s.fromByteArray(U):s.fromByteArray(U.slice(L,Q))}function X(U,L,Q){Q=Math.min(U.length,Q);for(var it=[],ut=L;ut<Q;){var st,lt,bt,yt,at=U[ut],pt=null,dt=at>239?4:at>223?3:at>191?2:1;if(ut+dt<=Q)switch(dt){case 1:at<128&&(pt=at);break;case 2:(192&(st=U[ut+1]))==128&&(yt=(31&at)<<6|63&st)>127&&(pt=yt);break;case 3:st=U[ut+1],lt=U[ut+2],(192&st)==128&&(192&lt)==128&&(yt=(15&at)<<12|(63&st)<<6|63&lt)>2047&&(yt<55296||yt>57343)&&(pt=yt);break;case 4:st=U[ut+1],lt=U[ut+2],bt=U[ut+3],(192&st)==128&&(192&lt)==128&&(192&bt)==128&&(yt=(15&at)<<18|(63&st)<<12|(63&lt)<<6|63&bt)>65535&&yt<1114112&&(pt=yt)}pt===null?(pt=65533,dt=1):pt>65535&&(pt-=65536,it.push(pt>>>10&1023|55296),pt=56320|1023&pt),it.push(pt),ut+=dt}return(function(vt){var xt=vt.length;if(xt<=4096)return String.fromCharCode.apply(String,vt);for(var wt="",jt=0;jt<xt;)wt+=String.fromCharCode.apply(String,vt.slice(jt,jt+=4096));return wt})(it)}c.kMaxLength=2147483647,n.TYPED_ARRAY_SUPPORT=(function(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42}catch{return!1}})(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),n.poolSize=8192,n.from=function(U,L,Q){return u(U,L,Q)},n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,n.alloc=function(U,L,Q){return(function(it,ut,st){return m(it),it<=0?a(it):ut!==void 0?typeof st=="string"?a(it).fill(ut,st):a(it).fill(ut):a(it)})(U,L,Q)},n.allocUnsafe=function(U){return f(U)},n.allocUnsafeSlow=function(U){return f(U)},n.isBuffer=function(U){return U!=null&&U._isBuffer===!0&&U!==n.prototype},n.compare=function(U,L){if($(U,Uint8Array)&&(U=n.from(U,U.offset,U.byteLength)),$(L,Uint8Array)&&(L=n.from(L,L.offset,L.byteLength)),!n.isBuffer(U)||!n.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(U===L)return 0;for(var Q=U.length,it=L.length,ut=0,st=Math.min(Q,it);ut<st;++ut)if(U[ut]!==L[ut]){Q=U[ut],it=L[ut];break}return Q<it?-1:it<Q?1:0},n.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(U,L){if(!Array.isArray(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return n.alloc(0);var Q;if(L===void 0)for(L=0,Q=0;Q<U.length;++Q)L+=U[Q].length;var it=n.allocUnsafe(L),ut=0;for(Q=0;Q<U.length;++Q){var st=U[Q];if($(st,Uint8Array)&&(st=n.from(st)),!n.isBuffer(st))throw new TypeError('"list" argument must be an Array of Buffers');st.copy(it,ut),ut+=st.length}return it},n.byteLength=v,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var U=this.length;if(U%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var L=0;L<U;L+=2)w(this,L,L+1);return this},n.prototype.swap32=function(){var U=this.length;if(U%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var L=0;L<U;L+=4)w(this,L,L+3),w(this,L+1,L+2);return this},n.prototype.swap64=function(){var U=this.length;if(U%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var L=0;L<U;L+=8)w(this,L,L+7),w(this,L+1,L+6),w(this,L+2,L+5),w(this,L+3,L+4);return this},n.prototype.toString=function(){var U=this.length;return U===0?"":arguments.length===0?X(this,0,U):g.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(U){if(!n.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U||n.compare(this,U)===0},n.prototype.inspect=function(){var U="",L=c.INSPECT_MAX_BYTES;return U=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(U+=" ... "),"<Buffer "+U+">"},n.prototype.compare=function(U,L,Q,it,ut){if($(U,Uint8Array)&&(U=n.from(U,U.offset,U.byteLength)),!n.isBuffer(U))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof U);if(L===void 0&&(L=0),Q===void 0&&(Q=U?U.length:0),it===void 0&&(it=0),ut===void 0&&(ut=this.length),L<0||Q>U.length||it<0||ut>this.length)throw new RangeError("out of range index");if(it>=ut&&L>=Q)return 0;if(it>=ut)return-1;if(L>=Q)return 1;if(this===U)return 0;for(var st=(ut>>>=0)-(it>>>=0),lt=(Q>>>=0)-(L>>>=0),bt=Math.min(st,lt),yt=this.slice(it,ut),at=U.slice(L,Q),pt=0;pt<bt;++pt)if(yt[pt]!==at[pt]){st=yt[pt],lt=at[pt];break}return st<lt?-1:lt<st?1:0},n.prototype.includes=function(U,L,Q){return this.indexOf(U,L,Q)!==-1},n.prototype.indexOf=function(U,L,Q){return _(this,U,L,Q,!0)},n.prototype.lastIndexOf=function(U,L,Q){return _(this,U,L,Q,!1)},n.prototype.write=function(U,L,Q,it){if(L===void 0)it="utf8",Q=this.length,L=0;else if(Q===void 0&&typeof L=="string")it=L,Q=this.length,L=0;else{if(!isFinite(L))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");L>>>=0,isFinite(Q)?(Q>>>=0,it===void 0&&(it="utf8")):(it=Q,Q=void 0)}var ut=this.length-L;if((Q===void 0||Q>ut)&&(Q=ut),U.length>0&&(Q<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");it||(it="utf8");for(var st=!1;;)switch(it){case"hex":return M(this,U,L,Q);case"utf8":case"utf-8":return O(this,U,L,Q);case"ascii":return q(this,U,L,Q);case"latin1":case"binary":return F(this,U,L,Q);case"base64":return j(this,U,L,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,U,L,Q);default:if(st)throw new TypeError("Unknown encoding: "+it);it=(""+it).toLowerCase(),st=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(U,L,Q){var it="";Q=Math.min(U.length,Q);for(var ut=L;ut<Q;++ut)it+=String.fromCharCode(127&U[ut]);return it}function R(U,L,Q){var it="";Q=Math.min(U.length,Q);for(var ut=L;ut<Q;++ut)it+=String.fromCharCode(U[ut]);return it}function P(U,L,Q){var it=U.length;(!L||L<0)&&(L=0),(!Q||Q<0||Q>it)&&(Q=it);for(var ut="",st=L;st<Q;++st)ut+=B(U[st]);return ut}function k(U,L,Q){for(var it=U.slice(L,Q),ut="",st=0;st<it.length;st+=2)ut+=String.fromCharCode(it[st]+256*it[st+1]);return ut}function x(U,L,Q){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+L>Q)throw new RangeError("Trying to access beyond buffer length")}function S(U,L,Q,it,ut,st){if(!n.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>ut||L<st)throw new RangeError('"value" argument is out of bounds');if(Q+it>U.length)throw new RangeError("Index out of range")}function T(U,L,Q,it,ut,st){if(Q+it>U.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("Index out of range")}function E(U,L,Q,it,ut){return L=+L,Q>>>=0,ut||T(U,0,Q,4),h.write(U,L,Q,it,23,4),Q+4}function N(U,L,Q,it,ut){return L=+L,Q>>>=0,ut||T(U,0,Q,8),h.write(U,L,Q,it,52,8),Q+8}n.prototype.slice=function(U,L){var Q=this.length;(U=~~U)<0?(U+=Q)<0&&(U=0):U>Q&&(U=Q),(L=L===void 0?Q:~~L)<0?(L+=Q)<0&&(L=0):L>Q&&(L=Q),L<U&&(L=U);var it=this.subarray(U,L);return it.__proto__=n.prototype,it},n.prototype.readUIntLE=function(U,L,Q){U>>>=0,L>>>=0,Q||x(U,L,this.length);for(var it=this[U],ut=1,st=0;++st<L&&(ut*=256);)it+=this[U+st]*ut;return it},n.prototype.readUIntBE=function(U,L,Q){U>>>=0,L>>>=0,Q||x(U,L,this.length);for(var it=this[U+--L],ut=1;L>0&&(ut*=256);)it+=this[U+--L]*ut;return it},n.prototype.readUInt8=function(U,L){return U>>>=0,L||x(U,1,this.length),this[U]},n.prototype.readUInt16LE=function(U,L){return U>>>=0,L||x(U,2,this.length),this[U]|this[U+1]<<8},n.prototype.readUInt16BE=function(U,L){return U>>>=0,L||x(U,2,this.length),this[U]<<8|this[U+1]},n.prototype.readUInt32LE=function(U,L){return U>>>=0,L||x(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},n.prototype.readUInt32BE=function(U,L){return U>>>=0,L||x(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},n.prototype.readIntLE=function(U,L,Q){U>>>=0,L>>>=0,Q||x(U,L,this.length);for(var it=this[U],ut=1,st=0;++st<L&&(ut*=256);)it+=this[U+st]*ut;return it>=(ut*=128)&&(it-=Math.pow(2,8*L)),it},n.prototype.readIntBE=function(U,L,Q){U>>>=0,L>>>=0,Q||x(U,L,this.length);for(var it=L,ut=1,st=this[U+--it];it>0&&(ut*=256);)st+=this[U+--it]*ut;return st>=(ut*=128)&&(st-=Math.pow(2,8*L)),st},n.prototype.readInt8=function(U,L){return U>>>=0,L||x(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},n.prototype.readInt16LE=function(U,L){U>>>=0,L||x(U,2,this.length);var Q=this[U]|this[U+1]<<8;return 32768&Q?4294901760|Q:Q},n.prototype.readInt16BE=function(U,L){U>>>=0,L||x(U,2,this.length);var Q=this[U+1]|this[U]<<8;return 32768&Q?4294901760|Q:Q},n.prototype.readInt32LE=function(U,L){return U>>>=0,L||x(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},n.prototype.readInt32BE=function(U,L){return U>>>=0,L||x(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},n.prototype.readFloatLE=function(U,L){return U>>>=0,L||x(U,4,this.length),h.read(this,U,!0,23,4)},n.prototype.readFloatBE=function(U,L){return U>>>=0,L||x(U,4,this.length),h.read(this,U,!1,23,4)},n.prototype.readDoubleLE=function(U,L){return U>>>=0,L||x(U,8,this.length),h.read(this,U,!0,52,8)},n.prototype.readDoubleBE=function(U,L){return U>>>=0,L||x(U,8,this.length),h.read(this,U,!1,52,8)},n.prototype.writeUIntLE=function(U,L,Q,it){U=+U,L>>>=0,Q>>>=0,it||S(this,U,L,Q,Math.pow(2,8*Q)-1,0);var ut=1,st=0;for(this[L]=255&U;++st<Q&&(ut*=256);)this[L+st]=U/ut&255;return L+Q},n.prototype.writeUIntBE=function(U,L,Q,it){U=+U,L>>>=0,Q>>>=0,it||S(this,U,L,Q,Math.pow(2,8*Q)-1,0);var ut=Q-1,st=1;for(this[L+ut]=255&U;--ut>=0&&(st*=256);)this[L+ut]=U/st&255;return L+Q},n.prototype.writeUInt8=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,1,255,0),this[L]=255&U,L+1},n.prototype.writeUInt16LE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,2,65535,0),this[L]=255&U,this[L+1]=U>>>8,L+2},n.prototype.writeUInt16BE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,2,65535,0),this[L]=U>>>8,this[L+1]=255&U,L+2},n.prototype.writeUInt32LE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,4,4294967295,0),this[L+3]=U>>>24,this[L+2]=U>>>16,this[L+1]=U>>>8,this[L]=255&U,L+4},n.prototype.writeUInt32BE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,4,4294967295,0),this[L]=U>>>24,this[L+1]=U>>>16,this[L+2]=U>>>8,this[L+3]=255&U,L+4},n.prototype.writeIntLE=function(U,L,Q,it){if(U=+U,L>>>=0,!it){var ut=Math.pow(2,8*Q-1);S(this,U,L,Q,ut-1,-ut)}var st=0,lt=1,bt=0;for(this[L]=255&U;++st<Q&&(lt*=256);)U<0&&bt===0&&this[L+st-1]!==0&&(bt=1),this[L+st]=(U/lt>>0)-bt&255;return L+Q},n.prototype.writeIntBE=function(U,L,Q,it){if(U=+U,L>>>=0,!it){var ut=Math.pow(2,8*Q-1);S(this,U,L,Q,ut-1,-ut)}var st=Q-1,lt=1,bt=0;for(this[L+st]=255&U;--st>=0&&(lt*=256);)U<0&&bt===0&&this[L+st+1]!==0&&(bt=1),this[L+st]=(U/lt>>0)-bt&255;return L+Q},n.prototype.writeInt8=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,1,127,-128),U<0&&(U=255+U+1),this[L]=255&U,L+1},n.prototype.writeInt16LE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,2,32767,-32768),this[L]=255&U,this[L+1]=U>>>8,L+2},n.prototype.writeInt16BE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,2,32767,-32768),this[L]=U>>>8,this[L+1]=255&U,L+2},n.prototype.writeInt32LE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,4,2147483647,-2147483648),this[L]=255&U,this[L+1]=U>>>8,this[L+2]=U>>>16,this[L+3]=U>>>24,L+4},n.prototype.writeInt32BE=function(U,L,Q){return U=+U,L>>>=0,Q||S(this,U,L,4,2147483647,-2147483648),U<0&&(U=4294967295+U+1),this[L]=U>>>24,this[L+1]=U>>>16,this[L+2]=U>>>8,this[L+3]=255&U,L+4},n.prototype.writeFloatLE=function(U,L,Q){return E(this,U,L,!0,Q)},n.prototype.writeFloatBE=function(U,L,Q){return E(this,U,L,!1,Q)},n.prototype.writeDoubleLE=function(U,L,Q){return N(this,U,L,!0,Q)},n.prototype.writeDoubleBE=function(U,L,Q){return N(this,U,L,!1,Q)},n.prototype.copy=function(U,L,Q,it){if(!n.isBuffer(U))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),it||it===0||(it=this.length),L>=U.length&&(L=U.length),L||(L=0),it>0&&it<Q&&(it=Q),it===Q||U.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("sourceEnd out of bounds");it>this.length&&(it=this.length),U.length-L<it-Q&&(it=U.length-L+Q);var ut=it-Q;if(this===U&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(L,Q,it);else if(this===U&&Q<L&&L<it)for(var st=ut-1;st>=0;--st)U[st+L]=this[st+Q];else Uint8Array.prototype.set.call(U,this.subarray(Q,it),L);return ut},n.prototype.fill=function(U,L,Q,it){if(typeof U=="string"){if(typeof L=="string"?(it=L,L=0,Q=this.length):typeof Q=="string"&&(it=Q,Q=this.length),it!==void 0&&typeof it!="string")throw new TypeError("encoding must be a string");if(typeof it=="string"&&!n.isEncoding(it))throw new TypeError("Unknown encoding: "+it);if(U.length===1){var ut=U.charCodeAt(0);(it==="utf8"&&ut<128||it==="latin1")&&(U=ut)}}else typeof U=="number"&&(U&=255);if(L<0||this.length<L||this.length<Q)throw new RangeError("Out of range index");if(Q<=L)return this;var st;if(L>>>=0,Q=Q===void 0?this.length:Q>>>0,U||(U=0),typeof U=="number")for(st=L;st<Q;++st)this[st]=U;else{var lt=n.isBuffer(U)?U:n.from(U,it),bt=lt.length;if(bt===0)throw new TypeError('The value "'+U+'" is invalid for argument "value"');for(st=0;st<Q-L;++st)this[st+L]=lt[st%bt]}return this};var I=/[^+/0-9A-Za-z-_]/g;function B(U){return U<16?"0"+U.toString(16):U.toString(16)}function K(U,L){var Q;L=L||1/0;for(var it=U.length,ut=null,st=[],lt=0;lt<it;++lt){if((Q=U.charCodeAt(lt))>55295&&Q<57344){if(!ut){if(Q>56319){(L-=3)>-1&&st.push(239,191,189);continue}if(lt+1===it){(L-=3)>-1&&st.push(239,191,189);continue}ut=Q;continue}if(Q<56320){(L-=3)>-1&&st.push(239,191,189),ut=Q;continue}Q=65536+(ut-55296<<10|Q-56320)}else ut&&(L-=3)>-1&&st.push(239,191,189);if(ut=null,Q<128){if((L-=1)<0)break;st.push(Q)}else if(Q<2048){if((L-=2)<0)break;st.push(Q>>6|192,63&Q|128)}else if(Q<65536){if((L-=3)<0)break;st.push(Q>>12|224,Q>>6&63|128,63&Q|128)}else{if(!(Q<1114112))throw new Error("Invalid code point");if((L-=4)<0)break;st.push(Q>>18|240,Q>>12&63|128,Q>>6&63|128,63&Q|128)}}return st}function Z(U){return s.toByteArray((function(L){if((L=(L=L.split("=")[0]).trim().replace(I,"")).length<2)return"";for(;L.length%4!=0;)L+="=";return L})(U))}function nt(U,L,Q,it){for(var ut=0;ut<it&&!(ut+Q>=L.length||ut>=U.length);++ut)L[ut+Q]=U[ut];return ut}function $(U,L){return U instanceof L||U!=null&&U.constructor!=null&&U.constructor.name!=null&&U.constructor.name===L.name}function tt(U){return U!=U}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("stream").Transform,h=t("string_decoder").StringDecoder;function a(n){s.call(this),this.hashMode=typeof n=="string",this.hashMode?this[n]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(a,s),a.prototype.update=function(n,u,m){typeof n=="string"&&(n=o.from(n,u));var f=this._update(n);return this.hashMode?this:(m&&(f=this._toString(f,m)),f)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(n,u,m){var f;try{this.hashMode?this._update(n):this.push(this._update(n))}catch(d){f=d}finally{m(f)}},a.prototype._flush=function(n){var u;try{this.push(this.__final())}catch(m){u=m}n(u)},a.prototype._finalOrDigest=function(n){var u=this.__final()||o.alloc(0);return n&&(u=this._toString(u,n,!0)),u},a.prototype._toString=function(n,u,m){if(this._decoder||(this._decoder=new h(u),this._encoding=u),this._encoding!==u)throw new Error("can't switch encodings");var f=this._decoder.write(n);return m&&(f+=this._decoder.end()),f},i.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,i,c){var o=t("../internals/is-callable"),s=t("../internals/try-to-string"),h=TypeError;i.exports=function(a){if(o(a))return a;throw new h(s(a)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,i,c){var o=t("../internals/is-constructor"),s=t("../internals/try-to-string"),h=TypeError;i.exports=function(a){if(o(a))return a;throw new h(s(a)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,i,c){var o=t("../internals/is-callable"),s=String,h=TypeError;i.exports=function(a){if(typeof a=="object"||o(a))return a;throw new h("Can't set "+s(a)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,i,c){var o=t("../internals/well-known-symbol"),s=t("../internals/object-create"),h=t("../internals/object-define-property").f,a=o("unscopables"),n=Array.prototype;n[a]===void 0&&h(n,a,{configurable:!0,value:s(null)}),i.exports=function(u){n[a][u]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,i,c){var o=t("../internals/object-is-prototype-of"),s=TypeError;i.exports=function(h,a){if(o(a,h))return h;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,i,c){var o=t("../internals/is-object"),s=String,h=TypeError;i.exports=function(a){if(o(a))return a;throw new h(s(a)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,i,c){var o=t("../internals/to-indexed-object"),s=t("../internals/to-absolute-index"),h=t("../internals/length-of-array-like"),a=function(n){return function(u,m,f){var d,b=o(u),v=h(b),g=s(f,v);if(n&&m!=m){for(;v>g;)if((d=b[g++])!=d)return!0}else for(;v>g;g++)if((n||g in b)&&b[g]===m)return n||g||0;return!n&&-1}};i.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,i,c){var o=t("../internals/function-bind-context"),s=t("../internals/function-uncurry-this"),h=t("../internals/indexed-object"),a=t("../internals/to-object"),n=t("../internals/length-of-array-like"),u=t("../internals/array-species-create"),m=s([].push),f=function(d){var b=d===1,v=d===2,g=d===3,w=d===4,_=d===6,A=d===7,M=d===5||_;return function(O,q,F,j){for(var V,G,X=a(O),H=h(X),R=o(q,F),P=n(H),k=0,x=j||u,S=b?x(O,P):v||A?x(O,0):void 0;P>k;k++)if((M||k in H)&&(G=R(V=H[k],k,X),d))if(b)S[k]=G;else if(G)switch(d){case 3:return!0;case 5:return V;case 6:return k;case 2:m(S,V)}else switch(d){case 4:return!1;case 7:m(S,V)}return _?-1:g||w?w:S}};i.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,i,c){var o=t("../internals/to-absolute-index"),s=t("../internals/length-of-array-like"),h=t("../internals/create-property"),a=Array,n=Math.max;i.exports=function(u,m,f){for(var d=s(u),b=o(m,d),v=o(f===void 0?d:f,d),g=a(n(v-b,0)),w=0;b<v;b++,w++)h(g,w,u[b]);return g.length=w,g}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,i,c){var o=t("../internals/function-uncurry-this");i.exports=o([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,i,c){var o=t("../internals/is-array"),s=t("../internals/is-constructor"),h=t("../internals/is-object"),a=t("../internals/well-known-symbol")("species"),n=Array;i.exports=function(u){var m;return o(u)&&(m=u.constructor,(s(m)&&(m===n||o(m.prototype))||h(m)&&(m=m[a])===null)&&(m=void 0)),m===void 0?n:m}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,i,c){var o=t("../internals/array-species-constructor");i.exports=function(s,h){return new(o(s))(h===0?0:h)}},{"../internals/array-species-constructor":232}],234:[function(t,i,c){var o=t("../internals/well-known-symbol")("iterator"),s=!1;try{var h=0,a={next:function(){return{done:!!h++}},return:function(){s=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch{}i.exports=function(n,u){try{if(!u&&!s)return!1}catch{return!1}var m=!1;try{var f={};f[o]=function(){return{next:function(){return{done:m=!0}}}},n(f)}catch{}return m}},{"../internals/well-known-symbol":357}],235:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=o({}.toString),h=o("".slice);i.exports=function(a){return h(s(a),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,i,c){var o=t("../internals/to-string-tag-support"),s=t("../internals/is-callable"),h=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("toStringTag"),n=Object,u=h((function(){return arguments})())==="Arguments";i.exports=o?h:function(m){var f,d,b;return m===void 0?"Undefined":m===null?"Null":typeof(d=(function(v,g){try{return v[g]}catch{}})(f=n(m),a))=="string"?d:u?h(f):(b=h(f))==="Object"&&s(f.callee)?"Arguments":b}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,i,c){var o=t("../internals/has-own-property"),s=t("../internals/own-keys"),h=t("../internals/object-get-own-property-descriptor"),a=t("../internals/object-define-property");i.exports=function(n,u,m){for(var f=s(u),d=a.f,b=h.f,v=0;v<f.length;v++){var g=f[v];o(n,g)||m&&o(m,g)||d(n,g,b(u,g))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,i,c){var o=t("../internals/well-known-symbol")("match");i.exports=function(s){var h=/./;try{"/./"[s](h)}catch{try{return h[o]=!1,"/./"[s](h)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,i,c){var o=t("../internals/fails");i.exports=!o((function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype}))},{"../internals/fails":260}],240:[function(t,i,c){i.exports=function(o,s){return{value:o,done:s}}},{}],241:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/object-define-property"),h=t("../internals/create-property-descriptor");i.exports=o?function(a,n,u){return s.f(a,n,h(1,u))}:function(a,n,u){return a[n]=u,a}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,i,c){i.exports=function(o,s){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:s}}},{}],243:[function(t,i,c){var o=t("../internals/to-property-key"),s=t("../internals/object-define-property"),h=t("../internals/create-property-descriptor");i.exports=function(a,n,u){var m=o(n);m in a?s.f(a,m,h(0,u)):a[m]=u}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,i,c){var o=t("../internals/make-built-in"),s=t("../internals/object-define-property");i.exports=function(h,a,n){return n.get&&o(n.get,a,{getter:!0}),n.set&&o(n.set,a,{setter:!0}),s.f(h,a,n)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,i,c){var o=t("../internals/is-callable"),s=t("../internals/object-define-property"),h=t("../internals/make-built-in"),a=t("../internals/define-global-property");i.exports=function(n,u,m,f){f||(f={});var d=f.enumerable,b=f.name!==void 0?f.name:u;if(o(m)&&h(m,b,f),f.global)d?n[u]=m:a(u,m);else{try{f.unsafe?n[u]&&(d=!0):delete n[u]}catch{}d?n[u]=m:s.f(n,u,{value:m,enumerable:!1,configurable:!f.nonConfigurable,writable:!f.nonWritable})}return n}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,i,c){var o=t("../internals/global"),s=Object.defineProperty;i.exports=function(h,a){try{s(o,h,{value:a,configurable:!0,writable:!0})}catch{o[h]=a}return a}},{"../internals/global":274}],247:[function(t,i,c){var o=t("../internals/fails");i.exports=!o((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}))},{"../internals/fails":260}],248:[function(t,i,c){var o=typeof document=="object"&&document.all,s=o===void 0&&o!==void 0;i.exports={all:o,IS_HTMLDDA:s}},{}],249:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/is-object"),h=o.document,a=s(h)&&s(h.createElement);i.exports=function(n){return a?h.createElement(n):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,i,c){var o=t("../internals/engine-is-deno"),s=t("../internals/engine-is-node");i.exports=!o&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,i,c){i.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,i,c){var o=t("../internals/engine-user-agent");i.exports=/ipad|iphone|ipod/i.test(o)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,i,c){var o=t("../internals/engine-user-agent");i.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(o)},{"../internals/engine-user-agent":256}],254:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/classof-raw");i.exports=s(o.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,i,c){var o=t("../internals/engine-user-agent");i.exports=/web0s(?!.*chrome)/i.test(o)},{"../internals/engine-user-agent":256}],256:[function(t,i,c){i.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,i,c){var o,s,h=t("../internals/global"),a=t("../internals/engine-user-agent"),n=h.process,u=h.Deno,m=n&&n.versions||u&&u.version,f=m&&m.v8;f&&(s=(o=f.split("."))[0]>0&&o[0]<4?1:+(o[0]+o[1])),!s&&a&&(!(o=a.match(/Edge\/(\d+)/))||o[1]>=74)&&(o=a.match(/Chrome\/(\d+)/))&&(s=+o[1]),i.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,i,c){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/object-get-own-property-descriptor").f,h=t("../internals/create-non-enumerable-property"),a=t("../internals/define-built-in"),n=t("../internals/define-global-property"),u=t("../internals/copy-constructor-properties"),m=t("../internals/is-forced");i.exports=function(f,d){var b,v,g,w,_,A=f.target,M=f.global,O=f.stat;if(b=M?o:O?o[A]||n(A,{}):(o[A]||{}).prototype)for(v in d){if(w=d[v],g=f.dontCallGetSet?(_=s(b,v))&&_.value:b[v],!m(M?v:A+(O?".":"#")+v,f.forced)&&g!==void 0){if(typeof w==typeof g)continue;u(w,g)}(f.sham||g&&g.sham)&&h(w,"sham",!0),a(b,v,w,f)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,i,c){i.exports=function(o){try{return!!o()}catch{return!0}}},{}],261:[function(t,i,c){var o=t("../internals/function-bind-native"),s=Function.prototype,h=s.apply,a=s.call;i.exports=typeof Reflect=="object"&&Reflect.apply||(o?a.bind(h):function(){return a.apply(h,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,i,c){var o=t("../internals/function-uncurry-this-clause"),s=t("../internals/a-callable"),h=t("../internals/function-bind-native"),a=o(o.bind);i.exports=function(n,u){return s(n),u===void 0?n:h?a(n,u):function(){return n.apply(u,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,i,c){var o=t("../internals/fails");i.exports=!o((function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")}))},{"../internals/fails":260}],264:[function(t,i,c){var o=t("../internals/function-bind-native"),s=Function.prototype.call;i.exports=o?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/has-own-property"),h=Function.prototype,a=o&&Object.getOwnPropertyDescriptor,n=s(h,"name"),u=n&&(function(){}).name==="something",m=n&&(!o||o&&a(h,"name").configurable);i.exports={EXISTS:n,PROPER:u,CONFIGURABLE:m}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/a-callable");i.exports=function(h,a,n){try{return o(s(Object.getOwnPropertyDescriptor(h,a)[n]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,i,c){var o=t("../internals/classof-raw"),s=t("../internals/function-uncurry-this");i.exports=function(h){if(o(h)==="Function")return s(h)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,i,c){var o=t("../internals/function-bind-native"),s=Function.prototype,h=s.call,a=o&&s.bind.bind(h,h);i.exports=o?a:function(n){return function(){return h.apply(n,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/is-callable"),h=function(a){return s(a)?a:void 0};i.exports=function(a,n){return arguments.length<2?h(o[a]):o[a]&&o[a][n]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,i,c){var o=t("../internals/classof"),s=t("../internals/get-method"),h=t("../internals/is-null-or-undefined"),a=t("../internals/iterators"),n=t("../internals/well-known-symbol")("iterator");i.exports=function(u){if(!h(u))return s(u,n)||s(u,"@@iterator")||a[o(u)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,i,c){var o=t("../internals/function-call"),s=t("../internals/a-callable"),h=t("../internals/an-object"),a=t("../internals/try-to-string"),n=t("../internals/get-iterator-method"),u=TypeError;i.exports=function(m,f){var d=arguments.length<2?n(m):f;if(s(d))return h(o(d,m));throw new u(a(m)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/is-array"),h=t("../internals/is-callable"),a=t("../internals/classof-raw"),n=t("../internals/to-string"),u=o([].push);i.exports=function(m){if(h(m))return m;if(s(m)){for(var f=m.length,d=[],b=0;b<f;b++){var v=m[b];typeof v=="string"?u(d,v):typeof v!="number"&&a(v)!=="Number"&&a(v)!=="String"||u(d,n(v))}var g=d.length,w=!0;return function(_,A){if(w)return w=!1,A;if(s(this))return A;for(var M=0;M<g;M++)if(d[M]===_)return A}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,i,c){var o=t("../internals/a-callable"),s=t("../internals/is-null-or-undefined");i.exports=function(h,a){var n=h[a];return s(n)?void 0:o(n)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,i,c){(function(o){(function(){var s=function(h){return h&&h.Math===Math&&h};i.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof o=="object"&&o)||(function(){return this})()||this||Function("return this")()}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/to-object"),h=o({}.hasOwnProperty);i.exports=Object.hasOwn||function(a,n){return h(s(a),n)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,i,c){i.exports={}},{}],277:[function(t,i,c){i.exports=function(o,s){try{arguments.length===1?console.error(o):console.error(o,s)}catch{}}},{}],278:[function(t,i,c){var o=t("../internals/get-built-in");i.exports=o("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/fails"),h=t("../internals/document-create-element");i.exports=!o&&!s((function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!==7}))},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/fails"),h=t("../internals/classof-raw"),a=Object,n=o("".split);i.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(u){return h(u)==="String"?n(u,""):a(u)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/is-callable"),h=t("../internals/shared-store"),a=o(Function.toString);s(h.inspectSource)||(h.inspectSource=function(n){return a(n)}),i.exports=h.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,i,c){var o,s,h,a=t("../internals/weak-map-basic-detection"),n=t("../internals/global"),u=t("../internals/is-object"),m=t("../internals/create-non-enumerable-property"),f=t("../internals/has-own-property"),d=t("../internals/shared-store"),b=t("../internals/shared-key"),v=t("../internals/hidden-keys"),g=n.TypeError,w=n.WeakMap;if(a||d.state){var _=d.state||(d.state=new w);_.get=_.get,_.has=_.has,_.set=_.set,o=function(M,O){if(_.has(M))throw new g("Object already initialized");return O.facade=M,_.set(M,O),O},s=function(M){return _.get(M)||{}},h=function(M){return _.has(M)}}else{var A=b("state");v[A]=!0,o=function(M,O){if(f(M,A))throw new g("Object already initialized");return O.facade=M,m(M,A,O),O},s=function(M){return f(M,A)?M[A]:{}},h=function(M){return f(M,A)}}i.exports={set:o,get:s,has:h,enforce:function(M){return h(M)?s(M):o(M,{})},getterFor:function(M){return function(O){var q;if(!u(O)||(q=s(O)).type!==M)throw new g("Incompatible receiver, "+M+" required");return q}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,i,c){var o=t("../internals/well-known-symbol"),s=t("../internals/iterators"),h=o("iterator"),a=Array.prototype;i.exports=function(n){return n!==void 0&&(s.Array===n||a[h]===n)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,i,c){var o=t("../internals/classof-raw");i.exports=Array.isArray||function(s){return o(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,i,c){var o=t("../internals/document-all"),s=o.all;i.exports=o.IS_HTMLDDA?function(h){return typeof h=="function"||h===s}:function(h){return typeof h=="function"}},{"../internals/document-all":248}],286:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/fails"),h=t("../internals/is-callable"),a=t("../internals/classof"),n=t("../internals/get-built-in"),u=t("../internals/inspect-source"),m=function(){},f=[],d=n("Reflect","construct"),b=/^\s*(?:class|function)\b/,v=o(b.exec),g=!b.test(m),w=function(A){if(!h(A))return!1;try{return d(m,f,A),!0}catch{return!1}},_=function(A){if(!h(A))return!1;switch(a(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return g||!!v(b,u(A))}catch{return!0}};_.sham=!0,i.exports=!d||s((function(){var A;return w(w.call)||!w(Object)||!w((function(){A=!0}))||A}))?_:w},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,i,c){var o=t("../internals/fails"),s=t("../internals/is-callable"),h=/#|\.prototype\./,a=function(d,b){var v=u[n(d)];return v===f||v!==m&&(s(b)?o(b):!!b)},n=a.normalize=function(d){return String(d).replace(h,".").toLowerCase()},u=a.data={},m=a.NATIVE="N",f=a.POLYFILL="P";i.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,i,c){i.exports=function(o){return o==null}},{}],289:[function(t,i,c){var o=t("../internals/is-callable"),s=t("../internals/document-all"),h=s.all;i.exports=s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:o(a)||a===h}:function(a){return typeof a=="object"?a!==null:o(a)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,i,c){i.exports=!1},{}],291:[function(t,i,c){var o=t("../internals/is-object"),s=t("../internals/classof-raw"),h=t("../internals/well-known-symbol")("match");i.exports=function(a){var n;return o(a)&&((n=a[h])!==void 0?!!n:s(a)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,i,c){var o=t("../internals/get-built-in"),s=t("../internals/is-callable"),h=t("../internals/object-is-prototype-of"),a=t("../internals/use-symbol-as-uid"),n=Object;i.exports=a?function(u){return typeof u=="symbol"}:function(u){var m=o("Symbol");return s(m)&&h(m.prototype,n(u))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,i,c){var o=t("../internals/function-bind-context"),s=t("../internals/function-call"),h=t("../internals/an-object"),a=t("../internals/try-to-string"),n=t("../internals/is-array-iterator-method"),u=t("../internals/length-of-array-like"),m=t("../internals/object-is-prototype-of"),f=t("../internals/get-iterator"),d=t("../internals/get-iterator-method"),b=t("../internals/iterator-close"),v=TypeError,g=function(_,A){this.stopped=_,this.result=A},w=g.prototype;i.exports=function(_,A,M){var O,q,F,j,V,G,X,H=M&&M.that,R=!(!M||!M.AS_ENTRIES),P=!(!M||!M.IS_RECORD),k=!(!M||!M.IS_ITERATOR),x=!(!M||!M.INTERRUPTED),S=o(A,H),T=function(N){return O&&b(O,"normal",N),new g(!0,N)},E=function(N){return R?(h(N),x?S(N[0],N[1],T):S(N[0],N[1])):x?S(N,T):S(N)};if(P)O=_.iterator;else if(k)O=_;else{if(!(q=d(_)))throw new v(a(_)+" is not iterable");if(n(q)){for(F=0,j=u(_);j>F;F++)if((V=E(_[F]))&&m(w,V))return V;return new g(!1)}O=f(_,q)}for(G=P?_.next:O.next;!(X=s(G,O)).done;){try{V=E(X.value)}catch(N){b(O,"throw",N)}if(typeof V=="object"&&V&&m(w,V))return V}return new g(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,i,c){var o=t("../internals/function-call"),s=t("../internals/an-object"),h=t("../internals/get-method");i.exports=function(a,n,u){var m,f;s(a);try{if(!(m=h(a,"return"))){if(n==="throw")throw u;return u}m=o(m,a)}catch(d){f=!0,m=d}if(n==="throw")throw u;if(f)throw m;return s(m),u}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,i,c){var o=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),h=t("../internals/create-property-descriptor"),a=t("../internals/set-to-string-tag"),n=t("../internals/iterators"),u=function(){return this};i.exports=function(m,f,d,b){var v=f+" Iterator";return m.prototype=s(o,{next:h(+!b,d)}),a(m,v,!1,!0),n[v]=u,m}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/is-pure"),a=t("../internals/function-name"),n=t("../internals/is-callable"),u=t("../internals/iterator-create-constructor"),m=t("../internals/object-get-prototype-of"),f=t("../internals/object-set-prototype-of"),d=t("../internals/set-to-string-tag"),b=t("../internals/create-non-enumerable-property"),v=t("../internals/define-built-in"),g=t("../internals/well-known-symbol"),w=t("../internals/iterators"),_=t("../internals/iterators-core"),A=a.PROPER,M=a.CONFIGURABLE,O=_.IteratorPrototype,q=_.BUGGY_SAFARI_ITERATORS,F=g("iterator"),j=function(){return this};i.exports=function(V,G,X,H,R,P,k){u(X,G,H);var x,S,T,E=function($){if($===R&&Z)return Z;if(!q&&$&&$ in B)return B[$];switch($){case"keys":case"values":case"entries":return function(){return new X(this,$)}}return function(){return new X(this)}},N=G+" Iterator",I=!1,B=V.prototype,K=B[F]||B["@@iterator"]||R&&B[R],Z=!q&&K||E(R),nt=G==="Array"&&B.entries||K;if(nt&&(x=m(nt.call(new V)))!==Object.prototype&&x.next&&(h||m(x)===O||(f?f(x,O):n(x[F])||v(x,F,j)),d(x,N,!0,!0),h&&(w[N]=j)),A&&R==="values"&&K&&K.name!=="values"&&(!h&&M?b(B,"name","values"):(I=!0,Z=function(){return s(K,this)})),R)if(S={values:E("values"),keys:P?Z:E("keys"),entries:E("entries")},k)for(T in S)(q||I||!(T in B))&&v(B,T,S[T]);else o({target:G,proto:!0,forced:q||I},S);return h&&!k||B[F]===Z||v(B,F,Z,{name:R}),w[G]=Z,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,i,c){var o,s,h,a=t("../internals/fails"),n=t("../internals/is-callable"),u=t("../internals/is-object"),m=t("../internals/object-create"),f=t("../internals/object-get-prototype-of"),d=t("../internals/define-built-in"),b=t("../internals/well-known-symbol"),v=t("../internals/is-pure"),g=b("iterator"),w=!1;[].keys&&("next"in(h=[].keys())?(s=f(f(h)))!==Object.prototype&&(o=s):w=!0),!u(o)||a((function(){var _={};return o[g].call(_)!==_}))?o={}:v&&(o=m(o)),n(o[g])||d(o,g,(function(){return this})),i.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:w}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,i,c){arguments[4][276][0].apply(c,arguments)},{dup:276}],299:[function(t,i,c){var o=t("../internals/to-length");i.exports=function(s){return o(s.length)}},{"../internals/to-length":343}],300:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/fails"),h=t("../internals/is-callable"),a=t("../internals/has-own-property"),n=t("../internals/descriptors"),u=t("../internals/function-name").CONFIGURABLE,m=t("../internals/inspect-source"),f=t("../internals/internal-state"),d=f.enforce,b=f.get,v=String,g=Object.defineProperty,w=o("".slice),_=o("".replace),A=o([].join),M=n&&!s((function(){return g((function(){}),"length",{value:8}).length!==8})),O=String(String).split("String"),q=i.exports=function(F,j,V){w(v(j),0,7)==="Symbol("&&(j="["+_(v(j),/^Symbol\(([^)]*)\)/,"$1")+"]"),V&&V.getter&&(j="get "+j),V&&V.setter&&(j="set "+j),(!a(F,"name")||u&&F.name!==j)&&(n?g(F,"name",{value:j,configurable:!0}):F.name=j),M&&V&&a(V,"arity")&&F.length!==V.arity&&g(F,"length",{value:V.arity});try{V&&a(V,"constructor")&&V.constructor?n&&g(F,"prototype",{writable:!1}):F.prototype&&(F.prototype=void 0)}catch{}var G=d(F);return a(G,"source")||(G.source=A(O,typeof j=="string"?j:"")),F};Function.prototype.toString=q((function(){return h(this)&&b(this).source||m(this)}),"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,i,c){var o=Math.ceil,s=Math.floor;i.exports=Math.trunc||function(h){var a=+h;return(a>0?s:o)(a)}},{}],302:[function(t,i,c){var o,s,h,a,n,u=t("../internals/global"),m=t("../internals/function-bind-context"),f=t("../internals/object-get-own-property-descriptor").f,d=t("../internals/task").set,b=t("../internals/queue"),v=t("../internals/engine-is-ios"),g=t("../internals/engine-is-ios-pebble"),w=t("../internals/engine-is-webos-webkit"),_=t("../internals/engine-is-node"),A=u.MutationObserver||u.WebKitMutationObserver,M=u.document,O=u.process,q=u.Promise,F=f(u,"queueMicrotask"),j=F&&F.value;if(!j){var V=new b,G=function(){var X,H;for(_&&(X=O.domain)&&X.exit();H=V.get();)try{H()}catch(R){throw V.head&&o(),R}X&&X.enter()};v||_||w||!A||!M?!g&&q&&q.resolve?((a=q.resolve(void 0)).constructor=q,n=m(a.then,a),o=function(){n(G)}):_?o=function(){O.nextTick(G)}:(d=m(d,u),o=function(){d(G)}):(s=!0,h=M.createTextNode(""),new A(G).observe(h,{characterData:!0}),o=function(){h.data=s=!s}),j=function(X){V.head||o(),V.add(X)}}i.exports=j},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,i,c){var o=t("../internals/a-callable"),s=TypeError,h=function(a){var n,u;this.promise=new a((function(m,f){if(n!==void 0||u!==void 0)throw new s("Bad Promise constructor");n=m,u=f})),this.resolve=o(n),this.reject=o(u)};i.exports.f=function(a){return new h(a)}},{"../internals/a-callable":222}],304:[function(t,i,c){var o=t("../internals/is-regexp"),s=TypeError;i.exports=function(h){if(o(h))throw new s("The method doesn't accept regular expressions");return h}},{"../internals/is-regexp":291}],305:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/function-uncurry-this"),h=t("../internals/function-call"),a=t("../internals/fails"),n=t("../internals/object-keys"),u=t("../internals/object-get-own-property-symbols"),m=t("../internals/object-property-is-enumerable"),f=t("../internals/to-object"),d=t("../internals/indexed-object"),b=Object.assign,v=Object.defineProperty,g=s([].concat);i.exports=!b||a((function(){if(o&&b({b:1},b(v({},"a",{enumerable:!0,get:function(){v(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var w={},_={},A=Symbol("assign detection");return w[A]=7,"abcdefghijklmnopqrst".split("").forEach((function(M){_[M]=M})),b({},w)[A]!==7||n(b({},_)).join("")!=="abcdefghijklmnopqrst"}))?function(w,_){for(var A=f(w),M=arguments.length,O=1,q=u.f,F=m.f;M>O;)for(var j,V=d(arguments[O++]),G=q?g(n(V),q(V)):n(V),X=G.length,H=0;X>H;)j=G[H++],o&&!h(F,V,j)||(A[j]=V[j]);return A}:b},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,i,c){var o,s=t("../internals/an-object"),h=t("../internals/object-define-properties"),a=t("../internals/enum-bug-keys"),n=t("../internals/hidden-keys"),u=t("../internals/html"),m=t("../internals/document-create-element"),f=t("../internals/shared-key"),d=f("IE_PROTO"),b=function(){},v=function(_){return"<script>"+_+"<\/script>"},g=function(_){_.write(v("")),_.close();var A=_.parentWindow.Object;return _=null,A},w=function(){try{o=new ActiveXObject("htmlfile")}catch{}var _,A;w=typeof document<"u"?document.domain&&o?g(o):((A=m("iframe")).style.display="none",u.appendChild(A),A.src="javascript:",(_=A.contentWindow.document).open(),_.write(v("document.F=Object")),_.close(),_.F):g(o);for(var M=a.length;M--;)delete w.prototype[a[M]];return w()};n[d]=!0,i.exports=Object.create||function(_,A){var M;return _!==null?(b.prototype=s(_),M=new b,b.prototype=null,M[d]=_):M=w(),A===void 0?M:h.f(M,A)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/v8-prototype-define-bug"),h=t("../internals/object-define-property"),a=t("../internals/an-object"),n=t("../internals/to-indexed-object"),u=t("../internals/object-keys");c.f=o&&!s?Object.defineProperties:function(m,f){a(m);for(var d,b=n(f),v=u(f),g=v.length,w=0;g>w;)h.f(m,d=v[w++],b[d]);return m}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/ie8-dom-define"),h=t("../internals/v8-prototype-define-bug"),a=t("../internals/an-object"),n=t("../internals/to-property-key"),u=TypeError,m=Object.defineProperty,f=Object.getOwnPropertyDescriptor;c.f=o?h?function(d,b,v){if(a(d),b=n(b),a(v),typeof d=="function"&&b==="prototype"&&"value"in v&&"writable"in v&&!v.writable){var g=f(d,b);g&&g.writable&&(d[b]=v.value,v={configurable:"configurable"in v?v.configurable:g.configurable,enumerable:"enumerable"in v?v.enumerable:g.enumerable,writable:!1})}return m(d,b,v)}:m:function(d,b,v){if(a(d),b=n(b),a(v),s)try{return m(d,b,v)}catch{}if("get"in v||"set"in v)throw new u("Accessors not supported");return"value"in v&&(d[b]=v.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/function-call"),h=t("../internals/object-property-is-enumerable"),a=t("../internals/create-property-descriptor"),n=t("../internals/to-indexed-object"),u=t("../internals/to-property-key"),m=t("../internals/has-own-property"),f=t("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;c.f=o?d:function(b,v){if(b=n(b),v=u(v),f)try{return d(b,v)}catch{}if(m(b,v))return a(!s(h.f,b,v),b[v])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,i,c){var o=t("../internals/classof-raw"),s=t("../internals/to-indexed-object"),h=t("../internals/object-get-own-property-names").f,a=t("../internals/array-slice-simple"),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];i.exports.f=function(u){return n&&o(u)==="Window"?(function(m){try{return h(m)}catch{return a(n)}})(u):h(s(u))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,i,c){var o=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys").concat("length","prototype");c.f=Object.getOwnPropertyNames||function(h){return o(h,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,i,c){c.f=Object.getOwnPropertySymbols},{}],313:[function(t,i,c){var o=t("../internals/has-own-property"),s=t("../internals/is-callable"),h=t("../internals/to-object"),a=t("../internals/shared-key"),n=t("../internals/correct-prototype-getter"),u=a("IE_PROTO"),m=Object,f=m.prototype;i.exports=n?m.getPrototypeOf:function(d){var b=h(d);if(o(b,u))return b[u];var v=b.constructor;return s(v)&&b instanceof v?v.prototype:b instanceof m?f:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,i,c){var o=t("../internals/function-uncurry-this");i.exports=o({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=t("../internals/has-own-property"),h=t("../internals/to-indexed-object"),a=t("../internals/array-includes").indexOf,n=t("../internals/hidden-keys"),u=o([].push);i.exports=function(m,f){var d,b=h(m),v=0,g=[];for(d in b)!s(n,d)&&s(b,d)&&u(g,d);for(;f.length>v;)s(b,d=f[v++])&&(~a(g,d)||u(g,d));return g}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,i,c){var o=t("../internals/object-keys-internal"),s=t("../internals/enum-bug-keys");i.exports=Object.keys||function(h){return o(h,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,i,c){var o={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,h=s&&!o.call({1:2},1);c.f=h?function(a){var n=s(this,a);return!!n&&n.enumerable}:o},{}],318:[function(t,i,c){var o=t("../internals/function-uncurry-this-accessor"),s=t("../internals/an-object"),h=t("../internals/a-possible-prototype");i.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var a,n=!1,u={};try{(a=o(Object.prototype,"__proto__","set"))(u,[]),n=u instanceof Array}catch{}return function(m,f){return s(m),h(f),n?a(m,f):m.__proto__=f,m}})():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/fails"),h=t("../internals/function-uncurry-this"),a=t("../internals/object-get-prototype-of"),n=t("../internals/object-keys"),u=t("../internals/to-indexed-object"),m=h(t("../internals/object-property-is-enumerable").f),f=h([].push),d=o&&s((function(){var v=Object.create(null);return v[2]=2,!m(v,2)})),b=function(v){return function(g){for(var w,_=u(g),A=n(_),M=d&&a(_)===null,O=A.length,q=0,F=[];O>q;)w=A[q++],o&&!(M?w in _:m(_,w))||f(F,v?[w,_[w]]:_[w]);return F}};i.exports={entries:b(!0),values:b(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,i,c){var o=t("../internals/function-call"),s=t("../internals/is-callable"),h=t("../internals/is-object"),a=TypeError;i.exports=function(n,u){var m,f;if(u==="string"&&s(m=n.toString)&&!h(f=o(m,n))||s(m=n.valueOf)&&!h(f=o(m,n))||u!=="string"&&s(m=n.toString)&&!h(f=o(m,n)))return f;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,i,c){var o=t("../internals/get-built-in"),s=t("../internals/function-uncurry-this"),h=t("../internals/object-get-own-property-names"),a=t("../internals/object-get-own-property-symbols"),n=t("../internals/an-object"),u=s([].concat);i.exports=o("Reflect","ownKeys")||function(m){var f=h.f(n(m)),d=a.f;return d?u(f,d(m)):f}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,i,c){var o=t("../internals/global");i.exports=o},{"../internals/global":274}],323:[function(t,i,c){i.exports=function(o){try{return{error:!1,value:o()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/promise-native-constructor"),h=t("../internals/is-callable"),a=t("../internals/is-forced"),n=t("../internals/inspect-source"),u=t("../internals/well-known-symbol"),m=t("../internals/engine-is-browser"),f=t("../internals/engine-is-deno"),d=t("../internals/is-pure"),b=t("../internals/engine-v8-version"),v=s&&s.prototype,g=u("species"),w=!1,_=h(o.PromiseRejectionEvent),A=a("Promise",(function(){var M=n(s),O=M!==String(s);if(!O&&b===66||d&&(!v.catch||!v.finally))return!0;if(!b||b<51||!/native code/.test(M)){var q=new s((function(j){j(1)})),F=function(j){j((function(){}),(function(){}))};if((q.constructor={})[g]=F,!(w=q.then((function(){}))instanceof F))return!0}return!O&&(m||f)&&!_}));i.exports={CONSTRUCTOR:A,REJECTION_EVENT:_,SUBCLASSING:w}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,i,c){var o=t("../internals/global");i.exports=o.Promise},{"../internals/global":274}],326:[function(t,i,c){var o=t("../internals/an-object"),s=t("../internals/is-object"),h=t("../internals/new-promise-capability");i.exports=function(a,n){if(o(a),s(n)&&n.constructor===a)return n;var u=h.f(a);return(0,u.resolve)(n),u.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,i,c){var o=t("../internals/promise-native-constructor"),s=t("../internals/check-correctness-of-iteration"),h=t("../internals/promise-constructor-detection").CONSTRUCTOR;i.exports=h||!s((function(a){o.all(a).then(void 0,(function(){}))}))},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,i,c){var o=function(){this.head=null,this.tail=null};o.prototype={add:function(s){var h={item:s,next:null},a=this.tail;a?a.next=h:this.head=h,this.tail=h},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},i.exports=o},{}],329:[function(t,i,c){var o=t("../internals/is-null-or-undefined"),s=TypeError;i.exports=function(h){if(o(h))throw new s("Can't call method on "+h);return h}},{"../internals/is-null-or-undefined":288}],330:[function(t,i,c){var o=t("../internals/get-built-in"),s=t("../internals/define-built-in-accessor"),h=t("../internals/well-known-symbol"),a=t("../internals/descriptors"),n=h("species");i.exports=function(u){var m=o(u);a&&m&&!m[n]&&s(m,n,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,i,c){var o=t("../internals/object-define-property").f,s=t("../internals/has-own-property"),h=t("../internals/well-known-symbol")("toStringTag");i.exports=function(a,n,u){a&&!u&&(a=a.prototype),a&&!s(a,h)&&o(a,h,{configurable:!0,value:n})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,i,c){var o=t("../internals/shared"),s=t("../internals/uid"),h=o("keys");i.exports=function(a){return h[a]||(h[a]=s(a))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/define-global-property"),h=o["__core-js_shared__"]||s("__core-js_shared__",{});i.exports=h},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,i,c){var o=t("../internals/is-pure"),s=t("../internals/shared-store");(i.exports=function(h,a){return s[h]||(s[h]=a!==void 0?a:{})})("versions",[]).push({version:"3.33.0",mode:o?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,i,c){var o=t("../internals/an-object"),s=t("../internals/a-constructor"),h=t("../internals/is-null-or-undefined"),a=t("../internals/well-known-symbol")("species");i.exports=function(n,u){var m,f=o(n).constructor;return f===void 0||h(m=o(f)[a])?u:s(m)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,i,c){var o=t("../internals/engine-v8-version"),s=t("../internals/fails"),h=t("../internals/global").String;i.exports=!!Object.getOwnPropertySymbols&&!s((function(){var a=Symbol("symbol detection");return!h(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&o&&o<41}))},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,i,c){var o=t("../internals/function-call"),s=t("../internals/get-built-in"),h=t("../internals/well-known-symbol"),a=t("../internals/define-built-in");i.exports=function(){var n=s("Symbol"),u=n&&n.prototype,m=u&&u.valueOf,f=h("toPrimitive");u&&!u[f]&&a(u,f,(function(d){return o(m,this)}),{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,i,c){var o=t("../internals/symbol-constructor-detection");i.exports=o&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,i,c){var o,s,h,a,n=t("../internals/global"),u=t("../internals/function-apply"),m=t("../internals/function-bind-context"),f=t("../internals/is-callable"),d=t("../internals/has-own-property"),b=t("../internals/fails"),v=t("../internals/html"),g=t("../internals/array-slice"),w=t("../internals/document-create-element"),_=t("../internals/validate-arguments-length"),A=t("../internals/engine-is-ios"),M=t("../internals/engine-is-node"),O=n.setImmediate,q=n.clearImmediate,F=n.process,j=n.Dispatch,V=n.Function,G=n.MessageChannel,X=n.String,H=0,R={};b((function(){o=n.location}));var P=function(T){if(d(R,T)){var E=R[T];delete R[T],E()}},k=function(T){return function(){P(T)}},x=function(T){P(T.data)},S=function(T){n.postMessage(X(T),o.protocol+"//"+o.host)};O&&q||(O=function(T){_(arguments.length,1);var E=f(T)?T:V(T),N=g(arguments,1);return R[++H]=function(){u(E,void 0,N)},s(H),H},q=function(T){delete R[T]},M?s=function(T){F.nextTick(k(T))}:j&&j.now?s=function(T){j.now(k(T))}:G&&!A?(a=(h=new G).port2,h.port1.onmessage=x,s=m(a.postMessage,a)):n.addEventListener&&f(n.postMessage)&&!n.importScripts&&o&&o.protocol!=="file:"&&!b(S)?(s=S,n.addEventListener("message",x,!1)):s="onreadystatechange"in w("script")?function(T){v.appendChild(w("script")).onreadystatechange=function(){v.removeChild(this),P(T)}}:function(T){setTimeout(k(T),0)}),i.exports={set:O,clear:q}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,i,c){var o=t("../internals/to-integer-or-infinity"),s=Math.max,h=Math.min;i.exports=function(a,n){var u=o(a);return u<0?s(u+n,0):h(u,n)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,i,c){var o=t("../internals/indexed-object"),s=t("../internals/require-object-coercible");i.exports=function(h){return o(s(h))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,i,c){var o=t("../internals/math-trunc");i.exports=function(s){var h=+s;return h!=h||h===0?0:o(h)}},{"../internals/math-trunc":301}],343:[function(t,i,c){var o=t("../internals/to-integer-or-infinity"),s=Math.min;i.exports=function(h){return h>0?s(o(h),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,i,c){var o=t("../internals/require-object-coercible"),s=Object;i.exports=function(h){return s(o(h))}},{"../internals/require-object-coercible":329}],345:[function(t,i,c){var o=t("../internals/function-call"),s=t("../internals/is-object"),h=t("../internals/is-symbol"),a=t("../internals/get-method"),n=t("../internals/ordinary-to-primitive"),u=t("../internals/well-known-symbol"),m=TypeError,f=u("toPrimitive");i.exports=function(d,b){if(!s(d)||h(d))return d;var v,g=a(d,f);if(g){if(b===void 0&&(b="default"),v=o(g,d,b),!s(v)||h(v))return v;throw new m("Can't convert object to primitive value")}return b===void 0&&(b="number"),n(d,b)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,i,c){var o=t("../internals/to-primitive"),s=t("../internals/is-symbol");i.exports=function(h){var a=o(h,"string");return s(a)?a:a+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,i,c){var o={};o[t("../internals/well-known-symbol")("toStringTag")]="z",i.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,i,c){var o=t("../internals/classof"),s=String;i.exports=function(h){if(o(h)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(h)}},{"../internals/classof":236}],349:[function(t,i,c){var o=String;i.exports=function(s){try{return o(s)}catch{return"Object"}}},{}],350:[function(t,i,c){var o=t("../internals/function-uncurry-this"),s=0,h=Math.random(),a=o(1 .toString);i.exports=function(n){return"Symbol("+(n===void 0?"":n)+")_"+a(++s+h,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,i,c){var o=t("../internals/symbol-constructor-detection");i.exports=o&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,i,c){var o=t("../internals/descriptors"),s=t("../internals/fails");i.exports=o&&s((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype!==42}))},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,i,c){var o=TypeError;i.exports=function(s,h){if(s<h)throw new o("Not enough arguments");return s}},{}],354:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/is-callable"),h=o.WeakMap;i.exports=s(h)&&/native code/.test(String(h))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,i,c){var o=t("../internals/path"),s=t("../internals/has-own-property"),h=t("../internals/well-known-symbol-wrapped"),a=t("../internals/object-define-property").f;i.exports=function(n){var u=o.Symbol||(o.Symbol={});s(u,n)||a(u,n,{value:h.f(n)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,i,c){var o=t("../internals/well-known-symbol");c.f=o},{"../internals/well-known-symbol":357}],357:[function(t,i,c){var o=t("../internals/global"),s=t("../internals/shared"),h=t("../internals/has-own-property"),a=t("../internals/uid"),n=t("../internals/symbol-constructor-detection"),u=t("../internals/use-symbol-as-uid"),m=o.Symbol,f=s("wks"),d=u?m.for||m:m&&m.withoutSetter||a;i.exports=function(b){return h(f,b)||(f[b]=n&&h(m,b)?m[b]:d("Symbol."+b)),f[b]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/array-iteration").findIndex,h=t("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),o({target:"Array",proto:!0,forced:a},{findIndex:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}}),h("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/array-iteration").find,h=t("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),o({target:"Array",proto:!0,forced:a},{find:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}}),h("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/array-includes").includes,h=t("../internals/fails"),a=t("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:h((function(){return!Array(1).includes()}))},{includes:function(n){return s(this,n,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,i,c){var o=t("../internals/to-indexed-object"),s=t("../internals/add-to-unscopables"),h=t("../internals/iterators"),a=t("../internals/internal-state"),n=t("../internals/object-define-property").f,u=t("../internals/iterator-define"),m=t("../internals/create-iter-result-object"),f=t("../internals/is-pure"),d=t("../internals/descriptors"),b=a.set,v=a.getterFor("Array Iterator");i.exports=u(Array,"Array",(function(w,_){b(this,{type:"Array Iterator",target:o(w),index:0,kind:_})}),(function(){var w=v(this),_=w.target,A=w.kind,M=w.index++;if(!_||M>=_.length)return w.target=void 0,m(void 0,!0);switch(A){case"keys":return m(M,!1);case"values":return m(_[M],!1)}return m([M,_[M]],!1)}),"values");var g=h.Arguments=h.Array;if(s("keys"),s("values"),s("entries"),!f&&d&&g.name!=="values")try{n(g,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/get-built-in"),h=t("../internals/function-apply"),a=t("../internals/function-call"),n=t("../internals/function-uncurry-this"),u=t("../internals/fails"),m=t("../internals/is-callable"),f=t("../internals/is-symbol"),d=t("../internals/array-slice"),b=t("../internals/get-json-replacer-function"),v=t("../internals/symbol-constructor-detection"),g=String,w=s("JSON","stringify"),_=n(/./.exec),A=n("".charAt),M=n("".charCodeAt),O=n("".replace),q=n(1 .toString),F=/[\uD800-\uDFFF]/g,j=/^[\uD800-\uDBFF]$/,V=/^[\uDC00-\uDFFF]$/,G=!v||u((function(){var P=s("Symbol")("stringify detection");return w([P])!=="[null]"||w({a:P})!=="{}"||w(Object(P))!=="{}"})),X=u((function(){return w("\uDF06\uD834")!=='"\\udf06\\ud834"'||w("\uDEAD")!=='"\\udead"'})),H=function(P,k){var x=d(arguments),S=b(k);if(m(S)||P!==void 0&&!f(P))return x[1]=function(T,E){if(m(S)&&(E=a(S,this,g(T),E)),!f(E))return E},h(w,null,x)},R=function(P,k,x){var S=A(x,k-1),T=A(x,k+1);return _(j,P)&&!_(V,T)||_(V,P)&&!_(j,S)?"\\u"+q(M(P,0),16):P};w&&o({target:"JSON",stat:!0,arity:3,forced:G||X},{stringify:function(P,k,x){var S=d(arguments),T=h(G?H:w,null,S);return X&&typeof T=="string"?O(T,F,R):T}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,i,c){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(o){return o!=o}})},{"../internals/export":259}],364:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/object-assign");o({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/symbol-constructor-detection"),h=t("../internals/fails"),a=t("../internals/object-get-own-property-symbols"),n=t("../internals/to-object");o({target:"Object",stat:!0,forced:!s||h((function(){a.f(1)}))},{getOwnPropertySymbols:function(u){var m=a.f;return m?m(n(u)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/to-object"),h=t("../internals/object-keys");o({target:"Object",stat:!0,forced:t("../internals/fails")((function(){h(1)}))},{keys:function(a){return h(s(a))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/object-to-array").values;o({target:"Object",stat:!0},{values:function(h){return s(h)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/a-callable"),a=t("../internals/new-promise-capability"),n=t("../internals/perform"),u=t("../internals/iterate");o({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(m){var f=this,d=a.f(f),b=d.resolve,v=d.reject,g=n((function(){var w=h(f.resolve),_=[],A=0,M=1;u(m,(function(O){var q=A++,F=!1;M++,s(w,f,O).then((function(j){F||(F=!0,_[q]=j,--M||b(_))}),v)})),--M||b(_)}));return g.error&&v(g.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/is-pure"),h=t("../internals/promise-constructor-detection").CONSTRUCTOR,a=t("../internals/promise-native-constructor"),n=t("../internals/get-built-in"),u=t("../internals/is-callable"),m=t("../internals/define-built-in"),f=a&&a.prototype;if(o({target:"Promise",proto:!0,forced:h,real:!0},{catch:function(b){return this.then(void 0,b)}}),!s&&u(a)){var d=n("Promise").prototype.catch;f.catch!==d&&m(f,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,i,c){var o,s,h,a=t("../internals/export"),n=t("../internals/is-pure"),u=t("../internals/engine-is-node"),m=t("../internals/global"),f=t("../internals/function-call"),d=t("../internals/define-built-in"),b=t("../internals/object-set-prototype-of"),v=t("../internals/set-to-string-tag"),g=t("../internals/set-species"),w=t("../internals/a-callable"),_=t("../internals/is-callable"),A=t("../internals/is-object"),M=t("../internals/an-instance"),O=t("../internals/species-constructor"),q=t("../internals/task").set,F=t("../internals/microtask"),j=t("../internals/host-report-errors"),V=t("../internals/perform"),G=t("../internals/queue"),X=t("../internals/internal-state"),H=t("../internals/promise-native-constructor"),R=t("../internals/promise-constructor-detection"),P=t("../internals/new-promise-capability"),k=R.CONSTRUCTOR,x=R.REJECTION_EVENT,S=R.SUBCLASSING,T=X.getterFor("Promise"),E=X.set,N=H&&H.prototype,I=H,B=N,K=m.TypeError,Z=m.document,nt=m.process,$=P.f,tt=$,U=!!(Z&&Z.createEvent&&m.dispatchEvent),L=function(dt){var vt;return!(!A(dt)||!_(vt=dt.then))&&vt},Q=function(dt,vt){var xt,wt,jt,It=vt.value,Ht=vt.state===1,ee=Ht?dt.ok:dt.fail,Qt=dt.resolve,Kt=dt.reject,be=dt.domain;try{ee?(Ht||(vt.rejection===2&&bt(vt),vt.rejection=1),ee===!0?xt=It:(be&&be.enter(),xt=ee(It),be&&(be.exit(),jt=!0)),xt===dt.promise?Kt(new K("Promise-chain cycle")):(wt=L(xt))?f(wt,xt,Qt,Kt):Qt(xt)):Kt(It)}catch(fe){be&&!jt&&be.exit(),Kt(fe)}},it=function(dt,vt){dt.notified||(dt.notified=!0,F((function(){for(var xt,wt=dt.reactions;xt=wt.get();)Q(xt,dt);dt.notified=!1,vt&&!dt.rejection&&st(dt)})))},ut=function(dt,vt,xt){var wt,jt;U?((wt=Z.createEvent("Event")).promise=vt,wt.reason=xt,wt.initEvent(dt,!1,!0),m.dispatchEvent(wt)):wt={promise:vt,reason:xt},!x&&(jt=m["on"+dt])?jt(wt):dt==="unhandledrejection"&&j("Unhandled promise rejection",xt)},st=function(dt){f(q,m,(function(){var vt,xt=dt.facade,wt=dt.value;if(lt(dt)&&(vt=V((function(){u?nt.emit("unhandledRejection",wt,xt):ut("unhandledrejection",xt,wt)})),dt.rejection=u||lt(dt)?2:1,vt.error))throw vt.value}))},lt=function(dt){return dt.rejection!==1&&!dt.parent},bt=function(dt){f(q,m,(function(){var vt=dt.facade;u?nt.emit("rejectionHandled",vt):ut("rejectionhandled",vt,dt.value)}))},yt=function(dt,vt,xt){return function(wt){dt(vt,wt,xt)}},at=function(dt,vt,xt){dt.done||(dt.done=!0,xt&&(dt=xt),dt.value=vt,dt.state=2,it(dt,!0))},pt=function(dt,vt,xt){if(!dt.done){dt.done=!0,xt&&(dt=xt);try{if(dt.facade===vt)throw new K("Promise can't be resolved itself");var wt=L(vt);wt?F((function(){var jt={done:!1};try{f(wt,vt,yt(pt,jt,dt),yt(at,jt,dt))}catch(It){at(jt,It,dt)}})):(dt.value=vt,dt.state=1,it(dt,!1))}catch(jt){at({done:!1},jt,dt)}}};if(k&&(B=(I=function(dt){M(this,B),w(dt),f(o,this);var vt=T(this);try{dt(yt(pt,vt),yt(at,vt))}catch(xt){at(vt,xt)}}).prototype,(o=function(dt){E(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new G,rejection:!1,state:0,value:void 0})}).prototype=d(B,"then",(function(dt,vt){var xt=T(this),wt=$(O(this,I));return xt.parent=!0,wt.ok=!_(dt)||dt,wt.fail=_(vt)&&vt,wt.domain=u?nt.domain:void 0,xt.state===0?xt.reactions.add(wt):F((function(){Q(wt,xt)})),wt.promise})),s=function(){var dt=new o,vt=T(dt);this.promise=dt,this.resolve=yt(pt,vt),this.reject=yt(at,vt)},P.f=$=function(dt){return dt===I||dt===void 0?new s(dt):tt(dt)},!n&&_(H)&&N!==Object.prototype)){h=N.then,S||d(N,"then",(function(dt,vt){var xt=this;return new I((function(wt,jt){f(h,xt,wt,jt)})).then(dt,vt)}),{unsafe:!0});try{delete N.constructor}catch{}b&&b(N,B)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:I}),v(I,"Promise",!1,!0),g("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/is-pure"),h=t("../internals/promise-native-constructor"),a=t("../internals/fails"),n=t("../internals/get-built-in"),u=t("../internals/is-callable"),m=t("../internals/species-constructor"),f=t("../internals/promise-resolve"),d=t("../internals/define-built-in"),b=h&&h.prototype;if(o({target:"Promise",proto:!0,real:!0,forced:!!h&&a((function(){b.finally.call({then:function(){}},(function(){}))}))},{finally:function(g){var w=m(this,n("Promise")),_=u(g);return this.then(_?function(A){return f(w,g()).then((function(){return A}))}:g,_?function(A){return f(w,g()).then((function(){throw A}))}:g)}}),!s&&u(h)){var v=n("Promise").prototype.finally;b.finally!==v&&d(b,"finally",v,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,i,c){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/a-callable"),a=t("../internals/new-promise-capability"),n=t("../internals/perform"),u=t("../internals/iterate");o({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(m){var f=this,d=a.f(f),b=d.reject,v=n((function(){var g=h(f.resolve);u(m,(function(w){s(g,f,w).then(d.resolve,b)}))}));return v.error&&b(v.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/function-call"),h=t("../internals/new-promise-capability");o({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(a){var n=h.f(this);return s(n.reject,void 0,a),n.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/get-built-in"),h=t("../internals/is-pure"),a=t("../internals/promise-native-constructor"),n=t("../internals/promise-constructor-detection").CONSTRUCTOR,u=t("../internals/promise-resolve"),m=s("Promise"),f=h&&!n;o({target:"Promise",stat:!0,forced:h||n},{resolve:function(d){return u(f&&this===m?a:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/function-uncurry-this"),h=t("../internals/to-absolute-index"),a=RangeError,n=String.fromCharCode,u=String.fromCodePoint,m=s([].join);o({target:"String",stat:!0,arity:1,forced:!!u&&u.length!==1},{fromCodePoint:function(f){for(var d,b=[],v=arguments.length,g=0;v>g;){if(d=+arguments[g++],h(d,1114111)!==d)throw new a(d+" is not a valid code point");b[g]=d<65536?n(d):n(55296+((d-=65536)>>10),d%1024+56320)}return m(b,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/function-uncurry-this"),h=t("../internals/not-a-regexp"),a=t("../internals/require-object-coercible"),n=t("../internals/to-string"),u=t("../internals/correct-is-regexp-logic"),m=s("".indexOf);o({target:"String",proto:!0,forced:!u("includes")},{includes:function(f){return!!~m(n(a(this)),n(h(f)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,i,c){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/global"),h=t("../internals/function-call"),a=t("../internals/function-uncurry-this"),n=t("../internals/is-pure"),u=t("../internals/descriptors"),m=t("../internals/symbol-constructor-detection"),f=t("../internals/fails"),d=t("../internals/has-own-property"),b=t("../internals/object-is-prototype-of"),v=t("../internals/an-object"),g=t("../internals/to-indexed-object"),w=t("../internals/to-property-key"),_=t("../internals/to-string"),A=t("../internals/create-property-descriptor"),M=t("../internals/object-create"),O=t("../internals/object-keys"),q=t("../internals/object-get-own-property-names"),F=t("../internals/object-get-own-property-names-external"),j=t("../internals/object-get-own-property-symbols"),V=t("../internals/object-get-own-property-descriptor"),G=t("../internals/object-define-property"),X=t("../internals/object-define-properties"),H=t("../internals/object-property-is-enumerable"),R=t("../internals/define-built-in"),P=t("../internals/define-built-in-accessor"),k=t("../internals/shared"),x=t("../internals/shared-key"),S=t("../internals/hidden-keys"),T=t("../internals/uid"),E=t("../internals/well-known-symbol"),N=t("../internals/well-known-symbol-wrapped"),I=t("../internals/well-known-symbol-define"),B=t("../internals/symbol-define-to-primitive"),K=t("../internals/set-to-string-tag"),Z=t("../internals/internal-state"),nt=t("../internals/array-iteration").forEach,$=x("hidden"),tt=Z.set,U=Z.getterFor("Symbol"),L=Object.prototype,Q=s.Symbol,it=Q&&Q.prototype,ut=s.RangeError,st=s.TypeError,lt=s.QObject,bt=V.f,yt=G.f,at=F.f,pt=H.f,dt=a([].push),vt=k("symbols"),xt=k("op-symbols"),wt=k("wks"),jt=!lt||!lt.prototype||!lt.prototype.findChild,It=function(Zt,Gt,te){var re=bt(L,Gt);re&&delete L[Gt],yt(Zt,Gt,te),re&&Zt!==L&&yt(L,Gt,re)},Ht=u&&f((function(){return M(yt({},"a",{get:function(){return yt(this,"a",{value:7}).a}})).a!==7}))?It:yt,ee=function(Zt,Gt){var te=vt[Zt]=M(it);return tt(te,{type:"Symbol",tag:Zt,description:Gt}),u||(te.description=Gt),te},Qt=function(Zt,Gt,te){Zt===L&&Qt(xt,Gt,te),v(Zt);var re=w(Gt);return v(te),d(vt,re)?(te.enumerable?(d(Zt,$)&&Zt[$][re]&&(Zt[$][re]=!1),te=M(te,{enumerable:A(0,!1)})):(d(Zt,$)||yt(Zt,$,A(1,{})),Zt[$][re]=!0),Ht(Zt,re,te)):yt(Zt,re,te)},Kt=function(Zt,Gt){v(Zt);var te=g(Gt),re=O(te).concat(ge(te));return nt(re,(function(oe){u&&!h(be,te,oe)||Qt(Zt,oe,te[oe])})),Zt},be=function(Zt){var Gt=w(Zt),te=h(pt,this,Gt);return!(this===L&&d(vt,Gt)&&!d(xt,Gt))&&(!(te||!d(this,Gt)||!d(vt,Gt)||d(this,$)&&this[$][Gt])||te)},fe=function(Zt,Gt){var te=g(Zt),re=w(Gt);if(te!==L||!d(vt,re)||d(xt,re)){var oe=bt(te,re);return!oe||!d(vt,re)||d(te,$)&&te[$][re]||(oe.enumerable=!0),oe}},de=function(Zt){var Gt=at(g(Zt)),te=[];return nt(Gt,(function(re){d(vt,re)||d(S,re)||dt(te,re)})),te},ge=function(Zt){var Gt=Zt===L,te=at(Gt?xt:g(Zt)),re=[];return nt(te,(function(oe){!d(vt,oe)||Gt&&!d(L,oe)||dt(re,vt[oe])})),re};m||(R(it=(Q=function(){if(b(it,this))throw new st("Symbol is not a constructor");var Zt=arguments.length&&arguments[0]!==void 0?_(arguments[0]):void 0,Gt=T(Zt),te=function(re){this===L&&h(te,xt,re),d(this,$)&&d(this[$],Gt)&&(this[$][Gt]=!1);var oe=A(1,re);try{Ht(this,Gt,oe)}catch(Oe){if(!(Oe instanceof ut))throw Oe;It(this,Gt,oe)}};return u&&jt&&Ht(L,Gt,{configurable:!0,set:te}),ee(Gt,Zt)}).prototype,"toString",(function(){return U(this).tag})),R(Q,"withoutSetter",(function(Zt){return ee(T(Zt),Zt)})),H.f=be,G.f=Qt,X.f=Kt,V.f=fe,q.f=F.f=de,j.f=ge,N.f=function(Zt){return ee(E(Zt),Zt)},u&&(P(it,"description",{configurable:!0,get:function(){return U(this).description}}),n||R(L,"propertyIsEnumerable",be,{unsafe:!0}))),o({global:!0,constructor:!0,wrap:!0,forced:!m,sham:!m},{Symbol:Q}),nt(O(wt),(function(Zt){I(Zt)})),o({target:"Symbol",stat:!0,forced:!m},{useSetter:function(){jt=!0},useSimple:function(){jt=!1}}),o({target:"Object",stat:!0,forced:!m,sham:!u},{create:function(Zt,Gt){return Gt===void 0?M(Zt):Kt(M(Zt),Gt)},defineProperty:Qt,defineProperties:Kt,getOwnPropertyDescriptor:fe}),o({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:de}),B(),K(Q,"Symbol"),S[$]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/get-built-in"),h=t("../internals/has-own-property"),a=t("../internals/to-string"),n=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),m=n("string-to-symbol-registry"),f=n("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{for:function(d){var b=a(d);if(h(m,b))return m[b];var v=s("Symbol")(b);return m[b]=v,f[v]=b,v}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,i,c){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,i,c){var o=t("../internals/export"),s=t("../internals/has-own-property"),h=t("../internals/is-symbol"),a=t("../internals/try-to-string"),n=t("../internals/shared"),u=t("../internals/symbol-registry-detection"),m=n("symbol-to-string-registry");o({target:"Symbol",stat:!0,forced:!u},{keyFor:function(f){if(!h(f))throw new TypeError(a(f)+" is not a symbol");if(s(m,f))return m[f]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,i,c){function o(s){return Object.prototype.toString.call(s)}c.isArray=function(s){return Array.isArray?Array.isArray(s):o(s)==="[object Array]"},c.isBoolean=function(s){return typeof s=="boolean"},c.isNull=function(s){return s===null},c.isNullOrUndefined=function(s){return s==null},c.isNumber=function(s){return typeof s=="number"},c.isString=function(s){return typeof s=="string"},c.isSymbol=function(s){return typeof s=="symbol"},c.isUndefined=function(s){return s===void 0},c.isRegExp=function(s){return o(s)==="[object RegExp]"},c.isObject=function(s){return typeof s=="object"&&s!==null},c.isDate=function(s){return o(s)==="[object Date]"},c.isError=function(s){return o(s)==="[object Error]"||s instanceof Error},c.isFunction=function(s){return typeof s=="function"},c.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},c.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,i,c){(function(o){(function(){var s=t("elliptic"),h=t("bn.js");i.exports=function(m){return new n(m)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function n(m){this.curveType=a[m],this.curveType||(this.curveType={name:m}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function u(m,f,d){Array.isArray(m)||(m=m.toArray());var b=new o(m);if(d&&b.length<d){var v=new o(d-b.length);v.fill(0),b=o.concat([v,b])}return f?b.toString(f):b}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,n.prototype.generateKeys=function(m,f){return this.keys=this.curve.genKeyPair(),this.getPublicKey(m,f)},n.prototype.computeSecret=function(m,f,d){return f=f||"utf8",o.isBuffer(m)||(m=new o(m,f)),u(this.curve.keyFromPublic(m).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},n.prototype.getPublicKey=function(m,f){var d=this.keys.getPublic(f==="compressed",!0);return f==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),u(d,m)},n.prototype.getPrivateKey=function(m){return u(this.keys.getPrivate(),m)},n.prototype.setPublicKey=function(m,f){return f=f||"utf8",o.isBuffer(m)||(m=new o(m,f)),this.keys._importPublic(m),this},n.prototype.setPrivateKey=function(m,f){f=f||"utf8",o.isBuffer(m)||(m=new o(m,f));var d=new h(m);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],386:[function(t,i,c){var o=t("inherits"),s=t("md5.js"),h=t("ripemd160"),a=t("sha.js"),n=t("cipher-base");function u(m){n.call(this,"digest"),this._hash=m}o(u,n),u.prototype._update=function(m){this._hash.update(m)},u.prototype._final=function(){return this._hash.digest()},i.exports=function(m){return(m=m.toLowerCase())==="md5"?new s:m==="rmd160"||m==="ripemd160"?new h:new u(a(m))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,i,c){var o=t("md5.js");i.exports=function(s){return new o().update(s).digest()}},{"md5.js":450}],388:[function(t,i,c){var o=t("inherits"),s=t("./legacy"),h=t("cipher-base"),a=t("safe-buffer").Buffer,n=t("create-hash/md5"),u=t("ripemd160"),m=t("sha.js"),f=a.alloc(128);function d(b,v){h.call(this,"digest"),typeof v=="string"&&(v=a.from(v));var g=b==="sha512"||b==="sha384"?128:64;this._alg=b,this._key=v,v.length>g?v=(b==="rmd160"?new u:m(b)).update(v).digest():v.length<g&&(v=a.concat([v,f],g));for(var w=this._ipad=a.allocUnsafe(g),_=this._opad=a.allocUnsafe(g),A=0;A<g;A++)w[A]=54^v[A],_[A]=92^v[A];this._hash=b==="rmd160"?new u:m(b),this._hash.update(w)}o(d,h),d.prototype._update=function(b){this._hash.update(b)},d.prototype._final=function(){var b=this._hash.digest();return(this._alg==="rmd160"?new u:m(this._alg)).update(this._opad).update(b).digest()},i.exports=function(b,v){return(b=b.toLowerCase())==="rmd160"||b==="ripemd160"?new d("rmd160",v):b==="md5"?new s(n,v):new d(b,v)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,i,c){var o=t("inherits"),s=t("safe-buffer").Buffer,h=t("cipher-base"),a=s.alloc(128);function n(u,m){h.call(this,"digest"),typeof m=="string"&&(m=s.from(m)),this._alg=u,this._key=m,m.length>64?m=u(m):m.length<64&&(m=s.concat([m,a],64));for(var f=this._ipad=s.allocUnsafe(64),d=this._opad=s.allocUnsafe(64),b=0;b<64;b++)f[b]=54^m[b],d[b]=92^m[b];this._hash=[f]}o(n,h),n.prototype._update=function(u){this._hash.push(u)},n.prototype._final=function(){var u=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,u]))},i.exports=n},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,i,c){c.randomBytes=c.rng=c.pseudoRandomBytes=c.prng=t("randombytes"),c.createHash=c.Hash=t("create-hash"),c.createHmac=c.Hmac=t("create-hmac");var o=t("browserify-sign/algos"),s=Object.keys(o),h=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);c.getHashes=function(){return h};var a=t("pbkdf2");c.pbkdf2=a.pbkdf2,c.pbkdf2Sync=a.pbkdf2Sync;var n=t("browserify-cipher");c.Cipher=n.Cipher,c.createCipher=n.createCipher,c.Cipheriv=n.Cipheriv,c.createCipheriv=n.createCipheriv,c.Decipher=n.Decipher,c.createDecipher=n.createDecipher,c.Decipheriv=n.Decipheriv,c.createDecipheriv=n.createDecipheriv,c.getCiphers=n.getCiphers,c.listCiphers=n.listCiphers;var u=t("diffie-hellman");c.DiffieHellmanGroup=u.DiffieHellmanGroup,c.createDiffieHellmanGroup=u.createDiffieHellmanGroup,c.getDiffieHellman=u.getDiffieHellman,c.createDiffieHellman=u.createDiffieHellman,c.DiffieHellman=u.DiffieHellman;var m=t("browserify-sign");c.createSign=m.createSign,c.Sign=m.Sign,c.createVerify=m.createVerify,c.Verify=m.Verify,c.createECDH=t("create-ecdh");var f=t("public-encrypt");c.publicEncrypt=f.publicEncrypt,c.privateEncrypt=f.privateEncrypt,c.publicDecrypt=f.publicDecrypt,c.privateDecrypt=f.privateDecrypt;var d=t("randomfill");c.randomFill=d.randomFill,c.randomFillSync=d.randomFillSync,c.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},c.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,i,c){(function(o,s){typeof c=="object"&&i!==void 0?i.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs=s()})(void 0,(function(){var o=6e4,s=36e5,h="millisecond",a="second",n="minute",u="hour",m="day",f="week",d="month",b="quarter",v="year",g="date",w="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,A=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(x){var S=["th","st","nd","rd"],T=x%100;return"["+x+(S[(T-20)%10]||S[T]||S[0])+"]"}},O=function(x,S,T){var E=String(x);return!E||E.length>=S?x:""+Array(S+1-E.length).join(T)+x},q={s:O,z:function(x){var S=-x.utcOffset(),T=Math.abs(S),E=Math.floor(T/60),N=T%60;return(S<=0?"+":"-")+O(E,2,"0")+":"+O(N,2,"0")},m:function x(S,T){if(S.date()<T.date())return-x(T,S);var E=12*(T.year()-S.year())+(T.month()-S.month()),N=S.clone().add(E,d),I=T-N<0,B=S.clone().add(E+(I?-1:1),d);return+(-(E+(T-N)/(I?N-B:B-N))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:d,y:v,w:f,d:m,D:g,h:u,m:n,s:a,ms:h,Q:b}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},F="en",j={};j[F]=M;var V="$isDayjsObject",G=function(x){return x instanceof P||!(!x||!x[V])},X=function x(S,T,E){var N;if(!S)return F;if(typeof S=="string"){var I=S.toLowerCase();j[I]&&(N=I),T&&(j[I]=T,N=I);var B=S.split("-");if(!N&&B.length>1)return x(B[0])}else{var K=S.name;j[K]=S,N=K}return!E&&N&&(F=N),N||!E&&F},H=function(x,S){if(G(x))return x.clone();var T=typeof S=="object"?S:{};return T.date=x,T.args=arguments,new P(T)},R=q;R.l=X,R.i=G,R.w=function(x,S){return H(x,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var P=(function(){function x(T){this.$L=X(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[V]=!0}var S=x.prototype;return S.parse=function(T){this.$d=(function(E){var N=E.date,I=E.utc;if(N===null)return new Date(NaN);if(R.u(N))return new Date;if(N instanceof Date)return new Date(N);if(typeof N=="string"&&!/Z$/i.test(N)){var B=N.match(_);if(B){var K=B[2]-1||0,Z=(B[7]||"0").substring(0,3);return I?new Date(Date.UTC(B[1],K,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)):new Date(B[1],K,B[3]||1,B[4]||0,B[5]||0,B[6]||0,Z)}}return new Date(N)})(T),this.init()},S.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},S.$utils=function(){return R},S.isValid=function(){return this.$d.toString()!==w},S.isSame=function(T,E){var N=H(T);return this.startOf(E)<=N&&N<=this.endOf(E)},S.isAfter=function(T,E){return H(T)<this.startOf(E)},S.isBefore=function(T,E){return this.endOf(E)<H(T)},S.$g=function(T,E,N){return R.u(T)?this[E]:this.set(N,T)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(T,E){var N=this,I=!!R.u(E)||E,B=R.p(T),K=function(it,ut){var st=R.w(N.$u?Date.UTC(N.$y,ut,it):new Date(N.$y,ut,it),N);return I?st:st.endOf(m)},Z=function(it,ut){return R.w(N.toDate()[it].apply(N.toDate("s"),(I?[0,0,0,0]:[23,59,59,999]).slice(ut)),N)},nt=this.$W,$=this.$M,tt=this.$D,U="set"+(this.$u?"UTC":"");switch(B){case v:return I?K(1,0):K(31,11);case d:return I?K(1,$):K(0,$+1);case f:var L=this.$locale().weekStart||0,Q=(nt<L?nt+7:nt)-L;return K(I?tt-Q:tt+(6-Q),$);case m:case g:return Z(U+"Hours",0);case u:return Z(U+"Minutes",1);case n:return Z(U+"Seconds",2);case a:return Z(U+"Milliseconds",3);default:return this.clone()}},S.endOf=function(T){return this.startOf(T,!1)},S.$set=function(T,E){var N,I=R.p(T),B="set"+(this.$u?"UTC":""),K=(N={},N[m]=B+"Date",N[g]=B+"Date",N[d]=B+"Month",N[v]=B+"FullYear",N[u]=B+"Hours",N[n]=B+"Minutes",N[a]=B+"Seconds",N[h]=B+"Milliseconds",N)[I],Z=I===m?this.$D+(E-this.$W):E;if(I===d||I===v){var nt=this.clone().set(g,1);nt.$d[K](Z),nt.init(),this.$d=nt.set(g,Math.min(this.$D,nt.daysInMonth())).$d}else K&&this.$d[K](Z);return this.init(),this},S.set=function(T,E){return this.clone().$set(T,E)},S.get=function(T){return this[R.p(T)]()},S.add=function(T,E){var N,I=this;T=Number(T);var B=R.p(E),K=function($){var tt=H(I);return R.w(tt.date(tt.date()+Math.round($*T)),I)};if(B===d)return this.set(d,this.$M+T);if(B===v)return this.set(v,this.$y+T);if(B===m)return K(1);if(B===f)return K(7);var Z=(N={},N[n]=o,N[u]=s,N[a]=1e3,N)[B]||1,nt=this.$d.getTime()+T*Z;return R.w(nt,this)},S.subtract=function(T,E){return this.add(-1*T,E)},S.format=function(T){var E=this,N=this.$locale();if(!this.isValid())return N.invalidDate||w;var I=T||"YYYY-MM-DDTHH:mm:ssZ",B=R.z(this),K=this.$H,Z=this.$m,nt=this.$M,$=N.weekdays,tt=N.months,U=N.meridiem,L=function(ut,st,lt,bt){return ut&&(ut[st]||ut(E,I))||lt[st].slice(0,bt)},Q=function(ut){return R.s(K%12||12,ut,"0")},it=U||function(ut,st,lt){var bt=ut<12?"AM":"PM";return lt?bt.toLowerCase():bt};return I.replace(A,(function(ut,st){return st||(function(lt){switch(lt){case"YY":return String(E.$y).slice(-2);case"YYYY":return R.s(E.$y,4,"0");case"M":return nt+1;case"MM":return R.s(nt+1,2,"0");case"MMM":return L(N.monthsShort,nt,tt,3);case"MMMM":return L(tt,nt);case"D":return E.$D;case"DD":return R.s(E.$D,2,"0");case"d":return String(E.$W);case"dd":return L(N.weekdaysMin,E.$W,$,2);case"ddd":return L(N.weekdaysShort,E.$W,$,3);case"dddd":return $[E.$W];case"H":return String(K);case"HH":return R.s(K,2,"0");case"h":return Q(1);case"hh":return Q(2);case"a":return it(K,Z,!0);case"A":return it(K,Z,!1);case"m":return String(Z);case"mm":return R.s(Z,2,"0");case"s":return String(E.$s);case"ss":return R.s(E.$s,2,"0");case"SSS":return R.s(E.$ms,3,"0");case"Z":return B}return null})(ut)||B.replace(":","")}))},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(T,E,N){var I,B=this,K=R.p(E),Z=H(T),nt=(Z.utcOffset()-this.utcOffset())*o,$=this-Z,tt=function(){return R.m(B,Z)};switch(K){case v:I=tt()/12;break;case d:I=tt();break;case b:I=tt()/3;break;case f:I=($-nt)/6048e5;break;case m:I=($-nt)/864e5;break;case u:I=$/s;break;case n:I=$/o;break;case a:I=$/1e3;break;default:I=$}return N?I:R.a(I)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return j[this.$L]},S.locale=function(T,E){if(!T)return this.$L;var N=this.clone(),I=X(T,E,!0);return I&&(N.$L=I),N},S.clone=function(){return R.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},x})(),k=P.prototype;return H.prototype=k,[["$ms",h],["$s",a],["$m",n],["$H",u],["$W",m],["$M",d],["$y",v],["$D",g]].forEach((function(x){k[x[1]]=function(S){return this.$g(S,x[0],x[1])}})),H.extend=function(x,S){return x.$i||(x(S,P,H),x.$i=!0),H},H.locale=X,H.isDayjs=G,H.unix=function(x){return H(1e3*x)},H.en=j[F],H.Ls=j,H.p={},H}))},{}],392:[function(t,i,c){(function(o,s){typeof c=="object"&&i!==void 0?i.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_customParseFormat=s()})(void 0,(function(){var o={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,h=/\d\d/,a=/\d\d?/,n=/\d*[^-_:/,()\s\d]+/,u={},m=function(_){return(_=+_)+(_>68?1900:2e3)},f=function(_){return function(A){this[_]=+A}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(_){(this.zone||(this.zone={})).offset=(function(A){if(!A||A==="Z")return 0;var M=A.match(/([+-]|\d\d)/g),O=60*M[1]+(+M[2]||0);return O===0?0:M[0]==="+"?-O:O})(_)}],b=function(_){var A=u[_];return A&&(A.indexOf?A:A.s.concat(A.f))},v=function(_,A){var M,O=u.meridiem;if(O){for(var q=1;q<=24;q+=1)if(_.indexOf(O(q,0,A))>-1){M=q>12;break}}else M=_===(A?"pm":"PM");return M},g={A:[n,function(_){this.afternoon=v(_,!1)}],a:[n,function(_){this.afternoon=v(_,!0)}],S:[/\d/,function(_){this.milliseconds=100*+_}],SS:[h,function(_){this.milliseconds=10*+_}],SSS:[/\d{3}/,function(_){this.milliseconds=+_}],s:[a,f("seconds")],ss:[a,f("seconds")],m:[a,f("minutes")],mm:[a,f("minutes")],H:[a,f("hours")],h:[a,f("hours")],HH:[a,f("hours")],hh:[a,f("hours")],D:[a,f("day")],DD:[h,f("day")],Do:[n,function(_){var A=u.ordinal,M=_.match(/\d+/);if(this.day=M[0],A)for(var O=1;O<=31;O+=1)A(O).replace(/\[|\]/g,"")===_&&(this.day=O)}],M:[a,f("month")],MM:[h,f("month")],MMM:[n,function(_){var A=b("months"),M=(b("monthsShort")||A.map((function(O){return O.slice(0,3)}))).indexOf(_)+1;if(M<1)throw new Error;this.month=M%12||M}],MMMM:[n,function(_){var A=b("months").indexOf(_)+1;if(A<1)throw new Error;this.month=A%12||A}],Y:[/[+-]?\d+/,f("year")],YY:[h,function(_){this.year=m(_)}],YYYY:[/\d{4}/,f("year")],Z:d,ZZ:d};function w(_){var A,M;A=_,M=u&&u.formats;for(var O=(_=A.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(H,R,P){var k=P&&P.toUpperCase();return R||M[P]||o[P]||M[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(x,S,T){return S||T.slice(1)}))}))).match(s),q=O.length,F=0;F<q;F+=1){var j=O[F],V=g[j],G=V&&V[0],X=V&&V[1];O[F]=X?{regex:G,parser:X}:j.replace(/^\[|\]$/g,"")}return function(H){for(var R={},P=0,k=0;P<q;P+=1){var x=O[P];if(typeof x=="string")k+=x.length;else{var S=x.regex,T=x.parser,E=H.slice(k),N=S.exec(E)[0];T.call(R,N),H=H.replace(N,"")}}return(function(I){var B=I.afternoon;if(B!==void 0){var K=I.hours;B?K<12&&(I.hours+=12):K===12&&(I.hours=0),delete I.afternoon}})(R),R}}return function(_,A,M){M.p.customParseFormat=!0,_&&_.parseTwoDigitYear&&(m=_.parseTwoDigitYear);var O=A.prototype,q=O.parse;O.parse=function(F){var j=F.date,V=F.utc,G=F.args;this.$u=V;var X=G[1];if(typeof X=="string"){var H=G[2]===!0,R=G[3]===!0,P=H||R,k=G[2];R&&(k=G[2]),u=this.$locale(),!H&&k&&(u=M.Ls[k]),this.$d=(function(E,N,I){try{if(["x","X"].indexOf(N)>-1)return new Date((N==="X"?1e3:1)*E);var B=w(N)(E),K=B.year,Z=B.month,nt=B.day,$=B.hours,tt=B.minutes,U=B.seconds,L=B.milliseconds,Q=B.zone,it=new Date,ut=nt||(K||Z?1:it.getDate()),st=K||it.getFullYear(),lt=0;K&&!Z||(lt=Z>0?Z-1:it.getMonth());var bt=$||0,yt=tt||0,at=U||0,pt=L||0;return Q?new Date(Date.UTC(st,lt,ut,bt,yt,at,pt+60*Q.offset*1e3)):I?new Date(Date.UTC(st,lt,ut,bt,yt,at,pt)):new Date(st,lt,ut,bt,yt,at,pt)}catch{return new Date("")}})(j,X,V),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),P&&j!=this.format(X)&&(this.$d=new Date("")),u={}}else if(X instanceof Array)for(var x=X.length,S=1;S<=x;S+=1){G[1]=X[S-1];var T=M.apply(this,G);if(T.isValid()){this.$d=T.$d,this.$L=T.$L,this.init();break}S===x&&(this.$d=new Date(""))}else q.call(this,F)}}}))},{}],393:[function(t,i,c){(function(o,s){typeof c=="object"&&i!==void 0?i.exports=s():(o=typeof globalThis<"u"?globalThis:o||self).dayjs_plugin_utc=s()})(void 0,(function(){var o="minute",s=/[+-]\d\d(?::?\d\d)?/g,h=/([+-]|\d\d)/g;return function(a,n,u){var m=n.prototype;u.utc=function(_){var A={date:_,utc:!0,args:arguments};return new n(A)},m.utc=function(_){var A=u(this.toDate(),{locale:this.$L,utc:!0});return _?A.add(this.utcOffset(),o):A},m.local=function(){return u(this.toDate(),{locale:this.$L,utc:!1})};var f=m.parse;m.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),f.call(this,_)};var d=m.init;m.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else d.call(this)};var b=m.utcOffset;m.utcOffset=function(_,A){var M=this.$utils().u;if(M(_))return this.$u?0:M(this.$offset)?b.call(this):this.$offset;if(typeof _=="string"&&(_=(function(j){j===void 0&&(j="");var V=j.match(s);if(!V)return null;var G=(""+V[0]).match(h)||["-",0,0],X=G[0],H=60*+G[1]+ +G[2];return H===0?0:X==="+"?H:-H})(_))===null)return this;var O=Math.abs(_)<=16?60*_:_,q=this;if(A)return q.$offset=O,q.$u=_===0,q;if(_!==0){var F=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(q=this.local().add(O+F,o)).$offset=O,q.$x.$localOffset=F}else q=this.utc();return q};var v=m.format;m.format=function(_){var A=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return v.call(this,A)},m.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var g=m.toDate;m.toDate=function(_){return _==="s"&&this.$offset?u(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():g.call(this)};var w=m.diff;m.diff=function(_,A,M){if(_&&this.$u===_.$u)return w.call(this,_,A,M);var O=this.local(),q=u(_).local();return w.call(O,q,A,M)}}}))},{}],394:[function(t,i,c){c.utils=t("./des/utils"),c.Cipher=t("./des/cipher"),c.DES=t("./des/des"),c.CBC=t("./des/cbc"),c.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,i,c){var o=t("minimalistic-assert"),s=t("inherits"),h={};function a(n){o.equal(n.length,8,"Invalid IV length"),this.iv=new Array(8);for(var u=0;u<this.iv.length;u++)this.iv[u]=n[u]}c.instantiate=function(n){function u(b){n.call(this,b),this._cbcInit()}s(u,n);for(var m=Object.keys(h),f=0;f<m.length;f++){var d=m[f];u.prototype[d]=h[d]}return u.create=function(b){return new u(b)},u},h._cbcInit=function(){var n=new a(this.options.iv);this._cbcState=n},h._update=function(n,u,m,f){var d=this._cbcState,b=this.constructor.super_.prototype,v=d.iv;if(this.type==="encrypt"){for(var g=0;g<this.blockSize;g++)v[g]^=n[u+g];for(b._update.call(this,v,0,m,f),g=0;g<this.blockSize;g++)v[g]=m[f+g]}else{for(b._update.call(this,n,u,m,f),g=0;g<this.blockSize;g++)m[f+g]^=v[g];for(g=0;g<this.blockSize;g++)v[g]=n[u+g]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,i,c){var o=t("minimalistic-assert");function s(h){this.options=h,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=h.padding!==!1}i.exports=s,s.prototype._init=function(){},s.prototype.update=function(h){return h.length===0?[]:this.type==="decrypt"?this._updateDecrypt(h):this._updateEncrypt(h)},s.prototype._buffer=function(h,a){for(var n=Math.min(this.buffer.length-this.bufferOff,h.length-a),u=0;u<n;u++)this.buffer[this.bufferOff+u]=h[a+u];return this.bufferOff+=n,n},s.prototype._flushBuffer=function(h,a){return this._update(this.buffer,0,h,a),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(h){var a=0,n=0,u=(this.bufferOff+h.length)/this.blockSize|0,m=new Array(u*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(h,a),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(m,n)));for(var f=h.length-(h.length-a)%this.blockSize;a<f;a+=this.blockSize)this._update(h,a,m,n),n+=this.blockSize;for(;a<h.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=h[a];return m},s.prototype._updateDecrypt=function(h){for(var a=0,n=0,u=Math.ceil((this.bufferOff+h.length)/this.blockSize)-1,m=new Array(u*this.blockSize);u>0;u--)a+=this._buffer(h,a),n+=this._flushBuffer(m,n);return a+=this._buffer(h,a),m},s.prototype.final=function(h){var a,n;return h&&(a=this.update(h)),n=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),a?a.concat(n):n},s.prototype._pad=function(h,a){if(a===0)return!1;for(;a<h.length;)h[a++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var h=new Array(this.blockSize);return this._update(this.buffer,0,h,0),h},s.prototype._unpad=function(h){return h},s.prototype._finalDecrypt=function(){o.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var h=new Array(this.blockSize);return this._flushBuffer(h,0),this._unpad(h)}},{"minimalistic-assert":453}],397:[function(t,i,c){var o=t("minimalistic-assert"),s=t("inherits"),h=t("./utils"),a=t("./cipher");function n(){this.tmp=new Array(2),this.keys=null}function u(f){a.call(this,f);var d=new n;this._desState=d,this.deriveKeys(d,f.key)}s(u,a),i.exports=u,u.create=function(f){return new u(f)};var m=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(f,d){f.keys=new Array(32),o.equal(d.length,this.blockSize,"Invalid key length");var b=h.readUInt32BE(d,0),v=h.readUInt32BE(d,4);h.pc1(b,v,f.tmp,0),b=f.tmp[0],v=f.tmp[1];for(var g=0;g<f.keys.length;g+=2){var w=m[g>>>1];b=h.r28shl(b,w),v=h.r28shl(v,w),h.pc2(b,v,f.keys,g)}},u.prototype._update=function(f,d,b,v){var g=this._desState,w=h.readUInt32BE(f,d),_=h.readUInt32BE(f,d+4);h.ip(w,_,g.tmp,0),w=g.tmp[0],_=g.tmp[1],this.type==="encrypt"?this._encrypt(g,w,_,g.tmp,0):this._decrypt(g,w,_,g.tmp,0),w=g.tmp[0],_=g.tmp[1],h.writeUInt32BE(b,w,v),h.writeUInt32BE(b,_,v+4)},u.prototype._pad=function(f,d){if(this.padding===!1)return!1;for(var b=f.length-d,v=d;v<f.length;v++)f[v]=b;return!0},u.prototype._unpad=function(f){if(this.padding===!1)return f;for(var d=f[f.length-1],b=f.length-d;b<f.length;b++)o.equal(f[b],d);return f.slice(0,f.length-d)},u.prototype._encrypt=function(f,d,b,v,g){for(var w=d,_=b,A=0;A<f.keys.length;A+=2){var M=f.keys[A],O=f.keys[A+1];h.expand(_,f.tmp,0),M^=f.tmp[0],O^=f.tmp[1];var q=h.substitute(M,O),F=_;_=(w^h.permute(q))>>>0,w=F}h.rip(_,w,v,g)},u.prototype._decrypt=function(f,d,b,v,g){for(var w=b,_=d,A=f.keys.length-2;A>=0;A-=2){var M=f.keys[A],O=f.keys[A+1];h.expand(w,f.tmp,0),M^=f.tmp[0],O^=f.tmp[1];var q=h.substitute(M,O),F=w;w=(_^h.permute(q))>>>0,_=F}h.rip(w,_,v,g)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,i,c){var o=t("minimalistic-assert"),s=t("inherits"),h=t("./cipher"),a=t("./des");function n(m,f){o.equal(f.length,24,"Invalid key length");var d=f.slice(0,8),b=f.slice(8,16),v=f.slice(16,24);this.ciphers=m==="encrypt"?[a.create({type:"encrypt",key:d}),a.create({type:"decrypt",key:b}),a.create({type:"encrypt",key:v})]:[a.create({type:"decrypt",key:v}),a.create({type:"encrypt",key:b}),a.create({type:"decrypt",key:d})]}function u(m){h.call(this,m);var f=new n(this.type,this.options.key);this._edeState=f}s(u,h),i.exports=u,u.create=function(m){return new u(m)},u.prototype._update=function(m,f,d,b){var v=this._edeState;v.ciphers[0]._update(m,f,d,b),v.ciphers[1]._update(d,b,d,b),v.ciphers[2]._update(d,b,d,b)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,i,c){c.readUInt32BE=function(a,n){return(a[0+n]<<24|a[1+n]<<16|a[2+n]<<8|a[3+n])>>>0},c.writeUInt32BE=function(a,n,u){a[0+u]=n>>>24,a[1+u]=n>>>16&255,a[2+u]=n>>>8&255,a[3+u]=255&n},c.ip=function(a,n,u,m){for(var f=0,d=0,b=6;b>=0;b-=2){for(var v=0;v<=24;v+=8)f<<=1,f|=n>>>v+b&1;for(v=0;v<=24;v+=8)f<<=1,f|=a>>>v+b&1}for(b=6;b>=0;b-=2){for(v=1;v<=25;v+=8)d<<=1,d|=n>>>v+b&1;for(v=1;v<=25;v+=8)d<<=1,d|=a>>>v+b&1}u[m+0]=f>>>0,u[m+1]=d>>>0},c.rip=function(a,n,u,m){for(var f=0,d=0,b=0;b<4;b++)for(var v=24;v>=0;v-=8)f<<=1,f|=n>>>v+b&1,f<<=1,f|=a>>>v+b&1;for(b=4;b<8;b++)for(v=24;v>=0;v-=8)d<<=1,d|=n>>>v+b&1,d<<=1,d|=a>>>v+b&1;u[m+0]=f>>>0,u[m+1]=d>>>0},c.pc1=function(a,n,u,m){for(var f=0,d=0,b=7;b>=5;b--){for(var v=0;v<=24;v+=8)f<<=1,f|=n>>v+b&1;for(v=0;v<=24;v+=8)f<<=1,f|=a>>v+b&1}for(v=0;v<=24;v+=8)f<<=1,f|=n>>v+b&1;for(b=1;b<=3;b++){for(v=0;v<=24;v+=8)d<<=1,d|=n>>v+b&1;for(v=0;v<=24;v+=8)d<<=1,d|=a>>v+b&1}for(v=0;v<=24;v+=8)d<<=1,d|=a>>v+b&1;u[m+0]=f>>>0,u[m+1]=d>>>0},c.r28shl=function(a,n){return a<<n&268435455|a>>>28-n};var o=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];c.pc2=function(a,n,u,m){for(var f=0,d=0,b=o.length>>>1,v=0;v<b;v++)f<<=1,f|=a>>>o[v]&1;for(v=b;v<o.length;v++)d<<=1,d|=n>>>o[v]&1;u[m+0]=f>>>0,u[m+1]=d>>>0},c.expand=function(a,n,u){var m=0,f=0;m=(1&a)<<5|a>>>27;for(var d=23;d>=15;d-=4)m<<=6,m|=a>>>d&63;for(d=11;d>=3;d-=4)f|=a>>>d&63,f<<=6;f|=(31&a)<<1|a>>>31,n[u+0]=m>>>0,n[u+1]=f>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];c.substitute=function(a,n){for(var u=0,m=0;m<4;m++)u<<=4,u|=s[64*m+(a>>>18-6*m&63)];for(m=0;m<4;m++)u<<=4,u|=s[256+64*m+(n>>>18-6*m&63)];return u>>>0};var h=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];c.permute=function(a){for(var n=0,u=0;u<h.length;u++)n<<=1,n|=a>>>h[u]&1;return n>>>0},c.padSplit=function(a,n,u){for(var m=a.toString(2);m.length<n;)m="0"+m;for(var f=[],d=0;d<n;d+=u)f.push(m.slice(d,d+u));return f.join(" ")}},{}],400:[function(t,i,c){(function(o){(function(){var s=t("./lib/generatePrime"),h=t("./lib/primes.json"),a=t("./lib/dh"),n={binary:!0,hex:!0,base64:!0};c.DiffieHellmanGroup=c.createDiffieHellmanGroup=c.getDiffieHellman=function(u){var m=new o(h[u].prime,"hex"),f=new o(h[u].gen,"hex");return new a(m,f)},c.createDiffieHellman=c.DiffieHellman=function u(m,f,d,b){return o.isBuffer(f)||n[f]===void 0?u(m,"binary",f,d):(f=f||"binary",b=b||"binary",d=d||new o([2]),o.isBuffer(d)||(d=new o(d,b)),typeof m=="number"?new a(s(m,d),d,!0):(o.isBuffer(m)||(m=new o(m,f)),new a(m,d,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,i,c){(function(o){(function(){var s=t("bn.js"),h=new(t("miller-rabin")),a=new s(24),n=new s(11),u=new s(10),m=new s(3),f=new s(7),d=t("./generatePrime"),b=t("randombytes");function v(M,O){return O=O||"utf8",o.isBuffer(M)||(M=new o(M,O)),this._pub=new s(M),this}function g(M,O){return O=O||"utf8",o.isBuffer(M)||(M=new o(M,O)),this._priv=new s(M),this}i.exports=_;var w={};function _(M,O,q){this.setGenerator(O),this.__prime=new s(M),this._prime=s.mont(this.__prime),this._primeLen=M.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,q?(this.setPublicKey=v,this.setPrivateKey=g):this._primeCode=8}function A(M,O){var q=new o(M.toArray());return O?q.toString(O):q}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=(function(M,O){var q=O.toString("hex"),F=[q,M.toString(16)].join("_");if(F in w)return w[F];var j,V=0;if(M.isEven()||!d.simpleSieve||!d.fermatTest(M)||!h.test(M))return V+=1,V+=q==="02"||q==="05"?8:4,w[F]=V,V;switch(h.test(M.shrn(1))||(V+=2),q){case"02":M.mod(a).cmp(n)&&(V+=8);break;case"05":(j=M.mod(u)).cmp(m)&&j.cmp(f)&&(V+=8);break;default:V+=4}return w[F]=V,V})(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new s(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(M){var O=(M=(M=new s(M)).toRed(this._prime)).redPow(this._priv).fromRed(),q=new o(O.toArray()),F=this.getPrime();if(q.length<F.length){var j=new o(F.length-q.length);j.fill(0),q=o.concat([j,q])}return q},_.prototype.getPublicKey=function(M){return A(this._pub,M)},_.prototype.getPrivateKey=function(M){return A(this._priv,M)},_.prototype.getPrime=function(M){return A(this.__prime,M)},_.prototype.getGenerator=function(M){return A(this._gen,M)},_.prototype.setGenerator=function(M,O){return O=O||"utf8",o.isBuffer(M)||(M=new o(M,O)),this.__gen=M,this._gen=new s(M),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,i,c){var o=t("randombytes");i.exports=M,M.simpleSieve=_,M.fermatTest=A;var s=t("bn.js"),h=new s(24),a=new(t("miller-rabin")),n=new s(1),u=new s(2),m=new s(5),f=(new s(16),new s(8),new s(10)),d=new s(3),b=(new s(7),new s(11)),v=new s(4),g=(new s(12),null);function w(){if(g!==null)return g;var O=[];O[0]=2;for(var q=1,F=3;F<1048576;F+=2){for(var j=Math.ceil(Math.sqrt(F)),V=0;V<q&&O[V]<=j&&F%O[V]!=0;V++);q!==V&&O[V]<=j||(O[q++]=F)}return g=O,O}function _(O){for(var q=w(),F=0;F<q.length;F++)if(O.modn(q[F])===0)return O.cmpn(q[F])===0;return!0}function A(O){var q=s.mont(O);return u.toRed(q).redPow(O.subn(1)).fromRed().cmpn(1)===0}function M(O,q){if(O<16)return new s(q===2||q===5?[140,123]:[140,39]);var F,j;for(q=new s(q);;){for(F=new s(o(Math.ceil(O/8)));F.bitLength()>O;)F.ishrn(1);if(F.isEven()&&F.iadd(n),F.testn(1)||F.iadd(u),q.cmp(u)){if(!q.cmp(m))for(;F.mod(f).cmp(d);)F.iadd(v)}else for(;F.mod(h).cmp(b);)F.iadd(v);if(_(j=F.shrn(1))&&_(F)&&A(j)&&A(F)&&a.test(j)&&a.test(F))return F}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,i,c){i.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],405:[function(t,i,c){var o=c;o.version=t("../package.json").version,o.utils=t("./elliptic/utils"),o.rand=t("brorand"),o.curve=t("./elliptic/curve"),o.curves=t("./elliptic/curves"),o.ec=t("./elliptic/ec"),o.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,i,c){var o=t("bn.js"),s=t("../utils"),h=s.getNAF,a=s.getJSF,n=s.assert;function u(f,d){this.type=f,this.p=new o(d.p,16),this.red=d.prime?o.red(d.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=d.n&&new o(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var b=this.n&&this.p.div(this.n);!b||b.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function m(f,d){this.curve=f,this.type=d,this.precomputed=null}i.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(f,d){n(f.precomputed);var b=f._getDoubles(),v=h(d,1,this._bitLength),g=(1<<b.step+1)-(b.step%2==0?2:1);g/=3;var w,_,A=[];for(w=0;w<v.length;w+=b.step){_=0;for(var M=w+b.step-1;M>=w;M--)_=(_<<1)+v[M];A.push(_)}for(var O=this.jpoint(null,null,null),q=this.jpoint(null,null,null),F=g;F>0;F--){for(w=0;w<A.length;w++)(_=A[w])===F?q=q.mixedAdd(b.points[w]):_===-F&&(q=q.mixedAdd(b.points[w].neg()));O=O.add(q)}return O.toP()},u.prototype._wnafMul=function(f,d){var b=4,v=f._getNAFPoints(b);b=v.wnd;for(var g=v.points,w=h(d,b,this._bitLength),_=this.jpoint(null,null,null),A=w.length-1;A>=0;A--){for(var M=0;A>=0&&w[A]===0;A--)M++;if(A>=0&&M++,_=_.dblp(M),A<0)break;var O=w[A];n(O!==0),_=f.type==="affine"?O>0?_.mixedAdd(g[O-1>>1]):_.mixedAdd(g[-O-1>>1].neg()):O>0?_.add(g[O-1>>1]):_.add(g[-O-1>>1].neg())}return f.type==="affine"?_.toP():_},u.prototype._wnafMulAdd=function(f,d,b,v,g){var w,_,A,M=this._wnafT1,O=this._wnafT2,q=this._wnafT3,F=0;for(w=0;w<v;w++){var j=(A=d[w])._getNAFPoints(f);M[w]=j.wnd,O[w]=j.points}for(w=v-1;w>=1;w-=2){var V=w-1,G=w;if(M[V]===1&&M[G]===1){var X=[d[V],null,null,d[G]];d[V].y.cmp(d[G].y)===0?(X[1]=d[V].add(d[G]),X[2]=d[V].toJ().mixedAdd(d[G].neg())):d[V].y.cmp(d[G].y.redNeg())===0?(X[1]=d[V].toJ().mixedAdd(d[G]),X[2]=d[V].add(d[G].neg())):(X[1]=d[V].toJ().mixedAdd(d[G]),X[2]=d[V].toJ().mixedAdd(d[G].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],R=a(b[V],b[G]);for(F=Math.max(R[0].length,F),q[V]=new Array(F),q[G]=new Array(F),_=0;_<F;_++){var P=0|R[0][_],k=0|R[1][_];q[V][_]=H[3*(P+1)+(k+1)],q[G][_]=0,O[V]=X}}else q[V]=h(b[V],M[V],this._bitLength),q[G]=h(b[G],M[G],this._bitLength),F=Math.max(q[V].length,F),F=Math.max(q[G].length,F)}var x=this.jpoint(null,null,null),S=this._wnafT4;for(w=F;w>=0;w--){for(var T=0;w>=0;){var E=!0;for(_=0;_<v;_++)S[_]=0|q[_][w],S[_]!==0&&(E=!1);if(!E)break;T++,w--}if(w>=0&&T++,x=x.dblp(T),w<0)break;for(_=0;_<v;_++){var N=S[_];N!==0&&(N>0?A=O[_][N-1>>1]:N<0&&(A=O[_][-N-1>>1].neg()),x=A.type==="affine"?x.mixedAdd(A):x.add(A))}}for(w=0;w<v;w++)O[w]=null;return g?x:x.toP()},u.BasePoint=m,m.prototype.eq=function(){throw new Error("Not implemented")},m.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(f,d){f=s.toArray(f,d);var b=this.p.byteLength();if((f[0]===4||f[0]===6||f[0]===7)&&f.length-1==2*b)return f[0]===6?n(f[f.length-1]%2==0):f[0]===7&&n(f[f.length-1]%2==1),this.point(f.slice(1,1+b),f.slice(1+b,1+2*b));if((f[0]===2||f[0]===3)&&f.length-1===b)return this.pointFromX(f.slice(1,1+b),f[0]===3);throw new Error("Unknown point format")},m.prototype.encodeCompressed=function(f){return this.encode(f,!0)},m.prototype._encode=function(f){var d=this.curve.p.byteLength(),b=this.getX().toArray("be",d);return f?[this.getY().isEven()?2:3].concat(b):[4].concat(b,this.getY().toArray("be",d))},m.prototype.encode=function(f,d){return s.encode(this._encode(d),f)},m.prototype.precompute=function(f){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,f),d.beta=this._getBeta(),this.precomputed=d,this},m.prototype._hasDoubles=function(f){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((f.bitLength()+1)/d.step)},m.prototype._getDoubles=function(f,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var b=[this],v=this,g=0;g<d;g+=f){for(var w=0;w<f;w++)v=v.dbl();b.push(v)}return{step:f,points:b}},m.prototype._getNAFPoints=function(f){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],b=(1<<f)-1,v=b===1?null:this.dbl(),g=1;g<b;g++)d[g]=d[g-1].add(v);return{wnd:f,points:d}},m.prototype._getBeta=function(){return null},m.prototype.dblp=function(f){for(var d=this,b=0;b<f;b++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(t,i,c){var o=t("../utils"),s=t("bn.js"),h=t("inherits"),a=t("./base"),n=o.assert;function u(f){this.twisted=(0|f.a)!=1,this.mOneA=this.twisted&&(0|f.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",f),this.a=new s(f.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(f.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(f.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),n(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|f.c)==1}function m(f,d,b,v,g){a.BasePoint.call(this,f,"projective"),d===null&&b===null&&v===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(d,16),this.y=new s(b,16),this.z=v?new s(v,16):this.curve.one,this.t=g&&new s(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}h(u,a),i.exports=u,u.prototype._mulA=function(f){return this.mOneA?f.redNeg():this.a.redMul(f)},u.prototype._mulC=function(f){return this.oneC?f:this.c.redMul(f)},u.prototype.jpoint=function(f,d,b,v){return this.point(f,d,b,v)},u.prototype.pointFromX=function(f,d){(f=new s(f,16)).red||(f=f.toRed(this.red));var b=f.redSqr(),v=this.c2.redSub(this.a.redMul(b)),g=this.one.redSub(this.c2.redMul(this.d).redMul(b)),w=v.redMul(g.redInvm()),_=w.redSqrt();if(_.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");var A=_.fromRed().isOdd();return(d&&!A||!d&&A)&&(_=_.redNeg()),this.point(f,_)},u.prototype.pointFromY=function(f,d){(f=new s(f,16)).red||(f=f.toRed(this.red));var b=f.redSqr(),v=b.redSub(this.c2),g=b.redMul(this.d).redMul(this.c2).redSub(this.a),w=v.redMul(g.redInvm());if(w.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,f)}var _=w.redSqrt();if(_.redSqr().redSub(w).cmp(this.zero)!==0)throw new Error("invalid point");return _.fromRed().isOdd()!==d&&(_=_.redNeg()),this.point(_,f)},u.prototype.validate=function(f){if(f.isInfinity())return!0;f.normalize();var d=f.x.redSqr(),b=f.y.redSqr(),v=d.redMul(this.a).redAdd(b),g=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(b)));return v.cmp(g)===0},h(m,a.BasePoint),u.prototype.pointFromJSON=function(f){return m.fromJSON(this,f)},u.prototype.point=function(f,d,b,v){return new m(this,f,d,b,v)},m.fromJSON=function(f,d){return new m(f,d[0],d[1],d[2])},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},m.prototype._extDbl=function(){var f=this.x.redSqr(),d=this.y.redSqr(),b=this.z.redSqr();b=b.redIAdd(b);var v=this.curve._mulA(f),g=this.x.redAdd(this.y).redSqr().redISub(f).redISub(d),w=v.redAdd(d),_=w.redSub(b),A=v.redSub(d),M=g.redMul(_),O=w.redMul(A),q=g.redMul(A),F=_.redMul(w);return this.curve.point(M,O,F,q)},m.prototype._projDbl=function(){var f,d,b,v,g,w,_=this.x.redAdd(this.y).redSqr(),A=this.x.redSqr(),M=this.y.redSqr();if(this.curve.twisted){var O=(v=this.curve._mulA(A)).redAdd(M);this.zOne?(f=_.redSub(A).redSub(M).redMul(O.redSub(this.curve.two)),d=O.redMul(v.redSub(M)),b=O.redSqr().redSub(O).redSub(O)):(g=this.z.redSqr(),w=O.redSub(g).redISub(g),f=_.redSub(A).redISub(M).redMul(w),d=O.redMul(v.redSub(M)),b=O.redMul(w))}else v=A.redAdd(M),g=this.curve._mulC(this.z).redSqr(),w=v.redSub(g).redSub(g),f=this.curve._mulC(_.redISub(v)).redMul(w),d=this.curve._mulC(v).redMul(A.redISub(M)),b=v.redMul(w);return this.curve.point(f,d,b)},m.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},m.prototype._extAdd=function(f){var d=this.y.redSub(this.x).redMul(f.y.redSub(f.x)),b=this.y.redAdd(this.x).redMul(f.y.redAdd(f.x)),v=this.t.redMul(this.curve.dd).redMul(f.t),g=this.z.redMul(f.z.redAdd(f.z)),w=b.redSub(d),_=g.redSub(v),A=g.redAdd(v),M=b.redAdd(d),O=w.redMul(_),q=A.redMul(M),F=w.redMul(M),j=_.redMul(A);return this.curve.point(O,q,j,F)},m.prototype._projAdd=function(f){var d,b,v=this.z.redMul(f.z),g=v.redSqr(),w=this.x.redMul(f.x),_=this.y.redMul(f.y),A=this.curve.d.redMul(w).redMul(_),M=g.redSub(A),O=g.redAdd(A),q=this.x.redAdd(this.y).redMul(f.x.redAdd(f.y)).redISub(w).redISub(_),F=v.redMul(M).redMul(q);return this.curve.twisted?(d=v.redMul(O).redMul(_.redSub(this.curve._mulA(w))),b=M.redMul(O)):(d=v.redMul(O).redMul(_.redSub(w)),b=this.curve._mulC(M).redMul(O)),this.curve.point(F,d,b)},m.prototype.add=function(f){return this.isInfinity()?f:f.isInfinity()?this:this.curve.extended?this._extAdd(f):this._projAdd(f)},m.prototype.mul=function(f){return this._hasDoubles(f)?this.curve._fixedNafMul(this,f):this.curve._wnafMul(this,f)},m.prototype.mulAdd=function(f,d,b){return this.curve._wnafMulAdd(1,[this,d],[f,b],2,!1)},m.prototype.jmulAdd=function(f,d,b){return this.curve._wnafMulAdd(1,[this,d],[f,b],2,!0)},m.prototype.normalize=function(){if(this.zOne)return this;var f=this.z.redInvm();return this.x=this.x.redMul(f),this.y=this.y.redMul(f),this.t&&(this.t=this.t.redMul(f)),this.z=this.curve.one,this.zOne=!0,this},m.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},m.prototype.getX=function(){return this.normalize(),this.x.fromRed()},m.prototype.getY=function(){return this.normalize(),this.y.fromRed()},m.prototype.eq=function(f){return this===f||this.getX().cmp(f.getX())===0&&this.getY().cmp(f.getY())===0},m.prototype.eqXToP=function(f){var d=f.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var b=f.clone(),v=this.curve.redN.redMul(this.z);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(v),this.x.cmp(d)===0)return!0}},m.prototype.toP=m.prototype.normalize,m.prototype.mixedAdd=m.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,i,c){var o=c;o.base=t("./base"),o.short=t("./short"),o.mont=t("./mont"),o.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,i,c){var o=t("bn.js"),s=t("inherits"),h=t("./base"),a=t("../utils");function n(m){h.call(this,"mont",m),this.a=new o(m.a,16).toRed(this.red),this.b=new o(m.b,16).toRed(this.red),this.i4=new o(4).toRed(this.red).redInvm(),this.two=new o(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(m,f,d){h.BasePoint.call(this,m,"projective"),f===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new o(f,16),this.z=new o(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(n,h),i.exports=n,n.prototype.validate=function(m){var f=m.normalize().x,d=f.redSqr(),b=d.redMul(f).redAdd(d.redMul(this.a)).redAdd(f);return b.redSqrt().redSqr().cmp(b)===0},s(u,h.BasePoint),n.prototype.decodePoint=function(m,f){return this.point(a.toArray(m,f),1)},n.prototype.point=function(m,f){return new u(this,m,f)},n.prototype.pointFromJSON=function(m){return u.fromJSON(this,m)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(m,f){return new u(m,f[0],f[1]||m.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0},u.prototype.dbl=function(){var m=this.x.redAdd(this.z).redSqr(),f=this.x.redSub(this.z).redSqr(),d=m.redSub(f),b=m.redMul(f),v=d.redMul(f.redAdd(this.curve.a24.redMul(d)));return this.curve.point(b,v)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(m,f){var d=this.x.redAdd(this.z),b=this.x.redSub(this.z),v=m.x.redAdd(m.z),g=m.x.redSub(m.z).redMul(d),w=v.redMul(b),_=f.z.redMul(g.redAdd(w).redSqr()),A=f.x.redMul(g.redISub(w).redSqr());return this.curve.point(_,A)},u.prototype.mul=function(m){for(var f=m.clone(),d=this,b=this.curve.point(null,null),v=[];f.cmpn(0)!==0;f.iushrn(1))v.push(f.andln(1));for(var g=v.length-1;g>=0;g--)v[g]===0?(d=d.diffAdd(b,this),b=b.dbl()):(b=d.diffAdd(b,this),d=d.dbl());return b},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(m){return this.getX().cmp(m.getX())===0},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,i,c){var o=t("../utils"),s=t("bn.js"),h=t("inherits"),a=t("./base"),n=o.assert;function u(d){a.call(this,"short",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function m(d,b,v,g){a.BasePoint.call(this,d,"affine"),b===null&&v===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(b,16),this.y=new s(v,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(d,b,v,g){a.BasePoint.call(this,d,"jacobian"),b===null&&v===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(b,16),this.y=new s(v,16),this.z=new s(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}h(u,a),i.exports=u,u.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var b,v;if(d.beta)b=new s(d.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);b=(b=g[0].cmp(g[1])<0?g[0]:g[1]).toRed(this.red)}if(d.lambda)v=new s(d.lambda,16);else{var w=this._getEndoRoots(this.n);this.g.mul(w[0]).x.cmp(this.g.x.redMul(b))===0?v=w[0]:(v=w[1],n(this.g.mul(v).x.cmp(this.g.x.redMul(b))===0))}return{beta:b,lambda:v,basis:d.basis?d.basis.map((function(_){return{a:new s(_.a,16),b:new s(_.b,16)}})):this._getEndoBasis(v)}}},u.prototype._getEndoRoots=function(d){var b=d===this.p?this.red:s.mont(d),v=new s(2).toRed(b).redInvm(),g=v.redNeg(),w=new s(3).toRed(b).redNeg().redSqrt().redMul(v);return[g.redAdd(w).fromRed(),g.redSub(w).fromRed()]},u.prototype._getEndoBasis=function(d){for(var b,v,g,w,_,A,M,O,q,F=this.n.ushrn(Math.floor(this.n.bitLength()/2)),j=d,V=this.n.clone(),G=new s(1),X=new s(0),H=new s(0),R=new s(1),P=0;j.cmpn(0)!==0;){var k=V.div(j);O=V.sub(k.mul(j)),q=H.sub(k.mul(G));var x=R.sub(k.mul(X));if(!g&&O.cmp(F)<0)b=M.neg(),v=G,g=O.neg(),w=q;else if(g&&++P==2)break;M=O,V=j,j=O,H=G,G=q,R=X,X=x}_=O.neg(),A=q;var S=g.sqr().add(w.sqr());return _.sqr().add(A.sqr()).cmp(S)>=0&&(_=b,A=v),g.negative&&(g=g.neg(),w=w.neg()),_.negative&&(_=_.neg(),A=A.neg()),[{a:g,b:w},{a:_,b:A}]},u.prototype._endoSplit=function(d){var b=this.endo.basis,v=b[0],g=b[1],w=g.b.mul(d).divRound(this.n),_=v.b.neg().mul(d).divRound(this.n),A=w.mul(v.a),M=_.mul(g.a),O=w.mul(v.b),q=_.mul(g.b);return{k1:d.sub(A).sub(M),k2:O.add(q).neg()}},u.prototype.pointFromX=function(d,b){(d=new s(d,16)).red||(d=d.toRed(this.red));var v=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),g=v.redSqrt();if(g.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var w=g.fromRed().isOdd();return(b&&!w||!b&&w)&&(g=g.redNeg()),this.point(d,g)},u.prototype.validate=function(d){if(d.inf)return!0;var b=d.x,v=d.y,g=this.a.redMul(b),w=b.redSqr().redMul(b).redIAdd(g).redIAdd(this.b);return v.redSqr().redISub(w).cmpn(0)===0},u.prototype._endoWnafMulAdd=function(d,b,v){for(var g=this._endoWnafT1,w=this._endoWnafT2,_=0;_<d.length;_++){var A=this._endoSplit(b[_]),M=d[_],O=M._getBeta();A.k1.negative&&(A.k1.ineg(),M=M.neg(!0)),A.k2.negative&&(A.k2.ineg(),O=O.neg(!0)),g[2*_]=M,g[2*_+1]=O,w[2*_]=A.k1,w[2*_+1]=A.k2}for(var q=this._wnafMulAdd(1,g,w,2*_,v),F=0;F<2*_;F++)g[F]=null,w[F]=null;return q},h(m,a.BasePoint),u.prototype.point=function(d,b,v){return new m(this,d,b,v)},u.prototype.pointFromJSON=function(d,b){return m.fromJSON(this,d,b)},m.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var b=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var v=this.curve,g=function(w){return v.point(w.x.redMul(v.endo.beta),w.y)};d.beta=b,b.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(g)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(g)}}}return b}},m.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},m.fromJSON=function(d,b,v){typeof b=="string"&&(b=JSON.parse(b));var g=d.point(b[0],b[1],v);if(!b[2])return g;function w(A){return d.point(A[0],A[1],v)}var _=b[2];return g.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[g].concat(_.doubles.points.map(w))},naf:_.naf&&{wnd:_.naf.wnd,points:[g].concat(_.naf.points.map(w))}},g},m.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},m.prototype.isInfinity=function(){return this.inf},m.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var b=this.y.redSub(d.y);b.cmpn(0)!==0&&(b=b.redMul(this.x.redSub(d.x).redInvm()));var v=b.redSqr().redISub(this.x).redISub(d.x),g=b.redMul(this.x.redSub(v)).redISub(this.y);return this.curve.point(v,g)},m.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var b=this.curve.a,v=this.x.redSqr(),g=d.redInvm(),w=v.redAdd(v).redIAdd(v).redIAdd(b).redMul(g),_=w.redSqr().redISub(this.x.redAdd(this.x)),A=w.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,A)},m.prototype.getX=function(){return this.x.fromRed()},m.prototype.getY=function(){return this.y.fromRed()},m.prototype.mul=function(d){return d=new s(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},m.prototype.mulAdd=function(d,b,v){var g=[this,b],w=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(g,w):this.curve._wnafMulAdd(1,g,w,2)},m.prototype.jmulAdd=function(d,b,v){var g=[this,b],w=[d,v];return this.curve.endo?this.curve._endoWnafMulAdd(g,w,!0):this.curve._wnafMulAdd(1,g,w,2,!0)},m.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},m.prototype.neg=function(d){if(this.inf)return this;var b=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var v=this.precomputed,g=function(w){return w.neg()};b.precomputed={naf:v.naf&&{wnd:v.naf.wnd,points:v.naf.points.map(g)},doubles:v.doubles&&{step:v.doubles.step,points:v.doubles.points.map(g)}}}return b},m.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},h(f,a.BasePoint),u.prototype.jpoint=function(d,b,v){return new f(this,d,b,v)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),b=d.redSqr(),v=this.x.redMul(b),g=this.y.redMul(b).redMul(d);return this.curve.point(v,g)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var b=d.z.redSqr(),v=this.z.redSqr(),g=this.x.redMul(b),w=d.x.redMul(v),_=this.y.redMul(b.redMul(d.z)),A=d.y.redMul(v.redMul(this.z)),M=g.redSub(w),O=_.redSub(A);if(M.cmpn(0)===0)return O.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var q=M.redSqr(),F=q.redMul(M),j=g.redMul(q),V=O.redSqr().redIAdd(F).redISub(j).redISub(j),G=O.redMul(j.redISub(V)).redISub(_.redMul(F)),X=this.z.redMul(d.z).redMul(M);return this.curve.jpoint(V,G,X)},f.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var b=this.z.redSqr(),v=this.x,g=d.x.redMul(b),w=this.y,_=d.y.redMul(b).redMul(this.z),A=v.redSub(g),M=w.redSub(_);if(A.cmpn(0)===0)return M.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=A.redSqr(),q=O.redMul(A),F=v.redMul(O),j=M.redSqr().redIAdd(q).redISub(F).redISub(F),V=M.redMul(F.redISub(j)).redISub(w.redMul(q)),G=this.z.redMul(A);return this.curve.jpoint(j,V,G)},f.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var b;if(this.curve.zeroA||this.curve.threeA){var v=this;for(b=0;b<d;b++)v=v.dbl();return v}var g=this.curve.a,w=this.curve.tinv,_=this.x,A=this.y,M=this.z,O=M.redSqr().redSqr(),q=A.redAdd(A);for(b=0;b<d;b++){var F=_.redSqr(),j=q.redSqr(),V=j.redSqr(),G=F.redAdd(F).redIAdd(F).redIAdd(g.redMul(O)),X=_.redMul(j),H=G.redSqr().redISub(X.redAdd(X)),R=X.redISub(H),P=G.redMul(R);P=P.redIAdd(P).redISub(V);var k=q.redMul(M);b+1<d&&(O=O.redMul(V)),_=H,M=k,q=P}return this.curve.jpoint(_,q.redMul(w),M)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var d,b,v;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(g).redISub(_);A=A.redIAdd(A);var M=g.redAdd(g).redIAdd(g),O=M.redSqr().redISub(A).redISub(A),q=_.redIAdd(_);q=(q=q.redIAdd(q)).redIAdd(q),d=O,b=M.redMul(A.redISub(O)).redISub(q),v=this.y.redAdd(this.y)}else{var F=this.x.redSqr(),j=this.y.redSqr(),V=j.redSqr(),G=this.x.redAdd(j).redSqr().redISub(F).redISub(V);G=G.redIAdd(G);var X=F.redAdd(F).redIAdd(F),H=X.redSqr(),R=V.redIAdd(V);R=(R=R.redIAdd(R)).redIAdd(R),d=H.redISub(G).redISub(G),b=X.redMul(G.redISub(d)).redISub(R),v=(v=this.y.redMul(this.z)).redIAdd(v)}return this.curve.jpoint(d,b,v)},f.prototype._threeDbl=function(){var d,b,v;if(this.zOne){var g=this.x.redSqr(),w=this.y.redSqr(),_=w.redSqr(),A=this.x.redAdd(w).redSqr().redISub(g).redISub(_);A=A.redIAdd(A);var M=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),O=M.redSqr().redISub(A).redISub(A);d=O;var q=_.redIAdd(_);q=(q=q.redIAdd(q)).redIAdd(q),b=M.redMul(A.redISub(O)).redISub(q),v=this.y.redAdd(this.y)}else{var F=this.z.redSqr(),j=this.y.redSqr(),V=this.x.redMul(j),G=this.x.redSub(F).redMul(this.x.redAdd(F));G=G.redAdd(G).redIAdd(G);var X=V.redIAdd(V),H=(X=X.redIAdd(X)).redAdd(X);d=G.redSqr().redISub(H),v=this.y.redAdd(this.z).redSqr().redISub(j).redISub(F);var R=j.redSqr();R=(R=(R=R.redIAdd(R)).redIAdd(R)).redIAdd(R),b=G.redMul(X.redISub(d)).redISub(R)}return this.curve.jpoint(d,b,v)},f.prototype._dbl=function(){var d=this.curve.a,b=this.x,v=this.y,g=this.z,w=g.redSqr().redSqr(),_=b.redSqr(),A=v.redSqr(),M=_.redAdd(_).redIAdd(_).redIAdd(d.redMul(w)),O=b.redAdd(b),q=(O=O.redIAdd(O)).redMul(A),F=M.redSqr().redISub(q.redAdd(q)),j=q.redISub(F),V=A.redSqr();V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var G=M.redMul(j).redISub(V),X=v.redAdd(v).redMul(g);return this.curve.jpoint(F,G,X)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),b=this.y.redSqr(),v=this.z.redSqr(),g=b.redSqr(),w=d.redAdd(d).redIAdd(d),_=w.redSqr(),A=this.x.redAdd(b).redSqr().redISub(d).redISub(g),M=(A=(A=(A=A.redIAdd(A)).redAdd(A).redIAdd(A)).redISub(_)).redSqr(),O=g.redIAdd(g);O=(O=(O=O.redIAdd(O)).redIAdd(O)).redIAdd(O);var q=w.redIAdd(A).redSqr().redISub(_).redISub(M).redISub(O),F=b.redMul(q);F=(F=F.redIAdd(F)).redIAdd(F);var j=this.x.redMul(M).redISub(F);j=(j=j.redIAdd(j)).redIAdd(j);var V=this.y.redMul(q.redMul(O.redISub(q)).redISub(A.redMul(M)));V=(V=(V=V.redIAdd(V)).redIAdd(V)).redIAdd(V);var G=this.z.redAdd(A).redSqr().redISub(v).redISub(M);return this.curve.jpoint(j,V,G)},f.prototype.mul=function(d,b){return d=new s(d,b),this.curve._wnafMul(this,d)},f.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var b=this.z.redSqr(),v=d.z.redSqr();if(this.x.redMul(v).redISub(d.x.redMul(b)).cmpn(0)!==0)return!1;var g=b.redMul(this.z),w=v.redMul(d.z);return this.y.redMul(w).redISub(d.y.redMul(g)).cmpn(0)===0},f.prototype.eqXToP=function(d){var b=this.z.redSqr(),v=d.toRed(this.curve.red).redMul(b);if(this.x.cmp(v)===0)return!0;for(var g=d.clone(),w=this.curve.redN.redMul(b);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(v.redIAdd(w),this.x.cmp(v)===0)return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,i,c){var o,s=c,h=t("hash.js"),a=t("./curve"),n=t("./utils").assert;function u(f){f.type==="short"?this.curve=new a.short(f):f.type==="edwards"?this.curve=new a.edwards(f):this.curve=new a.mont(f),this.g=this.curve.g,this.n=this.curve.n,this.hash=f.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function m(f,d){Object.defineProperty(s,f,{configurable:!0,enumerable:!0,get:function(){var b=new u(d);return Object.defineProperty(s,f,{configurable:!0,enumerable:!0,value:b}),b}})}s.PresetCurve=u,m("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:h.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),m("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:h.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),m("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:h.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),m("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:h.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),m("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:h.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),m("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["9"]}),m("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:h.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{o=t("./precomputed/secp256k1")}catch{o=void 0}m("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:h.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,i,c){var o=t("bn.js"),s=t("hmac-drbg"),h=t("../utils"),a=t("../curves"),n=t("brorand"),u=h.assert,m=t("./key"),f=t("./signature");function d(b){if(!(this instanceof d))return new d(b);typeof b=="string"&&(u(Object.prototype.hasOwnProperty.call(a,b),"Unknown curve "+b),b=a[b]),b instanceof a.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}i.exports=d,d.prototype.keyPair=function(b){return new m(this,b)},d.prototype.keyFromPrivate=function(b,v){return m.fromPrivate(this,b,v)},d.prototype.keyFromPublic=function(b,v){return m.fromPublic(this,b,v)},d.prototype.genKeyPair=function(b){b||(b={});for(var v=new s({hash:this.hash,pers:b.pers,persEnc:b.persEnc||"utf8",entropy:b.entropy||n(this.hash.hmacStrength),entropyEnc:b.entropy&&b.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),w=this.n.sub(new o(2));;){var _=new o(v.generate(g));if(!(_.cmp(w)>0))return _.iaddn(1),this.keyFromPrivate(_)}},d.prototype._truncateToN=function(b,v){var g=8*b.byteLength()-this.n.bitLength();return g>0&&(b=b.ushrn(g)),!v&&b.cmp(this.n)>=0?b.sub(this.n):b},d.prototype.sign=function(b,v,g,w){typeof g=="object"&&(w=g,g=null),w||(w={}),v=this.keyFromPrivate(v,g),b=this._truncateToN(new o(b,16));for(var _=this.n.byteLength(),A=v.getPrivate().toArray("be",_),M=b.toArray("be",_),O=new s({hash:this.hash,entropy:A,nonce:M,pers:w.pers,persEnc:w.persEnc||"utf8"}),q=this.n.sub(new o(1)),F=0;;F++){var j=w.k?w.k(F):new o(O.generate(this.n.byteLength()));if(!((j=this._truncateToN(j,!0)).cmpn(1)<=0||j.cmp(q)>=0)){var V=this.g.mul(j);if(!V.isInfinity()){var G=V.getX(),X=G.umod(this.n);if(X.cmpn(0)!==0){var H=j.invm(this.n).mul(X.mul(v.getPrivate()).iadd(b));if((H=H.umod(this.n)).cmpn(0)!==0){var R=(V.getY().isOdd()?1:0)|(G.cmp(X)!==0?2:0);return w.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),R^=1),new f({r:X,s:H,recoveryParam:R})}}}}}},d.prototype.verify=function(b,v,g,w){b=this._truncateToN(new o(b,16)),g=this.keyFromPublic(g,w);var _=(v=new f(v,"hex")).r,A=v.s;if(_.cmpn(1)<0||_.cmp(this.n)>=0||A.cmpn(1)<0||A.cmp(this.n)>=0)return!1;var M,O=A.invm(this.n),q=O.mul(b).umod(this.n),F=O.mul(_).umod(this.n);return this.curve._maxwellTrick?!(M=this.g.jmulAdd(q,g.getPublic(),F)).isInfinity()&&M.eqXToP(_):!(M=this.g.mulAdd(q,g.getPublic(),F)).isInfinity()&&M.getX().umod(this.n).cmp(_)===0},d.prototype.recoverPubKey=function(b,v,g,w){u((3&g)===g,"The recovery param is more than two bits"),v=new f(v,w);var _=this.n,A=new o(b),M=v.r,O=v.s,q=1&g,F=g>>1;if(M.cmp(this.curve.p.umod(this.curve.n))>=0&&F)throw new Error("Unable to find sencond key candinate");M=F?this.curve.pointFromX(M.add(this.curve.n),q):this.curve.pointFromX(M,q);var j=v.r.invm(_),V=_.sub(A).mul(j).umod(_),G=O.mul(j).umod(_);return this.g.mulAdd(V,M,G)},d.prototype.getKeyRecoveryParam=function(b,v,g,w){if((v=new f(v,w)).recoveryParam!==null)return v.recoveryParam;for(var _=0;_<4;_++){var A;try{A=this.recoverPubKey(b,v,_)}catch{continue}if(A.eq(g))return _}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,i,c){var o=t("bn.js"),s=t("../utils").assert;function h(a,n){this.ec=a,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}i.exports=h,h.fromPublic=function(a,n,u){return n instanceof h?n:new h(a,{pub:n,pubEnc:u})},h.fromPrivate=function(a,n,u){return n instanceof h?n:new h(a,{priv:n,privEnc:u})},h.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},h.prototype.getPublic=function(a,n){return typeof a=="string"&&(n=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),n?this.pub.encode(n,a):this.pub},h.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},h.prototype._importPrivate=function(a,n){this.priv=new o(a,n||16),this.priv=this.priv.umod(this.ec.curve.n)},h.prototype._importPublic=function(a,n){if(a.x||a.y)return this.ec.curve.type==="mont"?s(a.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(a.x&&a.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(a.x,a.y));this.pub=this.ec.curve.decodePoint(a,n)},h.prototype.derive=function(a){return a.validate()||s(a.validate(),"public point not validated"),a.mul(this.priv).getX()},h.prototype.sign=function(a,n,u){return this.ec.sign(a,this,n,u)},h.prototype.verify=function(a,n){return this.ec.verify(a,n,this)},h.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,i,c){var o=t("bn.js"),s=t("../utils"),h=s.assert;function a(d,b){if(d instanceof a)return d;this._importDER(d,b)||(h(d.r&&d.s,"Signature without r or s"),this.r=new o(d.r,16),this.s=new o(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function n(){this.place=0}function u(d,b){var v=d[b.place++];if(!(128&v))return v;var g=15&v;if(g===0||g>4)return!1;for(var w=0,_=0,A=b.place;_<g;_++,A++)w<<=8,w|=d[A],w>>>=0;return!(w<=127)&&(b.place=A,w)}function m(d){for(var b=0,v=d.length-1;!d[b]&&!(128&d[b+1])&&b<v;)b++;return b===0?d:d.slice(b)}function f(d,b){if(b<128)d.push(b);else{var v=1+(Math.log(b)/Math.LN2>>>3);for(d.push(128|v);--v;)d.push(b>>>(v<<3)&255);d.push(b)}}i.exports=a,a.prototype._importDER=function(d,b){d=s.toArray(d,b);var v=new n;if(d[v.place++]!==48)return!1;var g=u(d,v);if(g===!1||g+v.place!==d.length||d[v.place++]!==2)return!1;var w=u(d,v);if(w===!1)return!1;var _=d.slice(v.place,w+v.place);if(v.place+=w,d[v.place++]!==2)return!1;var A=u(d,v);if(A===!1||d.length!==A+v.place)return!1;var M=d.slice(v.place,A+v.place);if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}if(M[0]===0){if(!(128&M[1]))return!1;M=M.slice(1)}return this.r=new o(_),this.s=new o(M),this.recoveryParam=null,!0},a.prototype.toDER=function(d){var b=this.r.toArray(),v=this.s.toArray();for(128&b[0]&&(b=[0].concat(b)),128&v[0]&&(v=[0].concat(v)),b=m(b),v=m(v);!(v[0]||128&v[1]);)v=v.slice(1);var g=[2];f(g,b.length),(g=g.concat(b)).push(2),f(g,v.length);var w=g.concat(v),_=[48];return f(_,w.length),_=_.concat(w),s.encode(_,d)}},{"../utils":419,"bn.js":420}],415:[function(t,i,c){var o=t("hash.js"),s=t("../curves"),h=t("../utils"),a=h.assert,n=h.parseBytes,u=t("./key"),m=t("./signature");function f(d){if(a(d==="ed25519","only tested with ed25519 so far"),!(this instanceof f))return new f(d);d=s[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=o.sha512}i.exports=f,f.prototype.sign=function(d,b){d=n(d);var v=this.keyFromSecret(b),g=this.hashInt(v.messagePrefix(),d),w=this.g.mul(g),_=this.encodePoint(w),A=this.hashInt(_,v.pubBytes(),d).mul(v.priv()),M=g.add(A).umod(this.curve.n);return this.makeSignature({R:w,S:M,Rencoded:_})},f.prototype.verify=function(d,b,v){d=n(d),b=this.makeSignature(b);var g=this.keyFromPublic(v),w=this.hashInt(b.Rencoded(),g.pubBytes(),d),_=this.g.mul(b.S());return b.R().add(g.pub().mul(w)).eq(_)},f.prototype.hashInt=function(){for(var d=this.hash(),b=0;b<arguments.length;b++)d.update(arguments[b]);return h.intFromLE(d.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(d){return u.fromPublic(this,d)},f.prototype.keyFromSecret=function(d){return u.fromSecret(this,d)},f.prototype.makeSignature=function(d){return d instanceof m?d:new m(this,d)},f.prototype.encodePoint=function(d){var b=d.getY().toArray("le",this.encodingLength);return b[this.encodingLength-1]|=d.getX().isOdd()?128:0,b},f.prototype.decodePoint=function(d){var b=(d=h.parseBytes(d)).length-1,v=d.slice(0,b).concat(-129&d[b]),g=(128&d[b])!=0,w=h.intFromLE(v);return this.curve.pointFromY(w,g)},f.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(d){return h.intFromLE(d)},f.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,i,c){var o=t("../utils"),s=o.assert,h=o.parseBytes,a=o.cachedProperty;function n(u,m){this.eddsa=u,this._secret=h(m.secret),u.isPoint(m.pub)?this._pub=m.pub:this._pubBytes=h(m.pub)}n.fromPublic=function(u,m){return m instanceof n?m:new n(u,{pub:m})},n.fromSecret=function(u,m){return m instanceof n?m:new n(u,{secret:m})},n.prototype.secret=function(){return this._secret},a(n,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(n,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(n,"privBytes",(function(){var u=this.eddsa,m=this.hash(),f=u.encodingLength-1,d=m.slice(0,u.encodingLength);return d[0]&=248,d[f]&=127,d[f]|=64,d})),a(n,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(n,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(n,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),n.prototype.sign=function(u){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(u,this)},n.prototype.verify=function(u,m){return this.eddsa.verify(u,m,this)},n.prototype.getSecret=function(u){return s(this._secret,"KeyPair is public only"),o.encode(this.secret(),u)},n.prototype.getPublic=function(u){return o.encode(this.pubBytes(),u)},i.exports=n},{"../utils":419}],417:[function(t,i,c){var o=t("bn.js"),s=t("../utils"),h=s.assert,a=s.cachedProperty,n=s.parseBytes;function u(m,f){this.eddsa=m,typeof f!="object"&&(f=n(f)),Array.isArray(f)&&(f={R:f.slice(0,m.encodingLength),S:f.slice(m.encodingLength)}),h(f.R&&f.S,"Signature without R or S"),m.isPoint(f.R)&&(this._R=f.R),f.S instanceof o&&(this._S=f.S),this._Rencoded=Array.isArray(f.R)?f.R:f.Rencoded,this._Sencoded=Array.isArray(f.S)?f.S:f.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},i.exports=u},{"../utils":419,"bn.js":420}],418:[function(t,i,c){i.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,i,c){var o=c,s=t("bn.js"),h=t("minimalistic-assert"),a=t("minimalistic-crypto-utils");o.assert=h,o.toArray=a.toArray,o.zero2=a.zero2,o.toHex=a.toHex,o.encode=a.encode,o.getNAF=function(n,u,m){var f=new Array(Math.max(n.bitLength(),m)+1);f.fill(0);for(var d=1<<u+1,b=n.clone(),v=0;v<f.length;v++){var g,w=b.andln(d-1);b.isOdd()?(g=w>(d>>1)-1?(d>>1)-w:w,b.isubn(g)):g=0,f[v]=g,b.iushrn(1)}return f},o.getJSF=function(n,u){var m=[[],[]];n=n.clone(),u=u.clone();for(var f,d=0,b=0;n.cmpn(-d)>0||u.cmpn(-b)>0;){var v,g,w=n.andln(3)+d&3,_=u.andln(3)+b&3;w===3&&(w=-1),_===3&&(_=-1),v=(1&w)==0?0:(f=n.andln(7)+d&7)!==3&&f!==5||_!==2?w:-w,m[0].push(v),g=(1&_)==0?0:(f=u.andln(7)+b&7)!==3&&f!==5||w!==2?_:-_,m[1].push(g),2*d===v+1&&(d=1-d),2*b===g+1&&(b=1-b),n.iushrn(1),u.iushrn(1)}return m},o.cachedProperty=function(n,u,m){var f="_"+u;n.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=m.call(this)}},o.parseBytes=function(n){return typeof n=="string"?o.toArray(n,"hex"):n},o.intFromLE=function(n){return new s(n,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],421:[function(t,i,c){i.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,i,c){var o=Object.create||function(j){var V=function(){};return V.prototype=j,new V},s=Object.keys||function(j){var V=[];for(var G in j)Object.prototype.hasOwnProperty.call(j,G)&&V.push(G);return G},h=Function.prototype.bind||function(j){var V=this;return function(){return V.apply(j,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var n,u=10;try{var m={};Object.defineProperty&&Object.defineProperty(m,"x",{value:0}),n=m.x===0}catch{n=!1}function f(j){return j._maxListeners===void 0?a.defaultMaxListeners:j._maxListeners}function d(j,V,G){if(V)j.call(G);else for(var X=j.length,H=F(j,X),R=0;R<X;++R)H[R].call(G)}function b(j,V,G,X){if(V)j.call(G,X);else for(var H=j.length,R=F(j,H),P=0;P<H;++P)R[P].call(G,X)}function v(j,V,G,X,H){if(V)j.call(G,X,H);else for(var R=j.length,P=F(j,R),k=0;k<R;++k)P[k].call(G,X,H)}function g(j,V,G,X,H,R){if(V)j.call(G,X,H,R);else for(var P=j.length,k=F(j,P),x=0;x<P;++x)k[x].call(G,X,H,R)}function w(j,V,G,X){if(V)j.apply(G,X);else for(var H=j.length,R=F(j,H),P=0;P<H;++P)R[P].apply(G,X)}function _(j,V,G,X){var H,R,P;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if((R=j._events)?(R.newListener&&(j.emit("newListener",V,G.listener?G.listener:G),R=j._events),P=R[V]):(R=j._events=o(null),j._eventsCount=0),P){if(typeof P=="function"?P=R[V]=X?[G,P]:[P,G]:X?P.unshift(G):P.push(G),!P.warned&&(H=f(j))&&H>0&&P.length>H){P.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(V)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=j,k.type=V,k.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else P=R[V]=G,++j._eventsCount;return j}function A(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var j=new Array(arguments.length),V=0;V<j.length;++V)j[V]=arguments[V];this.listener.apply(this.target,j)}}function M(j,V,G){var X={fired:!1,wrapFn:void 0,target:j,type:V,listener:G},H=h.call(A,X);return H.listener=G,X.wrapFn=H,H}function O(j,V,G){var X=j._events;if(!X)return[];var H=X[V];return H?typeof H=="function"?G?[H.listener||H]:[H]:G?(function(R){for(var P=new Array(R.length),k=0;k<P.length;++k)P[k]=R[k].listener||R[k];return P})(H):F(H,H.length):[]}function q(j){var V=this._events;if(V){var G=V[j];if(typeof G=="function")return 1;if(G)return G.length}return 0}function F(j,V){for(var G=new Array(V),X=0;X<V;++X)G[X]=j[X];return G}n?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(j){if(typeof j!="number"||j<0||j!=j)throw new TypeError('"defaultMaxListeners" must be a positive number');u=j}}):a.defaultMaxListeners=u,a.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(j){var V,G,X,H,R,P,k=j==="error";if(P=this._events)k=k&&P.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var x=new Error('Unhandled "error" event. ('+V+")");throw x.context=V,x}if(!(G=P[j]))return!1;var S=typeof G=="function";switch(X=arguments.length){case 1:d(G,S,this);break;case 2:b(G,S,this,arguments[1]);break;case 3:v(G,S,this,arguments[1],arguments[2]);break;case 4:g(G,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(X-1),R=1;R<X;R++)H[R-1]=arguments[R];w(G,S,this,H)}return!0},a.prototype.addListener=function(j,V){return _(this,j,V,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(j,V){return _(this,j,V,!0)},a.prototype.once=function(j,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,M(this,j,V)),this},a.prototype.prependOnceListener=function(j,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,M(this,j,V)),this},a.prototype.removeListener=function(j,V){var G,X,H,R,P;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(!(X=this._events))return this;if(!(G=X[j]))return this;if(G===V||G.listener===V)--this._eventsCount==0?this._events=o(null):(delete X[j],X.removeListener&&this.emit("removeListener",j,G.listener||V));else if(typeof G!="function"){for(H=-1,R=G.length-1;R>=0;R--)if(G[R]===V||G[R].listener===V){P=G[R].listener,H=R;break}if(H<0)return this;H===0?G.shift():(function(k,x){for(var S=x,T=S+1,E=k.length;T<E;S+=1,T+=1)k[S]=k[T];k.pop()})(G,H),G.length===1&&(X[j]=G[0]),X.removeListener&&this.emit("removeListener",j,P||V)}return this},a.prototype.removeAllListeners=function(j){var V,G,X;if(!(G=this._events))return this;if(!G.removeListener)return arguments.length===0?(this._events=o(null),this._eventsCount=0):G[j]&&(--this._eventsCount==0?this._events=o(null):delete G[j]),this;if(arguments.length===0){var H,R=s(G);for(X=0;X<R.length;++X)(H=R[X])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if(typeof(V=G[j])=="function")this.removeListener(j,V);else if(V)for(X=V.length-1;X>=0;X--)this.removeListener(j,V[X]);return this},a.prototype.listeners=function(j){return O(this,j,!0)},a.prototype.rawListeners=function(j){return O(this,j,!1)},a.listenerCount=function(j,V){return typeof j.listenerCount=="function"?j.listenerCount(V):q.call(j,V)},a.prototype.listenerCount=q,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("md5.js");i.exports=function(h,a,n,u){if(o.isBuffer(h)||(h=o.from(h,"binary")),a&&(o.isBuffer(a)||(a=o.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var m=n/8,f=o.alloc(m),d=o.alloc(u||0),b=o.alloc(0);m>0||u>0;){var v=new s;v.update(b),v.update(h),a&&v.update(a),b=v.digest();var g=0;if(m>0){var w=f.length-m;g=Math.min(m,b.length),b.copy(f,w,0,g),m-=g}if(g<b.length&&u>0){var _=d.length-u,A=Math.min(u,b.length-g);b.copy(d,_,g,g+A),u-=A}}return b.fill(0),{key:f,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.CsvParserStream=c.ParserOptions=c.parseFile=c.parseStream=c.parseString=c.parse=c.FormatterOptions=c.CsvFormatterStream=c.writeToPath=c.writeToString=c.writeToBuffer=c.writeToStream=c.write=c.format=void 0;var o=t("@fast-csv/format");Object.defineProperty(c,"format",{enumerable:!0,get:function(){return o.format}}),Object.defineProperty(c,"write",{enumerable:!0,get:function(){return o.write}}),Object.defineProperty(c,"writeToStream",{enumerable:!0,get:function(){return o.writeToStream}}),Object.defineProperty(c,"writeToBuffer",{enumerable:!0,get:function(){return o.writeToBuffer}}),Object.defineProperty(c,"writeToString",{enumerable:!0,get:function(){return o.writeToString}}),Object.defineProperty(c,"writeToPath",{enumerable:!0,get:function(){return o.writeToPath}}),Object.defineProperty(c,"CsvFormatterStream",{enumerable:!0,get:function(){return o.CsvFormatterStream}}),Object.defineProperty(c,"FormatterOptions",{enumerable:!0,get:function(){return o.FormatterOptions}});var s=t("@fast-csv/parse");Object.defineProperty(c,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(c,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(c,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(c,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(c,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(c,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("readable-stream").Transform;function h(a){s.call(this),this._block=o.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(h,s),h.prototype._transform=function(a,n,u){var m=null;try{this.update(a,n)}catch(f){m=f}u(m)},h.prototype._flush=function(a){var n=null;try{this.push(this.digest())}catch(u){n=u}a(n)},h.prototype.update=function(a,n){if((function(v,g){if(!o.isBuffer(v)&&typeof v!="string")throw new TypeError(g+" must be a string or a buffer")})(a,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(a)||(a=o.from(a,n));for(var u=this._block,m=0;this._blockOffset+a.length-m>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f++]=a[m++];this._update(),this._blockOffset=0}for(;m<a.length;)u[this._blockOffset++]=a[m++];for(var d=0,b=8*a.length;b>0;++d)this._length[d]+=b,(b=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*b);return this},h.prototype._update=function(){throw new Error("_update is not implemented")},h.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var n=this._digest();a!==void 0&&(n=n.toString(a)),this._block.fill(0),this._blockOffset=0;for(var u=0;u<4;++u)this._length[u]=0;return n},h.prototype._digest=function(){throw new Error("_digest is not implemented")},i.exports=h},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,i,c){var o=c;o.utils=t("./hash/utils"),o.common=t("./hash/common"),o.sha=t("./hash/sha"),o.ripemd=t("./hash/ripemd"),o.hmac=t("./hash/hmac"),o.sha1=o.sha.sha1,o.sha256=o.sha.sha256,o.sha224=o.sha.sha224,o.sha384=o.sha.sha384,o.sha512=o.sha.sha512,o.ripemd160=o.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,i,c){var o=t("./utils"),s=t("minimalistic-assert");function h(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}c.BlockHash=h,h.prototype.update=function(a,n){if(a=o.toArray(a,n),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var u=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-u,a.length),this.pending.length===0&&(this.pending=null),a=o.join32(a,0,a.length-u,this.endian);for(var m=0;m<a.length;m+=this._delta32)this._update(a,m,m+this._delta32)}return this},h.prototype.digest=function(a){return this.update(this._pad()),s(this.pending===null),this._digest(a)},h.prototype._pad=function(){var a=this.pendingTotal,n=this._delta8,u=n-(a+this.padLength)%n,m=new Array(u+this.padLength);m[0]=128;for(var f=1;f<u;f++)m[f]=0;if(a<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)m[f++]=0;m[f++]=0,m[f++]=0,m[f++]=0,m[f++]=0,m[f++]=a>>>24&255,m[f++]=a>>>16&255,m[f++]=a>>>8&255,m[f++]=255&a}else for(m[f++]=255&a,m[f++]=a>>>8&255,m[f++]=a>>>16&255,m[f++]=a>>>24&255,m[f++]=0,m[f++]=0,m[f++]=0,m[f++]=0,d=8;d<this.padLength;d++)m[f++]=0;return m}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,i,c){var o=t("./utils"),s=t("minimalistic-assert");function h(a,n,u){if(!(this instanceof h))return new h(a,n,u);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(o.toArray(n,u))}i.exports=h,h.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),s(a.length<=this.blockSize);for(var n=a.length;n<this.blockSize;n++)a.push(0);for(n=0;n<a.length;n++)a[n]^=54;for(this.inner=new this.Hash().update(a),n=0;n<a.length;n++)a[n]^=106;this.outer=new this.Hash().update(a)},h.prototype.update=function(a,n){return this.inner.update(a,n),this},h.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,i,c){var o=t("./utils"),s=t("./common"),h=o.rotl32,a=o.sum32,n=o.sum32_3,u=o.sum32_4,m=s.BlockHash;function f(){if(!(this instanceof f))return new f;m.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(M,O,q,F){return M<=15?O^q^F:M<=31?O&q|~O&F:M<=47?(O|~q)^F:M<=63?O&F|q&~F:O^(q|~F)}function b(M){return M<=15?0:M<=31?1518500249:M<=47?1859775393:M<=63?2400959708:2840853838}function v(M){return M<=15?1352829926:M<=31?1548603684:M<=47?1836072691:M<=63?2053994217:0}o.inherits(f,m),c.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(M,O){for(var q=this.h[0],F=this.h[1],j=this.h[2],V=this.h[3],G=this.h[4],X=q,H=F,R=j,P=V,k=G,x=0;x<80;x++){var S=a(h(u(q,d(x,F,j,V),M[g[x]+O],b(x)),_[x]),G);q=G,G=V,V=h(j,10),j=F,F=S,S=a(h(u(X,d(79-x,H,R,P),M[w[x]+O],v(x)),A[x]),k),X=k,k=P,P=h(R,10),R=H,H=S}S=n(this.h[1],j,P),this.h[1]=n(this.h[2],V,k),this.h[2]=n(this.h[3],G,X),this.h[3]=n(this.h[4],q,H),this.h[4]=n(this.h[0],F,R),this.h[0]=S},f.prototype._digest=function(M){return M==="hex"?o.toHex32(this.h,"little"):o.split32(this.h,"little")};var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],w=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],A=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,i,c){c.sha1=t("./sha/1"),c.sha224=t("./sha/224"),c.sha256=t("./sha/256"),c.sha384=t("./sha/384"),c.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,i,c){var o=t("../utils"),s=t("../common"),h=t("./common"),a=o.rotl32,n=o.sum32,u=o.sum32_5,m=h.ft_1,f=s.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function b(){if(!(this instanceof b))return new b;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}o.inherits(b,f),i.exports=b,b.blockSize=512,b.outSize=160,b.hmacStrength=80,b.padLength=64,b.prototype._update=function(v,g){for(var w=this.W,_=0;_<16;_++)w[_]=v[g+_];for(;_<w.length;_++)w[_]=a(w[_-3]^w[_-8]^w[_-14]^w[_-16],1);var A=this.h[0],M=this.h[1],O=this.h[2],q=this.h[3],F=this.h[4];for(_=0;_<w.length;_++){var j=~~(_/20),V=u(a(A,5),m(j,M,O,q),F,w[_],d[j]);F=q,q=O,O=a(M,30),M=A,A=V}this.h[0]=n(this.h[0],A),this.h[1]=n(this.h[1],M),this.h[2]=n(this.h[2],O),this.h[3]=n(this.h[3],q),this.h[4]=n(this.h[4],F)},b.prototype._digest=function(v){return v==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,i,c){var o=t("../utils"),s=t("./256");function h(){if(!(this instanceof h))return new h;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}o.inherits(h,s),i.exports=h,h.blockSize=512,h.outSize=224,h.hmacStrength=192,h.padLength=64,h.prototype._digest=function(a){return a==="hex"?o.toHex32(this.h.slice(0,7),"big"):o.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,i,c){var o=t("../utils"),s=t("../common"),h=t("./common"),a=t("minimalistic-assert"),n=o.sum32,u=o.sum32_4,m=o.sum32_5,f=h.ch32,d=h.maj32,b=h.s0_256,v=h.s1_256,g=h.g0_256,w=h.g1_256,_=s.BlockHash,A=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function M(){if(!(this instanceof M))return new M;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=A,this.W=new Array(64)}o.inherits(M,_),i.exports=M,M.blockSize=512,M.outSize=256,M.hmacStrength=192,M.padLength=64,M.prototype._update=function(O,q){for(var F=this.W,j=0;j<16;j++)F[j]=O[q+j];for(;j<F.length;j++)F[j]=u(w(F[j-2]),F[j-7],g(F[j-15]),F[j-16]);var V=this.h[0],G=this.h[1],X=this.h[2],H=this.h[3],R=this.h[4],P=this.h[5],k=this.h[6],x=this.h[7];for(a(this.k.length===F.length),j=0;j<F.length;j++){var S=m(x,v(R),f(R,P,k),this.k[j],F[j]),T=n(b(V),d(V,G,X));x=k,k=P,P=R,R=n(H,S),H=X,X=G,G=V,V=n(S,T)}this.h[0]=n(this.h[0],V),this.h[1]=n(this.h[1],G),this.h[2]=n(this.h[2],X),this.h[3]=n(this.h[3],H),this.h[4]=n(this.h[4],R),this.h[5]=n(this.h[5],P),this.h[6]=n(this.h[6],k),this.h[7]=n(this.h[7],x)},M.prototype._digest=function(O){return O==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,i,c){var o=t("../utils"),s=t("./512");function h(){if(!(this instanceof h))return new h;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}o.inherits(h,s),i.exports=h,h.blockSize=1024,h.outSize=384,h.hmacStrength=192,h.padLength=128,h.prototype._digest=function(a){return a==="hex"?o.toHex32(this.h.slice(0,12),"big"):o.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,i,c){var o=t("../utils"),s=t("../common"),h=t("minimalistic-assert"),a=o.rotr64_hi,n=o.rotr64_lo,u=o.shr64_hi,m=o.shr64_lo,f=o.sum64,d=o.sum64_hi,b=o.sum64_lo,v=o.sum64_4_hi,g=o.sum64_4_lo,w=o.sum64_5_hi,_=o.sum64_5_lo,A=s.BlockHash,M=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function O(){if(!(this instanceof O))return new O;A.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=M,this.W=new Array(160)}function q(T,E,N,I,B){var K=T&N^~T&B;return K<0&&(K+=4294967296),K}function F(T,E,N,I,B,K){var Z=E&I^~E&K;return Z<0&&(Z+=4294967296),Z}function j(T,E,N,I,B){var K=T&N^T&B^N&B;return K<0&&(K+=4294967296),K}function V(T,E,N,I,B,K){var Z=E&I^E&K^I&K;return Z<0&&(Z+=4294967296),Z}function G(T,E){var N=a(T,E,28)^a(E,T,2)^a(E,T,7);return N<0&&(N+=4294967296),N}function X(T,E){var N=n(T,E,28)^n(E,T,2)^n(E,T,7);return N<0&&(N+=4294967296),N}function H(T,E){var N=a(T,E,14)^a(T,E,18)^a(E,T,9);return N<0&&(N+=4294967296),N}function R(T,E){var N=n(T,E,14)^n(T,E,18)^n(E,T,9);return N<0&&(N+=4294967296),N}function P(T,E){var N=a(T,E,1)^a(T,E,8)^u(T,E,7);return N<0&&(N+=4294967296),N}function k(T,E){var N=n(T,E,1)^n(T,E,8)^m(T,E,7);return N<0&&(N+=4294967296),N}function x(T,E){var N=a(T,E,19)^a(E,T,29)^u(T,E,6);return N<0&&(N+=4294967296),N}function S(T,E){var N=n(T,E,19)^n(E,T,29)^m(T,E,6);return N<0&&(N+=4294967296),N}o.inherits(O,A),i.exports=O,O.blockSize=1024,O.outSize=512,O.hmacStrength=192,O.padLength=128,O.prototype._prepareBlock=function(T,E){for(var N=this.W,I=0;I<32;I++)N[I]=T[E+I];for(;I<N.length;I+=2){var B=x(N[I-4],N[I-3]),K=S(N[I-4],N[I-3]),Z=N[I-14],nt=N[I-13],$=P(N[I-30],N[I-29]),tt=k(N[I-30],N[I-29]),U=N[I-32],L=N[I-31];N[I]=v(B,K,Z,nt,$,tt,U,L),N[I+1]=g(B,K,Z,nt,$,tt,U,L)}},O.prototype._update=function(T,E){this._prepareBlock(T,E);var N=this.W,I=this.h[0],B=this.h[1],K=this.h[2],Z=this.h[3],nt=this.h[4],$=this.h[5],tt=this.h[6],U=this.h[7],L=this.h[8],Q=this.h[9],it=this.h[10],ut=this.h[11],st=this.h[12],lt=this.h[13],bt=this.h[14],yt=this.h[15];h(this.k.length===N.length);for(var at=0;at<N.length;at+=2){var pt=bt,dt=yt,vt=H(L,Q),xt=R(L,Q),wt=q(L,Q,it,ut,st),jt=F(L,Q,it,ut,st,lt),It=this.k[at],Ht=this.k[at+1],ee=N[at],Qt=N[at+1],Kt=w(pt,dt,vt,xt,wt,jt,It,Ht,ee,Qt),be=_(pt,dt,vt,xt,wt,jt,It,Ht,ee,Qt);pt=G(I,B),dt=X(I,B),vt=j(I,B,K,Z,nt),xt=V(I,B,K,Z,nt,$);var fe=d(pt,dt,vt,xt),de=b(pt,dt,vt,xt);bt=st,yt=lt,st=it,lt=ut,it=L,ut=Q,L=d(tt,U,Kt,be),Q=b(U,U,Kt,be),tt=nt,U=$,nt=K,$=Z,K=I,Z=B,I=d(Kt,be,fe,de),B=b(Kt,be,fe,de)}f(this.h,0,I,B),f(this.h,2,K,Z),f(this.h,4,nt,$),f(this.h,6,tt,U),f(this.h,8,L,Q),f(this.h,10,it,ut),f(this.h,12,st,lt),f(this.h,14,bt,yt)},O.prototype._digest=function(T){return T==="hex"?o.toHex32(this.h,"big"):o.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,i,c){var o=t("../utils").rotr32;function s(n,u,m){return n&u^~n&m}function h(n,u,m){return n&u^n&m^u&m}function a(n,u,m){return n^u^m}c.ft_1=function(n,u,m,f){return n===0?s(u,m,f):n===1||n===3?a(u,m,f):n===2?h(u,m,f):void 0},c.ch32=s,c.maj32=h,c.p32=a,c.s0_256=function(n){return o(n,2)^o(n,13)^o(n,22)},c.s1_256=function(n){return o(n,6)^o(n,11)^o(n,25)},c.g0_256=function(n){return o(n,7)^o(n,18)^n>>>3},c.g1_256=function(n){return o(n,17)^o(n,19)^n>>>10}},{"../utils":437}],437:[function(t,i,c){var o=t("minimalistic-assert"),s=t("inherits");function h(m,f){return(64512&m.charCodeAt(f))==55296&&!(f<0||f+1>=m.length)&&(64512&m.charCodeAt(f+1))==56320}function a(m){return(m>>>24|m>>>8&65280|m<<8&16711680|(255&m)<<24)>>>0}function n(m){return m.length===1?"0"+m:m}function u(m){return m.length===7?"0"+m:m.length===6?"00"+m:m.length===5?"000"+m:m.length===4?"0000"+m:m.length===3?"00000"+m:m.length===2?"000000"+m:m.length===1?"0000000"+m:m}c.inherits=s,c.toArray=function(m,f){if(Array.isArray(m))return m.slice();if(!m)return[];var d=[];if(typeof m=="string")if(f){if(f==="hex")for((m=m.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(m="0"+m),v=0;v<m.length;v+=2)d.push(parseInt(m[v]+m[v+1],16))}else for(var b=0,v=0;v<m.length;v++){var g=m.charCodeAt(v);g<128?d[b++]=g:g<2048?(d[b++]=g>>6|192,d[b++]=63&g|128):h(m,v)?(g=65536+((1023&g)<<10)+(1023&m.charCodeAt(++v)),d[b++]=g>>18|240,d[b++]=g>>12&63|128,d[b++]=g>>6&63|128,d[b++]=63&g|128):(d[b++]=g>>12|224,d[b++]=g>>6&63|128,d[b++]=63&g|128)}else for(v=0;v<m.length;v++)d[v]=0|m[v];return d},c.toHex=function(m){for(var f="",d=0;d<m.length;d++)f+=n(m[d].toString(16));return f},c.htonl=a,c.toHex32=function(m,f){for(var d="",b=0;b<m.length;b++){var v=m[b];f==="little"&&(v=a(v)),d+=u(v.toString(16))}return d},c.zero2=n,c.zero8=u,c.join32=function(m,f,d,b){var v=d-f;o(v%4==0);for(var g=new Array(v/4),w=0,_=f;w<g.length;w++,_+=4){var A;A=b==="big"?m[_]<<24|m[_+1]<<16|m[_+2]<<8|m[_+3]:m[_+3]<<24|m[_+2]<<16|m[_+1]<<8|m[_],g[w]=A>>>0}return g},c.split32=function(m,f){for(var d=new Array(4*m.length),b=0,v=0;b<m.length;b++,v+=4){var g=m[b];f==="big"?(d[v]=g>>>24,d[v+1]=g>>>16&255,d[v+2]=g>>>8&255,d[v+3]=255&g):(d[v+3]=g>>>24,d[v+2]=g>>>16&255,d[v+1]=g>>>8&255,d[v]=255&g)}return d},c.rotr32=function(m,f){return m>>>f|m<<32-f},c.rotl32=function(m,f){return m<<f|m>>>32-f},c.sum32=function(m,f){return m+f>>>0},c.sum32_3=function(m,f,d){return m+f+d>>>0},c.sum32_4=function(m,f,d,b){return m+f+d+b>>>0},c.sum32_5=function(m,f,d,b,v){return m+f+d+b+v>>>0},c.sum64=function(m,f,d,b){var v=m[f],g=b+m[f+1]>>>0,w=(g<b?1:0)+d+v;m[f]=w>>>0,m[f+1]=g},c.sum64_hi=function(m,f,d,b){return(f+b>>>0<f?1:0)+m+d>>>0},c.sum64_lo=function(m,f,d,b){return f+b>>>0},c.sum64_4_hi=function(m,f,d,b,v,g,w,_){var A=0,M=f;return A+=(M=M+b>>>0)<f?1:0,A+=(M=M+g>>>0)<g?1:0,m+d+v+w+(A+=(M=M+_>>>0)<_?1:0)>>>0},c.sum64_4_lo=function(m,f,d,b,v,g,w,_){return f+b+g+_>>>0},c.sum64_5_hi=function(m,f,d,b,v,g,w,_,A,M){var O=0,q=f;return O+=(q=q+b>>>0)<f?1:0,O+=(q=q+g>>>0)<g?1:0,O+=(q=q+_>>>0)<_?1:0,m+d+v+w+A+(O+=(q=q+M>>>0)<M?1:0)>>>0},c.sum64_5_lo=function(m,f,d,b,v,g,w,_,A,M){return f+b+g+_+M>>>0},c.rotr64_hi=function(m,f,d){return(f<<32-d|m>>>d)>>>0},c.rotr64_lo=function(m,f,d){return(m<<32-d|f>>>d)>>>0},c.shr64_hi=function(m,f,d){return m>>>d},c.shr64_lo=function(m,f,d){return(m<<32-d|f>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,i,c){var o=t("hash.js"),s=t("minimalistic-crypto-utils"),h=t("minimalistic-assert");function a(n){if(!(this instanceof a))return new a(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var u=s.toArray(n.entropy,n.entropyEnc||"hex"),m=s.toArray(n.nonce,n.nonceEnc||"hex"),f=s.toArray(n.pers,n.persEnc||"hex");h(u.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(u,m,f)}i.exports=a,a.prototype._init=function(n,u,m){var f=n.concat(u).concat(m);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(f),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new o.hmac(this.hash,this.K)},a.prototype._update=function(n){var u=this._hmac().update(this.V).update([0]);n&&(u=u.update(n)),this.K=u.digest(),this.V=this._hmac().update(this.V).digest(),n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(n,u,m,f){typeof u!="string"&&(f=m,m=u,u=null),n=s.toArray(n,u),m=s.toArray(m,f),h(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(n.concat(m||[])),this._reseed=1},a.prototype.generate=function(n,u,m,f){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof u!="string"&&(f=m,m=u,u=null),m&&(m=s.toArray(m,f||"hex"),this._update(m));for(var d=[];d.length<n;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var b=d.slice(0,n);return this._update(m),this._reseed++,s.encode(b,u)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,i,c){c.read=function(o,s,h,a,n){var u,m,f=8*n-a-1,d=(1<<f)-1,b=d>>1,v=-7,g=h?n-1:0,w=h?-1:1,_=o[s+g];for(g+=w,u=_&(1<<-v)-1,_>>=-v,v+=f;v>0;u=256*u+o[s+g],g+=w,v-=8);for(m=u&(1<<-v)-1,u>>=-v,v+=a;v>0;m=256*m+o[s+g],g+=w,v-=8);if(u===0)u=1-b;else{if(u===d)return m?NaN:1/0*(_?-1:1);m+=Math.pow(2,a),u-=b}return(_?-1:1)*m*Math.pow(2,u-a)},c.write=function(o,s,h,a,n,u){var m,f,d,b=8*u-n-1,v=(1<<b)-1,g=v>>1,w=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=a?0:u-1,A=a?1:-1,M=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(f=isNaN(s)?1:0,m=v):(m=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-m))<1&&(m--,d*=2),(s+=m+g>=1?w/d:w*Math.pow(2,1-g))*d>=2&&(m++,d/=2),m+g>=v?(f=0,m=v):m+g>=1?(f=(s*d-1)*Math.pow(2,n),m+=g):(f=s*Math.pow(2,g-1)*Math.pow(2,n),m=0));n>=8;o[h+_]=255&f,_+=A,f/=256,n-=8);for(m=m<<n|f,b+=n;b>0;o[h+_]=255&m,_+=A,m/=256,b-=8);o[h+_-A]|=128*M}},{}],440:[function(t,i,c){typeof Object.create=="function"?i.exports=function(o,s){s&&(o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(o,s){if(s){o.super_=s;var h=function(){};h.prototype=s.prototype,o.prototype=new h,o.prototype.constructor=o}}},{}],441:[function(t,i,c){(function(o,s,h,a,n,u,m,f){(function(){(function(d){typeof c=="object"&&i!==void 0?i.exports=d():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=d()})((function(){return(function d(b,v,g){function w(M,O){if(!v[M]){if(!b[M]){var q=typeof t=="function"&&t;if(!O&&q)return q(M,!0);if(_)return _(M,!0);var F=new Error("Cannot find module '"+M+"'");throw F.code="MODULE_NOT_FOUND",F}var j=v[M]={exports:{}};b[M][0].call(j.exports,(function(V){return w(b[M][1][V]||V)}),j,j.exports,d,b,v,g)}return v[M].exports}for(var _=typeof t=="function"&&t,A=0;A<g.length;A++)w(g[A]);return w})({1:[function(d,b,v){var g=d("./utils"),w=d("./support"),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";v.encode=function(A){for(var M,O,q,F,j,V,G,X=[],H=0,R=A.length,P=R,k=g.getTypeOf(A)!=="string";H<A.length;)P=R-H,q=k?(M=A[H++],O=H<R?A[H++]:0,H<R?A[H++]:0):(M=A.charCodeAt(H++),O=H<R?A.charCodeAt(H++):0,H<R?A.charCodeAt(H++):0),F=M>>2,j=(3&M)<<4|O>>4,V=1<P?(15&O)<<2|q>>6:64,G=2<P?63&q:64,X.push(_.charAt(F)+_.charAt(j)+_.charAt(V)+_.charAt(G));return X.join("")},v.decode=function(A){var M,O,q,F,j,V,G=0,X=0,H="data:";if(A.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var R,P=3*(A=A.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(A.charAt(A.length-1)===_.charAt(64)&&P--,A.charAt(A.length-2)===_.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(R=w.uint8array?new Uint8Array(0|P):new Array(0|P);G<A.length;)M=_.indexOf(A.charAt(G++))<<2|(F=_.indexOf(A.charAt(G++)))>>4,O=(15&F)<<4|(j=_.indexOf(A.charAt(G++)))>>2,q=(3&j)<<6|(V=_.indexOf(A.charAt(G++))),R[X++]=M,j!==64&&(R[X++]=O),V!==64&&(R[X++]=q);return R}},{"./support":30,"./utils":32}],2:[function(d,b,v){var g=d("./external"),w=d("./stream/DataWorker"),_=d("./stream/Crc32Probe"),A=d("./stream/DataLengthProbe");function M(O,q,F,j,V){this.compressedSize=O,this.uncompressedSize=q,this.crc32=F,this.compression=j,this.compressedContent=V}M.prototype={getContentWorker:function(){var O=new w(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new A("data_length")),q=this;return O.on("end",(function(){if(this.streamInfo.data_length!==q.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),O},getCompressedWorker:function(){return new w(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},M.createWorkerFrom=function(O,q,F){return O.pipe(new _).pipe(new A("uncompressedSize")).pipe(q.compressWorker(F)).pipe(new A("compressedSize")).withStreamInfo("compression",q)},b.exports=M},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,b,v){var g=d("./stream/GenericWorker");v.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},v.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,b,v){var g=d("./utils"),w=(function(){for(var _,A=[],M=0;M<256;M++){_=M;for(var O=0;O<8;O++)_=1&_?3988292384^_>>>1:_>>>1;A[M]=_}return A})();b.exports=function(_,A){return _!==void 0&&_.length?g.getTypeOf(_)!=="string"?(function(M,O,q,F){var j=w,V=0+q;M^=-1;for(var G=0;G<V;G++)M=M>>>8^j[255&(M^O[G])];return-1^M})(0|A,_,_.length):(function(M,O,q,F){var j=w,V=0+q;M^=-1;for(var G=0;G<V;G++)M=M>>>8^j[255&(M^O.charCodeAt(G))];return-1^M})(0|A,_,_.length):0}},{"./utils":32}],5:[function(d,b,v){v.base64=!1,v.binary=!1,v.dir=!1,v.createFolders=!0,v.date=null,v.compression=null,v.compressionOptions=null,v.comment=null,v.unixPermissions=null,v.dosPermissions=null},{}],6:[function(d,b,v){var g;g=typeof Promise<"u"?Promise:d("lie"),b.exports={Promise:g}},{lie:37}],7:[function(d,b,v){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",w=d("pako"),_=d("./utils"),A=d("./stream/GenericWorker"),M=g?"uint8array":"array";function O(q,F){A.call(this,"FlateWorker/"+q),this._pako=null,this._pakoAction=q,this._pakoOptions=F,this.meta={}}v.magic="\b\0",_.inherits(O,A),O.prototype.processChunk=function(q){this.meta=q.meta,this._pako===null&&this._createPako(),this._pako.push(_.transformTo(M,q.data),!1)},O.prototype.flush=function(){A.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},O.prototype.cleanUp=function(){A.prototype.cleanUp.call(this),this._pako=null},O.prototype._createPako=function(){this._pako=new w[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var q=this;this._pako.onData=function(F){q.push({data:F,meta:q.meta})}},v.compressWorker=function(q){return new O("Deflate",q)},v.uncompressWorker=function(){return new O("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,b,v){function g(j,V){var G,X="";for(G=0;G<V;G++)X+=String.fromCharCode(255&j),j>>>=8;return X}function w(j,V,G,X,H,R){var P,k,x=j.file,S=j.compression,T=R!==M.utf8encode,E=_.transformTo("string",R(x.name)),N=_.transformTo("string",M.utf8encode(x.name)),I=x.comment,B=_.transformTo("string",R(I)),K=_.transformTo("string",M.utf8encode(I)),Z=N.length!==x.name.length,nt=K.length!==I.length,$="",tt="",U="",L=x.dir,Q=x.date,it={crc32:0,compressedSize:0,uncompressedSize:0};V&&!G||(it.crc32=j.crc32,it.compressedSize=j.compressedSize,it.uncompressedSize=j.uncompressedSize);var ut=0;V&&(ut|=8),T||!Z&&!nt||(ut|=2048);var st=0,lt=0;L&&(st|=16),H==="UNIX"?(lt=798,st|=(function(yt,at){var pt=yt;return yt||(pt=at?16893:33204),(65535&pt)<<16})(x.unixPermissions,L)):(lt=20,st|=(function(yt){return 63&(yt||0)})(x.dosPermissions)),P=Q.getUTCHours(),P<<=6,P|=Q.getUTCMinutes(),P<<=5,P|=Q.getUTCSeconds()/2,k=Q.getUTCFullYear()-1980,k<<=4,k|=Q.getUTCMonth()+1,k<<=5,k|=Q.getUTCDate(),Z&&(tt=g(1,1)+g(O(E),4)+N,$+="up"+g(tt.length,2)+tt),nt&&(U=g(1,1)+g(O(B),4)+K,$+="uc"+g(U.length,2)+U);var bt="";return bt+=`
\0`,bt+=g(ut,2),bt+=S.magic,bt+=g(P,2),bt+=g(k,2),bt+=g(it.crc32,4),bt+=g(it.compressedSize,4),bt+=g(it.uncompressedSize,4),bt+=g(E.length,2),bt+=g($.length,2),{fileRecord:q.LOCAL_FILE_HEADER+bt+E+$,dirRecord:q.CENTRAL_FILE_HEADER+g(lt,2)+bt+g(B.length,2)+"\0\0\0\0"+g(st,4)+g(X,4)+E+$+B}}var _=d("../utils"),A=d("../stream/GenericWorker"),M=d("../utf8"),O=d("../crc32"),q=d("../signature");function F(j,V,G,X){A.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=V,this.zipPlatform=G,this.encodeFileName=X,this.streamFiles=j,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}_.inherits(F,A),F.prototype.push=function(j){var V=j.meta.percent||0,G=this.entriesCount,X=this._sources.length;this.accumulate?this.contentBuffer.push(j):(this.bytesWritten+=j.data.length,A.prototype.push.call(this,{data:j.data,meta:{currentFile:this.currentFile,percent:G?(V+100*(G-X-1))/G:100}}))},F.prototype.openedSource=function(j){this.currentSourceOffset=this.bytesWritten,this.currentFile=j.file.name;var V=this.streamFiles&&!j.file.dir;if(V){var G=w(j,V,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:G.fileRecord,meta:{percent:0}})}else this.accumulate=!0},F.prototype.closedSource=function(j){this.accumulate=!1;var V=this.streamFiles&&!j.file.dir,G=w(j,V,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(G.dirRecord),V)this.push({data:(function(X){return q.DATA_DESCRIPTOR+g(X.crc32,4)+g(X.compressedSize,4)+g(X.uncompressedSize,4)})(j),meta:{percent:100}});else for(this.push({data:G.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},F.prototype.flush=function(){for(var j=this.bytesWritten,V=0;V<this.dirRecords.length;V++)this.push({data:this.dirRecords[V],meta:{percent:100}});var G=this.bytesWritten-j,X=(function(H,R,P,k,x){var S=_.transformTo("string",x(k));return q.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g(H,2)+g(H,2)+g(R,4)+g(P,4)+g(S.length,2)+S})(this.dirRecords.length,G,j,this.zipComment,this.encodeFileName);this.push({data:X,meta:{percent:100}})},F.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},F.prototype.registerPrevious=function(j){this._sources.push(j);var V=this;return j.on("data",(function(G){V.processChunk(G)})),j.on("end",(function(){V.closedSource(V.previous.streamInfo),V._sources.length?V.prepareNextSource():V.end()})),j.on("error",(function(G){V.error(G)})),this},F.prototype.resume=function(){return!!A.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},F.prototype.error=function(j){var V=this._sources;if(!A.prototype.error.call(this,j))return!1;for(var G=0;G<V.length;G++)try{V[G].error(j)}catch{}return!0},F.prototype.lock=function(){A.prototype.lock.call(this);for(var j=this._sources,V=0;V<j.length;V++)j[V].lock()},b.exports=F},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,b,v){var g=d("../compressions"),w=d("./ZipFileWorker");v.generateWorker=function(_,A,M){var O=new w(A.streamFiles,M,A.platform,A.encodeFileName),q=0;try{_.forEach((function(F,j){q++;var V=(function(R,P){var k=R||P,x=g[k];if(!x)throw new Error(k+" is not a valid compression method !");return x})(j.options.compression,A.compression),G=j.options.compressionOptions||A.compressionOptions||{},X=j.dir,H=j.date;j._compressWorker(V,G).withStreamInfo("file",{name:F,dir:X,date:H,comment:j.comment||"",unixPermissions:j.unixPermissions,dosPermissions:j.dosPermissions}).pipe(O)})),O.entriesCount=q}catch(F){O.error(F)}return O}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,b,v){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var w=new g;for(var _ in this)typeof this[_]!="function"&&(w[_]=this[_]);return w}}(g.prototype=d("./object")).loadAsync=d("./load"),g.support=d("./support"),g.defaults=d("./defaults"),g.version="3.10.1",g.loadAsync=function(w,_){return new g().loadAsync(w,_)},g.external=d("./external"),b.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,b,v){var g=d("./utils"),w=d("./external"),_=d("./utf8"),A=d("./zipEntries"),M=d("./stream/Crc32Probe"),O=d("./nodejsUtils");function q(F){return new w.Promise((function(j,V){var G=F.decompressed.getContentWorker().pipe(new M);G.on("error",(function(X){V(X)})).on("end",(function(){G.streamInfo.crc32!==F.decompressed.crc32?V(new Error("Corrupted zip : CRC32 mismatch")):j()})).resume()}))}b.exports=function(F,j){var V=this;return j=g.extend(j||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:_.utf8decode}),O.isNode&&O.isStream(F)?w.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",F,!0,j.optimizedBinaryString,j.base64).then((function(G){var X=new A(j);return X.load(G),X})).then((function(G){var X=[w.Promise.resolve(G)],H=G.files;if(j.checkCRC32)for(var R=0;R<H.length;R++)X.push(q(H[R]));return w.Promise.all(X)})).then((function(G){for(var X=G.shift(),H=X.files,R=0;R<H.length;R++){var P=H[R],k=P.fileNameStr,x=g.resolve(P.fileNameStr);V.file(x,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:j.createFolders}),P.dir||(V.file(x).unsafeOriginalName=k)}return X.zipComment.length&&(V.comment=X.zipComment),V}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,b,v){var g=d("../utils"),w=d("../stream/GenericWorker");function _(A,M){w.call(this,"Nodejs stream input adapter for "+A),this._upstreamEnded=!1,this._bindStream(M)}g.inherits(_,w),_.prototype._bindStream=function(A){var M=this;(this._stream=A).pause(),A.on("data",(function(O){M.push({data:O,meta:{percent:0}})})).on("error",(function(O){M.isPaused?this.generatedError=O:M.error(O)})).on("end",(function(){M.isPaused?M._upstreamEnded=!0:M.end()}))},_.prototype.pause=function(){return!!w.prototype.pause.call(this)&&(this._stream.pause(),!0)},_.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},b.exports=_},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,b,v){var g=d("readable-stream").Readable;function w(_,A,M){g.call(this,A),this._helper=_;var O=this;_.on("data",(function(q,F){O.push(q)||O._helper.pause(),M&&M(F)})).on("error",(function(q){O.emit("error",q)})).on("end",(function(){O.push(null)}))}d("../utils").inherits(w,g),w.prototype._read=function(){this._helper.resume()},b.exports=w},{"../utils":32,"readable-stream":16}],14:[function(d,b,v){b.exports={isNode:h!==void 0,newBufferFrom:function(g,w){if(h.from&&h.from!==Uint8Array.from)return h.from(g,w);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new h(g,w)},allocBuffer:function(g){if(h.alloc)return h.alloc(g);var w=new h(g);return w.fill(0),w},isBuffer:function(g){return h.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(d,b,v){function g(x,S,T){var E,N=_.getTypeOf(S),I=_.extend(T||{},O);I.date=I.date||new Date,I.compression!==null&&(I.compression=I.compression.toUpperCase()),typeof I.unixPermissions=="string"&&(I.unixPermissions=parseInt(I.unixPermissions,8)),I.unixPermissions&&16384&I.unixPermissions&&(I.dir=!0),I.dosPermissions&&16&I.dosPermissions&&(I.dir=!0),I.dir&&(x=H(x)),I.createFolders&&(E=X(x))&&R.call(this,E,!0);var B=N==="string"&&I.binary===!1&&I.base64===!1;T&&T.binary!==void 0||(I.binary=!B),(S instanceof q&&S.uncompressedSize===0||I.dir||!S||S.length===0)&&(I.base64=!1,I.binary=!0,S="",I.compression="STORE",N="string");var K;K=S instanceof q||S instanceof A?S:V.isNode&&V.isStream(S)?new G(x,S):_.prepareContent(x,S,I.binary,I.optimizedBinaryString,I.base64);var Z=new F(x,K,I);this.files[x]=Z}var w=d("./utf8"),_=d("./utils"),A=d("./stream/GenericWorker"),M=d("./stream/StreamHelper"),O=d("./defaults"),q=d("./compressedObject"),F=d("./zipObject"),j=d("./generate"),V=d("./nodejsUtils"),G=d("./nodejs/NodejsStreamInputAdapter"),X=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var S=x.lastIndexOf("/");return 0<S?x.substring(0,S):""},H=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},R=function(x,S){return S=S!==void 0?S:O.createFolders,x=H(x),this.files[x]||g.call(this,x,null,{dir:!0,createFolders:S}),this.files[x]};function P(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var S,T,E;for(S in this.files)E=this.files[S],(T=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&x(T,E)},filter:function(x){var S=[];return this.forEach((function(T,E){x(T,E)&&S.push(E)})),S},file:function(x,S,T){if(arguments.length!==1)return x=this.root+x,g.call(this,x,S,T),this;if(P(x)){var E=x;return this.filter((function(I,B){return!B.dir&&E.test(I)}))}var N=this.files[this.root+x];return N&&!N.dir?N:null},folder:function(x){if(!x)return this;if(P(x))return this.filter((function(N,I){return I.dir&&x.test(N)}));var S=this.root+x,T=R.call(this,S),E=this.clone();return E.root=T.name,E},remove:function(x){x=this.root+x;var S=this.files[x];if(S||(x.slice(-1)!=="/"&&(x+="/"),S=this.files[x]),S&&!S.dir)delete this.files[x];else for(var T=this.filter((function(N,I){return I.name.slice(0,x.length)===x})),E=0;E<T.length;E++)delete this.files[T[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var S,T={};try{if((T=_.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");_.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var E=T.comment||this.comment||"";S=j.generateWorker(this,T,E)}catch(N){(S=new A("error")).error(N)}return new M(S,T.type||"string",T.mimeType)},generateAsync:function(x,S){return this.generateInternalStream(x).accumulate(S)},generateNodeStream:function(x,S){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(S)}};b.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,b,v){b.exports=d("stream")},{stream:void 0}],17:[function(d,b,v){var g=d("./DataReader");function w(_){g.call(this,_);for(var A=0;A<this.data.length;A++)_[A]=255&_[A]}d("../utils").inherits(w,g),w.prototype.byteAt=function(_){return this.data[this.zero+_]},w.prototype.lastIndexOfSignature=function(_){for(var A=_.charCodeAt(0),M=_.charCodeAt(1),O=_.charCodeAt(2),q=_.charCodeAt(3),F=this.length-4;0<=F;--F)if(this.data[F]===A&&this.data[F+1]===M&&this.data[F+2]===O&&this.data[F+3]===q)return F-this.zero;return-1},w.prototype.readAndCheckSignature=function(_){var A=_.charCodeAt(0),M=_.charCodeAt(1),O=_.charCodeAt(2),q=_.charCodeAt(3),F=this.readData(4);return A===F[0]&&M===F[1]&&O===F[2]&&q===F[3]},w.prototype.readData=function(_){if(this.checkOffset(_),_===0)return[];var A=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,A},b.exports=w},{"../utils":32,"./DataReader":18}],18:[function(d,b,v){var g=d("../utils");function w(_){this.data=_,this.length=_.length,this.index=0,this.zero=0}w.prototype={checkOffset:function(_){this.checkIndex(this.index+_)},checkIndex:function(_){if(this.length<this.zero+_||_<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+_+"). Corrupted zip ?")},setIndex:function(_){this.checkIndex(_),this.index=_},skip:function(_){this.setIndex(this.index+_)},byteAt:function(){},readInt:function(_){var A,M=0;for(this.checkOffset(_),A=this.index+_-1;A>=this.index;A--)M=(M<<8)+this.byteAt(A);return this.index+=_,M},readString:function(_){return g.transformTo("string",this.readData(_))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var _=this.readInt(4);return new Date(Date.UTC(1980+(_>>25&127),(_>>21&15)-1,_>>16&31,_>>11&31,_>>5&63,(31&_)<<1))}},b.exports=w},{"../utils":32}],19:[function(d,b,v){var g=d("./Uint8ArrayReader");function w(_){g.call(this,_)}d("../utils").inherits(w,g),w.prototype.readData=function(_){this.checkOffset(_);var A=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,A},b.exports=w},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,b,v){var g=d("./DataReader");function w(_){g.call(this,_)}d("../utils").inherits(w,g),w.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},w.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},w.prototype.readAndCheckSignature=function(_){return _===this.readData(4)},w.prototype.readData=function(_){this.checkOffset(_);var A=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,A},b.exports=w},{"../utils":32,"./DataReader":18}],21:[function(d,b,v){var g=d("./ArrayReader");function w(_){g.call(this,_)}d("../utils").inherits(w,g),w.prototype.readData=function(_){if(this.checkOffset(_),_===0)return new Uint8Array(0);var A=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,A},b.exports=w},{"../utils":32,"./ArrayReader":17}],22:[function(d,b,v){var g=d("../utils"),w=d("../support"),_=d("./ArrayReader"),A=d("./StringReader"),M=d("./NodeBufferReader"),O=d("./Uint8ArrayReader");b.exports=function(q){var F=g.getTypeOf(q);return g.checkSupport(F),F!=="string"||w.uint8array?F==="nodebuffer"?new M(q):w.uint8array?new O(g.transformTo("uint8array",q)):new _(g.transformTo("array",q)):new A(q)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,b,v){v.LOCAL_FILE_HEADER="PK",v.CENTRAL_FILE_HEADER="PK",v.CENTRAL_DIRECTORY_END="PK",v.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",v.ZIP64_CENTRAL_DIRECTORY_END="PK",v.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,b,v){var g=d("./GenericWorker"),w=d("../utils");function _(A){g.call(this,"ConvertWorker to "+A),this.destType=A}w.inherits(_,g),_.prototype.processChunk=function(A){this.push({data:w.transformTo(this.destType,A.data),meta:A.meta})},b.exports=_},{"../utils":32,"./GenericWorker":28}],25:[function(d,b,v){var g=d("./GenericWorker"),w=d("../crc32");function _(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(_,g),_.prototype.processChunk=function(A){this.streamInfo.crc32=w(A.data,this.streamInfo.crc32||0),this.push(A)},b.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,b,v){var g=d("../utils"),w=d("./GenericWorker");function _(A){w.call(this,"DataLengthProbe for "+A),this.propName=A,this.withStreamInfo(A,0)}g.inherits(_,w),_.prototype.processChunk=function(A){if(A){var M=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=M+A.data.length}w.prototype.processChunk.call(this,A)},b.exports=_},{"../utils":32,"./GenericWorker":28}],27:[function(d,b,v){var g=d("../utils"),w=d("./GenericWorker");function _(A){w.call(this,"DataWorker");var M=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,A.then((function(O){M.dataIsReady=!0,M.data=O,M.max=O&&O.length||0,M.type=g.getTypeOf(O),M.isPaused||M._tickAndRepeat()}),(function(O){M.error(O)}))}g.inherits(_,w),_.prototype.cleanUp=function(){w.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return!!w.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var A=null,M=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":A=this.data.substring(this.index,M);break;case"uint8array":A=this.data.subarray(this.index,M);break;case"array":case"nodebuffer":A=this.data.slice(this.index,M)}return this.index=M,this.push({data:A,meta:{percent:this.max?this.index/this.max*100:0}})},b.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(d,b,v){function g(w){this.name=w||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(w){this.emit("data",w)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(w){this.emit("error",w)}return!0},error:function(w){return!this.isFinished&&(this.isPaused?this.generatedError=w:(this.isFinished=!0,this.emit("error",w),this.previous&&this.previous.error(w),this.cleanUp()),!0)},on:function(w,_){return this._listeners[w].push(_),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(w,_){if(this._listeners[w])for(var A=0;A<this._listeners[w].length;A++)this._listeners[w][A].call(this,_)},pipe:function(w){return w.registerPrevious(this)},registerPrevious:function(w){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=w.streamInfo,this.mergeStreamInfo(),this.previous=w;var _=this;return w.on("data",(function(A){_.processChunk(A)})),w.on("end",(function(){_.end()})),w.on("error",(function(A){_.error(A)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var w=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),w=!0),this.previous&&this.previous.resume(),!w},flush:function(){},processChunk:function(w){this.push(w)},withStreamInfo:function(w,_){return this.extraStreamInfo[w]=_,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var w in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,w)&&(this.streamInfo[w]=this.extraStreamInfo[w])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var w="Worker "+this.name;return this.previous?this.previous+" -> "+w:w}},b.exports=g},{}],29:[function(d,b,v){var g=d("../utils"),w=d("./ConvertWorker"),_=d("./GenericWorker"),A=d("../base64"),M=d("../support"),O=d("../external"),q=null;if(M.nodestream)try{q=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function F(j,V,G){var X=V;switch(V){case"blob":case"arraybuffer":X="uint8array";break;case"base64":X="string"}try{this._internalType=X,this._outputType=V,this._mimeType=G,g.checkSupport(X),this._worker=j.pipe(new w(X)),j.lock()}catch(H){this._worker=new _("error"),this._worker.error(H)}}F.prototype={accumulate:function(j){return(function(V,G){return new O.Promise((function(X,H){var R=[],P=V._internalType,k=V._outputType,x=V._mimeType;V.on("data",(function(S,T){R.push(S),G&&G(T)})).on("error",(function(S){R=[],H(S)})).on("end",(function(){try{var S=(function(T,E,N){switch(T){case"blob":return g.newBlob(g.transformTo("arraybuffer",E),N);case"base64":return A.encode(E);default:return g.transformTo(T,E)}})(k,(function(T,E){var N,I=0,B=null,K=0;for(N=0;N<E.length;N++)K+=E[N].length;switch(T){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(B=new Uint8Array(K),N=0;N<E.length;N++)B.set(E[N],I),I+=E[N].length;return B;case"nodebuffer":return h.concat(E);default:throw new Error("concat : unsupported type '"+T+"'")}})(P,R),x);X(S)}catch(T){H(T)}R=[]})).resume()}))})(this,j)},on:function(j,V){var G=this;return j==="data"?this._worker.on(j,(function(X){V.call(G,X.data,X.meta)})):this._worker.on(j,(function(){g.delay(V,arguments,G)})),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new q(this,{objectMode:this._outputType!=="nodebuffer"},j)}},b.exports=F},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,b,v){if(v.base64=!0,v.array=!0,v.string=!0,v.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",v.nodebuffer=h!==void 0,v.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")v.blob=!1;else{var g=new ArrayBuffer(0);try{v.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);w.append(g),v.blob=w.getBlob("application/zip").size===0}catch{v.blob=!1}}}try{v.nodestream=!!d("readable-stream").Readable}catch{v.nodestream=!1}},{"readable-stream":16}],31:[function(d,b,v){for(var g=d("./utils"),w=d("./support"),_=d("./nodejsUtils"),A=d("./stream/GenericWorker"),M=new Array(256),O=0;O<256;O++)M[O]=252<=O?6:248<=O?5:240<=O?4:224<=O?3:192<=O?2:1;function q(){A.call(this,"utf-8 decode"),this.leftOver=null}function F(){A.call(this,"utf-8 encode")}M[254]=M[254]=1,v.utf8encode=function(j){return w.nodebuffer?_.newBufferFrom(j,"utf-8"):(function(V){var G,X,H,R,P,k=V.length,x=0;for(R=0;R<k;R++)(64512&(X=V.charCodeAt(R)))==55296&&R+1<k&&(64512&(H=V.charCodeAt(R+1)))==56320&&(X=65536+(X-55296<<10)+(H-56320),R++),x+=X<128?1:X<2048?2:X<65536?3:4;for(G=w.uint8array?new Uint8Array(x):new Array(x),R=P=0;P<x;R++)(64512&(X=V.charCodeAt(R)))==55296&&R+1<k&&(64512&(H=V.charCodeAt(R+1)))==56320&&(X=65536+(X-55296<<10)+(H-56320),R++),X<128?G[P++]=X:(X<2048?G[P++]=192|X>>>6:(X<65536?G[P++]=224|X>>>12:(G[P++]=240|X>>>18,G[P++]=128|X>>>12&63),G[P++]=128|X>>>6&63),G[P++]=128|63&X);return G})(j)},v.utf8decode=function(j){return w.nodebuffer?g.transformTo("nodebuffer",j).toString("utf-8"):(function(V){var G,X,H,R,P=V.length,k=new Array(2*P);for(G=X=0;G<P;)if((H=V[G++])<128)k[X++]=H;else if(4<(R=M[H]))k[X++]=65533,G+=R-1;else{for(H&=R===2?31:R===3?15:7;1<R&&G<P;)H=H<<6|63&V[G++],R--;1<R?k[X++]=65533:H<65536?k[X++]=H:(H-=65536,k[X++]=55296|H>>10&1023,k[X++]=56320|1023&H)}return k.length!==X&&(k.subarray?k=k.subarray(0,X):k.length=X),g.applyFromCharCode(k)})(j=g.transformTo(w.uint8array?"uint8array":"array",j))},g.inherits(q,A),q.prototype.processChunk=function(j){var V=g.transformTo(w.uint8array?"uint8array":"array",j.data);if(this.leftOver&&this.leftOver.length){if(w.uint8array){var G=V;(V=new Uint8Array(G.length+this.leftOver.length)).set(this.leftOver,0),V.set(G,this.leftOver.length)}else V=this.leftOver.concat(V);this.leftOver=null}var X=(function(R,P){var k;for((P=P||R.length)>R.length&&(P=R.length),k=P-1;0<=k&&(192&R[k])==128;)k--;return k<0||k===0?P:k+M[R[k]]>P?k:P})(V),H=V;X!==V.length&&(w.uint8array?(H=V.subarray(0,X),this.leftOver=V.subarray(X,V.length)):(H=V.slice(0,X),this.leftOver=V.slice(X,V.length))),this.push({data:v.utf8decode(H),meta:j.meta})},q.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:v.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},v.Utf8DecodeWorker=q,g.inherits(F,A),F.prototype.processChunk=function(j){this.push({data:v.utf8encode(j.data),meta:j.meta})},v.Utf8EncodeWorker=F},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,b,v){var g=d("./support"),w=d("./base64"),_=d("./nodejsUtils"),A=d("./external");function M(G){return G}function O(G,X){for(var H=0;H<G.length;++H)X[H]=255&G.charCodeAt(H);return X}d("setimmediate"),v.newBlob=function(G,X){v.checkSupport("blob");try{return new Blob([G],{type:X})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(G),H.getBlob(X)}catch{throw new Error("Bug : can't construct the Blob.")}}};var q={stringifyByChunk:function(G,X,H){var R=[],P=0,k=G.length;if(k<=H)return String.fromCharCode.apply(null,G);for(;P<k;)X==="array"||X==="nodebuffer"?R.push(String.fromCharCode.apply(null,G.slice(P,Math.min(P+H,k)))):R.push(String.fromCharCode.apply(null,G.subarray(P,Math.min(P+H,k)))),P+=H;return R.join("")},stringifyByChar:function(G){for(var X="",H=0;H<G.length;H++)X+=String.fromCharCode(G[H]);return X},applyCanBeUsed:{uint8array:(function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,_.allocBuffer(1)).length===1}catch{return!1}})()}};function F(G){var X=65536,H=v.getTypeOf(G),R=!0;if(H==="uint8array"?R=q.applyCanBeUsed.uint8array:H==="nodebuffer"&&(R=q.applyCanBeUsed.nodebuffer),R)for(;1<X;)try{return q.stringifyByChunk(G,H,X)}catch{X=Math.floor(X/2)}return q.stringifyByChar(G)}function j(G,X){for(var H=0;H<G.length;H++)X[H]=G[H];return X}v.applyFromCharCode=F;var V={};V.string={string:M,array:function(G){return O(G,new Array(G.length))},arraybuffer:function(G){return V.string.uint8array(G).buffer},uint8array:function(G){return O(G,new Uint8Array(G.length))},nodebuffer:function(G){return O(G,_.allocBuffer(G.length))}},V.array={string:F,array:M,arraybuffer:function(G){return new Uint8Array(G).buffer},uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return _.newBufferFrom(G)}},V.arraybuffer={string:function(G){return F(new Uint8Array(G))},array:function(G){return j(new Uint8Array(G),new Array(G.byteLength))},arraybuffer:M,uint8array:function(G){return new Uint8Array(G)},nodebuffer:function(G){return _.newBufferFrom(new Uint8Array(G))}},V.uint8array={string:F,array:function(G){return j(G,new Array(G.length))},arraybuffer:function(G){return G.buffer},uint8array:M,nodebuffer:function(G){return _.newBufferFrom(G)}},V.nodebuffer={string:F,array:function(G){return j(G,new Array(G.length))},arraybuffer:function(G){return V.nodebuffer.uint8array(G).buffer},uint8array:function(G){return j(G,new Uint8Array(G.length))},nodebuffer:M},v.transformTo=function(G,X){if(X=X||"",!G)return X;v.checkSupport(G);var H=v.getTypeOf(X);return V[H][G](X)},v.resolve=function(G){for(var X=G.split("/"),H=[],R=0;R<X.length;R++){var P=X[R];P==="."||P===""&&R!==0&&R!==X.length-1||(P===".."?H.pop():H.push(P))}return H.join("/")},v.getTypeOf=function(G){return typeof G=="string"?"string":Object.prototype.toString.call(G)==="[object Array]"?"array":g.nodebuffer&&_.isBuffer(G)?"nodebuffer":g.uint8array&&G instanceof Uint8Array?"uint8array":g.arraybuffer&&G instanceof ArrayBuffer?"arraybuffer":void 0},v.checkSupport=function(G){if(!g[G.toLowerCase()])throw new Error(G+" is not supported by this platform")},v.MAX_VALUE_16BITS=65535,v.MAX_VALUE_32BITS=-1,v.pretty=function(G){var X,H,R="";for(H=0;H<(G||"").length;H++)R+="\\x"+((X=G.charCodeAt(H))<16?"0":"")+X.toString(16).toUpperCase();return R},v.delay=function(G,X,H){f((function(){G.apply(H||null,X||[])}))},v.inherits=function(G,X){function H(){}H.prototype=X.prototype,G.prototype=new H},v.extend=function(){var G,X,H={};for(G=0;G<arguments.length;G++)for(X in arguments[G])Object.prototype.hasOwnProperty.call(arguments[G],X)&&H[X]===void 0&&(H[X]=arguments[G][X]);return H},v.prepareContent=function(G,X,H,R,P){return A.Promise.resolve(X).then((function(k){return g.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new A.Promise((function(x,S){var T=new FileReader;T.onload=function(E){x(E.target.result)},T.onerror=function(E){S(E.target.error)},T.readAsArrayBuffer(k)})):k})).then((function(k){var x=v.getTypeOf(k);return x?(x==="arraybuffer"?k=v.transformTo("uint8array",k):x==="string"&&(P?k=w.decode(k):H&&R!==!0&&(k=(function(S){return O(S,g.uint8array?new Uint8Array(S.length):new Array(S.length))})(k))),k):A.Promise.reject(new Error("Can't read the data of '"+G+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,b,v){var g=d("./reader/readerFor"),w=d("./utils"),_=d("./signature"),A=d("./zipEntry"),M=d("./support");function O(q){this.files=[],this.loadOptions=q}O.prototype={checkSignature:function(q){if(!this.reader.readAndCheckSignature(q)){this.reader.index-=4;var F=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+w.pretty(F)+", expected "+w.pretty(q)+")")}},isSignature:function(q,F){var j=this.reader.index;this.reader.setIndex(q);var V=this.reader.readString(4)===F;return this.reader.setIndex(j),V},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var q=this.reader.readData(this.zipCommentLength),F=M.uint8array?"uint8array":"array",j=w.transformTo(F,q);this.zipComment=this.loadOptions.decodeFileName(j)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var q,F,j,V=this.zip64EndOfCentralSize-44;0<V;)q=this.reader.readInt(2),F=this.reader.readInt(4),j=this.reader.readData(F),this.zip64ExtensibleData[q]={id:q,length:F,value:j}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var q,F;for(q=0;q<this.files.length;q++)F=this.files[q],this.reader.setIndex(F.localHeaderOffset),this.checkSignature(_.LOCAL_FILE_HEADER),F.readLocalPart(this.reader),F.handleUTF8(),F.processAttributes()},readCentralDir:function(){var q;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_.CENTRAL_FILE_HEADER);)(q=new A({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(q);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var q=this.reader.lastIndexOfSignature(_.CENTRAL_DIRECTORY_END);if(q<0)throw this.isSignature(0,_.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(q);var F=q;if(this.checkSignature(_.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===w.MAX_VALUE_16BITS||this.diskWithCentralDirStart===w.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===w.MAX_VALUE_16BITS||this.centralDirRecords===w.MAX_VALUE_16BITS||this.centralDirSize===w.MAX_VALUE_32BITS||this.centralDirOffset===w.MAX_VALUE_32BITS){if(this.zip64=!0,(q=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(q),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var j=this.centralDirOffset+this.centralDirSize;this.zip64&&(j+=20,j+=12+this.zip64EndOfCentralSize);var V=F-j;if(0<V)this.isSignature(F,_.CENTRAL_FILE_HEADER)||(this.reader.zero=V);else if(V<0)throw new Error("Corrupted zip: missing "+Math.abs(V)+" bytes.")},prepareReader:function(q){this.reader=g(q)},load:function(q){this.prepareReader(q),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},b.exports=O},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,b,v){var g=d("./reader/readerFor"),w=d("./utils"),_=d("./compressedObject"),A=d("./crc32"),M=d("./utf8"),O=d("./compressions"),q=d("./support");function F(j,V){this.options=j,this.loadOptions=V}F.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(j){var V,G;if(j.skip(22),this.fileNameLength=j.readInt(2),G=j.readInt(2),this.fileName=j.readData(this.fileNameLength),j.skip(G),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((V=(function(X){for(var H in O)if(Object.prototype.hasOwnProperty.call(O,H)&&O[H].magic===X)return O[H];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+w.pretty(this.compressionMethod)+" unknown (inner file : "+w.transformTo("string",this.fileName)+")");this.decompressed=new _(this.compressedSize,this.uncompressedSize,this.crc32,V,j.readData(this.compressedSize))},readCentralPart:function(j){this.versionMadeBy=j.readInt(2),j.skip(2),this.bitFlag=j.readInt(2),this.compressionMethod=j.readString(2),this.date=j.readDate(),this.crc32=j.readInt(4),this.compressedSize=j.readInt(4),this.uncompressedSize=j.readInt(4);var V=j.readInt(2);if(this.extraFieldsLength=j.readInt(2),this.fileCommentLength=j.readInt(2),this.diskNumberStart=j.readInt(2),this.internalFileAttributes=j.readInt(2),this.externalFileAttributes=j.readInt(4),this.localHeaderOffset=j.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");j.skip(V),this.readExtraFields(j),this.parseZIP64ExtraField(j),this.fileComment=j.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var j=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),j==0&&(this.dosPermissions=63&this.externalFileAttributes),j==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var j=g(this.extraFields[1].value);this.uncompressedSize===w.MAX_VALUE_32BITS&&(this.uncompressedSize=j.readInt(8)),this.compressedSize===w.MAX_VALUE_32BITS&&(this.compressedSize=j.readInt(8)),this.localHeaderOffset===w.MAX_VALUE_32BITS&&(this.localHeaderOffset=j.readInt(8)),this.diskNumberStart===w.MAX_VALUE_32BITS&&(this.diskNumberStart=j.readInt(4))}},readExtraFields:function(j){var V,G,X,H=j.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});j.index+4<H;)V=j.readInt(2),G=j.readInt(2),X=j.readData(G),this.extraFields[V]={id:V,length:G,value:X};j.setIndex(H)},handleUTF8:function(){var j=q.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=M.utf8decode(this.fileName),this.fileCommentStr=M.utf8decode(this.fileComment);else{var V=this.findExtraFieldUnicodePath();if(V!==null)this.fileNameStr=V;else{var G=w.transformTo(j,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(G)}var X=this.findExtraFieldUnicodeComment();if(X!==null)this.fileCommentStr=X;else{var H=w.transformTo(j,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var j=this.extraFields[28789];if(j){var V=g(j.value);return V.readInt(1)!==1||A(this.fileName)!==V.readInt(4)?null:M.utf8decode(V.readData(j.length-5))}return null},findExtraFieldUnicodeComment:function(){var j=this.extraFields[25461];if(j){var V=g(j.value);return V.readInt(1)!==1||A(this.fileComment)!==V.readInt(4)?null:M.utf8decode(V.readData(j.length-5))}return null}},b.exports=F},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,b,v){function g(V,G,X){this.name=V,this.dir=X.dir,this.date=X.date,this.comment=X.comment,this.unixPermissions=X.unixPermissions,this.dosPermissions=X.dosPermissions,this._data=G,this._dataBinary=X.binary,this.options={compression:X.compression,compressionOptions:X.compressionOptions}}var w=d("./stream/StreamHelper"),_=d("./stream/DataWorker"),A=d("./utf8"),M=d("./compressedObject"),O=d("./stream/GenericWorker");g.prototype={internalStream:function(V){var G=null,X="string";try{if(!V)throw new Error("No output type specified.");var H=(X=V.toLowerCase())==="string"||X==="text";X!=="binarystring"&&X!=="text"||(X="string"),G=this._decompressWorker();var R=!this._dataBinary;R&&!H&&(G=G.pipe(new A.Utf8EncodeWorker)),!R&&H&&(G=G.pipe(new A.Utf8DecodeWorker))}catch(P){(G=new O("error")).error(P)}return new w(G,X,"")},async:function(V,G){return this.internalStream(V).accumulate(G)},nodeStream:function(V,G){return this.internalStream(V||"nodebuffer").toNodejsStream(G)},_compressWorker:function(V,G){if(this._data instanceof M&&this._data.compression.magic===V.magic)return this._data.getCompressedWorker();var X=this._decompressWorker();return this._dataBinary||(X=X.pipe(new A.Utf8EncodeWorker)),M.createWorkerFrom(X,V,G)},_decompressWorker:function(){return this._data instanceof M?this._data.getContentWorker():this._data instanceof O?this._data:new _(this._data)}};for(var q=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],F=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},j=0;j<q.length;j++)g.prototype[q[j]]=F;b.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,b,v){(function(g){var w,_,A=g.MutationObserver||g.WebKitMutationObserver;if(A){var M=0,O=new A(V),q=g.document.createTextNode("");O.observe(q,{characterData:!0}),w=function(){q.data=M=++M%2}}else if(g.setImmediate||g.MessageChannel===void 0)w="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var G=g.document.createElement("script");G.onreadystatechange=function(){V(),G.onreadystatechange=null,G.parentNode.removeChild(G),G=null},g.document.documentElement.appendChild(G)}:function(){setTimeout(V,0)};else{var F=new g.MessageChannel;F.port1.onmessage=V,w=function(){F.port2.postMessage(0)}}var j=[];function V(){var G,X;_=!0;for(var H=j.length;H;){for(X=j,j=[],G=-1;++G<H;)X[G]();H=j.length}_=!1}b.exports=function(G){j.push(G)!==1||_||w()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,b,v){var g=d("immediate");function w(){}var _={},A=["REJECTED"],M=["FULFILLED"],O=["PENDING"];function q(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=O,this.queue=[],this.outcome=void 0,H!==w&&G(this,H)}function F(H,R,P){this.promise=H,typeof R=="function"&&(this.onFulfilled=R,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function j(H,R,P){g((function(){var k;try{k=R(P)}catch(x){return _.reject(H,x)}k===H?_.reject(H,new TypeError("Cannot resolve promise with itself")):_.resolve(H,k)}))}function V(H){var R=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof R=="function")return function(){R.apply(H,arguments)}}function G(H,R){var P=!1;function k(T){P||(P=!0,_.reject(H,T))}function x(T){P||(P=!0,_.resolve(H,T))}var S=X((function(){R(x,k)}));S.status==="error"&&k(S.value)}function X(H,R){var P={};try{P.value=H(R),P.status="success"}catch(k){P.status="error",P.value=k}return P}(b.exports=q).prototype.finally=function(H){if(typeof H!="function")return this;var R=this.constructor;return this.then((function(P){return R.resolve(H()).then((function(){return P}))}),(function(P){return R.resolve(H()).then((function(){throw P}))}))},q.prototype.catch=function(H){return this.then(null,H)},q.prototype.then=function(H,R){if(typeof H!="function"&&this.state===M||typeof R!="function"&&this.state===A)return this;var P=new this.constructor(w);return this.state!==O?j(P,this.state===M?H:R,this.outcome):this.queue.push(new F(P,H,R)),P},F.prototype.callFulfilled=function(H){_.resolve(this.promise,H)},F.prototype.otherCallFulfilled=function(H){j(this.promise,this.onFulfilled,H)},F.prototype.callRejected=function(H){_.reject(this.promise,H)},F.prototype.otherCallRejected=function(H){j(this.promise,this.onRejected,H)},_.resolve=function(H,R){var P=X(V,R);if(P.status==="error")return _.reject(H,P.value);var k=P.value;if(k)G(H,k);else{H.state=M,H.outcome=R;for(var x=-1,S=H.queue.length;++x<S;)H.queue[x].callFulfilled(R)}return H},_.reject=function(H,R){H.state=A,H.outcome=R;for(var P=-1,k=H.queue.length;++P<k;)H.queue[P].callRejected(R);return H},q.resolve=function(H){return H instanceof this?H:_.resolve(new this(w),H)},q.reject=function(H){var R=new this(w);return _.reject(R,H)},q.all=function(H){var R=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=H.length,k=!1;if(!P)return this.resolve([]);for(var x=new Array(P),S=0,T=-1,E=new this(w);++T<P;)N(H[T],T);return E;function N(I,B){R.resolve(I).then((function(K){x[B]=K,++S!==P||k||(k=!0,_.resolve(E,x))}),(function(K){k||(k=!0,_.reject(E,K))}))}},q.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=H.length,P=!1;if(!R)return this.resolve([]);for(var k,x=-1,S=new this(w);++x<R;)k=H[x],this.resolve(k).then((function(T){P||(P=!0,_.resolve(S,T))}),(function(T){P||(P=!0,_.reject(S,T))}));return S}},{immediate:36}],38:[function(d,b,v){var g={};(0,d("./lib/utils/common").assign)(g,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),b.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,b,v){var g=d("./zlib/deflate"),w=d("./utils/common"),_=d("./utils/strings"),A=d("./zlib/messages"),M=d("./zlib/zstream"),O=Object.prototype.toString;function q(j){if(!(this instanceof q))return new q(j);this.options=w.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},j||{});var V=this.options;V.raw&&0<V.windowBits?V.windowBits=-V.windowBits:V.gzip&&0<V.windowBits&&V.windowBits<16&&(V.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new M,this.strm.avail_out=0;var G=g.deflateInit2(this.strm,V.level,V.method,V.windowBits,V.memLevel,V.strategy);if(G!==0)throw new Error(A[G]);if(V.header&&g.deflateSetHeader(this.strm,V.header),V.dictionary){var X;if(X=typeof V.dictionary=="string"?_.string2buf(V.dictionary):O.call(V.dictionary)==="[object ArrayBuffer]"?new Uint8Array(V.dictionary):V.dictionary,(G=g.deflateSetDictionary(this.strm,X))!==0)throw new Error(A[G]);this._dict_set=!0}}function F(j,V){var G=new q(V);if(G.push(j,!0),G.err)throw G.msg||A[G.err];return G.result}q.prototype.push=function(j,V){var G,X,H=this.strm,R=this.options.chunkSize;if(this.ended)return!1;X=V===~~V?V:V===!0?4:0,typeof j=="string"?H.input=_.string2buf(j):O.call(j)==="[object ArrayBuffer]"?H.input=new Uint8Array(j):H.input=j,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new w.Buf8(R),H.next_out=0,H.avail_out=R),(G=g.deflate(H,X))!==1&&G!==0)return this.onEnd(G),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||X!==4&&X!==2)||(this.options.to==="string"?this.onData(_.buf2binstring(w.shrinkBuf(H.output,H.next_out))):this.onData(w.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&G!==1);return X===4?(G=g.deflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===0):X!==2||(this.onEnd(0),!(H.avail_out=0))},q.prototype.onData=function(j){this.chunks.push(j)},q.prototype.onEnd=function(j){j===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},v.Deflate=q,v.deflate=F,v.deflateRaw=function(j,V){return(V=V||{}).raw=!0,F(j,V)},v.gzip=function(j,V){return(V=V||{}).gzip=!0,F(j,V)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,b,v){var g=d("./zlib/inflate"),w=d("./utils/common"),_=d("./utils/strings"),A=d("./zlib/constants"),M=d("./zlib/messages"),O=d("./zlib/zstream"),q=d("./zlib/gzheader"),F=Object.prototype.toString;function j(G){if(!(this instanceof j))return new j(G);this.options=w.assign({chunkSize:16384,windowBits:0,to:""},G||{});var X=this.options;X.raw&&0<=X.windowBits&&X.windowBits<16&&(X.windowBits=-X.windowBits,X.windowBits===0&&(X.windowBits=-15)),!(0<=X.windowBits&&X.windowBits<16)||G&&G.windowBits||(X.windowBits+=32),15<X.windowBits&&X.windowBits<48&&(15&X.windowBits)==0&&(X.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O,this.strm.avail_out=0;var H=g.inflateInit2(this.strm,X.windowBits);if(H!==A.Z_OK)throw new Error(M[H]);this.header=new q,g.inflateGetHeader(this.strm,this.header)}function V(G,X){var H=new j(X);if(H.push(G,!0),H.err)throw H.msg||M[H.err];return H.result}j.prototype.push=function(G,X){var H,R,P,k,x,S,T=this.strm,E=this.options.chunkSize,N=this.options.dictionary,I=!1;if(this.ended)return!1;R=X===~~X?X:X===!0?A.Z_FINISH:A.Z_NO_FLUSH,typeof G=="string"?T.input=_.binstring2buf(G):F.call(G)==="[object ArrayBuffer]"?T.input=new Uint8Array(G):T.input=G,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new w.Buf8(E),T.next_out=0,T.avail_out=E),(H=g.inflate(T,A.Z_NO_FLUSH))===A.Z_NEED_DICT&&N&&(S=typeof N=="string"?_.string2buf(N):F.call(N)==="[object ArrayBuffer]"?new Uint8Array(N):N,H=g.inflateSetDictionary(this.strm,S)),H===A.Z_BUF_ERROR&&I===!0&&(H=A.Z_OK,I=!1),H!==A.Z_STREAM_END&&H!==A.Z_OK)return this.onEnd(H),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&H!==A.Z_STREAM_END&&(T.avail_in!==0||R!==A.Z_FINISH&&R!==A.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=_.utf8border(T.output,T.next_out),k=T.next_out-P,x=_.buf2string(T.output,P),T.next_out=k,T.avail_out=E-k,k&&w.arraySet(T.output,T.output,P,k,0),this.onData(x)):this.onData(w.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(I=!0)}while((0<T.avail_in||T.avail_out===0)&&H!==A.Z_STREAM_END);return H===A.Z_STREAM_END&&(R=A.Z_FINISH),R===A.Z_FINISH?(H=g.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===A.Z_OK):R!==A.Z_SYNC_FLUSH||(this.onEnd(A.Z_OK),!(T.avail_out=0))},j.prototype.onData=function(G){this.chunks.push(G)},j.prototype.onEnd=function(G){G===A.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=w.flattenChunks(this.chunks)),this.chunks=[],this.err=G,this.msg=this.strm.msg},v.Inflate=j,v.inflate=V,v.inflateRaw=function(G,X){return(X=X||{}).raw=!0,V(G,X)},v.ungzip=V},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,b,v){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";v.assign=function(A){for(var M=Array.prototype.slice.call(arguments,1);M.length;){var O=M.shift();if(O){if(typeof O!="object")throw new TypeError(O+"must be non-object");for(var q in O)O.hasOwnProperty(q)&&(A[q]=O[q])}}return A},v.shrinkBuf=function(A,M){return A.length===M?A:A.subarray?A.subarray(0,M):(A.length=M,A)};var w={arraySet:function(A,M,O,q,F){if(M.subarray&&A.subarray)A.set(M.subarray(O,O+q),F);else for(var j=0;j<q;j++)A[F+j]=M[O+j]},flattenChunks:function(A){var M,O,q,F,j,V;for(M=q=0,O=A.length;M<O;M++)q+=A[M].length;for(V=new Uint8Array(q),M=F=0,O=A.length;M<O;M++)j=A[M],V.set(j,F),F+=j.length;return V}},_={arraySet:function(A,M,O,q,F){for(var j=0;j<q;j++)A[F+j]=M[O+j]},flattenChunks:function(A){return[].concat.apply([],A)}};v.setTyped=function(A){A?(v.Buf8=Uint8Array,v.Buf16=Uint16Array,v.Buf32=Int32Array,v.assign(v,w)):(v.Buf8=Array,v.Buf16=Array,v.Buf32=Array,v.assign(v,_))},v.setTyped(g)},{}],42:[function(d,b,v){var g=d("./common"),w=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{w=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var A=new g.Buf8(256),M=0;M<256;M++)A[M]=252<=M?6:248<=M?5:240<=M?4:224<=M?3:192<=M?2:1;function O(q,F){if(F<65537&&(q.subarray&&_||!q.subarray&&w))return String.fromCharCode.apply(null,g.shrinkBuf(q,F));for(var j="",V=0;V<F;V++)j+=String.fromCharCode(q[V]);return j}A[254]=A[254]=1,v.string2buf=function(q){var F,j,V,G,X,H=q.length,R=0;for(G=0;G<H;G++)(64512&(j=q.charCodeAt(G)))==55296&&G+1<H&&(64512&(V=q.charCodeAt(G+1)))==56320&&(j=65536+(j-55296<<10)+(V-56320),G++),R+=j<128?1:j<2048?2:j<65536?3:4;for(F=new g.Buf8(R),G=X=0;X<R;G++)(64512&(j=q.charCodeAt(G)))==55296&&G+1<H&&(64512&(V=q.charCodeAt(G+1)))==56320&&(j=65536+(j-55296<<10)+(V-56320),G++),j<128?F[X++]=j:(j<2048?F[X++]=192|j>>>6:(j<65536?F[X++]=224|j>>>12:(F[X++]=240|j>>>18,F[X++]=128|j>>>12&63),F[X++]=128|j>>>6&63),F[X++]=128|63&j);return F},v.buf2binstring=function(q){return O(q,q.length)},v.binstring2buf=function(q){for(var F=new g.Buf8(q.length),j=0,V=F.length;j<V;j++)F[j]=q.charCodeAt(j);return F},v.buf2string=function(q,F){var j,V,G,X,H=F||q.length,R=new Array(2*H);for(j=V=0;j<H;)if((G=q[j++])<128)R[V++]=G;else if(4<(X=A[G]))R[V++]=65533,j+=X-1;else{for(G&=X===2?31:X===3?15:7;1<X&&j<H;)G=G<<6|63&q[j++],X--;1<X?R[V++]=65533:G<65536?R[V++]=G:(G-=65536,R[V++]=55296|G>>10&1023,R[V++]=56320|1023&G)}return O(R,V)},v.utf8border=function(q,F){var j;for((F=F||q.length)>q.length&&(F=q.length),j=F-1;0<=j&&(192&q[j])==128;)j--;return j<0||j===0?F:j+A[q[j]]>F?j:F}},{"./common":41}],43:[function(d,b,v){b.exports=function(g,w,_,A){for(var M=65535&g|0,O=g>>>16&65535|0,q=0;_!==0;){for(_-=q=2e3<_?2e3:_;O=O+(M=M+w[A++]|0)|0,--q;);M%=65521,O%=65521}return M|O<<16|0}},{}],44:[function(d,b,v){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,b,v){var g=(function(){for(var w,_=[],A=0;A<256;A++){w=A;for(var M=0;M<8;M++)w=1&w?3988292384^w>>>1:w>>>1;_[A]=w}return _})();b.exports=function(w,_,A,M){var O=g,q=M+A;w^=-1;for(var F=M;F<q;F++)w=w>>>8^O[255&(w^_[F])];return-1^w}},{}],46:[function(d,b,v){var g,w=d("../utils/common"),_=d("./trees"),A=d("./adler32"),M=d("./crc32"),O=d("./messages"),q=-2,F=258,j=262,V=113;function G($,tt){return $.msg=O[tt],tt}function X($){return($<<1)-(4<$?9:0)}function H($){for(var tt=$.length;0<=--tt;)$[tt]=0}function R($){var tt=$.state,U=tt.pending;U>$.avail_out&&(U=$.avail_out),U!==0&&(w.arraySet($.output,tt.pending_buf,tt.pending_out,U,$.next_out),$.next_out+=U,tt.pending_out+=U,$.total_out+=U,$.avail_out-=U,tt.pending-=U,tt.pending===0&&(tt.pending_out=0))}function P($,tt){_._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,tt),$.block_start=$.strstart,R($.strm)}function k($,tt){$.pending_buf[$.pending++]=tt}function x($,tt){$.pending_buf[$.pending++]=tt>>>8&255,$.pending_buf[$.pending++]=255&tt}function S($,tt){var U,L,Q=$.max_chain_length,it=$.strstart,ut=$.prev_length,st=$.nice_match,lt=$.strstart>$.w_size-j?$.strstart-($.w_size-j):0,bt=$.window,yt=$.w_mask,at=$.prev,pt=$.strstart+F,dt=bt[it+ut-1],vt=bt[it+ut];$.prev_length>=$.good_match&&(Q>>=2),st>$.lookahead&&(st=$.lookahead);do if(bt[(U=tt)+ut]===vt&&bt[U+ut-1]===dt&&bt[U]===bt[it]&&bt[++U]===bt[it+1]){it+=2,U++;do;while(bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&bt[++it]===bt[++U]&&it<pt);if(L=F-(pt-it),it=pt-F,ut<L){if($.match_start=tt,st<=(ut=L))break;dt=bt[it+ut-1],vt=bt[it+ut]}}while((tt=at[tt&yt])>lt&&--Q!=0);return ut<=$.lookahead?ut:$.lookahead}function T($){var tt,U,L,Q,it,ut,st,lt,bt,yt,at=$.w_size;do{if(Q=$.window_size-$.lookahead-$.strstart,$.strstart>=at+(at-j)){for(w.arraySet($.window,$.window,at,at,0),$.match_start-=at,$.strstart-=at,$.block_start-=at,tt=U=$.hash_size;L=$.head[--tt],$.head[tt]=at<=L?L-at:0,--U;);for(tt=U=at;L=$.prev[--tt],$.prev[tt]=at<=L?L-at:0,--U;);Q+=at}if($.strm.avail_in===0)break;if(ut=$.strm,st=$.window,lt=$.strstart+$.lookahead,yt=void 0,(bt=Q)<(yt=ut.avail_in)&&(yt=bt),U=yt===0?0:(ut.avail_in-=yt,w.arraySet(st,ut.input,ut.next_in,yt,lt),ut.state.wrap===1?ut.adler=A(ut.adler,st,yt,lt):ut.state.wrap===2&&(ut.adler=M(ut.adler,st,yt,lt)),ut.next_in+=yt,ut.total_in+=yt,yt),$.lookahead+=U,$.lookahead+$.insert>=3)for(it=$.strstart-$.insert,$.ins_h=$.window[it],$.ins_h=($.ins_h<<$.hash_shift^$.window[it+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[it+3-1])&$.hash_mask,$.prev[it&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=it,it++,$.insert--,!($.lookahead+$.insert<3)););}while($.lookahead<j&&$.strm.avail_in!==0)}function E($,tt){for(var U,L;;){if($.lookahead<j){if(T($),$.lookahead<j&&tt===0)return 1;if($.lookahead===0)break}if(U=0,$.lookahead>=3&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,U=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),U!==0&&$.strstart-U<=$.w_size-j&&($.match_length=S($,U)),$.match_length>=3)if(L=_._tr_tally($,$.strstart-$.match_start,$.match_length-3),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=3){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,U=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else L=_._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(L&&(P($,!1),$.strm.avail_out===0))return 1}return $.insert=$.strstart<2?$.strstart:2,tt===4?(P($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(P($,!1),$.strm.avail_out===0)?1:2}function N($,tt){for(var U,L,Q;;){if($.lookahead<j){if(T($),$.lookahead<j&&tt===0)return 1;if($.lookahead===0)break}if(U=0,$.lookahead>=3&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,U=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=2,U!==0&&$.prev_length<$.max_lazy_match&&$.strstart-U<=$.w_size-j&&($.match_length=S($,U),$.match_length<=5&&($.strategy===1||$.match_length===3&&4096<$.strstart-$.match_start)&&($.match_length=2)),$.prev_length>=3&&$.match_length<=$.prev_length){for(Q=$.strstart+$.lookahead-3,L=_._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-3),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=Q&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+3-1])&$.hash_mask,U=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=2,$.strstart++,L&&(P($,!1),$.strm.avail_out===0))return 1}else if($.match_available){if((L=_._tr_tally($,0,$.window[$.strstart-1]))&&P($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return 1}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(L=_._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<2?$.strstart:2,tt===4?(P($,!0),$.strm.avail_out===0?3:4):$.last_lit&&(P($,!1),$.strm.avail_out===0)?1:2}function I($,tt,U,L,Q){this.good_length=$,this.max_lazy=tt,this.nice_length=U,this.max_chain=L,this.func=Q}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new w.Buf16(1146),this.dyn_dtree=new w.Buf16(122),this.bl_tree=new w.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new w.Buf16(16),this.heap=new w.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new w.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function K($){var tt;return $&&$.state?($.total_in=$.total_out=0,$.data_type=2,(tt=$.state).pending=0,tt.pending_out=0,tt.wrap<0&&(tt.wrap=-tt.wrap),tt.status=tt.wrap?42:V,$.adler=tt.wrap===2?0:1,tt.last_flush=0,_._tr_init(tt),0):G($,q)}function Z($){var tt=K($);return tt===0&&(function(U){U.window_size=2*U.w_size,H(U.head),U.max_lazy_match=g[U.level].max_lazy,U.good_match=g[U.level].good_length,U.nice_match=g[U.level].nice_length,U.max_chain_length=g[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=2,U.match_available=0,U.ins_h=0})($.state),tt}function nt($,tt,U,L,Q,it){if(!$)return q;var ut=1;if(tt===-1&&(tt=6),L<0?(ut=0,L=-L):15<L&&(ut=2,L-=16),Q<1||9<Q||U!==8||L<8||15<L||tt<0||9<tt||it<0||4<it)return G($,q);L===8&&(L=9);var st=new B;return($.state=st).strm=$,st.wrap=ut,st.gzhead=null,st.w_bits=L,st.w_size=1<<st.w_bits,st.w_mask=st.w_size-1,st.hash_bits=Q+7,st.hash_size=1<<st.hash_bits,st.hash_mask=st.hash_size-1,st.hash_shift=~~((st.hash_bits+3-1)/3),st.window=new w.Buf8(2*st.w_size),st.head=new w.Buf16(st.hash_size),st.prev=new w.Buf16(st.w_size),st.lit_bufsize=1<<Q+6,st.pending_buf_size=4*st.lit_bufsize,st.pending_buf=new w.Buf8(st.pending_buf_size),st.d_buf=1*st.lit_bufsize,st.l_buf=3*st.lit_bufsize,st.level=tt,st.strategy=it,st.method=U,Z($)}g=[new I(0,0,0,0,(function($,tt){var U=65535;for(U>$.pending_buf_size-5&&(U=$.pending_buf_size-5);;){if($.lookahead<=1){if(T($),$.lookahead===0&&tt===0)return 1;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var L=$.block_start+U;if(($.strstart===0||$.strstart>=L)&&($.lookahead=$.strstart-L,$.strstart=L,P($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-j&&(P($,!1),$.strm.avail_out===0))return 1}return $.insert=0,tt===4?(P($,!0),$.strm.avail_out===0?3:4):($.strstart>$.block_start&&(P($,!1),$.strm.avail_out),1)})),new I(4,4,8,4,E),new I(4,5,16,8,E),new I(4,6,32,32,E),new I(4,4,16,16,N),new I(8,16,32,32,N),new I(8,16,128,128,N),new I(8,32,128,256,N),new I(32,128,258,1024,N),new I(32,258,258,4096,N)],v.deflateInit=function($,tt){return nt($,tt,8,15,8,0)},v.deflateInit2=nt,v.deflateReset=Z,v.deflateResetKeep=K,v.deflateSetHeader=function($,tt){return $&&$.state?$.state.wrap!==2?q:($.state.gzhead=tt,0):q},v.deflate=function($,tt){var U,L,Q,it;if(!$||!$.state||5<tt||tt<0)return $?G($,q):q;if(L=$.state,!$.output||!$.input&&$.avail_in!==0||L.status===666&&tt!==4)return G($,$.avail_out===0?-5:q);if(L.strm=$,U=L.last_flush,L.last_flush=tt,L.status===42)if(L.wrap===2)$.adler=0,k(L,31),k(L,139),k(L,8),L.gzhead?(k(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),k(L,255&L.gzhead.time),k(L,L.gzhead.time>>8&255),k(L,L.gzhead.time>>16&255),k(L,L.gzhead.time>>24&255),k(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),k(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(k(L,255&L.gzhead.extra.length),k(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&($.adler=M($.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(k(L,0),k(L,0),k(L,0),k(L,0),k(L,0),k(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),k(L,3),L.status=V);else{var ut=8+(L.w_bits-8<<4)<<8;ut|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(ut|=32),ut+=31-ut%31,L.status=V,x(L,ut),L.strstart!==0&&(x(L,$.adler>>>16),x(L,65535&$.adler)),$.adler=1}if(L.status===69)if(L.gzhead.extra){for(Q=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>Q&&($.adler=M($.adler,L.pending_buf,L.pending-Q,Q)),R($),Q=L.pending,L.pending!==L.pending_buf_size));)k(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>Q&&($.adler=M($.adler,L.pending_buf,L.pending-Q,Q)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){Q=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>Q&&($.adler=M($.adler,L.pending_buf,L.pending-Q,Q)),R($),Q=L.pending,L.pending===L.pending_buf_size)){it=1;break}it=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,k(L,it)}while(it!==0);L.gzhead.hcrc&&L.pending>Q&&($.adler=M($.adler,L.pending_buf,L.pending-Q,Q)),it===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){Q=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>Q&&($.adler=M($.adler,L.pending_buf,L.pending-Q,Q)),R($),Q=L.pending,L.pending===L.pending_buf_size)){it=1;break}it=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,k(L,it)}while(it!==0);L.gzhead.hcrc&&L.pending>Q&&($.adler=M($.adler,L.pending_buf,L.pending-Q,Q)),it===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&R($),L.pending+2<=L.pending_buf_size&&(k(L,255&$.adler),k(L,$.adler>>8&255),$.adler=0,L.status=V)):L.status=V),L.pending!==0){if(R($),$.avail_out===0)return L.last_flush=-1,0}else if($.avail_in===0&&X(tt)<=X(U)&&tt!==4)return G($,-5);if(L.status===666&&$.avail_in!==0)return G($,-5);if($.avail_in!==0||L.lookahead!==0||tt!==0&&L.status!==666){var st=L.strategy===2?(function(lt,bt){for(var yt;;){if(lt.lookahead===0&&(T(lt),lt.lookahead===0)){if(bt===0)return 1;break}if(lt.match_length=0,yt=_._tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++,yt&&(P(lt,!1),lt.strm.avail_out===0))return 1}return lt.insert=0,bt===4?(P(lt,!0),lt.strm.avail_out===0?3:4):lt.last_lit&&(P(lt,!1),lt.strm.avail_out===0)?1:2})(L,tt):L.strategy===3?(function(lt,bt){for(var yt,at,pt,dt,vt=lt.window;;){if(lt.lookahead<=F){if(T(lt),lt.lookahead<=F&&bt===0)return 1;if(lt.lookahead===0)break}if(lt.match_length=0,lt.lookahead>=3&&0<lt.strstart&&(at=vt[pt=lt.strstart-1])===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]){dt=lt.strstart+F;do;while(at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&at===vt[++pt]&&pt<dt);lt.match_length=F-(dt-pt),lt.match_length>lt.lookahead&&(lt.match_length=lt.lookahead)}if(lt.match_length>=3?(yt=_._tr_tally(lt,1,lt.match_length-3),lt.lookahead-=lt.match_length,lt.strstart+=lt.match_length,lt.match_length=0):(yt=_._tr_tally(lt,0,lt.window[lt.strstart]),lt.lookahead--,lt.strstart++),yt&&(P(lt,!1),lt.strm.avail_out===0))return 1}return lt.insert=0,bt===4?(P(lt,!0),lt.strm.avail_out===0?3:4):lt.last_lit&&(P(lt,!1),lt.strm.avail_out===0)?1:2})(L,tt):g[L.level].func(L,tt);if(st!==3&&st!==4||(L.status=666),st===1||st===3)return $.avail_out===0&&(L.last_flush=-1),0;if(st===2&&(tt===1?_._tr_align(L):tt!==5&&(_._tr_stored_block(L,0,0,!1),tt===3&&(H(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),R($),$.avail_out===0))return L.last_flush=-1,0}return tt!==4?0:L.wrap<=0?1:(L.wrap===2?(k(L,255&$.adler),k(L,$.adler>>8&255),k(L,$.adler>>16&255),k(L,$.adler>>24&255),k(L,255&$.total_in),k(L,$.total_in>>8&255),k(L,$.total_in>>16&255),k(L,$.total_in>>24&255)):(x(L,$.adler>>>16),x(L,65535&$.adler)),R($),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?0:1)},v.deflateEnd=function($){var tt;return $&&$.state?(tt=$.state.status)!==42&&tt!==69&&tt!==73&&tt!==91&&tt!==103&&tt!==V&&tt!==666?G($,q):($.state=null,tt===V?G($,-3):0):q},v.deflateSetDictionary=function($,tt){var U,L,Q,it,ut,st,lt,bt,yt=tt.length;if(!$||!$.state||(it=(U=$.state).wrap)===2||it===1&&U.status!==42||U.lookahead)return q;for(it===1&&($.adler=A($.adler,tt,yt,0)),U.wrap=0,yt>=U.w_size&&(it===0&&(H(U.head),U.strstart=0,U.block_start=0,U.insert=0),bt=new w.Buf8(U.w_size),w.arraySet(bt,tt,yt-U.w_size,U.w_size,0),tt=bt,yt=U.w_size),ut=$.avail_in,st=$.next_in,lt=$.input,$.avail_in=yt,$.next_in=0,$.input=tt,T(U);U.lookahead>=3;){for(L=U.strstart,Q=U.lookahead-2;U.ins_h=(U.ins_h<<U.hash_shift^U.window[L+3-1])&U.hash_mask,U.prev[L&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=L,L++,--Q;);U.strstart=L,U.lookahead=2,T(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=2,U.match_available=0,$.next_in=st,$.input=lt,$.avail_in=ut,U.wrap=it,0},v.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,b,v){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,b,v){b.exports=function(g,w){var _,A,M,O,q,F,j,V,G,X,H,R,P,k,x,S,T,E,N,I,B,K,Z,nt,$;_=g.state,A=g.next_in,nt=g.input,M=A+(g.avail_in-5),O=g.next_out,$=g.output,q=O-(w-g.avail_out),F=O+(g.avail_out-257),j=_.dmax,V=_.wsize,G=_.whave,X=_.wnext,H=_.window,R=_.hold,P=_.bits,k=_.lencode,x=_.distcode,S=(1<<_.lenbits)-1,T=(1<<_.distbits)-1;t:do{P<15&&(R+=nt[A++]<<P,P+=8,R+=nt[A++]<<P,P+=8),E=k[R&S];e:for(;;){if(R>>>=N=E>>>24,P-=N,(N=E>>>16&255)==0)$[O++]=65535&E;else{if(!(16&N)){if((64&N)==0){E=k[(65535&E)+(R&(1<<N)-1)];continue e}if(32&N){_.mode=12;break t}g.msg="invalid literal/length code",_.mode=30;break t}I=65535&E,(N&=15)&&(P<N&&(R+=nt[A++]<<P,P+=8),I+=R&(1<<N)-1,R>>>=N,P-=N),P<15&&(R+=nt[A++]<<P,P+=8,R+=nt[A++]<<P,P+=8),E=x[R&T];r:for(;;){if(R>>>=N=E>>>24,P-=N,!(16&(N=E>>>16&255))){if((64&N)==0){E=x[(65535&E)+(R&(1<<N)-1)];continue r}g.msg="invalid distance code",_.mode=30;break t}if(B=65535&E,P<(N&=15)&&(R+=nt[A++]<<P,(P+=8)<N&&(R+=nt[A++]<<P,P+=8)),j<(B+=R&(1<<N)-1)){g.msg="invalid distance too far back",_.mode=30;break t}if(R>>>=N,P-=N,(N=O-q)<B){if(G<(N=B-N)&&_.sane){g.msg="invalid distance too far back",_.mode=30;break t}if(Z=H,(K=0)===X){if(K+=V-N,N<I){for(I-=N;$[O++]=H[K++],--N;);K=O-B,Z=$}}else if(X<N){if(K+=V+X-N,(N-=X)<I){for(I-=N;$[O++]=H[K++],--N;);if(K=0,X<I){for(I-=N=X;$[O++]=H[K++],--N;);K=O-B,Z=$}}}else if(K+=X-N,N<I){for(I-=N;$[O++]=H[K++],--N;);K=O-B,Z=$}for(;2<I;)$[O++]=Z[K++],$[O++]=Z[K++],$[O++]=Z[K++],I-=3;I&&($[O++]=Z[K++],1<I&&($[O++]=Z[K++]))}else{for(K=O-B;$[O++]=$[K++],$[O++]=$[K++],$[O++]=$[K++],2<(I-=3););I&&($[O++]=$[K++],1<I&&($[O++]=$[K++]))}break}}break}}while(A<M&&O<F);A-=I=P>>3,R&=(1<<(P-=I<<3))-1,g.next_in=A,g.next_out=O,g.avail_in=A<M?M-A+5:5-(A-M),g.avail_out=O<F?F-O+257:257-(O-F),_.hold=R,_.bits=P}},{}],49:[function(d,b,v){var g=d("../utils/common"),w=d("./adler32"),_=d("./crc32"),A=d("./inffast"),M=d("./inftrees"),O=-2;function q(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function F(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function j(S){var T;return S&&S.state?(T=S.state,S.total_in=S.total_out=T.total=0,S.msg="",T.wrap&&(S.adler=1&T.wrap),T.mode=1,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new g.Buf32(852),T.distcode=T.distdyn=new g.Buf32(592),T.sane=1,T.back=-1,0):O}function V(S){var T;return S&&S.state?((T=S.state).wsize=0,T.whave=0,T.wnext=0,j(S)):O}function G(S,T){var E,N;return S&&S.state?(N=S.state,T<0?(E=0,T=-T):(E=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?O:(N.window!==null&&N.wbits!==T&&(N.window=null),N.wrap=E,N.wbits=T,V(S))):O}function X(S,T){var E,N;return S?(N=new F,(S.state=N).window=null,(E=G(S,T))!==0&&(S.state=null),E):O}var H,R,P=!0;function k(S){if(P){var T;for(H=new g.Buf32(512),R=new g.Buf32(32),T=0;T<144;)S.lens[T++]=8;for(;T<256;)S.lens[T++]=9;for(;T<280;)S.lens[T++]=7;for(;T<288;)S.lens[T++]=8;for(M(1,S.lens,0,288,H,0,S.work,{bits:9}),T=0;T<32;)S.lens[T++]=5;M(2,S.lens,0,32,R,0,S.work,{bits:5}),P=!1}S.lencode=H,S.lenbits=9,S.distcode=R,S.distbits=5}function x(S,T,E,N){var I,B=S.state;return B.window===null&&(B.wsize=1<<B.wbits,B.wnext=0,B.whave=0,B.window=new g.Buf8(B.wsize)),N>=B.wsize?(g.arraySet(B.window,T,E-B.wsize,B.wsize,0),B.wnext=0,B.whave=B.wsize):(N<(I=B.wsize-B.wnext)&&(I=N),g.arraySet(B.window,T,E-N,I,B.wnext),(N-=I)?(g.arraySet(B.window,T,E-N,N,0),B.wnext=N,B.whave=B.wsize):(B.wnext+=I,B.wnext===B.wsize&&(B.wnext=0),B.whave<B.wsize&&(B.whave+=I))),0}v.inflateReset=V,v.inflateReset2=G,v.inflateResetKeep=j,v.inflateInit=function(S){return X(S,15)},v.inflateInit2=X,v.inflate=function(S,T){var E,N,I,B,K,Z,nt,$,tt,U,L,Q,it,ut,st,lt,bt,yt,at,pt,dt,vt,xt,wt,jt=0,It=new g.Buf8(4),Ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return O;(E=S.state).mode===12&&(E.mode=13),K=S.next_out,I=S.output,nt=S.avail_out,B=S.next_in,N=S.input,Z=S.avail_in,$=E.hold,tt=E.bits,U=Z,L=nt,vt=0;t:for(;;)switch(E.mode){case 1:if(E.wrap===0){E.mode=13;break}for(;tt<16;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if(2&E.wrap&&$===35615){It[E.check=0]=255&$,It[1]=$>>>8&255,E.check=_(E.check,It,2,0),tt=$=0,E.mode=2;break}if(E.flags=0,E.head&&(E.head.done=!1),!(1&E.wrap)||(((255&$)<<8)+($>>8))%31){S.msg="incorrect header check",E.mode=30;break}if((15&$)!=8){S.msg="unknown compression method",E.mode=30;break}if(tt-=4,dt=8+(15&($>>>=4)),E.wbits===0)E.wbits=dt;else if(dt>E.wbits){S.msg="invalid window size",E.mode=30;break}E.dmax=1<<dt,S.adler=E.check=1,E.mode=512&$?10:12,tt=$=0;break;case 2:for(;tt<16;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if(E.flags=$,(255&E.flags)!=8){S.msg="unknown compression method",E.mode=30;break}if(57344&E.flags){S.msg="unknown header flags set",E.mode=30;break}E.head&&(E.head.text=$>>8&1),512&E.flags&&(It[0]=255&$,It[1]=$>>>8&255,E.check=_(E.check,It,2,0)),tt=$=0,E.mode=3;case 3:for(;tt<32;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}E.head&&(E.head.time=$),512&E.flags&&(It[0]=255&$,It[1]=$>>>8&255,It[2]=$>>>16&255,It[3]=$>>>24&255,E.check=_(E.check,It,4,0)),tt=$=0,E.mode=4;case 4:for(;tt<16;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}E.head&&(E.head.xflags=255&$,E.head.os=$>>8),512&E.flags&&(It[0]=255&$,It[1]=$>>>8&255,E.check=_(E.check,It,2,0)),tt=$=0,E.mode=5;case 5:if(1024&E.flags){for(;tt<16;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}E.length=$,E.head&&(E.head.extra_len=$),512&E.flags&&(It[0]=255&$,It[1]=$>>>8&255,E.check=_(E.check,It,2,0)),tt=$=0}else E.head&&(E.head.extra=null);E.mode=6;case 6:if(1024&E.flags&&(Z<(Q=E.length)&&(Q=Z),Q&&(E.head&&(dt=E.head.extra_len-E.length,E.head.extra||(E.head.extra=new Array(E.head.extra_len)),g.arraySet(E.head.extra,N,B,Q,dt)),512&E.flags&&(E.check=_(E.check,N,Q,B)),Z-=Q,B+=Q,E.length-=Q),E.length))break t;E.length=0,E.mode=7;case 7:if(2048&E.flags){if(Z===0)break t;for(Q=0;dt=N[B+Q++],E.head&&dt&&E.length<65536&&(E.head.name+=String.fromCharCode(dt)),dt&&Q<Z;);if(512&E.flags&&(E.check=_(E.check,N,Q,B)),Z-=Q,B+=Q,dt)break t}else E.head&&(E.head.name=null);E.length=0,E.mode=8;case 8:if(4096&E.flags){if(Z===0)break t;for(Q=0;dt=N[B+Q++],E.head&&dt&&E.length<65536&&(E.head.comment+=String.fromCharCode(dt)),dt&&Q<Z;);if(512&E.flags&&(E.check=_(E.check,N,Q,B)),Z-=Q,B+=Q,dt)break t}else E.head&&(E.head.comment=null);E.mode=9;case 9:if(512&E.flags){for(;tt<16;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if($!==(65535&E.check)){S.msg="header crc mismatch",E.mode=30;break}tt=$=0}E.head&&(E.head.hcrc=E.flags>>9&1,E.head.done=!0),S.adler=E.check=0,E.mode=12;break;case 10:for(;tt<32;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}S.adler=E.check=q($),tt=$=0,E.mode=11;case 11:if(E.havedict===0)return S.next_out=K,S.avail_out=nt,S.next_in=B,S.avail_in=Z,E.hold=$,E.bits=tt,2;S.adler=E.check=1,E.mode=12;case 12:if(T===5||T===6)break t;case 13:if(E.last){$>>>=7&tt,tt-=7&tt,E.mode=27;break}for(;tt<3;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}switch(E.last=1&$,tt-=1,3&($>>>=1)){case 0:E.mode=14;break;case 1:if(k(E),E.mode=20,T!==6)break;$>>>=2,tt-=2;break t;case 2:E.mode=17;break;case 3:S.msg="invalid block type",E.mode=30}$>>>=2,tt-=2;break;case 14:for($>>>=7&tt,tt-=7&tt;tt<32;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if((65535&$)!=($>>>16^65535)){S.msg="invalid stored block lengths",E.mode=30;break}if(E.length=65535&$,tt=$=0,E.mode=15,T===6)break t;case 15:E.mode=16;case 16:if(Q=E.length){if(Z<Q&&(Q=Z),nt<Q&&(Q=nt),Q===0)break t;g.arraySet(I,N,B,Q,K),Z-=Q,B+=Q,nt-=Q,K+=Q,E.length-=Q;break}E.mode=12;break;case 17:for(;tt<14;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if(E.nlen=257+(31&$),$>>>=5,tt-=5,E.ndist=1+(31&$),$>>>=5,tt-=5,E.ncode=4+(15&$),$>>>=4,tt-=4,286<E.nlen||30<E.ndist){S.msg="too many length or distance symbols",E.mode=30;break}E.have=0,E.mode=18;case 18:for(;E.have<E.ncode;){for(;tt<3;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}E.lens[Ht[E.have++]]=7&$,$>>>=3,tt-=3}for(;E.have<19;)E.lens[Ht[E.have++]]=0;if(E.lencode=E.lendyn,E.lenbits=7,xt={bits:E.lenbits},vt=M(0,E.lens,0,19,E.lencode,0,E.work,xt),E.lenbits=xt.bits,vt){S.msg="invalid code lengths set",E.mode=30;break}E.have=0,E.mode=19;case 19:for(;E.have<E.nlen+E.ndist;){for(;lt=(jt=E.lencode[$&(1<<E.lenbits)-1])>>>16&255,bt=65535&jt,!((st=jt>>>24)<=tt);){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if(bt<16)$>>>=st,tt-=st,E.lens[E.have++]=bt;else{if(bt===16){for(wt=st+2;tt<wt;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if($>>>=st,tt-=st,E.have===0){S.msg="invalid bit length repeat",E.mode=30;break}dt=E.lens[E.have-1],Q=3+(3&$),$>>>=2,tt-=2}else if(bt===17){for(wt=st+3;tt<wt;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}tt-=st,dt=0,Q=3+(7&($>>>=st)),$>>>=3,tt-=3}else{for(wt=st+7;tt<wt;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}tt-=st,dt=0,Q=11+(127&($>>>=st)),$>>>=7,tt-=7}if(E.have+Q>E.nlen+E.ndist){S.msg="invalid bit length repeat",E.mode=30;break}for(;Q--;)E.lens[E.have++]=dt}}if(E.mode===30)break;if(E.lens[256]===0){S.msg="invalid code -- missing end-of-block",E.mode=30;break}if(E.lenbits=9,xt={bits:E.lenbits},vt=M(1,E.lens,0,E.nlen,E.lencode,0,E.work,xt),E.lenbits=xt.bits,vt){S.msg="invalid literal/lengths set",E.mode=30;break}if(E.distbits=6,E.distcode=E.distdyn,xt={bits:E.distbits},vt=M(2,E.lens,E.nlen,E.ndist,E.distcode,0,E.work,xt),E.distbits=xt.bits,vt){S.msg="invalid distances set",E.mode=30;break}if(E.mode=20,T===6)break t;case 20:E.mode=21;case 21:if(6<=Z&&258<=nt){S.next_out=K,S.avail_out=nt,S.next_in=B,S.avail_in=Z,E.hold=$,E.bits=tt,A(S,L),K=S.next_out,I=S.output,nt=S.avail_out,B=S.next_in,N=S.input,Z=S.avail_in,$=E.hold,tt=E.bits,E.mode===12&&(E.back=-1);break}for(E.back=0;lt=(jt=E.lencode[$&(1<<E.lenbits)-1])>>>16&255,bt=65535&jt,!((st=jt>>>24)<=tt);){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if(lt&&(240&lt)==0){for(yt=st,at=lt,pt=bt;lt=(jt=E.lencode[pt+(($&(1<<yt+at)-1)>>yt)])>>>16&255,bt=65535&jt,!(yt+(st=jt>>>24)<=tt);){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}$>>>=yt,tt-=yt,E.back+=yt}if($>>>=st,tt-=st,E.back+=st,E.length=bt,lt===0){E.mode=26;break}if(32&lt){E.back=-1,E.mode=12;break}if(64&lt){S.msg="invalid literal/length code",E.mode=30;break}E.extra=15&lt,E.mode=22;case 22:if(E.extra){for(wt=E.extra;tt<wt;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}E.length+=$&(1<<E.extra)-1,$>>>=E.extra,tt-=E.extra,E.back+=E.extra}E.was=E.length,E.mode=23;case 23:for(;lt=(jt=E.distcode[$&(1<<E.distbits)-1])>>>16&255,bt=65535&jt,!((st=jt>>>24)<=tt);){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if((240&lt)==0){for(yt=st,at=lt,pt=bt;lt=(jt=E.distcode[pt+(($&(1<<yt+at)-1)>>yt)])>>>16&255,bt=65535&jt,!(yt+(st=jt>>>24)<=tt);){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}$>>>=yt,tt-=yt,E.back+=yt}if($>>>=st,tt-=st,E.back+=st,64&lt){S.msg="invalid distance code",E.mode=30;break}E.offset=bt,E.extra=15&lt,E.mode=24;case 24:if(E.extra){for(wt=E.extra;tt<wt;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}E.offset+=$&(1<<E.extra)-1,$>>>=E.extra,tt-=E.extra,E.back+=E.extra}if(E.offset>E.dmax){S.msg="invalid distance too far back",E.mode=30;break}E.mode=25;case 25:if(nt===0)break t;if(Q=L-nt,E.offset>Q){if((Q=E.offset-Q)>E.whave&&E.sane){S.msg="invalid distance too far back",E.mode=30;break}it=Q>E.wnext?(Q-=E.wnext,E.wsize-Q):E.wnext-Q,Q>E.length&&(Q=E.length),ut=E.window}else ut=I,it=K-E.offset,Q=E.length;for(nt<Q&&(Q=nt),nt-=Q,E.length-=Q;I[K++]=ut[it++],--Q;);E.length===0&&(E.mode=21);break;case 26:if(nt===0)break t;I[K++]=E.length,nt--,E.mode=21;break;case 27:if(E.wrap){for(;tt<32;){if(Z===0)break t;Z--,$|=N[B++]<<tt,tt+=8}if(L-=nt,S.total_out+=L,E.total+=L,L&&(S.adler=E.check=E.flags?_(E.check,I,L,K-L):w(E.check,I,L,K-L)),L=nt,(E.flags?$:q($))!==E.check){S.msg="incorrect data check",E.mode=30;break}tt=$=0}E.mode=28;case 28:if(E.wrap&&E.flags){for(;tt<32;){if(Z===0)break t;Z--,$+=N[B++]<<tt,tt+=8}if($!==(4294967295&E.total)){S.msg="incorrect length check",E.mode=30;break}tt=$=0}E.mode=29;case 29:vt=1;break t;case 30:vt=-3;break t;case 31:return-4;default:return O}return S.next_out=K,S.avail_out=nt,S.next_in=B,S.avail_in=Z,E.hold=$,E.bits=tt,(E.wsize||L!==S.avail_out&&E.mode<30&&(E.mode<27||T!==4))&&x(S,S.output,S.next_out,L-S.avail_out)?(E.mode=31,-4):(U-=S.avail_in,L-=S.avail_out,S.total_in+=U,S.total_out+=L,E.total+=L,E.wrap&&L&&(S.adler=E.check=E.flags?_(E.check,I,L,S.next_out-L):w(E.check,I,L,S.next_out-L)),S.data_type=E.bits+(E.last?64:0)+(E.mode===12?128:0)+(E.mode===20||E.mode===15?256:0),(U==0&&L===0||T===4)&&vt===0&&(vt=-5),vt)},v.inflateEnd=function(S){if(!S||!S.state)return O;var T=S.state;return T.window&&(T.window=null),S.state=null,0},v.inflateGetHeader=function(S,T){var E;return S&&S.state?(2&(E=S.state).wrap)==0?O:((E.head=T).done=!1,0):O},v.inflateSetDictionary=function(S,T){var E,N=T.length;return S&&S.state?(E=S.state).wrap!==0&&E.mode!==11?O:E.mode===11&&w(1,T,N,0)!==E.check?-3:x(S,T,N,N)?(E.mode=31,-4):(E.havedict=1,0):O},v.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,b,v){var g=d("../utils/common"),w=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],M=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(O,q,F,j,V,G,X,H){var R,P,k,x,S,T,E,N,I,B=H.bits,K=0,Z=0,nt=0,$=0,tt=0,U=0,L=0,Q=0,it=0,ut=0,st=null,lt=0,bt=new g.Buf16(16),yt=new g.Buf16(16),at=null,pt=0;for(K=0;K<=15;K++)bt[K]=0;for(Z=0;Z<j;Z++)bt[q[F+Z]]++;for(tt=B,$=15;1<=$&&bt[$]===0;$--);if($<tt&&(tt=$),$===0)return V[G++]=20971520,V[G++]=20971520,H.bits=1,0;for(nt=1;nt<$&&bt[nt]===0;nt++);for(tt<nt&&(tt=nt),K=Q=1;K<=15;K++)if(Q<<=1,(Q-=bt[K])<0)return-1;if(0<Q&&(O===0||$!==1))return-1;for(yt[1]=0,K=1;K<15;K++)yt[K+1]=yt[K]+bt[K];for(Z=0;Z<j;Z++)q[F+Z]!==0&&(X[yt[q[F+Z]]++]=Z);if(T=O===0?(st=at=X,19):O===1?(st=w,lt-=257,at=_,pt-=257,256):(st=A,at=M,-1),K=nt,S=G,L=Z=ut=0,k=-1,x=(it=1<<(U=tt))-1,O===1&&852<it||O===2&&592<it)return 1;for(;;){for(E=K-L,I=X[Z]<T?(N=0,X[Z]):X[Z]>T?(N=at[pt+X[Z]],st[lt+X[Z]]):(N=96,0),R=1<<K-L,nt=P=1<<U;V[S+(ut>>L)+(P-=R)]=E<<24|N<<16|I|0,P!==0;);for(R=1<<K-1;ut&R;)R>>=1;if(R!==0?(ut&=R-1,ut+=R):ut=0,Z++,--bt[K]==0){if(K===$)break;K=q[F+X[Z]]}if(tt<K&&(ut&x)!==k){for(L===0&&(L=tt),S+=nt,Q=1<<(U=K-L);U+L<$&&!((Q-=bt[U+L])<=0);)U++,Q<<=1;if(it+=1<<U,O===1&&852<it||O===2&&592<it)return 1;V[k=ut&x]=tt<<24|U<<16|S-G|0}}return ut!==0&&(V[S+ut]=K-L<<24|64<<16|0),H.bits=tt,0}},{"../utils/common":41}],51:[function(d,b,v){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,b,v){var g=d("../utils/common");function w(at){for(var pt=at.length;0<=--pt;)at[pt]=0}var _=256,A=286,M=30,O=15,q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(576);w(G);var X=new Array(60);w(X);var H=new Array(512);w(H);var R=new Array(256);w(R);var P=new Array(29);w(P);var k,x,S,T=new Array(M);function E(at,pt,dt,vt,xt){this.static_tree=at,this.extra_bits=pt,this.extra_base=dt,this.elems=vt,this.max_length=xt,this.has_stree=at&&at.length}function N(at,pt){this.dyn_tree=at,this.max_code=0,this.stat_desc=pt}function I(at){return at<256?H[at]:H[256+(at>>>7)]}function B(at,pt){at.pending_buf[at.pending++]=255&pt,at.pending_buf[at.pending++]=pt>>>8&255}function K(at,pt,dt){at.bi_valid>16-dt?(at.bi_buf|=pt<<at.bi_valid&65535,B(at,at.bi_buf),at.bi_buf=pt>>16-at.bi_valid,at.bi_valid+=dt-16):(at.bi_buf|=pt<<at.bi_valid&65535,at.bi_valid+=dt)}function Z(at,pt,dt){K(at,dt[2*pt],dt[2*pt+1])}function nt(at,pt){for(var dt=0;dt|=1&at,at>>>=1,dt<<=1,0<--pt;);return dt>>>1}function $(at,pt,dt){var vt,xt,wt=new Array(16),jt=0;for(vt=1;vt<=O;vt++)wt[vt]=jt=jt+dt[vt-1]<<1;for(xt=0;xt<=pt;xt++){var It=at[2*xt+1];It!==0&&(at[2*xt]=nt(wt[It]++,It))}}function tt(at){var pt;for(pt=0;pt<A;pt++)at.dyn_ltree[2*pt]=0;for(pt=0;pt<M;pt++)at.dyn_dtree[2*pt]=0;for(pt=0;pt<19;pt++)at.bl_tree[2*pt]=0;at.dyn_ltree[512]=1,at.opt_len=at.static_len=0,at.last_lit=at.matches=0}function U(at){8<at.bi_valid?B(at,at.bi_buf):0<at.bi_valid&&(at.pending_buf[at.pending++]=at.bi_buf),at.bi_buf=0,at.bi_valid=0}function L(at,pt,dt,vt){var xt=2*pt,wt=2*dt;return at[xt]<at[wt]||at[xt]===at[wt]&&vt[pt]<=vt[dt]}function Q(at,pt,dt){for(var vt=at.heap[dt],xt=dt<<1;xt<=at.heap_len&&(xt<at.heap_len&&L(pt,at.heap[xt+1],at.heap[xt],at.depth)&&xt++,!L(pt,vt,at.heap[xt],at.depth));)at.heap[dt]=at.heap[xt],dt=xt,xt<<=1;at.heap[dt]=vt}function it(at,pt,dt){var vt,xt,wt,jt,It=0;if(at.last_lit!==0)for(;vt=at.pending_buf[at.d_buf+2*It]<<8|at.pending_buf[at.d_buf+2*It+1],xt=at.pending_buf[at.l_buf+It],It++,vt===0?Z(at,xt,pt):(Z(at,(wt=R[xt])+_+1,pt),(jt=q[wt])!==0&&K(at,xt-=P[wt],jt),Z(at,wt=I(--vt),dt),(jt=F[wt])!==0&&K(at,vt-=T[wt],jt)),It<at.last_lit;);Z(at,256,pt)}function ut(at,pt){var dt,vt,xt,wt=pt.dyn_tree,jt=pt.stat_desc.static_tree,It=pt.stat_desc.has_stree,Ht=pt.stat_desc.elems,ee=-1;for(at.heap_len=0,at.heap_max=573,dt=0;dt<Ht;dt++)wt[2*dt]!==0?(at.heap[++at.heap_len]=ee=dt,at.depth[dt]=0):wt[2*dt+1]=0;for(;at.heap_len<2;)wt[2*(xt=at.heap[++at.heap_len]=ee<2?++ee:0)]=1,at.depth[xt]=0,at.opt_len--,It&&(at.static_len-=jt[2*xt+1]);for(pt.max_code=ee,dt=at.heap_len>>1;1<=dt;dt--)Q(at,wt,dt);for(xt=Ht;dt=at.heap[1],at.heap[1]=at.heap[at.heap_len--],Q(at,wt,1),vt=at.heap[1],at.heap[--at.heap_max]=dt,at.heap[--at.heap_max]=vt,wt[2*xt]=wt[2*dt]+wt[2*vt],at.depth[xt]=(at.depth[dt]>=at.depth[vt]?at.depth[dt]:at.depth[vt])+1,wt[2*dt+1]=wt[2*vt+1]=xt,at.heap[1]=xt++,Q(at,wt,1),2<=at.heap_len;);at.heap[--at.heap_max]=at.heap[1],(function(Qt,Kt){var be,fe,de,ge,Zt,Gt,te=Kt.dyn_tree,re=Kt.max_code,oe=Kt.stat_desc.static_tree,Oe=Kt.stat_desc.has_stree,We=Kt.stat_desc.extra_bits,he=Kt.stat_desc.extra_base,Ve=Kt.stat_desc.max_length,ve=0;for(ge=0;ge<=O;ge++)Qt.bl_count[ge]=0;for(te[2*Qt.heap[Qt.heap_max]+1]=0,be=Qt.heap_max+1;be<573;be++)Ve<(ge=te[2*te[2*(fe=Qt.heap[be])+1]+1]+1)&&(ge=Ve,ve++),te[2*fe+1]=ge,re<fe||(Qt.bl_count[ge]++,Zt=0,he<=fe&&(Zt=We[fe-he]),Gt=te[2*fe],Qt.opt_len+=Gt*(ge+Zt),Oe&&(Qt.static_len+=Gt*(oe[2*fe+1]+Zt)));if(ve!==0){do{for(ge=Ve-1;Qt.bl_count[ge]===0;)ge--;Qt.bl_count[ge]--,Qt.bl_count[ge+1]+=2,Qt.bl_count[Ve]--,ve-=2}while(0<ve);for(ge=Ve;ge!==0;ge--)for(fe=Qt.bl_count[ge];fe!==0;)re<(de=Qt.heap[--be])||(te[2*de+1]!==ge&&(Qt.opt_len+=(ge-te[2*de+1])*te[2*de],te[2*de+1]=ge),fe--)}})(at,pt),$(wt,ee,at.bl_count)}function st(at,pt,dt){var vt,xt,wt=-1,jt=pt[1],It=0,Ht=7,ee=4;for(jt===0&&(Ht=138,ee=3),pt[2*(dt+1)+1]=65535,vt=0;vt<=dt;vt++)xt=jt,jt=pt[2*(vt+1)+1],++It<Ht&&xt===jt||(It<ee?at.bl_tree[2*xt]+=It:xt!==0?(xt!==wt&&at.bl_tree[2*xt]++,at.bl_tree[32]++):It<=10?at.bl_tree[34]++:at.bl_tree[36]++,wt=xt,ee=(It=0)===jt?(Ht=138,3):xt===jt?(Ht=6,3):(Ht=7,4))}function lt(at,pt,dt){var vt,xt,wt=-1,jt=pt[1],It=0,Ht=7,ee=4;for(jt===0&&(Ht=138,ee=3),vt=0;vt<=dt;vt++)if(xt=jt,jt=pt[2*(vt+1)+1],!(++It<Ht&&xt===jt)){if(It<ee)for(;Z(at,xt,at.bl_tree),--It!=0;);else xt!==0?(xt!==wt&&(Z(at,xt,at.bl_tree),It--),Z(at,16,at.bl_tree),K(at,It-3,2)):It<=10?(Z(at,17,at.bl_tree),K(at,It-3,3)):(Z(at,18,at.bl_tree),K(at,It-11,7));wt=xt,ee=(It=0)===jt?(Ht=138,3):xt===jt?(Ht=6,3):(Ht=7,4)}}w(T);var bt=!1;function yt(at,pt,dt,vt){K(at,0+(vt?1:0),3),(function(xt,wt,jt,It){U(xt),B(xt,jt),B(xt,~jt),g.arraySet(xt.pending_buf,xt.window,wt,jt,xt.pending),xt.pending+=jt})(at,pt,dt)}v._tr_init=function(at){bt||((function(){var pt,dt,vt,xt,wt,jt=new Array(16);for(xt=vt=0;xt<28;xt++)for(P[xt]=vt,pt=0;pt<1<<q[xt];pt++)R[vt++]=xt;for(R[vt-1]=xt,xt=wt=0;xt<16;xt++)for(T[xt]=wt,pt=0;pt<1<<F[xt];pt++)H[wt++]=xt;for(wt>>=7;xt<M;xt++)for(T[xt]=wt<<7,pt=0;pt<1<<F[xt]-7;pt++)H[256+wt++]=xt;for(dt=0;dt<=O;dt++)jt[dt]=0;for(pt=0;pt<=143;)G[2*pt+1]=8,pt++,jt[8]++;for(;pt<=255;)G[2*pt+1]=9,pt++,jt[9]++;for(;pt<=279;)G[2*pt+1]=7,pt++,jt[7]++;for(;pt<=287;)G[2*pt+1]=8,pt++,jt[8]++;for($(G,287,jt),pt=0;pt<M;pt++)X[2*pt+1]=5,X[2*pt]=nt(pt,5);k=new E(G,q,257,A,O),x=new E(X,F,0,M,O),S=new E(new Array(0),j,0,19,7)})(),bt=!0),at.l_desc=new N(at.dyn_ltree,k),at.d_desc=new N(at.dyn_dtree,x),at.bl_desc=new N(at.bl_tree,S),at.bi_buf=0,at.bi_valid=0,tt(at)},v._tr_stored_block=yt,v._tr_flush_block=function(at,pt,dt,vt){var xt,wt,jt=0;0<at.level?(at.strm.data_type===2&&(at.strm.data_type=(function(It){var Ht,ee=4093624447;for(Ht=0;Ht<=31;Ht++,ee>>>=1)if(1&ee&&It.dyn_ltree[2*Ht]!==0)return 0;if(It.dyn_ltree[18]!==0||It.dyn_ltree[20]!==0||It.dyn_ltree[26]!==0)return 1;for(Ht=32;Ht<_;Ht++)if(It.dyn_ltree[2*Ht]!==0)return 1;return 0})(at)),ut(at,at.l_desc),ut(at,at.d_desc),jt=(function(It){var Ht;for(st(It,It.dyn_ltree,It.l_desc.max_code),st(It,It.dyn_dtree,It.d_desc.max_code),ut(It,It.bl_desc),Ht=18;3<=Ht&&It.bl_tree[2*V[Ht]+1]===0;Ht--);return It.opt_len+=3*(Ht+1)+5+5+4,Ht})(at),xt=at.opt_len+3+7>>>3,(wt=at.static_len+3+7>>>3)<=xt&&(xt=wt)):xt=wt=dt+5,dt+4<=xt&&pt!==-1?yt(at,pt,dt,vt):at.strategy===4||wt===xt?(K(at,2+(vt?1:0),3),it(at,G,X)):(K(at,4+(vt?1:0),3),(function(It,Ht,ee,Qt){var Kt;for(K(It,Ht-257,5),K(It,ee-1,5),K(It,Qt-4,4),Kt=0;Kt<Qt;Kt++)K(It,It.bl_tree[2*V[Kt]+1],3);lt(It,It.dyn_ltree,Ht-1),lt(It,It.dyn_dtree,ee-1)})(at,at.l_desc.max_code+1,at.d_desc.max_code+1,jt+1),it(at,at.dyn_ltree,at.dyn_dtree)),tt(at),vt&&U(at)},v._tr_tally=function(at,pt,dt){return at.pending_buf[at.d_buf+2*at.last_lit]=pt>>>8&255,at.pending_buf[at.d_buf+2*at.last_lit+1]=255&pt,at.pending_buf[at.l_buf+at.last_lit]=255&dt,at.last_lit++,pt===0?at.dyn_ltree[2*dt]++:(at.matches++,pt--,at.dyn_ltree[2*(R[dt]+_+1)]++,at.dyn_dtree[2*I(pt)]++),at.last_lit===at.lit_bufsize-1},v._tr_align=function(at){K(at,2,3),Z(at,256,G),(function(pt){pt.bi_valid===16?(B(pt,pt.bi_buf),pt.bi_buf=0,pt.bi_valid=0):8<=pt.bi_valid&&(pt.pending_buf[pt.pending++]=255&pt.bi_buf,pt.bi_buf>>=8,pt.bi_valid-=8)})(at)}},{"../utils/common":41}],53:[function(d,b,v){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,b,v){(function(g){(function(w,_){if(!w.setImmediate){var A,M,O,q,F=1,j={},V=!1,G=w.document,X=Object.getPrototypeOf&&Object.getPrototypeOf(w);X=X&&X.setTimeout?X:w,A={}.toString.call(w.process)==="[object process]"?function(k){o.nextTick((function(){R(k)}))}:(function(){if(w.postMessage&&!w.importScripts){var k=!0,x=w.onmessage;return w.onmessage=function(){k=!1},w.postMessage("","*"),w.onmessage=x,k}})()?(q="setImmediate$"+Math.random()+"$",w.addEventListener?w.addEventListener("message",P,!1):w.attachEvent("onmessage",P),function(k){w.postMessage(q+k,"*")}):w.MessageChannel?((O=new MessageChannel).port1.onmessage=function(k){R(k.data)},function(k){O.port2.postMessage(k)}):G&&"onreadystatechange"in G.createElement("script")?(M=G.documentElement,function(k){var x=G.createElement("script");x.onreadystatechange=function(){R(k),x.onreadystatechange=null,M.removeChild(x),x=null},M.appendChild(x)}):function(k){setTimeout(R,0,k)},X.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var x=new Array(arguments.length-1),S=0;S<x.length;S++)x[S]=arguments[S+1];var T={callback:k,args:x};return j[F]=T,A(F),F++},X.clearImmediate=H}function H(k){delete j[k]}function R(k){if(V)setTimeout(R,0,k);else{var x=j[k];if(x){V=!0;try{(function(S){var T=S.callback,E=S.args;switch(E.length){case 0:T();break;case 1:T(E[0]);break;case 2:T(E[0],E[1]);break;case 3:T(E[0],E[1],E[2]);break;default:T.apply(void 0,E)}})(x)}finally{H(k),V=!1}}}}function P(k){k.source===w&&typeof k.data=="string"&&k.data.indexOf(q)===0&&R(+k.data.slice(q.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)}))}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,i,c){(function(o){(function(){var s=/[\\^$.*+?()[\]{}|]/g,h=RegExp(s.source),a=typeof o=="object"&&o&&o.Object===Object&&o,n=typeof self=="object"&&self&&self.Object===Object&&self,u=a||n||Function("return this")(),m=Object.prototype.toString,f=u.Symbol,d=f?f.prototype:void 0,b=d?d.toString:void 0;function v(g){if(typeof g=="string")return g;if((function(_){return typeof _=="symbol"||(function(A){return!!A&&typeof A=="object"})(_)&&m.call(_)=="[object Symbol]"})(g))return b?b.call(g):"";var w=g+"";return w=="0"&&1/g==-1/0?"-0":w}i.exports=function(g){var w;return(g=(w=g)==null?"":v(w))&&h.test(g)?g.replace(s,"\\$&"):g}}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,i,c){(function(o){(function(){var s="[object Arguments]",h="[object Map]",a="[object Object]",n="[object Set]",u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/,f=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,b=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,g=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[s]=w["[object Array]"]=w["[object ArrayBuffer]"]=w["[object Boolean]"]=w["[object DataView]"]=w["[object Date]"]=w["[object Error]"]=w["[object Function]"]=w[h]=w["[object Number]"]=w[a]=w["[object RegExp]"]=w[n]=w["[object String]"]=w["[object WeakMap]"]=!1;var _=typeof o=="object"&&o&&o.Object===Object&&o,A=typeof self=="object"&&self&&self.Object===Object&&self,M=_||A||Function("return this")(),O=typeof c=="object"&&c&&!c.nodeType&&c,q=O&&typeof i=="object"&&i&&!i.nodeType&&i,F=q&&q.exports===O&&_.process,j=(function(){try{return F&&F.binding("util")}catch{}})(),V=j&&j.isTypedArray;function G(ht,ft,St,Mt){for(var Wt=-1,zt=ht?ht.length:0;++Wt<zt;){var qt=ht[Wt];ft(Mt,qt,St(qt),ht)}return Mt}function X(ht,ft){for(var St=-1,Mt=ht?ht.length:0;++St<Mt;)if(ft(ht[St],St,ht))return!0;return!1}function H(ht){var ft=!1;if(ht!=null&&typeof ht.toString!="function")try{ft=!!(ht+"")}catch{}return ft}function R(ht){var ft=-1,St=Array(ht.size);return ht.forEach((function(Mt,Wt){St[++ft]=[Wt,Mt]})),St}function P(ht){var ft=-1,St=Array(ht.size);return ht.forEach((function(Mt){St[++ft]=Mt})),St}var k,x,S,T=Array.prototype,E=Function.prototype,N=Object.prototype,I=M["__core-js_shared__"],B=(k=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",K=E.toString,Z=N.hasOwnProperty,nt=N.toString,$=RegExp("^"+K.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tt=M.Symbol,U=M.Uint8Array,L=N.propertyIsEnumerable,Q=T.splice,it=(x=Object.keys,S=Object,function(ht){return x(S(ht))}),ut=_e(M,"DataView"),st=_e(M,"Map"),lt=_e(M,"Promise"),bt=_e(M,"Set"),yt=_e(M,"WeakMap"),at=_e(Object,"create"),pt=Tt(ut),dt=Tt(st),vt=Tt(lt),xt=Tt(bt),wt=Tt(yt),jt=tt?tt.prototype:void 0,It=jt?jt.valueOf:void 0,Ht=jt?jt.toString:void 0;function ee(ht){var ft=-1,St=ht?ht.length:0;for(this.clear();++ft<St;){var Mt=ht[ft];this.set(Mt[0],Mt[1])}}function Qt(ht){var ft=-1,St=ht?ht.length:0;for(this.clear();++ft<St;){var Mt=ht[ft];this.set(Mt[0],Mt[1])}}function Kt(ht){var ft=-1,St=ht?ht.length:0;for(this.clear();++ft<St;){var Mt=ht[ft];this.set(Mt[0],Mt[1])}}function be(ht){var ft=-1,St=ht?ht.length:0;for(this.__data__=new Kt;++ft<St;)this.add(ht[ft])}function fe(ht){this.__data__=new Qt(ht)}function de(ht,ft){var St=Lt(ht)||le(ht)?(function(qt,Ie){for(var ae=-1,xe=Array(qt);++ae<qt;)xe[ae]=Ie(ae);return xe})(ht.length,String):[],Mt=St.length,Wt=!!Mt;for(var zt in ht)!Z.call(ht,zt)||Wt&&(zt=="length"||qe(zt,Mt))||St.push(zt);return St}function ge(ht,ft){for(var St=ht.length;St--;)if(Xt(ht[St][0],ft))return St;return-1}function Zt(ht,ft,St,Mt){return te(ht,(function(Wt,zt,qt){ft(Mt,Wt,St(Wt),qt)})),Mt}ee.prototype.clear=function(){this.__data__=at?at(null):{}},ee.prototype.delete=function(ht){return this.has(ht)&&delete this.__data__[ht]},ee.prototype.get=function(ht){var ft=this.__data__;if(at){var St=ft[ht];return St==="__lodash_hash_undefined__"?void 0:St}return Z.call(ft,ht)?ft[ht]:void 0},ee.prototype.has=function(ht){var ft=this.__data__;return at?ft[ht]!==void 0:Z.call(ft,ht)},ee.prototype.set=function(ht,ft){return this.__data__[ht]=at&&ft===void 0?"__lodash_hash_undefined__":ft,this},Qt.prototype.clear=function(){this.__data__=[]},Qt.prototype.delete=function(ht){var ft=this.__data__,St=ge(ft,ht);return!(St<0)&&(St==ft.length-1?ft.pop():Q.call(ft,St,1),!0)},Qt.prototype.get=function(ht){var ft=this.__data__,St=ge(ft,ht);return St<0?void 0:ft[St][1]},Qt.prototype.has=function(ht){return ge(this.__data__,ht)>-1},Qt.prototype.set=function(ht,ft){var St=this.__data__,Mt=ge(St,ht);return Mt<0?St.push([ht,ft]):St[Mt][1]=ft,this},Kt.prototype.clear=function(){this.__data__={hash:new ee,map:new(st||Qt),string:new ee}},Kt.prototype.delete=function(ht){return Ne(this,ht).delete(ht)},Kt.prototype.get=function(ht){return Ne(this,ht).get(ht)},Kt.prototype.has=function(ht){return Ne(this,ht).has(ht)},Kt.prototype.set=function(ht,ft){return Ne(this,ht).set(ht,ft),this},be.prototype.add=be.prototype.push=function(ht){return this.__data__.set(ht,"__lodash_hash_undefined__"),this},be.prototype.has=function(ht){return this.__data__.has(ht)},fe.prototype.clear=function(){this.__data__=new Qt},fe.prototype.delete=function(ht){return this.__data__.delete(ht)},fe.prototype.get=function(ht){return this.__data__.get(ht)},fe.prototype.has=function(ht){return this.__data__.has(ht)},fe.prototype.set=function(ht,ft){var St=this.__data__;if(St instanceof Qt){var Mt=St.__data__;if(!st||Mt.length<199)return Mt.push([ht,ft]),this;St=this.__data__=new Kt(Mt)}return St.set(ht,ft),this};var Gt,te=(Gt=function(ht,ft){return ht&&re(ht,ft,dr)},function(ht,ft){if(ht==null)return ht;if(!Yt(ht))return Gt(ht,ft);for(var St=ht.length,Mt=-1,Wt=Object(ht);++Mt<St&&ft(Wt[Mt],Mt,Wt)!==!1;);return ht}),re=(function(ht){return function(ft,St,Mt){for(var Wt=-1,zt=Object(ft),qt=Mt(ft),Ie=qt.length;Ie--;){var ae=qt[++Wt];if(St(zt[ae],ae,zt)===!1)break}return ft}})();function oe(ht,ft){for(var St=0,Mt=(ft=Se(ft,ht)?[ft]:we(ft)).length;ht!=null&&St<Mt;)ht=ht[mt(ft[St++])];return St&&St==Mt?ht:void 0}function Oe(ht,ft){return ht!=null&&ft in Object(ht)}function We(ht,ft,St,Mt,Wt){return ht===ft||(ht==null||ft==null||!ke(ht)&&!br(ft)?ht!=ht&&ft!=ft:(function(zt,qt,Ie,ae,xe,ne){var Ae=Lt(zt),Be=Lt(qt),Ee="[object Array]",Ue="[object Array]";Ae||(Ee=(Ee=He(zt))==s?a:Ee),Be||(Ue=(Ue=He(qt))==s?a:Ue);var Rr=Ee==a&&!H(zt),Hr=Ue==a&&!H(qt),Qe=Ee==Ue;if(Qe&&!Rr)return ne||(ne=new fe),Ae||Tr(zt)?ze(zt,qt,Ie,ae,xe,ne):(function(nr,rr,In,vn,Ki,Vr,Dr){switch(In){case"[object DataView]":if(nr.byteLength!=rr.byteLength||nr.byteOffset!=rr.byteOffset)return!1;nr=nr.buffer,rr=rr.buffer;case"[object ArrayBuffer]":return!(nr.byteLength!=rr.byteLength||!vn(new U(nr),new U(rr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Xt(+nr,+rr);case"[object Error]":return nr.name==rr.name&&nr.message==rr.message;case"[object RegExp]":case"[object String]":return nr==rr+"";case h:var Un=R;case n:var di=2&Vr;if(Un||(Un=P),nr.size!=rr.size&&!di)return!1;var Ni=Dr.get(nr);if(Ni)return Ni==rr;Vr|=1,Dr.set(nr,rr);var Fn=ze(Un(nr),Un(rr),vn,Ki,Vr,Dr);return Dr.delete(nr),Fn;case"[object Symbol]":if(It)return It.call(nr)==It.call(rr)}return!1})(zt,qt,Ee,Ie,ae,xe,ne);if(!(2&xe)){var An=Rr&&Z.call(zt,"__wrapped__"),un=Hr&&Z.call(qt,"__wrapped__");if(An||un){var Nn=An?zt.value():zt,qr=un?qt.value():qt;return ne||(ne=new fe),Ie(Nn,qr,ae,xe,ne)}}return Qe?(ne||(ne=new fe),(function(nr,rr,In,vn,Ki,Vr){var Dr=2&Ki,Un=dr(nr),di=Un.length,Ni=dr(rr).length;if(di!=Ni&&!Dr)return!1;for(var Fn=di;Fn--;){var Hn=Un[Fn];if(!(Dr?Hn in rr:Z.call(rr,Hn)))return!1}var pi=Vr.get(nr);if(pi&&Vr.get(rr))return pi==rr;var mi=!0;Vr.set(nr,rr),Vr.set(rr,nr);for(var Cn=Dr;++Fn<di;){Hn=Un[Fn];var Ii=nr[Hn],cn=rr[Hn];if(vn)var gi=Dr?vn(cn,Ii,Hn,rr,nr,Vr):vn(Ii,cn,Hn,nr,rr,Vr);if(!(gi===void 0?Ii===cn||In(Ii,cn,vn,Ki,Vr):gi)){mi=!1;break}Cn||(Cn=Hn=="constructor")}if(mi&&!Cn){var kn=nr.constructor,Jn=rr.constructor;kn==Jn||!("constructor"in nr)||!("constructor"in rr)||typeof kn=="function"&&kn instanceof kn&&typeof Jn=="function"&&Jn instanceof Jn||(mi=!1)}return Vr.delete(nr),Vr.delete(rr),mi})(zt,qt,Ie,ae,xe,ne)):!1})(ht,ft,We,St,Mt,Wt))}function he(ht){return!(!ke(ht)||(function(ft){return!!B&&B in ft})(ht))&&(ue(ht)||H(ht)?$:v).test(Tt(ht))}function Ve(ht){return typeof ht=="function"?ht:ht==null?_r:typeof ht=="object"?Lt(ht)?(function(Mt,Wt){return Se(Mt)&&Je(Wt)?Ke(mt(Mt),Wt):function(zt){var qt=(function(Ie,ae,xe){var ne=Ie==null?void 0:oe(Ie,ae);return ne===void 0?xe:ne})(zt,Mt);return qt===void 0&&qt===Wt?(function(Ie,ae){return Ie!=null&&(function(xe,ne,Ae){ne=Se(ne,xe)?[ne]:we(ne);for(var Be,Ee=-1,Ue=ne.length;++Ee<Ue;){var Rr=mt(ne[Ee]);if(!(Be=xe!=null&&Ae(xe,Rr)))break;xe=xe[Rr]}return Be||!!(Ue=xe?xe.length:0)&&se(Ue)&&qe(Rr,Ue)&&(Lt(xe)||le(xe))})(Ie,ae,Oe)})(zt,Mt):We(Wt,qt,void 0,3)}})(ht[0],ht[1]):(function(Mt){var Wt=(function(zt){for(var qt=dr(zt),Ie=qt.length;Ie--;){var ae=qt[Ie],xe=zt[ae];qt[Ie]=[ae,xe,Je(xe)]}return qt})(Mt);return Wt.length==1&&Wt[0][2]?Ke(Wt[0][0],Wt[0][1]):function(zt){return zt===Mt||(function(qt,Ie,ae,xe){var ne=ae.length,Ae=ne;if(qt==null)return!Ae;for(qt=Object(qt);ne--;){var Be=ae[ne];if(Be[2]?Be[1]!==qt[Be[0]]:!(Be[0]in qt))return!1}for(;++ne<Ae;){var Ee=(Be=ae[ne])[0],Ue=qt[Ee],Rr=Be[1];if(Be[2]){if(Ue===void 0&&!(Ee in qt))return!1}else{var Hr=new fe,Qe;if(!(Qe===void 0?We(Rr,Ue,xe,3,Hr):Qe))return!1}}return!0})(zt,Mt,Wt)}})(ht):Se(ft=ht)?(St=mt(ft),function(Mt){return Mt?.[St]}):(function(Mt){return function(Wt){return oe(Wt,Mt)}})(ft);var ft,St}function ve(ht){if(St=(ft=ht)&&ft.constructor,Mt=typeof St=="function"&&St.prototype||N,ft!==Mt)return it(ht);var ft,St,Mt,Wt=[];for(var zt in Object(ht))Z.call(ht,zt)&&zt!="constructor"&&Wt.push(zt);return Wt}function we(ht){return Lt(ht)?ht:Ce(ht)}function ze(ht,ft,St,Mt,Wt,zt){var qt=2&Wt,Ie=ht.length,ae=ft.length;if(Ie!=ae&&!(qt&&ae>Ie))return!1;var xe=zt.get(ht);if(xe&&zt.get(ft))return xe==ft;var ne=-1,Ae=!0,Be=1&Wt?new be:void 0;for(zt.set(ht,ft),zt.set(ft,ht);++ne<Ie;){var Ee=ht[ne],Ue=ft[ne];if(Mt)var Rr=qt?Mt(Ue,Ee,ne,ft,ht,zt):Mt(Ee,Ue,ne,ht,ft,zt);if(Rr!==void 0){if(Rr)continue;Ae=!1;break}if(Be){if(!X(ft,(function(Hr,Qe){if(!Be.has(Qe)&&(Ee===Hr||St(Ee,Hr,Mt,Wt,zt)))return Be.add(Qe)}))){Ae=!1;break}}else if(Ee!==Ue&&!St(Ee,Ue,Mt,Wt,zt)){Ae=!1;break}}return zt.delete(ht),zt.delete(ft),Ae}function Ne(ht,ft){var St,Mt,Wt=ht.__data__;return((Mt=typeof(St=ft))=="string"||Mt=="number"||Mt=="symbol"||Mt=="boolean"?St!=="__proto__":St===null)?Wt[typeof ft=="string"?"string":"hash"]:Wt.map}function _e(ht,ft){var St=(function(Mt,Wt){return Mt?.[Wt]})(ht,ft);return he(St)?St:void 0}var He=function(ht){return nt.call(ht)};function qe(ht,ft){return!!(ft=ft??9007199254740991)&&(typeof ht=="number"||g.test(ht))&&ht>-1&&ht%1==0&&ht<ft}function Se(ht,ft){if(Lt(ht))return!1;var St=typeof ht;return!(St!="number"&&St!="symbol"&&St!="boolean"&&ht!=null&&!tr(ht))||m.test(ht)||!u.test(ht)||ft!=null&&ht in Object(ft)}function Je(ht){return ht==ht&&!ke(ht)}function Ke(ht,ft){return function(St){return St!=null&&St[ht]===ft&&(ft!==void 0||ht in Object(St))}}(ut&&He(new ut(new ArrayBuffer(1)))!="[object DataView]"||st&&He(new st)!=h||lt&&He(lt.resolve())!="[object Promise]"||bt&&He(new bt)!=n||yt&&He(new yt)!="[object WeakMap]")&&(He=function(ht){var ft=nt.call(ht),St=ft==a?ht.constructor:void 0,Mt=St?Tt(St):void 0;if(Mt)switch(Mt){case pt:return"[object DataView]";case dt:return h;case vt:return"[object Promise]";case xt:return n;case wt:return"[object WeakMap]"}return ft});var Ce=pe((function(ht){var ft;ht=(ft=ht)==null?"":(function(Mt){if(typeof Mt=="string")return Mt;if(tr(Mt))return Ht?Ht.call(Mt):"";var Wt=Mt+"";return Wt=="0"&&1/Mt==-1/0?"-0":Wt})(ft);var St=[];return f.test(ht)&&St.push(""),ht.replace(d,(function(Mt,Wt,zt,qt){St.push(zt?qt.replace(b,"$1"):Wt||Mt)})),St}));function mt(ht){if(typeof ht=="string"||tr(ht))return ht;var ft=ht+"";return ft=="0"&&1/ht==-1/0?"-0":ft}function Tt(ht){if(ht!=null){try{return K.call(ht)}catch{}try{return ht+""}catch{}}return""}var Dt,Jt=(Dt=function(ht,ft,St){Z.call(ht,St)?ht[St].push(ft):ht[St]=[ft]},function(ht,ft){var St=Lt(ht)?G:Zt,Mt={};return St(ht,Dt,Ve(ft),Mt)});function pe(ht,ft){if(typeof ht!="function"||ft&&typeof ft!="function")throw new TypeError("Expected a function");var St=function(){var Mt=arguments,Wt=ft?ft.apply(this,Mt):Mt[0],zt=St.cache;if(zt.has(Wt))return zt.get(Wt);var qt=ht.apply(this,Mt);return St.cache=zt.set(Wt,qt),qt};return St.cache=new(pe.Cache||Kt),St}function Xt(ht,ft){return ht===ft||ht!=ht&&ft!=ft}function le(ht){return(function(ft){return br(ft)&&Yt(ft)})(ht)&&Z.call(ht,"callee")&&(!L.call(ht,"callee")||nt.call(ht)==s)}pe.Cache=Kt;var Lt=Array.isArray;function Yt(ht){return ht!=null&&se(ht.length)&&!ue(ht)}function ue(ht){var ft=ke(ht)?nt.call(ht):"";return ft=="[object Function]"||ft=="[object GeneratorFunction]"}function se(ht){return typeof ht=="number"&&ht>-1&&ht%1==0&&ht<=9007199254740991}function ke(ht){var ft=typeof ht;return!!ht&&(ft=="object"||ft=="function")}function br(ht){return!!ht&&typeof ht=="object"}function tr(ht){return typeof ht=="symbol"||br(ht)&&nt.call(ht)=="[object Symbol]"}var Tr=V?(function(ht){return function(ft){return ht(ft)}})(V):function(ht){return br(ht)&&se(ht.length)&&!!w[nt.call(ht)]};function dr(ht){return Yt(ht)?de(ht):ve(ht)}function _r(ht){return ht}i.exports=Jt}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,i,c){var o=Object.prototype.toString;i.exports=function(s){return s===!0||s===!1||(function(h){return!!h&&typeof h=="object"})(s)&&o.call(s)=="[object Boolean]"}},{}],445:[function(t,i,c){(function(o){(function(){var s="[object Arguments]",h="[object Map]",a="[object Object]",n="[object Set]",u=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[s]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[h]=f["[object Number]"]=f[a]=f["[object RegExp]"]=f[n]=f["[object String]"]=f["[object WeakMap]"]=!1;var d=typeof o=="object"&&o&&o.Object===Object&&o,b=typeof self=="object"&&self&&self.Object===Object&&self,v=d||b||Function("return this")(),g=typeof c=="object"&&c&&!c.nodeType&&c,w=g&&typeof i=="object"&&i&&!i.nodeType&&i,_=w&&w.exports===g,A=_&&d.process,M=(function(){try{return A&&A.binding&&A.binding("util")}catch{}})(),O=M&&M.isTypedArray;function q(mt,Tt){for(var Dt=-1,Jt=mt==null?0:mt.length;++Dt<Jt;)if(Tt(mt[Dt],Dt,mt))return!0;return!1}function F(mt){var Tt=-1,Dt=Array(mt.size);return mt.forEach((function(Jt,pe){Dt[++Tt]=[pe,Jt]})),Dt}function j(mt){var Tt=-1,Dt=Array(mt.size);return mt.forEach((function(Jt){Dt[++Tt]=Jt})),Dt}var V,G,X,H=Array.prototype,R=Function.prototype,P=Object.prototype,k=v["__core-js_shared__"],x=R.toString,S=P.hasOwnProperty,T=(V=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+V:"",E=P.toString,N=RegExp("^"+x.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),I=_?v.Buffer:void 0,B=v.Symbol,K=v.Uint8Array,Z=P.propertyIsEnumerable,nt=H.splice,$=B?B.toStringTag:void 0,tt=Object.getOwnPropertySymbols,U=I?I.isBuffer:void 0,L=(G=Object.keys,X=Object,function(mt){return G(X(mt))}),Q=Oe(v,"DataView"),it=Oe(v,"Map"),ut=Oe(v,"Promise"),st=Oe(v,"Set"),lt=Oe(v,"WeakMap"),bt=Oe(Object,"create"),yt=ve(Q),at=ve(it),pt=ve(ut),dt=ve(st),vt=ve(lt),xt=B?B.prototype:void 0,wt=xt?xt.valueOf:void 0;function jt(mt){var Tt=-1,Dt=mt==null?0:mt.length;for(this.clear();++Tt<Dt;){var Jt=mt[Tt];this.set(Jt[0],Jt[1])}}function It(mt){var Tt=-1,Dt=mt==null?0:mt.length;for(this.clear();++Tt<Dt;){var Jt=mt[Tt];this.set(Jt[0],Jt[1])}}function Ht(mt){var Tt=-1,Dt=mt==null?0:mt.length;for(this.clear();++Tt<Dt;){var Jt=mt[Tt];this.set(Jt[0],Jt[1])}}function ee(mt){var Tt=-1,Dt=mt==null?0:mt.length;for(this.__data__=new Ht;++Tt<Dt;)this.add(mt[Tt])}function Qt(mt){var Tt=this.__data__=new It(mt);this.size=Tt.size}function Kt(mt,Tt){var Dt=Ne(mt),Jt=!Dt&&ze(mt),pe=!Dt&&!Jt&&_e(mt),Xt=!Dt&&!Jt&&!pe&&Ke(mt),le=Dt||Jt||pe||Xt,Lt=le?(function(se,ke){for(var br=-1,tr=Array(se);++br<se;)tr[br]=ke(br);return tr})(mt.length,String):[],Yt=Lt.length;for(var ue in mt)!S.call(mt,ue)||le&&(ue=="length"||pe&&(ue=="offset"||ue=="parent")||Xt&&(ue=="buffer"||ue=="byteLength"||ue=="byteOffset")||Ve(ue,Yt))||Lt.push(ue);return Lt}function be(mt,Tt){for(var Dt=mt.length;Dt--;)if(we(mt[Dt][0],Tt))return Dt;return-1}function fe(mt){return mt==null?mt===void 0?"[object Undefined]":"[object Null]":$&&$ in Object(mt)?(function(Tt){var Dt=S.call(Tt,$),Jt=Tt[$];try{Tt[$]=void 0;var pe=!0}catch{}var Xt=E.call(Tt);return pe&&(Dt?Tt[$]=Jt:delete Tt[$]),Xt})(mt):(function(Tt){return E.call(Tt)})(mt)}function de(mt){return Je(mt)&&fe(mt)==s}function ge(mt,Tt,Dt,Jt,pe){return mt===Tt||(mt==null||Tt==null||!Je(mt)&&!Je(Tt)?mt!=mt&&Tt!=Tt:(function(Xt,le,Lt,Yt,ue,se){var ke=Ne(Xt),br=Ne(le),tr=ke?"[object Array]":he(Xt),Tr=br?"[object Array]":he(le),dr=(tr=tr==s?a:tr)==a,_r=(Tr=Tr==s?a:Tr)==a,ht=tr==Tr;if(ht&&_e(Xt)){if(!_e(le))return!1;ke=!0,dr=!1}if(ht&&!dr)return se||(se=new Qt),ke||Ke(Xt)?te(Xt,le,Lt,Yt,ue,se):(function(zt,qt,Ie,ae,xe,ne,Ae){switch(Ie){case"[object DataView]":if(zt.byteLength!=qt.byteLength||zt.byteOffset!=qt.byteOffset)return!1;zt=zt.buffer,qt=qt.buffer;case"[object ArrayBuffer]":return!(zt.byteLength!=qt.byteLength||!ne(new K(zt),new K(qt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return we(+zt,+qt);case"[object Error]":return zt.name==qt.name&&zt.message==qt.message;case"[object RegExp]":case"[object String]":return zt==qt+"";case h:var Be=F;case n:var Ee=1&ae;if(Be||(Be=j),zt.size!=qt.size&&!Ee)return!1;var Ue=Ae.get(zt);if(Ue)return Ue==qt;ae|=2,Ae.set(zt,qt);var Rr=te(Be(zt),Be(qt),ae,xe,ne,Ae);return Ae.delete(zt),Rr;case"[object Symbol]":if(wt)return wt.call(zt)==wt.call(qt)}return!1})(Xt,le,tr,Lt,Yt,ue,se);if(!(1&Lt)){var ft=dr&&S.call(Xt,"__wrapped__"),St=_r&&S.call(le,"__wrapped__");if(ft||St){var Mt=ft?Xt.value():Xt,Wt=St?le.value():le;return se||(se=new Qt),ue(Mt,Wt,Lt,Yt,se)}}return ht?(se||(se=new Qt),(function(zt,qt,Ie,ae,xe,ne){var Ae=1&Ie,Be=re(zt),Ee=Be.length,Ue=re(qt).length;if(Ee!=Ue&&!Ae)return!1;for(var Rr=Ee;Rr--;){var Hr=Be[Rr];if(!(Ae?Hr in qt:S.call(qt,Hr)))return!1}var Qe=ne.get(zt);if(Qe&&ne.get(qt))return Qe==qt;var An=!0;ne.set(zt,qt),ne.set(qt,zt);for(var un=Ae;++Rr<Ee;){Hr=Be[Rr];var Nn=zt[Hr],qr=qt[Hr];if(ae)var nr=Ae?ae(qr,Nn,Hr,qt,zt,ne):ae(Nn,qr,Hr,zt,qt,ne);if(!(nr===void 0?Nn===qr||xe(Nn,qr,Ie,ae,ne):nr)){An=!1;break}un||(un=Hr=="constructor")}if(An&&!un){var rr=zt.constructor,In=qt.constructor;rr==In||!("constructor"in zt)||!("constructor"in qt)||typeof rr=="function"&&rr instanceof rr&&typeof In=="function"&&In instanceof In||(An=!1)}return ne.delete(zt),ne.delete(qt),An})(Xt,le,Lt,Yt,ue,se)):!1})(mt,Tt,Dt,Jt,ge,pe))}function Zt(mt){return!(!Se(mt)||(function(Tt){return!!T&&T in Tt})(mt))&&(He(mt)?N:u).test(ve(mt))}function Gt(mt){if(Dt=(Tt=mt)&&Tt.constructor,Jt=typeof Dt=="function"&&Dt.prototype||P,Tt!==Jt)return L(mt);var Tt,Dt,Jt,pe=[];for(var Xt in Object(mt))S.call(mt,Xt)&&Xt!="constructor"&&pe.push(Xt);return pe}function te(mt,Tt,Dt,Jt,pe,Xt){var le=1&Dt,Lt=mt.length,Yt=Tt.length;if(Lt!=Yt&&!(le&&Yt>Lt))return!1;var ue=Xt.get(mt);if(ue&&Xt.get(Tt))return ue==Tt;var se=-1,ke=!0,br=2&Dt?new ee:void 0;for(Xt.set(mt,Tt),Xt.set(Tt,mt);++se<Lt;){var tr=mt[se],Tr=Tt[se];if(Jt)var dr=le?Jt(Tr,tr,se,Tt,mt,Xt):Jt(tr,Tr,se,mt,Tt,Xt);if(dr!==void 0){if(dr)continue;ke=!1;break}if(br){if(!q(Tt,(function(_r,ht){if(ft=ht,!br.has(ft)&&(tr===_r||pe(tr,_r,Dt,Jt,Xt)))return br.push(ht);var ft}))){ke=!1;break}}else if(tr!==Tr&&!pe(tr,Tr,Dt,Jt,Xt)){ke=!1;break}}return Xt.delete(mt),Xt.delete(Tt),ke}function re(mt){return(function(Tt,Dt,Jt){var pe=Dt(Tt);return Ne(Tt)?pe:(function(Xt,le){for(var Lt=-1,Yt=le.length,ue=Xt.length;++Lt<Yt;)Xt[ue+Lt]=le[Lt];return Xt})(pe,Jt(Tt))})(mt,Ce,We)}function oe(mt,Tt){var Dt,Jt,pe=mt.__data__;return((Jt=typeof(Dt=Tt))=="string"||Jt=="number"||Jt=="symbol"||Jt=="boolean"?Dt!=="__proto__":Dt===null)?pe[typeof Tt=="string"?"string":"hash"]:pe.map}function Oe(mt,Tt){var Dt=(function(Jt,pe){return Jt?.[pe]})(mt,Tt);return Zt(Dt)?Dt:void 0}jt.prototype.clear=function(){this.__data__=bt?bt(null):{},this.size=0},jt.prototype.delete=function(mt){var Tt=this.has(mt)&&delete this.__data__[mt];return this.size-=Tt?1:0,Tt},jt.prototype.get=function(mt){var Tt=this.__data__;if(bt){var Dt=Tt[mt];return Dt==="__lodash_hash_undefined__"?void 0:Dt}return S.call(Tt,mt)?Tt[mt]:void 0},jt.prototype.has=function(mt){var Tt=this.__data__;return bt?Tt[mt]!==void 0:S.call(Tt,mt)},jt.prototype.set=function(mt,Tt){var Dt=this.__data__;return this.size+=this.has(mt)?0:1,Dt[mt]=bt&&Tt===void 0?"__lodash_hash_undefined__":Tt,this},It.prototype.clear=function(){this.__data__=[],this.size=0},It.prototype.delete=function(mt){var Tt=this.__data__,Dt=be(Tt,mt);return!(Dt<0)&&(Dt==Tt.length-1?Tt.pop():nt.call(Tt,Dt,1),--this.size,!0)},It.prototype.get=function(mt){var Tt=this.__data__,Dt=be(Tt,mt);return Dt<0?void 0:Tt[Dt][1]},It.prototype.has=function(mt){return be(this.__data__,mt)>-1},It.prototype.set=function(mt,Tt){var Dt=this.__data__,Jt=be(Dt,mt);return Jt<0?(++this.size,Dt.push([mt,Tt])):Dt[Jt][1]=Tt,this},Ht.prototype.clear=function(){this.size=0,this.__data__={hash:new jt,map:new(it||It),string:new jt}},Ht.prototype.delete=function(mt){var Tt=oe(this,mt).delete(mt);return this.size-=Tt?1:0,Tt},Ht.prototype.get=function(mt){return oe(this,mt).get(mt)},Ht.prototype.has=function(mt){return oe(this,mt).has(mt)},Ht.prototype.set=function(mt,Tt){var Dt=oe(this,mt),Jt=Dt.size;return Dt.set(mt,Tt),this.size+=Dt.size==Jt?0:1,this},ee.prototype.add=ee.prototype.push=function(mt){return this.__data__.set(mt,"__lodash_hash_undefined__"),this},ee.prototype.has=function(mt){return this.__data__.has(mt)},Qt.prototype.clear=function(){this.__data__=new It,this.size=0},Qt.prototype.delete=function(mt){var Tt=this.__data__,Dt=Tt.delete(mt);return this.size=Tt.size,Dt},Qt.prototype.get=function(mt){return this.__data__.get(mt)},Qt.prototype.has=function(mt){return this.__data__.has(mt)},Qt.prototype.set=function(mt,Tt){var Dt=this.__data__;if(Dt instanceof It){var Jt=Dt.__data__;if(!it||Jt.length<199)return Jt.push([mt,Tt]),this.size=++Dt.size,this;Dt=this.__data__=new Ht(Jt)}return Dt.set(mt,Tt),this.size=Dt.size,this};var We=tt?function(mt){return mt==null?[]:(mt=Object(mt),(function(Tt,Dt){for(var Jt=-1,pe=Tt==null?0:Tt.length,Xt=0,le=[];++Jt<pe;){var Lt=Tt[Jt];Dt(Lt,Jt,Tt)&&(le[Xt++]=Lt)}return le})(tt(mt),(function(Tt){return Z.call(mt,Tt)})))}:function(){return[]},he=fe;function Ve(mt,Tt){return!!(Tt=Tt??9007199254740991)&&(typeof mt=="number"||m.test(mt))&&mt>-1&&mt%1==0&&mt<Tt}function ve(mt){if(mt!=null){try{return x.call(mt)}catch{}try{return mt+""}catch{}}return""}function we(mt,Tt){return mt===Tt||mt!=mt&&Tt!=Tt}(Q&&he(new Q(new ArrayBuffer(1)))!="[object DataView]"||it&&he(new it)!=h||ut&&he(ut.resolve())!="[object Promise]"||st&&he(new st)!=n||lt&&he(new lt)!="[object WeakMap]")&&(he=function(mt){var Tt=fe(mt),Dt=Tt==a?mt.constructor:void 0,Jt=Dt?ve(Dt):"";if(Jt)switch(Jt){case yt:return"[object DataView]";case at:return h;case pt:return"[object Promise]";case dt:return n;case vt:return"[object WeakMap]"}return Tt});var ze=de((function(){return arguments})())?de:function(mt){return Je(mt)&&S.call(mt,"callee")&&!Z.call(mt,"callee")},Ne=Array.isArray,_e=U||function(){return!1};function He(mt){if(!Se(mt))return!1;var Tt=fe(mt);return Tt=="[object Function]"||Tt=="[object GeneratorFunction]"||Tt=="[object AsyncFunction]"||Tt=="[object Proxy]"}function qe(mt){return typeof mt=="number"&&mt>-1&&mt%1==0&&mt<=9007199254740991}function Se(mt){var Tt=typeof mt;return mt!=null&&(Tt=="object"||Tt=="function")}function Je(mt){return mt!=null&&typeof mt=="object"}var Ke=O?(function(mt){return function(Tt){return mt(Tt)}})(O):function(mt){return Je(mt)&&qe(mt.length)&&!!f[fe(mt)]};function Ce(mt){return(Tt=mt)!=null&&qe(Tt.length)&&!He(Tt)?Kt(mt):Gt(mt);var Tt}i.exports=function(mt,Tt){return ge(mt,Tt)}}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,i,c){(function(o){(function(){var s=typeof o=="object"&&o&&o.Object===Object&&o,h=typeof self=="object"&&self&&self.Object===Object&&self,a=s||h||Function("return this")(),n=Object.prototype,u=n.hasOwnProperty,m=n.toString,f=a.Symbol,d=f?f.toStringTag:void 0;function b(v){return v==null?v===void 0?"[object Undefined]":"[object Null]":d&&d in Object(v)?(function(g){var w=u.call(g,d),_=g[d];try{g[d]=void 0;var A=!0}catch{}var M=m.call(g);return A&&(w?g[d]=_:delete g[d]),M})(v):(function(g){return m.call(g)})(v)}i.exports=function(v){if(!(function(w){var _=typeof w;return w!=null&&(_=="object"||_=="function")})(v))return!1;var g=b(v);return g=="[object Function]"||g=="[object GeneratorFunction]"||g=="[object AsyncFunction]"||g=="[object Proxy]"}}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,i,c){i.exports=function(o){return o==null}},{}],448:[function(t,i,c){i.exports=function(o){return o===void 0}},{}],449:[function(t,i,c){(function(o){(function(){var s=/^\[object .+?Constructor\]$/,h=typeof o=="object"&&o&&o.Object===Object&&o,a=typeof self=="object"&&self&&self.Object===Object&&self,n=h||a||Function("return this")();function u(B,K){return!!(B&&B.length)&&(function(Z,nt,$){if(nt!=nt)return(function(L,Q,it,ut){for(var st=L.length,lt=it+-1;++lt<st;)if(Q(L[lt],lt,L))return lt;return-1})(Z,m,$);for(var tt=$-1,U=Z.length;++tt<U;)if(Z[tt]===nt)return tt;return-1})(B,K,0)>-1}function m(B){return B!=B}function f(B,K){return B.has(K)}function d(B){var K=-1,Z=Array(B.size);return B.forEach((function(nt){Z[++K]=nt})),Z}var b,v=Array.prototype,g=Function.prototype,w=Object.prototype,_=n["__core-js_shared__"],A=(b=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",M=g.toString,O=w.hasOwnProperty,q=w.toString,F=RegExp("^"+M.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),j=v.splice,V=N(n,"Map"),G=N(n,"Set"),X=N(Object,"create");function H(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var nt=B[K];this.set(nt[0],nt[1])}}function R(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var nt=B[K];this.set(nt[0],nt[1])}}function P(B){var K=-1,Z=B?B.length:0;for(this.clear();++K<Z;){var nt=B[K];this.set(nt[0],nt[1])}}function k(B){var K=-1,Z=B?B.length:0;for(this.__data__=new P;++K<Z;)this.add(B[K])}function x(B,K){for(var Z,nt,$=B.length;$--;)if((Z=B[$][0])===(nt=K)||Z!=Z&&nt!=nt)return $;return-1}function S(B){return!(!I(B)||(K=B,A&&A in K))&&((function(Z){var nt=I(Z)?q.call(Z):"";return nt=="[object Function]"||nt=="[object GeneratorFunction]"})(B)||(function(Z){var nt=!1;if(Z!=null&&typeof Z.toString!="function")try{nt=!!(Z+"")}catch{}return nt})(B)?F:s).test((function(Z){if(Z!=null){try{return M.call(Z)}catch{}try{return Z+""}catch{}}return""})(B));var K}H.prototype.clear=function(){this.__data__=X?X(null):{}},H.prototype.delete=function(B){return this.has(B)&&delete this.__data__[B]},H.prototype.get=function(B){var K=this.__data__;if(X){var Z=K[B];return Z==="__lodash_hash_undefined__"?void 0:Z}return O.call(K,B)?K[B]:void 0},H.prototype.has=function(B){var K=this.__data__;return X?K[B]!==void 0:O.call(K,B)},H.prototype.set=function(B,K){return this.__data__[B]=X&&K===void 0?"__lodash_hash_undefined__":K,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(B){var K=this.__data__,Z=x(K,B);return!(Z<0)&&(Z==K.length-1?K.pop():j.call(K,Z,1),!0)},R.prototype.get=function(B){var K=this.__data__,Z=x(K,B);return Z<0?void 0:K[Z][1]},R.prototype.has=function(B){return x(this.__data__,B)>-1},R.prototype.set=function(B,K){var Z=this.__data__,nt=x(Z,B);return nt<0?Z.push([B,K]):Z[nt][1]=K,this},P.prototype.clear=function(){this.__data__={hash:new H,map:new(V||R),string:new H}},P.prototype.delete=function(B){return E(this,B).delete(B)},P.prototype.get=function(B){return E(this,B).get(B)},P.prototype.has=function(B){return E(this,B).has(B)},P.prototype.set=function(B,K){return E(this,B).set(B,K),this},k.prototype.add=k.prototype.push=function(B){return this.__data__.set(B,"__lodash_hash_undefined__"),this},k.prototype.has=function(B){return this.__data__.has(B)};var T=G&&1/d(new G([,-0]))[1]==1/0?function(B){return new G(B)}:function(){};function E(B,K){var Z,nt,$=B.__data__;return((nt=typeof(Z=K))=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?Z!=="__proto__":Z===null)?$[typeof K=="string"?"string":"hash"]:$.map}function N(B,K){var Z=(function(nt,$){return nt?.[$]})(B,K);return S(Z)?Z:void 0}function I(B){var K=typeof B;return!!B&&(K=="object"||K=="function")}i.exports=function(B){return B&&B.length?(function(K,Z,nt){var $=-1,tt=u,U=K.length,L=!0,Q=[],it=Q;if(U>=200){var ut=T(K);if(ut)return d(ut);L=!1,tt=f,it=new k}else it=Q;t:for(;++$<U;){var st=K[$],lt=st;if(st=st!==0?st:0,L&&lt==lt){for(var bt=it.length;bt--;)if(it[bt]===lt)continue t;Q.push(st)}else tt(it,lt,nt)||(it!==Q&&it.push(lt),Q.push(st))}return Q})(B):[]}}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,i,c){var o=t("inherits"),s=t("hash-base"),h=t("safe-buffer").Buffer,a=new Array(16);function n(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(v,g){return v<<g|v>>>32-g}function m(v,g,w,_,A,M,O){return u(v+(g&w|~g&_)+A+M|0,O)+g|0}function f(v,g,w,_,A,M,O){return u(v+(g&_|w&~_)+A+M|0,O)+g|0}function d(v,g,w,_,A,M,O){return u(v+(g^w^_)+A+M|0,O)+g|0}function b(v,g,w,_,A,M,O){return u(v+(w^(g|~_))+A+M|0,O)+g|0}o(n,s),n.prototype._update=function(){for(var v=a,g=0;g<16;++g)v[g]=this._block.readInt32LE(4*g);var w=this._a,_=this._b,A=this._c,M=this._d;w=m(w,_,A,M,v[0],3614090360,7),M=m(M,w,_,A,v[1],3905402710,12),A=m(A,M,w,_,v[2],606105819,17),_=m(_,A,M,w,v[3],3250441966,22),w=m(w,_,A,M,v[4],4118548399,7),M=m(M,w,_,A,v[5],1200080426,12),A=m(A,M,w,_,v[6],2821735955,17),_=m(_,A,M,w,v[7],4249261313,22),w=m(w,_,A,M,v[8],1770035416,7),M=m(M,w,_,A,v[9],2336552879,12),A=m(A,M,w,_,v[10],4294925233,17),_=m(_,A,M,w,v[11],2304563134,22),w=m(w,_,A,M,v[12],1804603682,7),M=m(M,w,_,A,v[13],4254626195,12),A=m(A,M,w,_,v[14],2792965006,17),w=f(w,_=m(_,A,M,w,v[15],1236535329,22),A,M,v[1],4129170786,5),M=f(M,w,_,A,v[6],3225465664,9),A=f(A,M,w,_,v[11],643717713,14),_=f(_,A,M,w,v[0],3921069994,20),w=f(w,_,A,M,v[5],3593408605,5),M=f(M,w,_,A,v[10],38016083,9),A=f(A,M,w,_,v[15],3634488961,14),_=f(_,A,M,w,v[4],3889429448,20),w=f(w,_,A,M,v[9],568446438,5),M=f(M,w,_,A,v[14],3275163606,9),A=f(A,M,w,_,v[3],4107603335,14),_=f(_,A,M,w,v[8],1163531501,20),w=f(w,_,A,M,v[13],2850285829,5),M=f(M,w,_,A,v[2],4243563512,9),A=f(A,M,w,_,v[7],1735328473,14),w=d(w,_=f(_,A,M,w,v[12],2368359562,20),A,M,v[5],4294588738,4),M=d(M,w,_,A,v[8],2272392833,11),A=d(A,M,w,_,v[11],1839030562,16),_=d(_,A,M,w,v[14],4259657740,23),w=d(w,_,A,M,v[1],2763975236,4),M=d(M,w,_,A,v[4],1272893353,11),A=d(A,M,w,_,v[7],4139469664,16),_=d(_,A,M,w,v[10],3200236656,23),w=d(w,_,A,M,v[13],681279174,4),M=d(M,w,_,A,v[0],3936430074,11),A=d(A,M,w,_,v[3],3572445317,16),_=d(_,A,M,w,v[6],76029189,23),w=d(w,_,A,M,v[9],3654602809,4),M=d(M,w,_,A,v[12],3873151461,11),A=d(A,M,w,_,v[15],530742520,16),w=b(w,_=d(_,A,M,w,v[2],3299628645,23),A,M,v[0],4096336452,6),M=b(M,w,_,A,v[7],1126891415,10),A=b(A,M,w,_,v[14],2878612391,15),_=b(_,A,M,w,v[5],4237533241,21),w=b(w,_,A,M,v[12],1700485571,6),M=b(M,w,_,A,v[3],2399980690,10),A=b(A,M,w,_,v[10],4293915773,15),_=b(_,A,M,w,v[1],2240044497,21),w=b(w,_,A,M,v[8],1873313359,6),M=b(M,w,_,A,v[15],4264355552,10),A=b(A,M,w,_,v[6],2734768916,15),_=b(_,A,M,w,v[13],1309151649,21),w=b(w,_,A,M,v[4],4149444226,6),M=b(M,w,_,A,v[11],3174756917,10),A=b(A,M,w,_,v[2],718787259,15),_=b(_,A,M,w,v[9],3951481745,21),this._a=this._a+w|0,this._b=this._b+_|0,this._c=this._c+A|0,this._d=this._d+M|0},n.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var v=h.allocUnsafe(16);return v.writeInt32LE(this._a,0),v.writeInt32LE(this._b,4),v.writeInt32LE(this._c,8),v.writeInt32LE(this._d,12),v},i.exports=n},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,i,c){var o=t("bn.js"),s=t("brorand");function h(a){this.rand=a||new s.Rand}i.exports=h,h.create=function(a){return new h(a)},h.prototype._randbelow=function(a){var n=a.bitLength(),u=Math.ceil(n/8);do var m=new o(this.rand.generate(u));while(m.cmp(a)>=0);return m},h.prototype._randrange=function(a,n){var u=n.sub(a);return a.add(this._randbelow(u))},h.prototype.test=function(a,n,u){var m=a.bitLength(),f=o.mont(a),d=new o(1).toRed(f);n||(n=Math.max(1,m/48|0));for(var b=a.subn(1),v=0;!b.testn(v);v++);for(var g=a.shrn(v),w=b.toRed(f);n>0;n--){var _=this._randrange(new o(2),b);u&&u(_);var A=_.toRed(f).redPow(g);if(A.cmp(d)!==0&&A.cmp(w)!==0){for(var M=1;M<v;M++){if((A=A.redSqr()).cmp(d)===0)return!1;if(A.cmp(w)===0)break}if(M===v)return!1}}return!0},h.prototype.getDivisor=function(a,n){var u=a.bitLength(),m=o.mont(a),f=new o(1).toRed(m);n||(n=Math.max(1,u/48|0));for(var d=a.subn(1),b=0;!d.testn(b);b++);for(var v=a.shrn(b),g=d.toRed(m);n>0;n--){var w=this._randrange(new o(2),d),_=a.gcd(w);if(_.cmpn(1)!==0)return _;var A=w.toRed(m).redPow(v);if(A.cmp(f)!==0&&A.cmp(g)!==0){for(var M=1;M<b;M++){if((A=A.redSqr()).cmp(f)===0)return A.fromRed().subn(1).gcd(a);if(A.cmp(g)===0)break}if(M===b)return(A=A.redSqr()).fromRed().subn(1).gcd(a)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],453:[function(t,i,c){function o(s,h){if(!s)throw new Error(h||"Assertion failed")}i.exports=o,o.equal=function(s,h,a){if(s!=h)throw new Error(a||"Assertion failed: "+s+" != "+h)}},{}],454:[function(t,i,c){var o=c;function s(a){return a.length===1?"0"+a:a}function h(a){for(var n="",u=0;u<a.length;u++)n+=s(a[u].toString(16));return n}o.toArray=function(a,n){if(Array.isArray(a))return a.slice();if(!a)return[];var u=[];if(typeof a!="string"){for(var m=0;m<a.length;m++)u[m]=0|a[m];return u}if(n==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),m=0;m<a.length;m+=2)u.push(parseInt(a[m]+a[m+1],16));else for(m=0;m<a.length;m++){var f=a.charCodeAt(m),d=f>>8,b=255&f;d?u.push(d,b):u.push(b)}return u},o.zero2=s,o.toHex=h,o.encode=function(a,n){return n==="hex"?h(a):a}},{}],455:[function(t,i,c){i.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,i,c){var o=t("asn1.js");c.certificate=t("./certificate");var s=o.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));c.RSAPrivateKey=s;var h=o.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));c.RSAPublicKey=h;var a=o.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(n),this.key("subjectPublicKey").bitstr())}));c.PublicKey=a;var n=o.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=o.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(n),this.key("subjectPrivateKey").octstr())}));c.PrivateKey=u;var m=o.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));c.EncryptedPrivateKey=m;var f=o.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));c.DSAPrivateKey=f,c.DSAparam=o.define("DSAparam",(function(){this.int()}));var d=o.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(b),this.key("publicKey").optional().explicit(1).bitstr())}));c.ECPrivateKey=d;var b=o.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));c.signature=o.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},{"./certificate":457,"asn1.js":170}],457:[function(t,i,c){var o=t("asn1.js"),s=o.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),h=o.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=o.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),n=o.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=o.define("RelativeDistinguishedName",(function(){this.setof(h)})),m=o.define("RDNSequence",(function(){this.seqof(u)})),f=o.define("Name",(function(){this.choice({rdnSequence:this.use(m)})})),d=o.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))})),b=o.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),v=o.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(f),this.key("validity").use(d),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(n),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(b).optional())})),g=o.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(v),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));i.exports=g},{"asn1.js":170}],458:[function(t,i,c){var o=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,h=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=t("evp_bytestokey"),n=t("browserify-aes"),u=t("safe-buffer").Buffer;i.exports=function(m,f){var d,b=m.toString(),v=b.match(o);if(v){var g="aes"+v[1],w=u.from(v[2],"hex"),_=u.from(v[3].replace(/[\r\n]/g,""),"base64"),A=a(f,w.slice(0,8),parseInt(v[1],10)).key,M=[],O=n.createDecipheriv(g,A,w);M.push(O.update(_)),M.push(O.final()),d=u.concat(M)}else{var q=b.match(h);d=u.from(q[2].replace(/[\r\n]/g,""),"base64")}return{tag:b.match(s)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,i,c){var o=t("./asn1"),s=t("./aesid.json"),h=t("./fixProc"),a=t("browserify-aes"),n=t("pbkdf2"),u=t("safe-buffer").Buffer;function m(f){var d;typeof f!="object"||u.isBuffer(f)||(d=f.passphrase,f=f.key),typeof f=="string"&&(f=u.from(f));var b,v,g=h(f,d),w=g.tag,_=g.data;switch(w){case"CERTIFICATE":v=o.certificate.decode(_,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(v||(v=o.PublicKey.decode(_,"der")),b=v.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(v.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return v.subjectPrivateKey=v.subjectPublicKey,{type:"ec",data:v};case"1.2.840.10040.4.1":return v.algorithm.params.pub_key=o.DSAparam.decode(v.subjectPublicKey.data,"der"),{type:"dsa",data:v.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":_=(function(A,M){var O=A.algorithm.decrypt.kde.kdeparams.salt,q=parseInt(A.algorithm.decrypt.kde.kdeparams.iters.toString(),10),F=s[A.algorithm.decrypt.cipher.algo.join(".")],j=A.algorithm.decrypt.cipher.iv,V=A.subjectPrivateKey,G=parseInt(F.split("-")[1],10)/8,X=n.pbkdf2Sync(M,O,q,G,"sha1"),H=a.createDecipheriv(F,X,j),R=[];return R.push(H.update(V)),R.push(H.final()),u.concat(R)})(_=o.EncryptedPrivateKey.decode(_,"der"),d);case"PRIVATE KEY":switch(b=(v=o.PrivateKey.decode(_,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(v.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:v.algorithm.curve,privateKey:o.ECPrivateKey.decode(v.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return v.algorithm.params.priv_key=o.DSAparam.decode(v.subjectPrivateKey,"der"),{type:"dsa",params:v.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(_,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(_,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(_,"der")};case"EC PRIVATE KEY":return{curve:(_=o.ECPrivateKey.decode(_,"der")).parameters.value,privateKey:_.privateKey};default:throw new Error("unknown key type "+w)}}i.exports=m,m.signature=o.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,i,c){c.pbkdf2=t("./lib/async"),c.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,i,c){(function(o){(function(){var s,h,a=t("safe-buffer").Buffer,n=t("./precondition"),u=t("./default-encoding"),m=t("./sync"),f=t("./to-buffer"),d=o.crypto&&o.crypto.subtle,b={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},v=[];function g(){return h||(h=o.process&&o.process.nextTick?o.process.nextTick:o.queueMicrotask?o.queueMicrotask:o.setImmediate?o.setImmediate:o.setTimeout)}function w(_,A,M,O,q){return d.importKey("raw",_,{name:"PBKDF2"},!1,["deriveBits"]).then((function(F){return d.deriveBits({name:"PBKDF2",salt:A,iterations:M,hash:{name:q}},F,O<<3)})).then((function(F){return a.from(F)}))}i.exports=function(_,A,M,O,q,F){typeof q=="function"&&(F=q,q=void 0);var j=b[(q=q||"sha1").toLowerCase()];if(j&&typeof o.Promise=="function"){if(n(M,O),_=f(_,u,"Password"),A=f(A,u,"Salt"),typeof F!="function")throw new Error("No callback provided to pbkdf2");(function(V,G){V.then((function(X){g()((function(){G(null,X)}))}),(function(X){g()((function(){G(X)}))}))})((function(V){if(o.process&&!o.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(v[V]!==void 0)return v[V];var G=w(s=s||a.alloc(8),s,10,128,V).then((function(){return!0})).catch((function(){return!1}));return v[V]=G,G})(j).then((function(V){return V?w(_,A,M,O,j):m(_,A,M,O,q)})),F)}else g()((function(){var V;try{V=m(_,A,M,O,q)}catch(G){return F(G)}F(null,V)}))}}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,i,c){(function(o,s){(function(){var h;s.process&&s.process.browser?h="utf-8":s.process&&s.process.version?h=parseInt(o.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":h="utf-8",i.exports=h}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,i,c){var o=Math.pow(2,30)-1;i.exports=function(s,h){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof h!="number")throw new TypeError("Key length not a number");if(h<0||h>o||h!=h)throw new TypeError("Bad key length")}},{}],464:[function(t,i,c){var o=t("create-hash/md5"),s=t("ripemd160"),h=t("sha.js"),a=t("safe-buffer").Buffer,n=t("./precondition"),u=t("./default-encoding"),m=t("./to-buffer"),f=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function b(v,g,w){var _=(function(j){function V(G){return h(j).update(G).digest()}return j==="rmd160"||j==="ripemd160"?function(G){return new s().update(G).digest()}:j==="md5"?o:V})(v),A=v==="sha512"||v==="sha384"?128:64;g.length>A?g=_(g):g.length<A&&(g=a.concat([g,f],A));for(var M=a.allocUnsafe(A+d[v]),O=a.allocUnsafe(A+d[v]),q=0;q<A;q++)M[q]=54^g[q],O[q]=92^g[q];var F=a.allocUnsafe(A+w+4);M.copy(F,0,0,A),this.ipad1=F,this.ipad2=M,this.opad=O,this.alg=v,this.blocksize=A,this.hash=_,this.size=d[v]}b.prototype.run=function(v,g){return v.copy(g,this.blocksize),this.hash(g).copy(this.opad,this.blocksize),this.hash(this.opad)},i.exports=function(v,g,w,_,A){n(w,_);var M=new b(A=A||"sha1",v=m(v,u,"Password"),(g=m(g,u,"Salt")).length),O=a.allocUnsafe(_),q=a.allocUnsafe(g.length+4);g.copy(q,0,0,g.length);for(var F=0,j=d[A],V=Math.ceil(_/j),G=1;G<=V;G++){q.writeUInt32BE(G,g.length);for(var X=M.run(q,M.ipad1),H=X,R=1;R<w;R++){H=M.run(H,M.ipad2);for(var P=0;P<j;P++)X[P]^=H[P]}X.copy(O,F),F+=j}return O}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,i,c){var o=t("safe-buffer").Buffer;i.exports=function(s,h,a){if(o.isBuffer(s))return s;if(typeof s=="string")return o.from(s,h);if(ArrayBuffer.isView(s))return o.from(s.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,i,c){(function(o){(function(){o===void 0||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0?i.exports={nextTick:function(s,h,a,n){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var u,m,f=arguments.length;switch(f){case 0:case 1:return o.nextTick(s);case 2:return o.nextTick((function(){s.call(null,h)}));case 3:return o.nextTick((function(){s.call(null,h,a)}));case 4:return o.nextTick((function(){s.call(null,h,a,n)}));default:for(u=new Array(f-1),m=0;m<u.length;)u[m++]=arguments[m];return o.nextTick((function(){s.apply(null,u)}))}}}:i.exports=o}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,i,c){var o,s,h=i.exports={};function a(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function u(A){if(o===setTimeout)return setTimeout(A,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(A,0);try{return o(A,0)}catch{try{return o.call(null,A,0)}catch{return o.call(this,A,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{s=typeof clearTimeout=="function"?clearTimeout:n}catch{s=n}})();var m,f=[],d=!1,b=-1;function v(){d&&m&&(d=!1,m.length?f=m.concat(f):b=-1,f.length&&g())}function g(){if(!d){var A=u(v);d=!0;for(var M=f.length;M;){for(m=f,f=[];++b<M;)m&&m[b].run();b=-1,M=f.length}m=null,d=!1,(function(O){if(s===clearTimeout)return clearTimeout(O);if((s===n||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(O);try{s(O)}catch{try{return s.call(null,O)}catch{return s.call(this,O)}}})(A)}}function w(A,M){this.fun=A,this.array=M}function _(){}h.nextTick=function(A){var M=new Array(arguments.length-1);if(arguments.length>1)for(var O=1;O<arguments.length;O++)M[O-1]=arguments[O];f.push(new w(A,M)),f.length!==1||d||u(g)},w.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=_,h.addListener=_,h.once=_,h.off=_,h.removeListener=_,h.removeAllListeners=_,h.emit=_,h.prependListener=_,h.prependOnceListener=_,h.listeners=function(A){return[]},h.binding=function(A){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(A){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],468:[function(t,i,c){c.publicEncrypt=t("./publicEncrypt"),c.privateDecrypt=t("./privateDecrypt"),c.privateEncrypt=function(o,s){return c.publicEncrypt(o,s,!0)},c.publicDecrypt=function(o,s){return c.privateDecrypt(o,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,i,c){var o=t("create-hash"),s=t("safe-buffer").Buffer;function h(a){var n=s.allocUnsafe(4);return n.writeUInt32BE(a,0),n}i.exports=function(a,n){for(var u,m=s.alloc(0),f=0;m.length<n;)u=h(f++),m=s.concat([m,o("sha1").update(a).update(u).digest()]);return m.slice(0,n)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,i,c){arguments[4][184][0].apply(c,arguments)},{buffer:188,dup:184}],471:[function(t,i,c){var o=t("parse-asn1"),s=t("./mgf"),h=t("./xor"),a=t("bn.js"),n=t("browserify-rsa"),u=t("create-hash"),m=t("./withPublic"),f=t("safe-buffer").Buffer;i.exports=function(d,b,v){var g;g=d.padding?d.padding:v?1:4;var w,_=o(d),A=_.modulus.byteLength();if(b.length>A||new a(b).cmp(_.modulus)>=0)throw new Error("decryption error");w=v?m(new a(b),_):n(b,_);var M=f.alloc(A-w.length);if(w=f.concat([M,w],A),g===4)return(function(O,q){var F=O.modulus.byteLength(),j=u("sha1").update(f.alloc(0)).digest(),V=j.length;if(q[0]!==0)throw new Error("decryption error");var G=q.slice(1,V+1),X=q.slice(V+1),H=h(G,s(X,V)),R=h(X,s(H,F-V-1));if((function(k,x){k=f.from(k),x=f.from(x);var S=0,T=k.length;k.length!==x.length&&(S++,T=Math.min(k.length,x.length));for(var E=-1;++E<T;)S+=k[E]^x[E];return S})(j,R.slice(0,V)))throw new Error("decryption error");for(var P=V;R[P]===0;)P++;if(R[P++]!==1)throw new Error("decryption error");return R.slice(P)})(_,w);if(g===1)return(function(O,q,F){for(var j=q.slice(0,2),V=2,G=0;q[V++]!==0;)if(V>=q.length){G++;break}var X=q.slice(2,V-1);if((j.toString("hex")!=="0002"&&!F||j.toString("hex")!=="0001"&&F)&&G++,X.length<8&&G++,G)throw new Error("decryption error");return q.slice(V)})(0,w,v);if(g===3)return w;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,i,c){var o=t("parse-asn1"),s=t("randombytes"),h=t("create-hash"),a=t("./mgf"),n=t("./xor"),u=t("bn.js"),m=t("./withPublic"),f=t("browserify-rsa"),d=t("safe-buffer").Buffer;i.exports=function(b,v,g){var w;w=b.padding?b.padding:g?1:4;var _,A=o(b);if(w===4)_=(function(M,O){var q=M.modulus.byteLength(),F=O.length,j=h("sha1").update(d.alloc(0)).digest(),V=j.length,G=2*V;if(F>q-G-2)throw new Error("message too long");var X=d.alloc(q-F-G-2),H=q-V-1,R=s(V),P=n(d.concat([j,X,d.alloc(1,1),O],H),a(R,H)),k=n(R,a(P,V));return new u(d.concat([d.alloc(1),k,P],q))})(A,v);else if(w===1)_=(function(M,O,q){var F,j=O.length,V=M.modulus.byteLength();if(j>V-11)throw new Error("message too long");return F=q?d.alloc(V-j-3,255):(function(G){for(var X,H=d.allocUnsafe(G),R=0,P=s(2*G),k=0;R<G;)k===P.length&&(P=s(2*G),k=0),(X=P[k++])&&(H[R++]=X);return H})(V-j-3),new u(d.concat([d.from([0,q?1:2]),F,d.alloc(1),O],V))})(A,v,g);else{if(w!==3)throw new Error("unknown padding");if((_=new u(v)).cmp(A.modulus)>=0)throw new Error("data too long for modulus")}return g?f(_,A):m(_,A)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,i,c){var o=t("bn.js"),s=t("safe-buffer").Buffer;i.exports=function(h,a){return s.from(h.toRed(o.mont(a.modulus)).redPow(new o(a.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,i,c){i.exports=function(o,s){for(var h=o.length,a=-1;++a<h;)o[a]^=s[a];return o}},{}],475:[function(t,i,c){(function(o,s){(function(){var h=t("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?i.exports=function(n,u){if(n>4294967295)throw new RangeError("requested too many random bytes");var m=h.allocUnsafe(n);if(n>0)if(n>65536)for(var f=0;f<n;f+=65536)a.getRandomValues(m.slice(f,f+65536));else a.getRandomValues(m);return typeof u=="function"?o.nextTick((function(){u(null,m)})):m}:i.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,i,c){(function(o,s){(function(){function h(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=t("safe-buffer"),n=t("randombytes"),u=a.Buffer,m=a.kMaxLength,f=s.crypto||s.msCrypto,d=Math.pow(2,32)-1;function b(w,_){if(typeof w!="number"||w!=w)throw new TypeError("offset must be a number");if(w>d||w<0)throw new TypeError("offset must be a uint32");if(w>m||w>_)throw new RangeError("offset out of range")}function v(w,_,A){if(typeof w!="number"||w!=w)throw new TypeError("size must be a number");if(w>d||w<0)throw new TypeError("size must be a uint32");if(w+_>A||w>m)throw new RangeError("buffer too small")}function g(w,_,A,M){if(o.browser){var O=w.buffer,q=new Uint8Array(O,_,A);return f.getRandomValues(q),M?void o.nextTick((function(){M(null,w)})):w}if(!M)return n(A).copy(w,_),w;n(A,(function(F,j){if(F)return M(F);j.copy(w,_),M(null,w)}))}f&&f.getRandomValues||!o.browser?(c.randomFill=function(w,_,A,M){if(!(u.isBuffer(w)||w instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof _=="function")M=_,_=0,A=w.length;else if(typeof A=="function")M=A,A=w.length-_;else if(typeof M!="function")throw new TypeError('"cb" argument must be a function');return b(_,w.length),v(A,_,w.length),g(w,_,A,M)},c.randomFillSync=function(w,_,A){if(_===void 0&&(_=0),!(u.isBuffer(w)||w instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return b(_,w.length),A===void 0&&(A=w.length-_),v(A,_,w.length),g(w,_,A)}):(c.randomFill=h,c.randomFillSync=h)}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,i,c){var o={};function s(a,n,u){u||(u=Error);var m=(function(f){var d,b;function v(g,w,_){return f.call(this,(function(A,M,O){return typeof n=="string"?n:n(A,M,O)})(g,w,_))||this}return b=f,(d=v).prototype=Object.create(b.prototype),d.prototype.constructor=d,d.__proto__=b,v})(u);m.prototype.name=u.name,m.prototype.code=a,o[a]=m}function h(a,n){if(Array.isArray(a)){var u=a.length;return a=a.map((function(m){return String(m)})),u>2?"one of ".concat(n," ").concat(a.slice(0,u-1).join(", "),", or ")+a[u-1]:u===2?"one of ".concat(n," ").concat(a[0]," or ").concat(a[1]):"of ".concat(n," ").concat(a[0])}return"of ".concat(n," ").concat(String(a))}s("ERR_INVALID_OPT_VALUE",(function(a,n){return'The value "'+n+'" is invalid for option "'+a+'"'}),TypeError),s("ERR_INVALID_ARG_TYPE",(function(a,n,u){var m,f,d;if(typeof n=="string"&&(f="not ",n.substr(0,f.length)===f)?(m="must not be",n=n.replace(/^not /,"")):m="must be",(function(v,g,w){return(w===void 0||w>v.length)&&(w=v.length),v.substring(w-g.length,w)===g})(a," argument"))d="The ".concat(a," ").concat(m," ").concat(h(n,"type"));else{var b=(function(v,g,w){return typeof w!="number"&&(w=0),!(w+g.length>v.length)&&v.indexOf(g,w)!==-1})(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(b," ").concat(m," ").concat(h(n,"type"))}return d+=". Received type ".concat(typeof u)}),TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",(function(a){return"The "+a+" method is not implemented"})),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",(function(a){return"Cannot call "+a+" after a stream was destroyed"})),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",(function(a){return"Unknown encoding: "+a}),TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=o},{}],478:[function(t,i,c){(function(o){(function(){var s=Object.keys||function(v){var g=[];for(var w in v)g.push(w);return g};i.exports=f;var h=t("./_stream_readable"),a=t("./_stream_writable");t("inherits")(f,h);for(var n=s(a.prototype),u=0;u<n.length;u++){var m=n[u];f.prototype[m]||(f.prototype[m]=a.prototype[m])}function f(v){if(!(this instanceof f))return new f(v);h.call(this,v),a.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||o.nextTick(b,this)}function b(v){v.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(v){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=v,this._writableState.destroyed=v)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,i,c){i.exports=s;var o=t("./_stream_transform");function s(h){if(!(this instanceof s))return new s(h);o.call(this,h)}t("inherits")(s,o),s.prototype._transform=function(h,a,n){n(null,h)}},{"./_stream_transform":481,inherits:440}],480:[function(t,i,c){(function(o,s){(function(){var h;i.exports=H,H.ReadableState=X,t("events").EventEmitter;var a=function(U,L){return U.listeners(L).length},n=t("./internal/streams/stream"),u=t("buffer").Buffer,m=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f,d=t("util");f=d&&d.debuglog?d.debuglog("stream"):function(){};var b,v,g,w=t("./internal/streams/buffer_list"),_=t("./internal/streams/destroy"),A=t("./internal/streams/state").getHighWaterMark,M=t("../errors").codes,O=M.ERR_INVALID_ARG_TYPE,q=M.ERR_STREAM_PUSH_AFTER_EOF,F=M.ERR_METHOD_NOT_IMPLEMENTED,j=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(H,n);var V=_.errorOrDestroy,G=["error","close","destroy","pause","resume"];function X(U,L,Q){h=h||t("./_stream_duplex"),U=U||{},typeof Q!="boolean"&&(Q=L instanceof h),this.objectMode=!!U.objectMode,Q&&(this.objectMode=this.objectMode||!!U.readableObjectMode),this.highWaterMark=A(this,U,"readableHighWaterMark",Q),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=U.emitClose!==!1,this.autoDestroy=!!U.autoDestroy,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(b||(b=t("string_decoder/").StringDecoder),this.decoder=new b(U.encoding),this.encoding=U.encoding)}function H(U){if(h=h||t("./_stream_duplex"),!(this instanceof H))return new H(U);var L=this instanceof h;this._readableState=new X(U,this,L),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),n.call(this)}function R(U,L,Q,it,ut){f("readableAddChunk",L);var st,lt=U._readableState;if(L===null)lt.reading=!1,(function(bt,yt){if(f("onEofChunk"),!yt.ended){if(yt.decoder){var at=yt.decoder.end();at&&at.length&&(yt.buffer.push(at),yt.length+=yt.objectMode?1:at.length)}yt.ended=!0,yt.sync?x(bt):(yt.needReadable=!1,yt.emittedReadable||(yt.emittedReadable=!0,S(bt)))}})(U,lt);else if(ut||(st=(function(bt,yt){var at;pt=yt,u.isBuffer(pt)||pt instanceof m||typeof yt=="string"||yt===void 0||bt.objectMode||(at=new O("chunk",["string","Buffer","Uint8Array"],yt));var pt;return at})(lt,L)),st)V(U,st);else if(lt.objectMode||L&&L.length>0)if(typeof L=="string"||lt.objectMode||Object.getPrototypeOf(L)===u.prototype||(L=(function(bt){return u.from(bt)})(L)),it)lt.endEmitted?V(U,new j):P(U,lt,L,!0);else if(lt.ended)V(U,new q);else{if(lt.destroyed)return!1;lt.reading=!1,lt.decoder&&!Q?(L=lt.decoder.write(L),lt.objectMode||L.length!==0?P(U,lt,L,!1):T(U,lt)):P(U,lt,L,!1)}else it||(lt.reading=!1,T(U,lt));return!lt.ended&&(lt.length<lt.highWaterMark||lt.length===0)}function P(U,L,Q,it){L.flowing&&L.length===0&&!L.sync?(L.awaitDrain=0,U.emit("data",Q)):(L.length+=L.objectMode?1:Q.length,it?L.buffer.unshift(Q):L.buffer.push(Q),L.needReadable&&x(U)),T(U,L)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),H.prototype.destroy=_.destroy,H.prototype._undestroy=_.undestroy,H.prototype._destroy=function(U,L){L(U)},H.prototype.push=function(U,L){var Q,it=this._readableState;return it.objectMode?Q=!0:typeof U=="string"&&((L=L||it.defaultEncoding)!==it.encoding&&(U=u.from(U,L),L=""),Q=!0),R(this,U,L,!1,Q)},H.prototype.unshift=function(U){return R(this,U,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(U){b||(b=t("string_decoder/").StringDecoder);var L=new b(U);this._readableState.decoder=L,this._readableState.encoding=this._readableState.decoder.encoding;for(var Q=this._readableState.buffer.head,it="";Q!==null;)it+=L.write(Q.data),Q=Q.next;return this._readableState.buffer.clear(),it!==""&&this._readableState.buffer.push(it),this._readableState.length=it.length,this};function k(U,L){return U<=0||L.length===0&&L.ended?0:L.objectMode?1:U!=U?L.flowing&&L.length?L.buffer.head.data.length:L.length:(U>L.highWaterMark&&(L.highWaterMark=(function(Q){return Q>=1073741824?Q=1073741824:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q})(U)),U<=L.length?U:L.ended?L.length:(L.needReadable=!0,0))}function x(U){var L=U._readableState;f("emitReadable",L.needReadable,L.emittedReadable),L.needReadable=!1,L.emittedReadable||(f("emitReadable",L.flowing),L.emittedReadable=!0,o.nextTick(S,U))}function S(U){var L=U._readableState;f("emitReadable_",L.destroyed,L.length,L.ended),L.destroyed||!L.length&&!L.ended||(U.emit("readable"),L.emittedReadable=!1),L.needReadable=!L.flowing&&!L.ended&&L.length<=L.highWaterMark,K(U)}function T(U,L){L.readingMore||(L.readingMore=!0,o.nextTick(E,U,L))}function E(U,L){for(;!L.reading&&!L.ended&&(L.length<L.highWaterMark||L.flowing&&L.length===0);){var Q=L.length;if(f("maybeReadMore read 0"),U.read(0),Q===L.length)break}L.readingMore=!1}function N(U){var L=U._readableState;L.readableListening=U.listenerCount("readable")>0,L.resumeScheduled&&!L.paused?L.flowing=!0:U.listenerCount("data")>0&&U.resume()}function I(U){f("readable nexttick read 0"),U.read(0)}function B(U,L){f("resume",L.reading),L.reading||U.read(0),L.resumeScheduled=!1,U.emit("resume"),K(U),L.flowing&&!L.reading&&U.read(0)}function K(U){var L=U._readableState;for(f("flow",L.flowing);L.flowing&&U.read()!==null;);}function Z(U,L){return L.length===0?null:(L.objectMode?Q=L.buffer.shift():!U||U>=L.length?(Q=L.decoder?L.buffer.join(""):L.buffer.length===1?L.buffer.first():L.buffer.concat(L.length),L.buffer.clear()):Q=L.buffer.consume(U,L.decoder),Q);var Q}function nt(U){var L=U._readableState;f("endReadable",L.endEmitted),L.endEmitted||(L.ended=!0,o.nextTick($,L,U))}function $(U,L){if(f("endReadableNT",U.endEmitted,U.length),!U.endEmitted&&U.length===0&&(U.endEmitted=!0,L.readable=!1,L.emit("end"),U.autoDestroy)){var Q=L._writableState;(!Q||Q.autoDestroy&&Q.finished)&&L.destroy()}}function tt(U,L){for(var Q=0,it=U.length;Q<it;Q++)if(U[Q]===L)return Q;return-1}H.prototype.read=function(U){f("read",U),U=parseInt(U,10);var L=this._readableState,Q=U;if(U!==0&&(L.emittedReadable=!1),U===0&&L.needReadable&&((L.highWaterMark!==0?L.length>=L.highWaterMark:L.length>0)||L.ended))return f("read: emitReadable",L.length,L.ended),L.length===0&&L.ended?nt(this):x(this),null;if((U=k(U,L))===0&&L.ended)return L.length===0&&nt(this),null;var it,ut=L.needReadable;return f("need readable",ut),(L.length===0||L.length-U<L.highWaterMark)&&f("length less than watermark",ut=!0),L.ended||L.reading?f("reading or ended",ut=!1):ut&&(f("do read"),L.reading=!0,L.sync=!0,L.length===0&&(L.needReadable=!0),this._read(L.highWaterMark),L.sync=!1,L.reading||(U=k(Q,L))),(it=U>0?Z(U,L):null)===null?(L.needReadable=L.length<=L.highWaterMark,U=0):(L.length-=U,L.awaitDrain=0),L.length===0&&(L.ended||(L.needReadable=!0),Q!==U&&L.ended&&nt(this)),it!==null&&this.emit("data",it),it},H.prototype._read=function(U){V(this,new F("_read()"))},H.prototype.pipe=function(U,L){var Q=this,it=this._readableState;switch(it.pipesCount){case 0:it.pipes=U;break;case 1:it.pipes=[it.pipes,U];break;default:it.pipes.push(U)}it.pipesCount+=1,f("pipe count=%d opts=%j",it.pipesCount,L);var ut=(!L||L.end!==!1)&&U!==o.stdout&&U!==o.stderr?lt:xt;function st(wt,jt){f("onunpipe"),wt===Q&&jt&&jt.hasUnpiped===!1&&(jt.hasUnpiped=!0,f("cleanup"),U.removeListener("close",dt),U.removeListener("finish",vt),U.removeListener("drain",bt),U.removeListener("error",pt),U.removeListener("unpipe",st),Q.removeListener("end",lt),Q.removeListener("end",xt),Q.removeListener("data",at),yt=!0,!it.awaitDrain||U._writableState&&!U._writableState.needDrain||bt())}function lt(){f("onend"),U.end()}it.endEmitted?o.nextTick(ut):Q.once("end",ut),U.on("unpipe",st);var bt=(function(wt){return function(){var jt=wt._readableState;f("pipeOnDrain",jt.awaitDrain),jt.awaitDrain&&jt.awaitDrain--,jt.awaitDrain===0&&a(wt,"data")&&(jt.flowing=!0,K(wt))}})(Q);U.on("drain",bt);var yt=!1;function at(wt){f("ondata");var jt=U.write(wt);f("dest.write",jt),jt===!1&&((it.pipesCount===1&&it.pipes===U||it.pipesCount>1&&tt(it.pipes,U)!==-1)&&!yt&&(f("false write response, pause",it.awaitDrain),it.awaitDrain++),Q.pause())}function pt(wt){f("onerror",wt),xt(),U.removeListener("error",pt),a(U,"error")===0&&V(U,wt)}function dt(){U.removeListener("finish",vt),xt()}function vt(){f("onfinish"),U.removeListener("close",dt),xt()}function xt(){f("unpipe"),Q.unpipe(U)}return Q.on("data",at),(function(wt,jt,It){if(typeof wt.prependListener=="function")return wt.prependListener(jt,It);wt._events&&wt._events[jt]?Array.isArray(wt._events[jt])?wt._events[jt].unshift(It):wt._events[jt]=[It,wt._events[jt]]:wt.on(jt,It)})(U,"error",pt),U.once("close",dt),U.once("finish",vt),U.emit("pipe",Q),it.flowing||(f("pipe resume"),Q.resume()),U},H.prototype.unpipe=function(U){var L=this._readableState,Q={hasUnpiped:!1};if(L.pipesCount===0)return this;if(L.pipesCount===1)return U&&U!==L.pipes||(U||(U=L.pipes),L.pipes=null,L.pipesCount=0,L.flowing=!1,U&&U.emit("unpipe",this,Q)),this;if(!U){var it=L.pipes,ut=L.pipesCount;L.pipes=null,L.pipesCount=0,L.flowing=!1;for(var st=0;st<ut;st++)it[st].emit("unpipe",this,{hasUnpiped:!1});return this}var lt=tt(L.pipes,U);return lt===-1||(L.pipes.splice(lt,1),L.pipesCount-=1,L.pipesCount===1&&(L.pipes=L.pipes[0]),U.emit("unpipe",this,Q)),this},H.prototype.on=function(U,L){var Q=n.prototype.on.call(this,U,L),it=this._readableState;return U==="data"?(it.readableListening=this.listenerCount("readable")>0,it.flowing!==!1&&this.resume()):U==="readable"&&(it.endEmitted||it.readableListening||(it.readableListening=it.needReadable=!0,it.flowing=!1,it.emittedReadable=!1,f("on readable",it.length,it.reading),it.length?x(this):it.reading||o.nextTick(I,this))),Q},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(U,L){var Q=n.prototype.removeListener.call(this,U,L);return U==="readable"&&o.nextTick(N,this),Q},H.prototype.removeAllListeners=function(U){var L=n.prototype.removeAllListeners.apply(this,arguments);return U!=="readable"&&U!==void 0||o.nextTick(N,this),L},H.prototype.resume=function(){var U=this._readableState;return U.flowing||(f("resume"),U.flowing=!U.readableListening,(function(L,Q){Q.resumeScheduled||(Q.resumeScheduled=!0,o.nextTick(B,L,Q))})(this,U)),U.paused=!1,this},H.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(U){var L=this,Q=this._readableState,it=!1;for(var ut in U.on("end",(function(){if(f("wrapped end"),Q.decoder&&!Q.ended){var lt=Q.decoder.end();lt&&lt.length&&L.push(lt)}L.push(null)})),U.on("data",(function(lt){f("wrapped data"),Q.decoder&&(lt=Q.decoder.write(lt)),Q.objectMode&&lt==null||(Q.objectMode||lt&&lt.length)&&(L.push(lt)||(it=!0,U.pause()))})),U)this[ut]===void 0&&typeof U[ut]=="function"&&(this[ut]=(function(lt){return function(){return U[lt].apply(U,arguments)}})(ut));for(var st=0;st<G.length;st++)U.on(G[st],this.emit.bind(this,G[st]));return this._read=function(lt){f("wrapped _read",lt),it&&(it=!1,U.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return v===void 0&&(v=t("./internal/streams/async_iterator")),v(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(U){this._readableState&&(this._readableState.flowing=U)}}),H._fromList=Z,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(U,L){return g===void 0&&(g=t("./internal/streams/from")),g(H,U,L)})}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,i,c){i.exports=f;var o=t("../errors").codes,s=o.ERR_METHOD_NOT_IMPLEMENTED,h=o.ERR_MULTIPLE_CALLBACK,a=o.ERR_TRANSFORM_ALREADY_TRANSFORMING,n=o.ERR_TRANSFORM_WITH_LENGTH_0,u=t("./_stream_duplex");function m(v,g){var w=this._transformState;w.transforming=!1;var _=w.writecb;if(_===null)return this.emit("error",new h);w.writechunk=null,w.writecb=null,g!=null&&this.push(g),_(v);var A=this._readableState;A.reading=!1,(A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}function f(v){if(!(this instanceof f))return new f(v);u.call(this,v),this._transformState={afterTransform:m.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,v&&(typeof v.transform=="function"&&(this._transform=v.transform),typeof v.flush=="function"&&(this._flush=v.flush)),this.on("prefinish",d)}function d(){var v=this;typeof this._flush!="function"||this._readableState.destroyed?b(this,null,null):this._flush((function(g,w){b(v,g,w)}))}function b(v,g,w){if(g)return v.emit("error",g);if(w!=null&&v.push(w),v._writableState.length)throw new n;if(v._transformState.transforming)throw new a;return v.push(null)}t("inherits")(f,u),f.prototype.push=function(v,g){return this._transformState.needTransform=!1,u.prototype.push.call(this,v,g)},f.prototype._transform=function(v,g,w){w(new s("_transform()"))},f.prototype._write=function(v,g,w){var _=this._transformState;if(_.writecb=w,_.writechunk=v,_.writeencoding=g,!_.transforming){var A=this._readableState;(_.needTransform||A.needReadable||A.length<A.highWaterMark)&&this._read(A.highWaterMark)}},f.prototype._read=function(v){var g=this._transformState;g.writechunk===null||g.transforming?g.needTransform=!0:(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform))},f.prototype._destroy=function(v,g){u.prototype._destroy.call(this,v,(function(w){g(w)}))}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,i,c){(function(o,s){(function(){function h(E){var N=this;this.next=null,this.entry=null,this.finish=function(){(function(I,B,K){var Z=I.entry;for(I.entry=null;Z;){var nt=Z.callback;B.pendingcb--,nt(K),Z=Z.next}B.corkedRequestsFree.next=I})(N,E)}}var a;i.exports=H,H.WritableState=X;var n={deprecate:t("util-deprecate")},u=t("./internal/streams/stream"),m=t("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,b=t("./internal/streams/destroy"),v=t("./internal/streams/state").getHighWaterMark,g=t("../errors").codes,w=g.ERR_INVALID_ARG_TYPE,_=g.ERR_METHOD_NOT_IMPLEMENTED,A=g.ERR_MULTIPLE_CALLBACK,M=g.ERR_STREAM_CANNOT_PIPE,O=g.ERR_STREAM_DESTROYED,q=g.ERR_STREAM_NULL_VALUES,F=g.ERR_STREAM_WRITE_AFTER_END,j=g.ERR_UNKNOWN_ENCODING,V=b.errorOrDestroy;function G(){}function X(E,N,I){a=a||t("./_stream_duplex"),E=E||{},typeof I!="boolean"&&(I=N instanceof a),this.objectMode=!!E.objectMode,I&&(this.objectMode=this.objectMode||!!E.writableObjectMode),this.highWaterMark=v(this,E,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=E.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=E.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){(function(Z,nt){var $=Z._writableState,tt=$.sync,U=$.writecb;if(typeof U!="function")throw new A;if((function(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0})($),nt)(function(Q,it,ut,st,lt){--it.pendingcb,ut?(o.nextTick(lt,st),o.nextTick(T,Q,it),Q._writableState.errorEmitted=!0,V(Q,st)):(lt(st),Q._writableState.errorEmitted=!0,V(Q,st),T(Q,it))})(Z,$,tt,nt,U);else{var L=x($)||Z.destroyed;L||$.corked||$.bufferProcessing||!$.bufferedRequest||k(Z,$),tt?o.nextTick(P,Z,$,L,U):P(Z,$,L,U)}})(N,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=E.emitClose!==!1,this.autoDestroy=!!E.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}function H(E){var N=this instanceof(a=a||t("./_stream_duplex"));if(!N&&!d.call(H,this))return new H(E);this._writableState=new X(E,this,N),this.writable=!0,E&&(typeof E.write=="function"&&(this._write=E.write),typeof E.writev=="function"&&(this._writev=E.writev),typeof E.destroy=="function"&&(this._destroy=E.destroy),typeof E.final=="function"&&(this._final=E.final)),u.call(this)}function R(E,N,I,B,K,Z,nt){N.writelen=B,N.writecb=nt,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new O("write")):I?E._writev(K,N.onwrite):E._write(K,Z,N.onwrite),N.sync=!1}function P(E,N,I,B){I||(function(K,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,K.emit("drain"))})(E,N),N.pendingcb--,B(),T(E,N)}function k(E,N){N.bufferProcessing=!0;var I=N.bufferedRequest;if(E._writev&&I&&I.next){var B=N.bufferedRequestCount,K=new Array(B),Z=N.corkedRequestsFree;Z.entry=I;for(var nt=0,$=!0;I;)K[nt]=I,I.isBuf||($=!1),I=I.next,nt+=1;K.allBuffers=$,R(E,N,!0,N.length,K,"",Z.finish),N.pendingcb++,N.lastBufferedRequest=null,Z.next?(N.corkedRequestsFree=Z.next,Z.next=null):N.corkedRequestsFree=new h(N),N.bufferedRequestCount=0}else{for(;I;){var tt=I.chunk,U=I.encoding,L=I.callback;if(R(E,N,!1,N.objectMode?1:tt.length,tt,U,L),I=I.next,N.bufferedRequestCount--,N.writing)break}I===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=I,N.bufferProcessing=!1}function x(E){return E.ending&&E.length===0&&E.bufferedRequest===null&&!E.finished&&!E.writing}function S(E,N){E._final((function(I){N.pendingcb--,I&&V(E,I),N.prefinished=!0,E.emit("prefinish"),T(E,N)}))}function T(E,N){var I=x(N);if(I&&((function(K,Z){Z.prefinished||Z.finalCalled||(typeof K._final!="function"||Z.destroyed?(Z.prefinished=!0,K.emit("prefinish")):(Z.pendingcb++,Z.finalCalled=!0,o.nextTick(S,K,Z)))})(E,N),N.pendingcb===0&&(N.finished=!0,E.emit("finish"),N.autoDestroy))){var B=E._readableState;(!B||B.autoDestroy&&B.endEmitted)&&E.destroy()}return I}t("inherits")(H,u),X.prototype.getBuffer=function(){for(var E=this.bufferedRequest,N=[];E;)N.push(E),E=E.next;return N},(function(){try{Object.defineProperty(X.prototype,"buffer",{get:n.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(E){return!!d.call(this,E)||this===H&&E&&E._writableState instanceof X}})):d=function(E){return E instanceof this},H.prototype.pipe=function(){V(this,new M)},H.prototype.write=function(E,N,I){var B,K=this._writableState,Z=!1,nt=!K.objectMode&&(B=E,m.isBuffer(B)||B instanceof f);return nt&&!m.isBuffer(E)&&(E=(function($){return m.from($)})(E)),typeof N=="function"&&(I=N,N=null),nt?N="buffer":N||(N=K.defaultEncoding),typeof I!="function"&&(I=G),K.ending?(function($,tt){var U=new F;V($,U),o.nextTick(tt,U)})(this,I):(nt||(function($,tt,U,L){var Q;return U===null?Q=new q:typeof U=="string"||tt.objectMode||(Q=new w("chunk",["string","Buffer"],U)),!Q||(V($,Q),o.nextTick(L,Q),!1)})(this,K,E,I))&&(K.pendingcb++,Z=(function($,tt,U,L,Q,it){if(!U){var ut=(function(yt,at,pt){return yt.objectMode||yt.decodeStrings===!1||typeof at!="string"||(at=m.from(at,pt)),at})(tt,L,Q);L!==ut&&(U=!0,Q="buffer",L=ut)}var st=tt.objectMode?1:L.length;tt.length+=st;var lt=tt.length<tt.highWaterMark;if(lt||(tt.needDrain=!0),tt.writing||tt.corked){var bt=tt.lastBufferedRequest;tt.lastBufferedRequest={chunk:L,encoding:Q,isBuf:U,callback:it,next:null},bt?bt.next=tt.lastBufferedRequest:tt.bufferedRequest=tt.lastBufferedRequest,tt.bufferedRequestCount+=1}else R($,tt,!1,st,L,Q,it);return lt})(this,K,nt,E,N,I)),Z},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var E=this._writableState;E.corked&&(E.corked--,E.writing||E.corked||E.bufferProcessing||!E.bufferedRequest||k(this,E))},H.prototype.setDefaultEncoding=function(E){if(typeof E=="string"&&(E=E.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((E+"").toLowerCase())>-1))throw new j(E);return this._writableState.defaultEncoding=E,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(E,N,I){I(new _("_write()"))},H.prototype._writev=null,H.prototype.end=function(E,N,I){var B=this._writableState;return typeof E=="function"?(I=E,E=null,N=null):typeof N=="function"&&(I=N,N=null),E!=null&&this.write(E,N),B.corked&&(B.corked=1,this.uncork()),B.ending||(function(K,Z,nt){Z.ending=!0,T(K,Z),nt&&(Z.finished?o.nextTick(nt):K.once("finish",nt)),Z.ended=!0,K.writable=!1})(this,B,I),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(E){this._writableState&&(this._writableState.destroyed=E)}}),H.prototype.destroy=b.destroy,H.prototype._undestroy=b.undestroy,H.prototype._destroy=function(E,N){N(E)}}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,i,c){(function(o){(function(){var s;function h(O,q,F){return(q=(function(j){var V=(function(G,X){if(typeof G!="object"||G===null)return G;var H=G[Symbol.toPrimitive];if(H!==void 0){var R=H.call(G,X);if(typeof R!="object")return R;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(G)})(j,"string");return typeof V=="symbol"?V:String(V)})(q))in O?Object.defineProperty(O,q,{value:F,enumerable:!0,configurable:!0,writable:!0}):O[q]=F,O}var a=t("./end-of-stream"),n=Symbol("lastResolve"),u=Symbol("lastReject"),m=Symbol("error"),f=Symbol("ended"),d=Symbol("lastPromise"),b=Symbol("handlePromise"),v=Symbol("stream");function g(O,q){return{value:O,done:q}}function w(O){var q=O[n];if(q!==null){var F=O[v].read();F!==null&&(O[d]=null,O[n]=null,O[u]=null,q(g(F,!1)))}}function _(O){o.nextTick(w,O)}var A=Object.getPrototypeOf((function(){})),M=Object.setPrototypeOf((h(s={get stream(){return this[v]},next:function(){var O=this,q=this[m];if(q!==null)return Promise.reject(q);if(this[f])return Promise.resolve(g(void 0,!0));if(this[v].destroyed)return new Promise((function(G,X){o.nextTick((function(){O[m]?X(O[m]):G(g(void 0,!0))}))}));var F,j=this[d];if(j)F=new Promise((function(G,X){return function(H,R){G.then((function(){X[f]?H(g(void 0,!0)):X[b](H,R)}),R)}})(j,this));else{var V=this[v].read();if(V!==null)return Promise.resolve(g(V,!1));F=new Promise(this[b])}return this[d]=F,F}},Symbol.asyncIterator,(function(){return this})),h(s,"return",(function(){var O=this;return new Promise((function(q,F){O[v].destroy(null,(function(j){j?F(j):q(g(void 0,!0))}))}))})),s),A);i.exports=function(O){var q,F=Object.create(M,(h(q={},v,{value:O,writable:!0}),h(q,n,{value:null,writable:!0}),h(q,u,{value:null,writable:!0}),h(q,m,{value:null,writable:!0}),h(q,f,{value:O._readableState.endEmitted,writable:!0}),h(q,b,{value:function(j,V){var G=F[v].read();G?(F[d]=null,F[n]=null,F[u]=null,j(g(G,!1))):(F[n]=j,F[u]=V)},writable:!0}),q));return F[d]=null,a(O,(function(j){if(j&&j.code!=="ERR_STREAM_PREMATURE_CLOSE"){var V=F[u];return V!==null&&(F[d]=null,F[n]=null,F[u]=null,V(j)),void(F[m]=j)}var G=F[n];G!==null&&(F[d]=null,F[n]=null,F[u]=null,G(g(void 0,!0))),F[f]=!0})),O.on("readable",_.bind(null,F)),F}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,i,c){function o(d,b){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);b&&(g=g.filter((function(w){return Object.getOwnPropertyDescriptor(d,w).enumerable}))),v.push.apply(v,g)}return v}function s(d){for(var b=1;b<arguments.length;b++){var v=arguments[b]!=null?arguments[b]:{};b%2?o(Object(v),!0).forEach((function(g){h(d,g,v[g])})):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):o(Object(v)).forEach((function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(v,g))}))}return d}function h(d,b,v){return(b=n(b))in d?Object.defineProperty(d,b,{value:v,enumerable:!0,configurable:!0,writable:!0}):d[b]=v,d}function a(d,b){for(var v=0;v<b.length;v++){var g=b[v];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(d,n(g.key),g)}}function n(d){var b=(function(v,g){if(typeof v!="object"||v===null)return v;var w=v[Symbol.toPrimitive];if(w!==void 0){var _=w.call(v,g);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(v)})(d,"string");return typeof b=="symbol"?b:String(b)}var u=t("buffer").Buffer,m=t("util").inspect,f=m&&m.custom||"inspect";i.exports=(function(){function d(){(function(g,w){if(!(g instanceof w))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var b,v;return b=d,(v=[{key:"push",value:function(g){var w={data:g,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(g){var w={data:g,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=g+w.data;return _}},{key:"concat",value:function(g){if(this.length===0)return u.alloc(0);for(var w,_,A,M=u.allocUnsafe(g>>>0),O=this.head,q=0;O;)w=O.data,_=M,A=q,u.prototype.copy.call(w,_,A),q+=O.data.length,O=O.next;return M}},{key:"consume",value:function(g,w){var _;return g<this.head.data.length?(_=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):_=g===this.head.data.length?this.shift():w?this._getString(g):this._getBuffer(g),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var w=this.head,_=1,A=w.data;for(g-=A.length;w=w.next;){var M=w.data,O=g>M.length?M.length:g;if(O===M.length?A+=M:A+=M.slice(0,g),(g-=O)==0){O===M.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=M.slice(O));break}++_}return this.length-=_,A}},{key:"_getBuffer",value:function(g){var w=u.allocUnsafe(g),_=this.head,A=1;for(_.data.copy(w),g-=_.data.length;_=_.next;){var M=_.data,O=g>M.length?M.length:g;if(M.copy(w,w.length-g,0,O),(g-=O)==0){O===M.length?(++A,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=M.slice(O));break}++A}return this.length-=A,w}},{key:f,value:function(g,w){return m(this,s(s({},w),{},{depth:0,customInspect:!1}))}}])&&a(b.prototype,v),Object.defineProperty(b,"prototype",{writable:!1}),d})()},{buffer:220,util:188}],485:[function(t,i,c){(function(o){(function(){function s(n,u){a(n,u),h(n)}function h(n){n._writableState&&!n._writableState.emitClose||n._readableState&&!n._readableState.emitClose||n.emit("close")}function a(n,u){n.emit("error",u)}i.exports={destroy:function(n,u){var m=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(u?u(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(a,this,n)):o.nextTick(a,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,(function(b){!u&&b?m._writableState?m._writableState.errorEmitted?o.nextTick(h,m):(m._writableState.errorEmitted=!0,o.nextTick(s,m,b)):o.nextTick(s,m,b):u?(o.nextTick(h,m),u(b)):o.nextTick(h,m)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(n,u){var m=n._readableState,f=n._writableState;m&&m.autoDestroy||f&&f.autoDestroy?n.destroy(u):n.emit("error",u)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,i,c){var o=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}i.exports=function h(a,n,u){if(typeof n=="function")return h(a,null,n);n||(n={}),u=(function(O){var q=!1;return function(){if(!q){q=!0;for(var F=arguments.length,j=new Array(F),V=0;V<F;V++)j[V]=arguments[V];O.apply(this,j)}}})(u||s);var m=n.readable||n.readable!==!1&&a.readable,f=n.writable||n.writable!==!1&&a.writable,d=function(){a.writable||v()},b=a._writableState&&a._writableState.finished,v=function(){f=!1,b=!0,m||u.call(a)},g=a._readableState&&a._readableState.endEmitted,w=function(){m=!1,g=!0,f||u.call(a)},_=function(O){u.call(a,O)},A=function(){var O;return m&&!g?(a._readableState&&a._readableState.ended||(O=new o),u.call(a,O)):f&&!b?(a._writableState&&a._writableState.ended||(O=new o),u.call(a,O)):void 0},M=function(){a.req.on("finish",v)};return(function(O){return O.setHeader&&typeof O.abort=="function"})(a)?(a.on("complete",v),a.on("abort",A),a.req?M():a.on("request",M)):f&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",w),a.on("finish",v),n.error!==!1&&a.on("error",_),a.on("close",A),function(){a.removeListener("complete",v),a.removeListener("abort",A),a.removeListener("request",M),a.req&&a.req.removeListener("finish",v),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",v),a.removeListener("end",w),a.removeListener("error",_),a.removeListener("close",A)}}},{"../../../errors":477}],487:[function(t,i,c){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,i,c){var o,s=t("../../../errors").codes,h=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function n(b){if(b)throw b}function u(b,v,g,w){w=(function(M){var O=!1;return function(){O||(O=!0,M.apply(void 0,arguments))}})(w);var _=!1;b.on("close",(function(){_=!0})),o===void 0&&(o=t("./end-of-stream")),o(b,{readable:v,writable:g},(function(M){if(M)return w(M);_=!0,w()}));var A=!1;return function(M){if(!_&&!A)return A=!0,(function(O){return O.setHeader&&typeof O.abort=="function"})(b)?b.abort():typeof b.destroy=="function"?b.destroy():void w(M||new a("pipe"))}}function m(b){b()}function f(b,v){return b.pipe(v)}function d(b){return b.length?typeof b[b.length-1]!="function"?n:b.pop():n}i.exports=function(){for(var b=arguments.length,v=new Array(b),g=0;g<b;g++)v[g]=arguments[g];var w,_=d(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new h("streams");var A=v.map((function(M,O){var q=O<v.length-1;return u(M,q,O>0,(function(F){w||(w=F),F&&A.forEach(m),q||(A.forEach(m),_(w))}))}));return v.reduce(f)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,i,c){var o=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;i.exports={getHighWaterMark:function(s,h,a,n){var u=(function(m,f,d){return m.highWaterMark!=null?m.highWaterMark:f?m[d]:null})(h,n,a);if(u!=null){if(!isFinite(u)||Math.floor(u)!==u||u<0)throw new o(n?a:"highWaterMark",u);return Math.floor(u)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,i,c){i.exports=t("events").EventEmitter},{events:422}],491:[function(t,i,c){(c=i.exports=t("./lib/_stream_readable.js")).Stream=c,c.Readable=c,c.Writable=t("./lib/_stream_writable.js"),c.Duplex=t("./lib/_stream_duplex.js"),c.Transform=t("./lib/_stream_transform.js"),c.PassThrough=t("./lib/_stream_passthrough.js"),c.finished=t("./lib/internal/streams/end-of-stream.js"),c.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,i,c){var o=(function(s){var h=Object.prototype,a=h.hasOwnProperty,n=Object.defineProperty||function(T,E,N){T[E]=N.value},u=typeof Symbol=="function"?Symbol:{},m=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",d=u.toStringTag||"@@toStringTag";function b(T,E,N){return Object.defineProperty(T,E,{value:N,enumerable:!0,configurable:!0,writable:!0}),T[E]}try{b({},"")}catch{b=function(E,N,I){return E[N]=I}}function v(T,E,N,I){var B=E&&E.prototype instanceof _?E:_,K=Object.create(B.prototype),Z=new k(I||[]);return n(K,"_invoke",{value:X(T,N,Z)}),K}function g(T,E,N){try{return{type:"normal",arg:T.call(E,N)}}catch(I){return{type:"throw",arg:I}}}s.wrap=v;var w={};function _(){}function A(){}function M(){}var O={};b(O,m,(function(){return this}));var q=Object.getPrototypeOf,F=q&&q(q(x([])));F&&F!==h&&a.call(F,m)&&(O=F);var j=M.prototype=_.prototype=Object.create(O);function V(T){["next","throw","return"].forEach((function(E){b(T,E,(function(N){return this._invoke(E,N)}))}))}function G(T,E){var N;n(this,"_invoke",{value:function(I,B){function K(){return new E((function(Z,nt){(function $(tt,U,L,Q){var it=g(T[tt],T,U);if(it.type!=="throw"){var ut=it.arg,st=ut.value;return st&&typeof st=="object"&&a.call(st,"__await")?E.resolve(st.__await).then((function(lt){$("next",lt,L,Q)}),(function(lt){$("throw",lt,L,Q)})):E.resolve(st).then((function(lt){ut.value=lt,L(ut)}),(function(lt){return $("throw",lt,L,Q)}))}Q(it.arg)})(I,B,Z,nt)}))}return N=N?N.then(K,K):K()}})}function X(T,E,N){var I="suspendedStart";return function(B,K){if(I==="executing")throw new Error("Generator is already running");if(I==="completed"){if(B==="throw")throw K;return S()}for(N.method=B,N.arg=K;;){var Z=N.delegate;if(Z){var nt=H(Z,N);if(nt){if(nt===w)continue;return nt}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(I==="suspendedStart")throw I="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);I="executing";var $=g(T,E,N);if($.type==="normal"){if(I=N.done?"completed":"suspendedYield",$.arg===w)continue;return{value:$.arg,done:N.done}}$.type==="throw"&&(I="completed",N.method="throw",N.arg=$.arg)}}}function H(T,E){var N=E.method,I=T.iterator[N];if(I===void 0)return E.delegate=null,N==="throw"&&T.iterator.return&&(E.method="return",E.arg=void 0,H(T,E),E.method==="throw")||N!=="return"&&(E.method="throw",E.arg=new TypeError("The iterator does not provide a '"+N+"' method")),w;var B=g(I,T.iterator,E.arg);if(B.type==="throw")return E.method="throw",E.arg=B.arg,E.delegate=null,w;var K=B.arg;return K?K.done?(E[T.resultName]=K.value,E.next=T.nextLoc,E.method!=="return"&&(E.method="next",E.arg=void 0),E.delegate=null,w):K:(E.method="throw",E.arg=new TypeError("iterator result is not an object"),E.delegate=null,w)}function R(T){var E={tryLoc:T[0]};1 in T&&(E.catchLoc=T[1]),2 in T&&(E.finallyLoc=T[2],E.afterLoc=T[3]),this.tryEntries.push(E)}function P(T){var E=T.completion||{};E.type="normal",delete E.arg,T.completion=E}function k(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(R,this),this.reset(!0)}function x(T){if(T){var E=T[m];if(E)return E.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var N=-1,I=function B(){for(;++N<T.length;)if(a.call(T,N))return B.value=T[N],B.done=!1,B;return B.value=void 0,B.done=!0,B};return I.next=I}}return{next:S}}function S(){return{value:void 0,done:!0}}return A.prototype=M,n(j,"constructor",{value:M,configurable:!0}),n(M,"constructor",{value:A,configurable:!0}),A.displayName=b(M,d,"GeneratorFunction"),s.isGeneratorFunction=function(T){var E=typeof T=="function"&&T.constructor;return!!E&&(E===A||(E.displayName||E.name)==="GeneratorFunction")},s.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,M):(T.__proto__=M,b(T,d,"GeneratorFunction")),T.prototype=Object.create(j),T},s.awrap=function(T){return{__await:T}},V(G.prototype),b(G.prototype,f,(function(){return this})),s.AsyncIterator=G,s.async=function(T,E,N,I,B){B===void 0&&(B=Promise);var K=new G(v(T,E,N,I),B);return s.isGeneratorFunction(E)?K:K.next().then((function(Z){return Z.done?Z.value:K.next()}))},V(j),b(j,d,"Generator"),b(j,m,(function(){return this})),b(j,"toString",(function(){return"[object Generator]"})),s.keys=function(T){var E=Object(T),N=[];for(var I in E)N.push(I);return N.reverse(),function B(){for(;N.length;){var K=N.pop();if(K in E)return B.value=K,B.done=!1,B}return B.done=!0,B}},s.values=x,k.prototype={constructor:k,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!T)for(var E in this)E.charAt(0)==="t"&&a.call(this,E)&&!isNaN(+E.slice(1))&&(this[E]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var E=this;function N($,tt){return K.type="throw",K.arg=T,E.next=$,tt&&(E.method="next",E.arg=void 0),!!tt}for(var I=this.tryEntries.length-1;I>=0;--I){var B=this.tryEntries[I],K=B.completion;if(B.tryLoc==="root")return N("end");if(B.tryLoc<=this.prev){var Z=a.call(B,"catchLoc"),nt=a.call(B,"finallyLoc");if(Z&&nt){if(this.prev<B.catchLoc)return N(B.catchLoc,!0);if(this.prev<B.finallyLoc)return N(B.finallyLoc)}else if(Z){if(this.prev<B.catchLoc)return N(B.catchLoc,!0)}else{if(!nt)throw new Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return N(B.finallyLoc)}}}},abrupt:function(T,E){for(var N=this.tryEntries.length-1;N>=0;--N){var I=this.tryEntries[N];if(I.tryLoc<=this.prev&&a.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var B=I;break}}B&&(T==="break"||T==="continue")&&B.tryLoc<=E&&E<=B.finallyLoc&&(B=null);var K=B?B.completion:{};return K.type=T,K.arg=E,B?(this.method="next",this.next=B.finallyLoc,w):this.complete(K)},complete:function(T,E){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&E&&(this.next=E),w},finish:function(T){for(var E=this.tryEntries.length-1;E>=0;--E){var N=this.tryEntries[E];if(N.finallyLoc===T)return this.complete(N.completion,N.afterLoc),P(N),w}},catch:function(T){for(var E=this.tryEntries.length-1;E>=0;--E){var N=this.tryEntries[E];if(N.tryLoc===T){var I=N.completion;if(I.type==="throw"){var B=I.arg;P(N)}return B}}throw new Error("illegal catch attempt")},delegateYield:function(T,E,N){return this.delegate={iterator:x(T),resultName:E,nextLoc:N},this.method==="next"&&(this.arg=void 0),w}},s})(typeof i=="object"?i.exports:{});try{regeneratorRuntime=o}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},{}],493:[function(t,i,c){var o=t("buffer").Buffer,s=t("inherits"),h=t("hash-base"),a=new Array(16),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];function v(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function g(q,F){return q<<F|q>>>32-F}function w(q,F,j,V,G,X,H,R){return g(q+(F^j^V)+X+H|0,R)+G|0}function _(q,F,j,V,G,X,H,R){return g(q+(F&j|~F&V)+X+H|0,R)+G|0}function A(q,F,j,V,G,X,H,R){return g(q+((F|~j)^V)+X+H|0,R)+G|0}function M(q,F,j,V,G,X,H,R){return g(q+(F&V|j&~V)+X+H|0,R)+G|0}function O(q,F,j,V,G,X,H,R){return g(q+(F^(j|~V))+X+H|0,R)+G|0}s(v,h),v.prototype._update=function(){for(var q=a,F=0;F<16;++F)q[F]=this._block.readInt32LE(4*F);for(var j=0|this._a,V=0|this._b,G=0|this._c,X=0|this._d,H=0|this._e,R=0|this._a,P=0|this._b,k=0|this._c,x=0|this._d,S=0|this._e,T=0;T<80;T+=1){var E,N;T<16?(E=w(j,V,G,X,H,q[n[T]],d[0],m[T]),N=O(R,P,k,x,S,q[u[T]],b[0],f[T])):T<32?(E=_(j,V,G,X,H,q[n[T]],d[1],m[T]),N=M(R,P,k,x,S,q[u[T]],b[1],f[T])):T<48?(E=A(j,V,G,X,H,q[n[T]],d[2],m[T]),N=A(R,P,k,x,S,q[u[T]],b[2],f[T])):T<64?(E=M(j,V,G,X,H,q[n[T]],d[3],m[T]),N=_(R,P,k,x,S,q[u[T]],b[3],f[T])):(E=O(j,V,G,X,H,q[n[T]],d[4],m[T]),N=w(R,P,k,x,S,q[u[T]],b[4],f[T])),j=H,H=X,X=g(G,10),G=V,V=E,R=S,S=x,x=g(k,10),k=P,P=N}var I=this._b+G+x|0;this._b=this._c+X+S|0,this._c=this._d+H+R|0,this._d=this._e+j+P|0,this._e=this._a+V+k|0,this._a=I},v.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var q=o.alloc?o.alloc(20):new o(20);return q.writeInt32LE(this._a,0),q.writeInt32LE(this._b,4),q.writeInt32LE(this._c,8),q.writeInt32LE(this._d,12),q.writeInt32LE(this._e,16),q},i.exports=v},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,i,c){var o=t("buffer"),s=o.Buffer;function h(n,u){for(var m in n)u[m]=n[m]}function a(n,u,m){return s(n,u,m)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?i.exports=o:(h(o,c),c.Buffer=a),a.prototype=Object.create(s.prototype),h(s,a),a.from=function(n,u,m){if(typeof n=="number")throw new TypeError("Argument must not be a number");return s(n,u,m)},a.alloc=function(n,u,m){if(typeof n!="number")throw new TypeError("Argument must be a number");var f=s(n);return u!==void 0?typeof m=="string"?f.fill(u,m):f.fill(u):f.fill(0),f},a.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return s(n)},a.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(n)}},{buffer:220}],495:[function(t,i,c){(function(o){(function(){var s,h=t("buffer"),a=h.Buffer,n={};for(s in h)h.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(n[s]=h[s]);var u=n.Buffer={};for(s in a)a.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(u[s]=a[s]);if(n.Buffer.prototype=a.prototype,u.from&&u.from!==Uint8Array.from||(u.from=function(m,f,d){if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof m);if(m&&m.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);return a(m,f,d)}),u.alloc||(u.alloc=function(m,f,d){if(typeof m!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof m);if(m<0||m>=2*(1<<30))throw new RangeError('The value "'+m+'" is invalid for option "size"');var b=a(m);return f&&f.length!==0?typeof d=="string"?b.fill(f,d):b.fill(f):b.fill(0),b}),!n.kStringMaxLength)try{n.kStringMaxLength=o.binding("buffer").kStringMaxLength}catch{}n.constants||(n.constants={MAX_LENGTH:n.kMaxLength},n.kStringMaxLength&&(n.constants.MAX_STRING_LENGTH=n.kStringMaxLength)),i.exports=n}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0});const o=t("xmlchars/xml/1.0/ed5"),s=t("xmlchars/xml/1.1/ed2"),h=t("xmlchars/xmlns/1.0/ed3");var a=o.isS,n=o.isChar,u=o.isNameStartChar,m=o.isNameChar,f=o.S_LIST,d=o.NAME_RE,b=s.isChar,v=h.isNCNameStartChar,g=h.isNCNameChar,w=h.NC_NAME_RE;const _="http://www.w3.org/XML/1998/namespace",A="http://www.w3.org/2000/xmlns/",M={__proto__:null,xml:_,xmlns:A},O={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},q=x=>x===34||x===39,F=[34,39],j=[...F,91,62],V=[...F,60,93],G=[61,63,...f],X=[...f,62,38,60];function H(x,S,T){switch(S){case"xml":T!==_&&x.fail(`xml prefix must be bound to ${_}.`);break;case"xmlns":T!==A&&x.fail(`xmlns prefix must be bound to ${A}.`)}switch(T){case A:x.fail(S===""?`the default namespace may not be set to ${T}.`:`may not assign a prefix (even "xmlns") to the URI ${A}.`);break;case _:switch(S){case"xml":break;case"":x.fail(`the default namespace may not be set to ${T}.`);break;default:x.fail("may not assign the xml namespace to another prefix.")}}}const R=x=>w.test(x),P=x=>d.test(x);c.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};c.SaxesParser=class{constructor(x){this.opt=x??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=v,this.nameCheck=g,this.isName=R,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},M);const T=this.opt.additionalNamespaces;T!=null&&((function(E,N){for(const I of Object.keys(N))H(E,I,N[I])})(this,T),Object.assign(this.ns,T))}else this.nameStartCheck=u,this.nameCheck=m,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var x;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:T}=this.opt;if(T===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");T="1.0"}this.setXMLVersion(T),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(O),(x=this.readyHandler)===null||x===void 0||x.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(x,S){this[k[x]]=S}off(x){this[k[x]]=void 0}makeError(x){var S;let T=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(T.length>0&&(T+=":"),T+=`${this.line}:${this.column}`),T.length>0&&(T+=": "),new Error(T+x)}fail(x){const S=this.makeError(x),T=this.errorHandler;if(T===void 0)throw S;return T(S),this}write(x){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;x===null?(S=!0,x=""):typeof x=="object"&&(x=x.toString()),this.carriedFromPrevious!==void 0&&(x=`${this.carriedFromPrevious}${x}`,this.carriedFromPrevious=void 0);let T=x.length;const E=x.charCodeAt(T-1);!S&&(E===13||E>=55296&&E<=56319)&&(this.carriedFromPrevious=x[T-1],T--,x=x.slice(0,T));const{stateTable:N}=this;for(this.chunk=x,this.i=0;this.i<T;)N[this.state].call(this);return this.chunkPosition+=T,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:x,i:S}=this;if(this.prevI=S,this.i=S+1,S>=x.length)return-1;const T=x.charCodeAt(S);if(this.column++,T<55296){if(T>=32||T===9)return T;switch(T){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return x.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),T}}if(T>56319)return T>=57344&&T<=65533||this.fail("disallowed character."),T;const E=65536+1024*(T-55296)+(x.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCode11(){const{chunk:x,i:S}=this;if(this.prevI=S,this.i=S+1,S>=x.length)return-1;const T=x.charCodeAt(S);if(this.column++,T<55296){if(T>31&&T<127||T>159&&T!==8232||T===9)return T;switch(T){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const N=x.charCodeAt(S+1);N!==10&&N!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),T}}if(T>56319)return T>=57344&&T<=65533||this.fail("disallowed character."),T;const E=65536+1024*(T-55296)+(x.charCodeAt(S+1)-56320);return this.i=S+2,E>1114111&&this.fail("disallowed character."),E}getCodeNorm(){const x=this.getCode();return x===-2?10:x}unget(){this.i=this.prevI,this.column--}captureTo(x){let{i:S}=this;const{chunk:T}=this;for(;;){const E=this.getCode(),N=E===-2,I=N?10:E;if(I===-1||x.includes(I))return this.text+=T.slice(S,this.prevI),I;N&&(this.text+=T.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(x){let{i:S}=this;const{chunk:T}=this;for(;;){let E=this.getCode();switch(E){case-2:this.text+=T.slice(S,this.prevI)+`
`,S=this.i,E=10;break;case-1:return this.text+=T.slice(S),!1}if(E===x)return this.text+=T.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:x,i:S}=this;for(;;){const T=this.getCode();if(T===-1)return this.name+=x.slice(S),-1;if(!m(T))return this.name+=x.slice(S,this.prevI),T===-2?10:T}}skipSpaces(){for(;;){const x=this.getCodeNorm();if(x===-1||!a(x))return x}}setXMLVersion(x){this.currentXMLVersion=x,x==="1.0"?(this.isChar=n,this.getCode=this.getCode10):(this.isChar=b,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const x=this.i,S=this.skipSpaces();switch(this.prevI!==x&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var x;const S=this.captureTo(j);switch(S){case 62:(x=this.doctypeHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:q(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.q=null,this.state=2)}sDTD(){const x=this.captureTo(V);x!==-1&&(this.text+=String.fromCodePoint(x),x===93?this.state=2:x===60?this.state=6:q(x)&&(this.state=5,this.q=x))}sDTDQuoted(){const x=this.q;this.captureToChar(x)&&(this.text+=String.fromCodePoint(x),this.state=4,this.q=null)}sDTDOpenWaka(){const x=this.getCodeNorm();switch(this.text+=String.fromCodePoint(x),x){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const x=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=x;this.text+=x,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),this.state=x===45?10:8}sDTDCommentEnded(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const x=this.getCodeNorm();this.text+=String.fromCodePoint(x),x===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:x}=this;const{chunk:S}=this;t:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(x,this.prevI)+`
`,x=this.i;break;case 59:{const{entityReturnState:T}=this,E=this.entity+S.slice(x,this.prevI);let N;this.state=T,E===""?(this.fail("empty entity name."),N="&;"):(N=this.parseEntity(E),this.entity=""),T===13&&this.textHandler===void 0||(this.text+=N);break t}case-1:this.entity+=S.slice(x);break t}}sOpenWaka(){const x=this.getCode();if(u(x))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(x){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var x;const S=this.getCodeNorm();S===45?(this.state=19,(x=this.commentHandler)===null||x===void 0||x.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const x=this.getCodeNorm();x!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(x),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const x=this.getCodeNorm();x===93?this.state=22:(this.text+="]"+String.fromCodePoint(x),this.state=20)}sCDataEnding2(){var x;const S=this.getCodeNorm();switch(S){case 62:(x=this.cdataHandler)===null||x===void 0||x.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const x=this.getCodeNorm();this.nameStartCheck(x)?(this.piTarget+=String.fromCodePoint(x),this.state=24):x===63||a(x)?(this.fail("processing instruction without a target."),this.state=x===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x),this.state=24)}sPIRest(){const{chunk:x,i:S}=this;for(;;){const T=this.getCodeNorm();if(T===-1)return void(this.piTarget+=x.slice(S));if(!this.nameCheck(T)){this.piTarget+=x.slice(S,this.prevI);const E=T===63;E||a(T)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=E?33:27):this.state=E?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(T));break}}}sPIBody(){if(this.text.length===0){const x=this.getCodeNorm();x===63?this.state=26:a(x)||(this.text=String.fromCodePoint(x))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var x;const S=this.getCodeNorm();if(S===62){const{piTarget:T}=this;T.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(x=this.piHandler)===null||x===void 0||x.call(this,{target:T,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const x=this.skipSpaces();x!==63?x!==-1&&(this.state=28,this.name=String.fromCodePoint(x)):this.state=33}sXMLDeclName(){const x=this.captureTo(G);if(x===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(x)||x===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=x===61?30:29}}sXMLDeclEq(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(x)||(x!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const x=this.getCodeNorm();if(x===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(x)||(q(x)?this.q=x:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const x=this.captureTo([this.q,63]);if(x===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(x===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const T=S;this.xmlDecl.version=T,/^1\.[0-9]+$/.test(T)?this.opt.forceXMLVersion||this.setXMLVersion(T):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const x=this.getCodeNorm();x!==63?(a(x)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var x;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(x=this.xmldeclHandler)===null||x===void 0||x.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var x;const S=this.captureNameChars();if(S===-1)return;const T=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=T.ns=Object.create(null)),(x=this.openTagStartHandler)===null||x===void 0||x.call(this,T),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:a(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const x=this.skipSpaces();x!==-1&&(u(x)?(this.unget(),this.state=37):x===62?this.openTag():x===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const x=this.captureNameChars();x===61?this.state=39:a(x)?this.state=38:x===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):x!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const x=this.skipSpaces();switch(x){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",x===62?this.openTag():u(x)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const x=this.getCodeNorm();q(x)?(this.q=x,this.state=40):a(x)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:x,chunk:S}=this;let{i:T}=this;for(;;)switch(this.getCode()){case x:return this.pushAttrib(this.name,this.text+S.slice(T,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(T,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(T,this.prevI)+" ",T=this.i;break;case 60:return this.text+=S.slice(T,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(T))}}sAttribValueClosed(){const x=this.getCodeNorm();a(x)?this.state=36:x===62?this.openTag():x===47?this.state=35:u(x)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const x=this.captureTo(X);switch(x){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",x===62?this.openTag():this.state=36}}sCloseTag(){const x=this.captureNameChars();x===62?this.closeTag():a(x)?this.state=44:x!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:x,forbiddenState:S}=this;const{chunk:T,textHandler:E}=this;t:for(;;)switch(this.getCode()){case 60:if(this.state=15,E!==void 0){const{text:N}=this,I=T.slice(x,this.prevI);N.length!==0?(E(N+I),this.text=""):I.length!==0&&E(I)}S=0;break t;case 38:this.state=14,this.entityReturnState=13,E!==void 0&&(this.text+=T.slice(x,this.prevI)),S=0;break t;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:E!==void 0&&(this.text+=T.slice(x,this.prevI)+`
`),x=this.i,S=0;break;case-1:E!==void 0&&(this.text+=T.slice(x));break t;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:x}=this;const{chunk:S,textHandler:T}=this;let E=!1;t:for(;;){const N=this.getCode();switch(N){case 60:if(this.state=15,T!==void 0){const{text:I}=this,B=S.slice(x,this.prevI);I.length!==0?(T(I+B),this.text=""):B.length!==0&&T(B)}break t;case 38:this.state=14,this.entityReturnState=13,T!==void 0&&(this.text+=S.slice(x,this.prevI)),E=!0;break t;case-2:T!==void 0&&(this.text+=S.slice(x,this.prevI)+`
`),x=this.i;break;case-1:T!==void 0&&(this.text+=S.slice(x));break t;default:a(N)||(E=!0)}}E&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(x,S){var T;const{prefix:E,local:N}=this.qname(x),I={name:x,prefix:E,local:N,value:S};if(this.attribList.push(I),(T=this.attributeHandler)===null||T===void 0||T.call(this,I),E==="xmlns"){const B=S.trim();this.currentXMLVersion==="1.0"&&B===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[N]=B,H(this,N,B)}else if(x==="xmlns"){const B=S.trim();this.topNS[""]=B,H(this,"",B)}}pushAttribPlain(x,S){var T;const E={name:x,value:S};this.attribList.push(E),(T=this.attributeHandler)===null||T===void 0||T.call(this,E)}end(){var x,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:T}=this;for(;T.length>0;){const N=T.pop();this.fail("unclosed tag: "+N.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:E}=this;return E.length!==0&&((x=this.textHandler)===null||x===void 0||x.call(this,E),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(x){var S,T;let E=this.topNS[x];if(E!==void 0)return E;const{tags:N}=this;for(let I=N.length-1;I>=0;I--)if(E=N[I].ns[x],E!==void 0)return E;return E=this.ns[x],E!==void 0?E:(T=(S=this.opt).resolvePrefix)===null||T===void 0?void 0:T.call(S,x)}qname(x){const S=x.indexOf(":");if(S===-1)return{prefix:"",local:x};const T=x.slice(S+1),E=x.slice(0,S);return(E===""||T===""||T.includes(":"))&&this.fail(`malformed name: ${x}.`),{prefix:E,local:T}}processAttribsNS(){var x;const{attribList:S}=this,T=this.tag;{const{prefix:I,local:B}=this.qname(T.name);T.prefix=I,T.local=B;const K=T.uri=(x=this.resolve(I))!==null&&x!==void 0?x:"";I!==""&&(I==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),K===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(I)}.`),T.uri=I))}if(S.length===0)return;const{attributes:E}=T,N=new Set;for(const I of S){const{name:B,prefix:K,local:Z}=I;let nt,$;K===""?(nt=B==="xmlns"?A:"",$=B):(nt=this.resolve(K),nt===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(K)}.`),nt=K),$=`{${nt}}${Z}`),N.has($)&&this.fail(`duplicate attribute: ${$}.`),N.add($),I.uri=nt,E[B]=I}this.attribList=[]}processAttribsPlain(){const{attribList:x}=this,S=this.tag.attributes;for(const{name:T,value:E}of x)S[T]!==void 0&&this.fail(`duplicate attribute: ${T}.`),S[T]=E;this.attribList=[]}openTag(){var x;this.processAttribs();const{tags:S}=this,T=this.tag;T.isSelfClosing=!1,(x=this.openTagHandler)===null||x===void 0||x.call(this,T),S.push(T),this.state=13,this.name=""}openSelfClosingTag(){var x,S,T;this.processAttribs();const{tags:E}=this,N=this.tag;N.isSelfClosing=!0,(x=this.openTagHandler)===null||x===void 0||x.call(this,N),(S=this.closeTagHandler)===null||S===void 0||S.call(this,N),(this.tag=(T=E[E.length-1])!==null&&T!==void 0?T:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:x,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const T=this.closeTagHandler;let E=x.length;for(;E-- >0;){const N=this.tag=x.pop();if(this.topNS=N.ns,T?.(N),N.name===S)break;this.fail("unexpected close tag.")}E===0?this.closedRoot=!0:E<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(x){if(x[0]!=="#"){const T=this.ENTITIES[x];return T!==void 0?T:(this.fail(this.isName(x)?"undefined entity.":"disallowed character in entity name."),`&${x};`)}let S=NaN;return x[1]==="x"&&/^#x[0-9a-f]+$/i.test(x)?S=parseInt(x.slice(2),16):/^#[0-9]+$/.test(x)&&(S=parseInt(x.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${x};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,i,c){var o=t("safe-buffer").Buffer;function s(h,a){this._block=o.alloc(h),this._finalSize=a,this._blockSize=h,this._len=0}s.prototype.update=function(h,a){typeof h=="string"&&(a=a||"utf8",h=o.from(h,a));for(var n=this._block,u=this._blockSize,m=h.length,f=this._len,d=0;d<m;){for(var b=f%u,v=Math.min(m-d,u-b),g=0;g<v;g++)n[b+g]=h[d+g];d+=v,(f+=v)%u==0&&this._update(n)}return this._len+=m,this},s.prototype.digest=function(h){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var u=(4294967295&n)>>>0,m=(n-u)/4294967296;this._block.writeUInt32BE(m,this._blockSize-8),this._block.writeUInt32BE(u,this._blockSize-4)}this._update(this._block);var f=this._hash();return h?f.toString(h):f},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},i.exports=s},{"safe-buffer":494}],498:[function(t,i,c){var o=i.exports=function(s){s=s.toLowerCase();var h=o[s];if(!h)throw new Error(s+" is not supported (we accept pull requests)");return new h};o.sha=t("./sha"),o.sha1=t("./sha1"),o.sha224=t("./sha224"),o.sha256=t("./sha256"),o.sha384=t("./sha384"),o.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,i,c){var o=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],n=new Array(80);function u(){this.init(),this._w=n,s.call(this,64,56)}function m(d){return d<<30|d>>>2}function f(d,b,v,g){return d===0?b&v|~b&g:d===2?b&v|b&g|v&g:b^v^g}o(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(d){for(var b,v=this._w,g=0|this._a,w=0|this._b,_=0|this._c,A=0|this._d,M=0|this._e,O=0;O<16;++O)v[O]=d.readInt32BE(4*O);for(;O<80;++O)v[O]=v[O-3]^v[O-8]^v[O-14]^v[O-16];for(var q=0;q<80;++q){var F=~~(q/20),j=0|((b=g)<<5|b>>>27)+f(F,w,_,A)+M+v[q]+a[F];M=A,A=_,_=m(w),w=g,g=j}this._a=g+this._a|0,this._b=w+this._b|0,this._c=_+this._c|0,this._d=A+this._d|0,this._e=M+this._e|0},u.prototype._hash=function(){var d=h.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,i,c){var o=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],n=new Array(80);function u(){this.init(),this._w=n,s.call(this,64,56)}function m(b){return b<<5|b>>>27}function f(b){return b<<30|b>>>2}function d(b,v,g,w){return b===0?v&g|~v&w:b===2?v&g|v&w|g&w:v^g^w}o(u,s),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(b){for(var v,g=this._w,w=0|this._a,_=0|this._b,A=0|this._c,M=0|this._d,O=0|this._e,q=0;q<16;++q)g[q]=b.readInt32BE(4*q);for(;q<80;++q)g[q]=(v=g[q-3]^g[q-8]^g[q-14]^g[q-16])<<1|v>>>31;for(var F=0;F<80;++F){var j=~~(F/20),V=m(w)+d(j,_,A,M)+O+g[F]+a[j]|0;O=M,M=A,A=f(_),_=w,w=V}this._a=w+this._a|0,this._b=_+this._b|0,this._c=A+this._c|0,this._d=M+this._d|0,this._e=O+this._e|0},u.prototype._hash=function(){var b=h.allocUnsafe(20);return b.writeInt32BE(0|this._a,0),b.writeInt32BE(0|this._b,4),b.writeInt32BE(0|this._c,8),b.writeInt32BE(0|this._d,12),b.writeInt32BE(0|this._e,16),b},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,i,c){var o=t("inherits"),s=t("./sha256"),h=t("./hash"),a=t("safe-buffer").Buffer,n=new Array(64);function u(){this.init(),this._w=n,h.call(this,64,56)}o(u,s),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var m=a.allocUnsafe(28);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m},i.exports=u},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,i,c){var o=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=new Array(64);function u(){this.init(),this._w=n,s.call(this,64,56)}function m(g,w,_){return _^g&(w^_)}function f(g,w,_){return g&w|_&(g|w)}function d(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function b(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function v(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}o(u,s),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(g){for(var w,_=this._w,A=0|this._a,M=0|this._b,O=0|this._c,q=0|this._d,F=0|this._e,j=0|this._f,V=0|this._g,G=0|this._h,X=0;X<16;++X)_[X]=g.readInt32BE(4*X);for(;X<64;++X)_[X]=0|(((w=_[X-2])>>>17|w<<15)^(w>>>19|w<<13)^w>>>10)+_[X-7]+v(_[X-15])+_[X-16];for(var H=0;H<64;++H){var R=G+b(F)+m(F,j,V)+a[H]+_[H]|0,P=d(A)+f(A,M,O)|0;G=V,V=j,j=F,F=q+R|0,q=O,O=M,M=A,A=R+P|0}this._a=A+this._a|0,this._b=M+this._b|0,this._c=O+this._c|0,this._d=q+this._d|0,this._e=F+this._e|0,this._f=j+this._f|0,this._g=V+this._g|0,this._h=G+this._h|0},u.prototype._hash=function(){var g=h.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,i,c){var o=t("inherits"),s=t("./sha512"),h=t("./hash"),a=t("safe-buffer").Buffer,n=new Array(160);function u(){this.init(),this._w=n,h.call(this,128,112)}o(u,s),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var m=a.allocUnsafe(48);function f(d,b,v){m.writeInt32BE(d,v),m.writeInt32BE(b,v+4)}return f(this._ah,this._al,0),f(this._bh,this._bl,8),f(this._ch,this._cl,16),f(this._dh,this._dl,24),f(this._eh,this._el,32),f(this._fh,this._fl,40),m},i.exports=u},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,i,c){var o=t("inherits"),s=t("./hash"),h=t("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],n=new Array(160);function u(){this.init(),this._w=n,s.call(this,128,112)}function m(M,O,q){return q^M&(O^q)}function f(M,O,q){return M&O|q&(M|O)}function d(M,O){return(M>>>28|O<<4)^(O>>>2|M<<30)^(O>>>7|M<<25)}function b(M,O){return(M>>>14|O<<18)^(M>>>18|O<<14)^(O>>>9|M<<23)}function v(M,O){return(M>>>1|O<<31)^(M>>>8|O<<24)^M>>>7}function g(M,O){return(M>>>1|O<<31)^(M>>>8|O<<24)^(M>>>7|O<<25)}function w(M,O){return(M>>>19|O<<13)^(O>>>29|M<<3)^M>>>6}function _(M,O){return(M>>>19|O<<13)^(O>>>29|M<<3)^(M>>>6|O<<26)}function A(M,O){return M>>>0<O>>>0?1:0}o(u,s),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(M){for(var O=this._w,q=0|this._ah,F=0|this._bh,j=0|this._ch,V=0|this._dh,G=0|this._eh,X=0|this._fh,H=0|this._gh,R=0|this._hh,P=0|this._al,k=0|this._bl,x=0|this._cl,S=0|this._dl,T=0|this._el,E=0|this._fl,N=0|this._gl,I=0|this._hl,B=0;B<32;B+=2)O[B]=M.readInt32BE(4*B),O[B+1]=M.readInt32BE(4*B+4);for(;B<160;B+=2){var K=O[B-30],Z=O[B-30+1],nt=v(K,Z),$=g(Z,K),tt=w(K=O[B-4],Z=O[B-4+1]),U=_(Z,K),L=O[B-14],Q=O[B-14+1],it=O[B-32],ut=O[B-32+1],st=$+Q|0,lt=nt+L+A(st,$)|0;lt=(lt=lt+tt+A(st=st+U|0,U)|0)+it+A(st=st+ut|0,ut)|0,O[B]=lt,O[B+1]=st}for(var bt=0;bt<160;bt+=2){lt=O[bt],st=O[bt+1];var yt=f(q,F,j),at=f(P,k,x),pt=d(q,P),dt=d(P,q),vt=b(G,T),xt=b(T,G),wt=a[bt],jt=a[bt+1],It=m(G,X,H),Ht=m(T,E,N),ee=I+xt|0,Qt=R+vt+A(ee,I)|0;Qt=(Qt=(Qt=Qt+It+A(ee=ee+Ht|0,Ht)|0)+wt+A(ee=ee+jt|0,jt)|0)+lt+A(ee=ee+st|0,st)|0;var Kt=dt+at|0,be=pt+yt+A(Kt,dt)|0;R=H,I=N,H=X,N=E,X=G,E=T,G=V+Qt+A(T=S+ee|0,S)|0,V=j,S=x,j=F,x=k,F=q,k=P,q=Qt+be+A(P=ee+Kt|0,ee)|0}this._al=this._al+P|0,this._bl=this._bl+k|0,this._cl=this._cl+x|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+E|0,this._gl=this._gl+N|0,this._hl=this._hl+I|0,this._ah=this._ah+q+A(this._al,P)|0,this._bh=this._bh+F+A(this._bl,k)|0,this._ch=this._ch+j+A(this._cl,x)|0,this._dh=this._dh+V+A(this._dl,S)|0,this._eh=this._eh+G+A(this._el,T)|0,this._fh=this._fh+X+A(this._fl,E)|0,this._gh=this._gh+H+A(this._gl,N)|0,this._hh=this._hh+R+A(this._hl,I)|0},u.prototype._hash=function(){var M=h.allocUnsafe(64);function O(q,F,j){M.writeInt32BE(q,j),M.writeInt32BE(F,j+4)}return O(this._ah,this._al,0),O(this._bh,this._bl,8),O(this._ch,this._cl,16),O(this._dh,this._dl,24),O(this._eh,this._el,32),O(this._fh,this._fl,40),O(this._gh,this._gl,48),O(this._hh,this._hl,56),M},i.exports=u},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,i,c){i.exports=s;var o=t("events").EventEmitter;function s(){o.call(this)}t("inherits")(s,o),s.Readable=t("readable-stream/readable.js"),s.Writable=t("readable-stream/writable.js"),s.Duplex=t("readable-stream/duplex.js"),s.Transform=t("readable-stream/transform.js"),s.PassThrough=t("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(h,a){var n=this;function u(w){h.writable&&h.write(w)===!1&&n.pause&&n.pause()}function m(){n.readable&&n.resume&&n.resume()}n.on("data",u),h.on("drain",m),h._isStdio||a&&a.end===!1||(n.on("end",d),n.on("close",b));var f=!1;function d(){f||(f=!0,h.end())}function b(){f||(f=!0,typeof h.destroy=="function"&&h.destroy())}function v(w){if(g(),o.listenerCount(this,"error")===0)throw w}function g(){n.removeListener("data",u),h.removeListener("drain",m),n.removeListener("end",d),n.removeListener("close",b),n.removeListener("error",v),h.removeListener("error",v),n.removeListener("end",g),n.removeListener("close",g),h.removeListener("close",g)}return n.on("error",v),h.on("error",v),n.on("end",g),n.on("close",g),h.on("close",g),h.emit("pipe",n),h}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,i,c){var o={}.toString;i.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},{}],507:[function(t,i,c){i.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,i,c){var o=t("process-nextick-args"),s=Object.keys||function(g){var w=[];for(var _ in g)w.push(_);return w};i.exports=d;var h=Object.create(t("core-util-is"));h.inherits=t("inherits");var a=t("./_stream_readable"),n=t("./_stream_writable");h.inherits(d,a);for(var u=s(n.prototype),m=0;m<u.length;m++){var f=u[m];d.prototype[f]||(d.prototype[f]=n.prototype[f])}function d(g){if(!(this instanceof d))return new d(g);a.call(this,g),n.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}function b(){this.allowHalfOpen||this._writableState.ended||o.nextTick(v,this)}function v(g){g.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),d.prototype._destroy=function(g,w){this.push(null),this.end(),o.nextTick(w,g)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,i,c){i.exports=h;var o=t("./_stream_transform"),s=Object.create(t("core-util-is"));function h(a){if(!(this instanceof h))return new h(a);o.call(this,a)}s.inherits=t("inherits"),s.inherits(h,o),h.prototype._transform=function(a,n,u){u(null,a)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,i,c){(function(o,s){(function(){var h=t("process-nextick-args");i.exports=q;var a,n=t("isarray");q.ReadableState=O,t("events").EventEmitter;var u=function(I,B){return I.listeners(B).length},m=t("./internal/streams/stream"),f=t("safe-buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},b=Object.create(t("core-util-is"));b.inherits=t("inherits");var v=t("util"),g=void 0;g=v&&v.debuglog?v.debuglog("stream"):function(){};var w,_=t("./internal/streams/BufferList"),A=t("./internal/streams/destroy");b.inherits(q,m);var M=["error","close","destroy","pause","resume"];function O(I,B){I=I||{};var K=B instanceof(a=a||t("./_stream_duplex"));this.objectMode=!!I.objectMode,K&&(this.objectMode=this.objectMode||!!I.readableObjectMode);var Z=I.highWaterMark,nt=I.readableHighWaterMark,$=this.objectMode?16:16384;this.highWaterMark=Z||Z===0?Z:K&&(nt||nt===0)?nt:$,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=I.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,I.encoding&&(w||(w=t("string_decoder/").StringDecoder),this.decoder=new w(I.encoding),this.encoding=I.encoding)}function q(I){if(a=a||t("./_stream_duplex"),!(this instanceof q))return new q(I);this._readableState=new O(I,this),this.readable=!0,I&&(typeof I.read=="function"&&(this._read=I.read),typeof I.destroy=="function"&&(this._destroy=I.destroy)),m.call(this)}function F(I,B,K,Z,nt){var $,tt=I._readableState;return B===null?(tt.reading=!1,(function(U,L){if(!L.ended){if(L.decoder){var Q=L.decoder.end();Q&&Q.length&&(L.buffer.push(Q),L.length+=L.objectMode?1:Q.length)}L.ended=!0,G(U)}})(I,tt)):(nt||($=(function(U,L){var Q;it=L,f.isBuffer(it)||it instanceof d||typeof L=="string"||L===void 0||U.objectMode||(Q=new TypeError("Invalid non-string/buffer chunk"));var it;return Q})(tt,B)),$?I.emit("error",$):tt.objectMode||B&&B.length>0?(typeof B=="string"||tt.objectMode||Object.getPrototypeOf(B)===f.prototype||(B=(function(U){return f.from(U)})(B)),Z?tt.endEmitted?I.emit("error",new Error("stream.unshift() after end event")):j(I,tt,B,!0):tt.ended?I.emit("error",new Error("stream.push() after EOF")):(tt.reading=!1,tt.decoder&&!K?(B=tt.decoder.write(B),tt.objectMode||B.length!==0?j(I,tt,B,!1):H(I,tt)):j(I,tt,B,!1))):Z||(tt.reading=!1)),(function(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)})(tt)}function j(I,B,K,Z){B.flowing&&B.length===0&&!B.sync?(I.emit("data",K),I.read(0)):(B.length+=B.objectMode?1:K.length,Z?B.buffer.unshift(K):B.buffer.push(K),B.needReadable&&G(I)),H(I,B)}Object.defineProperty(q.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(I){this._readableState&&(this._readableState.destroyed=I)}}),q.prototype.destroy=A.destroy,q.prototype._undestroy=A.undestroy,q.prototype._destroy=function(I,B){this.push(null),B(I)},q.prototype.push=function(I,B){var K,Z=this._readableState;return Z.objectMode?K=!0:typeof I=="string"&&((B=B||Z.defaultEncoding)!==Z.encoding&&(I=f.from(I,B),B=""),K=!0),F(this,I,B,!1,K)},q.prototype.unshift=function(I){return F(this,I,null,!0,!1)},q.prototype.isPaused=function(){return this._readableState.flowing===!1},q.prototype.setEncoding=function(I){return w||(w=t("string_decoder/").StringDecoder),this._readableState.decoder=new w(I),this._readableState.encoding=I,this};function V(I,B){return I<=0||B.length===0&&B.ended?0:B.objectMode?1:I!=I?B.flowing&&B.length?B.buffer.head.data.length:B.length:(I>B.highWaterMark&&(B.highWaterMark=(function(K){return K>=8388608?K=8388608:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})(I)),I<=B.length?I:B.ended?B.length:(B.needReadable=!0,0))}function G(I){var B=I._readableState;B.needReadable=!1,B.emittedReadable||(g("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?h.nextTick(X,I):X(I))}function X(I){g("emit readable"),I.emit("readable"),x(I)}function H(I,B){B.readingMore||(B.readingMore=!0,h.nextTick(R,I,B))}function R(I,B){for(var K=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(g("maybeReadMore read 0"),I.read(0),K!==B.length);)K=B.length;B.readingMore=!1}function P(I){g("readable nexttick read 0"),I.read(0)}function k(I,B){B.reading||(g("resume read 0"),I.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,I.emit("resume"),x(I),B.flowing&&!B.reading&&I.read(0)}function x(I){var B=I._readableState;for(g("flow",B.flowing);B.flowing&&I.read()!==null;);}function S(I,B){return B.length===0?null:(B.objectMode?K=B.buffer.shift():!I||I>=B.length?(K=B.decoder?B.buffer.join(""):B.buffer.length===1?B.buffer.head.data:B.buffer.concat(B.length),B.buffer.clear()):K=(function(Z,nt,$){var tt;return Z<nt.head.data.length?(tt=nt.head.data.slice(0,Z),nt.head.data=nt.head.data.slice(Z)):tt=Z===nt.head.data.length?nt.shift():$?(function(U,L){var Q=L.head,it=1,ut=Q.data;for(U-=ut.length;Q=Q.next;){var st=Q.data,lt=U>st.length?st.length:U;if(lt===st.length?ut+=st:ut+=st.slice(0,U),(U-=lt)===0){lt===st.length?(++it,Q.next?L.head=Q.next:L.head=L.tail=null):(L.head=Q,Q.data=st.slice(lt));break}++it}return L.length-=it,ut})(Z,nt):(function(U,L){var Q=f.allocUnsafe(U),it=L.head,ut=1;for(it.data.copy(Q),U-=it.data.length;it=it.next;){var st=it.data,lt=U>st.length?st.length:U;if(st.copy(Q,Q.length-U,0,lt),(U-=lt)===0){lt===st.length?(++ut,it.next?L.head=it.next:L.head=L.tail=null):(L.head=it,it.data=st.slice(lt));break}++ut}return L.length-=ut,Q})(Z,nt),tt})(I,B.buffer,B.decoder),K);var K}function T(I){var B=I._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,h.nextTick(E,B,I))}function E(I,B){I.endEmitted||I.length!==0||(I.endEmitted=!0,B.readable=!1,B.emit("end"))}function N(I,B){for(var K=0,Z=I.length;K<Z;K++)if(I[K]===B)return K;return-1}q.prototype.read=function(I){g("read",I),I=parseInt(I,10);var B=this._readableState,K=I;if(I!==0&&(B.emittedReadable=!1),I===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return g("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?T(this):G(this),null;if((I=V(I,B))===0&&B.ended)return B.length===0&&T(this),null;var Z,nt=B.needReadable;return g("need readable",nt),(B.length===0||B.length-I<B.highWaterMark)&&g("length less than watermark",nt=!0),B.ended||B.reading?g("reading or ended",nt=!1):nt&&(g("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(I=V(K,B))),(Z=I>0?S(I,B):null)===null?(B.needReadable=!0,I=0):B.length-=I,B.length===0&&(B.ended||(B.needReadable=!0),K!==I&&B.ended&&T(this)),Z!==null&&this.emit("data",Z),Z},q.prototype._read=function(I){this.emit("error",new Error("_read() is not implemented"))},q.prototype.pipe=function(I,B){var K=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=I;break;case 1:Z.pipes=[Z.pipes,I];break;default:Z.pipes.push(I)}Z.pipesCount+=1,g("pipe count=%d opts=%j",Z.pipesCount,B);var nt=(!B||B.end!==!1)&&I!==o.stdout&&I!==o.stderr?tt:bt;function $(yt,at){g("onunpipe"),yt===K&&at&&at.hasUnpiped===!1&&(at.hasUnpiped=!0,g("cleanup"),I.removeListener("close",st),I.removeListener("finish",lt),I.removeListener("drain",U),I.removeListener("error",ut),I.removeListener("unpipe",$),K.removeListener("end",tt),K.removeListener("end",bt),K.removeListener("data",it),L=!0,!Z.awaitDrain||I._writableState&&!I._writableState.needDrain||U())}function tt(){g("onend"),I.end()}Z.endEmitted?h.nextTick(nt):K.once("end",nt),I.on("unpipe",$);var U=(function(yt){return function(){var at=yt._readableState;g("pipeOnDrain",at.awaitDrain),at.awaitDrain&&at.awaitDrain--,at.awaitDrain===0&&u(yt,"data")&&(at.flowing=!0,x(yt))}})(K);I.on("drain",U);var L=!1,Q=!1;function it(yt){g("ondata"),Q=!1,I.write(yt)!==!1||Q||((Z.pipesCount===1&&Z.pipes===I||Z.pipesCount>1&&N(Z.pipes,I)!==-1)&&!L&&(g("false write response, pause",Z.awaitDrain),Z.awaitDrain++,Q=!0),K.pause())}function ut(yt){g("onerror",yt),bt(),I.removeListener("error",ut),u(I,"error")===0&&I.emit("error",yt)}function st(){I.removeListener("finish",lt),bt()}function lt(){g("onfinish"),I.removeListener("close",st),bt()}function bt(){g("unpipe"),K.unpipe(I)}return K.on("data",it),(function(yt,at,pt){if(typeof yt.prependListener=="function")return yt.prependListener(at,pt);yt._events&&yt._events[at]?n(yt._events[at])?yt._events[at].unshift(pt):yt._events[at]=[pt,yt._events[at]]:yt.on(at,pt)})(I,"error",ut),I.once("close",st),I.once("finish",lt),I.emit("pipe",K),Z.flowing||(g("pipe resume"),K.resume()),I},q.prototype.unpipe=function(I){var B=this._readableState,K={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return I&&I!==B.pipes||(I||(I=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,I&&I.emit("unpipe",this,K)),this;if(!I){var Z=B.pipes,nt=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var $=0;$<nt;$++)Z[$].emit("unpipe",this,{hasUnpiped:!1});return this}var tt=N(B.pipes,I);return tt===-1||(B.pipes.splice(tt,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),I.emit("unpipe",this,K)),this},q.prototype.on=function(I,B){var K=m.prototype.on.call(this,I,B);if(I==="data")this._readableState.flowing!==!1&&this.resume();else if(I==="readable"){var Z=this._readableState;Z.endEmitted||Z.readableListening||(Z.readableListening=Z.needReadable=!0,Z.emittedReadable=!1,Z.reading?Z.length&&G(this):h.nextTick(P,this))}return K},q.prototype.addListener=q.prototype.on,q.prototype.resume=function(){var I=this._readableState;return I.flowing||(g("resume"),I.flowing=!0,(function(B,K){K.resumeScheduled||(K.resumeScheduled=!0,h.nextTick(k,B,K))})(this,I)),this},q.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this},q.prototype.wrap=function(I){var B=this,K=this._readableState,Z=!1;for(var nt in I.on("end",(function(){if(g("wrapped end"),K.decoder&&!K.ended){var tt=K.decoder.end();tt&&tt.length&&B.push(tt)}B.push(null)})),I.on("data",(function(tt){g("wrapped data"),K.decoder&&(tt=K.decoder.write(tt)),K.objectMode&&tt==null||(K.objectMode||tt&&tt.length)&&(B.push(tt)||(Z=!0,I.pause()))})),I)this[nt]===void 0&&typeof I[nt]=="function"&&(this[nt]=(function(tt){return function(){return I[tt].apply(I,arguments)}})(nt));for(var $=0;$<M.length;$++)I.on(M[$],this.emit.bind(this,M[$]));return this._read=function(tt){g("wrapped _read",tt),Z&&(Z=!1,I.resume())},this},Object.defineProperty(q.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),q._fromList=S}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,i,c){i.exports=a;var o=t("./_stream_duplex"),s=Object.create(t("core-util-is"));function h(m,f){var d=this._transformState;d.transforming=!1;var b=d.writecb;if(!b)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,f!=null&&this.push(f),b(m);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function a(m){if(!(this instanceof a))return new a(m);o.call(this,m),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",n)}function n(){var m=this;typeof this._flush=="function"?this._flush((function(f,d){u(m,f,d)})):u(this,null,null)}function u(m,f,d){if(f)return m.emit("error",f);if(d!=null&&m.push(d),m._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(m._transformState.transforming)throw new Error("Calling transform done when still transforming");return m.push(null)}s.inherits=t("inherits"),s.inherits(a,o),a.prototype.push=function(m,f){return this._transformState.needTransform=!1,o.prototype.push.call(this,m,f)},a.prototype._transform=function(m,f,d){throw new Error("_transform() is not implemented")},a.prototype._write=function(m,f,d){var b=this._transformState;if(b.writecb=d,b.writechunk=m,b.writeencoding=f,!b.transforming){var v=this._readableState;(b.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},a.prototype._read=function(m){var f=this._transformState;f.writechunk!==null&&f.writecb&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},a.prototype._destroy=function(m,f){var d=this;o.prototype._destroy.call(this,m,(function(b){f(b),d.emit("close")}))}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,i,c){(function(o,s,h){(function(){var a=t("process-nextick-args");function n(H){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(P,k,x){var S=P.entry;for(P.entry=null;S;){var T=S.callback;k.pendingcb--,T(x),S=S.next}k.corkedRequestsFree.next=P})(R,H)}}i.exports=O;var u,m=!o.browser&&["v0.10","v0.9."].indexOf(o.version.slice(0,5))>-1?h:a.nextTick;O.WritableState=M;var f=Object.create(t("core-util-is"));f.inherits=t("inherits");var d={deprecate:t("util-deprecate")},b=t("./internal/streams/stream"),v=t("safe-buffer").Buffer,g=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},w,_=t("./internal/streams/destroy");function A(){}function M(H,R){u=u||t("./_stream_duplex"),H=H||{};var P=R instanceof u;this.objectMode=!!H.objectMode,P&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var k=H.highWaterMark,x=H.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:P&&(x||x===0)?x:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=H.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(E){(function(N,I){var B=N._writableState,K=B.sync,Z=B.writecb;if((function($){$.writing=!1,$.writecb=null,$.length-=$.writelen,$.writelen=0})(B),I)(function($,tt,U,L,Q){--tt.pendingcb,U?(a.nextTick(Q,L),a.nextTick(X,$,tt),$._writableState.errorEmitted=!0,$.emit("error",L)):(Q(L),$._writableState.errorEmitted=!0,$.emit("error",L),X($,tt))})(N,B,K,I,Z);else{var nt=V(B);nt||B.corked||B.bufferProcessing||!B.bufferedRequest||j(N,B),K?m(F,N,B,nt,Z):F(N,B,nt,Z)}})(R,E)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function O(H){if(u=u||t("./_stream_duplex"),!(w.call(O,this)||this instanceof u))return new O(H);this._writableState=new M(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),b.call(this)}function q(H,R,P,k,x,S,T){R.writelen=k,R.writecb=T,R.writing=!0,R.sync=!0,P?H._writev(x,R.onwrite):H._write(x,S,R.onwrite),R.sync=!1}function F(H,R,P,k){P||(function(x,S){S.length===0&&S.needDrain&&(S.needDrain=!1,x.emit("drain"))})(H,R),R.pendingcb--,k(),X(H,R)}function j(H,R){R.bufferProcessing=!0;var P=R.bufferedRequest;if(H._writev&&P&&P.next){var k=R.bufferedRequestCount,x=new Array(k),S=R.corkedRequestsFree;S.entry=P;for(var T=0,E=!0;P;)x[T]=P,P.isBuf||(E=!1),P=P.next,T+=1;x.allBuffers=E,q(H,R,!0,R.length,x,"",S.finish),R.pendingcb++,R.lastBufferedRequest=null,S.next?(R.corkedRequestsFree=S.next,S.next=null):R.corkedRequestsFree=new n(R),R.bufferedRequestCount=0}else{for(;P;){var N=P.chunk,I=P.encoding,B=P.callback;if(q(H,R,!1,R.objectMode?1:N.length,N,I,B),P=P.next,R.bufferedRequestCount--,R.writing)break}P===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=P,R.bufferProcessing=!1}function V(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function G(H,R){H._final((function(P){R.pendingcb--,P&&H.emit("error",P),R.prefinished=!0,H.emit("prefinish"),X(H,R)}))}function X(H,R){var P=V(R);return P&&((function(k,x){x.prefinished||x.finalCalled||(typeof k._final=="function"?(x.pendingcb++,x.finalCalled=!0,a.nextTick(G,k,x)):(x.prefinished=!0,k.emit("prefinish")))})(H,R),R.pendingcb===0&&(R.finished=!0,H.emit("finish"))),P}f.inherits(O,b),M.prototype.getBuffer=function(){for(var H=this.bufferedRequest,R=[];H;)R.push(H),H=H.next;return R},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:d.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(H){return!!w.call(this,H)||this===O&&H&&H._writableState instanceof M}})):w=function(H){return H instanceof this},O.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},O.prototype.write=function(H,R,P){var k,x=this._writableState,S=!1,T=!x.objectMode&&(k=H,v.isBuffer(k)||k instanceof g);return T&&!v.isBuffer(H)&&(H=(function(E){return v.from(E)})(H)),typeof R=="function"&&(P=R,R=null),T?R="buffer":R||(R=x.defaultEncoding),typeof P!="function"&&(P=A),x.ended?(function(E,N){var I=new Error("write after end");E.emit("error",I),a.nextTick(N,I)})(this,P):(T||(function(E,N,I,B){var K=!0,Z=!1;return I===null?Z=new TypeError("May not write null values to stream"):typeof I=="string"||I===void 0||N.objectMode||(Z=new TypeError("Invalid non-string/buffer chunk")),Z&&(E.emit("error",Z),a.nextTick(B,Z),K=!1),K})(this,x,H,P))&&(x.pendingcb++,S=(function(E,N,I,B,K,Z){if(!I){var nt=(function(L,Q,it){return L.objectMode||L.decodeStrings===!1||typeof Q!="string"||(Q=v.from(Q,it)),Q})(N,B,K);B!==nt&&(I=!0,K="buffer",B=nt)}var $=N.objectMode?1:B.length;N.length+=$;var tt=N.length<N.highWaterMark;if(tt||(N.needDrain=!0),N.writing||N.corked){var U=N.lastBufferedRequest;N.lastBufferedRequest={chunk:B,encoding:K,isBuf:I,callback:Z,next:null},U?U.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else q(E,N,!1,$,B,K,Z);return tt})(this,x,T,H,R,P)),S},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||j(this,H))},O.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),O.prototype._write=function(H,R,P){P(new Error("_write() is not implemented"))},O.prototype._writev=null,O.prototype.end=function(H,R,P){var k=this._writableState;typeof H=="function"?(P=H,H=null,R=null):typeof R=="function"&&(P=R,R=null),H!=null&&this.write(H,R),k.corked&&(k.corked=1,this.uncork()),k.ending||(function(x,S,T){S.ending=!0,X(x,S),T&&(S.finished?a.nextTick(T):x.once("finish",T)),S.ended=!0,x.writable=!1})(this,k,P)},Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),O.prototype.destroy=_.destroy,O.prototype._undestroy=_.undestroy,O.prototype._destroy=function(H,R){this.end(),R(H)}}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,i,c){var o=t("safe-buffer").Buffer,s=t("util");i.exports=(function(){function h(){(function(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")})(this,h),this.head=null,this.tail=null,this.length=0}return h.prototype.push=function(a){var n={data:a,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},h.prototype.unshift=function(a){var n={data:a,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},h.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},h.prototype.clear=function(){this.head=this.tail=null,this.length=0},h.prototype.join=function(a){if(this.length===0)return"";for(var n=this.head,u=""+n.data;n=n.next;)u+=a+n.data;return u},h.prototype.concat=function(a){if(this.length===0)return o.alloc(0);for(var n,u,m,f=o.allocUnsafe(a>>>0),d=this.head,b=0;d;)n=d.data,u=f,m=b,n.copy(u,m),b+=d.data.length,d=d.next;return f},h})(),s&&s.inspect&&s.inspect.custom&&(i.exports.prototype[s.inspect.custom]=function(){var h=s.inspect({length:this.length});return this.constructor.name+" "+h})},{"safe-buffer":520,util:188}],514:[function(t,i,c){var o=t("process-nextick-args");function s(h,a){h.emit("error",a)}i.exports={destroy:function(h,a){var n=this,u=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return u||m?(a?a(h):h&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(s,this,h)):o.nextTick(s,this,h)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(h||null,(function(f){!a&&f?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,o.nextTick(s,n,f)):o.nextTick(s,n,f):a&&a(f)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,i,c){arguments[4][490][0].apply(c,arguments)},{dup:490,events:422}],516:[function(t,i,c){i.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,i,c){(c=i.exports=t("./lib/_stream_readable.js")).Stream=c,c.Readable=c,c.Writable=t("./lib/_stream_writable.js"),c.Duplex=t("./lib/_stream_duplex.js"),c.Transform=t("./lib/_stream_transform.js"),c.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,i,c){i.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,i,c){i.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,i,c){arguments[4][217][0].apply(c,arguments)},{buffer:220,dup:217}],521:[function(t,i,c){arguments[4][218][0].apply(c,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,i,c){arguments[4][218][0].apply(c,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,i,c){(function(o,s){(function(){var h=t("process/browser.js").nextTick,a=Function.prototype.apply,n=Array.prototype.slice,u={},m=0;function f(d,b){this._id=d,this._clearFn=b}c.setTimeout=function(){return new f(a.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new f(a.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(d){d.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(d,b){clearTimeout(d._idleTimeoutId),d._idleTimeout=b},c.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},c._unrefActive=c.active=function(d){clearTimeout(d._idleTimeoutId);var b=d._idleTimeout;b>=0&&(d._idleTimeoutId=setTimeout((function(){d._onTimeout&&d._onTimeout()}),b))},c.setImmediate=typeof o=="function"?o:function(d){var b=m++,v=!(arguments.length<2)&&n.call(arguments,1);return u[b]=!0,h((function(){u[b]&&(v?d.apply(null,v):d.call(null),c.clearImmediate(b))})),b},c.clearImmediate=typeof s=="function"?s:function(d){delete u[d]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,i,c){(function(o){(function(){function s(h){try{if(!o.localStorage)return!1}catch{return!1}var a=o.localStorage[h];return a!=null&&String(a).toLowerCase()==="true"}i.exports=function(h,a){if(s("noDeprecation"))return h;var n=!1;return function(){if(!n){if(s("throwDeprecation"))throw new Error(a);s("traceDeprecation")?console.trace(a):console.warn(a),n=!0}return h.apply(this,arguments)}}}).call(this)}).call(this,typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,i,c){typeof Object.create=="function"?i.exports=function(o,s){o.super_=s,o.prototype=Object.create(s.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:i.exports=function(o,s){o.super_=s;var h=function(){};h.prototype=s.prototype,o.prototype=new h,o.prototype.constructor=o}},{}],526:[function(t,i,c){i.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},{}],527:[function(t,i,c){(function(o,s){(function(){var h=/%[sdj%]/g;c.format=function(x){if(!M(x)){for(var S=[],T=0;T<arguments.length;T++)S.push(u(arguments[T]));return S.join(" ")}T=1;for(var E=arguments,N=E.length,I=String(x).replace(h,(function(K){if(K==="%%")return"%";if(T>=N)return K;switch(K){case"%s":return String(E[T++]);case"%d":return Number(E[T++]);case"%j":try{return JSON.stringify(E[T++])}catch{return"[Circular]"}default:return K}})),B=E[T];T<N;B=E[++T])_(B)||!F(B)?I+=" "+B:I+=" "+u(B);return I},c.deprecate=function(x,S){if(O(s.process))return function(){return c.deprecate(x,S).apply(this,arguments)};if(o.noDeprecation===!0)return x;var T=!1;return function(){if(!T){if(o.throwDeprecation)throw new Error(S);o.traceDeprecation?console.trace(S):console.error(S),T=!0}return x.apply(this,arguments)}};var a,n={};function u(x,S){var T={seen:[],stylize:f};return arguments.length>=3&&(T.depth=arguments[2]),arguments.length>=4&&(T.colors=arguments[3]),w(S)?T.showHidden=S:S&&c._extend(T,S),O(T.showHidden)&&(T.showHidden=!1),O(T.depth)&&(T.depth=2),O(T.colors)&&(T.colors=!1),O(T.customInspect)&&(T.customInspect=!0),T.colors&&(T.stylize=m),d(T,x,T.depth)}function m(x,S){var T=u.styles[S];return T?"\x1B["+u.colors[T][0]+"m"+x+"\x1B["+u.colors[T][1]+"m":x}function f(x,S){return x}function d(x,S,T){if(x.customInspect&&S&&G(S.inspect)&&S.inspect!==c.inspect&&(!S.constructor||S.constructor.prototype!==S)){var E=S.inspect(T,x);return M(E)||(E=d(x,E,T)),E}var N=(function(U,L){if(O(L))return U.stylize("undefined","undefined");if(M(L)){var Q="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize(Q,"string")}if(A(L))return U.stylize(""+L,"number");if(w(L))return U.stylize(""+L,"boolean");if(_(L))return U.stylize("null","null")})(x,S);if(N)return N;var I=Object.keys(S),B=(function(U){var L={};return U.forEach((function(Q,it){L[Q]=!0})),L})(I);if(x.showHidden&&(I=Object.getOwnPropertyNames(S)),V(S)&&(I.indexOf("message")>=0||I.indexOf("description")>=0))return b(S);if(I.length===0){if(G(S)){var K=S.name?": "+S.name:"";return x.stylize("[Function"+K+"]","special")}if(q(S))return x.stylize(RegExp.prototype.toString.call(S),"regexp");if(j(S))return x.stylize(Date.prototype.toString.call(S),"date");if(V(S))return b(S)}var Z,nt="",$=!1,tt=["{","}"];return g(S)&&($=!0,tt=["[","]"]),G(S)&&(nt=" [Function"+(S.name?": "+S.name:"")+"]"),q(S)&&(nt=" "+RegExp.prototype.toString.call(S)),j(S)&&(nt=" "+Date.prototype.toUTCString.call(S)),V(S)&&(nt=" "+b(S)),I.length!==0||$&&S.length!=0?T<0?q(S)?x.stylize(RegExp.prototype.toString.call(S),"regexp"):x.stylize("[Object]","special"):(x.seen.push(S),Z=$?(function(U,L,Q,it,ut){for(var st=[],lt=0,bt=L.length;lt<bt;++lt)k(L,String(lt))?st.push(v(U,L,Q,it,String(lt),!0)):st.push("");return ut.forEach((function(yt){yt.match(/^\d+$/)||st.push(v(U,L,Q,it,yt,!0))})),st})(x,S,T,B,I):I.map((function(U){return v(x,S,T,B,U,$)})),x.seen.pop(),(function(U,L,Q){return U.reduce((function(it,ut){return ut.indexOf(`
`)>=0,it+ut.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?Q[0]+(L===""?"":L+`
 `)+" "+U.join(`,
  `)+" "+Q[1]:Q[0]+L+" "+U.join(", ")+" "+Q[1]})(Z,nt,tt)):tt[0]+nt+tt[1]}function b(x){return"["+Error.prototype.toString.call(x)+"]"}function v(x,S,T,E,N,I){var B,K,Z;if((Z=Object.getOwnPropertyDescriptor(S,N)||{value:S[N]}).get?K=Z.set?x.stylize("[Getter/Setter]","special"):x.stylize("[Getter]","special"):Z.set&&(K=x.stylize("[Setter]","special")),k(E,N)||(B="["+N+"]"),K||(x.seen.indexOf(Z.value)<0?(K=_(T)?d(x,Z.value,null):d(x,Z.value,T-1)).indexOf(`
`)>-1&&(K=I?K.split(`
`).map((function(nt){return"  "+nt})).join(`
`).substr(2):`
`+K.split(`
`).map((function(nt){return"   "+nt})).join(`
`)):K=x.stylize("[Circular]","special")),O(B)){if(I&&N.match(/^\d+$/))return K;(B=JSON.stringify(""+N)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.substr(1,B.length-2),B=x.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=x.stylize(B,"string"))}return B+": "+K}function g(x){return Array.isArray(x)}function w(x){return typeof x=="boolean"}function _(x){return x===null}function A(x){return typeof x=="number"}function M(x){return typeof x=="string"}function O(x){return x===void 0}function q(x){return F(x)&&X(x)==="[object RegExp]"}function F(x){return typeof x=="object"&&x!==null}function j(x){return F(x)&&X(x)==="[object Date]"}function V(x){return F(x)&&(X(x)==="[object Error]"||x instanceof Error)}function G(x){return typeof x=="function"}function X(x){return Object.prototype.toString.call(x)}function H(x){return x<10?"0"+x.toString(10):x.toString(10)}c.debuglog=function(x){if(O(a)&&(a=o.env.NODE_DEBUG||""),x=x.toUpperCase(),!n[x])if(new RegExp("\\b"+x+"\\b","i").test(a)){var S=o.pid;n[x]=function(){var T=c.format.apply(c,arguments);console.error("%s %d: %s",x,S,T)}}else n[x]=function(){};return n[x]},c.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=g,c.isBoolean=w,c.isNull=_,c.isNullOrUndefined=function(x){return x==null},c.isNumber=A,c.isString=M,c.isSymbol=function(x){return typeof x=="symbol"},c.isUndefined=O,c.isRegExp=q,c.isObject=F,c.isDate=j,c.isError=V,c.isFunction=G,c.isPrimitive=function(x){return x===null||typeof x=="boolean"||typeof x=="number"||typeof x=="string"||typeof x=="symbol"||x===void 0},c.isBuffer=t("./support/isBuffer");var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var x=new Date,S=[H(x.getHours()),H(x.getMinutes()),H(x.getSeconds())].join(":");return[x.getDate(),R[x.getMonth()],S].join(" ")}function k(x,S){return Object.prototype.hasOwnProperty.call(x,S)}c.log=function(){console.log("%s - %s",P(),c.format.apply(c,arguments))},c.inherits=t("inherits"),c._extend=function(x,S){if(!S||!F(S))return x;for(var T=Object.keys(S),E=T.length;E--;)x[T[E]]=S[T[E]];return x}}).call(this)}).call(this,t("_process"),typeof er<"u"?er:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(c,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(c,"v4",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(c,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(c,"NIL",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(c,"version",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(c,"validate",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(c,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(c,"parse",{enumerable:!0,get:function(){return d.default}});var o=b(t("./v1.js")),s=b(t("./v3.js")),h=b(t("./v4.js")),a=b(t("./v5.js")),n=b(t("./nil.js")),u=b(t("./version.js")),m=b(t("./validate.js")),f=b(t("./stringify.js")),d=b(t("./parse.js"));function b(v){return v&&v.__esModule?v:{default:v}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,i,c){function o(d){return 14+(d+64>>>9<<4)+1}function s(d,b){const v=(65535&d)+(65535&b);return(d>>16)+(b>>16)+(v>>16)<<16|65535&v}function h(d,b,v,g,w,_){return s((A=s(s(b,d),s(g,_)))<<(M=w)|A>>>32-M,v);var A,M}function a(d,b,v,g,w,_,A){return h(b&v|~b&g,d,b,w,_,A)}function n(d,b,v,g,w,_,A){return h(b&g|v&~g,d,b,w,_,A)}function u(d,b,v,g,w,_,A){return h(b^v^g,d,b,w,_,A)}function m(d,b,v,g,w,_,A){return h(v^(b|~g),d,b,w,_,A)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var f=function(d){if(typeof d=="string"){const b=unescape(encodeURIComponent(d));d=new Uint8Array(b.length);for(let v=0;v<b.length;++v)d[v]=b.charCodeAt(v)}return(function(b){const v=[],g=32*b.length;for(let w=0;w<g;w+=8){const _=b[w>>5]>>>w%32&255,A=parseInt("0123456789abcdef".charAt(_>>>4&15)+"0123456789abcdef".charAt(15&_),16);v.push(A)}return v})((function(b,v){b[v>>5]|=128<<v%32,b[o(v)-1]=v;let g=1732584193,w=-271733879,_=-1732584194,A=271733878;for(let M=0;M<b.length;M+=16){const O=g,q=w,F=_,j=A;g=a(g,w,_,A,b[M],7,-680876936),A=a(A,g,w,_,b[M+1],12,-389564586),_=a(_,A,g,w,b[M+2],17,606105819),w=a(w,_,A,g,b[M+3],22,-1044525330),g=a(g,w,_,A,b[M+4],7,-176418897),A=a(A,g,w,_,b[M+5],12,1200080426),_=a(_,A,g,w,b[M+6],17,-1473231341),w=a(w,_,A,g,b[M+7],22,-45705983),g=a(g,w,_,A,b[M+8],7,1770035416),A=a(A,g,w,_,b[M+9],12,-1958414417),_=a(_,A,g,w,b[M+10],17,-42063),w=a(w,_,A,g,b[M+11],22,-1990404162),g=a(g,w,_,A,b[M+12],7,1804603682),A=a(A,g,w,_,b[M+13],12,-40341101),_=a(_,A,g,w,b[M+14],17,-1502002290),w=a(w,_,A,g,b[M+15],22,1236535329),g=n(g,w,_,A,b[M+1],5,-165796510),A=n(A,g,w,_,b[M+6],9,-1069501632),_=n(_,A,g,w,b[M+11],14,643717713),w=n(w,_,A,g,b[M],20,-373897302),g=n(g,w,_,A,b[M+5],5,-701558691),A=n(A,g,w,_,b[M+10],9,38016083),_=n(_,A,g,w,b[M+15],14,-660478335),w=n(w,_,A,g,b[M+4],20,-405537848),g=n(g,w,_,A,b[M+9],5,568446438),A=n(A,g,w,_,b[M+14],9,-1019803690),_=n(_,A,g,w,b[M+3],14,-187363961),w=n(w,_,A,g,b[M+8],20,1163531501),g=n(g,w,_,A,b[M+13],5,-1444681467),A=n(A,g,w,_,b[M+2],9,-51403784),_=n(_,A,g,w,b[M+7],14,1735328473),w=n(w,_,A,g,b[M+12],20,-1926607734),g=u(g,w,_,A,b[M+5],4,-378558),A=u(A,g,w,_,b[M+8],11,-2022574463),_=u(_,A,g,w,b[M+11],16,1839030562),w=u(w,_,A,g,b[M+14],23,-35309556),g=u(g,w,_,A,b[M+1],4,-1530992060),A=u(A,g,w,_,b[M+4],11,1272893353),_=u(_,A,g,w,b[M+7],16,-155497632),w=u(w,_,A,g,b[M+10],23,-1094730640),g=u(g,w,_,A,b[M+13],4,681279174),A=u(A,g,w,_,b[M],11,-358537222),_=u(_,A,g,w,b[M+3],16,-722521979),w=u(w,_,A,g,b[M+6],23,76029189),g=u(g,w,_,A,b[M+9],4,-640364487),A=u(A,g,w,_,b[M+12],11,-421815835),_=u(_,A,g,w,b[M+15],16,530742520),w=u(w,_,A,g,b[M+2],23,-995338651),g=m(g,w,_,A,b[M],6,-198630844),A=m(A,g,w,_,b[M+7],10,1126891415),_=m(_,A,g,w,b[M+14],15,-1416354905),w=m(w,_,A,g,b[M+5],21,-57434055),g=m(g,w,_,A,b[M+12],6,1700485571),A=m(A,g,w,_,b[M+3],10,-1894986606),_=m(_,A,g,w,b[M+10],15,-1051523),w=m(w,_,A,g,b[M+1],21,-2054922799),g=m(g,w,_,A,b[M+8],6,1873313359),A=m(A,g,w,_,b[M+15],10,-30611744),_=m(_,A,g,w,b[M+6],15,-1560198380),w=m(w,_,A,g,b[M+13],21,1309151649),g=m(g,w,_,A,b[M+4],6,-145523070),A=m(A,g,w,_,b[M+11],10,-1120210379),_=m(_,A,g,w,b[M+2],15,718787259),w=m(w,_,A,g,b[M+9],21,-343485551),g=s(g,O),w=s(w,q),_=s(_,F),A=s(A,j)}return[g,w,_,A]})((function(b){if(b.length===0)return[];const v=8*b.length,g=new Uint32Array(o(v));for(let w=0;w<v;w+=8)g[w>>5]|=(255&b[w/8])<<w%32;return g})(d),8*d.length))};c.default=f},{}],530:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o,s=(o=t("./validate.js"))&&o.__esModule?o:{default:o},h=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");let n;const u=new Uint8Array(16);return u[0]=(n=parseInt(a.slice(0,8),16))>>>24,u[1]=n>>>16&255,u[2]=n>>>8&255,u[3]=255&n,u[4]=(n=parseInt(a.slice(9,13),16))>>>8,u[5]=255&n,u[6]=(n=parseInt(a.slice(14,18),16))>>>8,u[7]=255&n,u[8]=(n=parseInt(a.slice(19,23),16))>>>8,u[9]=255&n,u[10]=(n=parseInt(a.slice(24,36),16))/1099511627776&255,u[11]=n/4294967296&255,u[12]=n>>>24&255,u[13]=n>>>16&255,u[14]=n>>>8&255,u[15]=255&n,u};c.default=h},{"./validate.js":541}],532:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,i,c){let o;Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(){if(!o&&(o=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!o))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(s)};const s=new Uint8Array(16)},{}],534:[function(t,i,c){function o(a,n,u,m){switch(a){case 0:return n&u^~n&m;case 1:return n^u^m;case 2:return n&u^n&m^u&m;case 3:return n^u^m}}function s(a,n){return a<<n|a>>>32-n}Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var h=function(a){const n=[1518500249,1859775393,2400959708,3395469782],u=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const b=unescape(encodeURIComponent(a));a=[];for(let v=0;v<b.length;++v)a.push(b.charCodeAt(v))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const m=a.length/4+2,f=Math.ceil(m/16),d=new Array(f);for(let b=0;b<f;++b){const v=new Uint32Array(16);for(let g=0;g<16;++g)v[g]=a[64*b+4*g]<<24|a[64*b+4*g+1]<<16|a[64*b+4*g+2]<<8|a[64*b+4*g+3];d[b]=v}d[f-1][14]=8*(a.length-1)/Math.pow(2,32),d[f-1][14]=Math.floor(d[f-1][14]),d[f-1][15]=8*(a.length-1)&4294967295;for(let b=0;b<f;++b){const v=new Uint32Array(80);for(let O=0;O<16;++O)v[O]=d[b][O];for(let O=16;O<80;++O)v[O]=s(v[O-3]^v[O-8]^v[O-14]^v[O-16],1);let g=u[0],w=u[1],_=u[2],A=u[3],M=u[4];for(let O=0;O<80;++O){const q=Math.floor(O/20),F=s(g,5)+o(q,w,_,A)+M+n[q]+v[O]>>>0;M=A,A=_,_=s(w,30)>>>0,w=g,g=F}u[0]=u[0]+g>>>0,u[1]=u[1]+w>>>0,u[2]=u[2]+_>>>0,u[3]=u[3]+A>>>0,u[4]=u[4]+M>>>0}return[u[0]>>24&255,u[0]>>16&255,u[0]>>8&255,255&u[0],u[1]>>24&255,u[1]>>16&255,u[1]>>8&255,255&u[1],u[2]>>24&255,u[2]>>16&255,u[2]>>8&255,255&u[2],u[3]>>24&255,u[3]>>16&255,u[3]>>8&255,255&u[3],u[4]>>24&255,u[4]>>16&255,u[4]>>8&255,255&u[4]]};c.default=h},{}],535:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o,s=(o=t("./validate.js"))&&o.__esModule?o:{default:o};const h=[];for(let n=0;n<256;++n)h.push((n+256).toString(16).substr(1));var a=function(n){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const m=(h[n[u+0]]+h[n[u+1]]+h[n[u+2]]+h[n[u+3]]+"-"+h[n[u+4]]+h[n[u+5]]+"-"+h[n[u+6]]+h[n[u+7]]+"-"+h[n[u+8]]+h[n[u+9]]+"-"+h[n[u+10]]+h[n[u+11]]+h[n[u+12]]+h[n[u+13]]+h[n[u+14]]+h[n[u+15]]).toLowerCase();if(!(0,s.default)(m))throw TypeError("Stringified UUID is invalid");return m};c.default=a},{"./validate.js":541}],536:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o=h(t("./rng.js")),s=h(t("./stringify.js"));function h(d){return d&&d.__esModule?d:{default:d}}let a,n,u=0,m=0;var f=function(d,b,v){let g=b&&v||0;const w=b||new Array(16);let _=(d=d||{}).node||a,A=d.clockseq!==void 0?d.clockseq:n;if(_==null||A==null){const V=d.random||(d.rng||o.default)();_==null&&(_=a=[1|V[0],V[1],V[2],V[3],V[4],V[5]]),A==null&&(A=n=16383&(V[6]<<8|V[7]))}let M=d.msecs!==void 0?d.msecs:Date.now(),O=d.nsecs!==void 0?d.nsecs:m+1;const q=M-u+(O-m)/1e4;if(q<0&&d.clockseq===void 0&&(A=A+1&16383),(q<0||M>u)&&d.nsecs===void 0&&(O=0),O>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=M,m=O,n=A,M+=122192928e5;const F=(1e4*(268435455&M)+O)%4294967296;w[g++]=F>>>24&255,w[g++]=F>>>16&255,w[g++]=F>>>8&255,w[g++]=255&F;const j=M/4294967296*1e4&268435455;w[g++]=j>>>8&255,w[g++]=255&j,w[g++]=j>>>24&15|16,w[g++]=j>>>16&255,w[g++]=A>>>8|128,w[g++]=255&A;for(let V=0;V<6;++V)w[g+V]=_[V];return b||(0,s.default)(w)};c.default=f},{"./rng.js":533,"./stringify.js":535}],537:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o=h(t("./v35.js")),s=h(t("./md5.js"));function h(n){return n&&n.__esModule?n:{default:n}}var a=(0,o.default)("v3",48,s.default);c.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(u,m,f){function d(b,v,g,w){if(typeof b=="string"&&(b=(function(A){A=unescape(encodeURIComponent(A));const M=[];for(let O=0;O<A.length;++O)M.push(A.charCodeAt(O));return M})(b)),typeof v=="string"&&(v=(0,s.default)(v)),v.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _=new Uint8Array(16+b.length);if(_.set(v),_.set(b,v.length),_=f(_),_[6]=15&_[6]|m,_[8]=63&_[8]|128,g){w=w||0;for(let A=0;A<16;++A)g[w+A]=_[A];return g}return(0,o.default)(_)}try{d.name=u}catch{}return d.DNS=a,d.URL=n,d},c.URL=c.DNS=void 0;var o=h(t("./stringify.js")),s=h(t("./parse.js"));function h(u){return u&&u.__esModule?u:{default:u}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";c.DNS=a;const n="6ba7b811-9dad-11d1-80b4-00c04fd430c8";c.URL=n},{"./parse.js":531,"./stringify.js":535}],539:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o=h(t("./rng.js")),s=h(t("./stringify.js"));function h(n){return n&&n.__esModule?n:{default:n}}var a=function(n,u,m){const f=(n=n||{}).random||(n.rng||o.default)();if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,u){m=m||0;for(let d=0;d<16;++d)u[m+d]=f[d];return u}return(0,s.default)(f)};c.default=a},{"./rng.js":533,"./stringify.js":535}],540:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o=h(t("./v35.js")),s=h(t("./sha1.js"));function h(n){return n&&n.__esModule?n:{default:n}}var a=(0,o.default)("v5",80,s.default);c.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o,s=(o=t("./regex.js"))&&o.__esModule?o:{default:o},h=function(a){return typeof a=="string"&&s.default.test(a)};c.default=h},{"./regex.js":532}],542:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var o,s=(o=t("./validate.js"))&&o.__esModule?o:{default:o},h=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)};c.default=h},{"./validate.js":541}],543:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.CHAR=`	
\r ---`,c.S=` 	\r
`,c.NAME_START_CHAR=":A-Z_a-z-----------",c.NAME_CHAR="-"+c.NAME_START_CHAR+".0-9--",c.CHAR_RE=new RegExp("^["+c.CHAR+"]$","u"),c.S_RE=new RegExp("^["+c.S+"]+$","u"),c.NAME_START_CHAR_RE=new RegExp("^["+c.NAME_START_CHAR+"]$","u"),c.NAME_CHAR_RE=new RegExp("^["+c.NAME_CHAR+"]$","u"),c.NAME_RE=new RegExp("^["+c.NAME_START_CHAR+"]["+c.NAME_CHAR+"]*$","u"),c.NMTOKEN_RE=new RegExp("^["+c.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}c.S_LIST=[32,10,13,9],c.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},c.isS=function(s){return s===32||s===10||s===13||s===9},c.isNameStartChar=o,c.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(t,i,c){Object.defineProperty(c,"__esModule",{value:!0}),c.CHAR="---",c.RESTRICTED_CHAR="-\b\v\f---",c.S=` 	\r
`,c.NAME_START_CHAR=":A-Z_a-z-----------",c.NAME_CHAR="-"+c.NAME_START_CHAR+".0-9--",c.CHAR_RE=new RegExp("^["+c.CHAR+"]$","u"),c.RESTRICTED_CHAR_RE=new RegExp("^["+c.RESTRICTED_CHAR+"]$","u"),c.S_RE=new RegExp("^["+c.S+"]+$","u"),c.NAME_START_CHAR_RE=new RegExp("^["+c.NAME_START_CHAR+"]$","u"),c.NAME_CHAR_RE=new RegExp("^["+c.NAME_CHAR+"]$","u"),c.NAME_RE=new RegExp("^["+c.NAME_START_CHAR+"]["+c.NAME_CHAR+"]*$","u"),c.NMTOKEN_RE=new RegExp("^["+c.NAME_CHAR+"]+$","u");function o(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}c.S_LIST=[32,10,13,9],c.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},c.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},c.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},c.isS=function(s){return s===32||s===10||s===13||s===9},c.isNameStartChar=o,c.isNameChar=function(s){return o(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(t,i,c){function o(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(c,"__esModule",{value:!0}),c.NC_NAME_START_CHAR="A-Z_a-z------------",c.NC_NAME_CHAR="-"+c.NC_NAME_START_CHAR+".0-9--",c.NC_NAME_START_CHAR_RE=new RegExp("^["+c.NC_NAME_START_CHAR+"]$","u"),c.NC_NAME_CHAR_RE=new RegExp("^["+c.NC_NAME_CHAR+"]$","u"),c.NC_NAME_RE=new RegExp("^["+c.NC_NAME_START_CHAR+"]["+c.NC_NAME_CHAR+"]*$","u"),c.isNCNameStartChar=o,c.isNCNameChar=function(s){return o(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)}))})(xp)),xp.exports}var PT=DT();const LT=hv(PT);var yh={exports:{}},BT=yh.exports,lv;function VT(){return lv||(lv=1,(function(p,e){(function(t,i){i()})(BT,function(){function t(n,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(n.type)?new Blob(["\uFEFF",n],{type:n.type}):n}function i(n,u,m){var f=new XMLHttpRequest;f.open("GET",n),f.responseType="blob",f.onload=function(){a(f.response,u,m)},f.onerror=function(){console.error("could not download file")},f.send()}function c(n){var u=new XMLHttpRequest;u.open("HEAD",n,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function o(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof er=="object"&&er.global===er?er:void 0,h=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(n,u,m){var f=s.URL||s.webkitURL,d=document.createElement("a");u=u||n.name||"download",d.download=u,d.rel="noopener",typeof n=="string"?(d.href=n,d.origin===location.origin?o(d):c(d.href)?i(n,u,m):o(d,d.target="_blank")):(d.href=f.createObjectURL(n),setTimeout(function(){f.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(n,u,m){if(u=u||n.name||"download",typeof n!="string")navigator.msSaveOrOpenBlob(t(n,m),u);else if(c(n))i(n,u,m);else{var f=document.createElement("a");f.href=n,f.target="_blank",setTimeout(function(){o(f)})}}:function(n,u,m,f){if(f=f||open("","_blank"),f&&(f.document.title=f.document.body.innerText="downloading..."),typeof n=="string")return i(n,u,m);var d=n.type==="application/octet-stream",b=/constructor/i.test(s.HTMLElement)||s.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&b||h)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var A=g.result;A=v?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),f?f.location.href=A:location=A,f=null},g.readAsDataURL(n)}else{var w=s.URL||s.webkitURL,_=w.createObjectURL(n);f?f.location=_:location.href=_,f=null,setTimeout(function(){w.revokeObjectURL(_)},4e4)}});s.saveAs=a.saveAs=a,p.exports=a})})(yh)),yh.exports}var zT=VT();const UT=({isOpen:p,onClose:e,pastReports:t,hourlyRate:i,setHourlyRate:c,themeClasses:o})=>{if(!p)return null;const[s,h]=Et.useState([]),a=b=>{s.includes(b)?h(v=>v.filter(g=>g!==b)):h(v=>[...v,b])},n=(b,v)=>{v==="add"?h(g=>{const w=new Set([...g,...b]);return Array.from(w)}):v==="remove"&&h(g=>g.filter(w=>!b.includes(w)))},u=Et.useMemo(()=>{let b=0,v=0;s.forEach(w=>{const _=t.find(A=>A.id===w);if(_){const A=iv(_.content);A>0&&(b+=A,v++)}});const g=b*(parseFloat(i)||0);return{totalHours:b,daysCount:v,totalEarnings:g}},[s,t,i]),m=b=>{let v=Math.floor(b),g=Math.round((b-v)*60);return g===60&&(v++,g=0),`${v}h ${g}m`},f=b=>{let v=Math.floor(b),g=Math.round((b-v)*60);return g===60&&(v++,g=0),`${v.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`},d=async()=>{if(s.length===0){alert("Selecciona al menos un da para exportar.");return}const b=parseFloat(i)||0,v=new LT.Workbook,g=v.addWorksheet("Reporte Salarial");g.columns=[{header:"Fecha",key:"date",width:15},{header:"Tiempo Trabajado",key:"time",width:20},{header:"Tarifa por Hora (USD)",key:"rate",width:25},{header:"Total (USD)",key:"total",width:20}],[...s].sort().forEach(O=>{const q=t.find(V=>V.id===O);let F=0;q&&(F=iv(q.content));const j=F*b;g.addRow({date:O,time:f(F),rate:b,total:j})}),g.addRow({});const _=g.addRow({date:"TOTALES",time:f(u.totalHours),rate:"",total:u.totalEarnings});_.font={bold:!0};const A=await v.xlsx.writeBuffer(),M=new Blob([A],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});zT.saveAs(M,`Reporte_Salario_${nl()}.xlsx`)};return W.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:W.jsxs("div",{className:`relative w-full max-w-lg p-6 rounded-2xl shadow-2xl border-2 modal-content max-h-[90vh] overflow-y-auto ${o.modalBg}`,children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsxs("h2",{className:"text-3xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-emerald-400 to-teal-400 flex items-center gap-2",children:[W.jsx("span",{className:"text-3xl",children:""})," Calculadora Salarial "]}),W.jsx("button",{onClick:e,className:`text-gray-400 hover:${o.primaryText}`,children:""})]}),W.jsxs("div",{className:`mb-6 p-4 rounded-xl border ${o.itemBg} ${o.inputBorder}`,children:[W.jsx("label",{className:`block text-sm font-semibold mb-2 ${o.secondaryText}`,children:"Tu Tarifa por Hora ($):"}),W.jsx("input",{type:"number",value:i,onChange:b=>c(b.target.value),className:`w-full px-4 py-3 rounded-lg bg-gray-900 border text-xl font-mono focus:outline-none focus:ring-2 ${o.inputBorder} ${o.primaryText}`,placeholder:"Ej: 5.50"})]}),W.jsxs("div",{className:"mb-6",children:[W.jsx("p",{className:`text-sm mb-2 ${o.secondaryText}`,children:"Selecciona los das a liquidar:"}),W.jsx(RT,{reports:t,selectedDates:s,onToggleDate:a,onBatchUpdate:n,themeClasses:o})]}),W.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[W.jsxs("div",{className:`p-4 rounded-xl border flex flex-col items-center ${o.itemBg} ${o.inputBorder}`,children:[W.jsx("span",{className:`text-xs uppercase tracking-wide ${o.secondaryText}`,children:"Horas Totales"}),W.jsx("span",{className:`text-2xl font-bold mt-1 ${o.primaryText}`,children:m(u.totalHours)}),W.jsxs("span",{className:`text-xs opacity-70 ${o.secondaryText}`,children:["en ",u.daysCount," das"]})]}),W.jsxs("div",{className:"bg-green-900/40 p-4 rounded-xl border border-green-500 flex flex-col items-center justify-center relative overflow-hidden",children:[W.jsx("div",{className:"absolute top-0 right-0 p-1 opacity-20",children:W.jsx("span",{className:"text-4xl",children:""})}),W.jsx("span",{className:"text-green-300 text-xs uppercase tracking-wide font-bold",children:"Total a Cobrar"}),W.jsxs("span",{className:"text-3xl font-extrabold text-green-400 mt-1",children:["$",u.totalEarnings.toFixed(2)]})]})]}),W.jsxs("button",{onClick:d,className:"w-full py-3 rounded-xl font-bold text-white shadow-lg flex items-center justify-center gap-2 transition-transform active:scale-95 bg-green-700 hover:bg-green-600",children:[W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Exportar a Excel"]})]})})},FT=({isOpen:p,onClose:e,user:t,userProfile:i,initialType:c})=>{const[o,s]=Et.useState(c||"monday"),[h,a]=Et.useState(""),[n,u]=Et.useState([]);Et.useEffect(()=>{p&&c&&s(c)},[p,c]),Et.useEffect(()=>{p&&t&&(async()=>{try{const d=Ei(nn(De,"monday_ideas"),Fi("uid","==",t.uid),Tu("timestamp","desc")),b=await dh(d);u(b.docs.map(v=>({id:v.id,...v.data()})))}catch(d){console.error("Error history",d)}})()},[p,t]);const m=async()=>{if(!h.trim())return;const f=new Date,d={uid:t.uid,userName:i?.name||t.displayName||t.email,team:i?.team||"default",content:h,type:o,timestamp:Date.now(),timestampStr:f.toLocaleString("es-AR"),analysis:{pros:"",cons:""},status:"new"};try{const b=await Wa(nn(De,"monday_ideas"),d);u(v=>[{id:b.id,...d},...v]),a(""),alert(o==="dev"?" Enviado al Dev!":" Guardado para el Lunes!")}catch(b){console.error(b),alert("Error al enviar.")}};return p?W.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:W.jsxs("div",{className:"bg-[#0f111a] border border-white/10 rounded-2xl w-full max-w-lg shadow-2xl flex flex-col max-h-[85vh] overflow-hidden",children:[W.jsxs("div",{className:"flex border-b border-white/10",children:[W.jsx("button",{onClick:()=>s("monday"),className:`flex-1 p-4 text-sm font-bold transition-colors ${o==="monday"?"bg-yellow-900/20 text-yellow-400 border-b-2 border-yellow-500":"text-slate-500 hover:text-slate-300"}`,children:" Idea Lunes"}),W.jsx("button",{onClick:()=>s("dev"),className:`flex-1 p-4 text-sm font-bold transition-colors ${o==="dev"?"bg-purple-900/20 text-purple-400 border-b-2 border-purple-500":"text-slate-500 hover:text-slate-300"}`,children:" Idea / Soporte"}),W.jsx("button",{onClick:e,className:"px-4 text-slate-400 hover:text-white border-l border-white/10",children:""})]}),W.jsxs("div",{className:"p-6 flex-1 overflow-y-auto",children:[W.jsx("textarea",{className:`w-full bg-black/50 border rounded-lg p-3 text-white text-sm outline-none mb-3 h-32 resize-none focus:ring-1 ${o==="monday"?"border-yellow-900/50 focus:border-yellow-500":"border-purple-900/50 focus:border-purple-500"}`,placeholder:o==="monday"?"Describe tu propuesta para mejorar el equipo... Cuentan templates que falten o todo tema que queres que se trate el Lunes":"Quiero que la app haga esto... / La app tiene este error...",value:h,onChange:f=>a(f.target.value)}),W.jsx("button",{onClick:m,className:`w-full font-bold py-3 rounded-lg transition-colors mb-6 shadow-lg ${o==="monday"?"bg-yellow-600 hover:bg-yellow-500 text-white":"bg-purple-600 hover:bg-purple-500 text-white"}`,children:"ENVIAR"}),W.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase mb-3 border-b border-white/10 pb-2",children:"Tu Historial Reciente"}),W.jsx("div",{className:"space-y-3",children:n.length>0?n.map(f=>W.jsxs("div",{className:"bg-white/5 p-3 rounded-lg border border-white/5",children:[W.jsxs("div",{className:"flex justify-between items-start mb-1",children:[W.jsx("span",{className:"text-[10px] text-slate-500",children:f.timestampStr?.split(",")[0]}),W.jsx("span",{className:`text-[10px] px-2 rounded font-bold ${f.status==="approved"?"bg-green-900/50 text-green-400":f.status==="rejected"?"bg-red-900/50 text-red-400":"bg-yellow-900/50 text-yellow-500"}`,children:f.status==="new"?"Pendiente":f.status==="approved"?"Aprobada":"Rechazada"})]}),W.jsx("p",{className:"text-xs text-slate-300 line-clamp-2",children:f.content})]},f.id)):W.jsx("p",{className:"text-xs text-slate-600 italic",children:"No hay historial an."})})]})]})}):null},HT=[{id:"default",name:"Concepto: Original",description:"La experiencia base. Diseo limpio.",price:0,category:"theme",icon:""},{id:"lofi",name:"Concepto: LOFIDEX Cafe",description:"Atmsfera mstica. Lluvia, niebla y luces vivas.",price:500,category:"theme",icon:""},{id:"winter",name:"Concepto: Winter Frost",description:"Aurora polar y nieve eterna.",price:500,category:"theme",icon:""},{id:"forest",name:"Concepto: Deep Woods",description:"Bosque antiguo y denso.",price:500,category:"theme",icon:""},{id:"crimson",name:"Concepto: Vampire Lord",description:"Elegancia gtica. Rojo sangre y niebla.",price:600,category:"theme",icon:""},{id:"neko",name:"Concepto: Neko Tokyo",description:"Estilo Cartoon Pop felino.",price:600,category:"theme",icon:""},{id:"neon",name:"Concepto: Neon City",description:"Cyberpunk lluvioso.",price:650,category:"theme",icon:""},{id:"royal",name:"Concepto: Royal Treasury",description:"Oro puro. Lujo extremo.",price:2e3,category:"theme",icon:""},{id:"galaxy",name:"Concepto: Cosmic Voyager",description:"Viaje interestelar.",price:1500,category:"theme",icon:""},{id:"border_default",name:"Sin Borde",description:"Limpieza total.",price:0,category:"border",icon:""},{id:"border_blue",name:"Borde Elctrico",description:"Energa azul pura.",price:200,category:"border",icon:""},{id:"border_red",name:"Borde Pasin",description:"Intensidad roja.",price:200,category:"border",icon:""},{id:"border_green",name:"Borde Matrix",description:"Cdigo fluyendo.",price:200,category:"border",icon:""},{id:"border_wood",name:"Marco Rstico",description:"Madera de roble tallada.",price:300,category:"border",icon:""},{id:"border_neon",name:"Ultra Nen",description:"Pulsos de luz nen.",price:450,category:"border",icon:""},{id:"border_rgb",name:"RGB Gamer",description:"Para verdaderos pros.",price:500,category:"border",icon:""},{id:"border_fire",name:"Fuego Mstico",description:"Arde intensamente.",price:500,category:"border",icon:""},{id:"border_electric",name:"Alto Voltaje",description:"Chispas amarillas.",price:500,category:"border",icon:""},{id:"border_glitch",name:"Cyber Glitch",description:"Error en la realidad.",price:600,category:"border",icon:""},{id:"border_gold",name:"Marco de Rey",description:"Oro slido. Top 1%.",price:2500,category:"border",icon:""},{id:"effect_none",name:"Sin Efecto",description:"Desactiva las partculas.",price:0,category:"effect",icon:""},{id:"rain",name:"Lluvia",description:"Capa de lluvia suave.",price:100,category:"effect",icon:""},{id:"snow_effect",name:"Nieve",description:"Nevada invernal.",price:150,category:"effect",icon:""},{id:"lofi_notes",name:"Notas Musicales",description:"Meloda visual flotante.",price:300,category:"effect",icon:""},{id:"forest_flora",name:"Bosque Vivo",description:"Lucirnagas y hojas cayendo.",price:350,category:"effect",icon:""},{id:"cozy_lights",name:"Luces Cozy",description:"Orbes clidos y mgicos.",price:400,category:"effect",icon:""},{id:"mystic_fog",name:"Niebla Mstica",description:"Bruma densa y misteriosa.",price:600,category:"effect",icon:""},{id:"golden_dust",name:"Polvo Dorado",description:"Partculas de riqueza.",price:800,category:"effect",icon:""},{id:"shooting_stars",name:"Lluvia de Estrellas",description:"Pide un deseo.",price:1e3,category:"effect",icon:""}],qT=({isOpen:p,onClose:e,userCoins:t,ownedItems:i,currentTheme:c,activePet:o,activeBorder:s,activeEffect:h,onBuy:a,onEquip:n,onPreview:u})=>{const[m,f]=Et.useState("theme");if(!p)return null;const d=HT.filter(g=>g.category===m),b=g=>g.category==="theme"?c===g.id:g.category==="pet"?o===g.id:g.category==="border"?s===g.id:g.category==="effect"?h===g.id:!1,v=[{id:"theme",label:"Temas",icon:""},{id:"border",label:"Marcos",icon:""},{id:"effect",label:"Efectos",icon:""}];return W.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/80 backdrop-blur-md animate-fadeIn",children:W.jsxs("div",{className:"w-full max-w-6xl bg-[#0B0F19] rounded-3xl shadow-2xl border border-white/5 flex flex-col max-h-[85vh] overflow-hidden relative",children:[W.jsxs("div",{className:"px-8 py-5 border-b border-white/5 flex justify-between items-center shrink-0 bg-black/20",children:[W.jsxs("div",{children:[W.jsx("h2",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-200 to-white tracking-tight",children:"Tienda LofiDex"}),W.jsx("p",{className:"text-slate-400 text-xs mt-0.5 font-light",children:"Mejora tu espacio de trabajo"})]}),W.jsxs("div",{className:"flex items-center gap-4",children:[W.jsxs("div",{className:"flex items-center gap-3 bg-black/40 px-4 py-1.5 rounded-full border border-purple-500/30 shadow-[0_0_15px_rgba(168,85,247,0.15)]",children:[W.jsx("div",{className:"w-8 h-8 bg-[#d1c4e9] rounded-full flex items-center justify-center overflow-hidden shadow-sm border border-white/20",children:W.jsx("img",{src:Gw,alt:"Lofi Coins",className:"w-full h-full object-cover transform scale-[1.7]"})}),W.jsxs("div",{className:"flex flex-col items-start mr-1",children:[W.jsx("span",{className:"text-[9px] font-bold text-purple-300 uppercase tracking-wider leading-none opacity-80",children:"COINS"}),W.jsx("span",{className:"text-lg font-bold text-white leading-none",children:t})]})]}),W.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white flex items-center justify-center transition-all duration-300 border border-white/5",children:""})]})]}),W.jsx("div",{className:"flex px-6 py-4 gap-3 shrink-0 bg-white/[0.02]",children:v.map(g=>W.jsxs("button",{onClick:()=>f(g.id),className:`flex items-center gap-2 px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 border ${m===g.id?"bg-purple-600/20 border-purple-500/50 text-purple-100 shadow-[0_0_10px_rgba(147,51,234,0.1)]":"bg-transparent border-transparent text-slate-400 hover:bg-white/5 hover:text-white"}`,children:[W.jsx("span",{className:"text-base",children:g.icon}),g.label]},g.id))}),W.jsx("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar",children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:d.map(g=>{const w=g.id==="signature_mickey_bianca",_=i.includes(g.id)||g.id==="default",A=b(g),M=w?"bg-gradient-to-br from-amber-900/80 via-yellow-900/20 to-black border-yellow-500/50 shadow-[0_0_15px_rgba(234,179,8,0.3)] hover:shadow-[0_0_30px_rgba(234,179,8,0.6)] hover:border-yellow-300 transform hover:-translate-y-2":"bg-gradient-to-b from-white/[0.03] to-transparent hover:from-white/[0.07] hover:to-white/[0.02] border-white/5 hover:border-white/20 hover:shadow-lg hover:-translate-y-1";return W.jsxs("div",{className:`group relative p-4 rounded-2xl border transition-all duration-500 flex flex-col h-full overflow-hidden ${M} ${A?w?"border-yellow-400 shadow-yellow-500/20":"border-green-500/50 shadow-[0_0_20px_rgba(34,197,94,0.1)]":""}`,children:[w&&W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none mix-blend-overlay opacity-30 bg-[radial-gradient(circle_at_top_right,_var(--tw-gradient-stops))] from-yellow-200 via-transparent to-transparent"}),W.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none bg-gradient-to-tr from-transparent via-white/20 to-transparent -translate-x-[200%] group-hover:translate-x-[200%] transition-transform duration-1000 ease-in-out"}),W.jsx("div",{className:"absolute top-2 right-2 text-[8px] animate-pulse text-yellow-200",children:""}),W.jsx("div",{className:"absolute bottom-4 left-4 text-[8px] animate-pulse delay-700 text-yellow-400",children:""})]}),W.jsxs("div",{className:"relative z-20 flex justify-between items-start mb-3",children:[W.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-3xl shadow-inner transition-transform group-hover:scale-110 ${w?"bg-gradient-to-br from-yellow-600 to-amber-800 border border-yellow-400/30 text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]":"bg-black/40 border border-white/5"}`,children:g.icon}),A&&W.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide border ${w?"bg-yellow-500/20 text-yellow-300 border-yellow-500/50":"bg-green-500/20 text-green-300 border-green-500/30"}`,children:"En uso"}),_&&!A&&W.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide border ${w?"bg-amber-500/20 text-amber-300 border-amber-500/30":"bg-blue-500/20 text-blue-300 border-blue-500/30"}`,children:"Adquirido"}),!_&&w&&W.jsx("span",{className:"bg-gradient-to-r from-yellow-600 to-amber-600 text-white text-[9px] font-bold px-2 py-1 rounded shadow-lg animate-pulse border border-yellow-300/30",children:"EXCLUSIVO"})]}),W.jsxs("div",{className:"relative z-20 mb-4 flex-1",children:[W.jsx("h3",{className:`font-bold text-sm tracking-wide mb-1 transition-colors ${w?"text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-amber-400 drop-shadow-sm":"text-white group-hover:text-purple-300"}`,children:g.name}),W.jsx("p",{className:`text-xs leading-relaxed line-clamp-3 ${w?"text-yellow-100/70":"text-slate-400"}`,children:g.description})]}),W.jsx("div",{className:`relative z-20 mt-auto pt-3 border-t ${w?"border-yellow-500/20":"border-white/5"}`,children:_?W.jsx("button",{onClick:()=>n(g),disabled:A,className:`w-full py-2.5 rounded-lg text-xs font-bold uppercase tracking-wider transition-all shadow-lg ${A?"bg-white/5 text-slate-500 cursor-default":w?"bg-gradient-to-r from-yellow-700 to-amber-600 hover:from-yellow-600 hover:to-amber-500 text-white border border-yellow-400/30 shadow-yellow-900/40":"bg-blue-600/80 hover:bg-blue-500 text-white"}`,children:A?"Equipado":"Equipar"}):W.jsxs("div",{className:"flex gap-2",children:[W.jsx("button",{onClick:()=>u(g),className:`px-3 py-2 rounded-lg transition-colors border ${w?"bg-yellow-900/20 text-yellow-200 border-yellow-500/30 hover:bg-yellow-900/40":"bg-white/5 text-slate-300 border-white/5 hover:bg-white/10 hover:text-white"}`,title:"Vista previa",children:""}),W.jsxs("button",{onClick:()=>a(g),className:`flex-1 py-2 rounded-lg shadow-lg flex items-center justify-center gap-2 group/btn transition-all border ${w?"bg-gradient-to-r from-yellow-600 via-amber-500 to-yellow-600 bg-[length:200%_auto] hover:bg-right text-white border-yellow-400/30 shadow-yellow-600/20":"bg-gradient-to-r from-violet-700 to-indigo-700 hover:from-violet-600 hover:to-indigo-600 text-white border-white/10"}`,children:[W.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${w?"text-shadow-sm":""}`,children:w?"Obtener":"Comprar"}),W.jsx("span",{className:`px-1.5 py-0.5 rounded text-[10px] font-mono ${w?"bg-black/40 text-yellow-200":"bg-black/30 text-violet-200 group-hover/btn:text-white"}`,children:g.price===0&&w?"FREE":g.price})]})]})})]},g.id)})})}),W.jsx("div",{className:"py-3 bg-black/40 border-t border-white/5 text-center shrink-0",children:W.jsx("p",{className:"text-[10px] text-slate-600 uppercase tracking-widest",children:"LofiDex Marketplace"})})]})})},$T=({isOpen:p,onClose:e,onConfirm:t,themeClasses:i})=>p?W.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",children:W.jsx("div",{className:`relative w-full max-w-sm p-6 rounded-2xl shadow-2xl ${i.modalBg||"bg-gray-800 border-gray-600"} border-2 modal-content`,children:W.jsxs("div",{className:"flex flex-col items-center text-center animate-pulse",children:[W.jsx("div",{className:"bg-red-500/20 p-4 rounded-full mb-3 border-2 border-red-500",children:W.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:W.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),W.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"Empezar Da Nuevo?"}),W.jsxs("p",{className:`${i.secondaryText||"text-gray-300"} mb-6 text-sm`,children:["Ests a punto de borrar ",W.jsx("strong",{children:"todas las tareas"})," de la lista. ",W.jsx("br",{}),W.jsx("br",{})," ",W.jsx("span",{className:"text-xs opacity-70",children:"Asegrate de haber generado tu E.O.D.R. antes de continuar. Esta accin no se puede deshacer."})]}),W.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[W.jsx("button",{onClick:t,className:"w-full py-3 rounded-xl font-bold text-white bg-red-600 hover:bg-red-700 transition shadow-lg",children:"S, Limpiar Todo"}),W.jsx("button",{onClick:e,className:"w-full py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition",children:"Cancelar"})]})]})})}):null,GT=({quiz:p,onClose:e,onComplete:t,user:i})=>{const[c,o]=Et.useState(0),[s,h]=Et.useState(null),[a,n]=Et.useState(!1),[u,m]=Et.useState(!1),{addCoins:f}=zw(i);if(!p||!p.questions||p.questions.length===0)return null;const d=p.questions[c],b=()=>d.correct!==void 0?d.correct:d.correctAnswer,v=_=>{a||h(_)},g=()=>{const _=b(),A=Number(s),M=Number(_);m(A===M),n(!0)},w=()=>{if(!u){alert(" Respuesta incorrecta. Intntalo de nuevo!"),n(!1),h(null);return}if(c<p.questions.length-1)o(_=>_+1),h(null),n(!1),m(!1);else{const _=p.reward||50;f(100),t(_)}};return W.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fadeIn",children:W.jsxs("div",{className:"bg-[#0f111a] border border-indigo-500/50 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[W.jsxs("div",{className:"p-4 border-b border-indigo-500/30 bg-indigo-900/20 flex justify-between items-center",children:[W.jsxs("div",{children:[W.jsx("h3",{className:"text-lg font-bold text-indigo-300",children:p.title}),W.jsxs("span",{className:"text-xs text-indigo-400",children:["Pregunta ",c+1," de ",p.questions.length]})]}),W.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white",children:""})]}),W.jsxs("div",{className:"p-6 overflow-y-auto",children:[W.jsx("p",{className:"text-white text-lg font-medium mb-6",children:d.question}),W.jsx("div",{className:"space-y-3",children:d.options.map((_,A)=>{let M="w-full p-4 rounded-xl border text-left transition-all font-medium ";if(a){const O=Number(b());A===O?M+="bg-green-900/50 border-green-500 text-green-300 ":A===s?M+="bg-red-900/50 border-red-500 text-red-300 ":M+="bg-gray-800/50 border-gray-700 text-gray-500 opacity-50 "}else s===A?M+="bg-indigo-600 border-indigo-400 text-white shadow-lg scale-[1.02] ":M+="bg-gray-800/50 border-gray-700 text-gray-300 hover:bg-gray-700 hover:border-gray-500 ";return W.jsx("button",{onClick:()=>v(A),className:M,disabled:a,children:_},A)})})]}),W.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20",children:a?W.jsx("button",{onClick:w,className:`w-full py-3 rounded-xl font-bold transition-all ${u?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/50":"bg-red-600 hover:bg-red-500 text-white shadow-lg"}`,children:u?c<p.questions.length-1?"SIGUIENTE PREGUNTA ":"RECLAMAR PREMIO! (100 Lofi Coins) ":"INTENTAR DE NUEVO"}):W.jsx("button",{onClick:g,disabled:s===null,className:`w-full py-3 rounded-xl font-bold transition-all ${s===null?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-900/50"}`,children:"CONFIRMAR RESPUESTA"})})]})})},WT=()=>{const p=new Date,e=new Date(p.getFullYear(),0,1),t=Math.ceil(((p-e)/864e5+e.getDay()+1)/7);return`${p.getFullYear()}-W${t.toString().padStart(2,"0")}`},uv=["Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Domingo"],YT=({isOpen:p,onClose:e,user:t,userProfile:i,addCoins:c,logEvent:o})=>{const[s,h]=Et.useState("next"),[a,n]=Et.useState(!1),u={Lunes:{hours:0,off:!1},Martes:{hours:0,off:!1},Mircoles:{hours:0,off:!1},Jueves:{hours:0,off:!1},Viernes:{hours:0,off:!1},Sbado:{hours:0,off:!0},Domingo:{hours:0,off:!0}},[m,f]=Et.useState(u),d=Et.useMemo(()=>s==="next"?qw():WT(),[s]);Et.useEffect(()=>{if(!p)return;(async()=>{n(!0);try{const O=`${t.uid}_${d}`,q=gr(De,"weekly_schedules",O),F=await Eu(q);if(F.exists()){const j=F.data();f({...u,...j.schedule||{}})}else f(u)}catch(O){console.error(O)}n(!1)})()},[p,d,t.uid]);const b=(M,O)=>{const q=m[M]||{hours:0,off:!1};let F=(q.hours||0)+O;F<0&&(F=0),F>24&&(F=24),f({...m,[M]:{...q,hours:F}})},v=(M,O)=>{const q=parseFloat(O);if(isNaN(q))return;let F=q;F<0&&(F=0),F>24&&(F=24),f({...m,[M]:{...m[M],hours:F}})},g=async()=>{const M=`${t.uid}_${d}`,O=gr(De,"weekly_schedules",M),q={};uv.forEach(j=>{q[j]=m[j]||u[j]});const F=i?.name||t.email||"Agente";try{const j=await Eu(O),V=j.exists(),G=s==="current";if(G||V){const X=V?j.data().schedule:u,H=G?`${F} quiere hacer cambios en la disponibilidad de esta semana!`:`${F} carg la disponibilidad de la siguiente semana!`;await Wa(nn(De,"schedule_requests"),{uid:t.uid,userName:F,weekId:d,currentSchedule:X,proposedSchedule:q,status:"pending",type:G?"urgent":"planning",message:H,createdAt:Date.now()}),alert(G?" SOLICITUD URGENTE ENVIADA":" CAMBIO ENVIADO"),o&&o("SCHEDULE_REQUEST_SENT")}else await vs(O,{uid:t.uid,userName:F,team:i?.team||"default",weekId:d,schedule:q,submittedAt:Date.now()}),new Date().getDay()===5&&s==="next"?(c(50),alert(" Guardado + 50 Coins")):alert(" Guardado");e()}catch(j){console.error(j),alert("Error al enviar.")}};if(!p)return null;const w=s==="current",_=w?"bg-orange-600":"bg-purple-600",A=w?" SOLICITAR CAMBIO URGENTE":" GUARDAR PLANIFICACIN";return W.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:W.jsxs("div",{className:"bg-[#0f111a] border border-white/10 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[W.jsxs("div",{className:"bg-slate-900 border-b border-white/10 p-4",children:[W.jsxs("div",{className:"flex justify-between items-center mb-4",children:[W.jsx("h3",{className:"text-lg font-bold text-white",children:" Mi Disponibilidad"}),W.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white font-bold",children:""})]}),W.jsxs("div",{className:"bg-black/40 p-1 rounded-lg flex border border-white/5 relative",children:[W.jsx("button",{onClick:()=>h("current"),className:`flex-1 py-2 text-xs font-bold rounded-md transition-all ${s==="current"?"bg-orange-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"ESTA SEMANA"}),W.jsx("button",{onClick:()=>h("next"),className:`flex-1 py-2 text-xs font-bold rounded-md transition-all ${s==="next"?"bg-purple-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:"PRXIMA SEMANA"})]}),W.jsxs("div",{className:`text-[10px] text-center mt-2 font-mono font-bold ${w?"text-orange-400":"text-green-400"}`,children:["ID: ",d]})]}),W.jsx("div",{className:"p-6 space-y-3 overflow-y-auto custom-scrollbar flex-1 bg-[#0b0e14]",children:a?W.jsx("div",{className:"text-center py-10 text-slate-500 animate-pulse",children:"Cargando horario..."}):W.jsxs(W.Fragment,{children:[new Date().getDay()===5&&s==="next"&&W.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 p-3 rounded-lg text-center animate-pulse",children:W.jsx("p",{className:"text-xs text-yellow-300 font-bold",children:" BONUS VIERNES ACTIVO"})}),w&&W.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/30 p-3 rounded-lg flex items-start gap-2",children:[W.jsx("span",{className:"text-xl",children:""}),W.jsx("p",{className:"text-xs text-orange-200",children:"Los cambios en la semana actual requieren aprobacin del TL."})]}),uv.map(M=>{const O=m[M]||{hours:0,off:!1};return W.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${w?"bg-orange-900/5 border-orange-500/10":"bg-slate-800 border-white/5"}`,children:[W.jsx("span",{className:"w-20 font-bold text-sm text-slate-200 capitalize",children:M}),W.jsxs("div",{className:"flex items-center gap-3",children:[W.jsxs("label",{className:`flex items-center gap-2 text-xs font-bold ${O.off?"text-red-400":"text-slate-400"} cursor-pointer select-none bg-black/20 px-2 py-1.5 rounded border border-white/5 hover:bg-white/5 transition-colors`,children:[W.jsx("input",{type:"checkbox",checked:O.off,onChange:q=>f({...m,[M]:{...O,off:q.target.checked}}),className:"accent-red-500 w-4 h-4 rounded"}),"OFF"]}),!O.off&&W.jsxs("div",{className:"flex items-center bg-black/40 rounded-lg border border-white/10 overflow-hidden",children:[W.jsx("button",{onClick:()=>b(M,-1),className:"w-8 h-8 flex items-center justify-center bg-slate-700 hover:bg-slate-600 text-white font-bold transition-colors active:bg-slate-800",children:"-"}),W.jsxs("div",{className:"w-12 h-8 flex items-center justify-center bg-transparent border-x border-white/5 relative",children:[W.jsx("input",{type:"number",value:O.hours,onChange:q=>v(M,q.target.value),className:"w-full h-full bg-transparent text-center text-white text-sm font-bold outline-none appearance-none"}),W.jsx("span",{className:"absolute right-1 bottom-1 text-[8px] text-slate-500",children:"hs"})]}),W.jsx("button",{onClick:()=>b(M,1),className:"w-8 h-8 flex items-center justify-center bg-indigo-600 hover:bg-indigo-500 text-white font-bold transition-colors active:bg-indigo-700",children:"+"})]})]})]},M)})]})}),W.jsx("div",{className:"p-4 border-t border-white/10 bg-slate-900",children:W.jsxs("button",{onClick:g,className:`w-full text-white font-bold py-3 rounded-xl shadow-lg transition-all active:scale-95 flex items-center justify-center gap-2 ${_} hover:brightness-110`,children:[w?W.jsx("span",{children:""}):W.jsx("span",{children:""})," ",A]})})]})})},XT=()=>{const p=Array.from({length:50}).map((e,t)=>{const i={left:`${Math.random()*100}%`,animationDelay:`${Math.random()*5}s`,animationDuration:`${Math.random()*10+5}s`,opacity:Math.random()*.7+.3,width:`${Math.random()*6+2}px`,height:`${Math.random()*6+2}px`};return W.jsx("div",{className:"snowflake absolute top-[-10px] bg-white rounded-full blur-[1px]",style:i},t)});return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[W.jsx("style",{children:`
                @keyframes snowfall {
                    0% { transform: translateY(-10vh) translateX(0); }
                    100% { transform: translateY(110vh) translateX(20px); }
                }
                .snowflake {
                    animation: snowfall linear infinite;
                }
            `}),p]})},KT=()=>{const p=Et.useMemo(()=>{const e=["#ffb700","#ff6a00","#ff8c00","#ffd700","#ff4500"];return Array.from({length:30}).map((t,i)=>({key:i,left:`${Math.random()*100}vw`,top:`${Math.random()*120}vh`,size:`${Math.random()*400+150}px`,color:e[Math.floor(Math.random()*e.length)],opacity:Math.random()*.3+.3,duration:`${Math.random()*15+15}s`,delay:`-${Math.random()*20}s`,blur:`${Math.random()*60+40}px`}))},[]);return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-plus-lighter",children:[W.jsx("style",{children:`
                @keyframes float-pulse {
                    0%, 100% { transform: translate(0, 0) scale(1); opacity: var(--base-opacity); }
                    50% { transform: translate(var(--tx), var(--ty)) scale(1.2); opacity: calc(var(--base-opacity) + 0.2); }
                }
                .cozy-orb {
                    position: absolute;
                    border-radius: 50%;
                    animation: float-pulse infinite ease-in-out alternate;
                    --tx: ${(Math.random()-.5)*100}px;
                    --ty: ${(Math.random()-.5)*100}px;
                }
            `}),p.map(e=>W.jsx("div",{className:"cozy-orb",style:{left:e.left,top:e.top,width:e.size,height:e.size,backgroundColor:e.color,"--base-opacity":e.opacity,animationDuration:e.duration,animationDelay:e.delay,filter:`blur(${e.blur})`}},e.key))]})},QT=()=>W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-screen opacity-30",children:[W.jsx("style",{children:`
                @keyframes fog-drift {
                    0% { background-position: 0 0; }
                    100% { background-position: 200% 0; }
                }
                .fog-layer {
                    position: absolute;
                    width: 300%;
                    height: 100%;
                    background-image: url('https://www.transparenttextures.com/patterns/foggy-birds.png'); /* Textura sutil de niebla */
                    background-size: cover;
                    opacity: 0.4;
                    animation: fog-drift 240s linear infinite;
                }
                 .fog-layer.two {
                    animation-direction: reverse;
                    animation-duration: 180s;
                    opacity: 0.2;
                }
            `}),W.jsx("div",{className:"fog-layer"}),W.jsx("div",{className:"fog-layer two"})]}),ZT=`
    @keyframes firefly-move {
        0%, 100% { transform: translate(0, 0); opacity: 0; }
        25% { opacity: 1; }
        50% { transform: translate(50px, -50px); opacity: 0.5; }
        75% { transform: translate(-30px, 30px); opacity: 1; }
    }
    
    @keyframes flora-fall {
        0% { transform: translateY(-10vh) rotate(0deg) translateX(0); opacity: 0; }
        10% { opacity: 0.8; }
        100% { transform: translateY(110vh) rotate(360deg) translateX(50px); opacity: 0; }
    }

    .firefly {
        position: absolute;
        background: #bef264;
        border-radius: 50%;
        box-shadow: 0 0 10px #bef264;
        animation: firefly-move ease-in-out infinite;
    }

    .flora-particle {
        position: absolute;
        top: -20px;
        border-radius: 4px 10px;
        animation: flora-fall linear infinite;
    }
`,cv=()=>{const p=Et.useMemo(()=>Array.from({length:20}).map((t,i)=>({key:`fly-${i}`,left:`${Math.random()*100}vw`,top:`${Math.random()*100}vh`,size:`${Math.random()*4+2}px`,duration:`${Math.random()*10+10}s`,delay:`-${Math.random()*10}s`,opacity:Math.random()*.5+.3})),[]),e=Et.useMemo(()=>{const t=["#86efac","#4ade80","#fbcfe8","#fdf2f8"];return Array.from({length:15}).map((i,c)=>({key:`leaf-${c}`,left:`${Math.random()*100}vw`,size:`${Math.random()*8+4}px`,color:t[Math.floor(Math.random()*t.length)],duration:`${Math.random()*15+10}s`,delay:`-${Math.random()*10}s`,rotation:Math.random()*360}))},[]);return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:ZT}}),p.map(t=>W.jsx("div",{className:"firefly",style:{left:t.left,top:t.top,width:t.size,height:t.size,animationDuration:t.duration,animationDelay:t.delay}},t.key)),e.map(t=>W.jsx("div",{className:"flora-particle",style:{left:t.left,width:t.size,height:t.size,backgroundColor:t.color,animationDuration:t.duration,animationDelay:t.delay}},t.key))]})},JT=`
    /* Fondo de estrellas parpadeantes */
    @keyframes twinkle {
        0%, 100% { opacity: 0.3; transform: scale(1); }
        50% { opacity: 1; transform: scale(1.2); }
    }

    /* Meteorito cruzando la pantalla */
    @keyframes shooting {
        0% { transform: translateX(0) translateY(0) rotate(315deg); opacity: 1; }
        70% { opacity: 1; }
        100% { transform: translateX(-100vw) translateY(100vh) rotate(315deg); opacity: 0; }
    }

    .star-static {
        position: absolute;
        background: white;
        border-radius: 50%;
        animation: twinkle infinite ease-in-out;
    }

    .shooting-star {
        position: absolute;
        top: 0;
        right: 0;
        width: 100px;
        height: 2px;
        background: linear-gradient(90deg, rgba(255,255,255,1), transparent);
        animation: shooting 4s linear infinite;
        opacity: 0;
    }
    
    /* Cabeza del meteorito */
    .shooting-star::before {
        content: '';
        position: absolute;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        width: 4px;
        height: 4px;
        background: #fff;
        border-radius: 50%;
        box-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px #4c1d95;
    }
`,t7=()=>{const p=Et.useMemo(()=>Array.from({length:50}).map((t,i)=>({key:`s-${i}`,left:`${Math.random()*100}vw`,top:`${Math.random()*100}vh`,size:`${Math.random()*2+1}px`,delay:`${Math.random()*5}s`,duration:`${Math.random()*3+2}s`})),[]),e=Et.useMemo(()=>Array.from({length:3}).map((t,i)=>({key:`m-${i}`,top:`${Math.random()*50}vh`,right:`${Math.random()*20-20}vw`,delay:`${Math.random()*10+2}s`,duration:`${Math.random()*2+3}s`})),[]);return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-screen",children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:JT}}),p.map(t=>W.jsx("div",{className:"star-static",style:{left:t.left,top:t.top,width:t.size,height:t.size,animationDelay:t.delay,animationDuration:t.duration}},t.key)),e.map(t=>W.jsx("div",{className:"shooting-star",style:{top:t.top,right:t.right,animationDelay:t.delay,animationDuration:t.duration}},t.key))]})},e7=`
    @keyframes float-up {
        0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
        10% { opacity: 0.8; }
        90% { opacity: 0.8; }
        100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
    }

    .gold-particle {
        position: absolute;
        background: radial-gradient(circle, #fcd34d 0%, #b45309 100%); /* Degradado dorado */
        border-radius: 50%;
        box-shadow: 0 0 5px #f59e0b;
        animation: float-up linear infinite;
    }
`,r7=()=>{const p=Et.useMemo(()=>Array.from({length:30}).map((e,t)=>({key:`gold-${t}`,left:`${Math.random()*100}vw`,size:`${Math.random()*4+2}px`,duration:`${Math.random()*15+10}s`,delay:`-${Math.random()*20}s`})),[]);return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:e7}}),p.map(e=>W.jsx("div",{className:"gold-particle",style:{left:e.left,width:e.size,height:e.size,animationDuration:e.duration,animationDelay:e.delay}},e.key))]})},n7=`
    @keyframes float-music {
        0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
        10% { opacity: 0.6; }
        50% { transform: translateY(50vh) translateX(20px) rotate(10deg); opacity: 0.8; }
        100% { transform: translateY(-10vh) translateX(-20px) rotate(-10deg); opacity: 0; }
    }

    .music-note {
        position: absolute;
        color: #d1c4e9; /* Lila suave de tu marca */
        text-shadow: 0 0 10px rgba(209, 196, 233, 0.5);
        font-family: 'Segoe UI Emoji', 'Noto Color Emoji', sans-serif;
        user-select: none;
        animation: float-music linear infinite;
    }
`,i7=()=>{const p=Et.useMemo(()=>{const e=["","","",""];return Array.from({length:15}).map((t,i)=>({key:`note-${i}`,symbol:e[Math.floor(Math.random()*e.length)],left:`${Math.random()*95}vw`,size:`${Math.random()*20+15}px`,duration:`${Math.random()*10+15}s`,delay:`-${Math.random()*20}s`,opacity:Math.random()*.4+.2}))},[]);return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden mix-blend-screen",children:[W.jsx("style",{dangerouslySetInnerHTML:{__html:n7}}),p.map(e=>W.jsx("div",{className:"music-note",style:{left:e.left,fontSize:e.size,animationDuration:e.duration,animationDelay:e.delay,opacity:e.opacity},children:e.symbol},e.key))]})},s7=()=>{const p=Et.useMemo(()=>Array.from({length:60}).map((e,t)=>({key:t,left:`${Math.random()*100}vw`,height:`${Math.random()*20+10}px`,duration:`${Math.random()*.5+.5}s`,delay:`${Math.random()*2}s`})),[]);return W.jsx("div",{className:"w-full h-full absolute top-0 left-0 overflow-hidden",children:p.map(e=>W.jsx("div",{className:"rain-drop",style:{left:e.left,height:e.height,"--duration":e.duration,"--delay":e.delay}},e.key))})},a7=()=>W.jsxs(W.Fragment,{children:[W.jsxs("div",{className:"spider-web",children:[W.jsx("div",{className:"line1"}),W.jsx("div",{className:"line2"})]}),W.jsxs("div",{className:"spider-web",style:{left:"auto",right:0,transform:"scaleX(-1)"},children:[W.jsx("div",{className:"line1"}),W.jsx("div",{className:"line2"})]})]}),o7=()=>{const p=Et.useRef(null),[e,t]=Et.useState(!1),i=()=>{p.current&&(e?p.current.pause():p.current.play().catch(c=>console.log("Audio play failed",c)),t(!e))};return W.jsxs("div",{className:"fixed top-4 right-4 z-50",children:[W.jsx("audio",{ref:p,loop:!0,src:"https://cdn.pixabay.com/download/audio/2022/05/27/audio_1808fbf07a.mp3?filename=lofi-study-112191.mp3"}),W.jsx("button",{onClick:i,className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-full backdrop-blur-md border border-white/20 transition-all shadow-lg group hover:scale-110 active:scale-95 duration-300",children:W.jsxs("div",{className:"relative w-10 h-10 flex items-center justify-center rounded-full overflow-hidden",children:[W.jsx("img",{src:"https://i.imgur.com/0YBh5gg.png",alt:"LofiDex Cup",className:`w-full h-full object-cover ${e?"animate-pulse":"opacity-80 grayscale"}`,onError:c=>{c.target.onerror=null,c.target.src="https://placehold.co/100x100?text="}}),!e&&W.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white font-bold text-xs bg-black/40 rounded-full",children:"OFF"})]})})]})},l7=()=>{const p=Et.useRef(null);return Et.useEffect(()=>{const e=p.current,t=e.getContext("2d");e.width=window.innerWidth,e.height=window.innerHeight;const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()*&^%",c=14,o=e.width/c,s=Array(Math.floor(o)).fill(1),a=setInterval(()=>{t.fillStyle="rgba(0, 0, 0, 0.05)",t.fillRect(0,0,e.width,e.height),t.fillStyle="#0F0",t.font=`${c}px monospace`;for(let u=0;u<s.length;u++){const m=i[Math.floor(Math.random()*i.length)];t.fillText(m,u*c,s[u]*c),s[u]*c>e.height&&Math.random()>.975&&(s[u]=0),s[u]++}},33),n=()=>{e.width=window.innerWidth,e.height=window.innerHeight};return window.addEventListener("resize",n),()=>{clearInterval(a),window.removeEventListener("resize",n)}},[]),W.jsx("canvas",{ref:p,className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none opacity-50"})},u7=()=>W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[[...Array(5)].map((p,e)=>W.jsx("svg",{viewBox:"0 0 100 125",className:"fixed bottom-[-150px] fill-white/10 drop-shadow-[0_0_15px_rgba(200,220,255,0.6)] animate-floatGhost",style:{left:`${Math.random()*80+10}vw`,width:`${Math.random()*50+50}px`,animationDuration:`${Math.random()*15+10}s`,animationDelay:`${Math.random()*10}s`},children:W.jsx("path",{d:"M10 115 C 10 115, 10 95, 20 95 C 30 95, 30 115, 30 115 C 30 115, 30 95, 40 95 C 50 95, 50 115, 50 115 C 50 115, 50 95, 60 95 C 70 95, 70 115, 70 115 C 70 115, 70 95, 80 95 C 90 95, 90 115, 90 115 L 90 60 C 90 20, 50 10, 50 10 C 50 10, 10 20, 10 60 Z M 30 60 C 35 60, 35 50, 30 50 C 25 50, 25 60, 30 60 Z M 70 60 C 75 60, 75 50, 70 50 C 65 50, 65 60, 70 60 Z"})},e)),W.jsx("style",{children:`
            @keyframes floatGhost { 
                0% { transform: translateY(0) scale(1); opacity: 0; } 
                20% { opacity: 0.6; } 
                100% { transform: translateY(-120vh) scale(1.1); opacity: 0; } 
            } 
            .animate-floatGhost { 
                animation-name: floatGhost; 
                animation-timing-function: ease-in-out; 
                animation-iteration-count: infinite; 
            }
        `})]}),c7=()=>W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden font-sans",children:[[...Array(30)].map((p,e)=>W.jsx("div",{className:"absolute rounded-full bg-pink-400 animate-pulse",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,width:`${Math.random()*4+1}px`,height:`${Math.random()*4+1}px`,opacity:Math.random()*.6+.2,animationDuration:`${Math.random()*3+2}s`,boxShadow:"0 0 6px 2px rgba(244, 114, 182, 0.4)"}},`dust-${e}`)),[...Array(15)].map((p,e)=>W.jsx("div",{className:"absolute text-pink-300 opacity-40 animate-floatUp",style:{top:`${Math.random()*100+10}%`,left:`${Math.random()*100}%`,fontSize:`${Math.random()*10+10}px`,animationDuration:`${Math.random()*10+10}s`,animationDelay:`${Math.random()*5}s`,textShadow:"0 0 5px rgba(236, 72, 153, 0.5)"},children:["","",""][Math.floor(Math.random()*3)]},`heart-${e}`)),W.jsx("style",{children:`
                @keyframes floatUp {
                    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
                    20% { opacity: 0.6; }
                    80% { opacity: 0.6; }
                    100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
                }
                .animate-floatUp {
                    animation-name: floatUp;
                    animation-timing-function: linear;
                    animation-iteration-count: infinite;
                }
             `})]}),h7=()=>{const p=["#f44336","#4caf50","#2196f3","#ffeb3b"];return W.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:[...Array(40)].map((e,t)=>W.jsx("div",{className:"absolute rounded-full animate-pulse",style:{top:`${Math.random()*100}vh`,left:`${Math.random()*100}vw`,width:"10px",height:"10px",backgroundColor:p[t%p.length],boxShadow:`0 0 15px 5px ${p[t%p.length]}66`,animationDuration:"2s",animationDelay:`${Math.random()}s`}},t))})},f7=()=>W.jsxs("div",{className:"fixed inset-0 z-[-1] overflow-hidden bg-[#050a14]",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-slate-900 to-[#2a0a3b]"}),W.jsx("div",{className:"absolute top-[20%] left-1/2 -translate-x-1/2 w-[50vh] h-[50vh] rounded-full bg-gradient-to-t from-fuchsia-600 to-yellow-400 blur-[60px] opacity-60"}),W.jsx("div",{className:"cyber-grid"}),W.jsx("div",{className:"city-skyline"}),W.jsx("style",{children:`
                .cyber-grid {
                    position: absolute;
                    width: 200%;
                    height: 100%;
                    bottom: -50%;
                    left: -50%;
                    background-image: 
                        linear-gradient(rgba(6, 182, 212, 0.5) 1px, transparent 1px),
                        linear-gradient(90deg, rgba(6, 182, 212, 0.5) 1px, transparent 1px);
                    background-size: 50px 50px;
                    transform: perspective(300px) rotateX(60deg);
                    animation: gridMove 4s linear infinite;
                    box-shadow: 0 0 150px rgba(6, 182, 212, 0.3);
                }

                .city-skyline {
                    position: absolute;
                    bottom: 0;
                    width: 100%;
                    height: 25%;
                    background: repeating-linear-gradient(
                        90deg,
                        #000 0px,
                        #000 15px,
                        transparent 15px,
                        transparent 25px
                    );
                    opacity: 0.8;
                    filter: drop-shadow(0 0 15px #d946ef);
                    z-index: -1;
                }

                @keyframes gridMove {
                    0% { transform: perspective(300px) rotateX(60deg) translateY(0); }
                    100% { transform: perspective(300px) rotateX(60deg) translateY(50px); }
                }
            `})]}),d7=()=>W.jsxs("div",{className:"fixed inset-0 z-[-1] overflow-hidden bg-pink-50",children:[W.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-pink-200 via-orange-100 to-purple-200 animate-gradient-xy opacity-80"}),[...Array(15)].map((p,e)=>W.jsx("div",{className:"absolute text-pink-300/40 animate-float-neko",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,fontSize:`${Math.random()*3+2}rem`,animationDuration:`${Math.random()*10+10}s`,animationDelay:`${Math.random()*5}s`,transform:`rotate(${Math.random()*45}deg)`},children:""},e)),W.jsx("style",{children:`
                @keyframes gradient-xy {
                    0%, 100% { background-position: 0% 50%; }
                    50% { background-position: 100% 50%; }
                }
                .animate-gradient-xy {
                    background-size: 200% 200%;
                    animation: gradient-xy 15s ease infinite;
                }
                @keyframes float-neko {
                    0% { transform: translateY(0) rotate(0deg); opacity: 0; }
                    50% { opacity: 0.6; }
                    100% { transform: translateY(-100px) rotate(20deg); opacity: 0; }
                }
                .animate-float-neko {
                    animation-name: float-neko;
                    animation-timing-function: ease-in-out;
                    animation-iteration-count: infinite;
                }
            `})]}),p7=()=>{const p=["","","","","","","",""];return W.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden font-sans",children:[[...Array(35)].map((e,t)=>W.jsx("div",{className:"absolute animate-fallTopToBottom opacity-70",style:{left:Math.random()*100+"%",top:"-10%",fontSize:Math.random()*1.5+1+"rem",animationDuration:Math.random()*5+4+"s",animationDelay:Math.random()*5+"s",transform:`rotate(${Math.random()*360}deg)`},children:p[Math.floor(Math.random()*p.length)]},t)),W.jsx("style",{children:"@keyframes fallTopToBottom { 0% { transform: translateY(0); opacity: 0; } 10% { opacity: 0.8; } 100% { transform: translateY(110vh); opacity: 0; } } .animate-fallTopToBottom { animation-name: fallTopToBottom; animation-timing-function: linear; animation-iteration-count: infinite; }"})]})},m7=({themeClasses:p,activeEffect:e})=>{const t={lofi_notes:i7,cozy_lights:KT,mystic_fog:QT,forest:cv,forest_flora:cv,golden_dust:r7,shooting_stars:t7,snow_effect:XT,matrix_effect:l7,ghost:u7,valentine_hearts:c7,lights:h7,rain:s7,neon_grid:f7,neko_pattern:d7,mickey_confetti:p7};Et.useEffect(()=>{const c=document.body;c.style.background="",c.style.backgroundImage="",c.style.cursor="";const o=document.getElementById("theme-custom-css");if(o&&o.remove(),c.className=`${p.bodyBg||"bg-gray-900"} min-h-screen transition-colors duration-500`,p.rawBg&&(c.style.background=p.rawBg,c.style.backgroundAttachment="fixed",c.style.backgroundSize="cover"),p.customCss){const s=document.createElement("style");s.id="theme-custom-css",s.innerHTML=`body { ${p.customCss} }`,document.head.appendChild(s)}else if(p.name==="neko"){const s=`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="%23ff69b4" stroke="white" stroke-width="1.5"><path d="M12 2C10.9 2 10 2.9 10 4C10 5.1 10.9 6 12 6C13.1 6 14 5.1 14 4C14 2.9 13.1 2 12 2M7 5C5.9 5 5 5.9 5 7C5 8.1 5.9 9 7 9C8.1 9 9 8.1 9 7C9 5.9 8.1 5 7 5M17 5C15.9 5 15 5.9 15 7C15 8.1 15.9 9 17 9C18.1 9 19 8.1 19 7C19 5.9 18.1 5 17 5M12 8C9.5 8 7.3 9.3 6.1 11.4C5.5 12.4 6.2 13.7 7.3 13.9L8.5 14.1C9.6 14.3 10.7 14.3 11.8 14.1L16.5 13.2C17.7 13 18.5 11.9 18.1 10.8C17.3 9.2 14.9 8 12 8Z"/></svg>') 16 16, auto`;c.style.cursor=s}},[p]);const i=()=>{const c=[...p.activeEffects||[]];return e&&!c.includes(e)&&c.push(e),W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.05] z-0 mix-blend-overlay",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/stardust.png")'}}),c.map(o=>{const s=t[o];return s?W.jsx(s,{},o):null})]})};return W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"fixed inset-0 pointer-events-none -z-10 mix-blend-overlay opacity-[0.05]",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/stardust.png")'}}),W.jsx("div",{className:"fixed inset-0 pointer-events-none z-0",children:i()}),p.name==="lofi"&&W.jsx(o7,{})]})},g7=()=>{const{user:p,loading:e}=tT(),[t,i]=Et.useState(null),[c,o]=Et.useState(!1);if(Et.useEffect(()=>{p&&(async()=>{try{const a=gr(De,"users",p.uid),n=await Eu(a);n.exists()?i(n.data()):i({role:"agent",team:"default"})}catch(a){console.error("Error fetching user role",a)}})()},[p]),e)return W.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:"Loading Nexus OS..."});if(!p)return W.jsx(xT,{});const s=t&&(t.role==="admin"||t.role==="team_leader");return s&&c?W.jsx(_T,{onLogout:()=>o(!1),currentUserTeam:t.team||"default",isAdmin:t.role==="admin"}):W.jsx(b7,{user:p,loading:e,isLeader:s,onOpenDashboard:()=>o(!0),userProfile:t})},b7=({user:p,loading:e,isLeader:t,onOpenDashboard:i,userProfile:c})=>{const o=p,{balance:s,addCoins:h,spendCoins:a}=zw(p),[n,u]=ms("config","hourlyRate","",o?p:null),[m,f]=ms("config","weeklyGoal",10,o?p:null),[d,b]=ms("data","inventory",["default"],o?p:null);ms("data","lastLoginBonus",null,o?p:null);const[v,g]=ms("data","lastWeeklyBonus","",o?p:null),[w,_]=ms("config","pet",null,o?p:null),[A,M]=ms("config","effect",null,o?p:null),[O,q]=ms("config","border",null,o?p:null),[F,j]=Et.useState("tasks"),[V,G]=Et.useState(""),[X,H]=Et.useState(nl()),[R,P]=Et.useState(nl()),[k,x]=Et.useState([]),[S,T]=Et.useState(null),[E,N]=Et.useState(!1),[I,B]=Et.useState(!1),[K,Z]=Et.useState(!1),[nt,$]=Et.useState(!1),[tt,U]=Et.useState(!1),[L,Q]=Et.useState(!1),[it,ut]=Et.useState(null),[st,lt]=Et.useState([]),[bt,yt]=Et.useState([]),[at,pt]=Et.useState({}),[dt,vt]=Et.useState("monday"),xt=nT(eT,k,T,S),{strategy:wt,message:jt,isUnlocked:It,weeklyHoursWorked:Ht}=xt,ee=rT(o?p:null),{tasks:Qt,addTask:Kt,addMultipleTasks:be,deleteTask:fe,deleteAllTasks:de,toggleTimer:ge,updateTaskDetails:Zt,resetTaskTimer:Gt,stopAllTimers:te,statusMessage:re,resumeStoppedTimers:oe,clearStatusMessage:Oe,syncTasksTime:We,errorMessage:he,setErrorMessage:Ve,distributeTasksTime:ve,sortTasksByShop:we}=ee,{handleGenerate:ze}=aT(p,Qt,te,h,c),Ne=async(Lt,Yt={})=>{try{await Wa(nn(De,"app_analytics"),{eventName:Lt,uid:p.uid,timestamp:Date.now(),data:Yt})}catch(ue){console.error("Log error",ue)}};Et.useEffect(()=>{if(!p)return;const Lt=qi(Ei(nn(De,"news_ticker"),Tu("createdAt","desc")),se=>lt(se.docs.map(ke=>({id:ke.id,...ke.data()})))),Yt=qi(Ei(nn(De,"training_modules"),Fi("active","==",!0)),se=>yt(se.docs.map(ke=>({id:ke.id,...ke.data()})))),ue=qi(gr(De,"users",p.uid),se=>{se.exists()&&(pt(se.data().quizProgress||{}),se.data().currentSkin!==wt.name&&Ti(gr(De,"users",p.uid),{currentSkin:wt.name}))});return()=>{Lt(),Yt(),ue()}},[p,wt.name,tt]);const _e=Et.useMemo(()=>{if(bt.length===0)return{isGraduated:!1,isRusted:!1};let Lt=0,Yt=!1;return bt.forEach(ue=>{const se=at[ue.id];se&&se.passed&&(Lt++,se.version<ue.version&&(Yt=!0))}),{isGraduated:Lt===bt.length,isRusted:Yt}},[bt,at]);Et.useEffect(()=>{const Lt="min-h-screen transition-colors duration-500",Yt=`url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="%23ff69b4" stroke="%23ffffff" stroke-width="1.5"><path d="M12 2C10.9 2 10 2.9 10 4C10 5.1 10.9 6 12 6C13.1 6 14 5.1 14 4C14 2.9 13.1 2 12 2M7 5C5.9 5 5 5.9 5 7C5 8.1 5.9 9 7 9C8.1 9 9 8.1 9 7C9 5.9 8.1 5 7 5M17 5C15.9 5 15 5.9 15 7C15 8.1 15.9 9 17 9C18.1 9 19 8.1 19 7C19 5.9 18.1 5 17 5M12 8C9.5 8 7.3 9.3 6.1 11.4C5.5 12.4 6.2 13.7 7.3 13.9L8.5 14.1C9.6 14.3 10.7 14.3 11.8 14.1L16.5 13.2C17.7 13 18.5 11.9 18.1 10.8C17.3 9.2 14.9 8 12 8Z"/></svg>') 16 16, auto`;wt.rawBg?(document.body.className=Lt,document.body.style.background=wt.rawBg,document.body.style.backgroundAttachment="fixed",document.body.style.backgroundSize="cover"):(document.body.className=`${wt.bodyBg||"bg-gray-900"} ${Lt}`,document.body.style.background=""),wt.name==="neko"?document.body.style.cursor=Yt:document.body.style.cursor="auto"},[wt]);const He=async Lt=>{const Yt=it.id,ue=it.version||1;try{await Ti(gr(De,"users",p.uid),{[`quizProgress.${Yt}`]:{passed:!0,version:ue,completedAt:Date.now()}}),h(Lt),alert(` FELICIDADES!
Has completado el mdulo.`),Ne("QUIZ_COMPLETE",{quizId:it.id,reward:Lt}),ut(null)}catch(se){console.error(se)}},qe=()=>{const Lt=wt?.name||"default";ze(R,Lt,(Yt,ue)=>{G(Yt);const se={id:R,content:Yt};x(ke=>[se,...ke.filter(br=>br.id!==R)]),N(!1)})},Se=()=>{const Lt=Kp();if(v===Lt){alert("Ya has cobrado!");return}h(100),g(Lt),alert(` FELICIDADES!
Meta semanal cumplida. +100 Coins.`)},Je=v===Kp(),Ke=()=>$(!1),Ce=Lt=>{if(a(Lt.price)){const Yt=[...d||[],Lt.id];b(Yt),Ne("SHOP_BUY",{item:Lt.id}),alert("Compra realizada!")}else alert("No tienes suficientes Lofi Coins.")},mt=Et.useRef(null),Tt=Et.useRef(null),Dt=Lt=>{switch(mt.current&&(clearTimeout(mt.current),mt.current=null,Tt.current=null),Lt.category){case"theme":T(Lt.id);break;case"pet":_(w===Lt.id?null:Lt.id);break;case"effect":M(A===Lt.id?null:Lt.id);break;case"border":q(O===Lt.id?null:Lt.id);break;default:T(Lt.id)}},Jt=Lt=>{let Yt=Lt.category,ue,se;if(Yt==="theme")ue=S,se=T;else if(Yt==="border")ue=O,se=q;else if(Yt==="effect")ue=A,se=M;else return;mt.current?Tt.current&&Tt.current.category!==Yt&&(Tt.current.setter(Tt.current.value),Tt.current={category:Yt,value:ue,setter:se}):Tt.current={category:Yt,value:ue,setter:se},mt.current&&clearTimeout(mt.current),se(Lt.id),mt.current=setTimeout(()=>{Tt.current&&Tt.current.category===Yt&&se(Tt.current.value),mt.current=null,Tt.current=null},7e3)},pe=()=>{if(!O)return"";const Lt=xn[O];return Lt?Lt.borderClass:""};Et.useEffect(()=>{if(O&&xn[O]?.customCss){const Lt=document.createElement("style");return Lt.id="border-custom-css",Lt.innerHTML=xn[O].customCss,document.head.appendChild(Lt),()=>{const Yt=document.getElementById("border-custom-css");Yt&&Yt.remove()}}},[O]);const Xt=wt.name==="halloween"?"glow-card":"",le=Et.useMemo(()=>{const Lt=k.find(Yt=>Yt.id===X);return Lt?Lt.content:null},[k,X]);return W.jsxs(W.Fragment,{children:[W.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-[0.05] z-0 mix-blend-overlay",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/stardust.png")'}}),W.jsx(IT,{news:st}),_e.isGraduated&&W.jsxs("div",{className:"fixed top-12 left-4 z-40 flex flex-col items-center animate-fadeIn",children:[W.jsx("div",{className:`text-4xl ${_e.isRusted?"grad-badge-rust":"grad-badge-glow"}`,title:_e.isRusted?"Certificacin Vencida":"Agente Certificado",children:""}),_e.isRusted&&W.jsx("span",{className:"text-[9px] bg-red-600 text-white px-1 rounded animate-bounce",children:"UPDATE"})]}),W.jsx(jT,{isLeader:t,onOpenDashboard:i,onOpenIdeas:()=>U(!0),onOpenAvailability:()=>Q(!0),setIdeaType:vt}),W.jsx(FT,{isOpen:tt,onClose:()=>U(!1),user:p,userProfile:c,initialType:dt}),W.jsx(YT,{isOpen:L,onClose:()=>Q(!1),user:p,userProfile:c,addCoins:h,logEvent:Ne}),W.jsx($w,{user:p}),it&&W.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/90 backdrop-blur-md p-4",children:W.jsx(GT,{isOpen:!0,quiz:it,onClose:()=>ut(null),onComplete:He,user:p})}),W.jsx(m7,{themeClasses:wt,activeEffect:A}),W.jsx(ET,{message:re,resumeAction:oe,dismissAction:Oe}),W.jsx(ST,{coins:s||0,onOpenShop:()=>$(!0)}),W.jsx(NT,{onClick:()=>B(!0)}),W.jsx(OT,{isOpen:E,onClose:()=>N(!1),onGenerate:qe,tasks:Qt,syncTasksTime:We,distributeTasksTime:ve,themeClasses:wt,selectedReportDate:R,setSelectedReportDate:P,pastReports:k}),W.jsx(UT,{isOpen:I,onClose:()=>B(!1),pastReports:k,hourlyRate:n,setHourlyRate:u,themeClasses:wt}),W.jsx($T,{isOpen:K,onClose:()=>Z(!1),onConfirm:de,themeClasses:wt}),W.jsx(qT,{isOpen:nt,onClose:Ke,userCoins:s,ownedItems:d,currentTheme:wt.name,activePet:w,activeBorder:O,activeEffect:A,onBuy:Ce,onEquip:Dt,onPreview:Jt}),W.jsx("div",{className:"app-container relative z-10 flex flex-col items-center justify-center py-10 mt-8",children:W.jsx("div",{className:"relative w-11/12 max-w-xl mt-8",children:W.jsxs("div",{className:`w-full rounded-2xl shadow-2xl p-4 sm:p-8 pt-8 sm:pt-12 transition-all duration-500 ${wt.cardBg} min-h-[85vh] relative ${Xt} ${pe()} app-card`,children:[wt.activeEffects&&wt.activeEffects.includes("spiderweb")&&W.jsx(a7,{}),W.jsxs("div",{className:"relative z-20 space-y-6 h-full flex flex-col",children:[W.jsx(TT,{themeClasses:wt,celebrationMessage:jt}),bt.length>0&&W.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2",children:bt.map(Lt=>{const Yt=at[Lt.id],ue=Yt?.passed,se=ue&&Yt.version<Lt.version;return ue&&!se?null:W.jsxs("button",{onClick:()=>ut(Lt),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap border ${se?"bg-red-900/30 border-red-500 text-red-300":"bg-indigo-900/30 border-indigo-500 text-indigo-300"}`,children:[W.jsx("span",{children:""})," ",se?"UPDATE:":"NUEVO:"," ",Lt.title," (+",Lt.reward,")"]},Lt.id)})}),W.jsx(MT,{isUnlocked:It,weeklyHours:Ht,targetHours:m,setTargetHours:f,onClaimBonus:Se,bonusClaimed:Je}),W.jsxs("div",{className:"flex justify-center gap-4 border-b border-white/10 pb-2 mb-2",children:[W.jsx("button",{onClick:()=>j("tasks"),className:`px-4 py-2 rounded-lg font-bold text-sm ${F==="tasks"?"bg-white/20 text-white":"text-slate-400"}`,children:" TAREAS"}),W.jsx("button",{onClick:()=>j("history"),className:`px-4 py-2 rounded-lg font-bold text-sm ${F==="history"?"bg-white/20 text-white":"text-slate-400"}`,children:" HISTORIAL"})]}),F==="tasks"&&W.jsxs("div",{className:"flex-1 flex flex-col gap-4 animate-fadeIn",children:[W.jsx(AT,{addTask:Kt,addMultipleTasks:be,errorMessage:he,setErrorMessage:Ve,themeClasses:wt}),Qt.length>0&&W.jsxs("div",{className:"flex items-center justify-between gap-3 px-1 mb-1 animate-fadeIn",children:[W.jsxs("button",{onClick:we,className:"px-4 py-2 bg-slate-700/50 hover:bg-slate-600 text-slate-300 text-xs font-bold uppercase tracking-wider rounded-full border border-slate-600 hover:border-slate-400 transition-all shadow-sm active:scale-95 flex items-center gap-2",children:[W.jsx("span",{children:""})," Ordenar por Tienda"]}),W.jsxs("button",{onClick:()=>Z(!0),className:"px-4 py-2 bg-red-900/30 hover:bg-red-800 text-red-400 hover:text-red-100 text-xs font-bold uppercase tracking-wider rounded-full border border-red-900 hover:border-red-500 transition-all shadow-sm active:scale-95 flex items-center gap-2",children:[W.jsx("span",{children:""})," Limpiar Todo"]})]}),W.jsx("div",{className:"flex-1 overflow-y-auto task-scroll pr-2 space-y-3 min-h-[50vh] max-h-[65vh] border border-white/5 rounded-xl p-2 bg-black/10",children:Qt.length>0?Qt.map(Lt=>W.jsx(CT,{task:Lt,toggleTimer:ge,deleteTask:fe,updateTaskDetails:Zt,themeClasses:wt,resetTaskTimer:Gt,celebrationThemeName:wt.name},Lt.id)):W.jsx("p",{className:`text-center italic mt-10 ${wt.secondaryText}`,children:"No hay tareas activas."})}),W.jsxs("div",{className:"flex flex-col items-center w-full bg-black/20 p-4 rounded-xl border border-white/5 mt-auto",children:[W.jsx("button",{type:"button",onClick:()=>N(!0),className:`px-6 py-3 rounded-full font-semibold transition duration-300 shadow-lg w-full sm:w-auto ${wt.buttonAction}`,children:"Generar E.O.D.R."}),W.jsx(av,{content:V,themeClasses:wt,placeholder:"El reporte aparecer aqu..."})]})]}),F==="history"&&W.jsx("div",{className:"flex-1 flex flex-col gap-6 animate-fadeIn",children:W.jsxs("div",{className:"space-y-4",children:[W.jsx("h2",{className:`text-2xl font-bold text-center ${wt.primaryText}`,children:"Calendario de Reportes"}),W.jsx(kT,{reports:k,selectedDate:X,onSelectDate:H,themeClasses:wt}),W.jsxs("h3",{className:`font-bold mb-2 text-center ${wt.accentText}`,children:["Reporte del: ",X.split("-").reverse().join("/")]}),W.jsx(av,{content:le,themeClasses:wt,placeholder:"No hay reporte guardado para este da."})]})})]})]})})})]})};jx.createRoot(document.getElementById("root")).render(W.jsx(Et.StrictMode,{children:W.jsx(g7,{})}));
