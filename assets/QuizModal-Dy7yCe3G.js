import{r as d,u as C,j as e}from"./index-BHpmFkZA.js";const R=({quiz:t,onClose:f,onComplete:m,user:w})=>{const[a,N]=d.useState(0),[o,c]=d.useState(null),[i,g]=d.useState(!1),[u,b]=d.useState(!1),{addCoins:p}=C(w);if(!t||!t.questions||t.questions.length===0)return null;const l=t.questions[a],x=()=>l.correct!==void 0?l.correct:l.correctAnswer,j=s=>{i||c(s)},v=()=>{const s=x(),n=Number(o),r=Number(s);b(n===r),g(!0)},y=()=>{if(!u){alert("‚ùå Respuesta incorrecta. ¬°Int√©ntalo de nuevo!"),g(!1),c(null);return}if(a<t.questions.length-1)N(s=>s+1),c(null),g(!1),b(!1);else{const s=t.reward||50;p(100),m(s)}};return e.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center bg-black/90 backdrop-blur-md p-4 animate-fadeIn",children:e.jsxs("div",{className:"bg-[#0f111a] border border-indigo-500/50 rounded-2xl w-full max-w-lg shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"p-4 border-b border-indigo-500/30 bg-indigo-900/20 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-indigo-300",children:t.title}),e.jsxs("span",{className:"text-xs text-indigo-400",children:["Pregunta ",a+1," de ",t.questions.length]})]}),e.jsx("button",{onClick:f,className:"text-slate-400 hover:text-white",children:"‚úï"})]}),e.jsxs("div",{className:"p-6 overflow-y-auto",children:[e.jsx("p",{className:"text-white text-lg font-medium mb-6",children:l.question}),e.jsx("div",{className:"space-y-3",children:l.options.map((s,n)=>{let r="w-full p-4 rounded-xl border text-left transition-all font-medium ";if(i){const h=Number(x());n===h?r+="bg-green-900/50 border-green-500 text-green-300 ":n===o?r+="bg-red-900/50 border-red-500 text-red-300 ":r+="bg-gray-800/50 border-gray-700 text-gray-500 opacity-50 "}else o===n?r+="bg-indigo-600 border-indigo-400 text-white shadow-lg scale-[1.02] ":r+="bg-gray-800/50 border-gray-700 text-gray-300 hover:bg-gray-700 hover:border-gray-500 ";return e.jsx("button",{onClick:()=>j(n),className:r,disabled:i,children:s},n)})})]}),e.jsx("div",{className:"p-4 border-t border-white/10 bg-black/20",children:i?e.jsx("button",{onClick:y,className:`w-full py-3 rounded-xl font-bold transition-all ${u?"bg-green-600 hover:bg-green-500 text-white shadow-lg shadow-green-900/50":"bg-red-600 hover:bg-red-500 text-white shadow-lg"}`,children:u?a<t.questions.length-1?"SIGUIENTE PREGUNTA ‚ûú":"¬°RECLAMAR PREMIO! (100 Lofi Coins) üéâ":"INTENTAR DE NUEVO"}):e.jsx("button",{onClick:v,disabled:o===null,className:`w-full py-3 rounded-xl font-bold transition-all ${o===null?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-500 text-white shadow-lg shadow-indigo-900/50"}`,children:"CONFIRMAR RESPUESTA"})})]})})};export{R as default};
